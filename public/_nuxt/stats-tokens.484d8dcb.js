import{_ as Ne}from"./back.c88bb64f.js";import{a as Se,F as Re,v as K,s as Be,G as Oe,r as a,x as je,w as te,H as Ee,i as Ue,Y as ne,k as Fe,a0 as ae,b as We,o as c,e as p,f as t,l as X,y as T,t as d,q as U,a1 as re,a2 as ue,h as qe,aB as Ge,m as de,p as Me,j as Ye,B as ze}from"./entry.68f44eae.js";import{_ as ve}from"./icon_on_stats.b61a8e0c.js";import{p as Je}from"./precision.1cd464a0.js";const Ke=Se({setup(){const o=Re(),u=K(()=>o),ie=K(()=>u.value.newTokenObj||{}),Q=Be(),q=K(()=>Q),A=Oe();let Z=a("big");const _=a(1),f=a(1);let l=a(!1);const D=()=>{Q.getStatsData()};je(()=>{Q.getStatsData();const e=document.body.clientWidth;e<750?l.value=!1:l.value=!0,window.onresize=()=>{e<750?l.value=!1:l.value=!0},l.value,Y(_.value,10),z(f.value,10)});let h=a([]);const F=K(()=>q.value.topPoolsList),L=e=>(s,r)=>{let v=s[e],n=r[e];return v-n},i=e=>(s,r)=>{let v=s[e];return r[e]-v},k=a(!1),H=a(!1),I=a(!1),P=a(!1),C=a(!0),N=a(!1),S=a(!1),R=a(!1),b=a(!1),w=a(!1),$=a(!1),g=a(!1),B=a(!1),O=a(!1),j=a(!1),V=a(!0),G=a(!1),x=a("TVL"),ee=a(["Volume (24H)","Volume (7D)","APR"]),M=a(!1),se=a("TVL"),oe=a(["Price","Volume (24H)","Price Change"]),ce=e=>{const s=F;if(e=="tvl_in_usd"?(C.value?(k.value=!k.value,s.value.sort(k.value?L(e):i(e))):s.value.sort(i(e)),H.value=!1,I.value=!1,P.value=!1,C.value=!0,N.value=!1,S.value=!1,R.value=!1):e=="vol_in_usd_24h"?(N.value?(H.value=!H.value,s.value.sort(H.value?L(e):i(e))):s.value.sort(i(e)),k.value=!1,I.value=!1,P.value=!1,C.value=!1,N.value=!0,S.value=!1,R.value=!1):e=="vol_in_usd_7_day"?(S.value?(I.value=!I.value,s.value.sort(I.value?L(e):i(e))):s.value.sort(i(e)),k.value=!1,H.value=!1,P.value=!1,C.value=!1,N.value=!1,S.value=!0,R.value=!1):e=="aprNum"&&(R.value?(P.value=!P.value,s.value.sort(P.value?L(e):i(e))):s.value.sort(i(e)),k.value=!1,H.value=!1,I.value=!1,C.value=!1,N.value=!1,S.value=!1,R.value=!0),s.value.length<10)h.value=s.value.slice(0,10);else{const r=_.value*10;h.value=s.value.slice(r-10,r)}},pe=e=>{const s=W;if(e=="price"?(B.value?(b.value=!b.value,s.value.sort(b.value?L(e):i(e))):s.value.sort(i(e)),w.value=!1,$.value=!1,g.value=!1,B.value=!0,O.value=!1,j.value=!1,V.value=!1):e=="vol_in_usd_24h"?(j.value?($.value=!$.value,s.value.sort($.value?L(e):i(e))):s.value.sort(i(e)),b.value=!1,w.value=!1,g.value=!1,B.value=!1,O.value=!1,j.value=!0,V.value=!1):e=="tvl_in_usd"?(V.value?(g.value=!g.value,s.value.sort(g.value?L(e):i(e))):s.value.sort(i(e)),b.value=!1,w.value=!1,$.value=!1,B.value=!1,O.value=!1,j.value=!1,V.value=!0):e=="priceHour"&&(O.value?(w.value=!w.value,s.value.sort(w.value?L(e):i(e))):s.value.sort(i(e)),b.value=!1,$.value=!1,g.value=!1,B.value=!1,O.value=!0,j.value=!1,V.value=!1),s.value.length<10)y.value=s.value.slice(0,10);else{const r=f.value*10;y.value=s.value.slice(r-10,r)}},he=e=>{e=="label"?(M.value=!M.value,G.value=!1):e=="select"?(G.value=!G.value,M.value=!1):(G.value=!1,M.value=!1)},_e=e=>{const s=[];s.push(x.value),ee.value.forEach((r,v)=>{r!=e&&s.push(r)}),ee.value=s,x.value=e,e=="TVL"?h.value.sort(i("tvl_in_usd")):e=="Volume (24H)"?h.value.sort(i("vol_in_usd_24h")):e=="Volume (7D)"?h.value.sort(i("vol_in_usd_7_day")):e=="APR"&&h.value.sort(i("aprNum"))},fe=e=>{const s=[];s.push(se.value),oe.value.forEach((r,v)=>{r!=e&&s.push(r)}),oe.value=s,se.value=e,e=="TVL"?y.value.sort(i("tvl_in_usd")):e=="Volume (24H)"?y.value.sort(i("vol_in_usd_24h")):e=="Price"?y.value.sort(i("price")):e=="Price Change"&&y.value.sort(i("priceHour"))};te(F,()=>{l.value,Y(_.value,10)});const Y=(e,s)=>{_.value=e;const r=s*e-s;let v=s*e;v=v>F.value.length?F.value.length:v;const n=F.value;if(n.length>0){C.value&&!k.value?n.sort(ke):C.value&&k.value?n.sort(Le):N.value?H.value?n.sort(He):n.sort(ge):S.value?I.value?n.sort(Ie):n.sort(Te):R.value&&(P.value?n.sort(Pe):n.sort(me));const E=n.filter((le,J)=>J>=r&&J<v);h.value=E}return n},ke=(e,s)=>s.tvl_in_usd-e.tvl_in_usd,ge=(e,s)=>s.vol_in_usd_24h-e.vol_in_usd_24h,Te=(e,s)=>s.vol_in_usd_7_day-e.vol_in_usd_7_day,me=(e,s)=>s.aprNum-e.aprNum,Le=(e,s)=>e.tvl_in_usd-s.tvl_in_usd,He=(e,s)=>e.vol_in_usd_24h-s.vol_in_usd_24h,Ie=(e,s)=>e.vol_in_usd_7_day-s.vol_in_usd_7_day,Pe=(e,s)=>e.aprNum-s.aprNum;let y=a([]);const W=K(()=>{const e=q.value.topTokensList,s=[];for(let r=0;r<e.length;r++){const v=e[r];s.push({...v,priceHour:v?Number(v.price_rate_24h.substring(0,v.price_rate_24h.length-1)):"0"})}return s});te(W,()=>{l.value,z(f.value,10)});const z=(e,s)=>{f.value=e;const r=s*e-s;let v=s*e;v=v>W.value.length?W.value.length:v;const n=W.value;if(n.length>0){V.value&&!g.value?n.sort(Ce):V.value&&g.value?n.sort(Ve):B.value?b.value?n.sort(ye):n.sort(be):O.value?w.value?n.sort(Ae):n.sort(we):j.value&&($.value?n.sort(De):n.sort($e));const E=n.filter((le,J)=>J>=r&&J<v);y.value=E}return n},Ce=(e,s)=>s.tvl_in_usd-e.tvl_in_usd,be=(e,s)=>s.price-e.price,we=(e,s)=>s.priceHour-e.priceHour,$e=(e,s)=>s.vol_in_usd_24h-e.vol_in_usd_24h,Ve=(e,s)=>e.tvl_in_usd-s.tvl_in_usd,ye=(e,s)=>e.price-s.price,Ae=(e,s)=>e.priceHour-s.priceHour,De=(e,s)=>e.vol_in_usd_24h-s.vol_in_usd_24h;return te(()=>q.value.chainName,e=>{e=="Sui"&&A.push("/swap")},{immediate:!0}),{getRewarderInfo:e=>{const s=e.swap_account;return u.value.addressLpTokens&&u.value.addressLpTokens[s]&&u.value.addressLpTokens[s].rewarder_infos},addCommom:Ee,store:q,importIcon:Ue,topPoolsList:F,addressTokens:ie,showEcharts:Z,currentPools:_,onChangePools:Y,currentTopPoolsList:h,onChangeTokens:z,currentTokens:f,currentTopTokensList:y,topTokensList:W,router:A,isPc:l,getAprTotal:(e,s)=>e&&s?Fe(Je.plus(ae(e),ae(s)),2)+"%":e,getRewarderApr:e=>{let s=0;return e&&e.forEach(r=>{s+=ae(String(r))}),String(s)},toPoolsList:()=>{A&&A.push("/stats-pools")},toTokensList:()=>{A&&A.push("/stats-tokens")},changePoolsList:ce,changeTokensList:pe,tvlImprint:k,volHImprint:H,volDImprint:I,aprImprint:P,tokensPriceImprint:b,tokensPriceHImprint:w,tokensVolHImprint:$,tokensTvlImprint:g,labelToken:M,select:G,selectValue:x,selectList:ee,reviseValue:he,changeSort:_e,tokenValue:se,tokensList:oe,changeSortLabel:fe,tvlImprintHighlight:C,volHImprintHighlight:N,volDImprintHighlight:S,aprImprintHighlight:R,tokensPriceImprintHighlight:B,tokensPriceHImprintHighlight:O,tokensVolHImprintHighlight:j,tokensTvlImprintHighlight:V,getLabel:e=>{const s=e.swap_account;return u.value.addressLpTokens&&u.value.addressLpTokens[s]&&u.value.addressLpTokens[s].labels},rewardApr:e=>{if(!ne(e)&&!ne(u.value.addressLpTokens)&&!ne(u.value.newTokenObj)){const s=e.swap_account;let v=u.value.addressLpTokens[s].rewarder_infos||[];const n=[];return v.forEach((E,le)=>{n.push({...E,symbol:u.value.newTokenObj[E.coinAddress].symbol,rewarderApr:e.rewarder_apr[le],logoUrl:u.value.newTokenObj[E.coinAddress].logoURI})}),n}},getsad:D}}});const m=o=>(Me("data-v-a4f7cd5b"),o=o(),Ye(),o),Qe={class:"stats-container"},Xe={class:"title"},Ze={class:"top-tokens"},xe={class:"sort-by"},es=m(()=>t("img",{src:ve,alt:""},null,-1)),ss=m(()=>t("use",{"xlink:href":"#icon-icon_on"},null,-1)),os=[ss],ls={key:0,class:"select-item"},ts=["onClick"],ns=m(()=>t("img",{src:ve,alt:""},null,-1)),as={class:"content"},rs={class:"item"},us=m(()=>t("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),is=[us],ds=m(()=>t("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),vs=[ds],cs=m(()=>t("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ps=[cs],hs=m(()=>t("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),_s=[hs],fs=m(()=>t("span",null,"\xA0",-1)),ks={class:"token"},gs=["src"],Ts={class:"name"},ms={class:"price"},Ls={class:"price"},Hs={class:"volume"},Is={class:"tvl"},Ps={class:"btn-box"},Cs={class:"top"},bs={class:"token"},ws=["src"],$s={class:"name"},Vs={class:"middle"},ys={class:"item-pools"},As={class:"price"},Ds={class:"item-pools"},Ns=m(()=>t("span",null,"Price Change",-1)),Ss={class:"item-pools"},Rs={class:"item-pools"},Bs={class:"bottom"},Os={class:"panation"};function js(o,u,ie,Q,q,A){const Z=Ne,_=ze,f=Ge;return c(),p("div",Qe,[t("div",Xe,[X(Z),T(" "+d(o.$t("common.tokens")),1)]),t("div",Ze,[t("div",xe,[t("div",null,d(o.$t("newAdd.sortBy")),1),t("div",{class:"search-select",onClick:u[0]||(u[0]=l=>o.reviseValue("label"))},[t("div",null,[T(d(o.tokenValue)+" ",1),es]),(c(),p("svg",{"aria-hidden":"true",class:U(o.labelToken?"show-icon icon":"icon")},os,2)),o.labelToken?(c(),p("div",ls,[(c(!0),p(re,null,ue(o.tokensList,(l,D)=>(c(),p("div",{key:D,class:"select-menu-item",onClick:h=>o.changeSortLabel(l)},[T(d(l)+" ",1),ns],8,ts))),128))])):qe("",!0)])]),t("div",as,[t("div",rs,[t("span",null,d(o.$t("common.tokens")),1),t("span",{onClick:u[1]||(u[1]=l=>o.changeTokensList("price"))},[T(d(o.$t("common.price"))+" ",1),(c(),p("svg",{"aria-hidden":"true",class:U(["pools-icon",o.tokensPriceImprint?o.tokensPriceImprintHighlight?"selected highlight":"selected":o.tokensPriceImprintHighlight?"highlight":""])},is,2))]),t("span",{onClick:u[2]||(u[2]=l=>o.changeTokensList("priceHour"))},[T(" Price Change "),(c(),p("svg",{"aria-hidden":"true",class:U(["pools-icon",o.tokensPriceHImprint?o.tokensPriceHImprintHighlight?"selected highlight":"selected":o.tokensPriceHImprintHighlight?"highlight":""])},vs,2))]),t("span",{onClick:u[3]||(u[3]=l=>o.changeTokensList("vol_in_usd_24h"))},[T(d(o.$t("common.volume24h"))+" ",1),(c(),p("svg",{"aria-hidden":"true",class:U(["pools-icon",o.tokensVolHImprint?o.tokensVolHImprintHighlight?"selected highlight":"selected":o.tokensVolHImprintHighlight?"highlight":""])},ps,2))]),t("span",{onClick:u[4]||(u[4]=l=>o.changeTokensList("tvl_in_usd"))},[T(" TVL "),(c(),p("svg",{"aria-hidden":"true",class:U(["pools-icon",o.tokensTvlImprint?o.tokensTvlImprintHighlight?"selected highlight":"selected":o.tokensTvlImprintHighlight?"highlight":""])},_s,2))]),fs]),(c(!0),p(re,null,ue(o.currentTopTokensList,(l,D)=>(c(),p("div",{key:D,class:"item pc-item"},[t("div",ks,[t("img",{src:o.addressTokens&&o.addressTokens[l.address]&&o.addressTokens[l.address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[l.address]&&o.addressTokens[l.address].symbol.toLowerCase()}.png`),alt:""},null,8,gs),t("div",Ts,[t("p",null,d(o.addressTokens&&o.addressTokens[l.address]&&o.addressTokens[l.address].symbol),1),t("span",null,d(o.addressTokens&&o.addressTokens[l.address]&&o.addressTokens[l.address].name),1)])]),t("div",ms,[t("p",null,d(l.price?"$"+o.addCommom(l.price,2):"--"),1)]),t("div",Ls,[t("p",{class:U(l.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},d(l.price_rate_24h!=="0%"&&!l.price_rate_24h.includes("-")?`+${l.price_rate_24h}`:l.price_rate_24h),3)]),t("div",Hs," $"+d(o.addCommom(l.vol_in_usd_24h,2)=="0.00"?0:o.addCommom(l.vol_in_usd_24h,2)?o.addCommom(l.vol_in_usd_24h,2):"--"),1),t("div",Is," $"+d(o.addCommom(l.tvl_in_usd,2)=="0.00"?0:o.addCommom(l.tvl_in_usd,2)?o.addCommom(l.tvl_in_usd,2):"--"),1),t("div",Ps,[X(_,{class:"cancel-btn",onClick:h=>o.router.push(`/swap?to=${l.address}`)},{default:de(()=>[T(d(o.$t("button.swap")),1)]),_:2},1032,["onClick"])])]))),128)),(c(!0),p(re,null,ue(o.currentTopTokensList,(l,D)=>(c(),p("div",{key:D,class:"item h5-item"},[t("div",Cs,[t("div",bs,[t("img",{src:o.addressTokens&&o.addressTokens[l.address]&&o.addressTokens[l.address].logoURI,alt:""},null,8,ws),t("div",$s,[t("p",null,d(o.addressTokens&&o.addressTokens[l.address]&&o.addressTokens[l.address].symbol),1),t("span",null,d(o.addressTokens&&o.addressTokens[l.address]&&o.addressTokens[l.address].name),1)])])]),t("div",Vs,[t("div",ys,[t("span",null,d(o.$t("common.price")),1),t("div",As,[t("p",null,"$"+d(o.addCommom(l.price,2)),1)])]),t("div",Ds,[Ns,t("p",{class:U(l.price_rate_24h.includes("-")?"redecue-change-price":"add-change-price")},d(l.price_rate_24h),3)]),t("div",Ss,[t("span",null,d(o.$t("common.volume24h")),1),t("p",null," $"+d(o.addCommom(l.vol_in_usd_24h,2)=="0.00"?0:o.addCommom(l.vol_in_usd_24h,2)),1)]),t("div",Rs,[t("span",null,d(o.$t("common.tvl")),1),t("p",null," $"+d(o.addCommom(l.tvl_in_usd,2)=="0.00"?0:o.addCommom(l.tvl_in_usd,2)),1)])]),t("div",Bs,[X(_,{class:"cancel-btn",onClick:h=>o.router.push(`/swap?to=${l.address}`)},{default:de(()=>[T(d(o.$t("button.swap")),1)]),_:2},1032,["onClick"])])]))),128))]),t("div",Os,[X(f,{current:o.currentTokens,"onUpdate:current":u[5]||(u[5]=l=>o.currentTokens=l),"page-size":(o.isPc,10),simple:"",total:o.topTokensList.length,onChange:o.onChangeTokens},null,8,["current","page-size","total","onChange"])])])])}const Qs=We(Ke,[["render",js],["__scopeId","data-v-a4f7cd5b"]]);export{Qs as default};
