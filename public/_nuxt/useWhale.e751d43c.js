import{l as A,R as E,ac as W}from"./entry.fb0d1e13.js";import{H as U,I as K,X as i,s as c}from"./pool.7066e590.js";import{c as a,a as B}from"./sha256.53cbc506.js";import{D as d}from"./decimal.0bdeb344.js";const j=W(),q=j.public.appEnv;function N(o){const m={launchpad:a[o||"Sui"].launchpad,ido:a[o||"Sui"].ido,xcetus:a[o||"Sui"].xcetus,xcetus_dividends:a[o||"Sui"].xcetus_dividends,cetus_faucet:a[o||"Sui"].cetus_faucet,xtoken:a[o||"Sui"].xtoken,xtoken_dividends:a[o||"Sui"].xtoken_dividends,token_faucet:a[o||"Sui"].token_faucet,booster:a[o||"Sui"].booster,maker_bonus:a[o||"Sui"].maker_bonus},C={fullRpcUrl:localStorage.getItem(`${o}-currentRpclocal2`)||a[o||"Sui"].fullRpcUrl,simulationAccount:a[o||"Sui"].simulationAccount,cetus_config:a[o||"Sui"].cetus_config,clmm_pool:a[o||"Sui"].clmm_pool,integrate:a[o||"Sui"].integrate,deepbook:a[o||"Sui"].deepbook,deepbook_endpoint_v2:a[o||"Sui"].deepbook_endpoint_v2,aggregatorUrl:a[o||"Sui"].aggregatorUrl},v=new U(C),s=new K(m,v),p=B(),l=A(()=>p);E(()=>{l.value.address&&(s.ClmmSDK.senderAddress=l.value.address)});const f=async e=>await s.XCetusModule.getOwnerLockCetuss(e),y=async(e,t)=>i.getAvailableXCetus(e,t),M=async e=>await s.XCetusModule.getOwnerCetusCoins(e),S=async e=>await s.XCetusModule.getOwnerVeNFT(e),X=async(e,t)=>{const n={amount:e};t&&(n.venft_id=t);const u=await s.XCetusModule.convertPayload(n);return r(u)},k=async()=>{const e=await s.XCetusModule.mintVeNFTPayload();return r(e)},D=async(e,t)=>{const n=await s.XCetusModule.redeemNum(e,t);return{amountOut:n.amountOut,percent:c(new d(n.percent).mul(new d(100)).toString(),2)}},x=async(e,t)=>{const n=await s.XCetusModule.reverseRedeemNum(e,t);return{amountOut:n.amountOut,percent:c(new d(n.percent).mul(new d(100)).toString(),2)}},_=async(e,t,n)=>{const u=await s.XCetusModule.redeemLockPayload({venft_id:t,amount:e,lock_day:n});return r(u)},b=e=>i.getLockingCetuss(e),P=async(e,t)=>{const n=await s.XCetusModule.getLockCetus(e);if(n&&i.isLocked(n)){const u=s.XCetusModule.cancelRedeemPayload({venft_id:t,lock_id:e});return r(u)}},T=async(e,t)=>{const n=await s.XCetusModule.getLockCetus(e);if(n&&!i.isLocked(n)){const u=await s.XCetusModule.redeemPayload({venft_id:t,lock_id:e});return r(u)}},I=async()=>{const e=await s.XCetusModule.getDividendManager();return{nextStartTime:Number(i.getNextStartTime(e).toString()),...e}},R=async(e,t)=>{const n=await s.XCetusModule.getVeNFTDividendInfo(t.venft_dividends.id,e);return{rewards:n&&n.rewards||[]}},h=async e=>{const t=await s.XCetusModule.getDividendManager();if(t.bonus_types.length>0){const n=await s.XCetusModule.redeemDividendPayload(e,t.bonus_types);return r(n)}},O=e=>{const t=new Set;return e.forEach(n=>{n.rewards.forEach(u=>{u.amount>0&&t.add(u.coin_type)})}),Array.from(t)},F=async e=>{const t=await s.XCetusModule.getDividendManager(),n=await s.XCetusModule.getVeNFTDividendInfo(t.venft_dividends.id,e),u=O(n.rewards),w=await s.XCetusModule.redeemDividendV2Payload(e,u,[s.XCetusModule.buileXTokenCoinType()]);return r(w)},L=async e=>{try{const t=await s.XCetusModule.getOwnerVeNFT(e);if(t){const n=await s.XCetusModule.getXcetusManager(),u=new d(t.xcetus_balance).div(n.treasury).mul(100).toString();return Number(u)>0&&Number(u)<.001?"<0.001":c(u,3)}else return 0}catch{return"--"}},V=async()=>await s.XCetusModule.getXcetusManager(),r=e=>({transactionBlock:e,options:{showEffects:!0,showEvents:!0,showInput:!0,showRawInput:!0,showObjectChanges:!0,showBalanceChanges:!0}}),g=e=>{const t=Date.now()/1e3,{start_time:n,interval_day:u}=e;return q=="test"?Math.ceil((t-n)/(u*60)):Math.ceil((t-n)/(u*24*3600))};return{getOwnerLockCetuss:f,getOwnerCetusCoins:M,getOwnerVeNFT:S,depositCetus:X,getMintVeNFTPayload:k,redeemNum:D,getRedeemLockPayload:_,getAvailableXCetus:y,getLockingCetuss:b,getCancelRedeemPayload:P,getVeNFTDividendInfo:R,reverseRedeemNum:x,getRedeemPayload:T,getRedeemDividendPayload:h,getMyShare:L,getDividendManager:I,getPeriod:g,getRedeemDividendV2Payload:F,getPhaseDividendInfo:async e=>{const t=g(e);return await s.XCetusModule.getPhaseDividendInfo(String(t))},getXcetusManager:V}}export{N as u};
