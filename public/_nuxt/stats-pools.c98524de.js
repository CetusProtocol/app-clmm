import{_ as js}from"./back.00320d1c.js";import{_ as Bs}from"./apr-tips.0225bdd8.js";import{u as Es,a as Fs,h as z,i as A,c as X,s as Ws,t as vs,f as qs}from"./import-icon.080103e6.js";import{a as Ms,f as os,r as i,b as Ys,w as ps,h as zs,i as Gs,o as v,j as c,k as a,x as Y,v as L,t as u,m as P,F as ls,E as as,l as H,Y as Js,u as g,y as _s,p as Ks,q as Qs,B as Xs}from"./entry.89e1e41e.js";import{_ as hs}from"./icon_on_stats.9457802a.js";import{p as Zs}from"./precision.a7a6c57b.js";import{_ as fs}from"./icon-Rewards.f2290260.js";const xs=Ms({setup(){const e=Es(),r=os(()=>e),cs=os(()=>r.value.tokensObj||{}),ns=Fs(),G=os(()=>ns),J=zs();let rs=i("big");const w=i(1),T=i(1);let y=i(!1);const o=()=>{ns.getStatsData(G.value.chainName)};Ys(()=>{ns.getStatsData(G.value.chainName);const s=document.body.clientWidth;s<750?y.value=!1:y.value=!0,window.onresize=()=>{s<750?y.value=!1:y.value=!0},y.value,ss(w.value,10),es(T.value,10)});let _=i([]);const h=os(()=>G.value.topPoolsList),f=s=>(l,t)=>{let p=l[s],d=t[s];return p-d},n=s=>(l,t)=>{let p=l[s];return t[s]-p},k=i(!1),C=i(!1),$=i(!1),D=i(!1),V=i(!0),j=i(!1),B=i(!1),E=i(!1),R=i(!1),N=i(!1),m=i(!1),b=i(!1),F=i(!1),W=i(!1),q=i(!1),S=i(!0),Z=i(!1),ts=i("TVL"),us=i(["Volume (24H)","Volume (7D)","APR"]),x=i(!1),ds=i("TVL"),is=i(["Price","Volume (24H)","Price Change"]),gs=s=>{const l=h;if(s=="tvl_in_usd"?(V.value?(k.value=!k.value,l.value.sort(k.value?f(s):n(s))):l.value.sort(n(s)),C.value=!1,$.value=!1,D.value=!1,V.value=!0,j.value=!1,B.value=!1,E.value=!1):s=="vol_in_usd_24h"?(j.value?(C.value=!C.value,l.value.sort(C.value?f(s):n(s))):l.value.sort(n(s)),k.value=!1,$.value=!1,D.value=!1,V.value=!1,j.value=!0,B.value=!1,E.value=!1):s=="vol_in_usd_7_day"?(B.value?($.value=!$.value,l.value.sort($.value?f(s):n(s))):l.value.sort(n(s)),k.value=!1,C.value=!1,D.value=!1,V.value=!1,j.value=!1,B.value=!0,E.value=!1):s=="aprNum"&&(E.value?(D.value=!D.value,l.value.sort(D.value?f(s):n(s))):l.value.sort(n(s)),k.value=!1,C.value=!1,$.value=!1,V.value=!1,j.value=!1,B.value=!1,E.value=!0),console.log(l.value,"===>>>>>poolsListArray.value"),console.log(w.value,"===>>>>>currentPools.value"),l.value.length<10)_.value=l.value.slice(0,10);else{const t=w.value*10;_.value=l.value.slice(t-10,t)}},ks=s=>{const l=K;if(s=="price"?(F.value?(R.value=!R.value,l.value.sort(R.value?f(s):n(s))):l.value.sort(n(s)),N.value=!1,m.value=!1,b.value=!1,F.value=!0,W.value=!1,q.value=!1,S.value=!1):s=="vol_in_usd_24h"?(q.value?(m.value=!m.value,l.value.sort(m.value?f(s):n(s))):l.value.sort(n(s)),R.value=!1,N.value=!1,b.value=!1,F.value=!1,W.value=!1,q.value=!0,S.value=!1):s=="tvl_in_usd"?(S.value?(b.value=!b.value,l.value.sort(b.value?f(s):n(s))):l.value.sort(n(s)),R.value=!1,N.value=!1,m.value=!1,F.value=!1,W.value=!1,q.value=!1,S.value=!0):s=="priceHour"&&(W.value?(N.value=!N.value,l.value.sort(N.value?f(s):n(s))):l.value.sort(n(s)),R.value=!1,m.value=!1,b.value=!1,F.value=!1,W.value=!0,q.value=!1,S.value=!1),console.log(l.value,"===>>>>>tokensListArray.value"),console.log(T.value,"===>>>>>tokensListArray.value"),l.value.length<10)U.value=l.value.slice(0,10);else{const t=T.value*10;U.value=l.value.slice(t-10,t)}},ws=s=>{s=="label"?(x.value=!x.value,Z.value=!1):s=="select"?(Z.value=!Z.value,x.value=!1):(Z.value=!1,x.value=!1)},Ts=s=>{const l=[];l.push(ts.value),us.value.forEach((t,p)=>{t!=s&&l.push(t)}),us.value=l,ts.value=s,s=="TVL"?_.value.sort(n("tvl_in_usd")):s=="Volume (24H)"?_.value.sort(n("vol_in_usd_24h")):s=="Volume (7D)"?_.value.sort(n("vol_in_usd_7_day")):s=="APR"&&_.value.sort(n("aprNum"))},Ls=s=>{console.log(s,"===>>>>search-select");const l=[];l.push(ds.value),is.value.forEach((t,p)=>{t!=s&&l.push(t)}),is.value=l,ds.value=s,s=="TVL"?U.value.sort(n("tvl_in_usd")):s=="Volume (24H)"?U.value.sort(n("vol_in_usd_24h")):s=="Price"?U.value.sort(n("price")):s=="Price Change"&&U.value.sort(n("priceHour"))};ps(h,()=>{y.value,ss(w.value,10)});const ss=(s,l)=>{console.log(s,"page"),w.value=s;const t=l*s-l;let p=l*s;console.log(h,"===>>>>>topPoolsList"),p=p>h.value.length?h.value.length:p;const d=h.value;if(d.length>0){V.value&&!k.value?d.sort(ys):V.value&&k.value?d.sort(Hs):j.value?C.value?d.sort(As):d.sort(Is):B.value?$.value?d.sort(Cs):d.sort(bs):E.value&&(D.value?d.sort($s):d.sort(Ps));const Q=d.filter((M,O)=>O>=t&&O<p);_.value=Q}return d},ys=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Is=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,bs=(s,l)=>l.vol_in_usd_7_day-s.vol_in_usd_7_day,Ps=(s,l)=>l.aprNum-s.aprNum,Hs=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,As=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,Cs=(s,l)=>s.vol_in_usd_7_day-l.vol_in_usd_7_day,$s=(s,l)=>s.aprNum-l.aprNum;let U=i([]);const K=os(()=>{const s=G.value.topTokensList,l=[];for(let t=0;t<s.length;t++){const p=s[t];l.push({...p,priceHour:p?Number(p.price_rate_24h.substring(0,p.price_rate_24h.length-1)):"0"})}return l});ps(K,()=>{y.value,es(T.value,10)});const es=(s,l)=>{console.log(s,"page1"),T.value=s;const t=l*s-l;let p=l*s;p=p>K.value.length?K.value.length:p;const d=K.value;if(d.length>0){S.value&&!b.value?d.sort(Ds):S.value&&b.value?d.sort(ms):F.value?R.value?d.sort(Ss):d.sort(Vs):W.value?N.value?d.sort(Us):d.sort(Rs):q.value&&(m.value?d.sort(Os):d.sort(Ns));const Q=d.filter((M,O)=>O>=t&&O<p);U.value=Q}return d},Ds=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Vs=(s,l)=>l.price-s.price,Rs=(s,l)=>l.priceHour-s.priceHour,Ns=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,ms=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Ss=(s,l)=>s.price-l.price,Us=(s,l)=>s.priceHour-l.priceHour,Os=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h;return{getRewarderInfo:s=>{const l=s.swap_account;return console.log(r.value.addressLpTokens[l].rewarder_infos,"==>&pools.value.addressLpTokens[address].rewarder_infos"),r.value.addressLpTokens&&r.value.addressLpTokens[l]&&r.value.addressLpTokens[l].rewarder_infos},addCommom:z,store:G,importIcon:A,topPoolsList:h,addressTokens:cs,showEcharts:rs,currentPools:w,onChangePools:ss,currentTopPoolsList:_,onChangeTokens:es,currentTokens:T,currentTopTokensList:U,topTokensList:K,router:J,isPc:y,getAprTotal:(s,l)=>s&&l?Ws(Zs.plus(vs(s),vs(l)),2)+"%":s,getRewarderApr:s=>{let l=0;return s&&s.forEach(t=>{l+=vs(String(t))}),String(qs(String(l),2))},toPoolsList:()=>{J&&J.push("/stats-pools")},toTokensList:()=>{J&&J.push("/stats-tokens")},changePoolsList:gs,changeTokensList:ks,tvlImprint:k,volHImprint:C,volDImprint:$,aprImprint:D,tokensPriceImprint:R,tokensPriceHImprint:N,tokensVolHImprint:m,tokensTvlImprint:b,labelToken:x,select:Z,selectValue:ts,selectList:us,reviseValue:ws,changeSort:Ts,tokenValue:ds,tokensList:is,changeSortLabel:Ls,tvlImprintHighlight:V,volHImprintHighlight:j,volDImprintHighlight:B,aprImprintHighlight:E,tokensPriceImprintHighlight:F,tokensPriceHImprintHighlight:W,tokensVolHImprintHighlight:q,tokensTvlImprintHighlight:S,getLabel:s=>{const l=s.swap_account;return r.value.addressLpTokens&&r.value.addressLpTokens[l]&&r.value.addressLpTokens[l].labels},rewardApr:s=>{if(!X(s)&&!X(r.value.addressLpTokens)&&!X(r.value.tokensObj)){const l=s.swap_account,t=r.value.addressLpTokens[l];let p=(t==null?void 0:t.rewarder_infos)||[];const d=[];p.forEach((M,O)=>{console.log(r.value.tokensObj,"===>tokensObj"),d.push({...M,symbol:r.value.tokensObj[M.coinAddress].symbol,rewarderApr:s.rewarder_apr[O],logoUrl:r.value.tokensObj[M.coinAddress].logoURI,rewarder_display:t[`rewarder_display${O+1}`]})});let Q=[];return Q=d.filter(M=>M.rewarder_display),Q}},getsad:o,rewardDisplay:s=>{if(!X(s)&&!X(r.value.addressLpTokens)&&!X(r.value.tokensObj)){const l=r.value.addressLpTokens[s.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1}}}});const I=e=>(Ks("data-v-543b5063"),e=e(),Qs(),e),se={class:"stats-container"},ee={class:"title"},oe={class:"top-pools-new"},le={class:"sort-by"},ae=I(()=>a("img",{src:hs,alt:""},null,-1)),ne=I(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),re=[ne],te={key:0,class:"select-item"},ue=["onClick"],de=I(()=>a("img",{src:hs,alt:""},null,-1)),ie={class:"content"},ve={class:"item"},ce=I(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),pe=[ce],_e=I(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),he=[_e],fe=I(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ge=[fe],ke=I(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),we=[ke],Te={class:"apr-hover-content"},Le=I(()=>a("span",null,"Â ",-1)),ye={class:"token"},Ie=["src"],be=["src"],Pe={class:"name"},He={class:"token-name"},Ae={class:"fee-tier-top"},Ce={class:"label-all"},$e={key:0},De={class:"tvl"},Ve={class:"volume-hour"},Re={class:"volume-day"},Ne=I(()=>a("img",{src:fs,alt:""},null,-1)),me={key:0,class:"apr-hover-content"},Se={class:"btn-box"},Ue={class:"top"},Oe={class:"token"},je=["src"],Be=["src"],Ee={class:"name"},Fe={class:"token-name"},We={class:"label-all"},qe={key:0},Me={class:"fee-tier-hint"},Ye={class:"middle"},ze={class:"item-pools"},Ge={class:"item-pools"},Je={class:"item-pools"},Ke=I(()=>a("img",{src:fs,alt:""},null,-1)),Qe={key:0,class:"apr-hover-content"},Xe={class:"bottom"},Ze={class:"panation"};function xe(e,r,cs,ns,G,J){const rs=js,w=Bs,T=Xs,y=Js;return v(),c("div",se,[a("div",ee,[Y(rs),L(" "+u(e.$t("menu.pools")),1)]),a("div",oe,[a("div",le,[a("div",null,u(e.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:r[0]||(r[0]=o=>e.reviseValue("select"))},[a("div",null,[L(u(e.selectValue)+" ",1),ae]),(v(),c("svg",{"aria-hidden":"true",class:P(e.select?"show-icon icon":"icon")},re,2)),e.select?(v(),c("div",te,[(v(!0),c(ls,null,as(e.selectList,(o,_)=>(v(),c("div",{key:_,class:"select-menu-item",onClick:h=>e.changeSort(o)},[L(u(o)+" ",1),de],8,ue))),128))])):H("",!0)])]),a("div",ie,[a("div",ve,[a("span",null,u(e.$t("newAdd.pool")),1),a("span",{onClick:r[1]||(r[1]=o=>e.changePoolsList("tvl_in_usd"))},[L(u(e.$t("common.tvl"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:P(["pools-icon",e.tvlImprint?e.tvlImprintHighlight?"selected highlight":"selected":e.tvlImprintHighlight?"highlight":""])},pe,2))]),a("span",{onClick:r[2]||(r[2]=o=>e.changePoolsList("vol_in_usd_24h"))},[L(u(e.$t("common.volume24H"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:P(["pools-icon",e.volHImprint?e.volHImprintHighlight?"selected highlight":"selected":e.volHImprintHighlight?"highlight":""])},he,2))]),a("span",{onClick:r[3]||(r[3]=o=>e.changePoolsList("vol_in_usd_7_day"))},[L(u(e.$t("newAdd.volume7D"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:P(["pools-icon",e.volDImprint?e.volDImprintHighlight?"selected highlight":"selected":e.volDImprintHighlight?"highlight":""])},ge,2))]),a("span",{onClick:r[4]||(r[4]=o=>e.changePoolsList("aprNum"))},[L(" APR "),(v(),c("svg",{"aria-hidden":"true",class:P(["pools-icon",e.aprImprint?e.aprImprintHighlight?"selected highlight":"selected":e.aprImprintHighlight?"highlight":""])},we,2)),a("div",Te,[Y(w,{class:"noHover apr-hover-con"})])]),Le]),(v(!0),c(ls,null,as(e.currentTopPoolsList,(o,_)=>{var h,f;return v(),c("div",{key:_,class:"item pc-item"},[a("div",ye,[o!=null&&o.token_a_address?(v(),c("img",{key:0,src:e.addressTokens&&e.addressTokens[o.token_a_address]&&e.addressTokens[o.token_a_address].logoURI?e.addressTokens[o.token_a_address].logoURI:e.store.theme=="default"?("importIcon"in e?e.importIcon:g(A))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:g(A))("/image/coins/sui-unknown.png")},null,8,Ie)):H("",!0),o!=null&&o.token_b_address?(v(),c("img",{key:1,src:e.addressTokens&&e.addressTokens[o.token_b_address]&&e.addressTokens[o.token_b_address].logoURI?e.addressTokens[o.token_b_address].logoURI:e.store.theme=="default"?("importIcon"in e?e.importIcon:g(A))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:g(A))("/image/coins/sui-unknown.png")},null,8,be)):H("",!0),a("div",Pe,[a("p",He,u(o.token_a_reserves)+" - "+u(o.token_b_reserves),1),a("div",Ae,u((o==null?void 0:o.fee)*100)+"%",1),a("div",Ce,[(v(!0),c(ls,null,as(e.getLabel(o),(n,k)=>(v(),c("div",{key:k,class:P(["label",n])},[n!=="Native"?(v(),c("span",$e,u(n),1)):H("",!0)],2))),128))])])]),a("div",De," $"+u(o.tvl_in_usd?("addCommom"in e?e.addCommom:g(z))(o.tvl_in_usd,2):"--"),1),a("div",Ve," $"+u(o!=null&&o.vol_in_usd_24h?("addCommom"in e?e.addCommom:g(z))(o==null?void 0:o.vol_in_usd_24h,2):"--"),1),a("div",Re," $"+u(o!=null&&o.vol_in_usd_7_day?("addCommom"in e?e.addCommom:g(z))(o==null?void 0:o.vol_in_usd_7_day,2):"--"),1),a("div",{class:P(["apr",((h=e.rewardApr(o))==null?void 0:h.length)>0&&e.rewardDisplay(o)?"apr-mark":""])},[Ne,L(" "+u(e.getAprTotal(o.apr_7day,e.getRewarderApr(o.rewarder_apr)))+" ",1),((f=e.rewardApr(o))==null?void 0:f.length)!=0&&e.rewardDisplay(o)?(v(),c("div",me,[Y(w,{class:"noHover apr-hover-con","l-item":{apr:o.apr_7day,aprTotal:e.getAprTotal(o.apr_7day,e.getRewarderApr(o.rewarder_apr)),is_display_rewarder:e.rewardDisplay(o),rewarder_apr:e.getRewarderApr(o.rewarder_apr)},"rewarder-info":e.rewardApr(o)},null,8,["l-item","rewarder-info"])])):H("",!0)],2),a("div",Se,[Y(T,{class:"cancel-btn",onClick:()=>e.router.push(`/deposit?tokena=${o==null?void 0:o.token_a_address}&tokenb=${o==null?void 0:o.token_b_address}&fee=${o==null?void 0:o.fee}`)},{default:_s(()=>[L(u(e.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(v(!0),c(ls,null,as(e.currentTopPoolsList,(o,_)=>{var h,f;return v(),c("div",{key:_,class:"item h5-item"},[a("div",Ue,[a("div",Oe,[o!=null&&o.token_a_address?(v(),c("img",{key:0,src:e.addressTokens&&e.addressTokens[o.token_a_address]&&e.addressTokens[o.token_a_address].logoURI?e.addressTokens[o.token_a_address].logoURI:e.store.theme=="default"?("importIcon"in e?e.importIcon:g(A))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:g(A))("/image/coins/sui-unknown.png")},null,8,je)):H("",!0),o!=null&&o.token_b_address?(v(),c("img",{key:1,src:e.addressTokens&&e.addressTokens[o.token_b_address]&&e.addressTokens[o.token_b_address].logoURI?e.addressTokens[o.token_b_address].logoURI:e.store.theme=="default"?("importIcon"in e?e.importIcon:g(A))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:g(A))("/image/coins/sui-unknown.png")},null,8,Be)):H("",!0),a("div",Ee,[a("p",Fe,u(o.token_a_reserves)+" - "+u(o.token_b_reserves),1),a("div",We,[(v(!0),c(ls,null,as(e.getLabel(o),(n,k)=>(v(),c("div",{key:k,class:P(["label",n])},[n!=="Native"?(v(),c("span",qe,u(n),1)):H("",!0)],2))),128))])])]),a("div",Me,u((o==null?void 0:o.fee)*100)+"%",1)]),a("div",Ye,[a("div",ze,[a("span",null,u(e.$t("common.tvl")),1),a("p",null," $"+u(o.tvl_in_usd?("addCommom"in e?e.addCommom:g(z))(o.tvl_in_usd,2):"--"),1)]),a("div",Ge,[a("span",null,u(e.$t("common.volume24H")),1),a("p",null," $"+u(o!=null&&o.vol_in_usd_24h?("addCommom"in e?e.addCommom:g(z))(o==null?void 0:o.vol_in_usd_24h,2):"--"),1)]),a("div",Je,[a("span",null,u(e.$t("newAdd.volume7D")),1),a("p",null," $"+u(o!=null&&o.vol_in_usd_7_day?("addCommom"in e?e.addCommom:g(z))(o==null?void 0:o.vol_in_usd_7_day,2):"--"),1)]),a("div",{class:P(["item-pools",((h=e.rewardApr(o))==null?void 0:h.length)>0&&e.rewardDisplay(o)?"":"apr-mark-h5"])},[a("span",null,u(e.$t("common.apr")),1),a("p",null,[Ke,L(" "+u(e.getAprTotal(o.apr_7day,e.getRewarderApr(o.rewarder_apr))),1)]),((f=e.rewardApr(o))==null?void 0:f.length)!=0&&e.rewardDisplay(o)?(v(),c("div",Qe,[Y(w,{class:"noHover apr-hover-con","l-item":{apr:o.apr_7day,aprTotal:e.getAprTotal(o.apr_7day,e.getRewarderApr(o.rewarder_apr)),is_display_rewarder:e.rewardDisplay(o),rewarder_apr:e.getRewarderApr(o.rewarder_apr)},"rewarder-info":e.rewardApr(o)},null,8,["l-item","rewarder-info"])])):H("",!0)],2)]),a("div",Xe,[Y(T,{class:"cancel-btn",onClick:()=>e.router.push(`/deposit?tokena=${o==null?void 0:o.token_a_address}&tokenb=${o==null?void 0:o.token_b_address}&fee=${o==null?void 0:o.fee}`)},{default:_s(()=>[L(u(e.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),a("div",Ze,[Y(y,{current:e.currentPools,"onUpdate:current":r[5]||(r[5]=o=>e.currentPools=o),"page-size":(e.isPc,10),simple:"",total:e.topPoolsList.length,onChange:e.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const fo=Gs(xs,[["render",xe],["__scopeId","data-v-543b5063"]]);export{fo as default};
