import{a as le,r as h,ao as ye,ap as ke,L as ne,G as ae,N as be,v as I,F as ie,s as re,w as Q,aq as Ce,i as we,H as X,ar as Ie,Y as F,k as x,b as de,o as n,e as i,f as s,h as K,t as a,a0 as N,a1 as O,q as P,l as V,m as R,y as E,B as Le,p as ue,j as ce,x as Se,J as Ve,as as Y,K as se,C as oe,a8 as te,at as Ae,S as Be,c as Te,au as Re,a3 as Ke}from"./entry.ddd36fdb.js";/* empty css              */import{_ as M}from"./icon_on_2x.92294e56.js";import{p as Pe}from"./precision.1cd464a0.js";import{_ as Ue,a as qe}from"./img-no-Positions_2x.3a4bda32.js";import"./index.b3b2669e.js";const De=le({props:{lItem:{type:Object,required:!0}},setup(e){const o=h(!1),b=ye(ke,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:U}=ne(),A=ae(),S=be(),$=I(()=>S),f=h(!1);function y(p){const w=p.balance,j=Ie(w).div(Math.pow(10,p.decimals)).toString();return X(j,p.decimals)}const g=p=>{f.value=!0,setTimeout(()=>{f.value=!1},2e3),A.push(`/deposit?tokena=${p.coinA.address}&tokenb=${p.coinB.address}&fee=${p.fee}`)},k=ie(),u=I(()=>k),_=I(()=>u.value.newTokenObj&&e.lItem.coinA.address&&u.value.newTokenObj[e.lItem.coinA.address]&&u.value.newTokenObj[e.lItem.coinA.address].logoURI),t=I(()=>u.value.newTokenObj&&e.lItem.coinB.address&&u.value.newTokenObj[e.lItem.coinB.address]&&u.value.newTokenObj[e.lItem.coinB.address].logoURI),c=h([]),m=re(),C=I(()=>m);return Q(()=>[u.value.addressLpTokens,u.value.newTokenObj,C.value.newTopPoolsObj],([p,w,j])=>{if(!F(p)&&!F(w)&&!F(u.value.RATES)&&!F(j)){const q=e.lItem.address&&p[e.lItem.address]&&p[e.lItem.address].rewarder_infos||[],z=[];q.forEach((B,Z)=>{const G=w[B.coinAddress].decimals,H=x(B.emissionsEveryDay/Math.pow(10,G),2),J=x(Number(H)*u.value.RATES[w[B.coinAddress].name.toUpperCase()].price,2);z.push({...B,logoUrl:w[B.coinAddress].logoURI,day:H,dayUSD:J,symbol:w[B.coinAddress].symbol,rewarders:e.lItem[`rewarders${Z}`]})}),c.value=z}},{immediate:!0}),{t:U,isShow:o,indicator:b,thousands:Ce,importIcon:we,router:A,wallet:$,addCommom:X,getLpView:y,toAdd:g,fromCoinUrl:_,toCoinUrl:t,addLiquidity:f,rewarderInfo:c}}});const Ee=e=>(ue("data-v-3de57e48"),e=e(),ce(),e),Ne={class:"pools-list-item"},Oe=Ee(()=>s("div",{class:"topBg"},null,-1)),je={class:"top"},Fe={class:"img-box"},ze=["src"],He=["src"],Me={class:"coin-name"},Ze={class:"symbol-label"},Ge={class:"apr"},Je={class:"apr-hover"},We={class:"apr-hover-top"},Ye={class:"bottom"},Qe={class:"induction"},Xe={class:"item"},xe={class:"induction-text"},es={class:"induction-value"},ss={class:"item"},os={class:"induction-text"},ts={class:"induction-value"},ls={class:"item"},ns={class:"induction-text"},as={class:"induction-value"};function is(e,o,b,U,A,S){var f,y,g,k,u,_,t,c,m;const $=Le;return n(),i("div",Ne,[Oe,s("div",je,[s("div",Fe,[(f=e.lItem)!=null&&f.coinA?(n(),i("img",{key:0,src:e.fromCoinUrl||e.importIcon(`/image/coins/${(y=e.lItem)==null?void 0:y.coinA.symbol.toLowerCase()}.png`)},null,8,ze)):K("",!0),(g=e.lItem)!=null&&g.coinB?(n(),i("img",{key:1,src:e.toCoinUrl||e.importIcon(`/image/coins/${(k=e.lItem)==null?void 0:k.coinB.symbol.toLowerCase()}.png`)},null,8,He)):K("",!0)]),s("span",Me,a((_=(u=e.lItem)==null?void 0:u.coinA)==null?void 0:_.symbol)+" - "+a((c=(t=e.lItem)==null?void 0:t.coinB)==null?void 0:c.symbol),1),s("div",Ze,[(n(!0),i(N,null,O((m=e.lItem)==null?void 0:m.labels,(C,p)=>(n(),i("div",{key:p,class:P(["lable",C])},null,2))),128))]),s("div",Ge,[s("span",{onClick:o[0]||(o[0]=C=>e.isShow=!e.isShow)},a(e.addCommom(e.lItem.apr,2)),1),s("span",{onClick:o[1]||(o[1]=C=>e.isShow=!e.isShow)},a(e.$t("common.apr")),1),s("div",{class:P(["apr-hover-con",e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"])},[s("div",Je,[s("div",We,a(e.$t("tips.aprTipsTest")),1)])],2)])]),s("div",Ye,[s("div",Qe,[s("div",Xe,[s("div",xe,a(e.$t("common.feeTier")),1),s("div",es,a(e.lItem.fee*100)+"%",1)]),s("div",ss,[s("div",os,a(e.$t("common.liquidity")),1),s("div",ts,"$"+a(e.addCommom(e.lItem.liqidity,2)),1)]),s("div",ls,[s("div",ns,a(e.$t("common.volume24H")),1),s("div",as,"$"+a(e.addCommom(e.lItem.vol,2)),1)])]),V($,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:o[2]||(o[2]=C=>e.toAdd(e.lItem))},{default:R(()=>[E(a(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const rs=de(De,[["render",is],["__scopeId","data-v-3de57e48"]]),ds=le({setup(){const{t:e,locale:o}=ne(),b=ae(),U=h(!1),A=h(!1),S=h(!1),$=h("TVL"),f=h(["APR","VOL"]),y=h(!1),g=h(e("tab.all")),k=h([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),u=h([]),_=h(""),t=h(["pools"]),c=ie(),m=re(),C=h(!0),p=h(""),w=I(()=>m),j=I(()=>m.theme),q=I(()=>c),z=I(()=>m.statsData),B=(l,r)=>r.liqidity-l.liqidity,Z=(l,r)=>r.vol-l.vol,G=(l,r)=>r.aprNum-l.aprNum,H=()=>{window.setInterval(()=>{m.getStatsData()},12e4)};Se(()=>{var r,v,T;const l=(T=(v=(r=b==null?void 0:b.currentRoute)==null?void 0:r.value)==null?void 0:v.query)==null?void 0:T.language;l&&ve(l),H(),m.getStatsData(),p.value=o.value});const{setLang:J}=m,ve=l=>{J(l),o.value=l},me=(l,r)=>l&&r?x(Pe.plus(Y(l),Y(r)),2)+"%":l,ee=l=>{let r=0;return l&&l.forEach(v=>{r+=Y(String(v))}),String(r)},W=l=>{const r=[];l.forEach(D=>{const d=w.value.addressLpTokens[D.address];r.push({...D,liqidity:d?d.tvl_in_usd:"0.00000000001",vol:d?d.vol_in_usd_24h:"0",apr:d?d.apr_7day:"--",aprNum:d?d.apr_7day.substring(0,d.apr_7day.length-1):"0",rewarder_apr:ee(d&&d.rewarder_apr)+"%",aprTotal:me(d&&d.apr_7day,d&&ee(d.rewarder_apr)),rewarders0:d&&d.rewarder_apr[0],rewarders1:d&&d.rewarder_apr[1],rewarders2:d&&d.rewarder_apr[2]})});let v=[];if($.value=="APR"?v=r.sort(G):$.value=="VOL"?v=r.sort(Z):v=r.sort(B),g.value!="All"){const D=[];v.forEach(d=>{d.labels.indexOf(g.value)!==-1&&D.push(d)}),u.value=D}else u.value=v;if(_.value){var T=new RegExp("[\\u4E00-\\u9FFF]+","g");if(T.test(_.value)){_.value="";return}const D=u.value.filter(d=>d.symbol.toLowerCase().includes(_.value.toLowerCase()));u.value=D}C.value=!1};Q(()=>[q.value.poolConfigList,q.value.addressLpTokens,_.value,$.value,g.value],([l,r])=>{(l==null?void 0:l.length)>0&&!F(r)&&W(l)},{immediate:!0,deep:!0});const pe=l=>{if(U.value=!0,l){W(q.value.poolConfigList);const r=u.value.filter(v=>v.symbol.toLowerCase().includes(l.toLowerCase()));u.value=r,U.value=!1}else W(q.value.poolConfigList)},he=()=>{C.value=!0,A.value=!0,m.getStatsData(),c.setPoolConfigList(),setTimeout(()=>{A.value=!1},1e3)},fe=l=>{const r=[];r.push($.value),f.value.forEach((v,T)=>{v!=l&&r.push(v)}),f.value=r,$.value=l},ge=l=>{const r=[];k.value.forEach((v,T)=>{v==l?r[T]=g.value:r[T]=v}),k.value=r,g.value=l};Q(()=>m.lang,l=>{p.value=l});const _e=l=>{l=="label"?(y.value=!y.value,S.value=!1):l=="select"?(S.value=!S.value,y.value=!1):(S.value=!1,y.value=!1)},$e=()=>{b&&b.push("/position")};return{config:I(()=>Ve[w.value.chainName]),toPositionList:$e,t:e,router:b,loading:U,clickRefresh:he,refresh:A,updateLpList:pe,searchKey:_,current:t,addCommom:X,list:u,theme:j,statsData:z,pools:q,select:S,selectValue:$,selectList:f,label:y,labelValue:g,labelList:k,changeSort:fe,changeSortLabel:ge,reviseValue:_e,listLoading:C,languageValue:p}}});const L=e=>(ue("data-v-53ae94e1"),e=e(),ce(),e),us={class:"pools-list-container"},cs=["href"],vs={class:"search-refresh"},ms={class:"my-position position-h5"},ps=["placeholder"],hs=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),fs=[hs],gs={key:0,class:"select-item"},_s=["onClick"],$s=L(()=>s("img",{src:M,alt:""},null,-1)),ys=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),ks=[ys],bs={key:0,class:"select-item"},Cs=["onClick"],ws=L(()=>s("img",{src:M,alt:""},null,-1)),Is=L(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Ls=[Is],Ss={class:"search-tab"},Vs={class:"my-position position-pc"},As=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Bs=[As],Ts={key:0,class:"select-item"},Rs=["onClick"],Ks=L(()=>s("img",{src:M,alt:""},null,-1)),Ps=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Us=[Ps],qs={key:0,class:"select-item"},Ds=["onClick"],Es=L(()=>s("img",{src:M,alt:""},null,-1)),Ns=["placeholder"],Os=L(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),js=[Os],Fs={class:"item item-left"},zs={class:"value"},Hs={class:"label"},Ms={class:"item item-right"},Zs={class:"value"},Gs={class:"label"},Js={key:0,class:"loading-global"},Ws={key:2,class:"no-data"},Ys={key:0,src:Ue},Qs={key:1,src:qe};function Xs(e,o,b,U,A,S){const $=se("mail-outlined"),f=Re,y=se("appstore-outlined"),g=Ae,k=Be,u=Ke,_=rs;return n(),i("div",us,[s("div",{class:"pools-title",onClick:o[0]||(o[0]=t=>e.reviseValue(""))},[s("div",null,a(e.$t("common.concentratedPools")),1),s("a",{href:`${e.config.ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"position"},a(e.$t("common.ammPools")),9,cs)]),s("div",vs,[s("div",ms,[s("div",{class:"search-input",onClick:o[4]||(o[4]=t=>e.reviseValue(""))},[oe(s("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,ps),[[te,e.searchKey]]),e.searchKey?(n(),i("div",{key:0,class:"out-icon",onClick:o[2]||(o[2]=t=>e.searchKey="")})):K("",!0),s("div",{class:"search-icon",onClick:o[3]||(o[3]=t=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:o[5]||(o[5]=t=>e.reviseValue("label"))},[s("span",null,a(e.$t("newAdd.label")),1),s("div",null,a(e.labelValue),1),(n(),i("svg",{"aria-hidden":"true",class:P(e.label?"show-icon icon":"icon")},fs,2)),e.label?(n(),i("div",gs,[(n(!0),i(N,null,O(e.labelList,(t,c)=>(n(),i("div",{key:c,class:"select-menu-item",onClick:m=>e.changeSortLabel(t)},a(t),9,_s))),128))])):K("",!0)]),s("div",{class:"search-select",onClick:o[6]||(o[6]=t=>e.reviseValue("select"))},[s("span",null,a(e.$t("newAdd.sortBy")),1),s("div",null,[E(a(e.selectValue)+" ",1),$s]),(n(),i("svg",{"aria-hidden":"true",class:P(e.select?"show-icon icon":"icon")},ks,2)),e.select?(n(),i("div",bs,[(n(!0),i(N,null,O(e.selectList,(t,c)=>(n(),i("div",{key:c,class:"select-menu-item",onClick:m=>e.changeSort(t)},[E(a(t)+" ",1),ws],8,Cs))),128))])):K("",!0)]),(n(),i("svg",{"aria-hidden":"true",class:P(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[7]||(o[7]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Ls,2))]),s("div",Ss,[V(g,{selectedKeys:e.current,"onUpdate:selectedKeys":o[8]||(o[8]=t=>e.current=t),mode:"horizontal"},{default:R(()=>[V(f,{key:"pools"},{icon:R(()=>[V($)]),default:R(()=>[E(" "+a(e.$t("menu.pools")),1)]),_:1}),V(f,{key:"position",onClick:e.toPositionList},{icon:R(()=>[V(y)]),default:R(()=>[E(" "+a(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Vs,[s("div",{class:"search-select search-label",onClick:o[9]||(o[9]=t=>e.reviseValue("label"))},[s("span",null,a(e.$t("newAdd.label")),1),s("div",null,a(e.labelValue),1),(n(),i("svg",{"aria-hidden":"true",class:P(e.label?"show-icon icon":"icon")},Bs,2)),e.label?(n(),i("div",Ts,[(n(!0),i(N,null,O(e.labelList,(t,c)=>(n(),i("div",{key:c,class:"select-menu-item",onClick:m=>e.changeSortLabel(t)},a(t),9,Rs))),128))])):K("",!0)]),s("div",{class:"search-select",onClick:o[10]||(o[10]=t=>e.reviseValue("select"))},[s("span",null,a(e.$t("newAdd.sortBy")),1),s("div",null,[E(a(e.selectValue)+" ",1),Ks]),(n(),i("svg",{"aria-hidden":"true",class:P(e.select?"show-icon icon":"icon")},Us,2)),e.select?(n(),i("div",qs,[(n(!0),i(N,null,O(e.selectList,(t,c)=>(n(),i("div",{key:c,class:"select-menu-item",onClick:m=>e.changeSort(t)},[E(a(t)+" ",1),Es],8,Ds))),128))])):K("",!0)]),s("div",{class:"search-input",onClick:o[14]||(o[14]=t=>e.reviseValue(""))},[oe(s("input",{"onUpdate:modelValue":o[11]||(o[11]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,Ns),[[te,e.searchKey]]),e.searchKey?(n(),i("div",{key:0,class:"out-icon",onClick:o[12]||(o[12]=t=>e.searchKey="")})):K("",!0),s("div",{class:"search-icon",onClick:o[13]||(o[13]=t=>e.updateLpList(e.searchKey))})]),(n(),i("svg",{"aria-hidden":"true",class:P(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[15]||(o[15]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},js,2))])]),s("div",{class:"tvl-vol",onClick:o[16]||(o[16]=t=>e.reviseValue(""))},[s("div",Fs,[V(k,{loading:e.listLoading,active:"",paragraph:!1},{default:R(()=>[s("div",zs,"$ "+a(e.addCommom(e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",Hs,a(e.$t("common.totalValueLocked")),1)]),s("div",Ms,[V(k,{loading:e.listLoading,active:"",paragraph:!1},{default:R(()=>[s("div",Zs,"$ "+a(e.addCommom(e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",Gs,a(e.$t("common.volume24H")),1)])]),e.listLoading?(n(),i("div",Js,[V(u)])):e.list&&e.list.length>0?(n(),i("div",{key:1,class:"item-container",onClick:o[17]||(o[17]=t=>e.reviseValue(""))},[(n(!0),i(N,null,O(e.list,(t,c)=>(n(),Te(_,{key:c,"l-item":t},null,8,["l-item"]))),128))])):(n(),i("div",Ws,[e.theme=="default"?(n(),i("img",Ys)):(n(),i("img",Qs)),s("span",null,a(e.$t("common.poolsNotFound")),1)]))])}const ao=de(ds,[["render",Xs],["__scopeId","data-v-53ae94e1"]]);export{ao as default};
