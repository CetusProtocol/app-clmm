import{_ as yo,a as ko}from"./token-warning-modal.94ccedfd.js";import{_ as Io,a as No}from"./coin-select.12209060.js";import{a as Bo,_ as Oo}from"./network-tips.4d52ad97.js";import{a as ge,j as Je,u as Te,i as ie,f as Y,g as Be,r as ze,_ as To,v as He,e as Oe,b as Uo,D as A,s as ke,p as Xe,c as Ie}from"./import-icon.ebd1e745.js";import{a as Ge,M as Do,J as Ve,q as w,r,e as Ue,H as $o,o as g,c as M,w as ce,h as o,t as u,j as se,f as O,u as ae,x as ve,i as le,B as xe,p as De,k as $e,T as Eo,s as X,v as P,L as Ro,N as Fo,l as Po,m as jo,W as Ne,b as Ye,G as _o,z as Mo,S as Wo}from"./entry.86b83171.js";/* empty css              *//* empty css              *//* empty css              */import"./icon-selected_3x.350736e2.js";/* empty css              */import"./img-no-Positions_2x.666cad18.js";const Ze={SUI:{symbol:"SUI",name:"Sui Coin",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sBTC:{symbol:"sBTC",name:"Wrapped BTC",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sETH:{symbol:"sETH",name:"Wrapped Ether",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::ETH"},USDC:{symbol:"USDC",name:"USDC Coin",decimals:6,balance:12e3,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC"},USDT:{symbol:"USDT",name:"Tether USD",decimals:6,balance:1e4,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT"}},Lo={"USDT-USDC":{symbol:"USDT-USDC",name:"USDT-USDC",decimals:6,coinA:Ze.USDT,coinB:Ze.USDC,feeDenominator:"10000",feeNumerator:"1",fee:"0.01",address:"0x1ce98d89494e9d3d7935bc3bd5fc714fc2abb99db3f024162552c4ba172f4d28::amm_swap::PoolLiquidityCoin<0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT,0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC>"}};function qo(e,l){const b=Object.values(Lo).filter(h=>e===h.coinA.symbol&&l===h.coinB.symbol||e===h.coinB.symbol&&l===h.coinA.symbol);return b&&b[0]||null}const Qo=Ge({components:{Modal:Do},props:{fromCoin:{type:Object,required:!0},toCoin:{type:Object,required:!0},fromCoinAmount:{type:String,required:!0},toCoinAmount:{type:String,required:!0},impact:{type:Number,required:!0},fee:{type:String,required:!0},fixedFromCoin:{type:Boolean,required:!0},formatFee:{type:String,default:""}},emits:["to-swap","on-close"],setup(e,l){const{t:b,locale:h}=Ve(),U=ge(),j=Je();w(()=>j);const d=w(()=>{const c=qo(e.fromCoin.symbol,e.toCoin.symbol);return Be(ze(e.fromCoinAmount).mul(ze(c.fee).div(100)).toString(),e.fromCoin.decimals)}),$=r(U.slippage||.5),D=r(!0),Q=r(!1);function ne(c){D.value=c}const K=async()=>{l.emit("to-swap")},Z=Te(),B=w(()=>Z),J=w(()=>B.value.tokensObj&&e.fromCoin.address&&B.value.tokensObj[e.fromCoin.address]&&B.value.tokensObj[e.fromCoin.address].logoURI),G=w(()=>B.value.tokensObj&&e.toCoin.address&&B.value.tokensObj[e.toCoin.address]&&B.value.tokensObj[e.toCoin.address].logoURI),z=ge(),f=w(()=>z);return{fromCoinUrl:J,toCoinUrl:G,t:b,importIcon:ie,fixD:Y,decimalFormat:Be,direct:D,changeDirect:ne,rateChange:Q,clickNextBtn:K,slippage:$,liquidityProviderFee:d,getCoinIcon:c=>{var m;return(c==null?void 0:c.logoURI)||(c==null?void 0:c.logo_url)||((m=B.value.tokensObj[c==null?void 0:c.address])==null?void 0:m.logo_url)||(f.value.theme==="default"?ie("/image/coins/unknown.png"):ie("/image/coins/sui-unknown.png"))}}}});const Ee=e=>(De("data-v-7e64b12b"),e=e(),$e(),e),Ko=Ee(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),zo={class:"swap-confirm-container"},Ho={class:"card-content"},Xo={class:"top"},Yo={class:"coin"},Zo=["src"],Jo=Ee(()=>o("div",{class:"svg-box"},[o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-swap2"})])],-1)),Go={class:"coin"},Vo=["src"],xo={class:"bottom"},en={class:"induction"},on={class:"item"},nn={class:"induction-text"},sn={class:"induction-value induction-value-change"},an={key:0},tn={key:1},ln=Ee(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),un=[ln],rn={class:"item"},dn={class:"induction-text"},cn={class:"induction-value"},mn={class:"item"},vn={class:"induction-text"},fn={class:"induction-value"},pn={class:"item"},Cn={class:"induction-text"},bn={class:"item"},gn={class:"induction-text"},hn={class:"induction-value"};function An(e,l,b,h,U,j){const d=xe,$=$o("Modal");return g(),M($,{width:"440px",visible:!0,footer:null,title:e.$t("modal.swapConfirmTitle"),class:"swap-confirm-modal",onCancel:l[2]||(l[2]=D=>e.$emit("on-close"))},{closeIcon:ce(()=>[Ko]),default:ce(()=>[o("div",zo,[o("div",Ho,[o("div",Xo,[o("div",Yo,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,Zo),o("p",null,u(e.fromCoinAmount),1),se("    "),o("p",null,u(e.fromCoin.symbol),1)]),Jo,o("div",Go,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,Vo),o("p",null,u(e.toCoinAmount),1),se("    "),o("p",null,u(e.toCoin.symbol),1)])]),o("div",xo,[o("div",en,[o("div",on,[o("div",nn,u(e.$t("common.rate")),1),o("div",sn,[e.rateChange?(g(),O("span",tn," 1 "+u(e.toCoin.symbol)+" ≈ "+u(("fixD"in e?e.fixD:ae(Y))(Number(e.fromCoinAmount)/Number(e.toCoinAmount),e.toCoin.decimals))+" "+u(e.fromCoin.symbol),1)):(g(),O("span",an," 1 "+u(e.fromCoin.symbol)+" ≈ "+u(("fixD"in e?e.fixD:ae(Y))(Number(e.toCoinAmount)/Number(e.fromCoinAmount),e.toCoin.decimals))+" "+u(e.toCoin.symbol),1)),(g(),O("svg",{class:"icon-change","aria-hidden":"true",onClick:l[0]||(l[0]=D=>e.rateChange=!e.rateChange)},un))])]),o("div",rn,[o("div",dn,u(e.$t("modal.slippageTolerance")),1),o("div",cn,u(e.slippage)+"%",1)]),o("div",mn,[o("div",vn,u(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",fn,u(e.fixedFromCoin?("fixD"in e?e.fixD:ae(Y))(e.toCoinAmount-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals):("fixD"in e?e.fixD:ae(Y))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals))+" "+u(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),o("div",pn,[o("div",Cn,u(e.$t("common.priceImpact")),1),o("div",{class:ve(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},u(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",3)]),o("div",bn,[o("div",gn,u(e.$t("common.fee")),1),o("div",hn,u(e.formatFee)+" "+u(e.fromCoin.symbol)+" ("+u(e.fee*100)+"%) ",1)])])])])]),le(d,{class:"big-btn swap-confirm-btn",onClick:l[1]||(l[1]=D=>e.clickNextBtn())},{default:ce(()=>[se(u(e.$t("button.confirmSwap")),1)]),_:1})]),_:1},8,["title"])}const wn=Ue(Qo,[["render",An],["__scopeId","data-v-7e64b12b"]]);async function Sn(e){const{prices:l}=await $fetch(`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&id=${e}&days=1&interval=hourly`,{headers:{Connection:"keep-alive",Accept:"*/*"}});return l}const yn={props:{coin:{type:Object,default:()=>({})},refresh:{type:Boolean,default:!1},id:{type:String,default:""}},setup(e,l){const{$echarts:b}=Eo();let h=null,U;const j=r(!0),d=(c,m,v)=>{U={xAxis:{type:"category",boundaryGap:!1,show:!1,data:m},yAxis:{type:"value",show:!1,min:function(s){return s.min-s.min*.1},max:function(s){return s.max+s.max*.1}},grid:{top:1,right:1,bottom:1,left:1},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:B.value.chainName=="Aptos"?"#68FFD8":"#76C8FF"}},formatter:function(s){return`<div class="chart-tip">
              <div>${s&&s[0]&&s[0].name}</div>
              <div>$${Y(s&&s[0]&&s[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:B.value.chainName=="Aptos"?"#0C4535":"#2E546D"},{offset:1,color:B.value.chainName=="Aptos"?"#151817":"#1B1B1B"}]},series:[{data:c,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:B.value.chainName=="Aptos"?"#68FFD8":"#76C8FF",width:2,type:"solid"}}]},U&&h.clear(),U&&h.setOption(U,!0),h.resize(),j.value=!1},$=Te(),D=w(()=>$),Q=r(""),ne=r(""),K=async c=>{var x,te;const m=[],v=[],s=await Sn(c);Q.value=s&&s.length>1&&(s[s.length-1][1]-s[0][1])/s[0][1]*100,ne.value=s&&s.length>1&&s[s.length-1][1],s.forEach(ee=>{m.push(ee[1]);const re=He(ee[0],"MD"),T=He(ee[0],"HM");v.push(re+" "+T)});let me=document.getElementById(`main${(x=e.coin)==null?void 0:x.name}`);h=b.init(me),d(m,v,(te=e.coin)==null?void 0:te.name)},Z=ge(),B=w(()=>Z),J=w(()=>B.value.chainName),G=w(()=>To[J.value]);X(()=>e.id,(c,m)=>{console.log(c,m,"===>oldValue"),console.log(!j.value,"!isFirst.value"),c&&setTimeout(()=>{K(c)},1e3)},{immediate:!0});const z=r(""),f=r(""),V=r("");return X(()=>[D.value.tokensObj,e.coin],([c,m])=>{var v,s;c&&m&&c[m.address]&&(console.log(c[m.address],"===>newValue[coin.address]"),f.value=((v=c[m.address])==null?void 0:v.labels)&&((s=c[m.address])==null?void 0:s.labels[0]),z.value=c[m.address].name,V.value=c[m.address].symbol)},{immediate:!0,deep:!0}),X(()=>e.refresh,c=>{c&&K(e.id)}),{store:Z,importIcon:ie,fixD:Y,config:G,price_rate_24h:Q,nowPrice:ne,coinName:z,coinLabels:f,coinSymbol:V}}};const kn=e=>(De("data-v-f7d5a1ed"),e=e(),$e(),e),In={class:"token-info"},Nn={class:"token-info-padding"},Bn={class:"token-info-header"},On={class:"left"},Tn=["src"],Un={class:"name"},Dn={class:"desc"},$n={class:"right"},En={class:"price"},Rn={class:"token-info-footer"},Fn={class:"left"},Pn={class:"address"},jn={class:"pc-address"},_n={class:"h5-address"},Mn=kn(()=>o("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Wn=[Mn],Ln={class:"right"},qn=["id"];function Qn(e,l,b,h,U,j){var d;return g(),O("div",In,[o("div",Nn,[o("div",Bn,[o("div",On,[o("img",{src:b.coin.logoURI||h.importIcon(`/image/coins/${b.coin.symbol.toLowerCase()}.png`)},null,8,Tn),o("div",null,[o("div",Un,u(h.coinSymbol),1),o("div",Dn,[o("span",null,u(h.coinName)+" "+u(h.coinLabels?`(${h.coinLabels})`:""),1)])])]),o("div",$n,[o("div",En,"$"+u(h.fixD(h.nowPrice,2)),1),h.price_rate_24h?(g(),O("div",{key:0,class:ve(h.price_rate_24h>0?"increase up":h.price_rate_24h<0?"increase down":"increase up")},u(h.price_rate_24h>0?`+ ${h.fixD(h.price_rate_24h,2)}`:h.price_rate_24h<0?+`${h.fixD(h.price_rate_24h,2)}`:`+${h.fixD(h.price_rate_24h,2)}`)+"% ",3)):P("",!0)])]),o("div",Rn,[o("div",Fn,[o("div",Pn,[o("span",jn,u(b.coin&&b.coin.address.substr(0,8))+" ... "+u(b.coin&&b.coin.address.substr(b.coin.address.length-8,8)),1),o("span",_n,u(b.coin&&b.coin.address.substr(0,4))+" ... "+u(b.coin&&b.coin.address.substr(b.coin.address.length-4,4)),1),(g(),O("svg",{class:"icon","aria-hidden":"true",onClick:l[0]||(l[0]=$=>h.store.copy(b.coin&&b.coin.address))},Wn))])]),o("div",Ln,[o("div",{id:`main${(d=b.coin)==null?void 0:d.name}`,class:"main"},null,8,qn)])])])])}const Kn=Ue(yn,[["render",Qn],["__scopeId","data-v-f7d5a1ed"]]),zn=Ge({setup(){const e=Ye(),l=Ro(Fo,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:b,locale:h}=Ve(),U=ge(),j=Te(),d=w(()=>j);let $=r(!1),D=r(!1),Q=r(!1),ne=r(!1),K=r(!1),Z=r(!1);const B=r("fromCoin"),J=r(""),G=r(""),z=r(!1),f=r(!0),V=r(!1),c=r(!1),m=r(!1),v=r(""),s=r(""),me=r(20),x=r(0),te=r(null),ee=r(!1),re=w(()=>U.slippage),T=w(()=>U.chainName),E=w(()=>T.value?Uo(T.value):{}),a=r(),t=r(),Re=w(()=>j.getPoolInfoSuccess),eo=w(()=>S.value&&S.value.is_pause?"Pool Closed":ee.value?b("button.insufficientLiquidity"):!a.value||!t.value?b("modal.selectTokenModalTitle"):!S.value&&Re.value?"Pool Not Found":!Number(v.value)||Number(v.value)==0||Number(s.value)==0?b("button.enterAmount"):Number(v.value)>Number(W.value)?b("button.insufficientBalance",{name:a.value.symbol}):b("button.swap")),oo=n=>{var p,i,y,C;B.value=n,n==="fromCoin"?(J.value=((p=t.value)==null?void 0:p.address)||"",G.value=((i=a.value)==null?void 0:i.address)||""):(J.value=((y=a.value)==null?void 0:y.address)||"",G.value=((C=t.value)==null?void 0:C.address)||""),z.value=!0},he=r({}),Ae=r({}),no=n=>{B.value==="fromCoin"?(he.value=n,Se(n)):(Ae.value=n,Se(n))},so=n=>{n==="fromCoin"?(f.value=!0,T.value==="Aptos"?v.value=W.value>0?a.value.symbol=="APT"?new A(Number(W.value)).sub(new A(.1)).lt(new A(0))?"0":new A(Number(W.value)).sub(new A(.1)).toString():String(W.value):"":v.value=W.value>0?a.value.symbol=="SUI"?new A(Number(W.value)).sub(new A(1e-4)).lt(new A(0))?"0":new A(Number(W.value)).sub(new A(1e-4)).toString():String(W.value):""):(f.value=!1,T.value==="Aptos"?s.value=L.value>0?t.value.symbol=="APT"?new A(Number(L.value)).sub(new A(.1)).lt(new A(0))?"0":new A(Number(L.value)).sub(new A(.1)).toString():String(L.value):"":s.value=L.value>0?t.value.symbol=="SUI"?new A(Number(L.value)).sub(new A(1e-4)).lt(new A(0))?"0":new A(Number(L.value)).sub(new A(1e-4)).toString():String(L.value):"")},ao=n=>{n==="fromCoin"?(f.value=!0,v.value=W.value>0?ke(new A(Number(W.value)).div(2).toString(),a.value.decimals).toString():""):(f.value=!1,s.value=L.value>0?ke(new A(Number(L.value)).div(2).toString(),t.value.decimals).toString():"")};Po(()=>{we()}),jo(()=>{clearInterval(te.value)});const to=()=>{S.value&&(clearInterval(te.value),x.value=0,D.value=!0,j.updateCurrentPools(S.value.poolAddress,T.value),de(f.value?v.value:s.value),U.getStatsData(T.value),setTimeout(()=>{D.value=!1,we()},1e3))},lo=()=>{const n=a.value;a.value=t.value,t.value=n,$.value=!0,f.value=!f.value,f.value?(v.value=s.value,s.value=""):(s.value=v.value,v.value=""),setTimeout(()=>{$.value=!1},300)},we=()=>{te.value=setInterval(()=>{D.value=!1,V.value||x.value<me.value&&(x.value+=1,x.value===me.value&&(S.value&&S.value.poolAddress&&j.updateCurrentPools(S.value.poolAddress,T.value),x.value=0,D.value=!0))},1e3)};X(f,Ne((n,p)=>{f.value=n},500));const Fe=r(!1);X(v,Ne((n,p)=>{n&&f.value&&de(n),n==""&&f.value&&(s.value="")},500)),X(s,Ne((n,p)=>{n&&!f.value&&de(n),n==""&&!f.value&&(v.value="")},500));const Pe=r(1e-4),io=n=>{if(n.current_sqrt_price&&v.value&&s.value){const i=(a.value.address===n.coinA.address&&t.value.address===n.coinB.address?0:1)==0,y=new A(v.value),C=new A(s.value),k=y.sub(y.mul(new A(n.fee)).div(100));console.log("getImpact###fAmount####",y.toString()),console.log("getImpact###tAmount####",C.toString()),console.log("getImpact###f####",k.toString());const I=C.div(k);return console.log("getImpact####rates####",I.toString()),E.value.getPriceImpactPct(n,I.toString(),i)}return 1e-4},je=r(0),_e=r(0),uo=r(),_=r({}),de=async n=>{if(S.value)if(a.value&&t.value&&(v.value||s.value)){c.value=!0,m.value=!0,Fe.value=!0,ee.value=!1,console.log(S.value,"poolInfo=====>451");const p=a.value.address===S.value.coinA.address&&t.value.address===S.value.coinB.address?0:1;console.log(f.value?v.value:s.value,"fixedFromCoin.value ? fromCoinAmount.value : toCoinAmount.value"),console.log(p,"===>direct");try{let i;if(T.value=="Aptos")i=await E.value.preSwap({pool:S.value,a2b:p==0,byAmountIn:f.value,amount:f.value?v.value:s.value});else{console.log("sui getAmount===>"),console.log(be.value,"111111");let y=[];for(let C=0;C<be.value.length;C++){const k=be.value[C],I=a.value.address===k.token_a.address&&t.value.address===k.token_b.address?0:1,N=await E.value.preSwap({pool:k,a2b:I==0,byAmountIn:f.value,amount:f.value?v.value:s.value});y.push({...N,poolInfo:d.value.poolsObj[k.address]})}console.log(y,"===>preSwapResArr"),i=y.filter(C=>!C.isExceed).sort((C,k)=>{const I=Number(C.estimatedAmountOut),N=Number(k.estimatedAmountOut),q=Number(C.estimatedAmountIn),R=Number(k.estimatedAmountIn),F=C.poolInfo.fee,oe=k.poolInfo.fee;return f.value&&I==N||!f.value&&q==R?F-oe:f.value?N-I:q-R})[0],i&&(console.log(i==null?void 0:i.poolInfo,"===>preSwapRes?.poolInfo"),_.value=i==null?void 0:i.poolInfo),console.log(y.filter(C=>!C.isExceed),"===222")}console.log(i,"preSwapRespreSwapRes"),ee.value=i==null?void 0:i.isExceed,T.value=="Sui"&&!i&&(ee.value=!0,console.log("溢出")),uo.value=i==null?void 0:i.estimatedFeeAmount,f.value?(s.value=i.estimatedAmountOut,K.value?fe.value=(n/Number(i.estimatedAmountOut)).toString():pe.value=(Number(i.estimatedAmountOut)/n).toString()):(v.value=i.estimatedAmountIn,K.value?fe.value=(Number(i.estimatedAmountIn)/n).toString():pe.value=(n/Number(i.estimatedAmountIn)).toString()),je.value=Number(s.value)/Number(v.value),_e.value=Number(v.value)/Number(s.value),Pe.value=io(i.poolInfo||S.value),c.value=!1,m.value=!1}catch(i){console.log("pre swap error",i),c.value=!1,m.value=!1}}else f.value?s.value="":v.value="",c.value=!1,m.value=!1},ro=Je(),H=w(()=>ro),co=r({}),fe=r(""),pe=r("");X($,()=>{fe.value="",pe.value="",f.value?de(v.value):de(s.value)});const W=w(()=>H.value.assets&&a.value&&H.value.assets[a.value.address]?Xe(H.value.assets[a.value.address].balance,a.value.decimals):0),L=w(()=>H.value.assets&&t.value&&H.value.assets[t.value.address]?Xe(H.value.assets[t.value.address].balance,t.value.decimals):0),mo=Ye();X(()=>d.value.tokensObj,async n=>{if(!Ie(n)){console.log(n,"===>newValue626"),console.log(mo,"===>route625");const p=e?e.currentRoute.value.query.to:"",i=e?e.currentRoute.value.query.from:"";i?a.value=await E.value.getTokenBySymbol(n,i):!i&&!a.value&&(a.value=await E.value.getTokenBySymbol(n,U.chainName==="Aptos"?"0x5e156f1207d0ebfa19a9eeff00d62a282278fb8719f4fab3a586a0a2c0fffbea::coin::T":"0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN"),console.log(a.value,"===>fromCoin.value")),p?t.value=await E.value.getTokenBySymbol(n,p):!p&&!t.value&&(t.value=await E.value.getTokenBySymbol(n,U.chainName==="Aptos"?"0x1::aptos_coin::AptosCoin":"0x2::sui::SUI")),!i&&p&&(a.value="")}},{immediate:!0});const S=w(()=>{var n,p,i,y;if(a.value&&t.value){let C=null;const k={};if(Object.values(d.value.poolConfigList).forEach(I=>{var N,q,R,F;(I.coinA.address.toUpperCase()===((N=a.value.address)==null?void 0:N.toUpperCase())&&I.coinB.address.toUpperCase()===((q=t.value.address)==null?void 0:q.toUpperCase())||I.coinB.address.toUpperCase()===((R=a.value.address)==null?void 0:R.toUpperCase())&&I.coinA.address.toUpperCase()===((F=t.value.address)==null?void 0:F.toUpperCase()))&&(k[I.address]={...I})}),d.value.poolsObj&&!Ie(d.value.poolsObj))for(const I in d.value.poolsObj){const N=d.value.poolsObj[I];(N.token_a.address.toUpperCase()===((n=a.value.address)==null?void 0:n.toUpperCase())&&N.token_b.address.toUpperCase()===((p=t.value.address)==null?void 0:p.toUpperCase())||N.token_b.address.toUpperCase()===((i=a.value.address)==null?void 0:i.toUpperCase())&&N.token_a.address.toUpperCase()===((y=t.value.address)==null?void 0:y.toUpperCase()))&&(k[N.address]={...N})}return C=Object.values(k).sort((I,N)=>I.fee-N.fee)[0],console.log("0412###swap###poolInfo###",C),C&&!Ie(C)?C:null}return null}),Me=r(!0),We=r(!1),vo=async n=>{n&&(de(f.value?v.value:s.value),We.value=!0,n.coinA.symbol.toLowerCase()===a.value.symbol.toLowerCase()&&n.coinB.symbol.toLowerCase()===t.value.symbol.toLowerCase()?Me.value=!0:Me.value=!1,ee.value=!1)};X(()=>S.value,(n,p)=>{n&&(!p||n.address!==p.address||n.current_sqrt_price!==p.current_sqrt_price)&&vo(n)},{immediate:!0,deep:!0});const fo=w(()=>d.value.tokensObj&&a.value&&a.value.address&&d.value.tokensObj[a.value.address]&&d.value.tokensObj[a.value.address].logoURI),po=w(()=>(console.log(d.value.tokensObj,"===>pools.value.tokensObj"),d.value.tokensObj&&t.value&&t.value.address&&d.value.tokensObj[t.value.address]&&d.value.tokensObj[t.value.address].logoURI)),Co=w(()=>d.value.tokensObj&&a.value&&a.value.address&&d.value.tokensObj[a.value.address]&&d.value.tokensObj[a.value.address].coingecko_id||null),bo=w(()=>d.value.tokensObj&&t.value&&t.value.address&&d.value.tokensObj[t.value.address]&&d.value.tokensObj[t.value.address].coingecko_id||null),go=w(()=>{var y,C,k;const n=new A(v.value);console.log(_.value,"===>toAddLiquidiPoolInfo"),console.log((y=_==null?void 0:_.value)==null?void 0:y.fee,"toAddLiquidiPoolInfo?.value?.fee");const p=new A(T.value=="Aptos"?(C=S==null?void 0:S.value)==null?void 0:C.fee:(k=_==null?void 0:_.value)==null?void 0:k.fee),i=n.mul(p).toString();return console.log(i,"===>fee"),Number(i)<1/Math.pow(10,a.value.decimals)?`<${new A(1).div(new A(Math.pow(10,a.value.decimals))).toString()}`:ke(i,a.value.decimals)}),{setIsShowSuccess:ho,setIsShowRejected:Le,setIsShowWaiting:Ce,setTransactionDesc:Ao,setTransactionTxid:qe}=U,wo=async()=>{var p,i,y,C,k,I,N,q;Z.value=!1,c.value=!0,qe(""),Ao(b("tips.swapping",{from:`${v.value} ${(p=a.value)==null?void 0:p.symbol}`,to:`${s.value} ${(i=t.value)==null?void 0:i.symbol}`})),Ce(!0);let n=a.value.address===S.value.token_a.address&&t.value.address===S.value.token_b.address?0:1;try{console.log("0221####swap start####",T.value,"###",E),console.log("0412###toSwap###poolInfo.value###",S.value);let R;T.value=="Aptos"?R=await E.value.getSwapTransactionPayload({pool:S.value,a2b:n==0,byAmountIn:f.value,amount:f.value?v.value:s.value,slippage:Number(re.value)/100}):(n=a.value.address===_.value.token_a.address&&t.value.address===_.value.token_b.address?0:1,console.log({pool:_.value,a2b:n==0,byAmountIn:f.value,amount:f.value?v.value:s.value,slippage:Number(re.value)/100},"111111111"),R=await E.value.getSwapTransactionPayload({pool:_.value,a2b:n==0,byAmountIn:f.value,amount:f.value?v.value:s.value,slippage:Number(re.value)/100})),console.log("0221####swap###swapPayload###",R);let F;if(T.value==="Aptos")F=await H.value.currentWallet.signAndSubmitTransaction(R);else{console.log("0221###swap###sui##signAndExecuteTransaction前###",T.value,"###swapPayload###",R);const oe=await H.value.currentWallet.signAndExecuteTransactionBlock(R);console.log("0221###sui swap res###",oe),F=E.value.handleTx(oe),console.log("0221###swap###sui##tx###",F)}if(F&&F.hash){qe(F.hash),Ce(!1),ho(!0);const oe={title:b("tips.swap"),desc:b("tips.swapSuccessText",{from:`${v.value} ${(y=a.value)==null?void 0:y.symbol}`,to:`${s.value} ${(C=t.value)==null?void 0:C.symbol}`}),hash:F.hash,tit:"Swap",icon:"icon-icon-swap1",tokenInfo:{tokena:`${(k=a.value)==null?void 0:k.address}`,numa:`- ${v.value}`,logoa:d.value.tokensObj&&a.value&&a.value.address&&d.value.tokensObj[a.value.address]&&d.value.tokensObj[a.value.address].logoURI,tokenb:`${(I=t.value)==null?void 0:I.address}`,numb:`+ ${s.value}`,logob:d.value.tokensObj&&t.value&&t.value.address&&d.value.tokensObj[t.value.address]&&d.value.tokensObj[t.value.address].logoURI},text:`Pay ${v.value} ${(N=a.value)==null?void 0:N.symbol} to receive ${s.value} ${(q=t.value)==null?void 0:q.symbol}`};T.value!=="Aptos"&&(oe.res=F.res),E.value.showTransitionPending(oe);const Ke=await E.value.watchTransaction(oe);console.log("0221###swap###transitionStatus####",Ke),Ke&&setTimeout(()=>{j.updateCurrentPools(S.value.poolAddress,T.value),E.value.getAccount(H.value.address)},1e3)}else Ce(!1),Le(!0);v.value="",s.value="",c.value=!1}catch(R){v.value="",s.value="",console.log("Swap Error###",R),c.value=!1,Ce(!1),Le(!0)}},So=n=>{var p;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((p=d.value.tokensObj[n==null?void 0:n.address])==null?void 0:p.logo_url)||(U.theme==="default"?ie("/image/coins/unknown.png"):ie("/image/coins/sui-unknown.png"))},be=r([]);X(()=>[a.value,t.value,d.value.poolConfigList],([n,p,i])=>{if(i&&i.length>0&&n&&p){const y=[];i.forEach(C=>{var k,I,N,q;(C.coinA.address.toUpperCase()===((k=n.address)==null?void 0:k.toUpperCase())&&C.coinB.address.toUpperCase()===((I=p.address)==null?void 0:I.toUpperCase())||C.coinB.address.toUpperCase()===((N=n.address)==null?void 0:N.toUpperCase())&&C.coinA.address.toUpperCase()===((q=p.address)==null?void 0:q.toUpperCase()))&&y.push(C)}),console.log(y,"result===>"),be.value=y}},{immediate:!0});const Se=n=>{console.log(B.value,"===>currentCoinKey.value"),console.log(n);const p=localStorage.getItem(n.address);console.log(d.value.tokensObj,"===>pools.value.tokensObj"),console.log(p,"===>coinLocak"),d.value.tokensObj&&d.value.tokensObj[n.address]&&d.value.tokensObj[n.address].isSelfBuilt&&!p?ye.value=!0:(B.value==="fromCoin"?(v.value="",t.value&&n.address.toLowerCase()===(t==null?void 0:t.value.address.toLowerCase())&&(t.value=null),a.value=n):(a.value&&(s.value="",n.address.toLowerCase()===(a==null?void 0:a.value.address.toLowerCase())&&(a.value=null)),t.value=n),Qe())},ye=r(!1),Qe=()=>{Ae.value={},he.value={},ye.value=!1};return{closeTokenWarning:Qe,isShowTokenWarning:ye,getTokenSource:Se,hasPool:We,getPoolInfoSuccess:Re,halfBtnSelect:ao,formCoinId:Co,toCoinId:bo,fromCoinUrl:fo,toCoinUrl:po,t:b,indicator:l,wallet:H,currentLpInfo:co,fixD:Y,decimalFormat:Be,impact:Pe,oneFromAmount:fe,oneToAmount:pe,importIcon:ie,clickExchange:lo,clickRefresh:to,refresh:D,change:$,isShowAddress:Q,isShowSwapSetting:ne,fromCoin:a,toCoin:t,slippage:re,openCoinSelect:oo,onCoinSelect:no,existingCoins:J,lastSelectCoin:G,currentCoinKey:B,showCoinSelect:z,fromCoinAmount:v,toCoinAmount:s,maxBtnSelect:so,fixedFromCoin:f,swapBtnText:eo,toSwap:wo,loading:V,swaping:c,autoRefreshTime:me,countdown:x,setMarketTimer:we,marketTimer:te,rateChange:K,isSwapConfirmMpdal:Z,fromCoinBlance:W,toCoinBlance:L,poolInfo:S,chainName:T,swapRouterLoading:Fe,formatFee:go,calculating:m,currentRate:je,currentRateReverse:_e,getCoinIcon:So,toAddLiquidiPoolInfo:_,decimalUi:Oe,warningToCoin:Ae,warningFromCoin:he}}}),Hn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAGCBAMAAAAmlj/IAAAAFVBMVEVHcEwzMzMzMzMyMjI0NDQvLy8zMzOcydXuAAAABnRSTlMAy9hRbBs90ObtAAAAWklEQVRIx2NgYBFLdGBgYBVLS0sMYGBMMg1WE2BwU2VgCEphEDNgYGBOZEgLAMqnMaQxAEEaTBCqBKoBqh1qGAMDWwLDKDVKjVKj1Cg1So1So9QoNdwo6rccATYwqRNK4tkrAAAAAElFTkSuQmCC",Xn="data:image/png;base64,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";const ue=e=>(De("data-v-dee94839"),e=e(),$e(),e),Yn={class:"swap-container"},Zn={class:"title"},Jn={class:"left"},Gn={class:"right title-right"},Vn=ue(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),xn={class:"swap-card"},es={class:"card-container"},os={class:"card-item"},ns={class:"card-item"},ss=ue(()=>o("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),as=[ss],ts={key:0,class:"induction"},ls={key:0,class:"exchange-rate-btn"},is={key:0},us=["src"],rs={key:0},ds=["src"],cs={key:0},ms={key:1},vs={key:0},fs=["src"],ps=["src"],Cs=ue(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),bs=[Cs],gs={class:"item"},hs={class:"induction-text"},As={class:"item"},ws={class:"induction-text"},Ss={key:0,class:"induction-value"},ys={class:"item"},ks={class:"induction-text"},Is={key:0,class:"induction-value"},Ns={key:0,class:"icon","aria-hidden":"true"},Bs=ue(()=>o("use",{"xlink:href":"#icon-icon-swap"},null,-1)),Os=[Bs],Ts={key:3,class:"token-info-container"},Us={class:"token-info-title"},Ds=ue(()=>o("span",{class:"coingecko"},"Ref. CoinGecko",-1)),$s=ue(()=>o("img",{src:Xn,alt:""},null,-1)),Es=ue(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-information"})],-1));function Rs(e,l,b,h,U,j){var V,c;const d=yo,$=Io,D=_o,Q=Wo,ne=xe,K=Bo,Z=No,B=Oo,J=wn,G=Mo,z=Kn,f=ko;return g(),O("div",Yn,[o("div",Zn,[o("div",Jn,u(e.$t("menu.swap")),1),o("div",Gn,[o("div",{class:"slippage-icon",onClick:l[0]||(l[0]=m=>e.isShowSwapSetting=!0)},[Vn,o("span",null,u(e.slippage)+"%",1)]),le(d,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),o("div",xn,[o("div",es,[o("div",os,[le($,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":l[1]||(l[1]=m=>e.fromCoinAmount=m),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logo_url:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:l[2]||(l[2]=m=>e.maxBtnSelect("fromCoin")),onOnHalf:l[3]||(l[3]=m=>e.halfBtnSelect("fromCoin")),onOnInput:l[4]||(l[4]=m=>{e.fromCoinAmount=m,e.fixedFromCoin=!0}),onOnSelect:l[5]||(l[5]=m=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("div",ns,[le($,{modelValue:e.toCoinAmount,"onUpdate:modelValue":l[6]||(l[6]=m=>e.toCoinAmount=m),"input-value":e.toCoinAmount,havemax:!1,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logo_url:"",address:e.toCoin?e.toCoin.address:"",onOnInput:l[7]||(l[7]=m=>{e.toCoinAmount=m,e.fixedFromCoin=!1}),onOnSelect:l[8]||(l[8]=m=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("img",{class:ve(e.change?"gang animationex":"gang"),src:Hn,alt:""},null,2),o("div",{class:"exchange",onClick:l[9]||(l[9]=m=>e.clickExchange())},[(g(),O("svg",{class:ve(e.change?"icon animationex":"icon"),"aria-hidden":"true"},as,2))])]),e.poolInfo&&e.fromCoinAmount&&e.toCoinAmount&&e.fromCoinAmount!=="0"&&e.toCoinAmount!=="0"&&e.swapBtnText!==e.$t("button.poolNotFound")?(g(),O("div",ts,[e.fromCoinAmount&&e.toCoinAmount?(g(),O("div",ls,[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(g(),O("span",ms,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(g(),O("span",vs,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,fs),se(" 1 "+u(e.toCoin.symbol)+" ≈ ",1),o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,ps),o("span",null,u(("decimalUi"in e?e.decimalUi:ae(Oe))(e.currentRateReverse,e.fromCoin.decimals)),1),se("  "+u(e.fromCoin.symbol),1)])):(g(),M(D,{key:1,indicator:e.indicator},null,8,["indicator"]))])):P("",!0):(g(),O("span",is,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,us),se(" 1 "+u(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(g(),O("span",rs,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,ds),e.calculating?P("",!0):(g(),O("span",cs,u(("decimalUi"in e?e.decimalUi:ae(Oe))(e.currentRate,e.toCoin.decimals)),1)),e.calculating?(g(),M(D,{key:1,indicator:e.indicator},null,8,["indicator"])):P("",!0),se("  "+u(e.toCoin.symbol),1)])):(g(),M(D,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(g(),O("svg",{class:"icon-change","aria-hidden":"true",onClick:l[10]||(l[10]=m=>e.rateChange=!e.rateChange)},bs))])):P("",!0),o("div",gs,[o("div",hs,u(e.$t("common.priceImpact")),1),e.swaping?(g(),M(Q,{key:1,paragraph:!1,active:""})):(g(),O("div",{key:0,class:ve(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},u(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",3))]),o("div",As,[o("div",ws,u(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swaping?(g(),M(Q,{key:1,paragraph:!1,active:""})):(g(),O("div",Ss,u(e.fixedFromCoin?("fixD"in e?e.fixD:ae(Y))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals):("fixD"in e?e.fixD:ae(Y))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals))+" "+u(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",ys,[o("div",ks,u(e.$t("common.fee")),1),e.swaping?(g(),M(Q,{key:1,paragraph:!1,active:""})):(g(),O("div",Is,u(e.formatFee)+" "+u(e.fromCoin.symbol)+" ("+u(e.chainName=="Aptos"?e.poolInfo.fee*100:((V=e.toAddLiquidiPoolInfo)==null?void 0:V.fee)*100)+"%) ",1))])])):P("",!0)]),le(ne,{disabled:e.wallet.connected?e.swaping||!e.fromCoin||!e.toCoin||!Number(e.fromCoinAmount)||!Number(e.toCoinAmount)||Number(e.fromCoinAmount)>Number(e.fromCoinBlance)||e.swapBtnText==e.$t("button.poolNotFound")||e.swapBtnText!==e.$t("button.swap")||e.poolInfo.is_pause:!1,class:"big-btn",loading:e.swaping,onClick:l[11]||(l[11]=m=>e.wallet.connected?e.isSwapConfirmMpdal=!0:e.wallet.setIsShowWalletModal(!0))},{default:ce(()=>[e.wallet.connected?(g(),O("svg",Ns,Os)):P("",!0),o("span",null,u(e.wallet.connected?e.swapBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),le(K),e.showCoinSelect?(g(),M(Z,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:l[12]||(l[12]=m=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):P("",!0),e.isShowSwapSetting?(g(),M(B,{key:1,onOnClose:l[13]||(l[13]=m=>e.isShowSwapSetting=!1)})):P("",!0),e.isSwapConfirmMpdal?(g(),M(J,{key:2,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,impact:e.impact,fee:e.chainName=="Aptos"?e.poolInfo.fee:(c=e.toAddLiquidiPoolInfo)==null?void 0:c.fee,"format-fee":e.formatFee,onOnClose:l[14]||(l[14]=m=>e.isSwapConfirmMpdal=!1),onToSwap:e.toSwap},null,8,["fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","impact","fee","format-fee","onToSwap"])):P("",!0),e.chainName&&(e.formCoinId||e.toCoinId)?(g(),O("div",Ts,[o("div",Us,[Ds,$s,le(G,{placement:"top","arrow-point-at-center":""},{title:ce(()=>[se(" The following price is only an external reference from CoinGecko, which may not reflect actual data on Cetus. ")]),default:ce(()=>[Es]),_:1})]),e.fromCoin&&e.formCoinId?(g(),M(z,{key:0,id:e.formCoinId,coin:e.fromCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):P("",!0),e.toCoin&&e.toCoinId?(g(),M(z,{key:1,id:e.toCoinId,coin:e.toCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):P("",!0)])):P("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(g(),M(f,{key:4,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:e.getTokenSource},null,8,["from-coin","to-coin","onClose","onClickContinue"])):P("",!0)])}const Hs=Ue(zn,[["render",Rs],["__scopeId","data-v-dee94839"]]);export{Hs as default};
