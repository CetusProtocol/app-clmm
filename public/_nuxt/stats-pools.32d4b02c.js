import{_ as js}from"./back.56b224bd.js";import{_ as Es}from"./apr-tips.8e17a808.js";import{a as Us,b as Bs,i as x,e as Ws,W as Fs,r as v,f as qs,w as vs,Q as Js,v as Ks,j as G,y as is,R as us,k as Ms,o as i,l as _,m as a,C as J,A as T,t as n,J as H,F as ss,T as es,p as P,fl as Qs,E as _s,q as zs,s as Gs,K as Xs}from"./entry.70361f87.js";import{_ as cs}from"./icon_on_stats.b61a8e0c.js";import{p as Ys}from"./precision.1cd464a0.js";import{_ as ps}from"./icon-Rewards.cb9282e1.js";const Zs=Us({setup(){const o=Bs(),u=x(()=>o),ds=x(()=>u.value.newTokenObj||{}),os=Ws(),K=x(()=>os),M=Fs();let ls=v("big");const g=v(1),w=v(1);let y=v(!1);const s=()=>{os.getStatsData(K.value.chainName)};qs(()=>{os.getStatsData(K.value.chainName);const e=document.body.clientWidth;e<750?y.value=!1:y.value=!0,window.onresize=()=>{e<750?y.value=!1:y.value=!0},y.value,Z(g.value,10),m(w.value,10)});let p=v([]);const f=x(()=>K.value.topPoolsList),h=e=>(l,d)=>{let c=l[e],t=d[e];return c-t},r=e=>(l,d)=>{let c=l[e];return d[e]-c},k=v(!1),I=v(!1),A=v(!1),$=v(!1),C=v(!0),j=v(!1),E=v(!1),U=v(!1),D=v(!1),V=v(!1),R=v(!1),b=v(!1),B=v(!1),W=v(!1),F=v(!1),N=v(!0),X=v(!1),as=v("TVL"),rs=v(["Volume (24H)","Volume (7D)","APR"]),Y=v(!1),ns=v("TVL"),ts=v(["Price","Volume (24H)","Price Change"]),hs=e=>{const l=f;if(e=="tvl_in_usd"?(C.value?(k.value=!k.value,l.value.sort(k.value?h(e):r(e))):l.value.sort(r(e)),I.value=!1,A.value=!1,$.value=!1,C.value=!0,j.value=!1,E.value=!1,U.value=!1):e=="vol_in_usd_24h"?(j.value?(I.value=!I.value,l.value.sort(I.value?h(e):r(e))):l.value.sort(r(e)),k.value=!1,A.value=!1,$.value=!1,C.value=!1,j.value=!0,E.value=!1,U.value=!1):e=="vol_in_usd_7_day"?(E.value?(A.value=!A.value,l.value.sort(A.value?h(e):r(e))):l.value.sort(r(e)),k.value=!1,I.value=!1,$.value=!1,C.value=!1,j.value=!1,E.value=!0,U.value=!1):e=="aprNum"&&(U.value?($.value=!$.value,l.value.sort($.value?h(e):r(e))):l.value.sort(r(e)),k.value=!1,I.value=!1,A.value=!1,C.value=!1,j.value=!1,E.value=!1,U.value=!0),l.value.length<10)p.value=l.value.slice(0,10);else{const d=g.value*10;p.value=l.value.slice(d-10,d)}},fs=e=>{const l=Q;if(e=="price"?(B.value?(D.value=!D.value,l.value.sort(D.value?h(e):r(e))):l.value.sort(r(e)),V.value=!1,R.value=!1,b.value=!1,B.value=!0,W.value=!1,F.value=!1,N.value=!1):e=="vol_in_usd_24h"?(F.value?(R.value=!R.value,l.value.sort(R.value?h(e):r(e))):l.value.sort(r(e)),D.value=!1,V.value=!1,b.value=!1,B.value=!1,W.value=!1,F.value=!0,N.value=!1):e=="tvl_in_usd"?(N.value?(b.value=!b.value,l.value.sort(b.value?h(e):r(e))):l.value.sort(r(e)),D.value=!1,V.value=!1,R.value=!1,B.value=!1,W.value=!1,F.value=!1,N.value=!0):e=="priceHour"&&(W.value?(V.value=!V.value,l.value.sort(V.value?h(e):r(e))):l.value.sort(r(e)),D.value=!1,R.value=!1,b.value=!1,B.value=!1,W.value=!0,F.value=!1,N.value=!1),l.value.length<10)S.value=l.value.slice(0,10);else{const d=w.value*10;S.value=l.value.slice(d-10,d)}},ks=e=>{e=="label"?(Y.value=!Y.value,X.value=!1):e=="select"?(X.value=!X.value,Y.value=!1):(X.value=!1,Y.value=!1)},gs=e=>{const l=[];l.push(as.value),rs.value.forEach((d,c)=>{d!=e&&l.push(d)}),rs.value=l,as.value=e,e=="TVL"?p.value.sort(r("tvl_in_usd")):e=="Volume (24H)"?p.value.sort(r("vol_in_usd_24h")):e=="Volume (7D)"?p.value.sort(r("vol_in_usd_7_day")):e=="APR"&&p.value.sort(r("aprNum"))},Ts=e=>{const l=[];l.push(ns.value),ts.value.forEach((d,c)=>{d!=e&&l.push(d)}),ts.value=l,ns.value=e,e=="TVL"?S.value.sort(r("tvl_in_usd")):e=="Volume (24H)"?S.value.sort(r("vol_in_usd_24h")):e=="Price"?S.value.sort(r("price")):e=="Price Change"&&S.value.sort(r("priceHour"))};vs(f,()=>{y.value,Z(g.value,10)});const Z=(e,l)=>{g.value=e;const d=l*e-l;let c=l*e;c=c>f.value.length?f.value.length:c;const t=f.value;if(t.length>0){C.value&&!k.value?t.sort(ws):C.value&&k.value?t.sort(Hs):j.value?I.value?t.sort(Ps):t.sort(ys):E.value?A.value?t.sort(Is):t.sort(Ls):U.value&&($.value?t.sort(As):t.sort(bs));const z=t.filter((q,O)=>O>=d&&O<c);p.value=z}return t},ws=(e,l)=>l.tvl_in_usd-e.tvl_in_usd,ys=(e,l)=>l.vol_in_usd_24h-e.vol_in_usd_24h,Ls=(e,l)=>l.vol_in_usd_7_day-e.vol_in_usd_7_day,bs=(e,l)=>l.aprNum-e.aprNum,Hs=(e,l)=>e.tvl_in_usd-l.tvl_in_usd,Ps=(e,l)=>e.vol_in_usd_24h-l.vol_in_usd_24h,Is=(e,l)=>e.vol_in_usd_7_day-l.vol_in_usd_7_day,As=(e,l)=>e.aprNum-l.aprNum;let S=v([]);const Q=x(()=>{const e=K.value.topTokensList,l=[];for(let d=0;d<e.length;d++){const c=e[d];l.push({...c,priceHour:c?Number(c.price_rate_24h.substring(0,c.price_rate_24h.length-1)):"0"})}return l});vs(Q,()=>{y.value,m(w.value,10)});const m=(e,l)=>{w.value=e;const d=l*e-l;let c=l*e;c=c>Q.value.length?Q.value.length:c;const t=Q.value;if(t.length>0){N.value&&!b.value?t.sort($s):N.value&&b.value?t.sort(Rs):B.value?D.value?t.sort(Ns):t.sort(Cs):W.value?V.value?t.sort(Ss):t.sort(Ds):F.value&&(R.value?t.sort(Os):t.sort(Vs));const z=t.filter((q,O)=>O>=d&&O<c);S.value=z}return t},$s=(e,l)=>l.tvl_in_usd-e.tvl_in_usd,Cs=(e,l)=>l.price-e.price,Ds=(e,l)=>l.priceHour-e.priceHour,Vs=(e,l)=>l.vol_in_usd_24h-e.vol_in_usd_24h,Rs=(e,l)=>e.tvl_in_usd-l.tvl_in_usd,Ns=(e,l)=>e.price-l.price,Ss=(e,l)=>e.priceHour-l.priceHour,Os=(e,l)=>e.vol_in_usd_24h-l.vol_in_usd_24h;return{getRewarderInfo:e=>{const l=e.swap_account;return u.value.addressLpTokens&&u.value.addressLpTokens[l]&&u.value.addressLpTokens[l].rewarder_infos},addCommom:Js,store:K,importIcon:Ks,topPoolsList:f,addressTokens:ds,showEcharts:ls,currentPools:g,onChangePools:Z,currentTopPoolsList:p,onChangeTokens:m,currentTokens:w,currentTopTokensList:S,topTokensList:Q,router:M,isPc:y,getAprTotal:(e,l)=>e&&l?is(Ys.plus(us(e),us(l)),2)+"%":e,getRewarderApr:e=>{let l=0;return e&&e.forEach(d=>{l+=us(String(d))}),String(is(String(l),2))},toPoolsList:()=>{M&&M.push("/stats-pools")},toTokensList:()=>{M&&M.push("/stats-tokens")},changePoolsList:hs,changeTokensList:fs,tvlImprint:k,volHImprint:I,volDImprint:A,aprImprint:$,tokensPriceImprint:D,tokensPriceHImprint:V,tokensVolHImprint:R,tokensTvlImprint:b,labelToken:Y,select:X,selectValue:as,selectList:rs,reviseValue:ks,changeSort:gs,tokenValue:ns,tokensList:ts,changeSortLabel:Ts,tvlImprintHighlight:C,volHImprintHighlight:j,volDImprintHighlight:E,aprImprintHighlight:U,tokensPriceImprintHighlight:B,tokensPriceHImprintHighlight:W,tokensVolHImprintHighlight:F,tokensTvlImprintHighlight:N,getLabel:e=>{const l=e.swap_account;return u.value.addressLpTokens&&u.value.addressLpTokens[l]&&u.value.addressLpTokens[l].labels},rewardApr:e=>{if(!G(e)&&!G(u.value.addressLpTokens)&&!G(u.value.newTokenObj)){const l=e.swap_account,d=u.value.addressLpTokens[l];let c=d.rewarder_infos||[];const t=[];c.forEach((q,O)=>{t.push({...q,symbol:u.value.newTokenObj[q.coinAddress].symbol,rewarderApr:e.rewarder_apr[O],logoUrl:u.value.newTokenObj[q.coinAddress].logoURI,rewarder_display:d[`rewarder_display${O+1}`]})});let z=[];return z=t.filter(q=>q.rewarder_display),z}},getsad:s,rewardDisplay:e=>{if(!G(e)&&!G(u.value.addressLpTokens)&&!G(u.value.newTokenObj)){const l=u.value.addressLpTokens[e.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1}}}});const L=o=>(zs("data-v-e2980332"),o=o(),Gs(),o),ms={class:"stats-container"},xs={class:"title"},se={class:"top-pools-new"},ee={class:"sort-by"},oe=L(()=>a("img",{src:cs,alt:""},null,-1)),le=L(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),ae=[le],re={key:0,class:"select-item"},ne=["onClick"],te=L(()=>a("img",{src:cs,alt:""},null,-1)),ue={class:"content"},de={class:"item"},ve=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ie=[ve],_e=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ce=[_e],pe=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),he=[pe],fe=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ke=[fe],ge={class:"apr-hover-content"},Te=L(()=>a("span",null,"\xA0",-1)),we={class:"token"},ye=["src"],Le=["src"],be={class:"name"},He={class:"token-name"},Pe={class:"fee-tier-top"},Ie={class:"label-all"},Ae={key:0},$e={class:"tvl"},Ce={class:"volume-hour"},De={class:"volume-day"},Ve=L(()=>a("img",{src:ps,alt:""},null,-1)),Re={key:0,class:"apr-hover-content"},Ne={class:"btn-box"},Se={class:"top"},Oe={class:"token"},je=["src"],Ee=["src"],Ue={class:"name"},Be={class:"token-name"},We={class:"label-all"},Fe={key:0},qe={class:"fee-tier-hint"},Je={class:"middle"},Ke={class:"item-pools"},Me={class:"item-pools"},Qe={class:"item-pools"},ze=L(()=>a("img",{src:ps,alt:""},null,-1)),Ge={key:0,class:"apr-hover-content"},Xe={class:"bottom"},Ye={class:"panation"};function Ze(o,u,ds,os,K,M){const ls=js,g=Es,w=Xs,y=Qs;return i(),_("div",ms,[a("div",xs,[J(ls),T(" "+n(o.$t("menu.pools")),1)]),a("div",se,[a("div",ee,[a("div",null,n(o.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:u[0]||(u[0]=s=>o.reviseValue("select"))},[a("div",null,[T(n(o.selectValue)+" ",1),oe]),(i(),_("svg",{"aria-hidden":"true",class:H(o.select?"show-icon icon":"icon")},ae,2)),o.select?(i(),_("div",re,[(i(!0),_(ss,null,es(o.selectList,(s,p)=>(i(),_("div",{key:p,class:"select-menu-item",onClick:f=>o.changeSort(s)},[T(n(s)+" ",1),te],8,ne))),128))])):P("",!0)])]),a("div",ue,[a("div",de,[a("span",null,n(o.$t("newAdd.pool")),1),a("span",{onClick:u[1]||(u[1]=s=>o.changePoolsList("tvl_in_usd"))},[T(n(o.$t("common.tvl"))+" ",1),(i(),_("svg",{"aria-hidden":"true",class:H(["pools-icon",o.tvlImprint?o.tvlImprintHighlight?"selected highlight":"selected":o.tvlImprintHighlight?"highlight":""])},ie,2))]),a("span",{onClick:u[2]||(u[2]=s=>o.changePoolsList("vol_in_usd_24h"))},[T(n(o.$t("common.volume24H"))+" ",1),(i(),_("svg",{"aria-hidden":"true",class:H(["pools-icon",o.volHImprint?o.volHImprintHighlight?"selected highlight":"selected":o.volHImprintHighlight?"highlight":""])},ce,2))]),a("span",{onClick:u[3]||(u[3]=s=>o.changePoolsList("vol_in_usd_7_day"))},[T(n(o.$t("newAdd.volume7D"))+" ",1),(i(),_("svg",{"aria-hidden":"true",class:H(["pools-icon",o.volDImprint?o.volDImprintHighlight?"selected highlight":"selected":o.volDImprintHighlight?"highlight":""])},he,2))]),a("span",{onClick:u[4]||(u[4]=s=>o.changePoolsList("aprNum"))},[T(" APR "),(i(),_("svg",{"aria-hidden":"true",class:H(["pools-icon",o.aprImprint?o.aprImprintHighlight?"selected highlight":"selected":o.aprImprintHighlight?"highlight":""])},ke,2)),a("div",ge,[J(g,{class:"noHover apr-hover-con"})])]),Te]),(i(!0),_(ss,null,es(o.currentTopPoolsList,(s,p)=>{var f,h;return i(),_("div",{key:p,class:"item pc-item"},[a("div",we,[s!=null&&s.token_a_address?(i(),_("img",{key:0,src:o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].symbol.toLowerCase()}.png`)},null,8,ye)):P("",!0),s!=null&&s.token_b_address?(i(),_("img",{key:1,src:o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].symbol.toLowerCase()}.png`)},null,8,Le)):P("",!0),a("div",be,[a("p",He,n(o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].symbol)+" - "+n(o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].symbol),1),a("div",Pe,n((s==null?void 0:s.fee)*100)+"%",1),a("div",Ie,[(i(!0),_(ss,null,es(o.getLabel(s),(r,k)=>(i(),_("div",{key:k,class:H(["label",r])},[r!=="Native"?(i(),_("span",Ae,n(r),1)):P("",!0)],2))),128))])])]),a("div",$e," $"+n(s.tvl_in_usd?o.addCommom(s.tvl_in_usd,2):"--"),1),a("div",Ce," $"+n(s!=null&&s.vol_in_usd_24h?o.addCommom(s==null?void 0:s.vol_in_usd_24h,2):"--"),1),a("div",De," $"+n(s!=null&&s.vol_in_usd_7_day?o.addCommom(s==null?void 0:s.vol_in_usd_7_day,2):"--"),1),a("div",{class:H(["apr",((f=o.rewardApr(s))==null?void 0:f.length)>0&&o.rewardDisplay(s)?"apr-mark":""])},[Ve,T(" "+n(o.getAprTotal(s.apr_7day,o.getRewarderApr(s.rewarder_apr)))+" ",1),((h=o.rewardApr(s))==null?void 0:h.length)!=0&&o.rewardDisplay(s)?(i(),_("div",Re,[J(g,{class:"noHover apr-hover-con","l-item":{apr:s.apr_7day,aprTotal:o.getAprTotal(s.apr_7day,o.getRewarderApr(s.rewarder_apr)),is_display_rewarder:o.rewardDisplay(s),rewarder_apr:o.getRewarderApr(s.rewarder_apr)},"rewarder-info":o.rewardApr(s)},null,8,["l-item","rewarder-info"])])):P("",!0)],2),a("div",Ne,[J(w,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${s==null?void 0:s.token_a_address}&tokenb=${s==null?void 0:s.token_b_address}&fee=${s==null?void 0:s.fee}`)},{default:_s(()=>[T(n(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(i(!0),_(ss,null,es(o.currentTopPoolsList,(s,p)=>{var f,h;return i(),_("div",{key:p,class:"item h5-item"},[a("div",Se,[a("div",Oe,[s!=null&&s.token_a_address?(i(),_("img",{key:0,src:o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].symbol.toLowerCase()}.png`)},null,8,je)):P("",!0),s!=null&&s.token_b_address?(i(),_("img",{key:1,src:o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].symbol.toLowerCase()}.png`)},null,8,Ee)):P("",!0),a("div",Ue,[a("p",Be,n(o.addressTokens&&o.addressTokens[s.token_a_address]&&o.addressTokens[s.token_a_address].symbol)+" - "+n(o.addressTokens&&o.addressTokens[s.token_b_address]&&o.addressTokens[s.token_b_address].symbol),1),a("div",We,[(i(!0),_(ss,null,es(o.getLabel(s),(r,k)=>(i(),_("div",{key:k,class:H(["label",r])},[r!=="Native"?(i(),_("span",Fe,n(r),1)):P("",!0)],2))),128))])])]),a("div",qe,n((s==null?void 0:s.fee)*100)+"%",1)]),a("div",Je,[a("div",Ke,[a("span",null,n(o.$t("common.tvl")),1),a("p",null," $"+n(s.tvl_in_usd?o.addCommom(s.tvl_in_usd,2):"--"),1)]),a("div",Me,[a("span",null,n(o.$t("common.volume24H")),1),a("p",null," $"+n(s!=null&&s.vol_in_usd_24h?o.addCommom(s==null?void 0:s.vol_in_usd_24h,2):"--"),1)]),a("div",Qe,[a("span",null,n(o.$t("common.volume7D")),1),a("p",null," $"+n(s!=null&&s.vol_in_usd_7_day?o.addCommom(s==null?void 0:s.vol_in_usd_7_day,2):"--"),1)]),a("div",{class:H(["item-pools",((f=o.rewardApr(s))==null?void 0:f.length)>0&&o.rewardDisplay(s)?"":"apr-mark-h5"])},[a("span",null,n(o.$t("common.apr")),1),a("p",null,[ze,T(" "+n(o.getAprTotal(s.apr_7day,o.getRewarderApr(s.rewarder_apr))),1)]),((h=o.rewardApr(s))==null?void 0:h.length)!=0&&o.rewardDisplay(s)?(i(),_("div",Ge,[J(g,{class:"noHover apr-hover-con","l-item":{apr:s.apr_7day,aprTotal:o.getAprTotal(s.apr_7day,o.getRewarderApr(s.rewarder_apr)),is_display_rewarder:o.rewardDisplay(s),rewarder_apr:o.getRewarderApr(s.rewarder_apr)},"rewarder-info":o.rewardApr(s)},null,8,["l-item","rewarder-info"])])):P("",!0)],2)]),a("div",Xe,[J(w,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${s==null?void 0:s.token_a_address}&tokenb=${s==null?void 0:s.token_b_address}&fee=${s==null?void 0:s.fee}`)},{default:_s(()=>[T(n(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),a("div",Ye,[J(y,{current:o.currentPools,"onUpdate:current":u[5]||(u[5]=s=>o.currentPools=s),"page-size":(o.isPc,10),simple:"",total:o.topPoolsList.length,onChange:o.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const co=Ms(Zs,[["render",Ze],["__scopeId","data-v-e2980332"]]);export{co as default};
