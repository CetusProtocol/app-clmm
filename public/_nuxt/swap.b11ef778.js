import{_ as K}from"./refresh-icon.f1ab386d.js";import{_ as j,a as z}from"./coin-select.74058da6.js";import{_ as G}from"./network-tips.afb9f144.js";import{_ as q}from"./swap-setting.9ffa5de2.js";import{b as D,al as W,K as Q,o as t,c as p,m as k,f as n,t as i,y as g,e as l,q as A,l as v,B as R,p as F,j as O,am as Y,s as H,v as B,w as M,x as J,r as P,i as X,k as _,an as E,J as Z,ao as x,h as c,a4 as oo}from"./entry.0790269b.js";import"./img-no-Positions_2x.3a4bda32.js";const T=o=>(F("data-v-10934c9a"),o=o(),O(),o),no=T(()=>n("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),io={class:"swap-confirm-container"},eo={class:"card-content"},so={class:"top"},to={class:"coin"},ao=["src"],lo=T(()=>n("div",{class:"svg-box"},[n("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-icon-swap2"})])],-1)),mo={class:"coin"},ro=["src"],uo={class:"bottom"},co={class:"induction"},fo={class:"item"},po={class:"induction-text"},Co={class:"induction-value induction-value-change"},ho={key:0},vo={key:1},go=T(()=>n("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),$o=[go],bo={class:"item"},Ao={class:"induction-text"},wo={class:"induction-value"},yo={class:"item"},So={class:"induction-text"},ko={class:"induction-value"},No={class:"item"},Io={class:"induction-text"},Bo={class:"item"},Mo={class:"induction-text"},Do={class:"induction-value"};function Fo(o,e,d,a,w,$){const C=R,h=Q("Modal");return t(),p(h,{width:"440px",visible:!0,footer:null,title:o.$t("modal.swapConfirmTitle"),class:"swap-confirm-modal",onCancel:e[2]||(e[2]=f=>o.$emit("on-close"))},{closeIcon:k(()=>[no]),default:k(()=>[n("div",io,[n("div",eo,[n("div",so,[n("div",to,[n("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`)},null,8,ao),n("p",null,i(o.fromCoinAmount),1),g(" \xA0\xA0 "),n("p",null,i(o.fromCoin.symbol),1)]),lo,n("div",mo,[n("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`)},null,8,ro),n("p",null,i(o.toCoinAmount),1),g(" \xA0\xA0 "),n("p",null,i(o.toCoin.symbol),1)])]),n("div",uo,[n("div",co,[n("div",fo,[n("div",po,i(o.$t("common.rate")),1),n("div",Co,[o.rateChange?(t(),l("span",vo," 1 "+i(o.toCoin.symbol)+" \u2248 "+i(o.fixD(Number(o.fromCoinAmount)/Number(o.toCoinAmount),o.toCoin.decimals))+" "+i(o.fromCoin.symbol),1)):(t(),l("span",ho," 1 "+i(o.fromCoin.symbol)+" \u2248 "+i(o.fixD(Number(o.toCoinAmount)/Number(o.fromCoinAmount),o.toCoin.decimals))+" "+i(o.toCoin.symbol),1)),(t(),l("svg",{class:"icon-change","aria-hidden":"true",onClick:e[0]||(e[0]=f=>o.rateChange=!o.rateChange)},$o))])]),n("div",bo,[n("div",Ao,i(o.$t("modal.slippageTolerance")),1),n("div",wo,i(o.slippage)+"%",1)]),n("div",yo,[n("div",So,i(o.fixedFromCoin?o.$t("common.minimumReceived"):o.$t("common.maximumSold")),1),n("div",ko,i(o.fixedFromCoin?o.fixD(o.toCoinAmount-Number(o.toCoinAmount)*Number(o.slippage)/100,o.toCoin.decimals):o.fixD(Number(o.fromCoinAmount)*Number(o.slippage)/100+Number(o.fromCoinAmount),o.fromCoin.decimals))+" "+i(o.fixedFromCoin?o.toCoin.symbol:o.fromCoin.symbol),1)]),n("div",No,[n("div",Io,i(o.$t("common.priceImpact")),1),n("div",{class:A(["induction-value",o.impact<1?"impact-s":o.impact<10&&o.impact>1?"impact-w":"impact-e"])},i(o.impact<.01?"<0.01":o.impact>100?"100":o.impact)+"% ",3)]),n("div",Bo,[n("div",Mo,i(o.$t("common.fee")),1),n("div",Do,i(o.decimalFormat(o.fromCoinAmount*o.fee/100,o.fromCoin.decimals))+" "+i(o.fromCoin.symbol)+" ("+i(o.fee)+"%) ",1)])])])])]),v(C,{class:"big-btn swap-confirm-btn",onClick:e[1]||(e[1]=f=>o.clickNextBtn())},{default:k(()=>[g(i(o.$t("button.confirmSwap")),1)]),_:1})]),_:1},8,["title"])}const Oo=D(W,[["render",Fo],["__scopeId","data-v-10934c9a"]]),To={props:{coin:{type:Object},refresh:{type:Boolean}},setup(o,e){const{$echarts:d}=Y();let a=null;const w=(m,r,b)=>{let u;u={xAxis:{type:"category",boundaryGap:!1,show:!1,data:r},yAxis:{type:"value",show:!1,min:function(s){return s.min-s.min*.1},max:function(s){return s.max+s.max*.1}},grid:{top:1,right:1,bottom:1,left:1},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:"#68FFD8"}},formatter:function(s){return`<div class="chart-tip">
              <div>${s&&s[0]&&s[0].name}</div>
              <div>$${_(s&&s[0]&&s[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#0C4535"},{offset:1,color:"#151817"}]},series:[{data:m,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:"#68FFD8",width:2,type:"solid"}}]},u&&a.clear(),u&&a.setOption(u,!0)},$=async()=>{var u,s;const m=await $fetch(`${y.value.api}/v2/token/kline/${(u=o.coin)==null?void 0:u.name}`),r=[],b=[];m.data.list.reverse().forEach(I=>{r.push(I.settle);const L=E(I.date,"MD"),U=E(I.date,"HM");b.push(L+" "+U)}),w(r,b,(s=o.coin)==null?void 0:s.name)},C=H(),h=B(()=>C),f=B(()=>h.value.chainName),y=B(()=>Z[f.value]);M(()=>o.coin,m=>{m&&$()}),J(()=>{setTimeout(()=>{var r;let m=document.getElementById(`main${(r=o.coin)==null?void 0:r.name}`);a=d.init(m),$()},500)});const S=P({});return M(()=>[h.value.newtopTokenObj,o.coin],([m,r])=>{m&&r&&m[r.address]&&(S.value=m[r.address])},{immediate:!0,deep:!0}),M(()=>o.refresh,m=>{m&&$()}),{store:C,importIcon:X,stats:S,fixD:_,config:y}}},V=o=>(F("data-v-8c192de1"),o=o(),O(),o),Vo={class:"token-info"},_o={class:"token-info-header"},Eo={class:"left"},Ro=["src"],Lo={class:"name"},Uo={class:"desc"},Ko={class:"copy"},jo=V(()=>n("use",{"xlink:href":"#icon-icon-copy"},null,-1)),zo=[jo],Go={class:"right"},qo={class:"price"},Wo={class:"token-info-footer"},Qo={class:"left"},Yo=V(()=>n("p",null,"TVL",-1)),Ho=V(()=>n("p",null,"24H VOL",-1)),Jo={class:"right"},Po=["id"];function Xo(o,e,d,a,w,$){return t(),l("div",Vo,[n("div",_o,[n("div",Eo,[n("img",{src:d.coin.logoURI||a.importIcon(`/image/coins/${d.coin.symbol.toLowerCase()}.png`)},null,8,Ro),n("div",null,[n("div",Lo,i(d.coin.symbol),1),n("div",Uo,[n("span",null,i(d.coin.name),1),n("span",Ko,[(t(),l("svg",{class:"icon","aria-hidden":"true",onClick:e[0]||(e[0]=C=>a.store.copy(d.coin&&d.coin.address))},zo))])])])]),n("div",Go,[n("div",qo,"$"+i(a.fixD(a.stats.price,2)),1),n("div",{class:A(a.stats&&a.stats.price_rate_24h&&a.stats.price_rate_24h.indexOf("-")>-1?"increase down":"increase up")},i(a.stats.price_rate_24h!=="0%"&&a.stats.price_rate_24h&&a.stats.price_rate_24h.indexOf("-")>-1?a.stats.price_rate_24h:`+${a.stats.price_rate_24h}`),3)])]),n("div",Wo,[n("div",Qo,[n("div",null,[n("p",null,"$"+i(a.fixD(a.stats.tvl_in_usd,2)),1),Yo]),n("div",null,[n("p",null,"$"+i(a.fixD(a.stats.vol_in_usd_24h,2)),1),Ho])]),n("div",Jo,[n("div",{id:`main${d.coin.name}`,class:"main"},null,8,Po)])])])}const Zo=D(To,[["render",Xo],["__scopeId","data-v-8c192de1"]]),xo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAGCBAMAAAAmlj/IAAAAFVBMVEVHcEwzMzMzMzMyMjI0NDQvLy8zMzOcydXuAAAABnRSTlMAy9hRbBs90ObtAAAAWklEQVRIx2NgYBFLdGBgYBVLS0sMYGBMMg1WE2BwU2VgCEphEDNgYGBOZEgLAMqnMaQxAEEaTBCqBKoBqh1qGAMDWwLDKDVKjVKj1Cg1So1So9QoNdwo6rccATYwqRNK4tkrAAAAAElFTkSuQmCC",N=o=>(F("data-v-43c67e20"),o=o(),O(),o),on={class:"swap-container"},nn={class:"title"},en={class:"left"},sn={class:"right title-right"},tn=N(()=>n("svg",{class:"icon","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),an={class:"swap-card"},ln={class:"card-container"},mn={class:"card-item"},rn={class:"card-item"},dn=N(()=>n("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),un=[dn],cn={key:0,class:"induction"},fn={key:0,class:"exchange-rate-btn"},pn={key:0},Cn=["src"],hn={key:0},vn=["src"],gn={key:1},$n={key:0},bn=["src"],An=["src"],wn=N(()=>n("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),yn=[wn],Sn={class:"item"},kn={class:"induction-text"},Nn={key:1},In={class:"item"},Bn={class:"induction-text"},Mn={class:"induction-value"},Dn={class:"item"},Fn={class:"induction-text"},On={class:"induction-value"},Tn={key:0,class:"icon","aria-hidden":"true"},Vn=N(()=>n("use",{"xlink:href":"#icon-icon-swap"},null,-1)),_n=[Vn],En={key:3,class:"token-info-container"};function Rn(o,e,d,a,w,$){const C=K,h=j,f=oo,y=R,S=G,m=z,r=q,b=Oo,u=Zo;return t(),l("div",on,[n("div",nn,[n("div",en,i(o.$t("menu.swap")),1),n("div",sn,[n("div",{class:"slippage-icon",onClick:e[0]||(e[0]=s=>o.isShowSwapSetting=!0)},[tn,n("span",null,i(o.slippage)+"%",1)]),v(C,{loading:o.refresh,"auto-refresh-time":o.autoRefreshTime,countdown:o.countdown,onClickRefresh:o.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),n("div",an,[n("div",ln,[n("div",mn,[v(h,{modelValue:o.fromCoinAmount,"onUpdate:modelValue":e[1]||(e[1]=s=>o.fromCoinAmount=s),"input-value":o.fromCoinAmount,"coin-symbol":o.fromCoin?o.fromCoin.symbol:null,"coin-name":o.fromCoin?o.fromCoin.name:null,balance:o.fromCoinBlance,"coin-icon":o.fromCoin?o.fromCoin.logoURI:"",address:o.fromCoin?o.fromCoin.address:"","swap-direction":"From",onOnMax:e[2]||(e[2]=s=>o.maxBtnSelect("fromCoin")),onOnInput:e[3]||(e[3]=s=>{o.fromCoinAmount=s,o.fixedFromCoin=!0}),onOnSelect:e[4]||(e[4]=s=>o.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),n("div",rn,[v(h,{modelValue:o.toCoinAmount,"onUpdate:modelValue":e[5]||(e[5]=s=>o.toCoinAmount=s),"input-value":o.toCoinAmount,havemax:!1,"coin-symbol":o.toCoin?o.toCoin.symbol:null,"coin-name":o.toCoin?o.toCoin.name:null,balance:o.toCoinBlance,"swap-direction":"To","coin-icon":o.toCoin?o.toCoin.logoURI:"",address:o.toCoin?o.toCoin.address:"",onOnInput:e[6]||(e[6]=s=>{o.toCoinAmount=s,o.fixedFromCoin=!1}),onOnSelect:e[7]||(e[7]=s=>o.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),n("img",{class:A(o.change?"gang animationex":"gang"),src:xo,alt:""},null,2),n("div",{class:"exchange",onClick:e[8]||(e[8]=s=>o.clickExchange())},[(t(),l("svg",{class:A(o.change?"icon animationex":"icon"),"aria-hidden":"true"},un,2))])]),o.poolInfo&&o.fromCoinAmount&&o.toCoinAmount&&o.fromCoinAmount!=="0"&&o.toCoinAmount!=="0"&&o.swapBtnText!==o.$t("button.poolNotFound")?(t(),l("div",cn,[o.fromCoinAmount&&o.toCoinAmount?(t(),l("div",fn,[o.rateChange?Number(o.fromCoinAmount)&&Number(o.toCoinAmount)&&o.rateChange?(t(),l("span",gn,[Number(o.fromCoinAmount)&&Number(o.toCoinAmount)?(t(),l("span",$n,[n("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`)},null,8,bn),g(" 1 "+i(o.toCoin.symbol)+" \u2248 ",1),n("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`)},null,8,An),g(" "+i(o.fixD(Number(o.fromCoinAmount)/Number(o.toCoinAmount),o.fromCoin.decimals))+" "+i(o.fromCoin.symbol),1)])):(t(),p(f,{key:1,indicator:o.indicator},null,8,["indicator"]))])):c("",!0):(t(),l("span",pn,[n("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`)},null,8,Cn),g(" 1 "+i(o.fromCoin.symbol)+" \u2248 ",1),Number(o.fromCoinAmount)&&Number(o.toCoinAmount)?(t(),l("span",hn,[n("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`)},null,8,vn),g(" "+i(o.fixD(Number(o.toCoinAmount)/Number(o.fromCoinAmount),o.toCoin.decimals))+" "+i(o.toCoin.symbol),1)])):(t(),p(f,{key:1,indicator:o.indicator},null,8,["indicator"]))])),(t(),l("svg",{class:"icon-change","aria-hidden":"true",onClick:e[9]||(e[9]=s=>o.rateChange=!o.rateChange)},yn))])):c("",!0),n("div",Sn,[n("div",kn,i(o.$t("common.priceImpact")),1),o.swaping?(t(),l("div",Nn,[v(f,{indicator:o.indicator},null,8,["indicator"])])):(t(),l("div",{key:0,class:A(["induction-value",o.impact<1?"impact-s":o.impact<10&&o.impact>1?"impact-w":"impact-e"])},i(o.impact<.01?"<0.01":o.impact>100?"100":o.impact)+"% ",3))]),n("div",In,[n("div",Bn,i(o.fixedFromCoin?o.$t("common.minimumReceived"):o.$t("common.maximumSold")),1),n("div",Mn,i(o.fixedFromCoin?o.fixD(Number(o.toCoinAmount)-Number(o.toCoinAmount)*Number(o.slippage)/100,o.toCoin.decimals):o.fixD(Number(o.fromCoinAmount)*Number(o.slippage)/100+Number(o.fromCoinAmount),o.fromCoin.decimals))+" "+i(o.fixedFromCoin?o.toCoin.symbol:o.fromCoin.symbol),1)]),n("div",Dn,[n("div",Fn,i(o.$t("common.fee")),1),n("div",On,i(o.formatFee)+" "+i(o.fromCoin.symbol)+" ("+i(o.poolInfo.fee)+"%) ",1)])])):c("",!0)]),v(y,{disabled:o.wallet.connected?o.swaping||!o.fromCoin||!o.toCoin||!Number(o.fromCoinAmount)||!Number(o.toCoinAmount)||Number(o.fromCoinAmount)>Number(o.fromCoinBlance)||o.swapBtnText==o.$t("button.poolNotFound")||o.swapBtnText!==o.$t("button.swap")||o.poolInfo.is_pause:!1,class:"big-btn",loading:o.swaping,onClick:e[10]||(e[10]=s=>o.wallet.connected?o.isSwapConfirmMpdal=!0:o.wallet.setIsShowWalletModal(!0))},{default:k(()=>[o.wallet.connected?(t(),l("svg",Tn,_n)):c("",!0),n("span",null,i(o.wallet.connected?o.swapBtnText:o.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),v(S),o.showCoinSelect?(t(),p(m,{key:0,"existing-coins":o.existingCoins,"last-select-coin":o.lastSelectCoin,onOnSelect:o.onCoinSelect,onOnClose:e[11]||(e[11]=s=>o.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):c("",!0),o.isShowSwapSetting?(t(),p(r,{key:1,onOnClose:e[12]||(e[12]=s=>o.isShowSwapSetting=!1)})):c("",!0),o.isSwapConfirmMpdal?(t(),p(b,{key:2,"fixed-from-coin":o.fixedFromCoin,"from-coin":o.fromCoin,"to-coin":o.toCoin,"from-coin-amount":o.fromCoinAmount,"to-coin-amount":o.toCoinAmount,impact:o.impact,fee:o.poolInfo.fee,onOnClose:e[13]||(e[13]=s=>o.isSwapConfirmMpdal=!1),onToSwap:o.toSwap},null,8,["fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","impact","fee","onToSwap"])):c("",!0),o.chainName=="Aptos"?(t(),l("div",En,[o.fromCoin?(t(),p(u,{key:0,coin:o.fromCoin,refresh:o.refresh},null,8,["coin","refresh"])):c("",!0),o.toCoin?(t(),p(u,{key:1,coin:o.toCoin,refresh:o.refresh},null,8,["coin","refresh"])):c("",!0)])):c("",!0)])}const qn=D(x,[["render",Rn],["__scopeId","data-v-43c67e20"]]);export{qn as default};
