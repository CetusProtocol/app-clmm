import{_ as Jo}from"./back.1d8ba997.js";import{_ as Qo}from"./swap-setting.1f41514b.js";import{u as De,a as mo}from"./index.bd5ac2dd.js";import{a as Fe,r as I,m as k,e as We,o as w,f as N,h as t,v as j,c as Be,x as ve,p as eo,k as oo,C as Zo,D as ye,b as uo,i as re,z as Ze,y as Oo,t as qe,G as Ao,a2 as Ko,H as vo,w as Xe,F as so,s as lo,j as we,u as J,N as Vo,E as fo,q as Lo,l as Co,a3 as xo,a4 as Ge,a5 as $o,B as po,a6 as en,a7 as on,L as nn,Y as tn,O as an,J as sn}from"./entry.3bca6f6c.js";import{u as Ke,c as he,a as no,b as ln,n as rn,D as g,d as Ae,j as So,e as Q,s as Ue,g as ko,i as Ie,p as To,f as Le,w as qo,x as Bo,T as Po,C as un}from"./pool.57f03307.js";import{_ as ho}from"./token-warning.a1ad56cb.js";import{_ as Mo}from"./status-block.c88f8fb2.js";import{s as ao,m as dn,l as cn,b as vn,a as mn,_ as fn,c as pn,d as hn}from"./icon-Add-Liquidity_2x.d9e10b11.js";/* empty css              */import"./index.a8fc67c0.js";import{i as ro}from"./import-icon.de3e6c66.js";import{_ as bo}from"./assets-card.2ed63bb5.js";import{c as bn}from"./new-add-or-create.93913361.js";/* empty css              */import{u as Uo}from"./notifi.3863e28a.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import"./useWhale.6a94b1e1.js";import"./index.95abf299.js";const _o=Math.PI,yo=2*_o,Qe=1e-6,gn=yo-Qe;function jo(e){this._+=e[0];for(let n=1,a=e.length;n<a;++n)this._+=arguments[n]+e[n]}function kn(e){let n=Math.floor(e);if(!(n>=0))throw new Error(`invalid digits: ${e}`);if(n>15)return jo;const a=10**n;return function(i){this._+=i[0];for(let $=1,A=i.length;$<A;++$)this._+=Math.round(arguments[$]*a)/a+i[$]}}class _n{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=n==null?jo:kn(n)}moveTo(n,a){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+a}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,a){this._append`L${this._x1=+n},${this._y1=+a}`}quadraticCurveTo(n,a,i,$){this._append`Q${+n},${+a},${this._x1=+i},${this._y1=+$}`}bezierCurveTo(n,a,i,$,A,S){this._append`C${+n},${+a},${+i},${+$},${this._x1=+A},${this._y1=+S}`}arcTo(n,a,i,$,A){if(n=+n,a=+a,i=+i,$=+$,A=+A,A<0)throw new Error(`negative radius: ${A}`);let S=this._x1,d=this._y1,o=i-n,c=$-a,p=S-n,v=d-a,h=p*p+v*v;if(this._x1===null)this._append`M${this._x1=n},${this._y1=a}`;else if(h>Qe)if(!(Math.abs(v*o-c*p)>Qe)||!A)this._append`L${this._x1=n},${this._y1=a}`;else{let y=i-S,W=$-d,V=o*o+c*c,ne=y*y+W*W,s=Math.sqrt(V),r=Math.sqrt(h),q=A*Math.tan((_o-Math.acos((V+h-ne)/(2*s*r)))/2),l=q/r,O=q/s;Math.abs(l-1)>Qe&&this._append`L${n+l*p},${a+l*v}`,this._append`A${A},${A},0,0,${+(v*y>p*W)},${this._x1=n+O*o},${this._y1=a+O*c}`}}arc(n,a,i,$,A,S){if(n=+n,a=+a,i=+i,S=!!S,i<0)throw new Error(`negative radius: ${i}`);let d=i*Math.cos($),o=i*Math.sin($),c=n+d,p=a+o,v=1^S,h=S?$-A:A-$;this._x1===null?this._append`M${c},${p}`:(Math.abs(this._x1-c)>Qe||Math.abs(this._y1-p)>Qe)&&this._append`L${c},${p}`,i&&(h<0&&(h=h%yo+yo),h>gn?this._append`A${i},${i},0,1,${v},${n-d},${a-o}A${i},${i},0,1,${v},${this._x1=c},${this._y1=p}`:h>Qe&&this._append`A${i},${i},0,${+(h>=_o)},${v},${this._x1=n+i*Math.cos(A)},${this._y1=a+i*Math.sin(A)}`)}rect(n,a,i,$){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+a}h${i=+i}v${+$}h${-i}Z`}toString(){return this._}}function xe(e){return function(){return e}}function yn(e){let n=3;return e.digits=function(a){if(!arguments.length)return n;if(a==null)n=null;else{const i=Math.floor(a);if(!(i>=0))throw new RangeError(`invalid digits: ${a}`);n=i}return e},()=>new _n(n)}function wn(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Eo(e){this._context=e}Eo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,n){switch(e=+e,n=+n,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break;case 1:this._point=2;default:this._context.lineTo(e,n);break}}};function An(e){return new Eo(e)}function Cn(e){return e[0]}function In(e){return e[1]}function $n(e,n){var a=xe(!0),i=null,$=An,A=null,S=yn(d);e=typeof e=="function"?e:e===void 0?Cn:xe(e),n=typeof n=="function"?n:n===void 0?In:xe(n);function d(o){var c,p=(o=wn(o)).length,v,h=!1,y;for(i==null&&(A=$(y=S())),c=0;c<=p;++c)!(c<p&&a(v=o[c],c,o))===h&&((h=!h)?A.lineStart():A.lineEnd()),h&&A.point(+e(v,c,o),+n(v,c,o));if(y)return A=null,y+""||null}return d.x=function(o){return arguments.length?(e=typeof o=="function"?o:xe(+o),d):e},d.y=function(o){return arguments.length?(n=typeof o=="function"?o:xe(+o),d):n},d.defined=function(o){return arguments.length?(a=typeof o=="function"?o:xe(!!o),d):a},d.curve=function(o){return arguments.length?($=o,i!=null&&(A=$(i)),d):$},d.context=function(o){return arguments.length?(o==null?i=A=null:A=$(i=o),d):i},d}function No(){}function Do(e){this._context=e}Do.prototype={areaStart:No,areaEnd:No,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,n){e=+e,n=+n,this._point?this._context.lineTo(e,n):(this._point=1,this._context.moveTo(e,n))}};function Sn(e){return new Do(e)}const Tn=Fe({setup(){const e=De(),n=I(!1),a=k(()=>e);return{slippage:k(()=>a.value.slippage),isShowSwapSetting:n}}});const Pn=e=>(eo("data-v-82585f8b"),e=e(),oo(),e),Nn=Pn(()=>t("svg",{class:"icon","aria-hidden":"true"},[t("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1));function Rn(e,n,a,i,$,A){const S=Qo;return w(),N("div",{class:"slippage-icon",onClick:n[1]||(n[1]=d=>e.isShowSwapSetting=!0)},[Nn,t("span",null,j(e.slippage)+"%",1),e.isShowSwapSetting?(w(),Be(S,{key:0,onOnClose:n[0]||(n[0]=d=>e.isShowSwapSetting=!1)})):ve("",!0)])}const On=We(Tn,[["render",Rn],["__scopeId","data-v-82585f8b"]]),Ln=Fe({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,n){const a=I(!1),i=I(null),$=I(0),A=I(20),S=Ke(),d=De(),o=I(!1);Zo(()=>{clearInterval(i.value)});const c=()=>{i.value=setInterval(()=>{var ne;o.value||$.value<A.value&&($.value+=1,$.value===A.value&&((ne=e==null?void 0:e.poolInfo)!=null&&ne.poolAddress&&S.updateCurrentPools(e.poolInfo.poolAddress,d.chainName),$.value=0))},1e3)},p=k(()=>d.slippage),v=()=>{n.emit("clearAll")},h=I(!1),y=()=>{$.value=0,h.value=!0,n.emit("clickRefresh"),setTimeout(()=>{h.value=!1},1e3)};ye(()=>e.poolInfo,ne=>{ne&&!i.value&&c()},{immediate:!0});const W=uo(),V=k(()=>d.chainName);return{clickRefresh:y,isShowSwapSetting:a,countdown:$,autoRefreshTime:A,slippage:p,clearAll:v,checkNullObj:he,router:W,loading:o,chainName:V,refresh:h}}});const qn=e=>(eo("data-v-54c078c7"),e=e(),oo(),e),Bn={class:"new-position-title"},Mn={class:"left"},Un={class:"right"},jn=qn(()=>t("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),En=[jn];function Dn(e,n,a,i,$,A){const S=Jo,d=On;return w(),N("div",Bn,[t("div",Mn,[re(S,{url:e.chainName=="Sui"?"/pool/position":"/position"},null,8,["url"])]),t("div",Un,[re(d),(w(),N("svg",{"aria-hidden":"true",class:Ze(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:n[0]||(n[0]=(...o)=>e.clickRefresh&&e.clickRefresh(...o))},En,2))])])}const Fo=We(Ln,[["render",Dn],["__scopeId","data-v-54c078c7"]]);function Ro(e,n,a){const i=new g(10).pow(n-a);return new g(1.0001).pow(e).mul(i)}const Fn=Fe({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,n){const a=I(1),i=I(""),$=I(""),A=k(()=>{var l,O,E;return v.sqrtPriceX64ToPrice((l=e.poolInfo)==null?void 0:l.current_sqrt_price,(O=e.poolInfo)==null?void 0:O.coinA.decimals,(E=e.poolInfo)==null?void 0:E.coinB.decimals).toString()}),S=k(()=>{let l=0;return e.direction?l=(Number(e.minPrice)/Number(A.value)-1)*100:l=(Number(e.minPrice)/Number(1/Number(A.value))-1)*100,l=l>0&&l<.1?.1:l,l=l<0&&l>-.1?-.1:l,l}),d=k(()=>{let l=0;return e.direction?l=(Number(e.maxPrice)/Number(A.value)-1)*100:l=(Number(e.maxPrice)/Number(1/Number(A.value))-1)*100,l=l>0&&l<.1?.1:l,l=l<0&&l>-.1?-.1:l,l}),o=De(),c=k(()=>o),p=k(()=>c.value.chainName?no(c.value.chainName):{}),{TickMath:v,getNearestTickByTick:h}=p.value,y=()=>{const l=a.value/2;a.value=l,ne(e.poolInfo,l)},W=()=>{const l=a.value*2;a.value=l,ne(e.poolInfo,l)},V=(l=[])=>{let O=6;const E=Math.abs(Number(l[0])-Number(l[l.length-1]));return E>=6?O=0:E>=1?O=1:E>=.1?O=2:E>=.01?O=3:E>=.001?O=4:E>=1e-4?O=5:E>=1e-5?O=6:E>=1e-6?O=7:E>=1e-7&&(O=8),O},ne=(l,O=1)=>{if(l&&l.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const E=Number(e.poolInfo.current_tick_index);let P=E+100*O,m=E-100*O,f,B;if(e.maxPrice==="âˆž")B=p.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?B=v.priceToTickIndex(new g(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):B=v.priceToTickIndex(new g(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{B=443636}if(e.minPrice==="0")f=p.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?f=v.priceToTickIndex(new g(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):f=v.priceToTickIndex(new g(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{f=-443636}let ie=0;if(e.currentPriceTab!=="full range"){if(E>=f&&E<=B){const D=E-f,fe=B-E;ie=Math.max(Math.abs(D),Math.abs(fe))}else E<f?ie=Math.abs(B-E):ie=Math.abs(E-f);P=E+ie+100*O,m=E-ie-100*O}else{const D=(Math.abs(E)>5e3,2e4);P=E+D*O,m=E-D*O}m<-443636&&(m=-443636),P>443636&&(P=443636);const Z=new g(l.liquidity).div(Math.pow(10,8)).toString(),U=e.tickList,X=[],te=[];let ee={};for(let D=0;D<U.length;D++){if(ee=U[D],ee.index<=E&&ee.index>=m){if(X.length<1&&D!==0){const fe=U[D-1];X.unshift({...fe,index:m})}X.unshift(ee)}else if(ee.index>E&&ee.index<=P&&(te.push(ee),X.length<1&&D!==0)){const fe=U[D-1];X.push({...fe,index:m})}if(ee.index>P){const fe=U[D];if(te.push({...fe,index:P}),X.length<1&&D!==0){const ge=U[D-1];X.push({...ge,index:m})}break}}let ae="0";for(let D=X.length-1;D>=0;D--)ae=new g(ae).plus(new g(X[D].liquidityNet.toString()).div(Math.pow(10,8))).toString(),X[D].liquityAmount=ae;let oe=Z;for(let D=0;D<te.length;D++)oe=new g(oe).plus(new g(te[D].liquidityNet.toString()).div(Math.pow(10,8))).toString(),te[D].liquityAmount=oe;let ue=[];const x=U&&U.length>0?{index:E,liquityAmount:Number(Z)}:{index:E,liquityAmount:0};(X.length>0||te.length>0)&&(ue=[...X.reverse(),x,...te],e.direction||(ue=ue.reverse()));const be=[];U.forEach(D=>{be.push({...D,liquidityGross:D.liquidityGross.toString(),liquidityNet:D.liquidityNet.toString()})}),r(ue,m,P,f,B,E)}};let s=I(!1);Oo(()=>{document.body.clientWidth<750?s.value=!1:s.value=!0,window.onresize=()=>{document.body.clientWidth<750?s.value=!1:s.value=!0,ne(e.poolInfo,a.value)}});const r=(l,O,E,P,m,f)=>{let B,ie;e.direction?(B=e.before7dContractPriceLowest?v.priceToTickIndex(new g(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",ie=e.before7dContractPriceHighest?v.priceToTickIndex(new g(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(B=e.before7dContractPriceLowest?v.priceToTickIndex(new g(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",ie=e.before7dContractPriceHighest?v.priceToTickIndex(new g(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const Z={top:30,right:35,bottom:20,left:55};let U,X;s.value,U=340-Z.left-Z.right,X=205-Z.top-Z.bottom;const te=E-O,ee=parseInt(String(te/4));let ae=[O+ee/4,O+ee,O+2*ee,E-ee,E-ee/4];const oe=O,ue=E,x=U/(ue-oe);e.currentPriceTab==="full range"&&(ae=[O,O+2*ee,E]);const be=ae.map(T=>e.direction?Ro(T,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new g(1).div(Ro(T,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString());V(be),ao("#chart").selectAll("*").remove();const D=ao("#chart").attr("width",U+Z.left+Z.right).attr("height",X+Z.top+Z.bottom).append("g").attr("transform",`translate(${Z.left},${Z.right})`),fe=dn(l,function(T){return Number(Math.abs(T.liquityAmount))})||0,ge=cn().range([0,X]).domain([fe,0]);vn().rangeRound([0,U]).padding(.1);const u=D.append("g").attr("id","barsBox").selectAll("rect").data(l).enter().append("rect");c.value.theme=="default"?u.attr("x",function(T,L){return L===0?0:e.direction?Math.abs(T.index-oe)*x:Math.abs(ue-T.index)*x}).attr("y",function(T,L){return e.direction?L===l.length-1?0:ge(T.liquityAmount):L===l.length-1?0:ge(l[L+1].liquityAmount)}).attr("width",function(T,L){return L===0&&l.length===1&&T.liquityAmount>0?U:(e.direction,L!==l.length-1?Math.abs(l[L+1].index-T.index)*x:0)}).attr("height",function(T,L){return L===0&&l.length===1&&T.liquityAmount>0?X:e.direction?L===l.length-1?0:X-ge(T.liquityAmount):L===l.length-1?0:X-ge(l[L+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):u.attr("x",function(T,L){return L===0?0:e.direction?Math.abs(T.index-oe)*x:Math.abs(ue-T.index)*x}).attr("y",function(T,L){return e.direction?L===l.length-1?0:ge(Math.abs(T.liquityAmount)):L===l.length-1?0:ge(Math.abs(l[L+1].liquityAmount))}).attr("width",function(T,L){return L===0&&l.length===1&&T.liquityAmount>0?U:(e.direction,L!==l.length-1?Math.abs(l[L+1].index-T.index)*x:0)}).attr("height",function(T,L){if(L===0&&l.length===1&&T.liquityAmount>0)return X;if(e.direction)return L===l.length-1?0:Number(T.liquityAmount)?X-ge(Math.abs(T.liquityAmount)):0;{if(L===l.length-1)return 0;const de=X-ge(Math.abs(l[L+1].liquityAmount));return Number(l[L+1].liquityAmount)?de:0}}).attr("fill","#407497").attr("class","bars").attr("stroke-width",1).attr("stroke","#407497");const b=D.append("g");b.append("line").attr("x1",0).attr("y1",155).attr("x2",U).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D"),b.append("g");let R=0;e.direction?R=Math.abs(f-oe)*x:R=Math.abs(f-ue)*x,(c.value.theme=="default"?D.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):D.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+R+", 0)"),ao("#triangle").attr("width",8).attr("height",4);let H=[[0,0],[4,4],[8,0]],G=$n().x(function(T){return T[0]}).y(function(T){return T[1]}).curve(Sn);const F=R-4;D.append("path").attr("d",G(H)).style("fill","#76C8FF").attr("transform","translate("+F+", 0)");let Y,z,le,se;e.direction?(Y=P<oe?-100:parseInt(String(Math.abs(P-oe)*x)),z=m<oe?-100:parseInt(String(Math.abs(m-oe)*x)),le=B<oe?-100:Math.abs(B-oe)*x,se=ie<oe?-100:Math.abs(ie-oe)*x):(z=P<oe?-100:Math.abs(ue-P)*x,Y=m<oe?-100:Math.abs(ue-m)*x,se=B<oe?-100:Math.abs(ue-B)*x,le=ie<oe?-100:Math.abs(ue-ie)*x),e.minPrice==="0"&&(Y=0),e.maxPrice==="âˆž"&&(z=U),s.value?i.value=U-Y+60+"px":i.value=U-Y+52+"px",$.value=z+74+"px",B&&le<U&&D.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+le+", 0)"),ie&&se<U&&D.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+se+", 0)");const me=mn().extent([[0,0],[U,X]]).handleSize(30).on("end",pe);D.append("g").attr("class","brush").call(me).call(me.move,[Y,z]);function pe(T){if(!T.sourceEvent||!T.selection)return;s.value?i.value=U-T.selection[0]+60+"px":i.value=U-T.selection[0]+52+"px",$.value=T.selection[1]+74+"px";let L,de,ke=0,_=0;e.direction?(ke=h(parseInt(String(T.selection[0]/x+oe)),Number(e.poolInfo.tickSpacing)),L=v.tickIndexToPrice(ke,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),_=h(parseInt(String(T.selection[1]/x+oe)),Number(e.poolInfo.tickSpacing)),de=v.tickIndexToPrice(_,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(_=h(ue-T.selection[0]/x,Number(e.poolInfo.tickSpacing)),L=1/v.tickIndexToPrice(_,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),ke=h(ue-T.selection[1]/x,Number(e.poolInfo.tickSpacing)),de=1/v.tickIndexToPrice(ke,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),n.emit("onChangeMinPrice",String(Ae(String(L),6))),n.emit("onChangeMaxPrice",String(Ae(String(de),6)))}c.value.theme=="default"?ao(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):ao(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","rgba(118,200,255,0.7)")};I(""),ye(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab,e.tickList],([l,O,E,P])=>{l&&O&&E&&ne(l,a.value)},{immediate:!0});const q=I(!0);return ye(()=>e.chartLoading,(l,O)=>{l!==O&&(q.value=l)},{immediate:!0,deep:!0}),{store:c,loading:q,zoomOut:y,zoomIn:W,rangeSizeLower:S,rangeSizeUpper:d,rangeSizeLowerPosition:i,rangeSizeUpperPosition:$,decimalFormat:ln,numberformat:rn}}});const Wn=e=>(eo("data-v-58b786ed"),e=e(),oo(),e),Hn={class:"chart-box"},Xn={class:"chart"},zn=Wn(()=>t("svg",{id:"chart"},null,-1)),Gn=[zn];function Yn(e,n,a,i,$,A){return w(),N("div",Hn,[qe(t("div",Xn,Gn,512),[[Ao,!e.loading]])])}const Wo=We(Fn,[["render",Yn],["__scopeId","data-v-58b786ed"]]),Jn=Fe({props:{poolInfo:{type:Object,default:()=>({})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})}},setup(e){const n=I("echartsBox"+Date.now()+Math.random()),a=De(),i=k(()=>a),$=Ke(),A=k(()=>$),S=(f,B)=>f!=="0"&&B!=="âˆž"?Ue(1/(1-Number((f/B)**.25)),2)+"x":1,d=k(()=>e.minPrice&&e.maxPrice?S(e.minPrice,e.maxPrice):"--"),o=I(30),c=k(()=>{var f;return Object.fromEntries((f=i.value.addressHistTokens[e.poolInfo.poolAddress])==null?void 0:f.data.map(B=>[B.key,B.value]))}),p=k(()=>A.value.tokensObj),v=k(()=>i.value.newTopPoolsObj),h=k(()=>i.value.chainName),y=k(()=>no(h.value)),W=I(),V=I(0),ne=I(0),s=I(0),r=I(0),q=I(1e4),l=async f=>{var ue,x,be,D,fe,ge,Pe,u,b,R,C;let B;((x=(ue=f==null?void 0:f.token_a)==null?void 0:ue.address)==null?void 0:x.toLowerCase())===((D=(be=e==null?void 0:e.fromCoin)==null?void 0:be.address)==null?void 0:D.toLowerCase())&&((ge=(fe=f==null?void 0:f.token_b)==null?void 0:fe.address)==null?void 0:ge.toLowerCase())===((u=(Pe=e==null?void 0:e.toCoin)==null?void 0:Pe.address)==null?void 0:u.toLowerCase())?B=!0:B=!1;const ie=B?Number(e.minPrice):e.maxPrice=="âˆž"?1/2**50:1/Number(e.maxPrice),Z=isNaN(Number(e.maxPrice))||e.maxPrice=="âˆž"?2**50:B?Number(e.maxPrice):1/Number(e.minPrice),U=Number(o.value==7?c.value.before_7_d_contract_price_lowest:o.value==24?c.value.before_24_h_contract_price_lowest:c.value.before_30_d_contract_price_lowest),X=Number(o.value==7?c.value.before_7_d_contract_price_highest:o.value==24?c.value.before_24_h_contract_price_highest:c.value.before_30_d_contract_price_highest),te=await y.value.getEstPositionAPRWithMulti(ie,Z,U,X),ee=Number(te.toString()),ae=v.value[e.poolInfo.poolAddress];let oe;if(ae){const H=Number(ae.apr_7day.replace("%",""))||0,G=Number(ae.apr_24h.replace("%",""))||0,F=Number(ae.apr_30day.replace("%",""))||0;oe=o.value==7?H:o.value==24?G:F;const Y=ae.rewarder_apr[0].replace("%","")||0,z=ae.rewarder_apr[1].replace("%","")||0,le=ae.rewarder_apr[2].replace("%","")||0,se=Number(ee*oe),me=Number(ee*Y),pe=Number(ee*z),T=Number(ee*le),L=se+(f.rewarder_display1?me:0)+(f.rewarder_display2?pe:0)+(f.rewarder_display3?T:0),de=f.rewarder_infos[0]?(b=p.value[f.rewarder_infos[0].coinAddress])==null?void 0:b.symbol:"--",ke=f.rewarder_infos[1]?(R=p.value[f.rewarder_infos[1].coinAddress])==null?void 0:R.symbol:"--",_=f.rewarder_infos[2]?(C=p.value[f.rewarder_infos[2].coinAddress])==null?void 0:C.symbol:"--",K={aprFee:se==1/0||isNaN(se)?0:se,rewardAprList:[{rewarder_name:de,rewarder_apr:me==1/0||isNaN(me)?0:me,styleName:"one",rewarder_display:f.rewarder_display1},{rewarder_name:ke,rewarder_apr:pe==1/0||isNaN(pe)?0:pe,styleName:"two",rewarder_display:f.rewarder_display2},{rewarder_name:_,rewarder_apr:T==1/0||isNaN(T)?0:T,styleName:"three",rewarder_display:f.rewarder_display2}],aprPercentageTotal:L==1/0||isNaN(L)||L===0?0:L,aprPercentage:So(se/L,2),is_display_rewarder:f.is_display_rewarder};W.value=K}};ye(()=>W.value,(f,B)=>{f&&!he(f)&&(V.value=f==null?void 0:f.aprFee,ne.value=f!=null&&f.rewardAprList[0].rewarder_display?f==null?void 0:f.rewardAprList[0].rewarder_apr:0,s.value=f!=null&&f.rewardAprList[1].rewarder_display?f==null?void 0:f.rewardAprList[1].rewarder_apr:0,r.value=f!=null&&f.rewardAprList[2].rewarder_display?f==null?void 0:f.rewardAprList[2].rewarder_apr:0,(f==null?void 0:f.aprPercentageTotal)==0||isNaN(f==null?void 0:f.aprPercentageTotal)||(f==null?void 0:f.aprPercentageTotal)==1/0?q.value=1e9:q.value=0,!f.is_display_rewarder&&V.value==0&&(q.value=1e9),f.is_display_rewarder||(ne.value=0,s.value=0,r.value=0),setTimeout(()=>{O()},500))},{immediate:!0,deep:!0});const O=()=>{const f=document.getElementById(n.value);if(!f)return;const B=Ko(f);let ie={tooltip:{show:!0,trigger:"axis",axisPointer:{type:"shadow",axis:"auto",snap:!0},renderMode:"html",backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderWidth:0,padding:5,textStyle:{color:"#fff",fontStyle:"normal",fontWeight:"normal",fontFamily:"sans-serif",fontSize:14},extraCssText:"box-shadow: 0 0 3px rgba(0, 0, 0, 0.3);",confine:!1,formatter:function(Z){return Z[0].name+"çš„åˆ†æ•°æ˜¯:"+Z[0].data}},title:{text:"",left:"center",top:"center"},series:[{type:"pie",silent:!0,data:[{value:V.value,name:"A"},{value:ne.value,name:"B"},{value:s.value,name:"C"},{value:r.value,name:"D"},{value:q.value,name:"E"}],labelLine:{show:!1},itemStyle:{normal:{color:function(Z){var U=i.value.theme=="default"?["#9EFFC3","#9E65FF","#6C65FF","#D3E97C","#8D8D8D"]:["#65C8FF","#9E65FF","#6C65FF","#D3E97C","#D3E97C"];return U[Z.dataIndex]}}},radius:["74%","100%"]}]};ie&&B.setOption(ie,!0)};ye(()=>[e.poolInfo,o.value],([f,B])=>{f&&!he(f)&&l(f)},{immediate:!0});const E=k(()=>{var B,ie,Z,U;return((B=W==null?void 0:W.value)==null?void 0:B.aprPercentageTotal)>0&&((ie=W==null?void 0:W.value)==null?void 0:ie.aprPercentageTotal)<.01?"<0.01%":((Z=W==null?void 0:W.value)==null?void 0:Z.aprPercentageTotal)>1e4?">10000%":So((U=W==null?void 0:W.value)==null?void 0:U.aprPercentageTotal,2)+"%"}),P=I([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]);return{lever:d,aprPercentageObj:W,echartsBox:n,aprOne:V,aprTwo:ne,aprThree:s,aprFour:r,aprPercentageTotal:E,aprRewardsDateList:P,aprRewardsParameter:o,aprTab:f=>{o.value=f},addCommom:Q}}});const to=e=>(eo("data-v-cf8c2bfc"),e=e(),oo(),e),Qn={class:"lever-apr"},Zn={key:0,class:"lever"},Kn=to(()=>t("div",{class:"leabl"},"Leverage",-1)),Vn={class:"text"},xn={key:0,class:"chart-conetnt-box"},et={class:"chart-conetnt"},ot=["id"],nt=to(()=>t("div",{class:"ratio-bg"},null,-1)),tt={class:"title"},it={class:"left"},at=to(()=>t("span",null," Estimated APR ",-1)),st=to(()=>t("svg",{"aria-hidden":"true",class:"icon"},[t("use",{"xlink:href":"#icon-icon-tips1"})],-1)),lt={class:"right"},rt=["onClick"],ut={class:"apr-text"},dt={key:0,class:"apr-tooltip"},ct={class:"progress-fees progress-all"},vt=to(()=>t("div",{class:"light-hint"},null,-1)),mt={key:1,class:"h5-lever"},ft=to(()=>t("div",{class:"leabl"},"Leverage",-1)),pt={class:"text"};function ht(e,n,a,i,$,A){var d,o,c,p,v,h;const S=Vo;return w(),N("div",Qn,[e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(w(),N("div",Zn,[Kn,t("div",Vn,j(e.lever),1)])):ve("",!0),t("div",{class:"apr",style:vo(e.minPrice=="0"&&e.maxPrice=="âˆž"?{width:"100%"}:{})},[e.aprPercentageTotal!=="0.00%"?(w(),N("div",xn,[t("div",et,[t("div",{id:e.echartsBox,class:"chart-box"},null,8,ot),nt]),t("span",null,j(e.aprPercentageTotal),1)])):ve("",!0),t("div",{class:"estimated-apr",style:vo(e.minPrice!=="0"&&e.maxPrice!=="âˆž"?{width:"100%"}:{})},[t("div",tt,[t("div",it,[at,re(S,{placement:"bottom","arrow-point-at-center":""},{title:Xe(()=>[t("span",null," Estimated according to trading activity and farming rewards in the past "+j(e.aprRewardsParameter==7?"7 days":e.aprRewardsParameter==24?"24 hours":"30 days")+". Historical data is only a reference. By no means can it guarantee future returns. ",1)]),default:Xe(()=>[st]),_:1})]),t("div",lt,[(w(!0),N(so,null,lo(e.aprRewardsDateList,y=>(w(),N("div",{key:y.num,class:Ze(["apr-item",{"apr-item-active":y.num===e.aprRewardsParameter}]),onClick:W=>e.aprTab(y.num)},j(y.time),11,rt))),128))])]),t("div",ut,[t("span",{class:Ze(e.poolInfo&&e.poolInfo.rewarder_infos&&e.poolInfo.rewarder_infos.length>0?"apr-underline":"")},j(e.aprPercentageTotal),3),e.poolInfo&&e.poolInfo.rewarder_infos&&e.poolInfo.rewarder_infos.length>0?(w(),N("div",dt,[t("div",ct,[vt,we(" FeesÂ Â "+j((d=e.aprPercentageObj)!=null&&d.aprFee?((o=e.aprPercentageObj)==null?void 0:o.aprFee)>1e4?">10,000":((c=e.aprPercentageObj)==null?void 0:c.aprFee)<.01?"<0.01":("addCommom"in e?e.addCommom:J(Q))((p=e.aprPercentageObj)==null?void 0:p.aprFee,2):(v=e.aprPercentageObj)!=null&&v.rewardAprList?"<0.01":"--")+"% ",1)]),(w(!0),N(so,null,lo((h=e.aprPercentageObj)==null?void 0:h.rewardAprList,y=>qe((w(),N("div",{key:y,class:"progress-rewards progress-all"},[t("div",{class:Ze(["light-hint",y==null?void 0:y.styleName])},null,2),we(" "+j(y==null?void 0:y.rewarder_name)+" RewardsÂ Â "+j(y!=null&&y.rewarder_apr?(y==null?void 0:y.rewarder_apr)>1e4?">10,000":(y==null?void 0:y.rewarder_apr)<.01?"<0.01":("addCommom"in e?e.addCommom:J(Q))(y==null?void 0:y.rewarder_apr,2):"0")+"% ",1)])),[[Ao,(y==null?void 0:y.rewarder_name)!="--"&&y.rewarder_display&&e.aprPercentageObj.is_display_rewarder]])),128))])):ve("",!0)])],4)],4),e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(w(),N("div",mt,[ft,t("div",pt,j(e.lever),1)])):ve("",!0)])}const Ho=We(Jn,[["render",ht],["__scopeId","data-v-cf8c2bfc"]]),bt=Fe({components:{StatusBlock:Mo,NewPositionChart:Wo,NewLeverApr:Ho,TokenWarning:ho},setup(e){const n=I(),a=I(),i=k(()=>{var s,r;return(r=(s=p.value)==null?void 0:s.poolInfo)==null?void 0:r.needReverse}),$=De(),A=k(()=>$),S=k(()=>A.value.theme),d=k(()=>A.value.chainName),o=Ke(),c=k(()=>o),p=I({}),v=fo();ye(()=>[c.value.currentPositionInfo,d.value],([s,r])=>{var q;(r=="Aptos"&&s||r=="Sui"&&s&&(s==null?void 0:s.nftHash)==((q=v==null?void 0:v.query)==null?void 0:q.pos))&&(p.value=s,n.value=p.value.token_a,a.value=p.value.token_b)},{immediate:!0});const h=s=>{var r;return(s==null?void 0:s.logoURI)||(s==null?void 0:s.logo_url)||((r=c.value.tokensObj[s==null?void 0:s.address])==null?void 0:r.logo_url)||(S.value==="default"?ro("/image/coins/unknown.png"):ro("/image/coins/sui-unknown.png"))},y=k(()=>d.value?no(d.value):{}),W=I([]),V=async s=>{const r=await y.value.getTicks(s),q=r?y.value.getTickDataFromUrlData(r):[];W.value=q};ye(()=>[p.value,c.value.poolsObj],([s,r])=>{s&&!he(s)&&s.poolInfo&&r&&!he(r)&&V(r[s.poolAddress])},{immediate:!0});const ne=I(!0);return{needReverse:i,getCoinIcon:h,theme:S,indexStore:$,direct:ne,addCommom:Q,decimalUi:Ae,tickList:W,positionInfo:p,fromCoin:n,toCoin:a,getExplorerUrl:ko}}}),gt=""+globalThis.__publicAssetsURL("image/aptos-price.png"),kt=""+globalThis.__publicAssetsURL("sui-image/sui-price.png"),_t=""+globalThis.__publicAssetsURL("image/icon-arrow@2x.png"),yt=""+globalThis.__publicAssetsURL("sui-image/icon-arrow@2x.png");const Ye=e=>(eo("data-v-dafc0960"),e=e(),oo(),e),wt={class:"new-position-info"},At={class:"pool-info"},Ct={class:"left"},It={class:"coin-a"},$t={alt:""},St={class:"coin-b"},Tt={alt:""},Pt={class:"position-name"},Nt=["href"],Rt=Ye(()=>t("use",{"xlink:href":"#icon-icon-copy1"},null,-1)),Ot=[Rt],Lt={key:0,class:"pool-fee"},qt=Ye(()=>t("span",null,"Fee tier",-1)),Bt={class:"right"},Mt={class:"h5-pool-info"},Ut={class:"coin-info"},jt={class:"coin-a"},Et={alt:""},Dt={class:"coin-b"},Ft={alt:""},Wt={class:"position-name"},Ht=["href"],Xt=Ye(()=>t("use",{"xlink:href":"#icon-icon-copy1"},null,-1)),zt=[Xt],Gt={key:0,class:"pool-fee"},Yt={class:"price-info"},Jt={class:"price-and-chart"},Qt={class:"left"},Zt={class:"current-price"},Kt=Ye(()=>t("span",null,"Current Price",-1)),Vt={class:"coin-rate"},xt=Ye(()=>t("div",null,[t("svg",{class:"icon icon-up","aria-hidden":"true"},[t("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),ei=Ye(()=>t("div",null,[t("svg",{class:"icon icon-down","aria-hidden":"true"},[t("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),oi=[xt,ei],ni={key:0},ti={key:1},ii={key:0,class:"position-range"},ai=Ye(()=>t("div",{class:"position-range-title"}," Position Range ",-1)),si={key:0},li={key:1},ri={key:2,src:gt,alt:""},ui={key:3,src:kt,alt:""},di={key:4},ci={key:5},vi={key:1,class:"position-range position-range-warp"},mi={key:0,class:"position-range-title"},fi={key:1,class:"position-range-title"},pi={key:2},hi={key:3},bi={class:"price-img"},gi={key:0,src:_t,alt:""},ki={key:1,src:yt,alt:""},_i={key:4},yi={key:5},wi={class:"right"},Ai=Ye(()=>t("div",{class:"chat-mask"},null,-1));function Ci(e,n,a,i,$,A){var v,h,y,W,V,ne,s,r,q,l,O,E,P,m,f,B,ie,Z,U,X,te,ee,ae,oe,ue,x,be,D,fe,ge;const S=ho,d=Mo,o=Wo,c=Ho,p=Lo("image");return w(),N("div",wt,[t("div",At,[t("div",Ct,[t("div",It,[qe(t("img",$t,null,512),[[p,e.needReverse?e.getCoinIcon(e.positionInfo.token_b):e.getCoinIcon(e.positionInfo.token_a)]]),re(S,{address:e.needReverse?(W=(y=e.positionInfo)==null?void 0:y.token_b)==null?void 0:W.address:(h=(v=e.positionInfo)==null?void 0:v.token_a)==null?void 0:h.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),t("div",St,[qe(t("img",Tt,null,512),[[p,e.needReverse?e.getCoinIcon(e.positionInfo.token_a):e.getCoinIcon(e.positionInfo.token_b)]]),re(S,{address:e.needReverse?(r=(s=e.positionInfo)==null?void 0:s.token_a)==null?void 0:r.address:(ne=(V=e.positionInfo)==null?void 0:V.token_b)==null?void 0:ne.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),t("div",Pt,[t("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:J(ko))("nftAddress",e.positionInfo.nftHash),target:"_blank"},j((l=(q=e.positionInfo)==null?void 0:q.name)==null?void 0:l.split("|")[1]),9,Nt)]),(w(),N("svg",{class:"copy-icon","aria-hidden":"true",onClick:n[0]||(n[0]=Pe=>e.indexStore.copy(e.positionInfo.nftHash))},Ot)),e.positionInfo.fee?(w(),N("div",Lt,[qt,we(" "+j(e.positionInfo.fee*100)+"% ",1)])):ve("",!0)]),t("div",Bt,[re(d,{"current-status":(O=e.positionInfo)==null?void 0:O.currentStatus},null,8,["current-status"])])]),t("div",Mt,[t("div",null,[t("div",Ut,[t("div",jt,[qe(t("img",Et,null,512),[[p,e.needReverse?e.getCoinIcon(e.positionInfo.token_b):e.getCoinIcon(e.positionInfo.token_a)]]),re(S,{address:e.needReverse?(f=(m=e.positionInfo)==null?void 0:m.token_b)==null?void 0:f.address:(P=(E=e.positionInfo)==null?void 0:E.token_a)==null?void 0:P.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])]),t("div",Dt,[qe(t("img",Ft,null,512),[[p,e.needReverse?e.getCoinIcon(e.positionInfo.token_a):e.getCoinIcon(e.positionInfo.token_b)]]),re(S,{address:e.needReverse?(U=(Z=e.positionInfo)==null?void 0:Z.token_a)==null?void 0:U.address:(ie=(B=e.positionInfo)==null?void 0:B.token_b)==null?void 0:ie.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"4px"}},null,8,["address"])])]),t("div",Wt,[t("div",null,[t("a",{href:("getExplorerUrl"in e?e.getExplorerUrl:J(ko))("nftAddress",e.positionInfo.nftHash),target:"_blank"},j((te=(X=e.positionInfo)==null?void 0:X.name)==null?void 0:te.split("|")[1]),9,Ht),(w(),N("svg",{class:"copy-icon","aria-hidden":"true",onClick:n[1]||(n[1]=Pe=>e.indexStore.copy(e.positionInfo.nftHash))},zt))]),e.positionInfo.fee?(w(),N("div",Gt,j(e.positionInfo.fee*100)+"%",1)):ve("",!0)])]),re(d,{"current-status":(ee=e.positionInfo)==null?void 0:ee.currentStatus},null,8,["current-status"])]),t("div",Yt,[t("div",Jt,[t("div",Qt,[t("div",Zt,[t("div",null,[Kt,t("div",Vt,[t("div",{onClick:n[2]||(n[2]=Pe=>e.direct=!e.direct)},oi)])]),(e.needReverse?!e.direct:e.direct)?(w(),N("div",ni,[we(j(("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(e.positionInfo.currentPrice,6)))+" Â  ",1),t("span",null,j((ae=e.toCoin)==null?void 0:ae.symbol)+" per "+j((oe=e.fromCoin)==null?void 0:oe.symbol),1)])):(w(),N("div",ti,[we(j(("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(1/e.positionInfo.currentPrice,6)))+" Â  ",1),t("span",null,j((ue=e.fromCoin)==null?void 0:ue.symbol)+" per "+j((x=e.toCoin)==null?void 0:x.symbol),1)]))]),e.positionInfo.minPrice&&e.positionInfo.minPrice.length<9&&e.positionInfo.maxPrice&&e.positionInfo.maxPrice.length?(w(),N("div",ii,[ai,t("div",null,[(e.needReverse?!e.direct:e.direct)?(w(),N("div",si,[we(j(("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(e.positionInfo.minPrice,6)))+" ",1),t("span",null,j(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)])):(w(),N("div",li,[we(j(((be=e.positionInfo)==null?void 0:be.minPrice)!=="0"?("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(1/e.positionInfo.minPrice,6)):0)+" ",1),t("span",null,j(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1)])),e.theme=="default"?(w(),N("img",ri)):(w(),N("img",ui)),(e.needReverse?!e.direct:e.direct)?(w(),N("div",di,[we(j(((D=e.positionInfo)==null?void 0:D.maxPrice)!=="âˆž"?("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(e.positionInfo.maxPrice,6)):"âˆž")+" ",1),t("span",null,j(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)])):(w(),N("div",ci,[we(j(((fe=e.positionInfo)==null?void 0:fe.maxPrice)!=="âˆž"?("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(1/e.positionInfo.maxPrice,6)):"âˆž")+" ",1),t("span",null,j(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1)]))])])):(w(),N("div",vi,[(e.needReverse?!e.direct:e.direct)?(w(),N("span",mi," Position Range ")):(w(),N("span",fi," Position Range ")),(e.needReverse?!e.direct:e.direct)?(w(),N("div",pi,[we(j(("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(e.positionInfo.minPrice,6)))+" ",1),t("span",null,j(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)])):(w(),N("div",hi,[we(j(e.positionInfo.maxPrice!=="âˆž"?("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(1/e.positionInfo.maxPrice,6)):"âˆž")+" ",1),t("span",null,j(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1)])),t("div",bi,[e.theme=="default"?(w(),N("img",gi)):(w(),N("img",ki))]),(e.needReverse?!e.direct:e.direct)?(w(),N("div",_i,[we(j(e.positionInfo.maxPrice!=="âˆž"?("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(e.positionInfo.maxPrice,6)):"âˆž")+" ",1),t("span",null,j(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)])):(w(),N("div",yi,[we(j(((ge=e.positionInfo)==null?void 0:ge.minPrice)!=="0"?("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(1/e.positionInfo.minPrice,6)):0)+" ",1),t("span",null,j(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1),we(" Â  ")]))]))]),t("div",wi,[re(o,{"pool-info":e.positionInfo.poolInfo,"tick-list":e.tickList,"min-price":e.positionInfo.minPrice,"max-price":e.positionInfo.maxPrice,direction:!0,"current-price-tab":"custom","chart-loading":!1},null,8,["pool-info","tick-list","min-price","max-price"]),Ai])]),re(c,{"min-price":e.positionInfo.minPrice,"max-price":e.positionInfo.maxPrice,"pool-info":e.positionInfo.poolInfo,"from-coin":e.fromCoin,"to-coin":e.toCoin},null,8,["min-price","max-price","pool-info","from-coin","to-coin"])])])}const Xo=We(bt,[["render",Ci],["__scopeId","data-v-dafc0960"]]),Ii=Fe({components:{TokenWarning:ho},setup(e,n){const{t:a}=Co(),{$notify:i}=xo(),$=De(),A=k(()=>$),S=Ke(),d=k(()=>S),o=I({}),c=I({}),p=I({}),v=k(()=>A.value.chainName),h=k(()=>v.value?no(v.value):{}),y=fo(),W=I(!1),V=async(u=null)=>{const b=u||o.value,R=d.value.addressLpTokens[b.poolAddress];if(R){const C=await h.value.getTickDataByIndex(R.ticks_handle,Number(b.tick_lower_index)),H=await h.value.getTickDataByIndex(R.ticks_handle,Number(b.tick_upper_index));let G={};v.value==="Aptos"?G=await h.value.getPosRewardersAmount({poolAddress:E.currentRoute.value.query.address,positionName:E.currentRoute.value.query.token,tickLowerData:C,tickUpperData:H}):G=await h.value.fetchPosRewardersAmount({poolAddress:b.poolAddress,positionId:b.pos_object_id,coinTypeA:b.coin_type_a,coinTypeB:b.coin_type_b,rewarderInfo:b.poolInfo.rewarder_infos});const F=[];let Y=new g(0);G.forEach((z,le)=>{var T,L;const se=(T=d.value.tokensObj[z.coin_address])==null?void 0:T.decimals,me=z.amount_owed.toString();let pe=new g(me).div(Math.pow(10,se)).toString();if(v.value=="Aptos"&&Number(pe)>999999999&&(pe="0"),b.poolInfo[`rewarder_display${le+1}`]||Number(pe)>0){const de=d.value.tokensObj[z.coin_address],ke=((L=d.value.RATES[z.coin_address])==null?void 0:L.price)||0,_=new g(pe).mul(ke).toString();Y=new g(Y).plus(_),F.push({...z,...de,amount:Number(pe)>0?Ie(pe,se):0,amountUSD:Number(_)>0?Ie(_,2):0,amountUSDText:_})}}),P.value=F}};ye(()=>[d.value.currentPositionInfo,v.value],([u,b])=>{var R;b=="Aptos"&&u?(o.value=u,c.value=u==null?void 0:u.token_a,p.value=u==null?void 0:u.token_b):b=="Sui"&&u&&(u==null?void 0:u.nftHash)==((R=y==null?void 0:y.query)==null?void 0:R.pos)&&(o.value=u,c.value=u==null?void 0:u.token_a,p.value=u==null?void 0:u.token_b,W.value=!1)},{immediate:!0}),ye(()=>[o.value,d.value.addressLpTokens],([u,b])=>{!he(u)&&!he(b)&&V(u)},{immediate:!0});const ne=k(()=>{var u,b,R,C,H,G,F,Y;if(o.value&&!he(o.value)&&d.value.RATES){const z=o.value.amountA*((b=d.value.RATES[(u=o.value)==null?void 0:u.token_a.address])==null?void 0:b.price),le=o.value.amountB*((C=d.value.RATES[(R=o.value)==null?void 0:R.token_b.address])==null?void 0:C.price);if((G=d.value.RATES[(H=o.value)==null?void 0:H.token_a.address])!=null&&G.price&&((Y=d.value.RATES[(F=o.value)==null?void 0:F.token_b.address])!=null&&Y.price)){const se=Number(z+le);return se>0&&se<.01?"<0.01":Q(Ue(z+le,2),2)}else return" --"}else return" --"}),s=k(()=>{var u,b;return(b=(u=o.value)==null?void 0:u.poolInfo)==null?void 0:b.needReverse}),r=k(()=>d.value.RATES),q=k(()=>{var u,b;if(r.value&&c.value&&p.value&&!he(r.value)&&!he(c.value)&&!he(p.value)){const R=[],C=Number(o.value.feeOwedA)||0,H=Number(o.value.feeOwedB)||0,G=new g(C).mul(((u=r.value[c.value.address])==null?void 0:u.price)||0),F=new g(H).mul(((b=r.value[p.value.address])==null?void 0:b.price)||0);return R.push({amount:C,amountUSD:G.toString()},{amount:H,amountUSD:F.toString()}),R}return[]}),l=k(()=>{var b,R;let u=new g(0);return(b=q.value)==null||b.forEach(C=>{u=u.add(new g(C.amountUSD))}),v.value=="Sui"&&((R=P.value)==null||R.forEach(C=>{u=u.add(new g(C.amountUSDText))})),u.toNumber()}),O=k(()=>{var b;let u=new g(0);return(b=P.value)==null||b.forEach(R=>{u=u.add(new g(R.amountUSDText))}),u.toNumber()}),E=uo(),P=I([]),{setIsShowSuccess:m,setIsShowRejected:f,setIsShowWaiting:B,setTransactionDesc:ie,setTransactionTxid:Z}=$,U=mo(),X=k(()=>U),te=async()=>{W.value=!0;let u={coinTypeA:o.value.poolInfo.coinTypeA,coinTypeB:o.value.poolInfo.coinTypeB,coinTypeC:"",coinTypeD:"",coinTypeE:"",pool_address:o.value.poolAddress,pos_index:o.value.index,rewarder_nums:P.value.length,collect_fee:!0};u.coinTypeC=P.value[0]?P.value[0].coin_address:"",u.coinTypeD=P.value[1]?P.value[1].coin_address:"",u.coinTypeE=P.value[2]?P.value[2].coin_address:"",B(!0),ie();try{let b;if(v.value==="Aptos"){const R=await h.value.getCollectRewarderTransactionPayload(u);b=await X.value.currentWallet.signAndSubmitTransaction(R)}else{u.pos_index=o.value.pos_object_id;const R=await h.value.getCollectRewarderTransactionPayload(u),C=await X.value.currentWallet.signAndExecuteTransactionBlock(R);b=h.value.handleTx(C)}if(b&&b.hash){Z(b.hash),B(!1),m(!0);const R={title:"Claim",desc:"",hash:b.hash,tit:"Rewards Claimed",icon:"icon-icon-Removed"};v.value!=="Aptos"&&(R.res=b.res),h.value.showTransitionPending(R),await h.value.watchTransaction(R)&&n.emit("getDetails")}else B(!1),f(!0),W.value=!1}catch{B(!1),f(!0),W.value=!1}},ee=I(!1),ae=async()=>{ee.value=!0;const u=P.value;let b={coinTypeA:o.value.poolInfo.coinTypeA,coinTypeB:o.value.poolInfo.coinTypeB,coinTypeC:"",coinTypeD:"",coinTypeE:"",pool_address:o.value.poolAddress,pos_index:o.value.index,rewarder_nums:u.length};b.coinTypeC=u[0]?u[0].coin_address:"",b.coinTypeD=u[1]?u[1].coin_address:"",b.coinTypeE=u[2]?u[2].coin_address:"";try{let R;if(v.value==="Aptos"){const C=await h.value.getCollectRewarderTransactionPayload(b);R=await X.value.currentWallet.signAndSubmitTransaction(C)}else{b.pos_index=o.value.pos_object_id;const C=await h.value.getCollectRewarderTransactionPayload(b),H=await X.value.currentWallet.signAndExecuteTransactionBlock(C);R=h.value.handleTx(H)}if(R&&R.hash){Z(R.hash),B(!1),m(!0);const C=u[0].amount+u[0].symbol,H=b.coinTypeD?" and "+u[1].amount+u[1].symbol:"",G=b.coinTypeE?" and "+u[2].amount+u[2].symbol:"",F={title:"Claim",desc:"",hash:R.hash,tit:"Rewards Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:u[0].address,numa:`+ ${Number(u[0].amount)}`,logoa:d.value.tokensObj&&u[0]&&u[0].address&&d.value.tokensObj[u[0].address]&&d.value.tokensObj[u[0].address].logoURI,tokenb:u[1]&&u[1].address,numb:b.coinTypeD?`+ ${Number(u[1].amount)}`:"",logob:b.coinTypeD?d.value.tokensObj&&u[1]&&u[1].address&&d.value.tokensObj[u[1].address]&&d.value.tokensObj[u[1].address].logoURI:"",tokenc:u[2]&&u[2].address,numc:b.coinTypeE?`+ ${Number(u[2].amount)}`:"",logoc:b.coinTypeE?d.value.tokensObj&&u[2]&&u[2].address&&d.value.tokensObj[u[2].address]&&d.value.tokensObj[u[2].address].logoURI:""},text:C+H+G};v.value!=="Aptos"&&(F.res=R.res),h.value.showTransitionPending(F),await h.value.watchTransaction(F)&&setTimeout(()=>{n.emit("getDetails"),h.value.getAccount(X.value.address)},3e3)}else B(!1),f(!0);ee.value=!1}catch{ee.value=!1,B(!1),f(!0)}},oe=k(()=>d.value.positionDetailCurrentTab),ue=k(()=>{var R,C,H,G,F,Y;const u=Ae(s.value?(C=o.value)==null?void 0:C.amountB:(R=o.value)==null?void 0:R.amountA,s.value?(Y=(F=o.value)==null?void 0:F.token_b)==null?void 0:Y.decimals:(G=(H=o.value)==null?void 0:H.token_a)==null?void 0:G.decimals),b=s.value?d.value.positionActionAmount.toCoinAmount||0:d.value.positionActionAmount.fromCoinAmount||0;if(oe.value=="increase")return b?new g(u).add(new g(b)).toString():"";if(b){const z=new g(u).minus(new g(b)).toString();return z<0?"0":String(z)}else return""}),x=k(()=>{var R,C,H,G,F,Y;const u=Ae(s.value?(C=o.value)==null?void 0:C.amountA:(R=o.value)==null?void 0:R.amountB,s.value?(Y=(F=o.value)==null?void 0:F.token_a)==null?void 0:Y.decimals:(G=(H=o.value)==null?void 0:H.token_b)==null?void 0:G.decimals),b=s.value?d.value.positionActionAmount.fromCoinAmount||0:d.value.positionActionAmount.toCoinAmount||0;if(oe.value=="increase")return b?new g(u).add(new g(b)).toString():"";if(b){const z=new g(u).minus(new g(b)).toString();return z<0?"0":String(z)}else return""}),be=k(()=>s.value?d.value.positionActionAmount.toCoinAmount:d.value.positionActionAmount.fromCoinAmount),D=k(()=>s.value?d.value.positionActionAmount.fromCoinAmount:d.value.positionActionAmount.toCoinAmount),fe=u=>{var b;return(u==null?void 0:u.logoURI)||(u==null?void 0:u.logo_url)||((b=d.value.tokensObj[u==null?void 0:u.address])==null?void 0:b.logo_url)||(A.value.theme==="default"?ro("/image/coins/unknown.png"):ro("/image/coins/sui-unknown.png"))},ge=k(()=>{var G,F,Y,z,le,se,me,pe,T,L,de,ke;const{fromCoinAmount:u,toCoinAmount:b}=d.value.positionActionAmount,R=d.value.positionDetailCurrentTab,C=Ae(s.value?(F=o.value)==null?void 0:F.amountB:(G=o.value)==null?void 0:G.amountA,s.value?(se=(le=o.value)==null?void 0:le.token_b)==null?void 0:se.decimals:(z=(Y=o.value)==null?void 0:Y.token_a)==null?void 0:z.decimals),H=Ae(s.value?(pe=o.value)==null?void 0:pe.amountA:(me=o.value)==null?void 0:me.amountB,s.value?(ke=(de=o.value)==null?void 0:de.token_a)==null?void 0:ke.decimals:(L=(T=o.value)==null?void 0:T.token_b)==null?void 0:L.decimals);return v.value=="Sui"||R=="remove"&&v.value=="Aptos"&&u==C&&b==H});return{amountUSD:ne,needReverse:s,decimalUi:Ae,pendingFees:q,positionInfo:o,pendingRewarderArr:P,pendingYieldAmount:l,toClaim:async()=>{W.value=!0;const u=Q(o.value.feeOwedA,o.value.token_a.decimals)==0?"":`${Ie(o.value.feeOwedA,o.value.token_a.decimals)} ${o.value.token_a.symbol}`,b=Q(o.value.feeOwedB,o.value.token_b.decimals)==0?"":`${Ie(o.value.feeOwedB,o.value.token_b.decimals)} ${o.value.token_b.symbol}`;ie(a("newAdd.claimWaitingText",{from:s.value?b:u,and:Q(o.value.feeOwedA,o.value.token_a.decimals)==0||Q(o.value.feeOwedB,o.value.token_b.decimals)==0?"":"and",to:s.value?u:b})),B(!0);let R;const C={pool:o.value.poolInfo,position:o.value};try{const H=await h.value.getCollectFeeTransactionPayload(C);if(v.value==="Aptos")R=await X.value.currentWallet.signAndSubmitTransaction(H);else{const G=await X.value.currentWallet.signAndExecuteTransactionBlock(H);R=h.value.handleTx(G)}if(R){Z(R.hash),B(!1),m(!0);const G={title:"Claim",desc:"",hash:R.hash,tit:"Fees Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:`${o.value.token_a.address}`,numa:Q(o.value.feeOwedA,o.value.token_a.decimals)==0?"":`${Ie(o.value.feeOwedA,o.value.token_a.decimals)}`,logoa:Q(o.value.feeOwedA,o.value.token_a.decimals)==0?"":d.value.tokensObj&&o.value&&o.value.token_a.address&&d.value.tokensObj[o.value.token_a.address]&&d.value.tokensObj[o.value.token_a.address].logoURI,tokenb:`${o.value.token_b.address}`,numb:Q(o.value.feeOwedB,o.value.token_b.decimals)==0?"":`${Ie(o.value.feeOwedB,o.value.token_b.decimals)}`,logob:Q(o.value.feeOwedB,o.value.token_b.decimals)==0?"":d.value.tokensObj&&o.value&&o.value.token_b.address&&d.value.tokensObj[o.value.token_b.address]&&d.value.tokensObj[o.value.token_b.address].logoURI},text:`Claim ${Q(o.value.feeOwedA,o.value.token_a.decimals)==0?"":`${Ie(o.value.feeOwedA,o.value.token_a.decimals)} ${o.value.token_a.symbol}`}  
              ${Q(o.value.feeOwedA,o.value.token_a.decimals)==0||Q(o.value.feeOwedB,o.value.token_b.decimals)==0?"":"and"} ${Q(o.value.feeOwedB,o.value.token_b.decimals)==0?"":`${Ie(o.value.feeOwedB,o.value.token_b.decimals)} ${o.value.token_b.symbol}`}

            `};v.value!=="Aptos"&&(G.res=R.res),h.value.showTransitionPending(G),await h.value.watchTransaction(G)&&setTimeout(()=>{n.emit("getDetails")},1e3)}else B(!1),f(!0),i.error({icon:Ge("svg",{class:{icon:!0},"aria-hidden":!0},[Ge("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:Ge("div",{class:"notification-title"},[Ge("span",{innerHTML:$o.global.t("newAdd.claimFailed")},null)]),description:a("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});W.value=!1}catch{W.value=!1,B(!1),f(!0),i.error({icon:Ge("svg",{class:{icon:!0},"aria-hidden":!0},[Ge("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:Ge("div",{class:"notification-title"},[Ge("span",{innerHTML:$o.global.t("newAdd.claimFailed")},null)]),duration:4.5,description:a("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}},claimAll:te,fromCoin:c,toCoin:p,showNum:Ie,claimLoading:W,addCommom:Q,afterBase:ue,afterQuote:x,fromCoinAmount:be,toCoinAmount:D,checkNullObj:he,getCoinIcon:fe,chainName:v,isShowAfterAmount:ge,pendingRewarderAmount:O,toClaimRewards:ae,rewarderLoading:ee}}});const $i={class:"liquidity-card"},Si={class:"liquidity-title"},Ti={class:"liquidity-usd"},Pi=t("span",null,"Liquidity",-1),Ni={class:"liquidity-ratio"},Ri={class:"coin-ratio"},Oi={class:"coin-a-ratio"},Li={class:"coin-b-ratio"},qi={class:"ratio-progress"},Bi={class:"base-quote-num"},Mi={class:"base-coin-num"},Ui=t("span",null,"Base",-1),ji={alt:""},Ei={key:0,class:"after"},Di={class:"quote-coin-num"},Fi=t("span",null,"Quote",-1),Wi={alt:""},Hi={key:0,class:"after"},Xi={class:"pending-yield"},zi={class:"left"},Gi={class:"pending-yield-title"},Yi={key:0,class:"after"},Ji={class:"right"},Qi={class:"fees-rewards"},Zi={class:"fees-rewards-item"},Ki=t("span",null,"Fees",-1),Vi={key:0,class:"after"},xi=t("span",null,"Fees",-1),ea={key:0,class:"after"},oa=t("span",null,"Bonus",-1),na={alt:""},ta={key:0,class:"after"},ia={key:0,class:"pending-yield"},aa={class:"left"},sa=t("div",{class:"pending-yield-title"},"Pending rewards",-1),la={key:0,class:"after"},ra={class:"right"},ua={key:1,class:"fees-rewards"},da={class:"fees-rewards-item"},ca=t("span",null,"Bonus",-1),va={alt:""},ma={key:0,class:"after"};function fa(e,n,a,i,$,A){var c,p,v,h,y,W,V,ne,s,r,q,l,O,E,P,m,f,B,ie,Z,U,X,te,ee,ae,oe,ue,x,be,D,fe,ge,Pe,u,b,R,C,H,G,F,Y,z,le,se,me,pe,T,L,de,ke,_,K,M,ce,_e,Se,Ne,Ce,Re,je,Ee,ze,Oe,Me;const S=ho,d=po,o=Lo("image");return w(),N("div",$i,[t("div",Si,[t("div",Ti,[Pi,t("div",null,"$"+j(e.amountUSD),1)]),t("div",Ni,[t("div",Ri,[t("div",Oi,[t("span",null,j(e.needReverse?(p=e.toCoin)==null?void 0:p.symbol:(c=e.fromCoin)==null?void 0:c.symbol),1),we(" "+j(e.needReverse?(h=e.positionInfo)==null?void 0:h.toPercent:(v=e.positionInfo)==null?void 0:v.fromPercent)+"% ",1)]),t("div",Li,[t("span",null,j(e.needReverse?(W=e.fromCoin)==null?void 0:W.symbol:(y=e.toCoin)==null?void 0:y.symbol),1),we(" "+j(e.needReverse?(ne=e.positionInfo)==null?void 0:ne.fromPercent:(V=e.positionInfo)==null?void 0:V.toPercent)+"% ",1)])]),t("div",qi,[t("div",{class:"from-percent",style:vo({width:e.needReverse?((r=e.positionInfo)==null?void 0:r.toPercent)+"%":((s=e.positionInfo)==null?void 0:s.fromPercent)+"%"})},null,4),t("div",{class:"to-percent",style:vo({width:e.needReverse?((l=e.positionInfo)==null?void 0:l.fromPercent)+"%":((q=e.positionInfo)==null?void 0:q.toPercent)+"%"})},null,4)])])]),t("div",Bi,[t("div",Mi,[Ui,t("div",null,[qe(t("img",ji,null,512),[[o,(e.needReverse?(E=e.toCoin)==null?void 0:E.logo_url:(O=e.fromCoin)==null?void 0:O.logo_url)||e.getCoinIcon(e.needReverse?(m=e.positionInfo)==null?void 0:m.token_b:(P=e.positionInfo)==null?void 0:P.token_a)]]),re(S,{address:e.needReverse?(Z=(ie=e.positionInfo)==null?void 0:ie.token_b)==null?void 0:Z.address:(B=(f=e.positionInfo)==null?void 0:f.token_a)==null?void 0:B.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),t("span",null,j(("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(e.needReverse?(X=e.positionInfo)==null?void 0:X.amountB:(U=e.positionInfo)==null?void 0:U.amountA,e.needReverse?(oe=(ae=e.positionInfo)==null?void 0:ae.token_b)==null?void 0:oe.decimals:(ee=(te=e.positionInfo)==null?void 0:te.token_a)==null?void 0:ee.decimals))),1)]),e.afterBase&&!("checkNullObj"in e?e.checkNullObj:J(he))(e.positionInfo)?(w(),N("div",Ei,j(("addCommom"in e?e.addCommom:J(Q))(e.afterBase))+" after ",1)):ve("",!0)]),t("div",Di,[Fi,t("div",null,[qe(t("img",Wi,null,512),[[o,(e.needReverse?(x=e.fromCoin)==null?void 0:x.logo_url:(ue=e.toCoin)==null?void 0:ue.logo_url)||e.getCoinIcon(e.needReverse?(D=e.positionInfo)==null?void 0:D.token_a:(be=e.positionInfo)==null?void 0:be.token_b)]]),re(S,{address:e.needReverse?(u=(Pe=e.positionInfo)==null?void 0:Pe.token_a)==null?void 0:u.address:(ge=(fe=e.positionInfo)==null?void 0:fe.token_b)==null?void 0:ge.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),t("span",null,j(("addCommom"in e?e.addCommom:J(Q))(("decimalUi"in e?e.decimalUi:J(Ae))(e.needReverse?(R=e.positionInfo)==null?void 0:R.amountA:(b=e.positionInfo)==null?void 0:b.amountB,e.needReverse?(F=(G=e.positionInfo)==null?void 0:G.token_a)==null?void 0:F.decimals:(H=(C=e.positionInfo)==null?void 0:C.token_b)==null?void 0:H.decimals))),1)]),e.afterQuote&&!("checkNullObj"in e?e.checkNullObj:J(he))(e.positionInfo)?(w(),N("div",Hi,j(("addCommom"in e?e.addCommom:J(Q))(e.afterQuote))+" after ",1)):ve("",!0)])]),t("div",Xi,[t("div",zi,[t("div",Gi,j(e.chainName=="Sui"?"Pending Yield":"Pending fees"),1),t("div",null,[we(" $"+j(e.pendingYieldAmount>0&&e.pendingYieldAmount<.01?"<0.01":("addCommom"in e?e.addCommom:J(Q))(e.pendingYieldAmount,2))+" ",1),e.pendingYieldAmount>0?(w(),N("span",Yi,"$0 after")):ve("",!0)])]),t("div",Ji,[re(d,{class:"claim-all",loading:e.claimLoading,disabled:e.claimLoading||e.pendingYieldAmount==0,onClick:n[0]||(n[0]=$e=>e.chainName=="Sui"?e.claimAll():e.toClaim())},{default:Xe(()=>[we("Claim")]),_:1},8,["loading","disabled"])])]),t("div",Qi,[t("div",Zi,[t("div",null,[Ki,t("div",null,[qe(t("img",null,null,512),[[o,(e.needReverse?(z=e.toCoin)==null?void 0:z.logo_url:(Y=e.fromCoin)==null?void 0:Y.logo_url)||e.getCoinIcon(e.needReverse?(se=e.positionInfo)==null?void 0:se.token_b:(le=e.positionInfo)==null?void 0:le.token_a)]]),re(S,{address:e.needReverse?(L=(T=e.positionInfo)==null?void 0:T.token_b)==null?void 0:L.address:(pe=(me=e.positionInfo)==null?void 0:me.token_a)==null?void 0:pe.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),t("span",null,j(e.needReverse?("showNum"in e?e.showNum:J(Ie))(e.positionInfo.feeOwedB,(K=(_=e.positionInfo)==null?void 0:_.token_b)==null?void 0:K.decimals):("showNum"in e?e.showNum:J(Ie))(e.positionInfo.feeOwedA,(ke=(de=e.positionInfo)==null?void 0:de.token_a)==null?void 0:ke.decimals)),1)]),(e.fromCoinAmount||e.toCoinAmount)&&!("checkNullObj"in e?e.checkNullObj:J(he))(e.positionInfo)&&e.isShowAfterAmount?(w(),N("div",Vi," 0 after ")):ve("",!0)]),t("div",null,[xi,t("div",null,[qe(t("img",null,null,512),[[o,(e.needReverse?(ce=e.fromCoin)==null?void 0:ce.logo_url:(M=e.toCoin)==null?void 0:M.logo_url)||e.getCoinIcon(e.needReverse?(Se=e.positionInfo)==null?void 0:Se.token_a:(_e=e.positionInfo)==null?void 0:_e.token_b)]]),re(S,{address:e.needReverse?(je=(Re=e.positionInfo)==null?void 0:Re.token_a)==null?void 0:je.address:(Ce=(Ne=e.positionInfo)==null?void 0:Ne.token_b)==null?void 0:Ce.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),t("span",null,j(e.needReverse?("showNum"in e?e.showNum:J(Ie))(e.positionInfo.feeOwedA,(Me=(Oe=e.positionInfo)==null?void 0:Oe.token_a)==null?void 0:Me.decimals):("showNum"in e?e.showNum:J(Ie))(e.positionInfo.feeOwedB,(ze=(Ee=e.positionInfo)==null?void 0:Ee.token_b)==null?void 0:ze.decimals)),1)]),(e.fromCoinAmount||e.toCoinAmount)&&!("checkNullObj"in e?e.checkNullObj:J(he))(e.positionInfo)&&e.isShowAfterAmount?(w(),N("div",ea," 0 after ")):ve("",!0)]),e.chainName=="Sui"?(w(!0),N(so,{key:0},lo(e.pendingRewarderArr,$e=>(w(),N("div",{key:$e},[oa,t("div",null,[qe(t("img",na,null,512),[[o,$e.logo_url]]),re(S,{address:$e.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),t("span",null,j($e.amount),1)]),(e.fromCoinAmount||e.toCoinAmount)&&!("checkNullObj"in e?e.checkNullObj:J(he))(e.positionInfo)&&e.isShowAfterAmount?(w(),N("div",ta," 0 after ")):ve("",!0)]))),128)):ve("",!0)])]),e.chainName=="Aptos"&&e.pendingRewarderAmount>0?(w(),N("div",ia,[t("div",aa,[sa,t("div",null,[we(" $"+j(e.pendingRewarderAmount>0&&e.pendingRewarderAmount<.01?"<0.01":("addCommom"in e?e.addCommom:J(Q))(e.pendingRewarderAmount,2))+" ",1),e.pendingRewarderAmount>0?(w(),N("span",la,"$0 after")):ve("",!0)])]),t("div",ra,[re(d,{class:"claim-all",loading:e.rewarderLoading,disabled:e.rewarderLoading||e.pendingRewarderAmount==0,onClick:e.toClaimRewards},{default:Xe(()=>[we("Claim")]),_:1},8,["loading","disabled","onClick"])])])):ve("",!0),e.chainName=="Aptos"&&e.pendingRewarderAmount>0?(w(),N("div",ua,[t("div",da,[(w(!0),N(so,null,lo(e.pendingRewarderArr,$e=>(w(),N("div",{key:$e},[ca,t("div",null,[qe(t("img",va,null,512),[[o,$e.logo_url]]),re(S,{address:$e.address,"style-params":{width:"10px",height:"10px",left:"15px",bottom:"8px"}},null,8,["address"]),t("span",null,j($e.amount),1)]),(e.fromCoinAmount||e.toCoinAmount)&&!("checkNullObj"in e?e.checkNullObj:J(he))(e.positionInfo)&&e.isShowAfterAmount?(w(),N("div",ma," 0 after ")):ve("",!0)]))),128))])])):ve("",!0)])}const zo=We(Ii,[["render",fa]]),pa=Fe({components:{AssetsCard:bo},setup(e,n){const a=I(""),i=I(""),$=De(),A=k(()=>$),S=k(()=>A.value.theme),d=Ke(),o=k(()=>d),c=I(!1),p=I(!1),v=I(!0),h=k(()=>A.value.chainName),y=k(()=>h.value?no(h.value):{}),W=mo(),V=k(()=>W),ne=k(()=>A.value.slippage),s=I(),r=I(),q=k(()=>V.value.assets&&s.value&&V.value.assets[s.value.address]?To(V.value.assets[s.value.address].balance,s.value.decimals):0),l=k(()=>V.value.assets&&r.value&&V.value.assets[r.value.address]?To(V.value.assets[r.value.address].balance,r.value.decimals):0),O=C=>{C==="fromCoin"?(v.value=!0,h.value==="Aptos"?a.value=q.value>0?s.value.symbol=="APT"?new g(Number(q.value)).sub(new g(.1)).lt(new g(0))?"0":new g(Number(q.value)).sub(new g(.1)).toString():String(q.value):"":a.value=q.value>0?s.value.symbol=="SUI"?new g(Number(q.value)).sub(new g(.05)).lt(new g(0))?"0":new g(Number(q.value)).sub(new g(.05)).toString():String(q.value):""):(v.value=!1,h.value==="Aptos"?i.value=l.value>0?r.value.symbol=="APT"?new g(Number(l.value)).sub(new g(.1)).lt(new g(0))?"0":new g(Number(l.value)).sub(new g(.1)).toString():String(l.value):"":i.value=l.value>0?r.value.symbol=="SUI"?new g(Number(l.value)).sub(new g(.05)).lt(new g(0))?"0":new g(Number(l.value)).sub(new g(.05)).toString():String(l.value):"")},E=C=>{C==="fromCoin"?(v.value=!0,a.value=Ue(new g(Number(q.value)).div(2).toString(),s.value.decimals).toString()):(v.value=!1,i.value=Ue(new g(Number(l.value)).div(2).toString(),r.value.decimals).toString())},P=I({}),m=I(!0),f=I({}),B=I(),ie=I(),Z=()=>{var L;if(!P.value||!a.value&&!i.value)return;const{TickMath:C,TickUtil:H}=y.value;let G=P.value.minPrice,F=P.value.maxPrice.indexOf("+")>0?"âˆž":P.value.maxPrice,Y=Number(P.value.tick_lower_index),z=Number(P.value.tick_upper_index);const le=Number(P.value.current_tick_index);let se,me,pe=Number(G).toString(),T=P.value.maxPrice.indexOf("+")>0||P.value.maxPrice==="âˆž"?"âˆž":Number(F);if(pe=="0"&&T=="âˆž"?(Y=Number(P.value.tick_lower_index),z=Number(P.value.tick_upper_index)):(se=C.priceToSqrtPriceX64(new g(G),s.value.decimals,r.value.decimals),me=C.priceToSqrtPriceX64(new g(F),s.value.decimals,r.value.decimals)),B.value=Y,ie.value=z,F!=="âˆž"&&Y>=z){c.value=!0,a.value="",p.value=!0,i.value="";return}if(F=="âˆž"||le>=Y&&le<=z){c.value=!1,p.value=!1;let de;if(a.value||i.value){if(v.value){const _e=new g(a.value).mul(Math.pow(10,s.value.decimals)).toString();de=new Le(_e)}else{const _e=new g(i.value).mul(Math.pow(10,r.value.decimals)).toString();de=new Le(_e)}const{liquidityAmount:ke,tokenMaxA:_,tokenMaxB:K,tokenMaxAOrigin:M,tokenMaxBOrigin:ce}=y.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:s.value,tokenB:r.value,lowerTick:Y,upperTick:z,coinAmount:de,iscoinA:m.value?v.value:!v.value,roundUp:!0,slippage:Number(ne.value)/100,curSqrtPrice:new Le(P.value.current_sqrt_price)});f.value={liquidityAmount:ke,tokenMaxA:_,tokenMaxB:K,tokenMaxAOrigin:M,tokenMaxBOrigin:ce},m.value?v.value?i.value=Number(K)>0?K:"":a.value=Number(_)>0?_:"":v.value?i.value=_:a.value=K}}else if(le>z){if(a.value="",c.value=!0,p.value=!1,a.value||i.value){let de;const ke=new g(i.value).mul(Math.pow(10,(L=r.value)==null?void 0:L.decimals)).toString();de=new Le(ke),f.value={liquidityAmount:qo(se,me,de),tokenMaxA:0,tokenMaxB:i.value}}}else if(le<Y){if(c.value=!1,p.value=!0,i.value="",a.value||i.value){let de;const ke=new g(a.value).mul(Math.pow(10,s.value.decimals)).toString();de=new Le(ke),f.value={liquidityAmount:Bo(se,me,de),tokenMaxA:a.value,tokenMaxB:0}}}else c.value=!0,a.value="",p.value=!0,i.value="";d.setPositionActionAmount({fromCoinAmount:a,toCoinAmount:i})};ye(()=>o.value.currentPositionInfo,C=>{if(C&&!he(C)){P.value=C,s.value=P.value.token_a,r.value=P.value.token_b;let H=Number(P.value.tick_lower_index),G=Number(P.value.tick_upper_index);const F=Number(P.value.current_tick_index);(C.maxPrice.indexOf("+")>0||C.maxPrice==="âˆž"?"âˆž":C.maxPrice)=="âˆž"||F>=H&&F<=G?(c.value=!1,p.value=!1):F>G?(a.value="",c.value=!0,p.value=!1):F<H?(c.value=!1,p.value=!0,i.value=""):(c.value=!0,a.value="",p.value=!0,i.value=""),Z()}},{immediate:!0}),ye(a,(C,H)=>{C&&Z(),C==""&&(i.value="")}),ye(i,(C,H)=>{C&&Z(),C==""&&(a.value="")});const U=k(()=>{var C,H;return(H=(C=P.value)==null?void 0:C.poolInfo)==null?void 0:H.needReverse}),X=k(()=>o.value.RATES),te=k(()=>{var z,le,se,me;const C=((le=X.value[(z=s.value)==null?void 0:z.address])==null?void 0:le.price)||0,H=((me=X.value[(se=r.value)==null?void 0:se.address])==null?void 0:me.price)||0,G=new g(C).mul(new g(a.value||0)),F=new g(H).mul(new g(i.value||0)),Y=G.add(F);return Q(Y.toString(),2)}),ee=I(!1),{t:ae,locale:oe}=Co(),ue=k(()=>{const C=Number(a.value)>Number(q.value),H=Number(i.value)>Number(l.value);return!a.value&&!i.value?ae("button.enterAmount"):C?ae("button.insufficientBalance",{name:s.value.symbol}):H?ae("button.insufficientBalance",{name:r.value.symbol}):ae("newAdd.addMore")}),x=k(()=>{const C=Number(a.value)>Number(q.value),H=Number(i.value)>Number(l.value);return!!(!a.value&&!i.value||C||H)}),{setIsShowSuccess:be,setIsShowRejected:D,setIsShowWaiting:fe,setTransactionDesc:ge,setTransactionTxid:Pe,setPositiomNum:u}=$,b=I(!1);return{theme:S,showFromCoinLock:c,showToCoinLock:p,toCoinAmount:i,fromCoinAmount:a,fromCoinBlance:q,toCoinBlance:l,fromCoin:s,toCoin:r,maxBtnSelect:O,halfBtnSelect:E,fixedFromCoin:v,needReverse:U,totalAmount:te,wallet:V,addLiquidityBtnText:ue,isShowLiquidityModal:ee,indexStore:$,positionInfo:P,actionLoading:b,toAdd:async()=>{var z,le,se,me,pe,T,L,de,ke,_;ee.value=!1,b.value=!0,Pe("");const C=c.value?"":`${a.value} ${(z=s.value)==null?void 0:z.symbol}`,H=p.value?"":`${i.value} ${(le=r.value)==null?void 0:le.symbol}`;ge(ae("tips.increaseLiquiditySuccess",{from:U.value?H:C,and:!c.value&&!p.value?"and":"",to:U.value?C:H})),fe(!0);const G=v.value,F=P.value.poolInfo.rewarder_infos;let Y={};Y.coinTypeC=F[0]?F[0].coinAddress:"",Y.coinTypeD=F[1]?F[1].coinAddress:"",Y.coinTypeE=F[2]?F[2].coinAddress:"";try{const K=await y.value.getAddLiquidityTransactionPayload({pool:{poolAddress:P.value.poolAddress,token_a:P.value.token_a,token_b:P.value.token_b},amount:G?f.value.tokenMaxA:f.value.tokenMaxB,fix_amount_a:G,tick_lower:B.value,tick_upper:ie.value,index:h.value==="Aptos"?P.value.index:P.value.pos_object_id,slippage:Number(ne.value)/100,roundUp:!0,collect_fee:!0,...Y});let M;if(h.value==="Aptos")M=await V.value.currentWallet.signAndSubmitTransaction(K);else{const ce=await V.value.currentWallet.signAndExecuteTransactionBlock(K);M=y.value.handleTx(ce)}if(M&&M.hash){Pe(M.hash),fe(!1),be(!0);const ce={title:"Supplied",desc:ae("tips.addLiquiditySuccessText",{from:c.value?"":`${a.value} ${(se=s.value)==null?void 0:se.symbol}`,and:!c.value&&!p.value?"and":"",to:p.value?"":`${i.value} ${(me=r.value)==null?void 0:me.symbol}`}),hash:M.hash,tit:"Liquidity Increased",icon:"icon-icon-Increased",tokenInfo:{tokena:U.value?`${(T=r.value)==null?void 0:T.address}`:`${(pe=s.value)==null?void 0:pe.address}`,numa:U.value?`- ${i.value}`:`- ${a.value}`,logoa:U.value?o.value.tokensObj&&r.value&&r.value.address&&o.value.tokensObj[r.value.address]&&o.value.tokensObj[r.value.address].logoURI:o.value.tokensObj&&s.value&&s.value.address&&o.value.tokensObj[s.value.address]&&o.value.tokensObj[s.value.address].logoURI,tokenb:U.value?`${(de=s.value)==null?void 0:de.address}`:`${(L=r.value)==null?void 0:L.address}`,numb:U.value?`- ${a.value}`:`- ${i.value}`,logob:U.value?o.value.tokensObj&&s.value&&s.value.address&&o.value.tokensObj[s.value.address]&&o.value.tokensObj[s.value.address].logoURI:o.value.tokensObj&&r.value&&r.value.address&&o.value.tokensObj[r.value.address]&&o.value.tokensObj[r.value.address].logoURI},text:`Deopsit ${c.value?"":`${a.value} ${(ke=s.value)==null?void 0:ke.symbol}`} ${!c.value&&!p.value?"and":""} ${p.value?"":`${i.value} ${(_=r.value)==null?void 0:_.symbol}`}`};h.value!=="Aptos"&&(ce.res=M.res),y.value.showTransitionPending(ce),await y.value.watchTransaction(ce)&&setTimeout(()=>{n.emit("getDetails"),y.value.getAccount(V.value.address)},1e3),u()}else fe(!1),D(!0);a.value="",i.value="",b.value=!1}catch{a.value="",i.value="",b.value=!1,fe(!1),D(!0)}},addLiquidityBtnDisabled:x,poolStore:d}}});const ha={class:"new-position-asset"},ba={class:"add-or-remove"},ga={class:"liquidity-action-tab"},ka=t("div",{class:"increase tab-active"}," Increase ",-1),_a={class:"card-item"},ya={class:"card-item"},wa={key:0,class:"add",src:fn},Aa={key:1,class:"add",src:pn},Ca={class:"total-amount"},Ia=t("span",null,"Total Amount",-1);function $a(e,n,a,i,$,A){var p;const S=bo,d=hn,o=po,c=bn;return w(),N("div",ha,[t("div",ba,[t("div",ga,[ka,t("div",{class:"remove",onClick:n[0]||(n[0]=v=>e.poolStore.setPositionDetailCurrentTab("remove"))}," Remove ")]),t("div",{class:Ze(e.needReverse?"card-container reverse":"card-container")},[t("div",_a,[re(S,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[1]||(n[1]=v=>e.fromCoinAmount=v),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[2]||(n[2]=v=>e.maxBtnSelect("fromCoin")),onOnHalf:n[3]||(n[3]=v=>e.halfBtnSelect("fromCoin")),onOnInput:n[4]||(n[4]=v=>{e.fromCoinAmount=v}),onOnFocus:n[5]||(n[5]=()=>{e.fixedFromCoin=!0})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(w(),Be(d,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin},null,8,["from-coin","to-coin"])):ve("",!0)]),t("div",ya,[re(S,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[6]||(n[6]=v=>e.toCoinAmount=v),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[7]||(n[7]=v=>e.maxBtnSelect("toCoin")),onOnHalf:n[8]||(n[8]=v=>e.halfBtnSelect("toCoin")),onOnInput:n[9]||(n[9]=v=>{e.toCoinAmount=v}),onOnFocus:n[10]||(n[10]=()=>{e.fixedFromCoin=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(w(),Be(d,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin},null,8,["from-coin","to-coin"])):ve("",!0)]),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme=="default"?(w(),N("img",wa)):ve("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme!=="default"?(w(),N("img",Aa)):ve("",!0)],2),t("div",Ca,[Ia,t("span",null,"$"+j(e.totalAmount),1)])]),e.wallet.connected?(w(),Be(o,{key:0,class:"big-btn liquidity-btn",disabled:e.addLiquidityBtnDisabled,loading:e.actionLoading,onClick:n[11]||(n[11]=v=>e.isShowLiquidityModal=!0)},{default:Xe(()=>[t("span",null,j(e.addLiquidityBtnText),1)]),_:1},8,["disabled","loading"])):(w(),Be(o,{key:1,class:"big-btn",onClick:n[12]||(n[12]=v=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:Xe(()=>[t("span",null,j(e.$t("button.connectWallet")),1)]),_:1})),e.isShowLiquidityModal?(w(),Be(c,{key:2,title:e.$t("button.increase"),"is-increase":!0,"from-coin":e.needReverse?e.toCoin:e.fromCoin,"to-coin":e.needReverse?e.fromCoin:e.toCoin,"from-coin-amount":e.needReverse?e.toCoinAmount:e.fromCoinAmount,"to-coin-amount":e.needReverse?e.fromCoinAmount:e.toCoinAmount,"min-price":e.positionInfo.minPrice,"max-price":e.positionInfo.maxPrice,"current-price":e.positionInfo.currentPrice,"current-price-reverse":1/e.positionInfo.currentPrice,"pool-info":(p=e.positionInfo)==null?void 0:p.poolInfo,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"position-total-amount":e.positionInfo.totalAmountUSD,"fixed-from-coin":!0,"tick-lower":e.positionInfo.tick_lower_index,"tick-upper":e.positionInfo.tick_upper_index,"current-price-tab":"custom",onToAdd:e.toAdd,onOnClose:n[13]||(n[13]=v=>e.isShowLiquidityModal=!1)},null,8,["title","from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","current-price-reverse","pool-info","show-from-coin-lock","show-to-coin-lock","position-total-amount","tick-lower","tick-upper","onToAdd"])):ve("",!0)])}const wo=We(pa,[["render",$a]]),Sa=Fe({components:{AssetsCard:bo},setup(e,n){const a=I(""),i=I(""),$=De(),A=k(()=>$),S=k(()=>A.value.theme),d=Ke(),o=k(()=>d),c=I(!1),p=I(!1),v=I(!0),h=k(()=>A.value.chainName),y=k(()=>h.value?no(h.value):{}),W=mo(),V=k(()=>W),ne=k(()=>A.value.slippage),s=I(),r=I(),q=k(()=>{var _,K;return(K=(_=m.value)==null?void 0:_.poolInfo)==null?void 0:K.needReverse}),l=k(()=>{var _;return Ae(m==null?void 0:m.value.amountA,(_=m==null?void 0:m.value.token_a)==null?void 0:_.decimals)}),O=k(()=>{var _;return Ae(m==null?void 0:m.value.amountB,(_=m==null?void 0:m.value.token_b)==null?void 0:_.decimals)}),E=_=>{_==="fromCoin"?(v.value=!0,h.value,a.value=String(l.value)):(v.value=!1,h.value,i.value=String(O.value)),U.value=!1},P=_=>{_==="fromCoin"?(v.value=!0,a.value=Ue(new g(Number(l.value)).div(2).toString(),s.value.decimals).toString()):(v.value=!1,i.value=Ue(new g(Number(O.value)).div(2).toString(),r.value.decimals).toString()),U.value=!1},m=I({}),f=I(!0),B=I({}),ie=I(),Z=I(),U=I(!0),X=()=>{var ze;if(U.value||!m.value||!a.value&&!i.value||Number(a.value)>Number(l.value)||Number(i.value)>Number(O.value))return;const{TickMath:_,TickUtil:K}=y.value;let M=m.value.minPrice,ce=m.value.maxPrice.indexOf("+")>0?"âˆž":m.value.maxPrice,_e=Number(m.value.tick_lower_index),Se=Number(m.value.tick_upper_index);const Ne=Number(m.value.current_tick_index);let Ce,Re,je=Number(M).toString(),Ee=m.value.maxPrice.indexOf("+")>0||m.value.maxPrice==="âˆž"?"âˆž":Number(ce);if(je=="0"&&Ee=="âˆž"?(_e=Number(m.value.tick_lower_index),Se=Number(m.value.tick_upper_index)):(Ce=_.priceToSqrtPriceX64(new g(M),s.value.decimals,r.value.decimals),Re=_.priceToSqrtPriceX64(new g(ce),s.value.decimals,r.value.decimals)),ie.value=_e,Z.value=Se,ce!=="âˆž"&&_e>=Se){c.value=!0,a.value="",p.value=!0,i.value="";return}if(ce=="âˆž"||Ne>=_e&&Ne<=Se){c.value=!1,p.value=!1;let Oe;if(a.value||i.value){if(v.value){const Ve=new g(a.value).mul(Math.pow(10,s.value.decimals)).toString();Oe=new Le(Ve)}else{const Ve=new g(i.value).mul(Math.pow(10,r.value.decimals)).toString();Oe=new Le(Ve)}const{liquidityAmount:Me,tokenMaxA:$e,tokenMaxB:Je,tokenMaxAOrigin:co,tokenMaxBOrigin:Te}=y.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:s.value,tokenB:r.value,lowerTick:_e,upperTick:Se,coinAmount:Oe,iscoinA:f.value?v.value:!v.value,roundUp:!0,slippage:Number(ne.value)/100,curSqrtPrice:new Le(m.value.current_sqrt_price)});B.value={liquidityAmount:Me,tokenMaxA:$e,tokenMaxB:Je,tokenMaxAOrigin:co,tokenMaxBOrigin:Te},f.value?v.value?i.value=Number(Je)>0?Je:"":a.value=Number($e)>0?$e:"":v.value?i.value=$e:a.value=Je}}else if(Ne>Se){if(a.value="",c.value=!0,p.value=!1,a.value||i.value){let Oe;const Me=new g(i.value).mul(Math.pow(10,(ze=r.value)==null?void 0:ze.decimals)).toString();Oe=new Le(Me),B.value={liquidityAmount:qo(Ce,Re,Oe),tokenMaxA:0,tokenMaxB:i.value}}}else if(Ne<_e){if(c.value=!1,p.value=!0,i.value="",a.value||i.value){let Oe;const Me=new g(a.value).mul(Math.pow(10,s.value.decimals)).toString();Oe=new Le(Me),B.value={liquidityAmount:Bo(Ce,Re,Oe),tokenMaxA:a.value,tokenMaxB:0}}}else c.value=!0,p.value=!0;U.value=!1,te.value=new g(B.value.liquidityAmount.toString()).div(m.value.liquidity).mul(100).toNumber().toFixed(2),ee.value=B.value.liquidityAmount,d.setPositionActionAmount({fromCoinAmount:a,toCoinAmount:i})},te=I(50),ee=I("0"),ae=_=>{if(!U.value)return;U.value=!0;const K=m.value.token_a.decimals,M=m.value.token_b.decimals,ce=m.value.tick_lower_index,_e=m.value.tick_upper_index,Se=Po.tickIndexToSqrtPriceX64(ce),Ne=Po.tickIndexToSqrtPriceX64(_e);let Ce="";_.value!==1?Ce=new g(m.value.liquidity).mul(_.value).toString():Ce=m.value.liquidity,Ce=Ue(Ce,0)||"0",ee.value=Ce;const Re=un.getCoinAmountFromLiquidity(new Le(Ce),new Le(m.value.current_sqrt_price),Se,Ne,!0),je=new g(Re.coinA.toString()).div(Math.pow(10,K)).toString(),Ee=new g(Re.coinB.toString()).div(Math.pow(10,M)).toString();a.value=Number(je)>0?je:"",i.value=Number(Ee)>0?Ee:"",d.setPositionActionAmount({fromCoinAmount:a,toCoinAmount:i})};ye(()=>o.value.currentPositionInfo,_=>{if(_&&!he(_)){m.value=_,s.value=m.value.token_a,r.value=m.value.token_b,ae({value:te.value/100});let K=Number(m.value.tick_lower_index),M=Number(m.value.tick_upper_index);const ce=Number(m.value.current_tick_index);(_.maxPrice.indexOf("+")>0||_.maxPrice==="âˆž"?"âˆž":_.maxPrice)=="âˆž"||ce>=K&&ce<=M?(c.value=!1,p.value=!1):ce>M?(a.value="",c.value=!0,p.value=!1):ce<K?(c.value=!1,p.value=!0,i.value=""):(c.value=!0,a.value="",p.value=!0,i.value=""),X()}},{immediate:!0}),ye(a,(_,K)=>{_&&X(),_==""&&(i.value="",te.value=0)}),ye(i,(_,K)=>{_&&X(),_==""&&(a.value="",te.value=0)});const oe=k(()=>o.value.RATES),ue=k(()=>{var Se,Ne,Ce,Re;const _=((Ne=oe.value[(Se=s.value)==null?void 0:Se.address])==null?void 0:Ne.price)||0,K=((Re=oe.value[(Ce=r.value)==null?void 0:Ce.address])==null?void 0:Re.price)||0,M=new g(_).mul(new g(a.value||0)),ce=new g(K).mul(new g(i.value||0)),_e=M.add(ce);return Q(_e.toString(),2)}),x=I(!1),{t:be,locale:D}=Co(),fe=k(()=>{const _=Number(a.value)>Number(l.value),K=Number(i.value)>Number(O.value);return!a.value&&!i.value?be("button.enterAmount"):_||K?"lnsufficient Liquidity":be("button.remove")}),ge=k(()=>{const _=Number(a.value)>Number(l.value),K=Number(i.value)>Number(O.value);return!!(!a.value&&!i.value||_||K)}),{setIsShowSuccess:Pe,setIsShowRejected:u,setIsShowWaiting:b,setTransactionDesc:R,setTransactionTxid:C,setPositiomNum:H,setTransactionDescText:G}=$,F=I(!1);ye(te,en((_,K)=>{_!==K&&(Number(_)>100?te.value=100:_&&m.value?(te.value=_,ae({value:te.value/100})):(a.value="",i.value=""))},300)),ye(ne,_=>{_&&m.value&&ae({value:te.value/100})});const Y=[{name:"25%",value:25},{name:"50%",value:50},{name:"75%",value:75},{name:"MAX",value:100}],z=Uo(),le=k(()=>z),se=k(()=>le.value.status),me=I(!1),pe=_=>{_.sources.forEach(M=>{const{pool_address:ce,position_index:_e}=JSON.parse(M.blockchainAddress);ce==m.value.poolAddress&&Number(_e)==Number(m.value.index)&&(me.value=!0)})},T=async()=>{await z.getSources();let _;le.value.allSources.forEach(K=>{const{pool_address:M,position_index:ce}=JSON.parse(K.blockchainAddress);M==m.value.poolAddress&&ce==m.value.index&&(_=K.id)}),z.deleteSource(_)};ye(()=>[le.value.sourceGroups,m.value],([_,K])=>{_&&_.sources&&_.sources.length>0&&K&&!he(K)&&pe(_)},{immediate:!0,deep:!0});const L=uo(),de=fo();return{theme:S,showFromCoinLock:c,showToCoinLock:p,toCoinAmount:i,fromCoinAmount:a,fromCoinBlance:l,toCoinBlance:O,fromCoin:s,toCoin:r,maxBtnSelect:E,halfBtnSelect:P,fixedFromCoin:v,needReverse:q,totalAmount:ue,wallet:V,addLiquidityBtnText:fe,isShowLiquidityModal:x,indexStore:$,positionInfo:m,actionLoading:F,addLiquidityBtnDisabled:ge,sliderVal:te,ratioArr:Y,setPercent:ae,poolStore:d,isSlider:U,toRemove:async()=>{var _e,Se,Ne,Ce,Re,je,Ee,ze,Oe,Me,$e,Je,co;F.value=!0,C("");const _=Q(a.value,s.value.decimals)==0?"":`${Ie(a.value,s.value.decimals)} ${s.value.symbol}`,K=Q(i.value,r.value.decimals)==0?"":`${Ie(i.value,r.value.decimals)} ${r.value.symbol}`;R(be("tips.removeLiquidiyText",{from:q.value?K:_,and:Q(a.value,s.value.decimals)==0||Q(i.value,r.value.decimals)==0?"":"and",to:q.value?_:K})),b(!0);const M=m.value.poolInfo.rewarder_infos,ce=M&&M.length>0&&h.value=="Sui"||M&&M.length>0&&te.value==100?be("modal.removeLiquidityText1"):be("modal.removeLiquidityText2");G(ce);try{let Te={};Te={pool:{...m.value.poolInfo,coinA:m.value.token_a,coinB:m.value.token_b},coinTypeA:m.value.poolInfo.coinTypeA,coinTypeB:m.value.poolInfo.coinTypeB,position:m.value,delta_liquidity:new Le(Ue(ee.value,0)),slippage:Number(ne.value),rewards_num:M.length},Te.coinTypeC=M[0]?M[0].coinAddress:"",Te.coinTypeD=M[1]?M[1].coinAddress:"",Te.coinTypeE=M[2]?M[2].coinAddress:"";const Ve=await y.value.getRemoveLiquidityTransactionPayload(Te);let He;if(h.value==="Aptos")He=await V.value.currentWallet.signAndSubmitTransaction(Ve);else{const io=await V.value.currentWallet.signAndExecuteTransactionBlock(Ve);He=y.value.handleTx(io)}if(He&&He.hash){C(He.hash),b(!1),Pe(!0);const io={title:be("common.removeLiquidity"),desc:"",hash:He.hash,descTransactions:`Remove ${a.value} ${(_e=s.value)==null?void 0:_e.symbol} and ${i.value} ${(Se=r.value)==null?void 0:Se.symbol} 
             from the pool`,sender:V.value.address,chainName:h.value,tit:"Liquidity Removed",icon:"icon-icon-Removed",tokenInfo:{tokena:q.value?`${(Ce=r.value)==null?void 0:Ce.address}`:`${(Ne=s.value)==null?void 0:Ne.address}`,numa:q.value?`+ ${i.value}`:`+ ${a.value}`,logoa:q.value?o.value.tokensObj&&r.value&&r.value.address&&o.value.tokensObj[r.value.address]&&o.value.tokensObj[r.value.address].logoURI:o.value.tokensObj&&s.value&&s.value.address&&o.value.tokensObj[s.value.address]&&o.value.tokensObj[s.value.address].logoURI,tokenb:q.value?`${(Re=s.value)==null?void 0:Re.address}`:`${(je=r.value)==null?void 0:je.address}`,numb:q.value?`+ ${a.value}`:`+ ${i.value}`,logob:q.value?o.value.tokensObj&&s.value&&s.value.address&&o.value.tokensObj[s.value.address]&&o.value.tokensObj[s.value.address].logoURI:o.value.tokensObj&&r.value&&r.value.address&&o.value.tokensObj[r.value.address]&&o.value.tokensObj[r.value.address].logoURI},text:`Withdraw ${a.value} ${(Ee=s.value)==null?void 0:Ee.symbol} and ${i.value} ${(ze=r.value)==null?void 0:ze.symbol}`};h.value!=="Aptos"&&(io.res=He.res),y.value.showTransitionPending(io);const Io=await y.value.watchTransaction(io);if(M.value&&M.value.length>0&&(Number((Oe=M[0])==null?void 0:Oe.amount)!==0||Te.coinTypeD&&Number((Me=M[1])==null?void 0:Me.amount)!==0||Te.coinTypeE&&Number(($e=M[2])==null?void 0:$e.amount)!==0)){const go={title:be("common.removeLiquidity"),desc:"",hash:He.hash,tit:"Rewards Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:M[0].symbol,numa:`+ ${Number(M[0].amount)}`,logoa:o.value.tokensObj&&M[0]&&M[0].address&&o.value.tokensObj[M[0].address]&&o.value.tokensObj[M[0].address].logoURI,tokenb:Te.coinTypeD?M[1].symbol:"",numb:Te.coinTypeD?`+ ${Number(M[1].amount)}`:"",logob:Te.coinTypeD?o.value.tokensObj&&M[1]&&M[1].address&&o.value.tokensObj[M[1].address]&&o.value.tokensObj[M[1].address].logoURI:"",tokenc:Te.coinTypeE?M[2].symbol:"",numc:Te.coinTypeE?`+ ${Number(M[2].amount)}`:"",logoc:Te.coinTypeE?o.value.tokensObj&&M[2]&&M[2].address&&o.value.tokensObj[M[2].address]&&o.value.tokensObj[M[2].address].logoURI:""},text:`Withdraw ${a.value} ${(Je=s.value)==null?void 0:Je.symbol} and ${i.value} ${(co=r.value)==null?void 0:co.symbol}`},Yo=await y.value.setTransations(go)}if(Ie(m.value.feeOwedA,m.value.token_a.decimals)!==0||Ie(m.value.feeOwedB,m.value.token_b.decimals)!==0){const go={title:"Claim",desc:"",hash:He.hash,chainName:h.value,tit:"Fees Claimed",icon:"icon-icon-Removed",tokenInfo:{tokena:`${m.value.token_a.symbol}`,numa:Q(m.value.feeOwedA,m.value.token_a.decimals)==0?"":`+ ${Ie(m.value.feeOwedA,m.value.token_a.decimals)}`,logoa:Q(m.value.feeOwedA,m.value.token_a.decimals)==0?"":o.value.tokensObj&&m.value&&m.value.token_a.address&&o.value.tokensObj[m.value.token_a.address]&&o.value.tokensObj[m.value.token_a.address].logoURI,tokenb:`${m.value.token_b.symbol}`,numb:Q(m.value.feeOwedB,m.value.token_b.decimals)==0?"":`+ ${Ie(m.value.feeOwedB,m.value.token_b.decimals)}`,logob:Q(m.value.feeOwedB,m.value.token_b.decimals)==0?"":o.value.tokensObj&&m.value&&m.value.token_b.address&&o.value.tokensObj[m.value.token_b.address]&&o.value.tokensObj[m.value.token_b.address].logoURI}},Yo=await y.value.setTransations(go)}Io&&Number(te.value)==100&&se.value=="authenticated"&&me.value&&(await z.subscribePosition({pool_address:m.value.poolAddress,position_index:m.value.index},m.value.nftHash,!1),T()),Io&&(a.value="",i.value="",setTimeout(()=>{n.emit("getDetails")},3e3),setTimeout(()=>{n.emit("getDetails")},6e3),Number(te.value)==100&&de.name=="new-position-detail"&&(h.value==="Aptos"?L.push("/position"):L.push("/pool/position")),te.value=0)}else b(!1),u(!0);F.value=!1}catch{F.value=!1,b(!1),u(!0)}},sFixD:Ue}}});const Ta={class:"new-position-asset"},Pa={class:"add-or-remove"},Na={class:"liquidity-action-tab"},Ra=t("div",{class:"remove tab-active"},"Remove",-1),Oa={class:"card-item"},La={key:0,class:"assets-card-mask"},qa={class:"card-item"},Ba={key:0,class:"assets-card-mask"},Ma={class:"remove-ratio"},Ua=t("div",{class:"remove-ratio-title"},"Amount",-1),ja={class:"remove-ratio-select"},Ea={key:0,class:"ratio"},Da={key:1,class:"ratio"},Fa={class:"ratio-list"},Wa=["onClick"];function Ha(e,n,a,i,$,A){const S=bo,d=on,o=po;return w(),N("div",Ta,[t("div",Pa,[t("div",Na,[t("div",{class:"increase",onClick:n[0]||(n[0]=c=>e.poolStore.setPositionDetailCurrentTab("increase"))}," Increase "),Ra]),t("div",{class:Ze(e.needReverse?"card-container reverse":"card-container")},[t("div",Oa,[re(S,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[1]||(n[1]=c=>e.fromCoinAmount=c),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,havemax:!1,"amount-leabl":"Available",onOnMax:n[2]||(n[2]=c=>e.maxBtnSelect("fromCoin")),onOnHalf:n[3]||(n[3]=c=>e.halfBtnSelect("fromCoin")),onOnInput:n[4]||(n[4]=c=>{e.fromCoinAmount=c,e.fixedFromCoin=!0,e.isSlider=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.fromCoinBlance==0?(w(),N("div",La)):ve("",!0)]),t("div",qa,[re(S,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[5]||(n[5]=c=>e.toCoinAmount=c),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,havemax:!1,"amount-leabl":"Available",onOnMax:n[6]||(n[6]=c=>e.maxBtnSelect("toCoin")),onOnHalf:n[7]||(n[7]=c=>e.halfBtnSelect("toCoin")),onOnInput:n[8]||(n[8]=c=>{e.toCoinAmount=c,e.fixedFromCoin=!1,e.isSlider=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.toCoinBlance==0?(w(),N("div",Ba)):ve("",!0)])],2),t("div",Ma,[Ua,t("div",ja,[Number(e.fromCoinBlance)>=Number(e.fromCoinAmount)&&Number(e.toCoinBlance)>=Number(e.toCoinAmount)?(w(),N("div",Ea,j(e.sliderVal>0&&Number(("sFixD"in e?e.sFixD:J(Ue))(e.sliderVal,2))<.01?"<0.01":("sFixD"in e?e.sFixD:J(Ue))(e.sliderVal,2))+"% ",1)):(w(),N("div",Da," -- ")),t("div",Fa,[(w(!0),N(so,null,lo(e.ratioArr,(c,p)=>(w(),N("div",{key:p,class:Ze(["ratio-item",e.sliderVal==c.value?"ratio-item-active":""]),onClick:()=>{e.isSlider=!0,e.sliderVal=c.value}},j(c.name),11,Wa))),128))])]),re(d,{value:e.sliderVal,"onUpdate:value":n[9]||(n[9]=c=>e.sliderVal=c)},null,8,["value"])])]),e.wallet.connected?(w(),Be(o,{key:0,class:"big-btn liquidity-btn",loading:e.actionLoading,disabled:e.addLiquidityBtnDisabled,onClick:e.toRemove},{default:Xe(()=>[t("span",null,j(e.addLiquidityBtnText),1)]),_:1},8,["loading","disabled","onClick"])):(w(),Be(o,{key:1,class:"big-btn",onClick:n[10]||(n[10]=c=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:Xe(()=>[t("span",null,j(e.$t("button.connectWallet")),1)]),_:1}))])}const Xa=We(Sa,[["render",Ha]]),za=Fe({props:{positionInfo:{type:Object,default:()=>({})}},setup(e){const n=Uo(),a=k(()=>n),i=k(()=>a.value.status),$=De();ye(()=>[a.value.targetGroups],p=>{},{immediate:!0});const A=I(!1);ye(()=>i.value,p=>{p=="authenticated",A.value=!1},{immediate:!0});const S=I(!1),d=async()=>{S.value=!S.value;const p={pool_address:e.positionInfo.poolAddress,position_index:e.positionInfo.index},v=e.positionInfo.nftHash;try{await n.subscribePosition(p,v,S.value)}catch{S.value=!S.value}},o=p=>{const v=p.sources;S.value=v.some(h=>JSON.parse(h.blockchainAddress).pool_address==e.positionInfo.poolAddress&&Number(JSON.parse(h.blockchainAddress).position_index)==Number(e.positionInfo.index))},c=uo();return ye(()=>[a.value.sourceGroups,e.positionInfo],([p,v])=>{var h,y,W;S.value=!1,p&&p.length>0&&p[0]&&v&&!he(v)&&((W=(y=(h=c==null?void 0:c.currentRoute)==null?void 0:h.value)==null?void 0:y.query)==null?void 0:W.token)==(v==null?void 0:v.name)&&o(p[0])},{immediate:!0,deep:!0}),{importIcon:ro,isShowSetUp:A,changeSwitch:d,checked:S,notifiStatus:i,store:$}}});const Ga=e=>(eo("data-v-8f838b7e"),e=e(),oo(),e),Ya={class:"range-alerts"},Ja={class:"range-alerts-top"},Qa={class:"title"},Za=Ga(()=>t("div",{class:"title-all"},[t("span",{class:"Range"},"Range Alerts")],-1)),Ka={key:1,class:"h5-switch-box"},Va={class:"range-alerts-bottom"},xa={key:0,class:"pc-switch-box"};function es(e,n,a,i,$,A){const S=po,d=tn;return w(),N("div",Ya,[t("div",Ja,[t("div",Qa,[Za,e.isShowSetUp||e.notifiStatus!=="authenticated"?(w(),Be(S,{key:0,class:"range-alerts-button",onClick:n[0]||(n[0]=nn(o=>e.store.setIsShowNotifi(!0),["stop"]))},{default:Xe(()=>[we(" Set up ")]),_:1})):ve("",!0),!e.isShowSetUp&&e.notifiStatus=="authenticated"?(w(),N("div",Ka,[re(d,{class:"range-alerts-switch",checked:e.checked,disabled:e.notifiStatus!=="authenticated",onChange:e.changeSwitch},null,8,["checked","disabled","onChange"])])):ve("",!0)])]),t("div",Va,[we(" Receive alerts via Telegram, SMS, or email when this position goes out of range. "),!e.isShowSetUp&&e.notifiStatus=="authenticated"?(w(),N("div",xa,[re(d,{class:"range-alerts-switch",checked:e.checked,disabled:e.notifiStatus!=="authenticated",onChange:e.changeSwitch},null,8,["checked","disabled","onChange"])])):ve("",!0)])])}const Go=We(za,[["render",es],["__scopeId","data-v-8f838b7e"]]),os=Fe({components:{NewPositionTitle:Fo,NewPositionInfo:Xo,NewPositionLiquidity:zo,NewPositionAssetAdd:wo,NewPositionAssetRemove:wo,NewPositionNotifi:Go},setup(){const e=I(),n=I(),a=I(),i=De(),$=k(()=>i),A=k(()=>$.value.chainName),S=Ke(),d=k(()=>S),o=uo();Oo(()=>{e.value={},S.setPositionActionAmount({fromCoinAmount:"",toCoinAmount:""}),d.value.setCurrentPositionLoading(!0)});const c=async()=>{d.value.setCurrentPositionLoading(!0);const r=o.currentRoute.value.query.token||"",q=o.currentRoute.value.query.collect||"",l=o.currentRoute.value.query.address||"",O=o.currentRoute.value.query.pos||"",E=o.currentRoute.value.query.id||"";A.value==="Aptos"?r&&q&&l&&d.value.setCurrentPositionInfo(l,q,r,A.value):r&&l&&O?d.value.setCurrentPositionInfo(l,q,r,A.value,O):E&&d.value.setCurrentPositionInfo("","","",A.value,E)};ye(()=>d.value.poolConfigObj,r=>{r&&!he(r)&&c()},{immediate:!0});const p=k(()=>d.value.currentPositionLoading),v=k(()=>{var q,l,O;const r=((O=(l=(q=o==null?void 0:o.currentRoute)==null?void 0:q.value)==null?void 0:l.query)==null?void 0:O.address)||"";return r&&d.value.addressLpTokens&&!he(d.value.addressLpTokens)&&d.value.addressLpTokens[r]?d.value.addressLpTokens[r]:null});ye(()=>v.value,(r,q)=>{r&&!he(r)&&(e.value=r),r&&!he(r)&&r.current_sqrt_price!==(q==null?void 0:q.current_sqrt_price)&&c()},{immediate:!0});const h=fo();ye(()=>[d.value.currentPositionInfo,A.value],([r,q])=>{var l;(q=="Aptos"&&r||q=="Sui"&&r&&(r==null?void 0:r.nftHash)==((l=h==null?void 0:h.query)==null?void 0:l.pos))&&(e.value=r,n.value=e.value.token_a,a.value=e.value.token_b)},{immediate:!0});const y=k(()=>d.value.positionDetailCurrentTab),W=mo(),V=k(()=>W),ne=k(()=>$.value.theme);return an(()=>{V.value.connected||(ne.value==="default"?o.push("/position"):o.push("/pool/position"))}),{positionInfo:e,fromCoin:n,toCoin:a,getDetails:c,currentPositionLoading:p,positionDetailCurrentTab:y,clickRefresh:()=>{c()},chainName:A}}});const ns={class:"new-position-detail"},ts={class:"new-position-content"},is={class:"left"},as={class:"right"},ss={class:"loading-global"};function ls(e,n,a,i,$,A){const S=Fo,d=Xo,o=zo,c=wo,p=Xa,v=Go,h=sn;return w(),N("div",ns,[re(S,{onClickRefresh:e.clickRefresh},null,8,["onClickRefresh"]),t("div",ts,[t("div",is,[re(d),re(o,{class:"pc-module",onGetDetails:e.getDetails},null,8,["onGetDetails"])]),t("div",as,[e.positionDetailCurrentTab=="increase"?(w(),Be(c,{key:0,onGetDetails:e.getDetails},null,8,["onGetDetails"])):(w(),Be(p,{key:1,onGetDetails:e.getDetails},null,8,["onGetDetails"])),re(o,{class:"h5-module",onGetDetails:e.getDetails},null,8,["onGetDetails"]),e.positionInfo&&e.positionInfo.minPrice!=="0"&&e.positionInfo.maxPrice!=="âˆž"&&e.chainName=="Sui"?(w(),Be(v,{key:2,"position-info":e.positionInfo},null,8,["position-info"])):ve("",!0)])]),qe(t("div",ss,[re(h)],512),[[Ao,e.currentPositionLoading]])])}const Ps=We(os,[["render",ls],["__scopeId","data-v-6904756a"]]);export{Ps as default};
