import{_ as Te}from"./apr-tips.210b1b20.js";import{a as ve,r as g,f9 as Be,fa as Ne,L as pe,G as he,N as Pe,e as A,b as fe,x as ge,w as G,fb as Re,i as Ee,H as ee,fc as Ke,Y as H,C as ie,f as _e,o as l,h as r,k as I,j as s,t as a,a1 as D,a2 as F,v as B,q as R,c as se,s as O,z as q,a4 as $e,B as Oe,p as we,l as ye,y as Ue,J as re,m as de,a0 as x,K as ue,E as ce,a9 as me,fd as Z,fe as qe,S as De,ff as Fe}from"./entry.642476c1.js";/* empty css              */import{_ as J}from"./icon_on_2x.92294e56.js";import{p as je}from"./precision.1cd464a0.js";import{_ as ze,a as Me}from"./img-no-Positions_2x.e41c0467.js";import"./index.86c26d0c.js";const He=ve({props:{lItem:{type:Object,required:!0}},setup(e){const o=g(!1),V=Be(Ne,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:U}=pe(),E=he(),N=Pe(),y=A(()=>N),k=g(!1);function L(v){const p=v.balance,h=Ke(p).div(Math.pow(10,v.decimals)).toString();return ee(h,v.decimals)}const $=v=>{k.value=!0,setTimeout(()=>{k.value=!1},2e3),E.push(`/deposit?tokena=${v.coinA.address}&tokenb=${v.coinB.address}&fee=${v.fee}`)},S=fe(),u=A(()=>S),w=A(()=>u.value.newTokenObj&&e.lItem.coinA.address&&u.value.newTokenObj[e.lItem.coinA.address]&&u.value.newTokenObj[e.lItem.coinA.address].logo_url),t=A(()=>u.value.newTokenObj&&e.lItem.coinB.address&&u.value.newTokenObj[e.lItem.coinB.address]&&u.value.newTokenObj[e.lItem.coinB.address].logo_url),c=g([]),m=ge(),b=A(()=>m);return G(()=>[u.value.addressLpTokens,u.value.newTokenObj,b.value.newTopPoolsObj,b.value.addressLpTokens,e.lItem],([v,p,h])=>{if(!H(v)&&!H(p)&&!H(u.value.RATES)&&!H(h)){const P=e.lItem.address&&v[e.lItem.address]&&v[e.lItem.address].rewarder_infos||[],j=[];P.forEach((T,z)=>{const W=p[T.coinAddress].decimals,M=ie(T.emissionsEveryDay/Math.pow(10,W),4),Y=ie(Number(M)*u.value.RATES[T.coinAddress].price,4);j.push({...T,logoUrl:p[T.coinAddress].logoURI,day:M,dayUSD:Y,symbol:p[T.coinAddress].symbol,rewarders:e.lItem[`rewarders${z}`],rewarder_display:e.lItem[`rewarder_display${z+1}`]})}),c.value=j.filter(T=>T.rewarder_display)}},{immediate:!0}),{t:U,isShow:o,indicator:V,thousands:Re,importIcon:Ee,router:E,wallet:y,addCommom:ee,getLpView:L,toAdd:$,fromCoinUrl:w,toCoinUrl:t,addLiquidity:k,rewarderInfo:c}}});const ke=e=>(we("data-v-3424e798"),e=e(),ye(),e),Ze={class:"pools-list-item"},Ge={key:0,class:"isFarming"},Je=ke(()=>s("div",{class:"hover-text"},"Farming bonus available",-1)),We=[Je],Ye=ke(()=>s("div",{class:"topBg"},null,-1)),Qe={class:"top"},Xe={class:"img-box"},xe=["src"],es=["src"],ss={class:"coin-name"},os={class:"symbol-label"},ts={class:"apr"},ns={class:"bottom"},ls={class:"induction"},as={class:"item"},is={class:"induction-text"},rs={class:"induction-value"},ds={class:"item"},us={class:"induction-text"},cs={class:"induction-value"},ms={class:"item"},vs={class:"induction-text"},ps={class:"induction-value"},hs={key:0,class:"item rewards-item"},fs={class:"induction-text"},gs={class:"induction-value induction-value-rewards"},_s={class:"rewards-hover"},$s=["src"],ws=["src"];function ys(e,o,V,U,E,N){var $,S,u,w,t,c,m,b,v,p;const y=Te,k=$e,L=Oe;return l(),r("div",Ze,[($=e.lItem)!=null&&$.isFarming?(l(),r("div",Ge,We)):I("",!0),Ye,s("div",Qe,[s("div",Xe,[(S=e.lItem)!=null&&S.coinA?(l(),r("img",{key:0,src:e.fromCoinUrl||e.importIcon(`/image/coins/${(u=e.lItem)==null?void 0:u.coinA.symbol.toLowerCase()}.png`)},null,8,xe)):I("",!0),(w=e.lItem)!=null&&w.coinB?(l(),r("img",{key:1,src:e.toCoinUrl||e.importIcon(`/image/coins/${(t=e.lItem)==null?void 0:t.coinB.symbol.toLowerCase()}.png`)},null,8,es)):I("",!0)]),s("span",ss,a((m=(c=e.lItem)==null?void 0:c.coinA)==null?void 0:m.symbol)+" - "+a((v=(b=e.lItem)==null?void 0:b.coinB)==null?void 0:v.symbol),1),s("div",os,[(l(!0),r(D,null,F((p=e.lItem)==null?void 0:p.labels,(h,P)=>(l(),r("div",{key:P,class:B(["lable",h])},null,2))),128))]),s("div",ts,[s("span",{class:"apr-text",onClick:o[0]||(o[0]=h=>e.isShow=!e.isShow)},a(e.lItem.is_display_rewarder?e.addCommom(e.lItem.aprTotal,2):e.addCommom(e.lItem.apr,2)),1),s("span",{onClick:o[1]||(o[1]=h=>e.isShow=!e.isShow)},a(e.$t("common.apr")),1),R(y,{class:B(e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),"l-item":e.lItem,"rewarder-info":e.rewarderInfo},null,8,["class","l-item","rewarder-info"])])]),s("div",ns,[s("div",ls,[s("div",as,[s("div",is,a(e.$t("common.feeTier")),1),s("div",rs,a(e.lItem.fee*100)+"%",1)]),s("div",ds,[s("div",us,a(e.$t("common.liquidity")),1),s("div",cs,"$"+a(e.addCommom(e.lItem.liqidity,2)),1)]),s("div",ms,[s("div",vs,a(e.$t("common.volume24H")),1),s("div",ps,"$"+a(e.addCommom(e.lItem.vol,2)),1)]),e.lItem.is_display_rewarder&&e.rewarderInfo&&e.rewarderInfo.length>0?(l(),r("div",hs,[s("div",fs,a(e.$t("common.rewards")),1),s("div",gs,[e.rewarderInfo&&e.rewarderInfo.length>0?(l(!0),r(D,{key:0},F(e.rewarderInfo,h=>(l(),r("div",{key:h,class:B(["rewards",h.day===0?"reward-none":""])},[s("div",_s,[s("img",{src:h.logoUrl,alt:""},null,8,$s),s("span",null,a(`${h.day} ${h.symbol} per day`),1)]),s("img",{src:h.logoUrl,alt:""},null,8,ws),s("span",null,a(h.symbol),1)],2))),128)):e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr!=="0%"?(l(),se(k,{key:1,size:"small"})):I("",!0)]),e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr=="0%"?(l(),r("div",{key:0,class:B(["induction-value",e.lItem.rewarder_apr=="0%"?"text-default":"induction-value-rewards"])},a(e.$t("newAdd.noRewards")),3)):I("",!0)])):I("",!0)]),R(L,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:o[2]||(o[2]=h=>e.toAdd(e.lItem))},{default:O(()=>[q(a(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const ks=_e(He,[["render",ys],["__scopeId","data-v-3424e798"]]),bs=ve({setup(){const{t:e,locale:o}=pe(),V=he(),U=g(!1),E=g(!1),N=g(!1),y=g("TVL"),k=g(["APR","VOL"]),L=g(!1),$=g(e("tab.all")),S=g([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),u=g([]),w=g(""),t=g(["pools"]),c=fe(),m=ge(),b=g(!0),v=g(""),p=A(()=>m),h=A(()=>m.theme),P=A(()=>c),j=A(()=>m.statsData),T=(n,d)=>d.liqidity-n.liqidity,z=(n,d)=>d.vol-n.vol,W=(n,d)=>d.aprNum-n.aprNum;Ue(()=>{var d,f,K;const n=(K=(f=(d=V==null?void 0:V.currentRoute)==null?void 0:d.value)==null?void 0:f.query)==null?void 0:K.language;n&&Y(n),m.getStatsData(),v.value=o.value,document.addEventListener("click",()=>{X("")})});const{setLang:M}=m,Y=n=>{M(n),o.value=n},be=(n,d)=>n&&d?de(je.plus(x(n),x(d)),2)+"%":n,oe=n=>{let d=0;return n&&n.forEach(f=>{d+=x(String(f))}),String(de(String(d),2))},Q=n=>{const d=[];n.forEach(_=>{const i=p.value.addressLpTokens[_.address];let te,ne,le,ae;i&&(te=i.rewarder_apr[0]?Number(i.rewarder_apr[0].substring(0,i.rewarder_apr[0].length-1)):0,ne=i.rewarder_apr[1]?Number(i.rewarder_apr[1].substring(0,i.rewarder_apr[1].length-1)):0,le=i.rewarder_apr[2]?Number(i.rewarder_apr[2].substring(0,i.rewarder_apr[2].length-1)):0,ae=te+ne+le),d.push({..._,liqidity:i?i.tvl_in_usd:"0.00000000001",vol:i?i.vol_in_usd_24h:"0",apr:i?i.apr_7day:"--",aprNum:i?String(Number(i.apr_7day.substring(0,i.apr_7day.length-1))+ae):"0",rewarder_apr:oe(i&&i.rewarder_apr),aprTotal:be(i&&i.apr_7day,i&&oe(i.rewarder_apr)),rewarders0:i&&i.rewarder_apr[0],rewarders1:i&&i.rewarder_apr[1],rewarders2:i&&i.rewarder_apr[2],labels:_!=null&&_.labels?_.labels:[],isFarming:_==null?void 0:_.isFarming})});let f=[];if(y.value=="APR"?f=d.sort(W):y.value=="VOL"?f=d.sort(z):f=d.sort(T),$.value!=e("tab.all")){const _=[];f.forEach(i=>{i.labels.indexOf($.value)!==-1&&_.push(i)}),u.value=_}else u.value=f;if(w.value){var K=new RegExp("[\\u4E00-\\u9FFF]+","g");if(K.test(w.value)){w.value="";return}const _=u.value.filter(i=>i.symbol.toLowerCase().includes(w.value.toLowerCase()));u.value=_}b.value=!1};G(()=>[P.value.poolConfigList,w.value,y.value,$.value,p.value.addressLpTokens],([n,d])=>{(n==null?void 0:n.length)>0&&Q(n)},{immediate:!0,deep:!0});const Ie=n=>{if(U.value=!0,n){Q(P.value.poolConfigList);const d=u.value.filter(f=>f.symbol.toLowerCase().includes(n.toLowerCase()));u.value=d,U.value=!1}else Q(P.value.poolConfigList)},Ce=()=>{b.value=!0,E.value=!0,m.getStatsData(),c.setPoolConfigList(),setTimeout(()=>{E.value=!1},1e3)},Le=n=>{const d=[];d.push(y.value),k.value.forEach((f,K)=>{f!=n&&d.push(f)}),k.value=d,y.value=n},Se=n=>{const d=[];S.value.forEach((f,K)=>{f==n?d[K]=$.value:d[K]=f}),S.value=d,$.value=n};G(()=>m.lang,n=>{v.value=n});const X=n=>{n=="label"?(m.setIsSelect("pools"),L.value=!L.value,N.value=!1):n=="select"?(m.setIsSelect("pools"),N.value=!N.value,L.value=!1):(N.value=!1,L.value=!1)},Ae=()=>{V&&V.push("/position")},Ve=A(()=>re[p.value.chainName]);return G(()=>p.value.isSelect,n=>{n!=="pools"&&X("")},{immediate:!0}),{lpInfo:A(()=>P.value.poolConfigList.filter(d=>d.address==re[p.value.chainName].newPositionAddress)[0]),config:Ve,toPositionList:Ae,t:e,router:V,loading:U,clickRefresh:Ce,refresh:E,updateLpList:Ie,searchKey:w,current:t,addCommom:ee,list:u,theme:h,statsData:j,pools:P,select:N,selectValue:y,selectList:k,label:L,labelValue:$,labelList:S,changeSort:Le,changeSortLabel:Se,reviseValue:X,listLoading:b,languageValue:v}}});const C=e=>(we("data-v-7bded80e"),e=e(),ye(),e),Is={class:"pools-list-container"},Cs={class:"right-link"},Ls=["href"],Ss=C(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-jump"})],-1)),As=C(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-add1"})],-1)),Vs={class:"search-refresh"},Ts={class:"my-position position-h5"},Bs=["placeholder"],Ns=C(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Ps=[Ns],Rs={key:0,class:"select-item"},Es=["onClick"],Ks=C(()=>s("img",{src:J,alt:""},null,-1)),Os=C(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Us=[Os],qs={key:0,class:"select-item"},Ds=["onClick"],Fs=C(()=>s("img",{src:J,alt:""},null,-1)),js=C(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),zs=[js],Ms={class:"search-tab"},Hs={class:"my-position position-pc"},Zs=C(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Gs=[Zs],Js={key:0,class:"select-item"},Ws=["onClick"],Ys=C(()=>s("img",{src:J,alt:""},null,-1)),Qs=C(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Xs=[Qs],xs={key:0,class:"select-item"},eo=["onClick"],so=C(()=>s("img",{src:J,alt:""},null,-1)),oo=["placeholder"],to=C(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),no=[to],lo={class:"item item-left"},ao={class:"value"},io={class:"label"},ro={class:"item item-right"},uo={class:"value"},co={class:"label"},mo={key:2,class:"no-data"},vo={key:0,src:ze},po={key:1,src:Me};function ho(e,o,V,U,E,N){const y=ue("mail-outlined"),k=Fe,L=ue("appstore-outlined"),$=qe,S=De,u=$e,w=ks;return l(),r("div",Is,[s("div",{class:"pools-title",onClick:o[1]||(o[1]=t=>e.reviseValue(""))},[s("div",null,a(e.$t("common.concentratedPools")),1),s("div",Cs,[s("a",{href:`${e.config.ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"ammSite"},[s("span",null,a(e.$t("common.ammPools")),1),Ss],8,Ls),s("div",{class:"position",onClick:o[0]||(o[0]=t=>{var c,m,b,v,p;return e.router.push(`/deposit?tokena=${((c=e.lpInfo)==null?void 0:c.coinA)&&((m=e.lpInfo)==null?void 0:m.coinA.address)}&tokenb=${((b=e.lpInfo)==null?void 0:b.coinB)&&((v=e.lpInfo)==null?void 0:v.coinB.address)}&fee=${(p=e.lpInfo)==null?void 0:p.fee}`)})},[s("span",null,a(e.$t("newAdd.newPosition")),1),As])])]),s("div",Vs,[s("div",Ts,[s("div",{class:"search-input",onClick:o[5]||(o[5]=t=>e.reviseValue(""))},[ce(s("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,Bs),[[me,e.searchKey]]),e.searchKey?(l(),r("div",{key:0,class:"out-icon",onClick:o[3]||(o[3]=t=>e.searchKey="")})):I("",!0),s("div",{class:"search-icon",onClick:o[4]||(o[4]=t=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:o[6]||(o[6]=Z(t=>e.reviseValue("label"),["stop"]))},[s("span",null,a(e.$t("newAdd.label")),1),s("div",null,a(e.labelValue),1),(l(),r("svg",{"aria-hidden":"true",class:B(e.label?"show-icon icon":"icon")},Ps,2)),e.label?(l(),r("div",Rs,[(l(!0),r(D,null,F(e.labelList,(t,c)=>(l(),r("div",{key:c,class:"select-menu-item",onClick:m=>e.changeSortLabel(t)},a(t),9,Es))),128))])):I("",!0)]),s("div",{class:"search-select",onClick:o[7]||(o[7]=Z(t=>e.reviseValue("select"),["stop"]))},[s("span",null,a(e.$t("newAdd.sortBy")),1),s("div",null,[q(a(e.selectValue)+" ",1),Ks]),(l(),r("svg",{"aria-hidden":"true",class:B(e.select?"show-icon icon":"icon")},Us,2)),e.select?(l(),r("div",qs,[(l(!0),r(D,null,F(e.selectList,(t,c)=>(l(),r("div",{key:c,class:"select-menu-item",onClick:m=>e.changeSort(t)},[q(a(t)+" ",1),Fs],8,Ds))),128))])):I("",!0)]),(l(),r("svg",{"aria-hidden":"true",class:B(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[8]||(o[8]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},zs,2))]),s("div",Ms,[R($,{selectedKeys:e.current,"onUpdate:selectedKeys":o[9]||(o[9]=t=>e.current=t),mode:"horizontal"},{default:O(()=>[R(k,{key:"pools"},{icon:O(()=>[R(y)]),default:O(()=>[q(" "+a(e.$t("menu.pools")),1)]),_:1}),R(k,{key:"position",onClick:e.toPositionList},{icon:O(()=>[R(L)]),default:O(()=>[q(" "+a(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Hs,[s("div",{class:"search-select search-label",onClick:o[10]||(o[10]=Z(t=>e.reviseValue("label"),["stop"]))},[s("span",null,a(e.$t("newAdd.label")),1),s("div",null,a(e.labelValue),1),(l(),r("svg",{"aria-hidden":"true",class:B(e.label?"show-icon icon":"icon")},Gs,2)),e.label?(l(),r("div",Js,[(l(!0),r(D,null,F(e.labelList,(t,c)=>(l(),r("div",{key:c,class:"select-menu-item",onClick:m=>e.changeSortLabel(t)},a(t),9,Ws))),128))])):I("",!0)]),s("div",{class:"search-select",onClick:o[11]||(o[11]=Z(t=>e.reviseValue("select"),["stop"]))},[s("span",null,a(e.$t("newAdd.sortBy")),1),s("div",null,[q(a(e.selectValue)+" ",1),Ys]),(l(),r("svg",{"aria-hidden":"true",class:B(e.select?"show-icon icon":"icon")},Xs,2)),e.select?(l(),r("div",xs,[(l(!0),r(D,null,F(e.selectList,(t,c)=>(l(),r("div",{key:c,class:"select-menu-item",onClick:m=>e.changeSort(t)},[q(a(t)+" ",1),so],8,eo))),128))])):I("",!0)]),s("div",{class:"search-input",onClick:o[15]||(o[15]=t=>e.reviseValue(""))},[ce(s("input",{"onUpdate:modelValue":o[12]||(o[12]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,oo),[[me,e.searchKey]]),e.searchKey?(l(),r("div",{key:0,class:"out-icon",onClick:o[13]||(o[13]=t=>e.searchKey="")})):I("",!0),s("div",{class:"search-icon",onClick:o[14]||(o[14]=t=>e.updateLpList(e.searchKey))})]),(l(),r("svg",{"aria-hidden":"true",class:B(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[16]||(o[16]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},no,2))])]),s("div",{class:"tvl-vol",onClick:o[17]||(o[17]=t=>e.reviseValue(""))},[s("div",lo,[R(S,{loading:e.listLoading,active:"",paragraph:!1},{default:O(()=>[s("div",ao," $ "+a(e.addCommom(e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",io,a(e.$t("common.totalValueLocked")),1)]),s("div",ro,[R(S,{loading:e.listLoading,active:"",paragraph:!1},{default:O(()=>[s("div",uo," $ "+a(e.addCommom(e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",co,a(e.$t("common.volume24H")),1)])]),s("div",{class:"item-container",onClick:o[18]||(o[18]=t=>e.reviseValue(""))},[e.listLoading?(l(),se(u,{key:0})):e.list&&e.list.length>0?(l(!0),r(D,{key:1},F(e.list,(t,c)=>(l(),se(w,{key:c,"l-item":t},null,8,["l-item"]))),128)):(l(),r("div",mo,[e.theme=="default"?(l(),r("img",vo)):(l(),r("img",po)),s("span",null,a(e.$t("common.poolsNotFound")),1)]))])])}const Io=_e(bs,[["render",ho],["__scopeId","data-v-7bded80e"]]);export{Io as default};
