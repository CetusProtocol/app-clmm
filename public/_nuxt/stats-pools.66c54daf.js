import{_ as Os}from"./back.949b8a68.js";import{_ as js}from"./apr-tips.34aff2c4.js";import{a as Es,b as Bs,i as x,e as Ws,W as Fs,r as i,f as qs,w as is,Q as zs,x as Gs,j as J,z as vs,R as us,k as Ks,o as v,l as c,m as a,E as z,C as w,t,q as I,G as ss,T as es,p as H,fl as Ms,F as cs,s as Qs,v as Js,K as Xs}from"./entry.6412fb8f.js";import{_ as ps}from"./icon_on_stats.b61a8e0c.js";import{p as Ys}from"./precision.1cd464a0.js";import{_ as _s}from"./icon-Rewards.cb9282e1.js";const Zs=Es({setup(){const o=Bs(),d=x(()=>o),ds=x(()=>d.value.newTokenObj||{}),os=Ws(),G=x(()=>os),K=Fs();let ls=i("big");const k=i(1),T=i(1);let y=i(!1);const e=()=>{os.getStatsData(G.value.chainName)};qs(()=>{os.getStatsData(G.value.chainName);const s=document.body.clientWidth;s<750?y.value=!1:y.value=!0,window.onresize=()=>{s<750?y.value=!1:y.value=!0},y.value,Z(k.value,10),m(T.value,10)});let _=i([]);const f=x(()=>G.value.topPoolsList),h=s=>(l,n)=>{let p=l[s],u=n[s];return p-u},r=s=>(l,n)=>{let p=l[s];return n[s]-p},g=i(!1),P=i(!1),A=i(!1),$=i(!1),D=i(!0),O=i(!1),j=i(!1),E=i(!1),C=i(!1),V=i(!1),R=i(!1),b=i(!1),B=i(!1),W=i(!1),F=i(!1),N=i(!0),X=i(!1),as=i("TVL"),rs=i(["Volume (24H)","Volume (7D)","APR"]),Y=i(!1),ns=i("TVL"),ts=i(["Price","Volume (24H)","Price Change"]),hs=s=>{const l=f;if(s=="tvl_in_usd"?(D.value?(g.value=!g.value,l.value.sort(g.value?h(s):r(s))):l.value.sort(r(s)),P.value=!1,A.value=!1,$.value=!1,D.value=!0,O.value=!1,j.value=!1,E.value=!1):s=="vol_in_usd_24h"?(O.value?(P.value=!P.value,l.value.sort(P.value?h(s):r(s))):l.value.sort(r(s)),g.value=!1,A.value=!1,$.value=!1,D.value=!1,O.value=!0,j.value=!1,E.value=!1):s=="vol_in_usd_7_day"?(j.value?(A.value=!A.value,l.value.sort(A.value?h(s):r(s))):l.value.sort(r(s)),g.value=!1,P.value=!1,$.value=!1,D.value=!1,O.value=!1,j.value=!0,E.value=!1):s=="aprNum"&&(E.value?($.value=!$.value,l.value.sort($.value?h(s):r(s))):l.value.sort(r(s)),g.value=!1,P.value=!1,A.value=!1,D.value=!1,O.value=!1,j.value=!1,E.value=!0),l.value.length<10)_.value=l.value.slice(0,10);else{const n=k.value*10;_.value=l.value.slice(n-10,n)}},fs=s=>{const l=M;if(s=="price"?(B.value?(C.value=!C.value,l.value.sort(C.value?h(s):r(s))):l.value.sort(r(s)),V.value=!1,R.value=!1,b.value=!1,B.value=!0,W.value=!1,F.value=!1,N.value=!1):s=="vol_in_usd_24h"?(F.value?(R.value=!R.value,l.value.sort(R.value?h(s):r(s))):l.value.sort(r(s)),C.value=!1,V.value=!1,b.value=!1,B.value=!1,W.value=!1,F.value=!0,N.value=!1):s=="tvl_in_usd"?(N.value?(b.value=!b.value,l.value.sort(b.value?h(s):r(s))):l.value.sort(r(s)),C.value=!1,V.value=!1,R.value=!1,B.value=!1,W.value=!1,F.value=!1,N.value=!0):s=="priceHour"&&(W.value?(V.value=!V.value,l.value.sort(V.value?h(s):r(s))):l.value.sort(r(s)),C.value=!1,R.value=!1,b.value=!1,B.value=!1,W.value=!0,F.value=!1,N.value=!1),l.value.length<10)S.value=l.value.slice(0,10);else{const n=T.value*10;S.value=l.value.slice(n-10,n)}},gs=s=>{s=="label"?(Y.value=!Y.value,X.value=!1):s=="select"?(X.value=!X.value,Y.value=!1):(X.value=!1,Y.value=!1)},ks=s=>{const l=[];l.push(as.value),rs.value.forEach((n,p)=>{n!=s&&l.push(n)}),rs.value=l,as.value=s,s=="TVL"?_.value.sort(r("tvl_in_usd")):s=="Volume (24H)"?_.value.sort(r("vol_in_usd_24h")):s=="Volume (7D)"?_.value.sort(r("vol_in_usd_7_day")):s=="APR"&&_.value.sort(r("aprNum"))},ws=s=>{const l=[];l.push(ns.value),ts.value.forEach((n,p)=>{n!=s&&l.push(n)}),ts.value=l,ns.value=s,s=="TVL"?S.value.sort(r("tvl_in_usd")):s=="Volume (24H)"?S.value.sort(r("vol_in_usd_24h")):s=="Price"?S.value.sort(r("price")):s=="Price Change"&&S.value.sort(r("priceHour"))};is(f,()=>{y.value,Z(k.value,10)});const Z=(s,l)=>{k.value=s;const n=l*s-l;let p=l*s;p=p>f.value.length?f.value.length:p;const u=f.value;if(u.length>0){D.value&&!g.value?u.sort(Ts):D.value&&g.value?u.sort(Is):O.value?P.value?u.sort(Hs):u.sort(ys):j.value?A.value?u.sort(Ps):u.sort(Ls):E.value&&($.value?u.sort(As):u.sort(bs));const Q=u.filter((q,U)=>U>=n&&U<p);_.value=Q}return u},Ts=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,ys=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Ls=(s,l)=>l.vol_in_usd_7_day-s.vol_in_usd_7_day,bs=(s,l)=>l.aprNum-s.aprNum,Is=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Hs=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,Ps=(s,l)=>s.vol_in_usd_7_day-l.vol_in_usd_7_day,As=(s,l)=>s.aprNum-l.aprNum;let S=i([]);const M=x(()=>{const s=G.value.topTokensList,l=[];for(let n=0;n<s.length;n++){const p=s[n];l.push({...p,priceHour:p?Number(p.price_rate_24h.substring(0,p.price_rate_24h.length-1)):"0"})}return l});is(M,()=>{y.value,m(T.value,10)});const m=(s,l)=>{T.value=s;const n=l*s-l;let p=l*s;p=p>M.value.length?M.value.length:p;const u=M.value;if(u.length>0){N.value&&!b.value?u.sort($s):N.value&&b.value?u.sort(Rs):B.value?C.value?u.sort(Ns):u.sort(Ds):W.value?V.value?u.sort(Ss):u.sort(Cs):F.value&&(R.value?u.sort(Us):u.sort(Vs));const Q=u.filter((q,U)=>U>=n&&U<p);S.value=Q}return u},$s=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Ds=(s,l)=>l.price-s.price,Cs=(s,l)=>l.priceHour-s.priceHour,Vs=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Rs=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Ns=(s,l)=>s.price-l.price,Ss=(s,l)=>s.priceHour-l.priceHour,Us=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h;return{getRewarderInfo:s=>{const l=s.swap_account;return d.value.addressLpTokens&&d.value.addressLpTokens[l]&&d.value.addressLpTokens[l].rewarder_infos},addCommom:zs,store:G,importIcon:Gs,topPoolsList:f,addressTokens:ds,showEcharts:ls,currentPools:k,onChangePools:Z,currentTopPoolsList:_,onChangeTokens:m,currentTokens:T,currentTopTokensList:S,topTokensList:M,router:K,isPc:y,getAprTotal:(s,l)=>s&&l?vs(Ys.plus(us(s),us(l)),2)+"%":s,getRewarderApr:s=>{let l=0;return s&&s.forEach(n=>{l+=us(String(n))}),String(vs(String(l),2))},toPoolsList:()=>{K&&K.push("/stats-pools")},toTokensList:()=>{K&&K.push("/stats-tokens")},changePoolsList:hs,changeTokensList:fs,tvlImprint:g,volHImprint:P,volDImprint:A,aprImprint:$,tokensPriceImprint:C,tokensPriceHImprint:V,tokensVolHImprint:R,tokensTvlImprint:b,labelToken:Y,select:X,selectValue:as,selectList:rs,reviseValue:gs,changeSort:ks,tokenValue:ns,tokensList:ts,changeSortLabel:ws,tvlImprintHighlight:D,volHImprintHighlight:O,volDImprintHighlight:j,aprImprintHighlight:E,tokensPriceImprintHighlight:B,tokensPriceHImprintHighlight:W,tokensVolHImprintHighlight:F,tokensTvlImprintHighlight:N,getLabel:s=>{const l=s.swap_account;return d.value.addressLpTokens&&d.value.addressLpTokens[l]&&d.value.addressLpTokens[l].labels},rewardApr:s=>{if(!J(s)&&!J(d.value.addressLpTokens)&&!J(d.value.newTokenObj)){const l=s.swap_account,n=d.value.addressLpTokens[l];let p=(n==null?void 0:n.rewarder_infos)||[];const u=[];p.forEach((q,U)=>{u.push({...q,symbol:d.value.newTokenObj[q.coinAddress].symbol,rewarderApr:s.rewarder_apr[U],logoUrl:d.value.newTokenObj[q.coinAddress].logoURI,rewarder_display:n[`rewarder_display${U+1}`]})});let Q=[];return Q=u.filter(q=>q.rewarder_display),Q}},getsad:e,rewardDisplay:s=>{if(!J(s)&&!J(d.value.addressLpTokens)&&!J(d.value.newTokenObj)){const l=d.value.addressLpTokens[s.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1}}}});const L=o=>(Qs("data-v-b9a9c1b5"),o=o(),Js(),o),ms={class:"stats-container"},xs={class:"title"},se={class:"top-pools-new"},ee={class:"sort-by"},oe=L(()=>a("img",{src:ps,alt:""},null,-1)),le=L(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),ae=[le],re={key:0,class:"select-item"},ne=["onClick"],te=L(()=>a("img",{src:ps,alt:""},null,-1)),ue={class:"content"},de={class:"item"},ie=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ve=[ie],ce=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),pe=[ce],_e=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),he=[_e],fe=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ge=[fe],ke={class:"apr-hover-content"},we=L(()=>a("span",null,"\xA0",-1)),Te={class:"token"},ye=["src"],Le=["src"],be={class:"name"},Ie={class:"token-name"},He={class:"fee-tier-top"},Pe={class:"label-all"},Ae={key:0},$e={class:"tvl"},De={class:"volume-hour"},Ce={class:"volume-day"},Ve=L(()=>a("img",{src:_s,alt:""},null,-1)),Re={key:0,class:"apr-hover-content"},Ne={class:"btn-box"},Se={class:"top"},Ue={class:"token"},Oe=["src"],je=["src"],Ee={class:"name"},Be={class:"token-name"},We={class:"label-all"},Fe={key:0},qe={class:"fee-tier-hint"},ze={class:"middle"},Ge={class:"item-pools"},Ke={class:"item-pools"},Me={class:"item-pools"},Qe=L(()=>a("img",{src:_s,alt:""},null,-1)),Je={key:0,class:"apr-hover-content"},Xe={class:"bottom"},Ye={class:"panation"};function Ze(o,d,ds,os,G,K){const ls=Os,k=js,T=Xs,y=Ms;return v(),c("div",ms,[a("div",xs,[z(ls),w(" "+t(o.$t("menu.pools")),1)]),a("div",se,[a("div",ee,[a("div",null,t(o.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:d[0]||(d[0]=e=>o.reviseValue("select"))},[a("div",null,[w(t(o.selectValue)+" ",1),oe]),(v(),c("svg",{"aria-hidden":"true",class:I(o.select?"show-icon icon":"icon")},ae,2)),o.select?(v(),c("div",re,[(v(!0),c(ss,null,es(o.selectList,(e,_)=>(v(),c("div",{key:_,class:"select-menu-item",onClick:f=>o.changeSort(e)},[w(t(e)+" ",1),te],8,ne))),128))])):H("",!0)])]),a("div",ue,[a("div",de,[a("span",null,t(o.$t("newAdd.pool")),1),a("span",{onClick:d[1]||(d[1]=e=>o.changePoolsList("tvl_in_usd"))},[w(t(o.$t("common.tvl"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:I(["pools-icon",o.tvlImprint?o.tvlImprintHighlight?"selected highlight":"selected":o.tvlImprintHighlight?"highlight":""])},ve,2))]),a("span",{onClick:d[2]||(d[2]=e=>o.changePoolsList("vol_in_usd_24h"))},[w(t(o.$t("common.volume24H"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:I(["pools-icon",o.volHImprint?o.volHImprintHighlight?"selected highlight":"selected":o.volHImprintHighlight?"highlight":""])},pe,2))]),a("span",{onClick:d[3]||(d[3]=e=>o.changePoolsList("vol_in_usd_7_day"))},[w(t(o.$t("newAdd.volume7D"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:I(["pools-icon",o.volDImprint?o.volDImprintHighlight?"selected highlight":"selected":o.volDImprintHighlight?"highlight":""])},he,2))]),a("span",{onClick:d[4]||(d[4]=e=>o.changePoolsList("aprNum"))},[w(" APR "),(v(),c("svg",{"aria-hidden":"true",class:I(["pools-icon",o.aprImprint?o.aprImprintHighlight?"selected highlight":"selected":o.aprImprintHighlight?"highlight":""])},ge,2)),a("div",ke,[z(k,{class:"noHover apr-hover-con"})])]),we]),(v(!0),c(ss,null,es(o.currentTopPoolsList,(e,_)=>{var f,h;return v(),c("div",{key:_,class:"item pc-item"},[a("div",Te,[e!=null&&e.token_a_address?(v(),c("img",{key:0,src:o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].logoURI?o.addressTokens[e.token_a_address].logoURI:o.store.theme=="default"?o.importIcon("/image/coins/unknown.png"):o.importIcon("/image/coins/sui-unknown.png")},null,8,ye)):H("",!0),e!=null&&e.token_b_address?(v(),c("img",{key:1,src:o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].logoURI?o.addressTokens[e.token_b_address].logoURI:o.store.theme=="default"?o.importIcon("/image/coins/unknown.png"):o.importIcon("/image/coins/sui-unknown.png")},null,8,Le)):H("",!0),a("div",be,[a("p",Ie,t(e.token_a_reserves)+" - "+t(e.token_b_reserves),1),a("div",He,t((e==null?void 0:e.fee)*100)+"%",1),a("div",Pe,[(v(!0),c(ss,null,es(o.getLabel(e),(r,g)=>(v(),c("div",{key:g,class:I(["label",r])},[r!=="Native"?(v(),c("span",Ae,t(r),1)):H("",!0)],2))),128))])])]),a("div",$e," $"+t(e.tvl_in_usd?o.addCommom(e.tvl_in_usd,2):"--"),1),a("div",De," $"+t(e!=null&&e.vol_in_usd_24h?o.addCommom(e==null?void 0:e.vol_in_usd_24h,2):"--"),1),a("div",Ce," $"+t(e!=null&&e.vol_in_usd_7_day?o.addCommom(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1),a("div",{class:I(["apr",((f=o.rewardApr(e))==null?void 0:f.length)>0&&o.rewardDisplay(e)?"apr-mark":""])},[Ve,w(" "+t(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)))+" ",1),((h=o.rewardApr(e))==null?void 0:h.length)!=0&&o.rewardDisplay(e)?(v(),c("div",Re,[z(k,{class:"noHover apr-hover-con","l-item":{apr:e.apr_7day,aprTotal:o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)),is_display_rewarder:o.rewardDisplay(e),rewarder_apr:o.getRewarderApr(e.rewarder_apr)},"rewarder-info":o.rewardApr(e)},null,8,["l-item","rewarder-info"])])):H("",!0)],2),a("div",Ne,[z(T,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:cs(()=>[w(t(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(v(!0),c(ss,null,es(o.currentTopPoolsList,(e,_)=>{var f,h;return v(),c("div",{key:_,class:"item h5-item"},[a("div",Se,[a("div",Ue,[e!=null&&e.token_a_address?(v(),c("img",{key:0,src:o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].logoURI?o.addressTokens[e.token_a_address].logoURI:o.store.theme=="default"?o.importIcon("/image/coins/unknown.png"):o.importIcon("/image/coins/sui-unknown.png")},null,8,Oe)):H("",!0),e!=null&&e.token_b_address?(v(),c("img",{key:1,src:o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].logoURI?o.addressTokens[e.token_b_address].logoURI:o.store.theme=="default"?o.importIcon("/image/coins/unknown.png"):o.importIcon("/image/coins/sui-unknown.png")},null,8,je)):H("",!0),a("div",Ee,[a("p",Be,t(e.token_a_reserves)+" - "+t(e.token_b_reserves),1),a("div",We,[(v(!0),c(ss,null,es(o.getLabel(e),(r,g)=>(v(),c("div",{key:g,class:I(["label",r])},[r!=="Native"?(v(),c("span",Fe,t(r),1)):H("",!0)],2))),128))])])]),a("div",qe,t((e==null?void 0:e.fee)*100)+"%",1)]),a("div",ze,[a("div",Ge,[a("span",null,t(o.$t("common.tvl")),1),a("p",null," $"+t(e.tvl_in_usd?o.addCommom(e.tvl_in_usd,2):"--"),1)]),a("div",Ke,[a("span",null,t(o.$t("common.volume24H")),1),a("p",null," $"+t(e!=null&&e.vol_in_usd_24h?o.addCommom(e==null?void 0:e.vol_in_usd_24h,2):"--"),1)]),a("div",Me,[a("span",null,t(o.$t("common.volume7D")),1),a("p",null," $"+t(e!=null&&e.vol_in_usd_7_day?o.addCommom(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1)]),a("div",{class:I(["item-pools",((f=o.rewardApr(e))==null?void 0:f.length)>0&&o.rewardDisplay(e)?"":"apr-mark-h5"])},[a("span",null,t(o.$t("common.apr")),1),a("p",null,[Qe,w(" "+t(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr))),1)]),((h=o.rewardApr(e))==null?void 0:h.length)!=0&&o.rewardDisplay(e)?(v(),c("div",Je,[z(k,{class:"noHover apr-hover-con","l-item":{apr:e.apr_7day,aprTotal:o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)),is_display_rewarder:o.rewardDisplay(e),rewarder_apr:o.getRewarderApr(e.rewarder_apr)},"rewarder-info":o.rewardApr(e)},null,8,["l-item","rewarder-info"])])):H("",!0)],2)]),a("div",Xe,[z(T,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:cs(()=>[w(t(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),a("div",Ye,[z(y,{current:o.currentPools,"onUpdate:current":d[5]||(d[5]=e=>o.currentPools=e),"page-size":(o.isPc,10),simple:"",total:o.topPoolsList.length,onChange:o.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const po=Ks(Zs,[["render",Ze],["__scopeId","data-v-b9a9c1b5"]]);export{po as default};
