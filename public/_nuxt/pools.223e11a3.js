import{_ as Oe}from"./apr-tips.a23565dc.js";import{a as he,r as g,f9 as Pe,fa as Ee,Z as fe,W as ge,$ as Ue,i as S,b as $e,e as we,w as z,fb as Ke,v as je,Q as ne,fc as Fe,j as X,L as de,k as _e,o as l,l as a,p as $,m as s,A as K,t as i,F,T as q,J as B,C as O,c as te,E as U,U as ke,K as qe,q as ye,s as be,f as De,X as ue,y as ce,R as oe,Y as me,N as ve,a5 as pe,fd as Y,fe as Me,S as ze,ff as He}from"./entry.7c6f9548.js";/* empty css              */import{_ as G}from"./icon_on_2x.92294e56.js";import{p as Ze}from"./precision.1cd464a0.js";import{_ as We,a as Je}from"./img-no-Positions_2x.e41c0467.js";import"./index.da37c42c.js";const Qe=he({props:{lItem:{type:Object,required:!0}},setup(e){const o=g(!1),T=Pe(Ee,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:j}=fe(),P=ge(),N=Ue(),b=S(()=>N),I=g(!1);function L(u){const E=u.balance,R=Fe(E).div(Math.pow(10,u.decimals)).toString();return ne(R,u.decimals)}const _=u=>{I.value=!0,setTimeout(()=>{I.value=!1},2e3),P.push(`/deposit?poolAddress=${u.address}&tokena=${u.coinA.address}&tokenb=${u.coinB.address}&fee=${u.fee}`)},A=$e(),c=S(()=>A),k=S(()=>c.value.newTokenObj&&e.lItem.coinA.address&&c.value.newTokenObj[e.lItem.coinA.address]&&c.value.newTokenObj[e.lItem.coinA.address].logo_url),t=S(()=>c.value.newTokenObj&&e.lItem.coinB.address&&c.value.newTokenObj[e.lItem.coinB.address]&&c.value.newTokenObj[e.lItem.coinB.address].logo_url),m=g([]),v=we(),w=S(()=>v),p=S(()=>w.value.theme);return z(()=>[c.value.addressLpTokens,c.value.newTokenObj,w.value.newTopPoolsObj,w.value.addressLpTokens,e.lItem],([u,E,R])=>{if(!X(u)&&!X(E)&&!X(c.value.RATES)&&!X(R)){const x=e.lItem.address&&u[e.lItem.address]&&u[e.lItem.address].rewarder_infos||[],H=[];x.forEach((V,Z)=>{var M;const ee=(M=E[V.coinAddress])==null?void 0:M.decimals,W=de(V.emissionsEveryDay/Math.pow(10,ee),4),se=de(Number(W)*c.value.RATES[V.coinAddress]&&c.value.RATES[V.coinAddress].price,4);H.push({...V,logoUrl:E[V.coinAddress].logoURI,day:W,dayUSD:se,symbol:E[V.coinAddress].symbol,rewarders:e.lItem[`rewarders${Z}`],rewarder_display:e.lItem[`rewarder_display${Z+1}`]})}),m.value=H.filter(V=>V.rewarder_display)}},{immediate:!0}),{t:j,isShow:o,indicator:T,thousands:Ke,importIcon:je,router:P,wallet:b,addCommom:ne,getLpView:L,toAdd:_,fromCoinUrl:k,toCoinUrl:t,addLiquidity:I,rewarderInfo:m,theme:p}}});const Ie=e=>(ye("data-v-be3b51a2"),e=e(),be(),e),Xe={class:"pools-list-item"},Ye={key:0,class:"isFarming"},Ge=Ie(()=>s("div",{class:"hover-text"},"Farming bonus available",-1)),xe=[Ge],es=Ie(()=>s("div",{class:"topBg"},null,-1)),ss={class:"top"},os={class:"img-box"},ns=["src"],ts=["src"],ls={class:"coin-name"},as={key:0,class:"pool-warning"},is={class:"hover-text"},rs={class:"symbol-label"},ds={class:"apr"},us={class:"bottom"},cs={class:"induction"},ms={class:"item"},vs={class:"induction-text"},ps={class:"induction-value"},hs={class:"item"},fs={class:"induction-text"},gs={class:"induction-value"},$s={class:"item"},ws={class:"induction-text"},_s={class:"induction-value"},ks={key:0,class:"item rewards-item"},ys={class:"induction-text"},bs={class:"induction-value induction-value-rewards"},Is={class:"rewards-hover"},Cs=["src"],Ss=["src"];function Ls(e,o,T,j,P,N){var _,A,c,k,t,m,v,w;const b=Oe,I=ke,L=qe;return l(),a("div",Xe,[(_=e.lItem)!=null&&_.isFarming?(l(),a("div",Ye,xe)):$("",!0),es,s("div",ss,[s("div",os,[(A=e.lItem)!=null&&A.coinA?(l(),a("img",{key:0,src:e.fromCoinUrl?e.fromCoinUrl:e.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png")},null,8,ns)):$("",!0),(c=e.lItem)!=null&&c.coinB?(l(),a("img",{key:1,src:e.toCoinUrl?e.toCoinUrl:e.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png")},null,8,ts)):$("",!0)]),s("span",ls,[K(i((t=(k=e.lItem)==null?void 0:k.coinA)==null?void 0:t.symbol)+" - "+i((v=(m=e.lItem)==null?void 0:m.coinB)==null?void 0:v.symbol)+" ",1),e.lItem.isSelfBuilt?(l(),a("div",as,[s("div",is,i(e.t("newAdd.poolWarning")),1)])):$("",!0)]),s("div",rs,[(l(!0),a(F,null,q((w=e.lItem)==null?void 0:w.labels,(p,u)=>(l(),a("div",{key:u,class:B(["lable",p])},null,2))),128))]),s("div",ds,[s("span",{class:"apr-text",onClick:o[0]||(o[0]=p=>e.isShow=!e.isShow)},i(e.lItem.is_display_rewarder?e.addCommom(e.lItem.aprTotal,2):e.addCommom(e.lItem.apr,2)),1),s("span",{onClick:o[1]||(o[1]=p=>e.isShow=!e.isShow)},i(e.$t("common.apr")),1),O(b,{class:B(e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),"l-item":e.lItem,"rewarder-info":e.rewarderInfo},null,8,["class","l-item","rewarder-info"])])]),s("div",us,[s("div",cs,[s("div",ms,[s("div",vs,i(e.$t("common.feeTier")),1),s("div",ps,i(e.lItem.fee!=="--"?e.lItem.fee*100:"--")+"%",1)]),s("div",hs,[s("div",fs,i(e.$t("common.liquidity")),1),s("div",gs,"$"+i(e.addCommom(e.lItem.liqidity,2)),1)]),s("div",$s,[s("div",ws,i(e.$t("common.volume24H")),1),s("div",_s,"$"+i(e.addCommom(e.lItem.vol,2)),1)]),e.lItem.is_display_rewarder&&e.rewarderInfo&&e.rewarderInfo.length>0?(l(),a("div",ks,[s("div",ys,i(e.$t("common.rewards")),1),s("div",bs,[e.rewarderInfo&&e.rewarderInfo.length>0?(l(!0),a(F,{key:0},q(e.rewarderInfo,p=>(l(),a("div",{key:p,class:B(["rewards",p.day===0?"reward-none":""])},[s("div",Is,[s("img",{src:p.logoUrl,alt:""},null,8,Cs),s("span",null,i(`${p.day} ${p.symbol} per day`),1)]),s("img",{src:p.logoUrl,alt:""},null,8,Ss),s("span",null,i(p.symbol),1)],2))),128)):e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr!=="0%"?(l(),te(I,{key:1,size:"small"})):$("",!0)]),e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr=="0%"?(l(),a("div",{key:0,class:B(["induction-value",e.lItem.rewarder_apr=="0%"?"text-default":"induction-value-rewards"])},i(e.$t("newAdd.noRewards")),3)):$("",!0)])):$("",!0)]),O(L,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:o[2]||(o[2]=p=>e.toAdd(e.lItem))},{default:U(()=>[K(i(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const As=_e(Qe,[["render",Ls],["__scopeId","data-v-be3b51a2"]]),Vs=he({setup(){const{t:e,locale:o}=fe(),T=ge(),j=g(!1),P=g(!1),N=g(!1),b=g("TVL"),I=g(["APR","VOL"]),L=g(!1),_=g(e("tab.all")),A=g([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),c=g([]),k=g(""),t=g(["pools"]),m=$e(),v=we(),w=g(!0),p=g(""),u=S(()=>v),E=S(()=>v.theme),R=S(()=>m),x=S(()=>v.statsData),H=(n,d)=>d.liqidity-n.liqidity,V=(n,d)=>d.vol-n.vol,Z=(n,d)=>d.aprNum-n.aprNum;De(()=>{var d,f,C;const n=(C=(f=(d=T==null?void 0:T.currentRoute)==null?void 0:d.value)==null?void 0:f.query)==null?void 0:C.language;n&&W(n),p.value=o.value,document.addEventListener("click",()=>{J(""),D.value=!1})}),z(()=>u.value.chainName,(n,d)=>{n&&v.getStatsData(n)},{immediate:!0});const{setLang:ee}=v,W=n=>{ee(n),o.value=n},se=(n,d)=>n&&d?ce(Ze.plus(oe(n),oe(d)),2)+"%":n,M=n=>{let d=0;return n&&n.forEach(f=>{d+=oe(String(f))}),String(ce(String(d),2))},Ce=(n=[])=>{const d=n&&n.length>0?n:Object.values(R.value.poolsObj),f=[];d.forEach(h=>{const r=u.value.addressLpTokens[h.address],Q=R.value.poolsObj[h.address];let le,ae,ie,re;r&&(le=r.rewarder_apr[0]?Number(r.rewarder_apr[0].substring(0,r.rewarder_apr[0].length-1)):0,ae=r.rewarder_apr[1]?Number(r.rewarder_apr[1].substring(0,r.rewarder_apr[1].length-1)):0,ie=r.rewarder_apr[2]?Number(r.rewarder_apr[2].substring(0,r.rewarder_apr[2].length-1)):0,re=le+ae+ie),f.push({...h,liqidity:r?r.tvl_in_usd:"0.00000000001",vol:r?r.vol_in_usd_24h:"0",apr:r?r.apr_7day:"--",fee:h.fee?h.fee:Q!=null&&Q.fee?Q.fee:"--",aprNum:r?String(Number(r.apr_7day.substring(0,r.apr_7day.length-1))+re):"0",rewarder_apr:M(r&&r.rewarder_apr),aprTotal:se(r&&r.apr_7day,r&&M(r.rewarder_apr)),rewarders0:r&&r.rewarder_apr[0],rewarders1:r&&r.rewarder_apr[1],rewarders2:r&&r.rewarder_apr[2],labels:h!=null&&h.labels?h.labels:[],isFarming:h==null?void 0:h.isFarming,isSelfBuilt:h==null?void 0:h.isSelfBuilt})});let C=[];if(b.value=="APR"?C=f.sort(Z):b.value=="VOL"?C=f.sort(V):C=f.sort(H),_.value!=e("tab.all")){const h=[];C.forEach(r=>{r.labels.indexOf(_.value)!==-1&&h.push(r)}),c.value=h}else c.value=C;if(k.value){var Re=new RegExp("[\\u4E00-\\u9FFF]+","g");if(Re.test(k.value)){k.value="";return}const h=c.value.filter(r=>r.symbol.toLowerCase().includes(k.value.toLowerCase()));c.value=h}w.value=!1};z(()=>[R.value.poolConfigList,k.value,b.value,_.value,u.value.addressLpTokens],([n,d])=>{(n==null?void 0:n.length)>0&&Ce(n)},{immediate:!0,deep:!0});const Se=n=>{if(!w.value&&(j.value=!0,n)){const d=c.value.filter(f=>f.symbol.toLowerCase().includes(n.toLowerCase()));c.value=d,j.value=!1}},Le=()=>{w.value=!0,P.value=!0,v.getStatsData(u.value.chainName),m.setPoolConfigList(u.value.chainName),setTimeout(()=>{P.value=!1},1e3)},Ae=n=>{const d=[];d.push(b.value),I.value.forEach((f,C)=>{f!=n&&d.push(f)}),I.value=d,b.value=n},Ve=n=>{const d=[];A.value.forEach((f,C)=>{f==n?d[C]=_.value:d[C]=f}),A.value=d,_.value=n};z(()=>v.lang,n=>{p.value=n});const J=n=>{n=="label"?(v.setIsSelect("pools"),L.value=!L.value,N.value=!1,D.value=!1):n=="select"?(v.setIsSelect("pools"),N.value=!N.value,L.value=!1,D.value=!1):(N.value=!1,L.value=!1)},Te=()=>{T&&T.push("/position")},Be=S(()=>ue[u.value.chainName]);z(()=>u.value.isSelect,n=>{n!=="pools"&&J("")},{immediate:!0});const Ne=S(()=>R.value.poolConfigList.filter(d=>d.address==ue[u.value.chainName].newPositionAddress)[0]),D=g(!1);return{store:u,showMore:()=>{D.value=!D.value,J("")},lpInfo:Ne,config:Be,toPositionList:Te,t:e,router:T,loading:j,clickRefresh:Le,refresh:P,updateLpList:Se,searchKey:k,current:t,addCommom:ne,list:c,theme:E,statsData:x,pools:R,select:N,selectValue:b,selectList:I,label:L,labelValue:_,labelList:A,changeSort:Ae,changeSortLabel:Ve,reviseValue:J,listLoading:w,languageValue:p,isShowMore:D}}});const y=e=>(ye("data-v-2aa9fb87"),e=e(),be(),e),Ts={class:"pools-list-container"},Bs={class:"right-link"},Ns=["href"],Rs=y(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-jump"})],-1)),Os=y(()=>s("div",null,null,-1)),Ps=y(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-add1"})],-1)),Es={class:"search-refresh"},Us={class:"my-position position-h5"},Ks=["placeholder"],js=y(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Fs=[js],qs={key:0,class:"select-item"},Ds=["onClick"],Ms=y(()=>s("img",{src:G,alt:""},null,-1)),zs=y(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Hs=[zs],Zs={key:0,class:"select-item"},Ws=["onClick"],Js=y(()=>s("img",{src:G,alt:""},null,-1)),Qs=y(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Xs=[Qs],Ys={class:"search-tab"},Gs={class:"my-position position-pc"},xs=y(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),eo=[xs],so={key:0,class:"select-item"},oo=["onClick"],no=y(()=>s("img",{src:G,alt:""},null,-1)),to=y(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),lo=[to],ao={key:0,class:"select-item"},io=["onClick"],ro=y(()=>s("img",{src:G,alt:""},null,-1)),uo=["placeholder"],co=y(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),mo=[co],vo={class:"item item-left"},po={class:"value"},ho={class:"label"},fo={class:"item item-right"},go={class:"value"},$o={class:"label"},wo={key:2,class:"no-data"},_o={key:0,src:We},ko={key:1,src:Je};function yo(e,o,T,j,P,N){const b=me("mail-outlined"),I=He,L=me("appstore-outlined"),_=Me,A=ze,c=ke,k=As;return l(),a("div",Ts,[s("div",{class:"pools-title",onClick:o[1]||(o[1]=t=>e.reviseValue(""))},[s("div",null,i(e.$t("common.concentratedPools")),1),s("div",Bs,[e.store&&e.store.chainName==="Aptos"?(l(),a("a",{key:0,href:`${e.config.ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"ammSite"},[s("span",null,i(e.$t("common.ammPools")),1),Rs],8,Ns)):$("",!0),Os,s("div",{class:"position",onClick:o[0]||(o[0]=t=>{var m,v,w,p,u;return e.router.push(`/deposit?tokena=${((m=e.lpInfo)==null?void 0:m.coinA)&&((v=e.lpInfo)==null?void 0:v.coinA.address)}&tokenb=${((w=e.lpInfo)==null?void 0:w.coinB)&&((p=e.lpInfo)==null?void 0:p.coinB.address)}&fee=${(u=e.lpInfo)==null?void 0:u.fee}`)})},[s("span",null,i(e.$t("newAdd.newPosition")),1),Ps])])]),s("div",Es,[s("div",Us,[s("div",{class:"search-input",onClick:o[5]||(o[5]=t=>e.reviseValue(""))},[ve(s("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,Ks),[[pe,e.searchKey]]),e.searchKey?(l(),a("div",{key:0,class:"out-icon",onClick:o[3]||(o[3]=t=>e.searchKey="")})):$("",!0),s("div",{class:"search-icon",onClick:o[4]||(o[4]=t=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:o[6]||(o[6]=Y(t=>e.reviseValue("label"),["stop"]))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(l(),a("svg",{"aria-hidden":"true",class:B(e.label?"show-icon icon":"icon")},Fs,2)),e.label?(l(),a("div",qs,[(l(!0),a(F,null,q(e.labelList,(t,m)=>(l(),a("div",{key:m,class:"select-menu-item",onClick:v=>e.changeSortLabel(t)},i(t),9,Ds))),128))])):$("",!0)]),s("div",{class:"search-select",onClick:o[7]||(o[7]=Y(t=>e.reviseValue("select"),["stop"]))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[K(i(e.selectValue)+" ",1),Ms]),(l(),a("svg",{"aria-hidden":"true",class:B(e.select?"show-icon icon":"icon")},Hs,2)),e.select?(l(),a("div",Zs,[(l(!0),a(F,null,q(e.selectList,(t,m)=>(l(),a("div",{key:m,class:"select-menu-item",onClick:v=>e.changeSort(t)},[K(i(t)+" ",1),Js],8,Ws))),128))])):$("",!0)]),(l(),a("svg",{"aria-hidden":"true",class:B(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[8]||(o[8]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Xs,2))]),s("div",Ys,[O(_,{selectedKeys:e.current,"onUpdate:selectedKeys":o[9]||(o[9]=t=>e.current=t),mode:"horizontal"},{default:U(()=>[O(I,{key:"pools"},{icon:U(()=>[O(b)]),default:U(()=>[K(" "+i(e.$t("menu.pools")),1)]),_:1}),O(I,{key:"position",onClick:e.toPositionList},{icon:U(()=>[O(L)]),default:U(()=>[K(" "+i(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Gs,[e.store.theme=="default"?(l(),a("div",{key:0,class:"search-select search-label",onClick:o[10]||(o[10]=Y(t=>e.reviseValue("label"),["stop"]))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(l(),a("svg",{"aria-hidden":"true",class:B(e.label?"show-icon icon":"icon")},eo,2)),e.label?(l(),a("div",so,[(l(!0),a(F,null,q(e.labelList,(t,m)=>(l(),a("div",{key:m,class:"select-menu-item",onClick:v=>e.changeSortLabel(t)},i(t),9,oo))),128))])):$("",!0)])):$("",!0),s("div",{class:"search-select",onClick:o[11]||(o[11]=Y(t=>e.reviseValue("select"),["stop"]))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[K(i(e.selectValue)+" ",1),no]),(l(),a("svg",{"aria-hidden":"true",class:B(e.select?"show-icon icon":"icon")},lo,2)),e.select?(l(),a("div",ao,[(l(!0),a(F,null,q(e.selectList,(t,m)=>(l(),a("div",{key:m,class:"select-menu-item",onClick:v=>e.changeSort(t)},[K(i(t)+" ",1),ro],8,io))),128))])):$("",!0)]),s("div",{class:"search-input",onClick:o[15]||(o[15]=t=>e.reviseValue(""))},[ve(s("input",{"onUpdate:modelValue":o[12]||(o[12]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,uo),[[pe,e.searchKey]]),e.searchKey?(l(),a("div",{key:0,class:"out-icon",onClick:o[13]||(o[13]=t=>e.searchKey="")})):$("",!0),s("div",{class:"search-icon",onClick:o[14]||(o[14]=t=>e.updateLpList(e.searchKey))})]),(l(),a("svg",{"aria-hidden":"true",class:B(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[16]||(o[16]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},mo,2))])]),s("div",{class:"tvl-vol",onClick:o[17]||(o[17]=t=>e.reviseValue(""))},[s("div",vo,[O(A,{loading:e.listLoading,active:"",paragraph:!1},{default:U(()=>[s("div",po," $ "+i(e.addCommom(e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",ho,i(e.$t("common.totalValueLocked")),1)]),s("div",fo,[O(A,{loading:e.listLoading,active:"",paragraph:!1},{default:U(()=>[s("div",go," $ "+i(e.addCommom(e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",$o,i(e.$t("common.volume24H")),1)])]),s("div",{class:"item-container",onClick:o[18]||(o[18]=t=>e.reviseValue(""))},[e.listLoading?(l(),te(c,{key:0})):e.list&&e.list.length>0?(l(!0),a(F,{key:1},q(e.list,(t,m)=>(l(),te(k,{key:m,"l-item":t},null,8,["l-item"]))),128)):(l(),a("div",wo,[e.theme=="default"?(l(),a("img",_o)):(l(),a("img",ko)),s("span",null,i(e.$t("common.poolsNotFound")),1)]))])])}const Bo=_e(Vs,[["render",yo],["__scopeId","data-v-2aa9fb87"]]);export{Bo as default};
