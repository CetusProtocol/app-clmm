import{u as H,a as ge}from"./sha256.5fd340cd.js";import{a as J,l as _,e as Q,o as p,f as P,r as y,m as Z,q as A,h as i,v as S,i as U,w as V,C as W,x as F,I as ie,O as ae,J as re,j as z,B as le,y as ke,D as be,L as _e,s as ye,c as E,t as he,u as K,S as Pe,a5 as Se,p as se,k as ue,Q as oe,R as Ce,N as $e,b as Te}from"./entry.d8304b7c.js";import{_ as Ie}from"./img-lock_2x.a28135f4.js";import{_ as we}from"./lock.6116f960.js";/* empty css              *//* empty css              */import{b as ce,d as ee,u as te,o as Ne,a as X,h as de,c as ne,e as x}from"./pool.5c06adc5.js";import{D as T}from"./decimal.0e8aa3f1.js";import{i as Y}from"./import-icon.de3e6c66.js";import{_ as me}from"./token-warning.5571c3fd.js";/* empty css              *//* empty css              */import{_ as Me}from"./refresh-icon.51be597c.js";import{_ as Ae}from"./swap-setting.328d2bbc.js";const Oe=J({setup(){const e=H();return{storeIndex:_(()=>e)}}});const je={class:"create-pool-lock"},Be={key:0,src:Ie,alt:""},Re={key:1,src:we,alt:""};function Le(e,t,l,f,g,m){return p(),P("div",je,[e.storeIndex.theme=="default"?(p(),P("img",Be)):(p(),P("img",Re))])}const Qt=Q(Oe,[["render",Le],["__scopeId","data-v-fb497971"]]),qe=J({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,t){const l=y(""),f=y("");let g=y(""),m=y("");const o=Z(),b=H(),s=_(()=>b),I=_(()=>s.value.chainName?ce(s.value.chainName):{}),w=()=>{var n,u,k,M;if(!(Number.isNaN(l.value)||Number(l.value)!==0&&!l.value||!e.poolInfo.tickSpacing))try{const{TickUtil:j,TickMath:O,getNearestTickByTick:c}=I.value,v=O.priceToTickIndex(new T(l.value.toString()),(n=d.value.token_a)==null?void 0:n.decimals,(u=d.value.token_b)==null?void 0:u.decimals),h=c(v,Number(d.value.tickSpacing),!0);let $;if($=O.tickIndexToPrice(h+Number(d.value.tickSpacing),(k=d.value.token_a)==null?void 0:k.decimals,(M=d.value.token_b)==null?void 0:M.decimals),e.pType=="Min"&&Number($.toString())>Number(m.value.toString()))return;const R=$.toString();t.emit("onInput",R)}catch{t.emit("onInput","")}},B=()=>{var n,u,k,M;try{if(Number.isNaN(l.value)||!l.value||!e.poolInfo.tickSpacing)return;const{TickUtil:j,TickMath:O,getNearestTickByTick:c}=I.value,v=O.priceToTickIndex(new T(l.value.toString()),(n=d.value.token_a)==null?void 0:n.decimals,(u=d.value.token_b)==null?void 0:u.decimals),h=c(v,Number(d.value.tickSpacing),!0);let $;$=O.tickIndexToPrice(h-Number(d.value.tickSpacing),(k=d.value.token_a)==null?void 0:k.decimals,(M=d.value.token_b)==null?void 0:M.decimals);const R=$.toString();if(e.pType=="Max"&&Number($)<Number(g.value))return;t.emit("onInput",R)}catch{t.emit("onInput","")}},C=n=>{let u=n.toString().replace(/[^\d.]/g,"");const k=/^\d+(\.\d+)?$/;u.split(".").length>2&&!k.exec(u)&&(u=u.substr(0,u.length-1)),f.value=String(u)},a=n=>{if(n&&n!=="0"&&n!=="∞"){l.value=n;const k=n.toString().split(".")[1];f.value=n!=="0"&&n!=="∞"&&k&&k.length>6?ee(n.toString(),6):n.toString()}else(n=="0"||n=="∞"||o.query.action)&&(f.value=n)},N=n=>{var c,v,h,$;const{TickUtil:u,TickMath:k,getNearestTickByTick:M}=I.value,j=n.target.value;let O;if(j==="0"){O=-443636,t.emit("onInput","0");return}else if(j!=="0"&&j){const R=k.priceToTickIndex(new T(j),(c=d.value.token_a)==null?void 0:c.decimals,(v=d.value.token_b)==null?void 0:v.decimals);O=M(Number(R),Number(d.value.tickSpacing),!0);const L=k.tickIndexToPrice(new T(O),(h=d.value.token_a)==null?void 0:h.decimals,($=d.value.token_b)==null?void 0:$.decimals);a(L.toString()),t.emit("onInput",L.toString())}else t.emit("onInput")};A(()=>e.defaultMinPrice,(n,u)=>{n!==u&&(g.value=e.defaultMinPrice)},{immediate:!0}),A(()=>e.defaultMaxPrice,(n,u)=>{n!==u&&(m.value=e.defaultMaxPrice)},{immediate:!0}),A(()=>[e.inputValue,o.query.action],([n])=>{a(n)},{immediate:!0});const d=y({});A(()=>e.poolInfo,(n,u)=>{n&&(d.value=n)},{immediate:!0});const r=y("");return A(()=>e.currentPriceTab,n=>{r.value=n},{immediate:!0}),{addPrice:w,minusPrice:B,oValue:f,changeValue:C,isDisabled:r,route:o,onBlur:N}}});const De={class:"set-price-item"},Fe={class:"title"},Ue={class:"input-box"},Ve={key:0,class:"minus-btn"},Ee={key:1,class:"plus-btn"};function We(e,t,l,f,g,m){const o=ie,b=ae;return p(),P("div",De,[i("div",Fe,S(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),U(b,{loading:e.loading,active:"",paragraph:!1},{default:V(()=>[i("div",Ue,[e.currentPriceTab!=="full range"?(p(),P("a",Ve,[i("div",{class:W(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:t[0]||(t[0]=(...s)=>e.minusPrice&&e.minusPrice(...s))},"-",2)])):F("",!0),U(o,{id:"pValu",value:e.oValue,"onUpdate:value":t[1]||(t[1]=s=>e.oValue=s),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:t[2]||(t[2]=s=>e.changeValue(s.target.value)),onBlur:t[3]||(t[3]=s=>e.onBlur(s))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(p(),P("a",Ee,[i("div",{class:W(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:t[4]||(t[4]=(...s)=>e.addPrice&&e.addPrice(...s))},"+",2)])):F("",!0)])]),_:1},8,["loading"]),i("p",{class:W(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},S(e.toCoin&&e.toCoin.symbol)+" per "+S(e.fromCoin&&e.fromCoin.symbol),3)])}const fe=Q(qe,[["render",We],["__scopeId","data-v-2cc9c58e"]]),ze=J({components:{NewLiquiditySetPrice:fe},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,t){let l=y(""),f=y(""),g=y(),m=y(!1),o=y(!1);const b=y({}),s=H(),I=_(()=>s);re(()=>{l.value=e.min,f.value=e.max}),A(()=>e.currentPriceTab,(r,n)=>{r!==n&&(g.value=e.currentPriceTab)},{immediate:!0}),A(()=>e.min,(r,n)=>{r!==n&&(l.value=r)}),A(()=>e.max,(r,n)=>{r!==n&&(f.value=r)}),A(()=>e.poolInfo,(r,n)=>{r&&(b.value=r)},{immediate:!0});const w=y("");A(()=>e.intPrice,r=>{w.value=r},{immediate:!0,deep:!0});const B=r=>{l.value=r,t.emit("onChangeMinPrice",r)},C=r=>{console.error("1113###new-liquidity-set-price###changeMaxPrice###val###",r),f.value=r,t.emit("onChangeMaxPrice",r)};A(m,(r,n)=>{r!==n&&t.emit("onChangeFullRange",r)});const a=()=>{l.value=e.defaultMinPrice,f.value=e.defaultMaxPrice,o.value=!1,m.value=!1},N=()=>{o.value=!1,l.value="0",f.value="∞"};return A(m,(r,n)=>{r!==n&&t.emit("onChangeFullRange",r)}),{store:I,changeMinPrice:B,changeMaxPrice:C,importIcon:Y,resetPrice:a,changeShowUnderStand:()=>{m.value=!m.value,m.value?o.value=!0:a(),o.value||(l.value=e.defaultMinPrice,f.value=e.defaultMaxPrice)},showUnderStand:o,minPrice:l,maxPrice:f,understand:N,isRadio:m,initPirce:w}}});const He={class:"set-price"},Je={class:"card-container"},Qe={key:0,class:"card"},Ge={key:1,class:"understand"},Ke={class:"left"},Xe={class:"right"};function Ye(e,t,l,f,g,m){const o=fe,b=le;return p(),P("div",He,[i("div",Je,[e.showUnderStand?(p(),P("div",Ge,[i("div",Ke,[i("p",null,S(e.$t("common.lowerEfficiency")),1),i("p",null,S(e.$t("common.lowerEfficiencyTips")),1)]),i("div",Xe,[U(b,{onClick:e.understand},{default:V(()=>[z(S(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(p(),P("div",Qe,[U(o,{value:e.minPrice,"onUpdate:value":t[0]||(t[0]=s=>e.minPrice=s),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),U(o,{value:e.maxPrice,"onUpdate:value":t[1]||(t[1]=s=>e.maxPrice=s),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const Gt=Q(ze,[["render",Ye],["__scopeId","data-v-d95990c1"]]),Ze=J({components:{TokenWarning:me},props:{inputValue:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},coinName:{type:String,default:""},coinSymbol:{type:String,default:""},balance:{type:Number,default:null},coinIcon:{type:String,default:""},havemax:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!0},isTotal:{type:Boolean,default:!1},importPage:{type:String,default:""},address:{type:String,default:""}},setup(e,t){const{t:l,locale:f}=ke(),g=H(),m=_(()=>g),o=_(()=>new T(Number(e.balance)).div(2)),b=be(_e,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function s(){this.$emit("onSelect")}const I=c=>{const v=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(u==null?void 0:u.value)&&(u==null?void 0:u.value)}})?).*$`);c.target.value=c.target.value.replace(v,"$1")},w=ge(),B=_(()=>w),C=te(),a=_(()=>C),N=_(()=>a.value.tokensWarningObj);let d={};A(()=>a.value.RATES,c=>{c&&(d=c)},{immediate:!0});const r=_(()=>Ne(Number(e.inputValue)*Number(d&&d[e.address]&&d[e.address].price),2)),n=_(()=>{var c,v;return a.value.tokensObj&&e.address&&a.value.tokensObj[e.address]&&((c=a.value.tokensObj[e.address])==null?void 0:c.labels)&&((v=a.value.tokensObj[e.address])==null?void 0:v.labels[0])}),u=_(()=>{var c;return a.value.tokensObj&&e.address&&a.value.tokensObj[e.address]&&((c=a.value.tokensObj[e.address])==null?void 0:c.decimals)}),k=_(()=>{var c,v,h,$;return e.coinIcon||((v=(c=a==null?void 0:a.value)==null?void 0:c.tokensObj[e.address])==null?void 0:v.logo_url)||(($=(h=a==null?void 0:a.value)==null?void 0:h.tokensObj[e.address])==null?void 0:$.logoURI)||(m.value.theme==="default"?Y("/image/coins/unknown.png"):Y("/image/coins/sui-unknown.png"))}),M=_(()=>a.value.tokensObj),j=_(()=>m.value.theme);return{route:Z(),theme:j,currentIcon:k,tokensObj:M,pool:a,halfBalance:o,coinLabels:n,t:l,addCommom:X,store:m,wallet:B,indicator:b,inputChange:I,importIcon:Y,selectCoin:s,amountPirce:r,coinDecimals:u,formatNumber:de,tokensWarningObj:N,checkNullObj:ne}}});const xe=e=>(se("data-v-3a378845"),e=e(),ue(),e),et={class:"card"},tt={class:"top"},nt={key:1,class:"input-div"},ot={key:0},it={class:"loading-token"},at={key:1},rt={key:0},lt=xe(()=>i("use",{"xlink:href":"#icon-icon_on"},null,-1)),st=[lt],ut={class:"bottom"},ct={key:0,class:"amount-price"},dt={key:1},mt={class:"top"},ft={class:"right"},pt={class:"balance"};function vt(e,t,l,f,g,m){const o=ie,b=Pe,s=Se,I=me,w=ae,B=le,C=ye("image");return p(),P("div",et,[i("div",tt,[e.inputDisabled?(p(),P("div",nt,[e.inputValue?(p(),P("span",ot,S(e.inputValue),1)):(p(),E(b,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(p(),E(o,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.inputValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:t[0]||(t[0]=a=>e.$emit("onInput",a.target.value)),onFocus:t[1]||(t[1]=a=>e.$emit("onFocus"))},null,8,["value","disabled","onChange"])),i("div",{class:W(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"?"left-opcity":""].join("")]),onClick:t[2]||(t[2]=a=>e.pool.isTokenLoading?"":e.selectCoin())},[i("div",it,[e.pool.isTokenLoading?(p(),E(s,{key:0,active:e.active,size:"small",paragraph:!1},null,8,["active"])):e.address?he((p(),P("img",at,null,512)),[[C,e.currentIcon]]):F("",!0),U(I,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),U(w,{loading:e.pool.isTokenLoading,class:"loading-token-skeleton",active:"",paragraph:!1},{default:V(()=>[i("div",null,[i("p",null,S(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(p(),P("p",rt,S(e.coinLabels),1)):F("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(p(),P("svg",{key:0,class:W(["icon",e.pool.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},st,2)):F("",!0)],2)]),i("div",ut,[e.inputValue&&e.amountPirce!="--"?(p(),P("div",ct," $"+S(("formatNumber"in e?e.formatNumber:K(de))(e.amountPirce)),1)):(p(),P("div",dt)),i("div",mt,[i("div",ft,[z(S(e.isTotal?e.$t("common.total"):e.$t("common.balance"))+" ",1),i("span",pt,S(e.wallet.connected?("addCommom"in e?e.addCommom:K(X))(e.balance,e.coinDecimals):"0"),1),e.havemax&&e.wallet.connected?(p(),E(B,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:K(X))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:t[3]||(t[3]=a=>e.$emit("onHalf"))},{default:V(()=>[z(S("Half"))]),_:1},8,["disabled"])):F("",!0),e.havemax&&e.wallet.connected?(p(),E(B,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:K(X))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:t[4]||(t[4]=a=>e.$emit("onMax"))},{default:V(()=>[z(S(e.$t("button.max")),1)]),_:1},8,["disabled"])):F("",!0)])])])])}const Kt=Q(Ze,[["render",vt],["__scopeId","data-v-3a378845"]]),gt=J({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fixedFromCoin:{type:Boolean,defalut:!0},isInputTotalAmount:{type:Boolean,default:!1},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},createPoolInfo:{type:Object,default:()=>({})},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},currentPriceTab:{type:String,default:""}},setup(e){const t=te(),l=_(()=>t),f=H(),g=_(()=>f),m=Z(),o=_(()=>{let C=null;if(m.name=="liquidity-create")C=e.createPoolInfo;else for(const a in l.value.poolsObj){const N=l.value.poolsObj[a];N.address==m.query.poolAddress&&(C=N)}return C}),b=_(()=>g.value.chainName?ce(g.value.chainName):{}),s=_(()=>g.value.slippage),I=y(),w=y(),B=async()=>{if(!e.minPrice&&!e.maxPrice)return;const{TickUtil:C,TickMath:a,getNearestTickByTick:N}=b.value,d=o.value.token_a.decimals,r=o.value.token_b.decimals;let n,u,k,M,j,O,c,v=1,h=1;const $=o.value.current_tick_index;let R=l.value.poolPriceConfigObj&&l.value.poolPriceConfigObj[o.value.address]&&l.value.poolPriceConfigObj[o.value.address].recommend_ranges||{};if(o.value.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&o.value.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?c=!0:c=!1,e.minPrice==="0"&&e.maxPrice==="∞")k=C.getMinIndex(o.value.tickSpacing),M=C.getMaxIndex(o.value.tickSpacing);else if(e.currentPriceTab=="custom"){c?(n=e.minPrice,u=e.maxPrice):(n=e.maxPrice!=="∞"?new T(1).div(e.maxPrice).toString():1/0,u=new T(1).div(e.minPrice).toString());try{j=a.priceToTickIndex(new T(n),d,r)}catch{j=-443636}try{O=a.priceToTickIndex(new T(u),d,r)}catch{O=443636}n==0&&(j=-443636),k=N(j,Number(o.value.tickSpacing),!0),M=N(O,Number(o.value.tickSpacing),!0)}else k=R&&R[e.currentPriceTab]&&R[e.currentPriceTab].lower,M=R&&R[e.currentPriceTab]&&R[e.currentPriceTab].upper;if(e.maxPrice==="∞"||$>=k&&$<=M){let L;if(e.fixedFromCoin){const G=new T(Number(e.fromCoinAmount)==0?1:e.fromCoinAmount).mul(Math.pow(10,e.fromCoin.decimals)).toString();L=new x(G)}else{const G=new T(Number(e.toCoinAmount)==0?1:e.toCoinAmount).mul(Math.pow(10,e.toCoin.decimals)).toString();L=new x(G)}const{tokenMaxA:q,tokenMaxB:D}=await b.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:o.value.token_a,tokenB:o.value.token_b,lowerTick:k,upperTick:M,coinAmount:L,iscoinA:c?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(s.value)/100,curSqrtPrice:new x(o.value.current_sqrt_price)});c?e.fixedFromCoin?(h=Number(D)>0?D:"",v=Number(q)>0?q:""):(v=Number(q)>0?q:"",h=Number(D)>0?D:""):(e.fixedFromCoin,h=q,v=D)}else $>M?c?(h=1,v=0):(v=1,h=0):$<k&&(c?(h=0,v=1):(h=1,v=0));if(e.minPrice=="0"&&e.maxPrice=="∞")I.value=50,w.value=50;else{const L=v?Number(v):0,q=h?Number(h):0,D=new T(q).add(new T(c?new T(L*e.currentPrice):new T(L*e.currentPriceReverse))),G=ee(new T(L).mul(new T(c?e.currentPrice:e.currentPriceReverse)).div(D).mul(100).toNumber().toFixed(2),2),ve=ee(new T(q).div(D).mul(100).toNumber().toFixed(2),2);I.value=G,w.value=ve}};return A(()=>[o.value,e.minPrice,e.maxPrice,e.fromCoinAmount,e.toCoinAmount,e.isInputTotalAmount],([C,a,N,d,r])=>{a&&N&&C&&!ne(C)&&(a!=="0"||N!=="0")?B():(I.value="",w.value="")},{immediate:!0,deep:!0}),{fromCoinRatio:I,toCoinRatio:w}}});const kt={class:"deposit-ratio"},bt={class:"deposit-ratio-text"},_t=i("span",null,"Deposit Ratio",-1),yt=i("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[i("use",{"xlink:href":"#icon-icon-tips1"})],-1),ht={class:"deposit-ratio-content"},Pt={class:"coin-ratio"},St={class:"coin-a-ratio"},Ct={class:"coin-b-ratio"},$t={class:"ratio-progress"};function Tt(e,t,l,f,g,m){var b,s;const o=Ce;return p(),P("div",kt,[i("div",bt,[_t,U(o,{placement:"bottom","arrow-point-at-center":""},{title:V(()=>[i("span",null,S(e.$t("newAdd.depositRatioTips")),1)]),default:V(()=>[yt]),_:1})]),i("div",ht,[i("div",Pt,[i("div",St,[i("span",null,S((b=e.fromCoin)==null?void 0:b.symbol),1),z(" "+S(e.fromCoinRatio)+"% ",1)]),i("div",Ct,[i("span",null,S((s=e.toCoin)==null?void 0:s.symbol),1),z(" "+S(e.toCoinRatio)+"% ",1)])]),i("div",$t,[i("div",{class:"from-percent",style:oe({width:e.fromCoinRatio+"%"})},null,4),i("div",{class:"to-percent",style:oe({width:e.toCoinRatio+"%"})},null,4)])])])}const Xt=Q(gt,[["render",Tt]]),It=J({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const l=y(!1),f=y(null),g=y(0);let m=y(!1);const o=y(20),b=te(),s=H(),I=y(!1);re(()=>{}),$e(()=>{clearInterval(f.value)});const w=()=>{m.value=!1,f.value=setInterval(()=>{var r;I.value||g.value<o.value&&(g.value+=1,g.value===o.value&&((r=e==null?void 0:e.poolInfo)!=null&&r.poolAddress&&b.updateCurrentPools(e.poolInfo.poolAddress,s.chainName),g.value=0))},1e3)},B=_(()=>s.slippage),C=()=>{t.emit("clearAll")},a=()=>{m.value=!0,g.value=0,t.emit("clickRefresh"),setTimeout(()=>{m.value=!1,w()},1e3)};A(()=>e.poolInfo,r=>{r&&!f.value&&w()},{immediate:!0});const N=Te(),d=Z();return{refresh:m,clickRefresh:a,isShowSwapSetting:l,countdown:g,autoRefreshTime:o,slippage:B,clearAll:C,checkNullObj:ne,router:N,route:d}}});const pe=e=>(se("data-v-2e458a1a"),e=e(),ue(),e),wt={class:"title"},Nt=pe(()=>i("div",{class:"left"},[i("span",null,"Deposit Amounts")],-1)),Mt=pe(()=>i("svg",{class:"icon","aria-hidden":"true"},[i("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),At={key:0,class:"deposit-progress"};function Ot(e,t,l,f,g,m){const o=Me,b=Ae;return p(),P("div",wt,[Nt,i("div",{class:W(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[i("div",{class:"slippage-icon",onClick:t[0]||(t[0]=s=>e.isShowSwapSetting=!0)},[Mt,i("span",null,S(e.slippage)+"%",1)]),e.route.name!=="liquidity-create"?(p(),P("div",At,[U(o,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])):F("",!0)],2),e.isShowSwapSetting?(p(),E(b,{key:0,onOnClose:t[1]||(t[1]=s=>e.isShowSwapSetting=!1)})):F("",!0)])}const Yt=Q(It,[["render",Ot],["__scopeId","data-v-2e458a1a"]]);export{Yt as _,Xt as a,Qt as b,Kt as c,Gt as d};
