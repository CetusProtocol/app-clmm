import{a as Pe}from"./pools-list-item.ec6b9cb4.js";import{u as Oe,c as L}from"./sha256.449ab3b5.js";import{i as F}from"./import-icon.de3e6c66.js";import{u as Te,e as B,t as x,d as Ke}from"./pool.07080a73.js";import{a as Me,l as Re,b as je,r as h,m as $,y as Ee,D as J,e as ze,K as ue,o as n,f as r,h as s,v as u,u as k,x as v,L as z,z as I,t as ee,a3 as de,G as Fe,F as R,s as j,j as E,i as D,w as P,c as ce,X as Be,S as qe,p as Ue,k as Ze,Y as He,J as Ge}from"./entry.5ea44be7.js";/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{p as Je}from"./precision.9d58cda5.js";import{_ as X}from"./icon_on_2x.5e96733d.js";import{_ as Xe,a as Ye}from"./img-no-Positions_2x.b37def12.js";import"./apr-tips.6b8a575e.js";import"./nuxt-link.1d94dc28.js";const Qe=Me({setup(){const{t:e,locale:o}=Re(),_=je(),q=h(!1),U=h(!1),O=h(!1),w=h("VOL"),T=h(["APR","TVL"]),V=h(!1),C=h(e("tab.all")),K=h([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),b=h([]),S=h(""),t=h(["pools"]),y=Te(),f=Oe(),Z=h(!0),Y=h(""),d=$(()=>f),pe=$(()=>f.theme),A=$(()=>y),ve=$(()=>f.statsData),me=(l,a)=>a.liqidity-l.liqidity,he=(l,a)=>a.vol-l.vol,fe=(l,a)=>a.aprNum-l.aprNum,M=h(!1),ge=()=>{localStorage.setItem(`pools-${W.value}-selectall`,M.value?"":"true"),M.value=!M.value},Q=$(()=>{if(A.value.tokens&&A.value.tokens.length>0){const l={};return A.value.tokens.forEach(a=>{l[a.address]={...a}}),l}return null});Ee(()=>{var p,g,G;const l=(G=(g=(p=_==null?void 0:_.currentRoute)==null?void 0:p.value)==null?void 0:g.query)==null?void 0:G.language;l&&ye(l),Y.value=o.value,document.addEventListener("click",()=>{H("")});const a=localStorage.getItem(`pools-${W.value}-selectall`);M.value=a==="true"}),J(()=>d.value.chainName,(l,a)=>{l&&f.getStatsData(l,d.value.filterCoinsObj)},{immediate:!0});const{setLang:ke}=f,ye=l=>{ke(l),o.value=l},be=(l,a)=>l&&a?Je.plus(x(l),x(a)):l||0,se=l=>{let a=0;return l&&l.forEach(p=>{a+=x(String(p))}),String(Ke(String(a),2))},$e=(l=[])=>{const a=l&&l.length>0?l:Object.values(A.value.poolsObj),p=[];a.forEach(c=>{var ne,ie,re;const i=d.value.addressLpTokens[c.address],N=A.value.poolsObj[c.address];let oe,le,te,ae;i&&(oe=i.rewarder_apr[0]?Number(i.rewarder_apr[0].substring(0,i.rewarder_apr[0].length-1)):0,le=i.rewarder_apr[1]?Number(i.rewarder_apr[1].substring(0,i.rewarder_apr[1].length-1)):0,te=i.rewarder_apr[2]?Number(i.rewarder_apr[2].substring(0,i.rewarder_apr[2].length-1)):0,ae=oe+le+te),p.push({...c,liqidity:i?i.tvl_in_usd:"0.00000000001",vol:i?i.vol_in_usd_24h:"0",apr:i&&i.apr_7day?(ne=i.apr_7day)==null?void 0:ne.replace("%",""):"--",fee:c.fee?c.fee:N!=null&&N.fee?N.fee:"--",aprNum:i&&i.apr_7day?String(Number(i.apr_7day.substring(0,i.apr_7day.length-1))+ae):"0",rewarder_apr:se(i&&i.rewarder_apr),aprTotal:be(i&&i.apr_7day,i&&se(i.rewarder_apr)),rewarders0:i&&i.rewarder_apr[0],rewarders1:i&&i.rewarder_apr[1],rewarders2:i&&i.rewarder_apr[2],labels:c!=null&&c.labels?c.labels:[],isFarming:c==null?void 0:c.isFarming,fee_24_h:i&&i.fee_24_h,isAuthorized:!!(Q.value[(ie=c==null?void 0:c.token_a)==null?void 0:ie.address]&&Q.value[(re=c==null?void 0:c.token_b)==null?void 0:re.address]),rewarderInfo:d.value.chainName=="Aptos"?N==null?void 0:N.rewarder_infos:[]})});let g=[];if(w.value=="APR"?g=p.sort(fe):w.value=="VOL"?g=p.sort(he):g=p.sort(me),C.value!=e("tab.all")){const c=[];g.forEach(i=>{i.labels.indexOf(C.value)!==-1&&c.push(i)}),b.value=c}else b.value=g;if(S.value){var G=new RegExp("[\\u4E00-\\u9FFF]+","g");if(G.test(S.value)){S.value="";return}const c=b.value.filter(i=>i.symbol.toLowerCase().includes(S.value.toLowerCase()));b.value=c}Z.value=!1};J(()=>[Q.value,A.value.poolConfigList,d.value.chainName,d.value.addressLpTokens,S.value,w.value,C.value],([l,a,p,g])=>{l&&a&&(a==null?void 0:a.length)>0&&a[0]&&p&&(p!=null&&p.toLowerCase().includes(a[0].chain))&&$e(a)},{immediate:!0,deep:!0});const we=l=>{if(!Z.value&&(q.value=!0,l)){const a=b.value.filter(p=>p.symbol.toLowerCase().includes(l.toLowerCase()));b.value=a,q.value=!1}},Ce=()=>{Z.value=!0,U.value=!0,f.getStatsData(d.value.chainName,d.value.filterCoinsObj),y.setPoolConfigList(d.value.chainName,d.value.filterCoinsObj),setTimeout(()=>{U.value=!1},1e3)},Se=l=>{const a=[];a.push(w.value),T.value.forEach((p,g)=>{p!=l&&a.push(p)}),T.value=a,w.value=l},Ae=l=>{const a=[];K.value.forEach((p,g)=>{p==l?a[g]=C.value:a[g]=p}),K.value=a,C.value=l};J(()=>f.lang,l=>{Y.value=l});const H=l=>{l=="label"?(f.setIsSelect("pools"),V.value=!V.value,O.value=!1,d.value.setIsShowMore(!1)):l=="select"?(f.setIsSelect("pools"),O.value=!O.value,V.value=!1,d.value.setIsShowMore(!1)):(O.value=!1,V.value=!1)},Le=()=>{_&&_.push("/position")},_e=$(()=>L[d.value.chainName]);J(()=>d.value.isSelect,l=>{l!=="pools"&&H("")},{immediate:!0});const Ve=$(()=>A.value.poolConfigList.filter(a=>a.address==L[d.value.chainName].newPositionAddress)[0]),Ne=()=>{d.value.setIsShowMore(!d.value.isShowMore),d.value.setOpenMore(!1),d.value.setOpenSwitchLang(!1),d.value.setOpenH5Icon(!1),d.value.setOpenSwitchChain(!1),H("")},Ie=$(()=>L[d.value.chainName].hasCreatePool),W=$(()=>d.value.chainName),De=$(()=>{const l=b.value.filter(a=>a.isAuthorized);return M.value?4-b.value.length%4:4-l.length%4});return{clickDisplayAll:ge,isSelectAll:M,chainName:W,hasCreatePool:Ie,store:d,showMore:Ne,lpInfo:Ve,config:_e,toPositionList:Le,t:e,router:_,loading:q,clickRefresh:Ce,refresh:U,updateLpList:we,searchKey:S,current:t,addCommom:B,list:b,theme:pe,statsData:ve,pools:A,select:O,selectValue:w,selectList:T,label:V,labelValue:C,labelList:K,changeSort:Se,changeSortLabel:Ae,reviseValue:H,listLoading:Z,languageValue:Y,importIcon:F,patchNumber:De}}});const m=e=>(Ue("data-v-6764d801"),e=e(),Ze(),e),We={class:"pools-list-container"},xe={class:"right-link"},es=["href"],ss=m(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-jump"})],-1)),os=m(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),ls=[os],ts={key:0,class:"more-list"},as=["href"],ns={key:2,class:"sui-createPool position"},is=m(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-add1"})],-1)),rs={class:"search-refresh"},us={class:"my-position position-h5"},ds=["placeholder"],cs=m(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),ps=[cs],vs={key:0,class:"select-item"},ms=["onClick"],hs={key:0,class:"search-select display-all-box"},fs=["src"],gs=["src"],ks=m(()=>s("span",null,"Display all pools",-1)),ys=m(()=>s("img",{src:X,alt:""},null,-1)),bs=m(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),$s=[bs],ws={key:0,class:"select-item"},Cs=["onClick"],Ss=m(()=>s("img",{src:X,alt:""},null,-1)),As=m(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Ls=[As],_s={class:"search-tab"},Vs={class:"my-position position-pc"},Ns=m(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Is=[Ns],Ds={key:0,class:"select-item"},Ps=["onClick"],Os={key:1,class:"search-select display-all-box"},Ts=["src"],Ks=["src"],Ms=m(()=>s("span",null,"Display all pools",-1)),Rs=m(()=>s("img",{src:X,alt:""},null,-1)),js=m(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Es=[js],zs={key:0,class:"select-item"},Fs=["onClick"],Bs=m(()=>s("img",{src:X,alt:""},null,-1)),qs=["placeholder"],Us=m(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Zs=[Us],Hs={class:"item item-left"},Gs={class:"value"},Js={class:"label"},Xs={class:"item item-right"},Ys={class:"value"},Qs={class:"label"},Ws={key:2,class:"no-data"},xs={key:0,src:Xe},eo={key:1,src:Ye};function so(e,o,_,q,U,O){const w=ue("mail-outlined"),T=He,V=ue("appstore-outlined"),C=Be,K=qe,b=Ge,S=Pe;return n(),r("div",We,[s("div",{class:"pools-title",onClick:o[4]||(o[4]=t=>e.reviseValue(""))},[s("div",null,u(e.$t("common.concentratedPools")),1),s("div",xe,[!e.hasCreatePool&&e.store&&e.store.chainName==="Aptos"?(n(),r("a",{key:0,href:`${("config"in e?e.config:k(L)).ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"ammSite"},[s("span",null,u(e.$t("common.ammPools")),1),ss],8,es)):v("",!0),e.store&&e.store.chainName==="Aptos"&&e.hasCreatePool?(n(),r("div",{key:1,class:"more",onClick:o[1]||(o[1]=z((...t)=>e.showMore&&e.showMore(...t),["stop"]))},[s("span",null,u(e.$t("newAdd.more")),1),(n(),r("svg",{class:I([e.store.isShowMore?"icon-open":"","icon"]),"aria-hidden":"true"},ls,2)),e.store.isShowMore?(n(),r("div",ts,[s("p",null,[s("a",{href:`${("config"in e?e.config:k(L)).ammSite}/pools?language=${e.languageValue}&chain=aptos`},u(e.$t("common.ammPools")),9,as)]),s("p",{onClick:o[0]||(o[0]=t=>e.router.push(`/deposit?action=create-pool&tokenb=${("config"in e?e.config:k(L)).currentChainTokenAddress}&from=pool`))},u(e.$t("newAdd.createPool")),1)])):v("",!0)])):v("",!0),e.store&&e.store.chainName==="Sui"&&e.hasCreatePool?(n(),r("div",ns,[s("span",{onClick:o[2]||(o[2]=t=>e.router.push(`/deposit?action=create-pool&tokenb=${("config"in e?e.config:k(L)).currentChainTokenAddress}&from=pool`))},u(e.$t("newAdd.createPool")),1)])):v("",!0),s("div",{class:"position",onClick:o[3]||(o[3]=t=>e.router.push(`/deposit?actions=new-position&tokenb=${("config"in e?e.config:k(L)).currentChainTokenAddress}`))},[s("span",null,u(e.$t("button.addLiquidity")),1),is])])]),s("div",rs,[s("div",us,[s("div",{class:"search-input",onClick:o[8]||(o[8]=t=>e.reviseValue(""))},[ee(s("input",{"onUpdate:modelValue":o[5]||(o[5]=t=>e.searchKey=t),oninput:"value=value.match(/^[A-Za-z0-9-]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,ds),[[de,e.searchKey]]),e.searchKey?(n(),r("div",{key:0,class:"out-icon",onClick:o[6]||(o[6]=t=>e.searchKey="")})):v("",!0),s("div",{class:"search-icon",onClick:o[7]||(o[7]=t=>e.updateLpList(e.searchKey))})]),ee(s("div",{class:"search-select search-label",onClick:o[9]||(o[9]=z(t=>e.reviseValue("label"),["stop"]))},[s("span",null,u(e.$t("newAdd.label")),1),s("div",null,u(e.labelValue),1),(n(),r("svg",{"aria-hidden":"true",class:I(e.label?"show-icon icon":"icon")},ps,2)),e.label?(n(),r("div",vs,[(n(!0),r(R,null,j(e.labelList,(t,y)=>(n(),r("div",{key:y,class:"select-menu-item",onClick:f=>e.changeSortLabel(t)},u(t),9,ms))),128))])):v("",!0)],512),[[Fe,e.chainName=="Aptos"]]),e.store.chainName!=="Aptos"?(n(),r("div",hs,[s("div",{class:"radio",onClick:o[10]||(o[10]=t=>e.clickDisplayAll())},[e.isSelectAll&&e.store.theme=="default"?(n(),r("img",{key:0,src:("importIcon"in e?e.importIcon:k(F))("/image/icon-check@2x.png"),alt:""},null,8,fs)):v("",!0),e.isSelectAll&&e.store.theme!=="default"?(n(),r("img",{key:1,src:("importIcon"in e?e.importIcon:k(F))("/sui-image/checked.png"),alt:""},null,8,gs)):v("",!0)]),ks])):v("",!0),s("div",{class:"search-select",onClick:o[11]||(o[11]=z(t=>e.reviseValue("select"),["stop"]))},[s("span",null,u(e.$t("newAdd.sortBy")),1),s("div",null,[E(u(e.selectValue)+" ",1),ys]),(n(),r("svg",{"aria-hidden":"true",class:I(e.select?"show-icon icon":"icon")},$s,2)),e.select?(n(),r("div",ws,[(n(!0),r(R,null,j(e.selectList,(t,y)=>(n(),r("div",{key:y,class:"select-menu-item",onClick:f=>e.changeSort(t)},[E(u(t)+" ",1),Ss],8,Cs))),128))])):v("",!0)]),(n(),r("svg",{"aria-hidden":"true",class:I(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[12]||(o[12]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Ls,2))]),s("div",_s,[D(C,{selectedKeys:e.current,"onUpdate:selectedKeys":o[13]||(o[13]=t=>e.current=t),mode:"horizontal"},{default:P(()=>[D(T,{key:"pools"},{icon:P(()=>[D(w)]),default:P(()=>[E(" "+u(e.$t("menu.pools")),1)]),_:1}),D(T,{key:"position",onClick:e.toPositionList},{icon:P(()=>[D(V)]),default:P(()=>[E(" "+u(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Vs,[e.store.theme=="default"?(n(),r("div",{key:0,class:"search-select search-label",onClick:o[14]||(o[14]=z(t=>e.reviseValue("label"),["stop"]))},[s("span",null,u(e.$t("newAdd.label")),1),s("div",null,u(e.labelValue),1),(n(),r("svg",{"aria-hidden":"true",class:I(e.label?"show-icon icon":"icon")},Is,2)),e.label?(n(),r("div",Ds,[(n(!0),r(R,null,j(e.labelList,(t,y)=>(n(),r("div",{key:y,class:"select-menu-item",onClick:f=>e.changeSortLabel(t)},u(t),9,Ps))),128))])):v("",!0)])):v("",!0),e.store.chainName!=="Aptos"?(n(),r("div",Os,[s("div",{class:"radio",onClick:o[15]||(o[15]=t=>e.clickDisplayAll())},[e.isSelectAll&&e.store.theme=="default"?(n(),r("img",{key:0,src:("importIcon"in e?e.importIcon:k(F))("/image/icon-check@2x.png"),alt:""},null,8,Ts)):v("",!0),e.isSelectAll&&e.store.theme!=="default"?(n(),r("img",{key:1,src:("importIcon"in e?e.importIcon:k(F))("/sui-image/checked.png"),alt:""},null,8,Ks)):v("",!0)]),Ms])):v("",!0),s("div",{class:"search-select",onClick:o[16]||(o[16]=z(t=>e.reviseValue("select"),["stop"]))},[s("span",null,u(e.$t("newAdd.sortBy")),1),s("div",null,[E(u(e.selectValue)+" ",1),Rs]),(n(),r("svg",{"aria-hidden":"true",class:I(e.select?"show-icon icon":"icon")},Es,2)),e.select?(n(),r("div",zs,[(n(!0),r(R,null,j(e.selectList,(t,y)=>(n(),r("div",{key:y,class:"select-menu-item",onClick:f=>e.changeSort(t)},[E(u(t)+" ",1),Bs],8,Fs))),128))])):v("",!0)]),s("div",{class:"search-input",onClick:o[20]||(o[20]=t=>e.reviseValue(""))},[ee(s("input",{"onUpdate:modelValue":o[17]||(o[17]=t=>e.searchKey=t),oninput:"value=value.match(/^[A-Za-z0-9-]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,qs),[[de,e.searchKey]]),e.searchKey?(n(),r("div",{key:0,class:"out-icon",onClick:o[18]||(o[18]=t=>e.searchKey="")})):v("",!0),s("div",{class:"search-icon",onClick:o[19]||(o[19]=t=>e.updateLpList(e.searchKey))})]),(n(),r("svg",{"aria-hidden":"true",class:I(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[21]||(o[21]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Zs,2))])]),s("div",{class:"tvl-vol",onClick:o[22]||(o[22]=t=>e.reviseValue(""))},[s("div",Hs,[D(K,{loading:e.listLoading,active:"",paragraph:!1},{default:P(()=>[s("div",Gs," $ "+u(e.store.chainName==="Aptos"?("addCommom"in e?e.addCommom:k(B))(e.statsData&&e.statsData.tvl_in_usd_sum_v1,2):("addCommom"in e?e.addCommom:k(B))(e.statsData&&e.statsData.pure_tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",Js,u(e.$t("common.totalValueLocked")),1)]),s("div",Xs,[D(K,{loading:e.listLoading,active:"",paragraph:!1},{default:P(()=>[s("div",Ys," $ "+u(e.store.chainName==="Aptos"?("addCommom"in e?e.addCommom:k(B))(e.statsData&&e.statsData.vol_in_usd_24h_sum_v1,2):("addCommom"in e?e.addCommom:k(B))(e.statsData&&e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",Qs,u(e.$t("common.volume24H")),1)])]),s("div",{class:"item-container",onClick:o[23]||(o[23]=t=>e.reviseValue(""))},[e.listLoading?(n(),ce(b,{key:0})):e.list&&e.list.length>0?(n(!0),r(R,{key:1},j(e.list,(t,y)=>(n(),ce(S,{key:y,"l-item":t,"is-select-all":e.isSelectAll},null,8,["l-item","is-select-all"]))),128)):(n(),r("div",Ws,[e.theme=="default"?(n(),r("img",xs)):(n(),r("img",eo)),s("span",null,u(e.$t("common.poolsNotFound")),1)])),(n(!0),r(R,null,j(e.patchNumber,t=>(n(),r("div",{key:t,class:"patch-item"}))),128))])])}const go=ze(Qe,[["render",so],["__scopeId","data-v-6764d801"]]);export{go as default};
