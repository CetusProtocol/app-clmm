import{u as H,a as ge}from"./sha256.3219dfe0.js";import{a as K,l as _,e as G,o as f,f as y,r as h,m as Z,q as A,h as i,v as S,i as U,w as V,A as E,M as ae,x as F,I as re,H as le,B as se,j as z,y as ke,C as be,L as _e,s as ye,c as W,t as he,u as Q,S as Pe,a5 as Se,p as ue,k as ce,O as ie,P as $e,K as Ce,b as Te}from"./entry.cea7eebb.js";import{_ as Ie}from"./img-lock_2x.a28135f4.js";import{_ as we}from"./lock.47101270.js";/* empty css              *//* empty css              */import{e as de,d as ee,u as te,a as X,h as me,c as ne,q as Ne,b as x}from"./pool.8508fd25.js";import{D as T}from"./decimal.0bdeb344.js";import{i as Y}from"./import-icon.de3e6c66.js";import{_ as fe}from"./token-warning.7b5b77c8.js";/* empty css              *//* empty css              */import{_ as Me}from"./swap-setting.afcba148.js";const Ae=K({setup(){const e=H();return{storeIndex:_(()=>e)}}});const Oe={class:"create-pool-lock"},je={key:0,src:Ie,alt:""},Be={key:1,src:we,alt:""};function Re(e,t,l,p,g,s){return f(),y("div",Oe,[e.storeIndex.theme=="default"?(f(),y("img",je)):(f(),y("img",Be))])}const Gt=G(Ae,[["render",Re],["__scopeId","data-v-fb497971"]]),qe=K({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,t){const l=h(""),p=h("");let g=h(""),s=h("");const o=Z(),k=H(),d=_(()=>k),I=_(()=>d.value.chainName?de(d.value.chainName):{}),w=()=>{var n,u,b,M;if(!(Number.isNaN(l.value)||Number(l.value)!==0&&!l.value||!e.poolInfo.tickSpacing))try{const{TickUtil:j,TickMath:O,getNearestTickByTick:c}=I.value,v=O.priceToTickIndex(new T(l.value.toString()),(n=m.value.token_a)==null?void 0:n.decimals,(u=m.value.token_b)==null?void 0:u.decimals),P=c(v,Number(m.value.tickSpacing),!0);let C;if(C=O.tickIndexToPrice(P+Number(m.value.tickSpacing),(b=m.value.token_a)==null?void 0:b.decimals,(M=m.value.token_b)==null?void 0:M.decimals),e.pType=="Min"&&Number(C.toString())>Number(s.value.toString()))return;const R=C.toString();t.emit("onInput",R)}catch{t.emit("onInput","")}},B=()=>{var n,u,b,M;try{if(Number.isNaN(l.value)||!l.value||!e.poolInfo.tickSpacing)return;const{TickUtil:j,TickMath:O,getNearestTickByTick:c}=I.value,v=O.priceToTickIndex(new T(l.value.toString()),(n=m.value.token_a)==null?void 0:n.decimals,(u=m.value.token_b)==null?void 0:u.decimals),P=c(v,Number(m.value.tickSpacing),!0);let C;C=O.tickIndexToPrice(P-Number(m.value.tickSpacing),(b=m.value.token_a)==null?void 0:b.decimals,(M=m.value.token_b)==null?void 0:M.decimals);const R=C.toString();if(e.pType=="Max"&&Number(C)<Number(g.value))return;t.emit("onInput",R)}catch{t.emit("onInput","")}},$=n=>{let u=n.toString().replace(/[^\d.]/g,"");const b=/^\d+(\.\d+)?$/;u.split(".").length>2&&!b.exec(u)&&(u=u.substr(0,u.length-1)),p.value=String(u)},a=n=>{if(n&&n!=="0"&&n!=="∞"){l.value=n;const b=n.toString().split(".")[1];p.value=n!=="0"&&n!=="∞"&&b&&b.length>6?ee(n.toString(),6):n.toString()}else(n=="0"||n=="∞"||o.query.action)&&(p.value=n)},N=n=>{var c,v,P,C;const{TickUtil:u,TickMath:b,getNearestTickByTick:M}=I.value,j=n.target.value;let O;if(j==="0"){O=-443636,t.emit("onInput","0");return}else if(j!=="0"&&j){const R=b.priceToTickIndex(new T(j),(c=m.value.token_a)==null?void 0:c.decimals,(v=m.value.token_b)==null?void 0:v.decimals);O=M(Number(R),Number(m.value.tickSpacing),!0);const q=b.tickIndexToPrice(new T(O),(P=m.value.token_a)==null?void 0:P.decimals,(C=m.value.token_b)==null?void 0:C.decimals);a(q.toString()),t.emit("onInput",q.toString())}else t.emit("onInput")};A(()=>e.defaultMinPrice,(n,u)=>{n!==u&&(g.value=e.defaultMinPrice)},{immediate:!0}),A(()=>e.defaultMaxPrice,(n,u)=>{n!==u&&(s.value=e.defaultMaxPrice)},{immediate:!0}),A(()=>[e.inputValue,o.query.action],([n])=>{a(n)},{immediate:!0});const m=h({});A(()=>e.poolInfo,(n,u)=>{n&&(m.value=n)},{immediate:!0});const r=h("");return A(()=>e.currentPriceTab,n=>{r.value=n},{immediate:!0}),{addPrice:w,minusPrice:B,oValue:p,changeValue:$,isDisabled:r,route:o,onBlur:N}}});const Le={class:"set-price-item"},De={class:"title"},Fe={class:"input-box"},Ue={key:0,class:"minus-btn"},Ve={key:1,class:"plus-btn"};function Ee(e,t,l,p,g,s){const o=re,k=ae;return f(),y("div",Le,[i("div",De,S(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),U(k,{loading:e.loading,active:"",paragraph:!1},{default:V(()=>[i("div",Fe,[e.currentPriceTab!=="full range"?(f(),y("a",Ue,[i("div",{class:E(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:t[0]||(t[0]=(...d)=>e.minusPrice&&e.minusPrice(...d))},"-",2)])):F("",!0),U(o,{id:"pValu",value:e.oValue,"onUpdate:value":t[1]||(t[1]=d=>e.oValue=d),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:t[2]||(t[2]=d=>e.changeValue(d.target.value)),onBlur:t[3]||(t[3]=d=>e.onBlur(d))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(f(),y("a",Ve,[i("div",{class:E(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:t[4]||(t[4]=(...d)=>e.addPrice&&e.addPrice(...d))},"+",2)])):F("",!0)])]),_:1},8,["loading"]),i("p",{class:E(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},S(e.toCoin&&e.toCoin.symbol)+" per "+S(e.fromCoin&&e.fromCoin.symbol),3)])}const pe=G(qe,[["render",Ee],["__scopeId","data-v-2cc9c58e"]]),We=K({components:{NewLiquiditySetPrice:pe},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,t){let l=h(""),p=h(""),g=h(),s=h(!1),o=h(!1);const k=h({}),d=H(),I=_(()=>d);le(()=>{l.value=e.min,p.value=e.max}),A(()=>e.currentPriceTab,(r,n)=>{r!==n&&(g.value=e.currentPriceTab)},{immediate:!0}),A(()=>e.min,(r,n)=>{r!==n&&(l.value=r)}),A(()=>e.max,(r,n)=>{r!==n&&(p.value=r)}),A(()=>e.poolInfo,(r,n)=>{r&&(k.value=r)},{immediate:!0});const w=h("");A(()=>e.intPrice,r=>{w.value=r},{immediate:!0,deep:!0});const B=r=>{l.value=r,t.emit("onChangeMinPrice",r)},$=r=>{console.error("1113###new-liquidity-set-price###changeMaxPrice###val###",r),p.value=r,t.emit("onChangeMaxPrice",r)};A(s,(r,n)=>{r!==n&&t.emit("onChangeFullRange",r)});const a=()=>{l.value=e.defaultMinPrice,p.value=e.defaultMaxPrice,o.value=!1,s.value=!1},N=()=>{o.value=!1,l.value="0",p.value="∞"};return A(s,(r,n)=>{r!==n&&t.emit("onChangeFullRange",r)}),{store:I,changeMinPrice:B,changeMaxPrice:$,importIcon:Y,resetPrice:a,changeShowUnderStand:()=>{s.value=!s.value,s.value?o.value=!0:a(),o.value||(l.value=e.defaultMinPrice,p.value=e.defaultMaxPrice)},showUnderStand:o,minPrice:l,maxPrice:p,understand:N,isRadio:s,initPirce:w}}});const ze={class:"set-price"},He={class:"card-container"},Ke={key:0,class:"card"},Ge={key:1,class:"understand"},Je={class:"left"},Qe={class:"right"};function Xe(e,t,l,p,g,s){const o=pe,k=se;return f(),y("div",ze,[i("div",He,[e.showUnderStand?(f(),y("div",Ge,[i("div",Je,[i("p",null,S(e.$t("common.lowerEfficiency")),1),i("p",null,S(e.$t("common.lowerEfficiencyTips")),1)]),i("div",Qe,[U(k,{onClick:e.understand},{default:V(()=>[z(S(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(f(),y("div",Ke,[U(o,{value:e.minPrice,"onUpdate:value":t[0]||(t[0]=d=>e.minPrice=d),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),U(o,{value:e.maxPrice,"onUpdate:value":t[1]||(t[1]=d=>e.maxPrice=d),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const Jt=G(We,[["render",Xe],["__scopeId","data-v-d95990c1"]]),Ye=K({components:{TokenWarning:fe},props:{inputValue:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},coinName:{type:String,default:""},coinSymbol:{type:String,default:""},balance:{type:Number,default:null},coinIcon:{type:String,default:""},havemax:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!0},isTotal:{type:Boolean,default:!1},importPage:{type:String,default:""},address:{type:String,default:""}},setup(e,t){const{t:l,locale:p}=ke(),g=H(),s=_(()=>g),o=_(()=>new T(Number(e.balance)).div(2)),k=be(_e,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function d(){this.$emit("onSelect")}const I=c=>{const v=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(u==null?void 0:u.value)&&(u==null?void 0:u.value)}})?).*$`);c.target.value=c.target.value.replace(v,"$1")},w=ge(),B=_(()=>w),$=te(),a=_(()=>$),N=_(()=>a.value.tokensWarningObj);let m={};A(()=>a.value.RATES,c=>{c&&(m=c)},{immediate:!0});const r=_(()=>Ne(Number(e.inputValue)*Number(m&&m[e.address]&&m[e.address].price),2)),n=_(()=>{var c,v;return a.value.tokensObj&&e.address&&a.value.tokensObj[e.address]&&((c=a.value.tokensObj[e.address])==null?void 0:c.labels)&&((v=a.value.tokensObj[e.address])==null?void 0:v.labels[0])}),u=_(()=>{var c;return a.value.tokensObj&&e.address&&a.value.tokensObj[e.address]&&((c=a.value.tokensObj[e.address])==null?void 0:c.decimals)}),b=_(()=>{var c,v,P,C;return e.coinIcon||((v=(c=a==null?void 0:a.value)==null?void 0:c.tokensObj[e.address])==null?void 0:v.logo_url)||((C=(P=a==null?void 0:a.value)==null?void 0:P.tokensObj[e.address])==null?void 0:C.logoURI)||(s.value.theme==="default"?Y("/image/coins/unknown.png"):Y("/image/coins/sui-unknown.png"))}),M=_(()=>a.value.tokensObj),j=_(()=>s.value.theme);return{route:Z(),theme:j,currentIcon:b,tokensObj:M,pool:a,halfBalance:o,coinLabels:n,t:l,addCommom:X,store:s,wallet:B,indicator:k,inputChange:I,importIcon:Y,selectCoin:d,amountPirce:r,coinDecimals:u,formatNumber:me,tokensWarningObj:N,checkNullObj:ne}}});const Ze=e=>(ue("data-v-3a378845"),e=e(),ce(),e),xe={class:"card"},et={class:"top"},tt={key:1,class:"input-div"},nt={key:0},ot={class:"loading-token"},it={key:1},at={key:0},rt=Ze(()=>i("use",{"xlink:href":"#icon-icon_on"},null,-1)),lt=[rt],st={class:"bottom"},ut={key:0,class:"amount-price"},ct={key:1},dt={class:"top"},mt={class:"right"},ft={class:"balance"};function pt(e,t,l,p,g,s){const o=re,k=Pe,d=Se,I=fe,w=ae,B=se,$=ye("image");return f(),y("div",xe,[i("div",et,[e.inputDisabled?(f(),y("div",tt,[e.inputValue?(f(),y("span",nt,S(e.inputValue),1)):(f(),W(k,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(f(),W(o,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.inputValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:t[0]||(t[0]=a=>e.$emit("onInput",a.target.value)),onFocus:t[1]||(t[1]=a=>e.$emit("onFocus"))},null,8,["value","disabled","onChange"])),i("div",{class:E(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"?"left-opcity":""].join("")]),onClick:t[2]||(t[2]=a=>e.pool.isTokenLoading?"":e.selectCoin())},[i("div",ot,[e.pool.isTokenLoading?(f(),W(d,{key:0,active:e.active,size:"small",paragraph:!1},null,8,["active"])):e.address?he((f(),y("img",it,null,512)),[[$,e.currentIcon]]):F("",!0),U(I,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),U(w,{loading:e.pool.isTokenLoading,class:"loading-token-skeleton",active:"",paragraph:!1},{default:V(()=>[i("div",null,[i("p",null,S(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(f(),y("p",at,S(e.coinLabels),1)):F("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(f(),y("svg",{key:0,class:E(["icon",e.pool.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},lt,2)):F("",!0)],2)]),i("div",st,[e.inputValue&&e.amountPirce!="--"?(f(),y("div",ut," $"+S(("formatNumber"in e?e.formatNumber:Q(me))(e.amountPirce)),1)):(f(),y("div",ct)),i("div",dt,[i("div",mt,[z(S(e.isTotal?e.$t("common.total"):e.$t("common.balance"))+" ",1),i("span",ft,S(e.wallet.connected?("addCommom"in e?e.addCommom:Q(X))(e.balance,e.coinDecimals):"0"),1),e.havemax&&e.wallet.connected?(f(),W(B,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:Q(X))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:t[3]||(t[3]=a=>e.$emit("onHalf"))},{default:V(()=>[z(S("Half"))]),_:1},8,["disabled"])):F("",!0),e.havemax&&e.wallet.connected?(f(),W(B,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:Q(X))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:t[4]||(t[4]=a=>e.$emit("onMax"))},{default:V(()=>[z(S(e.$t("button.max")),1)]),_:1},8,["disabled"])):F("",!0)])])])])}const Qt=G(Ye,[["render",pt],["__scopeId","data-v-3a378845"]]),vt=K({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fixedFromCoin:{type:Boolean,defalut:!0},isInputTotalAmount:{type:Boolean,default:!1},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},createPoolInfo:{type:Object,default:()=>({})},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},currentPriceTab:{type:String,default:""}},setup(e){const t=te(),l=_(()=>t),p=H(),g=_(()=>p),s=Z(),o=_(()=>{let $=null;if(s.name=="liquidity-create")$=e.createPoolInfo;else for(const a in l.value.poolsObj){const N=l.value.poolsObj[a];N.address==s.query.poolAddress&&($=N)}return $}),k=_(()=>g.value.chainName?de(g.value.chainName):{}),d=_(()=>g.value.slippage),I=h(),w=h(),B=async()=>{if(!e.minPrice&&!e.maxPrice)return;const{TickUtil:$,TickMath:a,getNearestTickByTick:N}=k.value,m=o.value.token_a.decimals,r=o.value.token_b.decimals;let n,u,b,M,j,O,c,v=1,P=1;const C=o.value.current_tick_index;let R=l.value.poolPriceConfigObj&&l.value.poolPriceConfigObj[o.value.address]&&l.value.poolPriceConfigObj[o.value.address].recommend_ranges||{};if(o.value.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&o.value.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?c=!0:c=!1,e.minPrice==="0"&&e.maxPrice==="∞")b=$.getMinIndex(o.value.tickSpacing),M=$.getMaxIndex(o.value.tickSpacing);else if(e.currentPriceTab=="custom"){c?(n=e.minPrice,u=e.maxPrice):(n=e.maxPrice!=="∞"?new T(1).div(e.maxPrice).toString():1/0,u=new T(1).div(e.minPrice).toString());try{j=a.priceToTickIndex(new T(n),m,r)}catch{j=-443636}try{O=a.priceToTickIndex(new T(u),m,r)}catch{O=443636}n==0&&(j=-443636),b=N(j,Number(o.value.tickSpacing),!0),M=N(O,Number(o.value.tickSpacing),!0)}else b=R&&R[e.currentPriceTab]&&R[e.currentPriceTab].lower,M=R&&R[e.currentPriceTab]&&R[e.currentPriceTab].upper;if(e.maxPrice==="∞"||C>=b&&C<=M){let q;if(e.fixedFromCoin){const J=new T(Number(e.fromCoinAmount)==0?1:e.fromCoinAmount).mul(Math.pow(10,e.fromCoin.decimals)).toString();q=new x(J)}else{const J=new T(Number(e.toCoinAmount)==0?1:e.toCoinAmount).mul(Math.pow(10,e.toCoin.decimals)).toString();q=new x(J)}const{tokenMaxA:L,tokenMaxB:D}=await k.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:o.value.token_a,tokenB:o.value.token_b,lowerTick:b,upperTick:M,coinAmount:q,iscoinA:c?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(d.value)/100,curSqrtPrice:new x(o.value.current_sqrt_price)});c?e.fixedFromCoin?(P=Number(D)>0?D:"",v=Number(L)>0?L:""):(v=Number(L)>0?L:"",P=Number(D)>0?D:""):(e.fixedFromCoin,P=L,v=D)}else C>M?c?(P=1,v=0):(v=1,P=0):C<b&&(c?(P=0,v=1):(P=1,v=0));if(e.minPrice=="0"&&e.maxPrice=="∞")I.value=50,w.value=50;else{const q=v?Number(v):0,L=P?Number(P):0,D=new T(L).add(new T(c?new T(q*e.currentPrice):new T(q*e.currentPriceReverse))),J=ee(new T(q).mul(new T(c?e.currentPrice:e.currentPriceReverse)).div(D).mul(100).toNumber().toFixed(2),2),ve=ee(new T(L).div(D).mul(100).toNumber().toFixed(2),2);I.value=J,w.value=ve}};return A(()=>[o.value,e.minPrice,e.maxPrice,e.fromCoinAmount,e.toCoinAmount,e.isInputTotalAmount],([$,a,N,m,r])=>{a&&N&&$&&!ne($)&&(a!=="0"||N!=="0")?B():(I.value="",w.value="")},{immediate:!0,deep:!0}),{fromCoinRatio:I,toCoinRatio:w}}});const gt={class:"deposit-ratio"},kt={class:"deposit-ratio-text"},bt=i("span",null,"Deposit Ratio",-1),_t=i("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[i("use",{"xlink:href":"#icon-icon-tips1"})],-1),yt={class:"deposit-ratio-content"},ht={class:"coin-ratio"},Pt={class:"coin-a-ratio"},St={class:"coin-b-ratio"},$t={class:"ratio-progress"};function Ct(e,t,l,p,g,s){var k,d;const o=$e;return f(),y("div",gt,[i("div",kt,[bt,U(o,{placement:"bottom","arrow-point-at-center":""},{title:V(()=>[i("span",null,S(e.$t("newAdd.depositRatioTips")),1)]),default:V(()=>[_t]),_:1})]),i("div",yt,[i("div",ht,[i("div",Pt,[i("span",null,S((k=e.fromCoin)==null?void 0:k.symbol),1),z(" "+S(e.fromCoinRatio)+"% ",1)]),i("div",St,[i("span",null,S((d=e.toCoin)==null?void 0:d.symbol),1),z(" "+S(e.toCoinRatio)+"% ",1)])]),i("div",$t,[i("div",{class:"from-percent",style:ie({width:e.fromCoinRatio+"%"})},null,4),i("div",{class:"to-percent",style:ie({width:e.toCoinRatio+"%"})},null,4)])])])}const Xt=G(vt,[["render",Ct]]),Tt=K({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const l=h(!1),p=h(null),g=h(0);let s=h(!1);const o=h(20),k=te(),d=H(),I=h(!1);le(()=>{}),Ce(()=>{clearInterval(p.value)});const w=()=>{s.value=!1,p.value=setInterval(()=>{var r;I.value||g.value<o.value&&(g.value+=1,g.value===o.value&&(s.value=!0,(r=e==null?void 0:e.poolInfo)!=null&&r.poolAddress&&k.updateCurrentPools(e.poolInfo.poolAddress,d.chainName),g.value=0,setTimeout(()=>{s.value=!1},1e3)))},1e3)},B=_(()=>d.slippage),$=()=>{t.emit("clearAll")},a=()=>{s.value||(s.value=!0,g.value=0,t.emit("clickRefresh"),setTimeout(()=>{s.value=!1,w()},1e3))};A(()=>e.poolInfo,r=>{r&&!p.value&&w()},{immediate:!0});const N=Te(),m=Z();return{refresh:s,clickRefresh:a,isShowSwapSetting:l,countdown:g,autoRefreshTime:o,slippage:B,clearAll:$,checkNullObj:ne,router:N,route:m}}});const oe=e=>(ue("data-v-bc202d61"),e=e(),ce(),e),It={class:"title"},wt=oe(()=>i("div",{class:"left"},[i("span",null,"Deposit Amounts")],-1)),Nt=oe(()=>i("svg",{class:"icon","aria-hidden":"true"},[i("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Mt={key:0,class:"deposit-progress"},At=oe(()=>i("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Ot=[At];function jt(e,t,l,p,g,s){const o=Me;return f(),y("div",It,[wt,i("div",{class:E(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[i("div",{class:"slippage-icon",onClick:t[0]||(t[0]=k=>e.isShowSwapSetting=!0)},[Nt,i("span",null,S(e.slippage)+"%",1)]),e.route.name!=="liquidity-create"?(f(),y("div",Mt,[(f(),y("svg",{"aria-hidden":"true",class:E(e.refresh?"refresh-icon refresh":"refresh-icon"),onClick:t[1]||(t[1]=(...k)=>e.clickRefresh&&e.clickRefresh(...k))},Ot,2))])):F("",!0)],2),e.isShowSwapSetting?(f(),W(o,{key:0,onOnClose:t[2]||(t[2]=k=>e.isShowSwapSetting=!1)})):F("",!0)])}const Yt=G(Tt,[["render",jt],["__scopeId","data-v-bc202d61"]]);export{Yt as _,Xt as a,Gt as b,Qt as c,Jt as d};
