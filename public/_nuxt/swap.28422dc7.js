import{_ as un,a as rn}from"./token-warning-modal.4cf3ab41.js";import{_ as dn,a as mn}from"./coin-select.c3f1ee5a.js";import{u as ke,a as Bo,c as ge,D as m,s as Y,b as D,i as Fo,g as eo,y as ko,f as me,v as $o,p as Ce,e as he,d as je}from"./pool.caea2355.js";import{e as $e,a as Re,a2 as Oo,a3 as Po,r as c,m as w,D as K,q as Ie,o as s,f as C,h as o,c as E,x as T,t as H,j as J,v as a,z as re,u as R,K as Uo,S as _o,p as Te,k as Ne,M as no,l as Ro,L as ao,w as ae,i as de,B as so,a5 as cn,F as oo,s as Io,b as To,y as vn,C as pn,a8 as Ee,G as fn}from"./entry.87554927.js";/* empty css              *//* empty css              */import{u as Ae,_ as qe}from"./index.222d0c10.js";import"./decimal.efe6e64d.js";import{i as ie}from"./import-icon.de3e6c66.js";import{a as Cn,_ as hn}from"./network-tips.0bc587f3.js";/* empty css              */import{u as gn}from"./swapRouter.284bf49d.js";import{_ as bn}from"./img-leverage_2x.1c577303.js";/* empty css              */import"./icon-selected_3x.350736e2.js";import"./token-warning.ba9676ac.js";/* empty css              */import"./img-no-Positions_2x.ed406d3e.js";const yn=""+globalThis.__publicAssetsURL("sui-image/route-view.png");const wn=Re({props:{swapLoading:{type:Boolean,default:!1},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},impact:{type:String,default:""},insufficientLiquidity:{type:Boolean,default:!1},oneToAmount:{type:String,default:""},oneFromAmount:{type:String,default:""},suiPreSwapdata:{type:Object,default:()=>({})},suiSwapFee:{type:String,default:""},swapRouterLoading:{type:Boolean,default:!1}},setup(e){const i=Oo(Po,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0}),y=c(!1),g=Ae(),$=w(()=>g),_=w(()=>$.value.slippage),p=w(()=>$.isShowRouterModal);K(()=>e,k=>{},{immediate:!0,deep:!0});const O=ke(),S=w(()=>O),P=Bo("Sui"),U=c({}),Q=c({}),W=c({});K(()=>[e.suiPreSwapdata,S.value.tokensObj],async([k,f])=>{k&&!ge(k)&&f&&!ge(f)&&(k.coinTypeA&&(U.value=f[k.coinTypeA]||(await P.getTokenListByCoinType([k.coinTypeA]))[0]),k.coinTypeB&&(Q.value=f[k.coinTypeB]||(await P.getTokenListByCoinType([k.coinTypeB]))[0]),k.coinTypeC&&(W.value=f[k.coinTypeC]||(await P.getTokenListByCoinType([k.coinTypeC]))[0]))},{immediate:!0});const L=c(0),X=c(0);return K(()=>[e.fromCoinAmount,e.toCoinAmount,e.fromCoin,e.toCoin,e.fixedFromCoin,_.value],([k,f,le,I,V,t])=>{if(k&&f&&le&&I&&t)if(V){const r=new m(f).mul(new m(t/100));X.value=new m(f).sub(r).toString()}else{const r=new m(k).mul(new m(t/100));L.value=new m(k).sub(r).toString()}},{immediate:!0}),{sFixD:Y,getCoinIcon:k=>{var f;return(k==null?void 0:k.logoURI)||(k==null?void 0:k.logo_url)||((f=S.value.tokensObj[k==null?void 0:k.address])==null?void 0:f.logo_url)||($.theme==="default"?ie("/image/coins/unknown.png"):ie("/image/coins/sui-unknown.png"))},indicator:i,rateChange:y,slippage:_,isShowRouterModal:p,indexStore:g,coinTypeA:U,coinTypeB:Q,coinTypeC:W,maximumSold:L,minimumReceived:X,addCommom:D}}}),be=e=>(Te("data-v-fd74e509"),e=e(),Ne(),e),Sn={key:0,class:"swap-info"},An={class:"loading-swap"},kn={key:1,class:"swap-rate"},$n={key:0},In={key:0},Tn={key:1},Nn={key:0},Bn=be(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Fn=be(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),On=[Bn,Fn],Pn={key:2},Un={class:"trade-info"},_n={class:"trade-block"},Rn=be(()=>o("div",{class:"lebal"},"Price Impact",-1)),Dn={key:0,class:"icon","aria-hidden":"true"},Ln=be(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Mn=[Ln],jn={class:"trade-block"},En={class:"lebal"},qn={key:0,class:"text"},Wn={class:"trade-block"},Xn=be(()=>o("div",{class:"lebal"},"Fee",-1)),Qn={key:0,class:"text"},Hn={key:0,class:"trade-block"},Zn=be(()=>o("div",{class:"lebal"},"Route",-1)),zn={key:0,class:"text"},Jn={key:0},Kn={key:1},Yn={key:2},Gn=be(()=>o("img",{src:yn,alt:""},null,-1));function Vn(e,i,y,g,$,_){const p=Uo,O=_o,S=Ie("image");return e.swapLoading||Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&!e.insufficientLiquidity?(s(),C("div",Sn,[o("div",An,[e.swapLoading||e.swapRouterLoading?(s(),E(p,{key:0,size:"small",indicator:e.indicator},null,8,["indicator"])):T("",!0),e.swapLoading?e.swapLoading?(s(),C("span",Pn,"Best route and price")):T("",!0):(s(),C("div",kn,[e.rateChange?(s(),C("span",Tn,[e.fromCoinAmount&&e.toCoinAmount?(s(),C("span",Nn,[H(o("img",null,null,512),[[S,e.getCoinIcon(e.toCoin)]]),J(" 1 "+a(e.toCoin.symbol)+" ≈ ",1),H(o("img",null,null,512),[[S,e.getCoinIcon(e.fromCoin)]]),J(a(e.oneFromAmount==1/0?0:e.oneFromAmount)+" "+a(e.fromCoin.symbol),1)])):(s(),E(p,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(s(),C("span",$n,[H(o("img",null,null,512),[[S,e.getCoinIcon(e.fromCoin)]]),J(" 1 "+a(e.fromCoin.symbol)+" ≈ ",1),e.fromCoinAmount&&e.toCoinAmount?(s(),C("span",In,[H(o("img",null,null,512),[[S,e.getCoinIcon(e.toCoin)]]),J(a(e.oneToAmount==1/0?0:e.oneToAmount)+" "+a(e.toCoin.symbol),1)])):(s(),E(p,{key:1,indicator:e.indicator},null,8,["indicator"]))])),o("div",{class:"right",onClick:i[0]||(i[0]=P=>e.rateChange=!e.rateChange)},On)]))]),o("div",Un,[o("div",_n,[Rn,e.swapRouterLoading?(s(),E(O,{key:1,paragraph:!1,active:""})):(s(),C("div",{key:0,class:re(["text",e.impact<1?"impact-s":e.impact<10&&e.impact>=1?"impact-w":"impact-e"])},[J(a(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(s(),C("svg",Dn,Mn)):T("",!0)],2))]),o("div",jn,[o("div",En,a(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swapRouterLoading?(s(),E(O,{key:1,paragraph:!1,active:""})):(s(),C("div",qn,a(e.fixedFromCoin?("addCommom"in e?e.addCommom:R(D))(("sFixD"in e?e.sFixD:R(Y))(e.minimumReceived,e.toCoin.decimals)):("addCommom"in e?e.addCommom:R(D))(("sFixD"in e?e.sFixD:R(Y))(e.maximumSold,e.fromCoin.decimals)))+" "+a(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",Wn,[Xn,e.swapRouterLoading?(s(),E(O,{key:1,paragraph:!1,active:""})):(s(),C("div",Qn,a(e.suiSwapFee),1))]),e.insufficientLiquidity?T("",!0):(s(),C("div",Hn,[Zn,e.swapRouterLoading?(s(),E(O,{key:1,paragraph:!1,active:""})):(s(),C("div",{key:0,class:"text",onClick:i[1]||(i[1]=P=>e.indexStore.setIsShowRouterModal(!e.isShowRouterModal))},[e.swapRouterLoading?T("",!0):(s(),C("div",zn,[e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeA?(s(),C("span",Jn,a(e.coinTypeA.symbol)+" "+a(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?"> ":""),1)):T("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?(s(),C("span",Kn,a(e.coinTypeB.symbol)+" "+a(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?"> ":""),1)):T("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?(s(),C("span",Yn,a(e.coinTypeC.symbol),1)):T("",!0)])),Gn]))]))])])):T("",!0)}const xn=$e(wn,[["render",Vn],["__scopeId","data-v-fd74e509"]]),No={SUI:{symbol:"SUI",name:"Sui Coin",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sBTC:{symbol:"sBTC",name:"Wrapped BTC",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sETH:{symbol:"sETH",name:"Wrapped Ether",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::ETH"},USDC:{symbol:"USDC",name:"USDC Coin",decimals:6,balance:12e3,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC"},USDT:{symbol:"USDT",name:"Tether USD",decimals:6,balance:1e4,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT"}},ea={"USDT-USDC":{symbol:"USDT-USDC",name:"USDT-USDC",decimals:6,coinA:No.USDT,coinB:No.USDC,feeDenominator:"10000",feeNumerator:"1",fee:"0.01",address:"0x1ce98d89494e9d3d7935bc3bd5fc714fc2abb99db3f024162552c4ba172f4d28::amm_swap::PoolLiquidityCoin<0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT,0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC>"}};function oa(e,i){const y=Object.values(ea).filter(g=>e===g.coinA.symbol&&i===g.coinB.symbol||e===g.coinB.symbol&&i===g.coinA.symbol);return y&&y[0]||null}const na=Re({components:{Modal:no},props:{fromCoin:{type:Object,required:!0},toCoin:{type:Object,required:!0},fromCoinAmount:{type:String,required:!0},toCoinAmount:{type:String,required:!0},impact:{type:Number,required:!0},fee:{type:String,required:!0},fixedFromCoin:{type:Boolean,required:!0},formatFee:{type:String,default:""}},emits:["to-swap","on-close"],setup(e,i){const{t:y,locale:g}=Ro(),$=Ae(),_=Fo();w(()=>_);const p=w(()=>{const I=oa(e.fromCoin.symbol,e.toCoin.symbol);return eo(ko(e.fromCoinAmount).mul(ko(I.fee).div(100)).toString(),e.fromCoin.decimals)}),O=c($.slippage||.5),S=c(!0),P=c(!1);function U(I){S.value=I}const Q=async()=>{i.emit("to-swap")},W=ke(),L=w(()=>W),X=w(()=>L.value.tokensObj&&e.fromCoin.address&&L.value.tokensObj[e.fromCoin.address]&&L.value.tokensObj[e.fromCoin.address].logoURI),G=w(()=>L.value.tokensObj&&e.toCoin.address&&L.value.tokensObj[e.toCoin.address]&&L.value.tokensObj[e.toCoin.address].logoURI),k=Ae(),f=w(()=>k);return{fromCoinUrl:X,toCoinUrl:G,t:y,importIcon:ie,fixD:me,decimalFormat:eo,direct:S,changeDirect:U,rateChange:P,clickNextBtn:Q,slippage:O,liquidityProviderFee:p,getCoinIcon:I=>{var V;return(I==null?void 0:I.logoURI)||(I==null?void 0:I.logo_url)||((V=L.value.tokensObj[I==null?void 0:I.address])==null?void 0:V.logo_url)||(f.value.theme==="default"?ie("/image/coins/unknown.png"):ie("/image/coins/sui-unknown.png"))},addCommom:D,sFixD:Y}}});const We=e=>(Te("data-v-1213bea7"),e=e(),Ne(),e),aa=We(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),sa={class:"swap-confirm-container"},ta={class:"card-content"},ia={class:"top"},la={class:"coin"},ua=We(()=>o("div",{class:"svg-box"},[o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-swap2"})])],-1)),ra={class:"coin"},da={class:"bottom"},ma={class:"induction"},ca={class:"item"},va={class:"induction-text"},pa={class:"induction-value induction-value-change"},fa={key:0},Ca={key:1},ha=We(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),ga=[ha],ba={class:"item"},ya={class:"induction-text"},wa={class:"induction-value"},Sa={class:"item"},Aa={class:"induction-text"},ka={class:"induction-value"},$a={key:0,class:"item"},Ia={class:"induction-text"},Ta={key:0,class:"icon","aria-hidden":"true"},Na=We(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Ba=[Na],Fa={key:1,class:"item"},Oa={class:"induction-text"},Pa={key:0,class:"induction-value"},Ua={key:1,class:"induction-value"};function _a(e,i,y,g,$,_){const p=so,O=ao("Modal"),S=Ie("image");return s(),E(O,{width:"440px",visible:!0,footer:null,title:e.$t("modal.swapConfirmTitle"),class:"swap-confirm-modal",onCancel:i[2]||(i[2]=P=>e.$emit("on-close"))},{closeIcon:ae(()=>[aa]),default:ae(()=>[o("div",sa,[o("div",ta,[o("div",ia,[o("div",la,[H(o("img",null,null,512),[[S,e.fromCoinUrl||e.getCoinIcon(e.fromCoin)]]),o("p",null,a(e.fromCoinAmount),1),J("    "),o("p",null,a(e.fromCoin.symbol),1)]),ua,o("div",ra,[H(o("img",null,null,512),[[S,e.toCoinUrl||e.getCoinIcon(e.toCoin)]]),o("p",null,a(e.toCoinAmount),1),J("    "),o("p",null,a(e.toCoin.symbol),1)])]),o("div",da,[o("div",ma,[o("div",ca,[o("div",va,a(e.$t("common.rate")),1),o("div",pa,[e.rateChange?(s(),C("span",Ca," 1 "+a(e.toCoin.symbol)+" ≈ "+a(("addCommom"in e?e.addCommom:R(D))(("sFixD"in e?e.sFixD:R(Y))(Number(e.fromCoinAmount)/Number(e.toCoinAmount),e.toCoin.decimals)))+" "+a(e.fromCoin.symbol),1)):(s(),C("span",fa," 1 "+a(e.fromCoin.symbol)+" ≈ "+a(("addCommom"in e?e.addCommom:R(D))(("sFixD"in e?e.sFixD:R(Y))(Number(e.toCoinAmount)/Number(e.fromCoinAmount),e.toCoin.decimals)))+" "+a(e.toCoin.symbol),1)),(s(),C("svg",{class:"icon-change","aria-hidden":"true",onClick:i[0]||(i[0]=P=>e.rateChange=!e.rateChange)},ga))])]),o("div",ba,[o("div",ya,a(e.$t("modal.slippageTolerance")),1),o("div",wa,a(e.slippage)+"%",1)]),o("div",Sa,[o("div",Aa,a(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",ka,a(e.fixedFromCoin?("addCommom"in e?e.addCommom:R(D))(("sFixD"in e?e.sFixD:R(Y))(e.toCoinAmount-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals)):("addCommom"in e?e.addCommom:R(D))(("sFixD"in e?e.sFixD:R(Y))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals)))+" "+a(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),e.chainName=="Sui"?(s(),C("div",$a,[o("div",Ia,a(e.$t("common.priceImpact")),1),o("div",{class:re(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},[J(a(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(s(),C("svg",Ta,Ba)):T("",!0)],2)])):T("",!0),e.fee?(s(),C("div",Fa,[o("div",Oa,a(e.$t("common.fee")),1),e.chainName=="Aptos"?(s(),C("div",Pa,a(e.formatFee)+" "+a(e.fromCoin.symbol)+" ("+a(e.fee*100)+"%) ",1)):(s(),C("div",Ua,a(e.fee),1))])):T("",!0)])])])]),de(p,{class:"big-btn swap-confirm-btn",onClick:i[1]||(i[1]=P=>e.clickNextBtn())},{default:ae(()=>[J(a(e.$t("button.confirmSwap")),1)]),_:1})]),_:1},8,["title"])}const Ra=$e(na,[["render",_a],["__scopeId","data-v-1213bea7"]]);async function Da(e){const{prices:i}=await $fetch(`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&id=${e}&days=1&interval=hourly`,{headers:{Connection:"keep-alive",Accept:"*/*"}});return i}const La={props:{coin:{type:Object,default:()=>({})},refresh:{type:Boolean,default:!1},id:{type:String,default:""}},setup(e,i){const{$echarts:y}=cn();let g=null,$;const _=c(!0),p=(t,r,x)=>{$={xAxis:{type:"category",boundaryGap:!1,show:!1,data:r},yAxis:{type:"value",show:!1,min:function(h){return h.min-h.min*.1},max:function(h){return h.max+h.max*.1}},grid:{top:1,right:1,bottom:1,left:1},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:L.value.chainName=="Aptos"?"#68FFD8":"#76C8FF"}},formatter:function(h){return`<div class="chart-tip">
              <div>${h&&h[0]&&h[0].name}</div>
              <div>$${me(h&&h[0]&&h[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:L.value.chainName=="Aptos"?"#0C4535":"#2E546D"},{offset:1,color:L.value.chainName=="Aptos"?"#151817":"#1B1B1B"}]},series:[{data:t,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:L.value.chainName=="Aptos"?"#68FFD8":"#76C8FF",width:2,type:"solid"}}]},$&&g.clear(),$&&g.setOption($,!0),g.resize(),_.value=!1},O=ke(),S=w(()=>O),P=c(""),U=c(""),Q=async t=>{var ue,pe;const r=[],x=[],h=await Da(t);P.value=h&&h.length>1&&(h[h.length-1][1]-h[0][1])/h[0][1]*100,U.value=h&&h.length>1&&h[h.length-1][1],h.forEach(M=>{r.push(M[1]);const Z=$o(M[0],"MD"),l=$o(M[0],"HM");x.push(Z+" "+l)});let ye=document.getElementById(`main${(ue=e.coin)==null?void 0:ue.name}`);g=y.init(ye),p(r,x,(pe=e.coin)==null?void 0:pe.name)},W=Ae(),L=w(()=>W),X=w(()=>L.value.chainName),G=w(()=>qe[X.value]);K(()=>e.id,(t,r)=>{t&&(P.value="",U.value="",setTimeout(()=>{Q(t)},1e3))},{immediate:!0});const k=c(""),f=c(""),le=c(""),I=c("");return K(()=>[S.value.tokensObj,e.coin],([t,r])=>{var x,h;t&&r&&t[r.address]&&(f.value=((x=t[r.address])==null?void 0:x.labels)&&((h=t[r.address])==null?void 0:h.labels[0]),k.value=t[r.address].name,le.value=t[r.address].symbol,I.value=t[r.address].address)},{immediate:!0,deep:!0}),K(()=>e.refresh,t=>{t&&Q(e.id)}),{theme:w(()=>L.value.theme),store:W,importIcon:ie,fixD:me,config:G,price_rate_24h:P,nowPrice:U,coinName:k,coinLabels:f,coinSymbol:le,address:I}}};const Ma=e=>(Te("data-v-2d274d28"),e=e(),Ne(),e),ja={class:"token-info"},Ea={class:"token-info-padding"},qa={class:"token-info-header"},Wa={class:"left"},Xa=["onerror"],Qa={class:"name"},Ha={class:"desc"},Za={class:"right"},za={class:"price"},Ja={class:"token-info-footer"},Ka={class:"left"},Ya={class:"address"},Ga={key:0,class:"pc-address"},Va={key:1,class:"pc-address"},xa={class:"h5-address"},es=Ma(()=>o("use",{"xlink:href":"#icon-icon-copy"},null,-1)),os=[es],ns={class:"right"},as=["id"];function ss(e,i,y,g,$,_){var O;const p=Ie("image");return s(),C("div",ja,[o("div",Ea,[o("div",qa,[o("div",Wa,[H(o("img",{onerror:g.theme=="default"?g.importIcon("/image/coins/unknown.png"):g.importIcon("/image/coins/sui-unknown.png")},null,8,Xa),[[p,y.coin.logoURI||g.importIcon(`/image/coins/${y.coin.symbol.toLowerCase()}.png`)]]),o("div",null,[o("div",Qa,a(g.coinSymbol),1),o("div",Ha,[o("span",null,a(g.coinName)+" "+a(g.coinLabels?`(${g.coinLabels})`:""),1)])])]),o("div",Za,[o("div",za,"$"+a(g.fixD(g.nowPrice,2)),1),g.price_rate_24h?(s(),C("div",{key:0,class:re(g.price_rate_24h>0?"increase up":g.price_rate_24h<0?"increase down":"increase up")},a(g.price_rate_24h>0?`+ ${g.fixD(g.price_rate_24h,2)}`:g.price_rate_24h<0?+`${g.fixD(g.price_rate_24h,2)}`:`+${g.fixD(g.price_rate_24h,2)}`)+"% ",3)):T("",!0)])]),o("div",Ja,[o("div",Ka,[o("div",Ya,[y.coin&&g.address!=="0x2::sui::SUI"?(s(),C("span",Ga,a(y.coin&&y.coin.address.substr(0,13))+" ... "+a(y.coin&&y.coin.address.substr(y.coin.address.length-13,13)),1)):(s(),C("span",Va,a(y.coin&&y.coin.address),1)),o("span",xa,a(y.coin&&y.coin.address.substr(0,4))+" ... "+a(y.coin&&y.coin.address.substr(y.coin.address.length-4,4)),1),(s(),C("svg",{class:"icon","aria-hidden":"true",onClick:i[0]||(i[0]=S=>g.store.copy(y.coin&&y.coin.address))},os))])]),o("div",ns,[o("div",{id:`main${(O=y.coin)==null?void 0:O.name}`,class:"main"},null,8,as)])])])])}const ts=$e(La,[["render",ss],["__scopeId","data-v-2d274d28"]]);const is=Re({components:{Modal:no},props:{routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},routerTotalAmounts:{type:String,default:""}},setup(e){const i=ke(),y=w(()=>i),g=c([]);return K(()=>[e.routerPool,y.value.poolConfigObj,e.routerTotalAmounts,e.fromCoin,e.toCoin],([$,_,p,O,S])=>{if($&&$.length>0&&_&&!ge(_)&&p){const P=[];$.forEach(U=>{const Q="100",W=U.amountIn.toString(),L=Ce(U.amountOut.toString(),S.decimals),X=U.poolAddress.map((G,k)=>({..._&&_[G]}));P.push({percent:Q,...U,amountIn:W,amountOut:L,poolAddress:X})}),g.value=P}},{immediate:!0}),w(()=>{var $,_;return(_=($=y.value)==null?void 0:$.poolInfo)==null?void 0:_.needReverse}),{addCommom:D,routerStep:g}}}),Xe=e=>(Te("data-v-963af6cc"),e=e(),Ne(),e),ls=Xe(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),us={class:"route-top"},rs={class:"token-a"},ds={alt:""},ms={class:"token-num"},cs={class:"token-symbol"},vs={class:"token-b"},ps={class:"token-num"},fs={class:"token-symbol"},Cs={alt:""},hs={class:"route-bottom"},gs=Xe(()=>o("div",{class:"left-round"},null,-1)),bs=Xe(()=>o("div",{class:"right-round"},null,-1)),ys={class:"percent"},ws={class:"pool-info"},Ss={class:"token-a-img",alt:""},As={class:"token-b-img",alt:""},ks={key:0,class:"icon","aria-hidden":"true"},$s=Xe(()=>o("use",{"xlink:href":"#icon-icon_on1"},null,-1)),Is=[$s];function Ts(e,i,y,g,$,_){const p=ao("Modal"),O=Ie("image");return s(),E(p,{title:"Route",width:"600px",visible:!0,footer:null,onCancel:i[0]||(i[0]=S=>e.$emit("onClose"))},{closeIcon:ae(()=>[ls]),default:ae(()=>{var S,P,U,Q;return[o("div",us,[o("div",rs,[H(o("img",ds,null,512),[[O,(S=e.fromCoin)==null?void 0:S.logo_url]]),o("span",ms,a(("addCommom"in e?e.addCommom:R(D))(e.fromCoinAmount)),1),o("span",cs,a((P=e.fromCoin)==null?void 0:P.symbol),1)]),o("div",vs,[o("span",ps,a(("addCommom"in e?e.addCommom:R(D))(e.toCoinAmount)),1),o("span",fs,a((U=e.toCoin)==null?void 0:U.symbol),1),H(o("img",Cs,null,512),[[O,(Q=e.toCoin)==null?void 0:Q.logo_url]])])]),o("div",hs,[gs,bs,(s(!0),C(oo,null,Io(e.routerStep,(W,L)=>(s(),C("div",{key:W,class:re(["route-path",L!==0?"route-path-active":""])},[o("div",ys,[o("span",null,a(W.percent)+"%",1),o("span",null,a(("addCommom"in e?e.addCommom:R(D))(W.amountOut))+" "+a(e.toCoin.symbol),1)]),(s(!0),C(oo,null,Io(W.poolAddress,(X,G)=>(s(),C("div",{key:G,class:"pool-info-box"},[o("div",ws,[H(o("img",Ss,null,512),[[O,X.needReverse?X.coinB.logo_url:X.coinA.logo_url]]),H(o("img",As,null,512),[[O,X.needReverse?X.coinA.logo_url:X.coinB.logo_url]]),o("span",null,a(X.fee*100)+"%",1)]),G!==W.poolAddress.length-1?(s(),C("svg",ks,Is)):T("",!0)]))),128))],2))),128))])]}),_:1})}const Ns=$e(is,[["render",Ts],["__scopeId","data-v-963af6cc"]]),Bs=Re({components:{Modal:no},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:"1245566.008946"},toCoinAmount:{type:String,default:"998041.711793"},slippage:{type:String,default:""},impact:{type:Number,required:!0},fixedFromCoin:{type:Boolean,default:!1},fee:{type:String,required:!0},formatFee:{type:String,default:""},isShowAccept:{type:Boolean,default:!1},swapLoading:{type:Boolean,required:!0},oneFromAmount:{type:String,default:""},oneToAmount:{type:String,default:""}},setup(e,i){const y=ke(),g=w(()=>y),$=Ae(),_=w(()=>$),p=U=>{var Q;return(U==null?void 0:U.logoURI)||(U==null?void 0:U.logo_url)||((Q=g.value.tokensObj[U==null?void 0:U.address])==null?void 0:Q.logo_url)||(_.value.theme==="default"?ie("/image/coins/unknown.png"):ie("/image/coins/sui-unknown.png"))},O=c(!1),S=w(()=>_.value.chainName);return{getCoinIcon:p,addCommom:D,sFixD:Y,rateChange:O,chainName:S,clickNextBtn:async()=>{i.emit("to-swap")}}}});const ce=e=>(Te("data-v-af63f672"),e=e(),Ne(),e),Fs=ce(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Os={class:"new-swap-contnet"},Ps={class:"coin-info"},Us={class:"from-coin-info"},_s={class:"left"},Rs={class:"coin-amount"},Ds={class:"coin-symbol"},Ls={class:"right"},Ms={class:"to-coin-info"},js={class:"left"},Es={class:"coin-amount"},qs={class:"coin-symbol"},Ws={class:"right"},Xs=ce(()=>o("div",{class:"to-swap-logo"},null,-1)),Qs={class:"coin-rate"},Hs={key:0},Zs={class:"left"},zs=ce(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Js=ce(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Ks=[zs,Js],Ys={key:1},Gs={class:"left"},Vs=ce(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),xs=ce(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),et=[Vs,xs],ot={class:"bottom"},nt={class:"induction"},at={class:"item"},st={class:"induction-text"},tt={class:"induction-value"},it={class:"item"},lt={class:"induction-text"},ut={class:"induction-value"},rt={key:0,class:"item"},dt={class:"induction-text"},mt={key:0,class:"icon","aria-hidden":"true"},ct=ce(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),vt=[ct],pt={key:1,class:"item"},ft={class:"induction-text"},Ct={key:0,class:"induction-value"},ht={key:1,class:"induction-value"},gt={key:0,class:"price-updated"},bt=ce(()=>o("span",null,"Price updated",-1));function yt(e,i,y,g,$,_){const p=so,O=ao("Modal"),S=Ie("image");return s(),E(O,{width:"440px",visible:!0,footer:null,title:e.$t("button.swap"),class:"add-liquidity-modal",onCancel:i[4]||(i[4]=P=>e.$emit("on-close"))},{closeIcon:ae(()=>[Fs]),default:ae(()=>[o("div",Os,[o("div",Ps,[o("div",Us,[o("div",_s,[o("div",Rs,a(e.fromCoinAmount&&("addCommom"in e?e.addCommom:R(D))(e.fromCoinAmount)),1),o("div",Ds,a(e.fromCoin&&e.fromCoin.symbol),1)]),o("div",Ls,[H(o("img",null,null,512),[[S,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]])])]),o("div",Ms,[o("div",js,[o("div",Es,a(e.toCoinAmount&&("addCommom"in e?e.addCommom:R(D))(e.toCoinAmount)),1),o("div",qs,a(e.toCoin&&e.toCoin.symbol),1)]),o("div",Ws,[H(o("img",null,null,512),[[S,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]])]),Xs]),o("div",Qs,[e.rateChange?(s(),C("div",Ys,[o("div",Gs,[H(o("img",null,null,512),[[S,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]]),o("span",null,"1 "+a(e.toCoin&&e.toCoin.symbol)+" ≈",1),H(o("img",null,null,512),[[S,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]]),o("span",null,a(e.oneFromAmount)+" "+a(e.fromCoin.symbol),1)]),o("div",{class:"right",onClick:i[1]||(i[1]=P=>e.rateChange=!e.rateChange)},et)])):(s(),C("div",Hs,[o("div",Zs,[H(o("img",null,null,512),[[S,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]]),o("span",null,"1 "+a(e.fromCoin&&e.fromCoin.symbol)+" ≈",1),H(o("img",null,null,512),[[S,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]]),o("span",null,a(e.oneToAmount)+" "+a(e.toCoin.symbol),1)]),o("div",{class:"right",onClick:i[0]||(i[0]=P=>e.rateChange=!e.rateChange)},Ks)]))])]),o("div",ot,[o("div",nt,[o("div",at,[o("div",st,a(e.$t("modal.slippageTolerance")),1),o("div",tt,a(e.slippage)+"%",1)]),o("div",it,[o("div",lt,a(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",ut,a(e.fixedFromCoin?("addCommom"in e?e.addCommom:R(D))(("sFixD"in e?e.sFixD:R(Y))(e.toCoinAmount-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals)):("addCommom"in e?e.addCommom:R(D))(("sFixD"in e?e.sFixD:R(Y))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals)))+" "+a(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),e.chainName=="Sui"?(s(),C("div",rt,[o("div",dt,a(e.$t("common.priceImpact")),1),o("div",{class:re(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>=1?"impact-w":"impact-e"])},[J(a(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(s(),C("svg",mt,vt)):T("",!0)],2)])):T("",!0),e.fee?(s(),C("div",pt,[o("div",ft,a(e.$t("common.fee")),1),e.chainName=="Aptos"?(s(),C("div",Ct,a(e.formatFee)+" "+a(e.fromCoin.symbol)+" ("+a(e.fee*100)+"%) ",1)):(s(),C("div",ht,a(e.fee),1))])):T("",!0)])])]),e.isShowAccept?(s(),C("div",gt,[bt,de(p,{class:"accept-btn",loading:e.swapLoading,onClick:i[2]||(i[2]=P=>e.$emit("accept"))},{default:ae(()=>[J("Accept")]),_:1},8,["loading"])])):(s(),E(p,{key:1,class:"big-btn swap-confirm-btn",onClick:i[3]||(i[3]=P=>e.clickNextBtn())},{default:ae(()=>[J(a(e.$t("button.confirmSwap")),1)]),_:1}))]),_:1},8,["title"])}const wt=$e(Bs,[["render",yt],["__scopeId","data-v-af63f672"]]),St=Re({setup(){const e=To(),i=Oo(Po,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:y,locale:g}=Ro(),$=Ae(),_=ke(),p=w(()=>_);let O=c(!1),S=c(!1),P=c(!1),U=c(!1),Q=c(!1),W=c(!1);const L=c("fromCoin"),X=c(""),G=c(""),k=c(!1),f=c(!0),le=c(!1),I=c(!1),V=c(!1),t=c(""),r=c(""),x=c(20),h=c(0),ye=c(null),ue=c(!1),pe=w(()=>$.slippage),M=w(()=>$.chainName),Z=w(()=>M.value?Bo(M.value):{}),l=c(),v=c(),Qe=w(()=>qe&&qe[M.value]&&qe[M.value].hasRouter),to=w(()=>_.getPoolInfoSuccess),Do=w(()=>{var n;return N.value&&((n=N.value)!=null&&n.is_pause)?"Pool Closed":!l.value||!v.value?y("modal.selectTokenModalTitle"):!Number(t.value)&&!Number(r.value)?y("button.enterAmount"):!Qe.value&&!N.value&&to.value?"Pool Not Found":Qe.value&&Pe.value?"No Available Route":ue.value?y("button.insufficientLiquidity"):Number(t.value)>Number(ne.value)?y("button.insufficientBalance",{name:l.value.symbol}):y("button.swap")}),Lo=n=>{var d,u,b,A;L.value=n,n==="fromCoin"?(X.value=((d=v.value)==null?void 0:d.address)||"",G.value=((u=l.value)==null?void 0:u.address)||""):(X.value=((b=l.value)==null?void 0:b.address)||"",G.value=((A=v.value)==null?void 0:A.address)||""),k.value=!0},He=c({}),Ze=c({}),Mo=n=>{L.value==="fromCoin"?(He.value=n,Je(n)):(Ze.value=n,Je(n))},jo=n=>{n==="fromCoin"?(f.value=!0,M.value==="Aptos"?t.value=ne.value>0?l.value.symbol=="APT"?new m(Number(ne.value)).sub(new m(.1)).lt(new m(0))?"0":new m(Number(ne.value)).sub(new m(.1)).toString():String(ne.value):"":t.value=ne.value>0?l.value.symbol=="SUI"?new m(Number(ne.value)).sub(new m(.05)).lt(new m(0))?"0":new m(Number(ne.value)).sub(new m(.05)).toString():String(ne.value):""):(f.value=!1,M.value==="Aptos"?r.value=se.value>0?v.value.symbol=="APT"?new m(Number(se.value)).sub(new m(.1)).lt(new m(0))?"0":new m(Number(se.value)).sub(new m(.1)).toString():String(se.value):"":r.value=se.value>0?v.value.symbol=="SUI"?new m(Number(se.value)).sub(new m(.05)).lt(new m(0))?"0":new m(Number(se.value)).sub(new m(.05)).toString():String(se.value):"")},Eo=n=>{n==="fromCoin"?(f.value=!0,t.value=ne.value>0?Y(new m(Number(ne.value)).div(2).toString(),l.value.decimals).toString():""):(f.value=!1,r.value=se.value>0?Y(new m(Number(se.value)).div(2).toString(),v.value.decimals).toString():"")};vn(()=>{lo()}),pn(()=>{clearInterval(ye.value)});const ze=w(()=>$),io=()=>{!N.value&&!Qe.value||(clearInterval(ye.value),_.setPoolConfigList(ze.value.chainName,ze.value.filterCoinsObj),h.value=0,S.value=!0,N.value&&_.updateCurrentPools(N.value.poolAddress,M.value),Se(f.value?t.value:r.value),oe.value.address&&Z.value.getAccount(oe.value.address),$.getStatsData(M.value,ze.value.filterCoinsObj),setTimeout(()=>{S.value=!1,lo()},1e3))},lo=()=>{ye.value=setInterval(()=>{S.value=!1,le.value||h.value<x.value&&(h.value+=1,h.value===x.value&&(M.value=="Aptos"?N.value&&N.value.poolAddress&&_.updateCurrentPools(N.value.poolAddress,M.value):W.value||io(),h.value=0,S.value=!0))},1e3)};K(f,Ee((n,d)=>{f.value=n},500));const we=c(!1);K(t,Ee((n,d)=>{n&&n!==0&&f.value&&Se(n),n==""&&f.value&&(r.value="")},500)),K(r,Ee((n,d)=>{n&&n!==0&&!f.value&&Se(n),n==""&&!f.value&&(t.value="")},500));const fe=c(1e-4),uo=async n=>{let d=n;if(M.value==="Aptos"&&!d.current_sqrt_price&&t.value&&r.value){const u=await Z.value.getPools([d.address]);u&&u[0]&&(d={...n,...u[0],fee:Number(u[0].fee_rate)/1e6})}if(d.current_sqrt_price&&t.value&&r.value){const b=(l.value.address===d.coinA.address&&v.value.address===d.coinB.address?0:1)==0,A=new m(t.value),B=new m(r.value),q=A.sub(A.mul(new m(d.fee))),z=B.div(q);return Z.value.getPriceImpactPct(d,z.toString(),b)}return"--"},ro=c(0),mo=c(0),qo=c(),Be=c({}),Wo=async n=>{if(N.value&&!(f.value&&Number(t.value)==0)&&!(!f.value&&Number(r.value)==0))if(l.value&&v.value&&(t.value||r.value)){I.value=!0,V.value=!0,ue.value=!1;const d=l.value.address===N.value.coinA.address&&v.value.address===N.value.coinB.address?0:1;try{let u=await Z.value.preSwap({pool:N.value,a2b:d==0,byAmountIn:f.value,amount:f.value?t.value:r.value});ue.value=u==null?void 0:u.isExceed,qo.value=u==null?void 0:u.estimatedFeeAmount,f.value?(r.value=u.estimatedAmountOut,Q.value?Fe.value=(n/Number(u.estimatedAmountOut)).toString():Oe.value=(Number(u.estimatedAmountOut)/n).toString()):(t.value=u.estimatedAmountIn,Q.value?Fe.value=(Number(u.estimatedAmountIn)/n).toString():Oe.value=(n/Number(u.estimatedAmountIn)).toString()),ro.value=new m(r.value).div(t.value).toString(),mo.value=new m(t.value).div(r.value).toString(),fe.value=M.value=="Aptos"?await uo(N.value):await uo(Be.value||N.value),I.value=!1,V.value=!1}catch{I.value=!1,V.value=!1}}else f.value?r.value="":t.value="",I.value=!1,V.value=!1},Xo=Fo(),oe=w(()=>Xo),Qo=c({}),Fe=c(""),Oe=c(""),ne=w(()=>oe.value.assets&&l.value&&oe.value.assets[l.value.address]?Ce(oe.value.assets[l.value.address].balance,l.value.decimals):0),se=w(()=>oe.value.assets&&v.value&&oe.value.assets[v.value.address]?Ce(oe.value.assets[v.value.address].balance,v.value.decimals):0);To(),K(()=>p.value.tokensObj,async n=>{if(!ge(n)){const d=e?e.currentRoute.value.query.to:"",u=e?e.currentRoute.value.query.from:"";u?l.value=await Z.value.getTokenBySymbol(n,u):!u&&!l.value&&(l.value=await Z.value.getTokenBySymbol(n,$.chainName==="Aptos"?"0x5e156f1207d0ebfa19a9eeff00d62a282278fb8719f4fab3a586a0a2c0fffbea::coin::T":"0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN")),d?v.value=await Z.value.getTokenBySymbol(n,d):!d&&!v.value&&(v.value=await Z.value.getTokenBySymbol(n,$.chainName==="Aptos"?"0x1::aptos_coin::AptosCoin":"0x2::sui::SUI")),!u&&d&&(l.value="")}},{immediate:!0});const N=w(()=>{var n,d,u,b,A;if(l.value&&v.value){let B=null,q={};if(Object.values(p.value.poolConfigList).forEach(F=>{var j,ee,te,Me;(F.coinA.address.toUpperCase()===((j=l.value.address)==null?void 0:j.toUpperCase())&&F.coinB.address.toUpperCase()===((ee=v.value.address)==null?void 0:ee.toUpperCase())||F.coinB.address.toUpperCase()===((te=l.value.address)==null?void 0:te.toUpperCase())&&F.coinA.address.toUpperCase()===((Me=v.value.address)==null?void 0:Me.toUpperCase()))&&(q[F.address]={...F})}),M.value=="Aptos"&&p.value.poolsObj&&!ge(p.value.poolsObj))for(const F in p.value.poolsObj){const j=p.value.poolsObj[F];(j.token_a.address.toUpperCase()===((n=l.value.address)==null?void 0:n.toUpperCase())&&j.token_b.address.toUpperCase()===((d=v.value.address)==null?void 0:d.toUpperCase())||j.token_b.address.toUpperCase()===((u=l.value.address)==null?void 0:u.toUpperCase())&&j.token_a.address.toUpperCase()===((b=v.value.address)==null?void 0:b.toUpperCase()))&&(q[j.address]={...j})}const z=Object.values(q).sort((F,j)=>F.fee-j.fee);for(let F=0;F<z.length;F++)if(!((A=z[F])!=null&&A.is_pause)){B=z[F];break}return B=Object.values(q).sort((F,j)=>F.fee-j.fee)[0],B&&!ge(B)?B:null}return null}),co=c(!0),vo=c(!1),Ho=async n=>{n&&M.value=="Aptos"&&(Se(f.value?t.value:r.value),vo.value=!0,n.coinA.symbol.toLowerCase()===l.value.symbol.toLowerCase()&&n.coinB.symbol.toLowerCase()===v.value.symbol.toLowerCase()?co.value=!0:co.value=!1,ue.value=!1)};K(()=>N.value,(n,d)=>{n&&(!d||n.address!==d.address||n.current_sqrt_price!==d.current_sqrt_price)&&Ho(n)},{immediate:!0,deep:!0});const Zo=w(()=>p.value.tokensObj&&l.value&&l.value.address&&p.value.tokensObj[l.value.address]&&p.value.tokensObj[l.value.address].logoURI),zo=w(()=>p.value.tokensObj&&v.value&&v.value.address&&p.value.tokensObj[v.value.address]&&p.value.tokensObj[v.value.address].logoURI),Jo=w(()=>p.value.tokensObj&&l.value&&l.value.address&&p.value.tokensObj[l.value.address]&&p.value.tokensObj[l.value.address].coingecko_id||null),Ko=w(()=>p.value.tokensObj&&v.value&&v.value.address&&p.value.tokensObj[v.value.address]&&p.value.tokensObj[v.value.address].coingecko_id||null),Yo=w(()=>{var b,A;const n=new m(t.value),d=new m(M.value=="Aptos"?(b=N==null?void 0:N.value)==null?void 0:b.fee:(A=Be==null?void 0:Be.value)==null?void 0:A.fee),u=n.mul(d).toString();return Number(u)<1/Math.pow(10,l.value.decimals)?`<${new m(1).div(new m(Math.pow(10,l.value.decimals))).toString()}`:Y(u,l.value.decimals)}),{setIsShowSuccess:Go,setIsShowRejected:po,setIsShowWaiting:De,setTransactionDesc:Vo,setTransactionTxid:fo}=$,xo=async()=>{var d,u,b,A,B,q,z,F;W.value=!1,I.value=!0,clearInterval(_e),window.clearInterval(_e),fo(""),Vo(y("tips.swapping",{from:`${t.value} ${(d=l.value)==null?void 0:d.symbol}`,to:`${r.value} ${(u=v.value)==null?void 0:u.symbol}`})),De(!0);let n;M.value=="Aptos"&&(n=l.value.address===N.value.token_a.address&&v.value.address===N.value.token_b.address?0:1);try{let j;M.value=="Aptos"?j=await Z.value.getSwapTransactionPayload({pool:N.value,a2b:n==0,byAmountIn:f.value,amount:f.value?t.value:r.value,slippage:Number(pe.value)/100}):j=await Ve.value.swapRouterContract.getSwapRouterPayload(f.value,Le.value.createTxParams);let ee;if(M.value==="Aptos")ee=await oe.value.currentWallet.signAndSubmitTransaction(j);else{const te=await oe.value.currentWallet.signAndExecuteTransactionBlock(j);ee=Z.value.handleTx(te)}if(ee&&ee.hash){fo(ee.hash),De(!1),Go(!0);const te={title:y("tips.swap"),desc:y("tips.swapSuccessText",{from:`${t.value} ${(b=l.value)==null?void 0:b.symbol}`,to:`${r.value} ${(A=v.value)==null?void 0:A.symbol}`}),hash:ee.hash,tit:"Swap",icon:"icon-icon-swap1",tokenInfo:{tokena:`${(B=l.value)==null?void 0:B.address}`,numa:`- ${t.value}`,logoa:p.value.tokensObj&&l.value&&l.value.address&&p.value.tokensObj[l.value.address]&&p.value.tokensObj[l.value.address].logoURI,tokenb:`${(q=v.value)==null?void 0:q.address}`,numb:`+ ${r.value}`,logob:p.value.tokensObj&&v.value&&v.value.address&&p.value.tokensObj[v.value.address]&&p.value.tokensObj[v.value.address].logoURI},text:`Pay ${t.value} ${(z=l.value)==null?void 0:z.symbol} to receive ${r.value} ${(F=v.value)==null?void 0:F.symbol}`};M.value!=="Aptos"&&(te.res=ee.res),Z.value.showTransitionPending(te),await Z.value.watchTransaction(te)&&setTimeout(()=>{M.value=="Aptos"&&_.updateCurrentPools(N.value.poolAddress,M.value),Z.value.getAccount(oe.value.address)},1e3)}else De(!1),po(!0);t.value="",r.value="",I.value=!1}catch{t.value="",r.value="",I.value=!1,De(!1),po(!0)}},en=n=>{var d;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((d=p.value.tokensObj[n==null?void 0:n.address])==null?void 0:d.logo_url)||($.theme==="default"?ie("/image/coins/unknown.png"):ie("/image/coins/sui-unknown.png"))},Co=c([]);K(()=>[l.value,v.value,p.value.poolConfigList],([n,d,u])=>{if(u&&u.length>0&&n&&d){const b=[];u.forEach(A=>{var B,q,z,F;(A.coinA.address.toUpperCase()===((B=n.address)==null?void 0:B.toUpperCase())&&A.coinB.address.toUpperCase()===((q=d.address)==null?void 0:q.toUpperCase())||A.coinB.address.toUpperCase()===((z=n.address)==null?void 0:z.toUpperCase())&&A.coinA.address.toUpperCase()===((F=d.address)==null?void 0:F.toUpperCase()))&&(A!=null&&A.is_pause||b.push(A.address))}),Co.value=b}},{immediate:!0});const Je=n=>{const d=localStorage.getItem(n.address);p.value.tokensObj&&p.value.tokensObj[n.address]&&p.value.tokensObj[n.address].isSelfBuilt&&!d?Ke.value=!0:(L.value==="fromCoin"?(t.value="",v.value&&n.address.toLowerCase()===(v==null?void 0:v.value.address.toLowerCase())&&(v.value=null),l.value=n):(l.value&&(r.value="",n.address.toLowerCase()===(l==null?void 0:l.value.address.toLowerCase())&&(l.value=null)),v.value=n),ho())},Ke=c(!1),ho=()=>{Ze.value={},He.value={},Ke.value=!1},on=w(()=>$.isShowRouterModal),Ye=c([]),Ge=c(""),nn=c(!1),go=gn(),Ve=w(()=>go),Pe=c(!1),Le=c({}),xe=c(""),bo=n=>{if(n&&n.paths&&n.paths.length>0){const d=n.paths[0];if(n.coinTypeA&&n.coinTypeB&&n.coinTypeC){const u=p.value.poolConfigObj[d.poolAddress[0]],b=p.value.poolConfigObj[d.poolAddress[1]],A=Ce(n.paths[0].amountIn.toString(),l.value.decimals)*u.fee;let B,q=b.token_a.address==v.value.address?b.token_b.decimals:b.token_a.decimals;f.value?B=Ce(d.rawAmountLimit[0].toString(),q)*b.fee:B=Ce(d.rawAmountLimit[1].toString(),q)*b.fee;let z;u.token_a.address==l.value.address?z=!1:z=!0;let F;z?F=Z.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],u.token_a.decimals,u.token_b.decimals).toString():F=1/Z.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],u.token_a.decimals,u.token_b.decimals).toString();const j=A+B*F;u.fee*100+"",xe.value=j>0&&j<1e-6?`<0.000001 ${l.value.symbol}`:D(Y(j,l.value.decimals))+` ${l.value.symbol}`}else{const u=p.value.poolConfigObj[d.poolAddress[0]],b=Ce(n.paths[0].amountIn.toString(),l.value.decimals)*u.fee;xe.value=b>0&&b<1e-6?`<0.000001 ${l.value.symbol} (${u.fee*100}%)`:D(Y(b,l.value.decimals))+` ${l.value.symbol} (${u.fee*100}%)`}}},yo=async n=>{if(fe.value=1e-5,n&&n.paths&&n.paths.length>0){const d=n.paths[0];if(n.coinTypeA&&n.coinTypeB&&n.coinTypeC&&n.coinTypeA==l.value.address&&n.coinTypeC==v.value.address){const u=p.value.poolConfigObj[d.poolAddress[0]],b=Z.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],u.coinA.decimals,u.coinB.decimals).toNumber(),A=p.value.poolConfigObj[d.poolAddress[1]],B=Z.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[1],A.coinA.decimals,A.coinB.decimals).toNumber();let q,z;u.token_a.address==l.value.address?q=!0:q=!1,A.token_b.address==v.value.address?z=!0:z=!1,new m(t.value).div(r.value).toNumber();const F=new m(r.value).div(t.value).toNumber();let j;const ee=q?new m(b):new m(1).div(new m(b)),te=z?new m(B):new m(1).div(new m(B));j=new m(ee.mul(te)).sub(F).div(new m(ee.mul(te))).mul(new m(100)).toNumber(),j>100&&(fe.value=100),fe.value=Number(me(Math.abs(j),2))}else if(n&&n.currentSqrtPrice&&n.currentSqrtPrice.length==1&&d&&!ge(d)){const u=p.value.poolConfigObj[d.poolAddress[0]],b=Z.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],u.coinA.decimals,u.coinB.decimals).toNumber();let A;u.token_a.address==l.value.address?A=!0:A=!1;const B=A?new m(b):new m(1).div(new m(b)),q=new m(r.value).div(t.value).toNumber(),F=new m(B).sub(q).div(new m(B)).mul(new m(100)).toNumber();F>100&&(fe.value=100),fe.value=Number(me(Math.abs(F),2))}}},wo=async n=>{if(l.value&&v.value&&(Number(t.value)>0||Number(r.value)>0)){(!t.value&&r.value||t.value&&!r.value)&&(I.value=!0),we.value=!0,Pe.value=!1;let d;N.value&&(d=l.value.address===N.value.coinA.address&&v.value.address===N.value.coinB.address?0:1);try{let u;if(f.value){const q=new m(t.value).mul(Math.pow(10,l.value.decimals)).toString();u=new je(q)}else{const q=new m(r.value).mul(Math.pow(10,v.value.decimals)).toString();u=new je(q)}const b=Number(pe.value)/100,A=N.value?{poolAddresses:Co.value,coinTypeA:N.value.coin_a_address,coinTypeB:N.value.coin_b_address,decimalsA:N.value.coinA.decimals,decimalsB:N.value.coinB.decimals,a2b:d==0,byAmountIn:f.value,amount:f.value?t.value:r.value}:"",B=await Ve.value.swapRouterContract.getSwapRouter(l,v,u,f.value,b,"",N.value?A:"");B?(Le.value=B,Ye.value=B.paths,ue.value=B.isExceed,Ge.value=B.amountIn,bo(B),f.value?t.value&&(r.value=B.amountOut):r.value&&(t.value=B.amountIn),Fe.value=D(he(new m(t.value).div(new m(r.value).toString()),l.value.decimals)),Oe.value=D(he(new m(r.value).div(t.value).toString(),v.value.decimals)),yo(B),I.value=!1,Pe.value=!1,we.value=!1):(I.value=!1,Pe.value=!0,we.value=!1)}catch{I.value=!1,we.value=!1}}else f.value?r.value="":t.value="",I.value=!1,we.value=!1},Ue=c(!1),So=async n=>{try{let d;if(f.value){const A=new m(t.value).mul(Math.pow(10,l.value.decimals)).toString();d=new je(A)}else{const A=new m(r.value).mul(Math.pow(10,v.value.decimals)).toString();d=new je(A)}const u=Number(pe.value)/100,b=await Ve.value.swapRouterContract.getSwapRouter(l,v,d,f.value,u,"");b&&(Le.value=b,Ye.value=b.paths,ue.value=b.isExceed,Ge.value=b.amountIn,bo(b),Fe.value=D(he(new m(t.value).div(new m(r.value).toString()),l.value.decimals)),Oe.value=D(he(new m(r.value).div(t.value).toString(),v.value.decimals)),yo(b),f.value?r.value!==b.amountOut&&(Ue.value=!0,r.value=b.amountOut):t.value!==b.amountIn&&(Ue.value=!0,t.value=b.amountIn))}catch{}};let _e=c(null);K(()=>W.value,n=>{n?_e.value=setInterval(()=>{So(f.value)},3e3):(clearInterval(_e.value),window.clearInterval(_e.value))},{immediate:!0});const Se=async n=>{M.value=="Aptos"?Wo(n):wo()},an=w(()=>go),sn=w(()=>an.value.isInitRouter);K(()=>sn.value,n=>{n||Se(f.value?t.value:r.value)},{immediate:!0}),K(()=>[l.value,v.value],([n,d])=>{if(n&&d&&Se(f.value?t.value:r.value),n||d){const u=`/swap?from=${n==null?void 0:n.address}&to=${d==null?void 0:d.address}`;e.push(u)}},{immediate:!0});function tn(n,d=500){let u=null;return function(...b){clearTimeout(u),u=setTimeout(()=>{n.call(this,...b)},d)}}const ln=tn(Ao);function Ao(){const n=l.value;l.value=v.value,v.value=n,O.value=!0,f.value=!f.value,f.value?(t.value=r.value,r.value=""):(r.value=t.value,t.value=""),setTimeout(()=>{O.value=!1},300)}return{closeSwapConfirmModal:()=>{W.value=!1,Ue.value=!1},updateAccept:()=>{Ue.value=!1},clickExchange:Ao,debounceClickExchange:ln,closeTokenWarning:ho,isShowTokenWarning:Ke,getTokenSource:Je,hasPool:vo,getPoolInfoSuccess:to,halfBtnSelect:Eo,formCoinId:Jo,toCoinId:Ko,fromCoinUrl:Zo,toCoinUrl:zo,t:y,indicator:i,wallet:oe,currentLpInfo:Qo,fixD:me,decimalFormat:eo,impact:fe,oneFromAmount:Fe,oneToAmount:Oe,importIcon:ie,clickRefresh:io,refresh:S,change:O,isShowAddress:P,isShowSwapSetting:U,fromCoin:l,toCoin:v,slippage:pe,openCoinSelect:Lo,onCoinSelect:Mo,existingCoins:X,lastSelectCoin:G,currentCoinKey:L,showCoinSelect:k,fromCoinAmount:t,toCoinAmount:r,maxBtnSelect:jo,fixedFromCoin:f,swapBtnText:Do,toSwap:xo,loading:le,swaping:I,autoRefreshTime:x,countdown:h,marketTimer:ye,rateChange:Q,isSwapConfirmMpdal:W,fromCoinBlance:ne,toCoinBlance:se,poolInfo:N,chainName:M,swapRouterLoading:we,formatFee:Yo,calculating:V,currentRate:ro,currentRateReverse:mo,getCoinIcon:en,toAddLiquidiPoolInfo:Be,decimalUi:he,warningToCoin:Ze,warningFromCoin:He,isShowRouterModal:on,toSwapLoading:nn,insufficientLiquidity:ue,routerPool:Ye,routerTotalAmounts:Ge,store:$,suiPreSwapdata:Le,suiSwapFee:xe,addCommom:D,debounce:Ee,notFoundRouter:Pe,getSuiAmountAccept:So,isShowAccept:Ue,getSuiAmount:wo}}}),At="data:image/png;base64,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";const ve=e=>(Te("data-v-02260cad"),e=e(),Ne(),e),kt={class:"swap-container"},$t={class:"title"},It={class:"left"},Tt={class:"right title-right"},Nt=ve(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Bt={class:"swap-card"},Ft={class:"card-container"},Ot={class:"card-item"},Pt={class:"card-item"},Ut=ve(()=>o("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),_t=[Ut],Rt={key:1,class:"induction"},Dt={key:0,class:"exchange-rate-btn"},Lt={key:0},Mt={key:0},jt={key:0},Et={key:1},qt={key:0},Wt=ve(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Xt=[Wt],Qt={class:"item"},Ht={class:"induction-text"},Zt={key:0,class:"icon","aria-hidden":"true"},zt=ve(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Jt=[zt],Kt={class:"item"},Yt={class:"induction-text"},Gt={key:0,class:"induction-value"},Vt={class:"item"},xt={class:"induction-text"},ei={key:0,class:"induction-value"},oi={key:0,class:"icon","aria-hidden":"true"},ni=ve(()=>o("use",{"xlink:href":"#icon-icon-swap"},null,-1)),ai=[ni],si={key:3,class:"token-info-container"},ti={class:"token-info-title"},ii=ve(()=>o("span",{class:"coingecko"},"Ref. CoinGecko",-1)),li=ve(()=>o("img",{src:At,alt:""},null,-1)),ui=ve(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-information"})],-1));function ri(e,i,y,g,$,_){var r,x;const p=un,O=dn,S=xn,P=Uo,U=_o,Q=so,W=Cn,L=mn,X=hn,G=Ra,k=fn,f=ts,le=rn,I=Ns,V=wt,t=Ie("image");return s(),C("div",kt,[o("div",$t,[o("div",It,a(e.$t("menu.swap")),1),o("div",Tt,[o("div",{class:"slippage-icon",onClick:i[0]||(i[0]=h=>e.isShowSwapSetting=!0)},[Nt,o("span",null,a(e.slippage)+"%",1)]),de(p,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),o("div",Bt,[o("div",Ft,[o("div",Ot,[de(O,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":i[1]||(i[1]=h=>e.fromCoinAmount=h),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logo_url:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:i[2]||(i[2]=h=>e.maxBtnSelect("fromCoin")),onOnHalf:i[3]||(i[3]=h=>e.halfBtnSelect("fromCoin")),onOnInput:i[4]||(i[4]=h=>{e.fromCoinAmount=h,e.fixedFromCoin=!0}),onOnSelect:i[5]||(i[5]=h=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("div",Pt,[de(O,{modelValue:e.toCoinAmount,"onUpdate:modelValue":i[6]||(i[6]=h=>e.toCoinAmount=h),"input-value":e.toCoinAmount,havemax:!1,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logo_url:"",address:e.toCoin?e.toCoin.address:"",onOnInput:i[7]||(i[7]=h=>{e.toCoinAmount=h,e.fixedFromCoin=!1}),onOnSelect:i[8]||(i[8]=h=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("img",{class:re(e.change?"gang animationex":"gang"),src:bn,alt:""},null,2),o("div",{class:re(["exchange",e.chainName=="Sui"?"sui-exchange":""]),onClick:i[9]||(i[9]=(...h)=>e.debounceClickExchange&&e.debounceClickExchange(...h))},[(s(),C("svg",{class:re(e.change?"icon animationex":"icon"),"aria-hidden":"true"},_t,2))],2)]),e.chainName=="Sui"&&!e.notFoundRouter?(s(),E(S,{key:0,"swap-loading":e.swaping,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"router-pool":e.routerPool,impact:e.impact,"insufficient-liquidity":e.insufficientLiquidity,"one-to-amount":e.oneToAmount,"one-from-amount":e.oneFromAmount,"sui-pre-swapdata":e.suiPreSwapdata,"sui-swap-fee":e.suiSwapFee,"swap-router-loading":e.swapRouterLoading},null,8,["swap-loading","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","router-pool","impact","insufficient-liquidity","one-to-amount","one-from-amount","sui-pre-swapdata","sui-swap-fee","swap-router-loading"])):e.poolInfo&&e.fromCoinAmount&&e.toCoinAmount&&e.fromCoinAmount!=="0"&&e.toCoinAmount!=="0"&&e.swapBtnText!==e.$t("button.poolNotFound")?(s(),C("div",Rt,[Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(s(),C("div",Dt,[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(s(),C("span",Et,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(s(),C("span",qt,[H(o("img",null,null,512),[[t,e.toCoinUrl||e.getCoinIcon(e.toCoin)]]),J(" 1 "+a(e.toCoin.symbol)+" ≈ ",1),H(o("img",null,null,512),[[t,e.fromCoinUrl||e.getCoinIcon(e.fromCoin)]]),o("span",null,a(("addCommom"in e?e.addCommom:R(D))(("decimalUi"in e?e.decimalUi:R(he))(e.currentRateReverse,e.fromCoin.decimals),e.fromCoin.decimals)),1),J("  "+a(e.fromCoin.symbol),1)])):(s(),E(P,{key:1,indicator:e.indicator},null,8,["indicator"]))])):T("",!0):(s(),C("span",Lt,[H(o("img",null,null,512),[[t,e.fromCoinUrl||e.getCoinIcon(e.fromCoin)]]),J(" 1 "+a(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(s(),C("span",Mt,[H(o("img",null,null,512),[[t,e.toCoinUrl||e.getCoinIcon(e.toCoin)]]),e.calculating?T("",!0):(s(),C("span",jt,a(("addCommom"in e?e.addCommom:R(D))(("decimalUi"in e?e.decimalUi:R(he))(e.currentRate,e.toCoin.decimals))),1)),e.calculating?(s(),E(P,{key:1,indicator:e.indicator},null,8,["indicator"])):T("",!0),J("  "+a(e.toCoin.symbol),1)])):(s(),E(P,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(s(),C("svg",{class:"icon-change","aria-hidden":"true",onClick:i[10]||(i[10]=h=>e.rateChange=!e.rateChange)},Xt))])):T("",!0),Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(s(),C(oo,{key:1},[o("div",Qt,[o("div",Ht,a(e.$t("common.priceImpact")),1),e.swaping?(s(),E(U,{key:1,paragraph:!1,active:""})):(s(),C("div",{key:0,class:re(["induction-value",Number(e.impact)<1?"impact-s":Number(e.impact)<10&&Number(e.impact)>1?"impact-w":"impact-e"])},[J(a(Number(e.impact)<.01?"<0.01":Number(e.impact)>100?"100":e.impact)+"% ",1),e.impact>=10?(s(),C("svg",Zt,Jt)):T("",!0)],2))]),o("div",Kt,[o("div",Yt,a(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swaping?(s(),E(U,{key:1,paragraph:!1,active:""})):(s(),C("div",Gt,a(e.fixedFromCoin?("addCommom"in e?e.addCommom:R(D))(("fixD"in e?e.fixD:R(me))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals),e.toCoin.decimals):("addCommom"in e?e.addCommom:R(D))(("fixD"in e?e.fixD:R(me))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals),e.fromCoin.decimals))+" "+a(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",Vt,[o("div",xt,a(e.$t("common.fee")),1),e.swaping?(s(),E(U,{key:1,paragraph:!1,active:""})):(s(),C("div",ei,a(("addCommom"in e?e.addCommom:R(D))(e.formatFee,e.fromCoin.decimals))+" "+a(e.fromCoin.symbol)+" ("+a(e.chainName=="Aptos"?e.poolInfo.fee*100:((r=e.toAddLiquidiPoolInfo)==null?void 0:r.fee)*100)+"%) ",1))])],64)):T("",!0)])):T("",!0)]),de(Q,{disabled:e.wallet.connected?e.swaping||!e.fromCoin||!e.toCoin||!Number(e.fromCoinAmount)||!Number(e.toCoinAmount)||Number(e.fromCoinAmount)>Number(e.fromCoinBlance)||e.swapBtnText==e.$t("button.poolNotFound")||e.swapBtnText!==e.$t("button.swap")||((x=e.poolInfo)==null?void 0:x.is_pause)||e.swapRouterLoading:!1,class:"big-btn",loading:e.chainName=="Aptos"?e.swaping:!1,onClick:i[11]||(i[11]=h=>e.wallet.connected?e.isSwapConfirmMpdal=!0:e.wallet.setIsShowWalletModal(!0))},{default:ae(()=>[e.wallet.connected?(s(),C("svg",oi,ai)):T("",!0),o("span",null,a(e.wallet.connected?e.swapBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),de(W),e.showCoinSelect?(s(),E(L,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:i[12]||(i[12]=h=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):T("",!0),e.isShowSwapSetting?(s(),E(X,{key:1,onOnClose:i[13]||(i[13]=h=>e.isShowSwapSetting=!1)})):T("",!0),e.isSwapConfirmMpdal&&e.chainName=="Aptos"?(s(),E(G,{key:2,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,impact:e.impact,fee:e.chainName=="Aptos"?e.poolInfo.fee:e.suiSwapFee,"format-fee":e.chainName=="Aptos"?e.formatFee:e.suiSwapFee,onOnClose:i[14]||(i[14]=h=>e.isSwapConfirmMpdal=!1),onToSwap:e.toSwap},null,8,["fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","impact","fee","format-fee","onToSwap"])):T("",!0),e.chainName&&(e.formCoinId||e.toCoinId)?(s(),C("div",si,[o("div",ti,[ii,li,de(k,{placement:"top","arrow-point-at-center":""},{title:ae(()=>[J(" The following price is only an external reference from CoinGecko, which may not reflect actual data on Cetus. ")]),default:ae(()=>[ui]),_:1})]),e.fromCoin&&e.formCoinId?(s(),E(f,{key:0,id:e.formCoinId,coin:e.fromCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):T("",!0),e.toCoin&&e.toCoinId?(s(),E(f,{key:1,id:e.toCoinId,coin:e.toCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):T("",!0)])):T("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(s(),E(le,{key:4,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:e.getTokenSource},null,8,["from-coin","to-coin","onClose","onClickContinue"])):T("",!0),e.isShowRouterModal?(s(),E(I,{key:5,"router-pool":e.routerPool,"routertotal-percents":e.routertotalPercents,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"router-total-amounts":e.routerTotalAmounts,onOnClose:i[15]||(i[15]=h=>e.store.setIsShowRouterModal(!1))},null,8,["router-pool","routertotal-percents","from-coin","to-coin","from-coin-amount","to-coin-amount","router-total-amounts"])):T("",!0),e.isSwapConfirmMpdal&&e.chainName=="Sui"?(s(),E(V,{key:6,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,slippage:e.slippage,impact:e.impact,"fixed-from-coin":e.fixedFromCoin,fee:e.suiSwapFee,"format-fee":e.suiSwapFee,"is-show-accept":e.isShowAccept,"swap-loading":e.swapRouterLoading,"one-from-amount":e.oneFromAmount,"one-to-amount":e.oneToAmount,onOnClose:e.closeSwapConfirmModal,onToSwap:e.toSwap,onAccept:e.updateAccept},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","slippage","impact","fixed-from-coin","fee","format-fee","is-show-accept","swap-loading","one-from-amount","one-to-amount","onOnClose","onToSwap","onAccept"])):T("",!0)])}const Fi=$e(St,[["render",ri],["__scopeId","data-v-02260cad"]]);export{Fi as default};
