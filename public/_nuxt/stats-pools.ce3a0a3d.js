import{_ as Ss}from"./back.3cdf7518.js";import{_ as Bs}from"./apr-tips.3bfc850b.js";import{a as Os,F as js,v as m,s as Us,G as Es,r as t,x as Fs,w as us,H as Ws,i as qs,Y as M,k as Gs,a0 as ds,b as Ms,o as v,e as i,f as a,l as Y,y as L,t as c,q,a1 as x,a2 as ss,h as N,aB as Ys,m as is,p as zs,j as Js,B as Ks}from"./entry.ac7bafb5.js";import{_ as _s}from"./icon_on_stats.b61a8e0c.js";import{p as Qs}from"./precision.1cd464a0.js";const Xs=Os({setup(){const o=js(),r=m(()=>o),vs=m(()=>r.value.newTokenObj||{}),es=Us(),z=m(()=>es),S=Es();let os=t("big");const g=t(1),T=t(1);let b=t(!1);const e=()=>{es.getStatsData()};Fs(()=>{es.getStatsData();const s=document.body.clientWidth;s<750?b.value=!1:b.value=!0,window.onresize=()=>{s<750?b.value=!1:b.value=!0},b.value,Q(g.value,10),X(T.value,10)});let p=t([]);const h=m(()=>z.value.topPoolsList),f=s=>(l,d)=>{let _=l[s],n=d[s];return _-n},u=s=>(l,d)=>{let _=l[s];return d[s]-_},y=t(!1),w=t(!1),P=t(!1),H=t(!1),C=t(!0),B=t(!1),O=t(!1),j=t(!1),V=t(!1),$=t(!1),A=t(!1),I=t(!1),U=t(!1),E=t(!1),F=t(!1),D=t(!0),J=t(!1),ls=t("TVL"),as=t(["Volume (24H)","Volume (7D)","APR"]),K=t(!1),ns=t("TVL"),rs=t(["Price","Volume (24H)","Price Change"]),cs=s=>{const l=h;if(s=="tvl_in_usd"?(C.value?(y.value=!y.value,l.value.sort(y.value?f(s):u(s))):l.value.sort(u(s)),w.value=!1,P.value=!1,H.value=!1,C.value=!0,B.value=!1,O.value=!1,j.value=!1):s=="vol_in_usd_24h"?(B.value?(w.value=!w.value,l.value.sort(w.value?f(s):u(s))):l.value.sort(u(s)),y.value=!1,P.value=!1,H.value=!1,C.value=!1,B.value=!0,O.value=!1,j.value=!1):s=="vol_in_usd_7_day"?(O.value?(P.value=!P.value,l.value.sort(P.value?f(s):u(s))):l.value.sort(u(s)),y.value=!1,w.value=!1,H.value=!1,C.value=!1,B.value=!1,O.value=!0,j.value=!1):s=="aprNum"&&(j.value?(H.value=!H.value,l.value.sort(H.value?f(s):u(s))):l.value.sort(u(s)),y.value=!1,w.value=!1,P.value=!1,C.value=!1,B.value=!1,O.value=!1,j.value=!0),l.value.length<10)p.value=l.value.slice(0,10);else{const d=g.value*10;p.value=l.value.slice(d-10,d)}},ps=s=>{const l=G;if(s=="price"?(U.value?(V.value=!V.value,l.value.sort(V.value?f(s):u(s))):l.value.sort(u(s)),$.value=!1,A.value=!1,I.value=!1,U.value=!0,E.value=!1,F.value=!1,D.value=!1):s=="vol_in_usd_24h"?(F.value?(A.value=!A.value,l.value.sort(A.value?f(s):u(s))):l.value.sort(u(s)),V.value=!1,$.value=!1,I.value=!1,U.value=!1,E.value=!1,F.value=!0,D.value=!1):s=="tvl_in_usd"?(D.value?(I.value=!I.value,l.value.sort(I.value?f(s):u(s))):l.value.sort(u(s)),V.value=!1,$.value=!1,A.value=!1,U.value=!1,E.value=!1,F.value=!1,D.value=!0):s=="priceHour"&&(E.value?($.value=!$.value,l.value.sort($.value?f(s):u(s))):l.value.sort(u(s)),V.value=!1,A.value=!1,I.value=!1,U.value=!1,E.value=!0,F.value=!1,D.value=!1),l.value.length<10)R.value=l.value.slice(0,10);else{const d=T.value*10;R.value=l.value.slice(d-10,d)}},hs=s=>{s=="label"?(K.value=!K.value,J.value=!1):s=="select"?(J.value=!J.value,K.value=!1):(J.value=!1,K.value=!1)},fs=s=>{const l=[];l.push(ls.value),as.value.forEach((d,_)=>{d!=s&&l.push(d)}),as.value=l,ls.value=s,s=="TVL"?p.value.sort(u("tvl_in_usd")):s=="Volume (24H)"?p.value.sort(u("vol_in_usd_24h")):s=="Volume (7D)"?p.value.sort(u("vol_in_usd_7_day")):s=="APR"&&p.value.sort(u("aprNum"))},ks=s=>{const l=[];l.push(ns.value),rs.value.forEach((d,_)=>{d!=s&&l.push(d)}),rs.value=l,ns.value=s,s=="TVL"?R.value.sort(u("tvl_in_usd")):s=="Volume (24H)"?R.value.sort(u("vol_in_usd_24h")):s=="Price"?R.value.sort(u("price")):s=="Price Change"&&R.value.sort(u("priceHour"))};us(h,()=>{b.value,Q(g.value,10)});const Q=(s,l)=>{g.value=s;const d=l*s-l;let _=l*s;_=_>h.value.length?h.value.length:_;const n=h.value;if(n.length>0){C.value&&!y.value?n.sort(gs):C.value&&y.value?n.sort(ys):B.value?w.value?n.sort(Is):n.sort(Ts):O.value?P.value?n.sort(ws):n.sort(bs):j.value&&(H.value?n.sort(Ps):n.sort(Ls));const W=n.filter((ts,Z)=>Z>=d&&Z<_);p.value=W}return n},gs=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Ts=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,bs=(s,l)=>l.vol_in_usd_7_day-s.vol_in_usd_7_day,Ls=(s,l)=>l.aprNum-s.aprNum,ys=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Is=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,ws=(s,l)=>s.vol_in_usd_7_day-l.vol_in_usd_7_day,Ps=(s,l)=>s.aprNum-l.aprNum;let R=t([]);const G=m(()=>{const s=z.value.topTokensList,l=[];for(let d=0;d<s.length;d++){const _=s[d];l.push({..._,priceHour:_?Number(_.price_rate_24h.substring(0,_.price_rate_24h.length-1)):"0"})}return l});us(G,()=>{b.value,X(T.value,10)});const X=(s,l)=>{T.value=s;const d=l*s-l;let _=l*s;_=_>G.value.length?G.value.length:_;const n=G.value;if(n.length>0){D.value&&!I.value?n.sort(Hs):D.value&&I.value?n.sort(As):U.value?V.value?n.sort(Ds):n.sort(Cs):E.value?$.value?n.sort(Rs):n.sort(Vs):F.value&&(A.value?n.sort(Ns):n.sort($s));const W=n.filter((ts,Z)=>Z>=d&&Z<_);R.value=W}return n},Hs=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Cs=(s,l)=>l.price-s.price,Vs=(s,l)=>l.priceHour-s.priceHour,$s=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,As=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Ds=(s,l)=>s.price-l.price,Rs=(s,l)=>s.priceHour-l.priceHour,Ns=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h;return us(()=>z.value.chainName,s=>{s=="Sui"&&S.push("/swap")},{immediate:!0}),{getRewarderInfo:s=>{const l=s.swap_account;return r.value.addressLpTokens&&r.value.addressLpTokens[l]&&r.value.addressLpTokens[l].rewarder_infos},addCommom:Ws,store:z,importIcon:qs,topPoolsList:h,addressTokens:vs,showEcharts:os,currentPools:g,onChangePools:Q,currentTopPoolsList:p,onChangeTokens:X,currentTokens:T,currentTopTokensList:R,topTokensList:G,router:S,isPc:b,getAprTotal:(s,l)=>s&&l?Gs(Qs.plus(ds(s),ds(l)),2)+"%":s,getRewarderApr:s=>{let l=0;return s&&s.forEach(d=>{l+=ds(String(d))}),String(l)},toPoolsList:()=>{S&&S.push("/stats-pools")},toTokensList:()=>{S&&S.push("/stats-tokens")},changePoolsList:cs,changeTokensList:ps,tvlImprint:y,volHImprint:w,volDImprint:P,aprImprint:H,tokensPriceImprint:V,tokensPriceHImprint:$,tokensVolHImprint:A,tokensTvlImprint:I,labelToken:K,select:J,selectValue:ls,selectList:as,reviseValue:hs,changeSort:fs,tokenValue:ns,tokensList:rs,changeSortLabel:ks,tvlImprintHighlight:C,volHImprintHighlight:B,volDImprintHighlight:O,aprImprintHighlight:j,tokensPriceImprintHighlight:U,tokensPriceHImprintHighlight:E,tokensVolHImprintHighlight:F,tokensTvlImprintHighlight:D,getLabel:s=>{const l=s.swap_account;return r.value.addressLpTokens&&r.value.addressLpTokens[l]&&r.value.addressLpTokens[l].labels},rewardApr:s=>{if(!M(s)&&!M(r.value.addressLpTokens)&&!M(r.value.newTokenObj)){const l=s.swap_account;let _=r.value.addressLpTokens[l].rewarder_infos||[];const n=[];return _.forEach((W,ts)=>{n.push({...W,symbol:r.value.newTokenObj[W.coinAddress].symbol,rewarderApr:s.rewarder_apr[ts],logoUrl:r.value.newTokenObj[W.coinAddress].logoURI})}),n}},getsad:e,rewardDisplay:s=>{if(!M(s)&&!M(r.value.addressLpTokens)&&!M(r.value.newTokenObj)){const l=r.value.addressLpTokens[s.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1}}}});const k=o=>(zs("data-v-ac9b4075"),o=o(),Js(),o),Zs={class:"stats-container"},ms={class:"title"},xs={class:"top-pools-new"},se={class:"sort-by"},ee=k(()=>a("img",{src:_s,alt:""},null,-1)),oe=k(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),le=[oe],ae={key:0,class:"select-item"},ne=["onClick"],re=k(()=>a("img",{src:_s,alt:""},null,-1)),te={class:"content"},ue={class:"item"},de=k(()=>a("span",null,"Pool",-1)),ve=k(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ie=[ve],_e=k(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ce=[_e],pe=k(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),he=[pe],fe=k(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ke=[fe],ge={class:"apr-hover-content"},Te=k(()=>a("span",null,"\xA0",-1)),be={class:"token"},Le=["src"],ye=["src"],Ie={class:"name"},we={class:"token-name"},Pe={class:"fee-tier-top"},He={class:"label-all"},Ce={key:0},Ve={class:"tvl"},$e={class:"volume-hour"},Ae={class:"volume-day"},De={class:"apr"},Re={key:0,class:"apr-hover-content"},Ne={class:"btn-box"},Se={class:"top"},Be={class:"token"},Oe=["src"],je=["src"],Ue={class:"name"},Ee={class:"token-name"},Fe={class:"label-all"},We={key:0},qe={class:"fee-tier-hint"},Ge={class:"middle"},Me={class:"item-pools"},Ye=k(()=>a("span",null,"TVL",-1)),ze={class:"item-pools"},Je=k(()=>a("span",null,"Volume (24H)",-1)),Ke={class:"item-pools"},Qe=k(()=>a("span",null,"Volume (7D)",-1)),Xe={class:"item-pools"},Ze=k(()=>a("span",null,"APR",-1)),me={class:"bottom"},xe={class:"panation"};function so(o,r,vs,es,z,S){const os=Ss,g=Bs,T=Ks,b=Ys;return v(),i("div",Zs,[a("div",ms,[Y(os),L(" "+c(o.$t("menu.pools")),1)]),a("div",xs,[a("div",se,[a("div",null,c(o.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:r[0]||(r[0]=e=>o.reviseValue("select"))},[a("div",null,[L(c(o.selectValue)+" ",1),ee]),(v(),i("svg",{"aria-hidden":"true",class:q(o.select?"show-icon icon":"icon")},le,2)),o.select?(v(),i("div",ae,[(v(!0),i(x,null,ss(o.selectList,(e,p)=>(v(),i("div",{key:p,class:"select-menu-item",onClick:h=>o.changeSort(e)},[L(c(e)+" ",1),re],8,ne))),128))])):N("",!0)])]),a("div",te,[a("div",ue,[de,a("span",{onClick:r[1]||(r[1]=e=>o.changePoolsList("tvl_in_usd"))},[L(" TVL "),(v(),i("svg",{"aria-hidden":"true",class:q(["pools-icon",o.tvlImprint?o.tvlImprintHighlight?"selected highlight":"selected":o.tvlImprintHighlight?"highlight":""])},ie,2))]),a("span",{onClick:r[2]||(r[2]=e=>o.changePoolsList("vol_in_usd_24h"))},[L(" Volume (24H) "),(v(),i("svg",{"aria-hidden":"true",class:q(["pools-icon",o.volHImprint?o.volHImprintHighlight?"selected highlight":"selected":o.volHImprintHighlight?"highlight":""])},ce,2))]),a("span",{onClick:r[3]||(r[3]=e=>o.changePoolsList("vol_in_usd_7_day"))},[L(" Volume (7D) "),(v(),i("svg",{"aria-hidden":"true",class:q(["pools-icon",o.volDImprint?o.volDImprintHighlight?"selected highlight":"selected":o.volDImprintHighlight?"highlight":""])},he,2))]),a("span",{onClick:r[4]||(r[4]=e=>o.changePoolsList("aprNum"))},[L(" APR "),(v(),i("svg",{"aria-hidden":"true",class:q(["pools-icon",o.aprImprint?o.aprImprintHighlight?"selected highlight":"selected":o.aprImprintHighlight?"highlight":""])},ke,2)),a("div",ge,[Y(g,{class:"noHover apr-hover-con"})])]),Te]),(v(!0),i(x,null,ss(o.currentTopPoolsList,(e,p)=>{var h;return v(),i("div",{key:p,class:"item pc-item"},[a("div",be,[e!=null&&e.token_a_address?(v(),i("img",{key:0,src:o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol.toLowerCase()}.png`)},null,8,Le)):N("",!0),e!=null&&e.token_b_address?(v(),i("img",{key:1,src:o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol.toLowerCase()}.png`)},null,8,ye)):N("",!0),a("div",Ie,[a("p",we,c(o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol)+" - "+c(o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol),1),a("div",Pe,c((e==null?void 0:e.fee)*100)+"% ",1),a("div",He,[(v(!0),i(x,null,ss(o.getLabel(e),(f,u)=>(v(),i("div",{class:q(["label",f]),key:u},[f!=="Native"?(v(),i("span",Ce,c(f),1)):N("",!0)],2))),128))])])]),a("div",Ve," $"+c(e.tvl_in_usd?o.addCommom(e.tvl_in_usd,2):"--"),1),a("div",$e," $"+c(e!=null&&e.vol_in_usd_24h?o.addCommom(e==null?void 0:e.vol_in_usd_24h,2):"--"),1),a("div",Ae," $"+c(e!=null&&e.vol_in_usd_7_day?o.addCommom(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1),a("div",De,[L(c(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)))+" ",1),((h=o.rewardApr(e))==null?void 0:h.length)!=0?(v(),i("div",Re,[Y(g,{class:"noHover apr-hover-con",lItem:{apr:e.apr_7day,aprTotal:o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)),is_display_rewarder:o.rewardDisplay(e)},rewarderInfo:o.rewardApr(e)},null,8,["lItem","rewarderInfo"])])):N("",!0)]),a("div",Ne,[Y(T,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:is(()=>[L(c(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(v(!0),i(x,null,ss(o.currentTopPoolsList,(e,p)=>(v(),i("div",{key:p,class:"item h5-item"},[a("div",Se,[a("div",Be,[e!=null&&e.token_a_address?(v(),i("img",{key:0,src:o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol.toLowerCase()}.png`)},null,8,Oe)):N("",!0),e!=null&&e.token_b_address?(v(),i("img",{key:1,src:o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol.toLowerCase()}.png`)},null,8,je)):N("",!0),a("div",Ue,[a("p",Ee,c(o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol)+" - "+c(o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol),1),a("div",Fe,[(v(!0),i(x,null,ss(o.getLabel(e),(h,f)=>(v(),i("div",{class:q(["label",h]),key:f},[h!=="Native"?(v(),i("span",We,c(h),1)):N("",!0)],2))),128))])])]),a("div",qe,c((e==null?void 0:e.fee)*100)+"% ",1)]),a("div",Ge,[a("div",Me,[Ye,a("p",null,"$"+c(e.tvl_in_usd?o.addCommom(e.tvl_in_usd,2):"--"),1)]),a("div",ze,[Je,a("p",null," $"+c(e!=null&&e.vol_in_usd_24h?o.addCommom(e==null?void 0:e.vol_in_usd_24h,2):"--"),1)]),a("div",Ke,[Qe,a("p",null," $"+c(e!=null&&e.vol_in_usd_7_day?o.addCommom(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1)]),a("div",Xe,[Ze,a("p",null,c(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr))),1)])]),a("div",me,[Y(T,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:is(()=>[L(c(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])]))),128))]),a("div",xe,[Y(b,{current:o.currentPools,"onUpdate:current":r[5]||(r[5]=e=>o.currentPools=e),"page-size":(o.isPc,10),simple:"",total:o.topPoolsList.length,onChange:o.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const ho=Ms(Xs,[["render",so],["__scopeId","data-v-ac9b4075"]]);export{ho as default};
