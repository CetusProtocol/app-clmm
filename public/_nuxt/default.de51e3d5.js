var vl=Object.defineProperty;var Sl=(r,t,e)=>t in r?vl(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var E=(r,t,e)=>(Sl(r,typeof t!="symbol"?t+"":t,e),e);import{a as Ot,M as xr,x as St,e as ke,i as fn,f as jt,K as or,o as Q,c as ut,s as Oe,j as T,h as $,t as X,q as Rt,z as Ir,B as wo,p as Un,l as kn,k as Ue,fn as xi,fo as Ml,fp as Ne,fq as xl,fr as Il,fs as ua,ft as ha,fu as Al,fv as go,fw as Tl,fx as Ul,fy as kl,fz as hi,R as vs,_ as Nl,fA as Vo,fB as Bl,N as ir,A as Ii,fC as di,r as he,f6 as Ai,f9 as Te,fg as Fl,L as Gn,w as _r,J as Ti,v as ht,a1 as on,a2 as sn,y as Hr,O as da,fd as fr,fl as Dl,b as fa,f4 as pa,G as Rl,fD as Cl,fE as Ol,a4 as jl}from"./entry.08a0731d.js";import{_ as Vl,a as Ll}from"./checked.667d8670.js";const zl=Ot({components:{Modal:xr},setup(){const r=St(),t=ke(()=>r),e=ke(()=>r.chainName);return{importIcon:fn,store:t,chainName:e}}}),Ql=""+globalThis.__publicAssetsURL("image/img-Transaction-Submitted@2x.png"),Wl=""+globalThis.__publicAssetsURL("sui-image/img-Transaction-Submitted@2x.png");const wa=r=>(Un("data-v-1253afcf"),r=r(),kn(),r),Zl=wa(()=>T("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Pl={class:"success-container"},Kl={key:0,src:Ql,alt:""},$l={key:1,src:Wl,alt:""},Yl={class:"waiting-title"},Hl={class:"waiting-text"},Gl=["href"],Jl=wa(()=>T("svg",{class:"icon","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-icon-jump"})],-1));function Xl(r,t,e,n,o,i){const s=wo,a=or("Modal");return Q(),ut(a,{visible:!0,class:"transaction-success",centered:"",title:"",width:"400px",footer:null,onCancel:t[1]||(t[1]=u=>r.$emit("onClose"))},{closeIcon:Oe(()=>[Zl]),default:Oe(()=>[T("div",Pl,[r.store.theme=="default"?(Q(),$("img",Kl)):(Q(),$("img",$l)),T("p",Yl,X(r.$t("common.transactionSubmitted")),1),T("p",Hl,[T("a",{href:r.store.theme=="default"?`https://explorer.devnet.aptos.dev/txn/${r.store.currentTransactionTxid}`:`https://explorer.devnet.sui.io/transactions/${r.store.currentTransactionTxid}`,target:"_blank"},[T("span",null,X(r.$t("common.viewExplorer")),1),Jl],8,Gl)]),Rt(s,{onClick:t[0]||(t[0]=u=>r.$emit("onClose"))},{default:Oe(()=>[Ir(X(r.$t("button.ok")),1)]),_:1})])]),_:1})}const ql=jt(zl,[["render",Xl],["__scopeId","data-v-1253afcf"]]),eu=Ot({components:{Modal:xr},setup(){const r=St(),t=ke(()=>r);return{importIcon:fn,store:t}}}),tu=""+globalThis.__publicAssetsURL("image/img-transaction-rejected@2x.png"),nu=""+globalThis.__publicAssetsURL("sui-image/img-Transaction-rejected@2x.png");const ru=r=>(Un("data-v-89e67599"),r=r(),kn(),r),ou=ru(()=>T("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),iu={class:"rejected-container"},su={key:0,src:tu,alt:""},au={key:1,src:nu,alt:""},cu={class:"waiting-title"};function lu(r,t,e,n,o,i){const s=wo,a=or("Modal");return Q(),ut(a,{visible:!0,class:"transiaction-rejected",centered:"",title:"",width:"400px",footer:null,onCancel:t[1]||(t[1]=u=>r.$emit("onClose"))},{closeIcon:Oe(()=>[ou]),default:Oe(()=>[T("div",iu,[r.store.theme=="default"?(Q(),$("img",su)):(Q(),$("img",au)),T("p",cu,X(r.$t("modal.rejectedModalText")),1),Rt(s,{onClick:t[0]||(t[0]=u=>r.$emit("onClose"))},{default:Oe(()=>[Ir(X(r.$t("button.ok")),1)]),_:1})])]),_:1})}const uu=jt(eu,[["render",lu],["__scopeId","data-v-89e67599"]]),hu=Ot({components:{Modal:xr},setup(){const r=St();return{store:ke(()=>r),importIcon:fn}}}),du=""+globalThis.__publicAssetsURL("image/img-loading@2x.png"),fu=""+globalThis.__publicAssetsURL("sui-image/img-loading.png");const pu=r=>(Un("data-v-89c79b10"),r=r(),kn(),r),wu=pu(()=>T("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),gu={class:"waiting-container"},yu={class:"loading-pic"},mu={key:0,src:du,alt:""},Eu={key:1,src:fu,alt:""},_u={class:"waiting-title"},bu={key:0,class:"waiting-title waiting-title1"},vu={class:"waiting-desc"};function Su(r,t,e,n,o,i){const s=or("Modal");return Q(),ut(s,{visible:!0,class:"transaction-waiting",centered:"",title:r.$t("modal.waitingModalTitle"),width:"400px",footer:null,onCancel:t[0]||(t[0]=a=>r.$emit("onClose"))},{closeIcon:Oe(()=>[wu]),default:Oe(()=>[T("div",gu,[T("div",yu,[r.store.theme=="default"?(Q(),$("img",mu)):(Q(),$("img",Eu))]),T("p",_u,X(r.store.currentTransactionDesc),1),r.$route.name==="remove-liquidity"?(Q(),$("p",bu,X(r.store.currentTransactionDescText),1)):Ue("",!0),T("p",vu,X(r.$t("modal.waitingModalText")),1)])]),_:1},8,["title"])}const Mu=jt(hu,[["render",Su],["__scopeId","data-v-89c79b10"]]);var Ln="TrustWallet",xu=class{constructor(){this.name=Ln,this.url="https://trustwallet.com/",this.icon="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAyIiBoZWlnaHQ9IjQwMiIgdmlld0JveD0iMCAwIDQwMiA0MDIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPgo8cmVjdCB3aWR0aD0iNDAyIiBoZWlnaHQ9IjQwMiIgZmlsbD0idXJsKCNwYXR0ZXJuMCkiLz4KPGRlZnM+CjxwYXR0ZXJuIGlkPSJwYXR0ZXJuMCIgcGF0dGVybkNvbnRlbnRVbml0cz0ib2JqZWN0Qm91bmRpbmdCb3giIHdpZHRoPSIxIiBoZWlnaHQ9IjEiPgo8dXNlIHhsaW5rOmhyZWY9IiNpbWFnZTBfMTY5NF8xODk2NyIgdHJhbnNmb3JtPSJzY2FsZSgwLjAwMjQ4NzU2KSIvPgo8L3BhdHRlcm4+CjxpbWFnZSBpZD0iaW1hZ2UwXzE2OTRfMTg5NjciIHdpZHRoPSI0MDIiIGhlaWdodD0iNDAyIiB4bGluazpocmVmPSJkYXRhOmltYWdlL2pwZWc7YmFzZTY0LC85ai80QUFRU2taSlJnQUJBUUFBQVFBQkFBRC8yd0JEQUFjRkJRWUZCQWNHQmdZSUJ3Y0lDeElMQ3dvS0N4WVBFQTBTR2hZYkdoa1dHUmdjSUNnaUhCNG1IaGdaSXpBa0ppb3JMUzR0R3lJeU5URXNOU2dzTFN6LzJ3QkRBUWNJQ0FzSkN4VUxDeFVzSFJrZExDd3NMQ3dzTEN3c0xDd3NMQ3dzTEN3c0xDd3NMQ3dzTEN3c0xDd3NMQ3dzTEN3c0xDd3NMQ3dzTEN3c0xDd3NMQ3ovd2dBUkNBR1NBWklEQVNJQUFoRUJBeEVCLzhRQUd3QUJBQUlEQVFFQUFBQUFBQUFBQUFBQUFBRUdCQVVIQXdML3hBQVpBUUVBQXdFQkFBQUFBQUFBQUFBQUFBQUFBUU1FQlFMLzJnQU1Bd0VBQWhBREVBQUFBZWtBQUFFRXhJaEloSWhJaEloSWhJaEloSWhJaEloSWhJaEloSWhJaElJRWdBQUFBQVFrQUFBQUFBQUFBQUFBQUFBQUFBQWlVRWdBQUFRa0FBQUFBQUFBQUFBQUFBQUFBQUFBQWlVRWdBRUVnQUFBQUFBQUFBQUFBQUFBQUFBQUFBQWlZa0FJa0FBQUFBQUFBQUFBQUFBQUFBQUFBQUFBUk1FZ2lZa0FBQUFBQUFBQUFQT29XVjduWFZWdXg5TXllWTNYTG8zSXo2QUFBQUFBQUFBRVNENUV6RWdBQUFBQUFCR0xNWmJSNmUydTVWK3BlT25QazR4cXpCTUFicTE4NlVYOVZjNzNlVFRhV3J6NmJmVWVmUUFBQUFBQUdPSmozbUppUUFBQUFOTlVQckE2Zk95Zm53WFZ6Qk1BZ0EyOXFvdXJtNjNyRnI1cGk5U3JlbWlvc2pIMVpnbUFQdjF4MFRrN0RUUFBycUhyWGJGeStpSGoyQUFBQmppWTk1aVlrQUFBQURtMkhuWVBZNVFzTVRYbCt5cUx1YzdMb0UxV1ZiZTVpaTRLN0FBSTArNWV2TksxWFNtaWpsVHArSGJYenhlNlpkVmppMnE0V1d1V1BsZElLclFBQUFNY1RIdk1URWdBQUFBYzYxK3kxdlg1YTMxQzIxMldnY3pvQUFBQUFBQUFPYTlLNW5yeTR3MzRycFlkRHZ1VjB3cXNBQUFBeHhNZTh4TVNBQUFBQnovVmJuVGRibUxWVmJONTlXOGN2b2dBQUFBQUFBT1lkUDVac3lmSTNZNzF1OVB1T1Qwd3JzQUFBQXh4TWU4eE1TQUFBQUJSOUZZcTcxZWFzVmQzaGVSeXVrQUFBQUFBQUI4OHM2ZHpIZGpEWms2RnM4SE80L1ZEejZBQUFBeHhNZTh4TVNBQUFBQlVxdmNLZjArYzIycHo3UEhSaHlPb0FBQUFBQUFCaGMzNkJ6L29ZUTFaK201RVR4dXFFU0FBQUJqaVk5NWlZa0FBQUFEUlVmb1hQZWpnZTNpMDBkVmVYcnhlcUNRQUFBQUFBTkRTTFpVK2x6M3Y0Ykc2cm9nNC9WQUFBQUF4eE1lOHhNU0FBQUFCNDh3NnJ6TGJreHh0eDlDMmRic25KNllWMkFBQUFBQUFValE1bUgxK1czMmh0dmoxYUJ5K2tBQUFBQmppWTk1aVlrQUFBQUJSYjFYYjZhWU9uenQzZXVXZE53YmZZWk5RQUFBQUFERnlxdlpYVWgxdVk2QlErbjQ5WDBNTzBBQUFBREhFeDd6RXhJQUFBQUR3OXlPV2ZOaHIzWDVpeTFvZFZWeXg4cm9oNTlnQUFBRHhRNXZtNnZwWUEwVWIrN1lHZnl1a0ZWb0FBQUFHT0pqM21KaVFBQUFBQU1mbkhUOVhvbzU4Ky9qcFlHOTBUelBUTW5sdG13N0xZOC9UTG9CSUJyYWpkVFphZGpOK01MYWxrd2I3azFmUXdiUUFBQUFBTWNUSHZNVEVnQUFBQUFBYTZqZEs4NzZlWExQV3VoaCtSNzhlOXRwYXF6cXJudTZ4Yk4vVWRMNTZzNGFNNHpZbkNzTzgzR0xYOC9SajFnQUFBQUFBWTRtUGVZbUpBQUFBQUFBQVl1VW1LUm9lcTYzWGw1NDJXdDI1UW55UHBQemtiKzFaZEdoc01zT3NQUHNBQUFBQUFBUWZEMElpWWxJQUFBQUFBQUFBRVZ1eXZmamxuejB2QjJaYWxkczM2elhoVGNBQUFBQUFBQUFpWUpBaVlKQUFBQUFBQUFBQUFBQUFBQUFBQUFBQUFSSUFCRW9KQUFBQUFBQUFBQUFBQUFBQUFBQUFBaVlKQUFBQkVvSkFBQUFBQUFBQUFBQUFBQUFBQUFRRWdBQUFBQkNRUUpSSUFBQUFBQUFBQUFBQUFJSlFKaVFBQUFBQUFBQUErUkhpSkFBQUFBQUFBQUFBQWVub1FCSUFBQUFILzhRQUx4QUFBQVVFQWdFQ0JBVUZBQUFBQUFBQUFBRUNBd1FGRVRBeEVFQVNJRFFURkNGQklpUXpOV0FqTWxCd2dQL2FBQWdCQVFBQkJRTEhZV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVdJV0lXSVc1di9OTi81TGYrbC92L0FDVDcvd0FLazFOcGhTYTE5V0pEY2h2ckhvRjFsdUpiUk1xaW5PV1hsc09SS2kzSTY5d1d1bXBTVUprVmR0QWVrT3lGZW1OVTNXQXhPWWtkVTlsclBld1ZLWVFIS3RIU0hhdzZvT1BPUEhoWm55R1EzV2lDS2xGV0V1dHI2SjdMV09mUCtWSmN5UXMvbVh3YnpwZ3pNOEVXbHVQQitsTXVOdnhuWTZ2V1Mxa1BtSGg4eStJOVRmYVUyNGwxdkdleTFqbktOYzdDeFRYM2hHZ014dVZJU3RNaWpwTU94M1dEdzBaUm5HeG5zdFk1ZnZmU2xLbEczVHBMZ2FveEJtSXd4NnpJbEU5UzQ3Z2NvN3lRdUsrMTY2TCtqalBaYXh6ZmZjVTZFMUpiS2x4U0NZY2RBSWlJc3FtVzNBcW54VkE2VEZNU0VFMUk0bzN0OFo3TFdPZjcvaWkvcGRPWDd6aWplMHhuc3RZNmorNGNVWCszcHlQZGNVZjJXTTlsckhVLzNIaWlkUjM2dmNVbjJPTTlsckhWZmY4QUZGL1Y2YXZxcmlsL3QrTTlsckhWeS9POFVZL3pQU1VkazgwNHJVL0dleTFqckpmbWVLUWRwdlNmTzBmbUVWb09NOWxySFdpL0Z4VER0VU9sTk8wTG1PVm8yTTlsckhXaS9wY1FUOFozU3FSMnAvSkZaT005bHJIVnl2QzRhVjR2ZEtzS3RENFlUNVNNaDdMV09vcDhvSExTdk5ubzFwWDA0cDZmS2ZrUFpheHZKODJPYWN2emdkR3JyOHBuRklUZVprUFpheVNFZkRrOFVaeTdIUmxyK0pNNG9xUHdaRDJXc2xXYjhKdkZLZCtITTZFbDM0TWJtbXQvRGdaRDJXc2xZYThtT0VxTkMyWENlWnoxaC84QUR3MmczSEVwSktjaDdMV1I1c25tRkpOS3VLVEs4RlpublVzTlBPcWZlNHBEUG5KeW5zdFphdEg4SHVZRlNKd3NqcnFHVVRacXBhK1lVZjVhTmxQWmF5dnNwZlplYVV3N3pGcWJqSVprTnlFNFpWVGFZRDhoeVF2bWxSUE5lWTlsck5OaEpsTnJRcHRmS0ZxYlZHcTRRNGgxUHBrem1Zd2sxQjZSNllNRlVwYVVraE9ZOWxyUExoTnlreUl6a1pmb2FmY1lWRnF5SE9YcERjZEVtcU9PK3FIVEZPaEtTUW5PZXkxMEZvUzRpVlNESUtTYUZlaUxPZGpCK3NGNExjVTZ2MFI0ajBrNHRPYWo5STlscnBQeG1wQlNhVTYxaFpZY2ZWR3BLRUFpSWk2VnV0SmdzeVJKZ3V4dlNTVFVjV2tHWVEybHRQVCt3Ky9WTXJsTHBSS0NrcVFvUllUc280ME5xS25ybjJIb3pNZ0pwY1ZKa1JKTHJmZi9BSnd2M2I5Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN4Y3hjeGN3bkwvQVAvRUFDY1JBQUlCQWdVRkFBSURBQUFBQUFBQUFBRUNBd0FSQkJBd01USVNJQ0ZBUVJSd0lsRlMvOW9BQ0FFREFRRS9BZjBhN2hONk03VkhNRzhIMWIyb3lxS2FjbmF0ODFtWmFXZFRRWUhiMEpKQ1RWejJKQ3pVSWxBdFR3RWNhMnp2UVlpa1BVTDZyYjBxbGpZVitPMUREajdTeHF1M1lWQjNvNGRmbEhEbis2ZU1wdmxGd0dxL0kxRHowc1JzTW8rQTFYNUdvZVkwc1I4eWo0alZsNW1vK1kwc1I4eVhpTldiblNjaHBZamxrTlhFY3RPZm5TK1RyWWdiSEtNM1VhTG03RTFFTHVOYVlYWExEdDR0b08zU3Q4c09QTjlkbDZUYWxicE42Vmd3dU8rV1RxOERLSmVsZGVXUHE4akpXSzdVazRQTHNlVlZwNUMrVU1kLzVIMFpJZzlNaFhmSkpDbTFDZFNQTlBNVzJ5QXZ0U1FmVzlNaTlQQi9taUNOODBnSjNwVkM3ZXN5aHQ2T0hQeWtpQ2ZvL3dEL3hBQWtFUUFDQVFNRUFnTUJBUUFBQUFBQUFBQUJBZ01BQkJFUU1ERXlFaUVnUUVFaWNQL2FBQWdCQWdFQlB3SC9BQTFJeS9GQzNURlNRRmZZK3FBVFN3dWFTMkE3VUJqVjRGYW10M0hGRlNPZm9SUmhWckErRHpxdE5NNU9hUzRCN1VEblhBb29wNUZPdmkyTjFlQlRNRUdUUnVWbzNSL0JUU00zSitDc1Y0b1hMRG1oZEQ5RkpLSDQwbTduZFRxS242YlZyeWRKZTUzWStncWZvZHExL2RKTzUzWXVncVhvZHExL2RIN0hkZzZDbjZuYXR1dWgzYlkveHQyNC9pbU9CbmV0VHlOSlJoenN4akNnVk1jSWQ2QnNQcGNyNzh0aU5mSnNhWFRlZ043aWtieUdhZGZNWU5NaFE0UHpoaThCazZTdjV0bmZobDhEZzhhTW9iMGFlM0k2L0JJV2VraVZOSjVjZnlQb3h6RlBWSTRmalI0bGZtbXQyQndLamdDODZFZ2MxSmNmaWZUQnh4U1hQNDFBZyt4ckpjQWVscG5MYy9XVnluc1VMbGNlNmttTC93Q0gvd0QveEFBM0VBQUJBUVFHQndZR0FnTUFBQUFBQUFBQkFnQURFUklRSUNFaVFGRXhRVkpoY1hLQkV5TXdVR0toQkRJemtaS3hRb0tBa1BELzJnQUlBUUVBQmo4Qy93QkMwcVIyaXR6WG5ObTR0TTdNZkw1bHFDUXhRNXVvejFtbWQyWUZwVlhIbVdmbGtWRUFiMmc1RTV6MU5GNHFOYVZmZUkzNld1cmdySStUM255UHUxMlpmQU4zYVFqM2FMeFpWeDhLeGNSa3ExdTlkZFV0OVNYaTExYVZjRGpwVTJ2RDdORXZsOURCdnJQUHlhMTR2N3RhZkFtZTkyajNMQU8rN1VHZzhURGZxUGdXS0k2dDlWZjVOOVo1K1RYMWRvbmV3V2d4QnhMMG5haDRVU096VG1wb3dtWHRHbVZRQkJ6YUxoVXZwTFFlSUtmQ1duSldKZmN4clFTQ2VEZlRsNXJHNzE1MFMxeDJBYzY4Q0lockIyWjlMWEZKWDdOZmRLSFN1ODVzUzk1cVZLZVJzT3B2a2oxYXh5ajdOWUllTmZkcFZ4RGZSSFJ0Q2gxWjRoT2hKaFN2bXhMM2pTOTQ0Ujl6bWxmUGlYdEwzcGhIdk1hVHo0bDUwL1ZMN3BoRjh4cC9zY1NyZ0tYdkRDRTBvNjRrY3RLeDZjR1RVZGY5cnhLRDZhZUtjRzhQcE5SMXk0bHllTktOOGYxZzMzTFVkREpJeExzNzZYWE5nM25UOTFBTXNUSEpWS0ZaS0J3WUdhcVhhYzFERlBmdlVRck1Sd1RwUEUwdWh2amlscHpTUlVkN3JNRkxzcHBKMlU0dDRqSlZLMFpHT0NlcTMwdlY5TVhOdGlOTXVwWWhnVnZNaFVSNnJjV2w1c0drS0drV3NsNG5Rb1lCTGtjVFNsQTBxTUdDUm9GbUxXN1A4Z3hTZElwN0Jac1Y4dmpsNHMyQmxQRmFUU1hoMEkvZU43WWZLdlR4cUIwK01GNmpuNHBXdFVBMlRzYUJVU2orV2s0MVR0V2dzWGE5SXFCTHkrajNEVE8xUjhLVkhlTDltbWVLalU3ZFl1ajVjZms4R2dzVUxFQ0treUZGSjNNRS9FRCt3YVpDZ29icTBDWmxiSWFFWkVaQ3JFMk9ocExCS1JBRHlDMnhlcFRRZUo2MVpuYWlscFgxeFdlcW1aNHFEU3V1N1Q3MWd0OWRSbHJMQktSQUR5S1ZhUW9NVmZEMmpaTFFVQ0R2cXdqTWpaTGR5bThkclUweTFGUnEzRTJablEweHZyelBrMEhpWTcybWRkNG4zOEdWMmtxYVo4WnpscWFBRUI1VEVpQzlvTkVpS05vVllKRVMwM3hGbnBEU29TRWpkNVpBdFA4QUQzVHN0S29RSW91aUNkb3RkRVZiUjh3N3hFZDdSbEo0bG9KRUIvbkovOFFBS2hBQUFRSUVCQVlEQVFFQkFBQUFBQUFBQVFBUklURmhjUkF3UVZFZ1FJR1JvYkZRNGZEQjhkSC8yZ0FJQVFFQUFUOGh5Q1FFNTI3cGp1bUtnRlFDb0JVQXFBVkFLZ0ZRQ29CVUFxQVZBS2dGUUNvQlVBcUFWQUtnRlFDb0JVQXFBVkFLZ0ZRQ1ltcVZHNlpia0NXVVRPQ0FiNEpta24zaG11OHBib0J2aG9pb1U4cncrSmJVSUY4ancrTEkxRTBJOFJpVzcvR21CZnZ3a3NnR0h4d2hEZ203YjQ4K3NTV0NBWWZJQ0RqQXlmSW1Zd0V6ekI4WUdZSmdPcSsvbFFGV28xRitaSk9XTmhEcVZHWElQNk5pSE1ieW1kamNTczVjQUFGSjVRb0hjeVRCT0Zab2ZaUEg3Um9PbkVPRmlLQ3hUUUJFcG5sWmlrMjVBZ0RrZ0NxbDRwR1U3eE5nZVU1Z2Z1WWs4UjFaVE9Eam9FWkFncVA0SzBtV3drTHduQjVHYmRTYlpnQkRBcnhrRzY4UFFlRi9wRk5GYzBSY2h2a05EMngrR1FnV0xBemU2Y2MyQjREa2VGNUFHUStwZjZSQVFKcWlNOUNtbmpjWmsyNmsyek5FUXV5R1RNcHY3a095WmcvWmh0aVp6YkFFOHZuUjdxOFdhSHJsRkJLRjFHWk51cE5zeUg4VWVKMUYyQjFxME4wQk1YNkg5SzZqQkU5K001Q0pNRUozSnV5N0o2SW51VW9MZUlkK01JOUhyTW0zVW0yWURYV01ieTJITXAwZDVyMzJkN1RLRUd3R2Q0b2txYkJ1STlLUVdpdTFQUWZIOTlNeWJkU2JaZ05peWhVK3VVSi8weHhDSlY2R1pOdXBOc3dHdUQwTVRoMS9ybERjbS91eEJxcGVobVRicVRiTUJxdjhNU2lQN1BsRGQ3K3pFV0d1WVRicVRiTUZxM294S0J1SEtGVkRpTFZEN1prMjZrMnpHaWJpZkp4dlova2NuUVFQd05LaFBsbVRicVRiTXZKdms0d0hjSHJrNkhFOGNEUm9PWk51cE5zeThRSHJHMHdlWEp1YXNjRkRWNHpKdDFKdG1PN2N4NCtzWFRRTzhPVHZ4bmhpQTVZS2xCc3liZFNiWmpmc2o3R1A2NkR5ZEJNZURqUWdlYzJiZFNiWmpHMkE3RHdVWi9Ea3V2eWVNYUVlQVBtemJxVGJNL053T0J5Nmg0bHVTYWRnUDdqWDBQOEFNMmJkU2Jac0FHZUFzK01ZNCtkL25KYThnbUJZUXhZM0pBL3V1Yk51cE5zMXgwQi9qK1l0SkdLNjVqa2Q3b1Y5T0NNSnVQcjlObXpicVRiTmFlYkJzY1Rqc2NBYXJWMEZ1UWFMeFAxNHlDUUNsT0lETm0zVW0yYkxRWXNnSXNSaU1RbGFFY2pvZHM5bVFQdlJUd0Y3WXN5Z3d1L0hPbTNVbTJjY1lmU3hTSzBNUVdYM3pRRWg2bFFDL3dEdHppQVNXRVNuRW03dWROdXBOczZRaXoyTzZEWXhlOWVBYTZHaHFzZFJxTGpLY0dOZ0dDNVZqQU5CYmdza1IxTytmTnVwTnM5NUJoZnFLT2hoaUR3QW9CMUprVVJFZnR3aGtvNmx4T25kcjEyVHZHUDJUcndnSXlSY29FT2dFd0EwejV0MUp0eUdnOUkwVUdRYUJJOEwxWlNSVEdJZDUvNGdRUTRMZzROUmpvTlRaUDdubGY4QUZNOEo0TXpoK2pJZEFaZ0JweUUyNmsyNUUrTU13VTRyVWVqMEtMQlhNQXg0UzREOFNHeVp3ZGlKL0RvME9PcDRlcXJDQk05bklDdzVLYmZsQm5zdEpDT3FlYkNKZW1xSUlMR0J5SE96WFlKbm92Si8xQVFBSkFjbkhIZENaNVVTZTZqN1J1aXBIMXdpNWhwQUJ5VXdtWjF1cFF1QWRBNVF6S1FYdHl3Q0FCQjBLZjJOWFNiYkk3TG5nY0pCT2NqN1U0Uk9ZZVdPZ3drNWdaQ01Ta0k2cDBxV0NoOFFVZ0F3SExpSkhFUWg4ZVN3UURERTc3Zkh6TnVHUnA4YWRoTlNIRE5EWS9Ga3NnTy9HUTZCME0vaVNXUUdwbmtrT25hZmY0ZDlCTkFkOHhtbDJUN3crRGRsRTBVczl0aW5PbzdKbS9PczNUN0JNVE05a0EzS0FBSktvVlVLcUZWQ3FoVlFxb1ZVS3FGVkNxaFZRcW9WVUtxRlZDcWhWUXFvVlVLcUZWQ3FoVlFxb1ZVS2luSE4vOW9BREFNQkFBSUFBd0FBQUJEenp6UlR6enp6enp6enp6enp6enp6VHp6enp6eVJ6enp6enp6enp6enp6enp6enp3elR6enlUenp6enp6enp6enp6enp6enp6enp5anp5aHp6enp6enp6enp6enp6enp6enp6enp4end6enp6enp6enp6enp6enp6enp6enp6enl6enp6enp6enp6enp6OVBmenp6enp6enp6enpEenp6enp6enp6UW9NTU9EN0h6enp6enp6ekx6enp6enl1QUFNTTkrNHNNUE9MM3p6enp3THp6enp6eUVJV1kzenp3MjAwd1A4QTg4ODg4Qzg4ODg4OEtRODg4ODg4ODg4NkQwODg4ODhDODg4ODg4cUU4ODg4ODg4ODhyRGQ4ODg4OEM4ODg4ODhxRzg4ODg4ODg4OGdEVzg4ODg4Qzg4ODg4OGpTODg4ODg4ODg4SkdWODg4ODhDODg4ODg4cEEvODg4ODg4ODhDSDg4ODg4OEM4ODg4ODhNRDE4ODg4ODg4OEpIODg4ODg4Qzg4ODg4OG9EYjg4ODg4ODg1REQ4ODg4ODhDODg4ODg4L0NDLzhBUFBQUFB3UjkvUFBQUFBBdlBQUFBQUE9DQWZ0L1BPOEF5dlBQUFBQUEF2UFBQUFBQUERqUTQwcUF4VDNQUFBQUFBQQXZQUFBQUFBQUExmUUF3RGovQUR6enp6enp6elB6enp6enp6enp6eTJLL3dBODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODg4ODhFODhVODg4ODg4ODg4ODg4ODg4ODg4ODg4MGM4OHN3ODg4ODg4ODg4ODg4ODg4ODg4OHM4ODg4ODhjODg4ODg4ODg4ODg4ODg4ODhFODg4ODg4ODg4akJCQkJCQkJCQkJCQkIvOEFQUFBQUFAvRUFDWVJBUUFDQVFNRUFnSURBUUFBQUFBQUFBRUFFU0VRTURGQVFXRnhJS0ZSY0lHUnNmRC8yZ0FJQVFNQkFUOFEvUm8xd2xzYW5ZQjZWSEpuZjc5VEdHb3FyZGNRNUp5V0p5UytnYmw0SjV2aGtPQ1k0dVpUSWlLcDFFY01Xc1pTL251OHZ2U1FkeElMbE9BZkF1aGNaeXFkbkExNzZmWVp4ZFRKajdtZjhQVzF4L2xwOUxkRlFkYlE4ajNvYUR3YnBwUlVuazJuZ2VOQlFHNktMNGcwM0JzdlpWcnhCU2VlZ2l4YlB1amZoZjhBak9saS9IWXVORjYzcUNVeGxVY3g4OUNnV3k3MkRTbUhuZnI5d2lWaGlGcVlUQitvSTVOY0x5emx1UHhvNjdIUTVRd3h1aG9sbGlYREJtT3dORVZDVmY0empvZ0ZNRnovQUVqdEN0Y2ppZmNIbzdWYmg5Q1djc1ROY3Y2UC84UUFKaEVCQUFJQUJRUURBQU1CQUFBQUFBQUFBUUFSRUNFd01WRkJZWEdoSUVDeFlIQ0I4UC9hQUFnQkFnRUJQeEQralg2MmN3bEV1ZFpUNnV3RnpvdGVabVN1QUtESE16Sm5LcHM1UG9ER3JXZHI0WkdOc3BScVpabGZVQVdPS201Q2FoZGNkWDFpZE1VSHNNYjB2aTR0YnFiVUdkU1I5TmZ2V0p2L0FPZnVsNldIdmFydndrRi85ZGRJNXJ4Zzc4anF1L0ZEZmkwaGt2R0N0TzdxdS84QWI5aHN1enBITTk4RmF1cmNqaGlXVkVwclJvTHpMbmdmUUNtZDlIdzVyeXF1K1dGWUhYUXI4RkhKMWhWWkJNOVlLeXFEOGdWb25NRGhjamJwcjh3SU41a0hwdVovbVBjUkduSFBOam1iVHZ6Z1o2N3Y5SFAyWkJyZUJPVFBtYmtEbVp2bmNBYlZFdjhBMG0vMGtWcW1NZnJEYkxNZXJqNmpkdTlLOVJxMk95RzVrZXh4L09qV2ZuLy94QUFxRUFFQUFRSUNDUVVCQVFFQUFBQUFBQUFCRVFBaE1hRVFNRUZSWVhHQmtmRWdRTEhCOEZEUjRmL2FBQWdCQVFBQlB4RFVXUmI3akdwY0ljMVNZdm9SVzhsNXJYaXE4VlhpcThWWGlxOFZYaXE4VlhpcThWWGlxOFZYaXE4VlhpcThWWGlxOFZYaXE4VlhpcThWWGlxOFZYaXE4Vlc0STVNVk13NjE2azRoeVdva2hsYm4yQXFNWGNWR0lodVA5b0JZaitDZ2tKSlU4V09EY292Z1N5ZGJMZGZpMUJnUDRxQ1FralVZTTdqYVVJSkdUVXFCS3dGUTNOdHpmei9rcUhBZHB2b0JicWJ0UVhTNE1PUEgrV2srUlNCSjZ1U0g0ZnpjRndmeDlNUzJMWXF3ZnpyeTlsemw2QzVzV0gzL0FEemFURzRvUkJMam9tVXgyYzZnRGQvUXZibTV5MFhCdXY4QTBiRzMyZEZ6OVAzZjNDUERpWWU1dXZ5R2tTUU51ekE1SmZ1VUV2MkVJWGNObnQ4UjJsKzJqYTcxYy9iWTJvM2c1Y1hoUXEzWE5nNGJtZkxEU2tXeWRvTnliU2pIcXRKZTR2cHZ6OXVSTGNJcktudE1KS2lCMWFMZkd3YUw4NU9kVHFSd2VXTEhxa2dDeFlQNHN6MG9NQlByelk5RjlyTEQydFpWN0JxTllxZ281a1RFRHNGNkhFWmg4aEJ5bzVXNFd2dkJrMWNsTWtxSEl3T21xSi94d2k5em9sRkN2YkRaSHpRUkRPNXZXSXpvc3VtSDBqN0hPcXlyV1JXNkRxVGZ3T0hkS1V1eFE2UUsvYi9kRHdMeFgzVW9EdlUrc0ZZTHRQRmJjUkJjQndjWHRRVVlReU9YdDU0MHpPTEY5eFBveDFHelgzeDhWa3JIOTErMys2ZHgwblFtL0VubkpWMll6OVBFYmF6T3F5cldNVEtUd0xHUnFRUUFWYkFWZkNkZ2lPR042d2NhTWhyWVNqd1lmTGpwTGUwU2cxdkhHUlh5eEhXZVpVMkU0SW5rQ3ozMVN0ek80UUpPNVBYV1oxV1Zhd29IZjV2VURXOXBYWXBzUlBhRU9qZktuRmQrRWZqaFJBbE5sUDFYN2VzSW13TWljUnBGZWJWaTVyZG9wM1laRmw2TnM2ZVlWak4yRW5yNWtEV002ckt0WVFUZjU2UmZaQ2hSQTdxL08zNEpTUXlEQk5uV1ZGaVhBUVphNmF1TzFqTXFSbUg4S0tZZXJuM05PUXBKU3dPM1NTZmF3eTZ6T3F5cldRQ0l2ZTRhWnQwWDg2ZTBCWnVzK21MZkEvZlBXWjFXVmF5RzhidTJtYmQzN24rUGFZM1hkK2ZUTU41eWZyV1oxV1ZheTJON3B1YlJlMDdkWkdNN1dtVWJ4OEgxck02ckt0WktONitIMXBqM3Q5bC8zMmwwcGxjOU1vakhaejYxbWRWbFdzL1djSDFwZzN4N1A5dlo3S3ArdzlIR0R1ays5Wm5WWlZySWZISCsybWQ4bVgxN1B4ano5SEZydkwvZXN6cXNxMWtjVDZaWDNwanV4RHVmWHM3cVJQZEVmZm90NUdUSFdaMVdWYXkwKzJlY3RLNjhUK0p6OW54M0Y2L1JPbERDVllDakp3QWREV1oxV1ZhenlnNTltbTlrWERrSDJkeTd3WEFUNk5OaUp0dk1HdHpxc3Exa0tsek9nL0I2TGd6ZnQ4aCsvWlFCY1F1VUQ1ZE5ucGw3ajZhM09xeXJXUitTa2RVZWlWMlVyaElNZzlsRVRaZzRxL0JOTStscGJpcDhGMXVkVmxXdGUzQVRtUmxHa0c3RVRnSStWMzlrWmpJamZZWkJwbkV4NXlGZmhyYzZyS3RiQVJFejJTWGZCNjZUaHJnQ0grQ2RmWWhKUW5yMnpKU3F5M2RMUVVkOUxaTmF6cXNxMXJuWit6dmNPK25oWXJJTWxZSlFKdmJUb3lkUFlIYzFpTmdXSGVYb2FjMVlCWW9HNENOd0VHdHpxc3ExcmhRc3U5c2VqRDBwTGJ6c1JHRTAzOENCYmE5V3pqejE5eTFFYlZzSEZwRDlqVFlZQWNBZzAzVU1lMnlCMkpkdGRuVlpWcnRpMW9iRSt3bm1Pa1VFVVM0bEFaSFlYQVhaOHVldHhlejRpN2cydkNqb0VMbUw5bnhtNkFRS01BWFZvekppNXY0blFnNmE3T3F5clhCMWdBRjlrT0kxWkVwT3diQndmUWFka0ZiWEJjVGc5eW9LTkd3ZmRpR3FscU8yS2Z4WXlwUzVtSFk5dzJmUG9jcnZzTVA0SHp5MStkVmxXdkpZb0hCUGkrTzhwWU9HdWZ0L293UWdzUjJwelloQmM0N1RtZHF3c3VURGs3bmg2aDRaTFhPcGgxWDRVWTJCVFluYytIRDA3cUZybVptOTJVR2RRMEFOZm5WWlY3QzBrV0RTOENiVGgycVRSSGJ1Vy9XUHBCYlNSZEJNSHJTRFJzSE1tL1ZialFNQUpFWkUwVFlEaXZ1R0xVZmxrS052aS9BNzBxaXFyZFgwOEZCUVAweithZ3ppZUFld3pxc3E5amdxamNsU1EzbFlPRzA1TitMVFRsaFFPWStsMnhOMnNjMjFsd3JFZXdWbnVBeFpjNnhwaHZMeTRIRDB4RjRNWm9iWGdTMDRBSzVlT1J6dSt5MzNhcXdHNjNzNENjUUhaaS9UQ3BTSlhnc2NmbzdVaUJCaEVoSFVRd25FRWN4YkZObURmQWJqdHlIQ2piREFZQTRIc3drNTFXanVaOXJaUjFyZlZzSFB1VS9GTkYzMUdLNTkzMHNkdUZrY0FvcGw3aVhmQnlMOFNzRE9FUS82OGZhT0VNWXRRUUJnV3BzWGNqOW43WU1MUWhJbERHdVZHT2UydUdIS2xHWkE0UjBTT1pRYXpnYjNBNnhVTWpVRW5oRzQ0R2Z0cjNlTTl2eG9HSXhMME1rbUQ3Y1dERUJQSkMvU2pjSFpGUFlSUFdqTzNBd09BZTM0QUxIMys0YWJ6dTRjdjU5NEx1QnpxQU5KYkRITVVJZ2x4L25HUHNzT2ZwTUxhdzRPNythM0V1eU45QUFHQjZVQkRoU1IybXgzL3dBdUJoSzRHK29MdDFpK3NCR0c1M1VrNEh5L2toeExnYjZTY1JaYWtCRFV0K2ZsL3dDTzN3VGtLZ3VzcmJySjduaXcvd0NVR1lFdHp0L2hvc2NkMjJveGJOeGpRQWdJTmNna0pKVXpFT0RjcURhOFZXOWh6dDcxRmhFN3FtNHJ6dFc0QnUvMVFZQ1BhS1VBN3dwdmZOWG1xODFYbXE4MVhtcTgxWG1xODFYbXE4MVhtcTgxWG1xODFYbXE4MVhtcTgxWG1xODFYbXE4MVhtcTgxVjQrYWdHUjFYb0FJQURXZi9aIi8+CjwvZGVmcz4KPC9zdmc+Cg==",this.provider=typeof window<"u"?window.trustwallet:void 0}async connect(){var r,t;try{const e=await((t=(r=this.provider)==null?void 0:r.aptos)==null?void 0:t.connect());if(!e)throw`${Ln} Address Info Error`;return e}catch(e){throw e}}async account(){var r,t;const e=await((t=(r=this.provider)==null?void 0:r.aptos)==null?void 0:t.account());if(!e)throw`${Ln} Account Error`;return e}async disconnect(){var r,t;try{await((t=(r=this.provider)==null?void 0:r.aptos)==null?void 0:t.disconnect())}catch(e){throw e}}async signAndSubmitTransaction(r,t){var e,n;try{const o=await((n=(e=this.provider)==null?void 0:e.aptos)==null?void 0:n.signAndSubmitTransaction(r,t));if(o.code)throw new Error(o.message);return o}catch(o){throw o.message}}async signMessage(r){var t,e;try{(typeof r!="object"||!r.nonce)&&`${Ln}`;const n=await((e=(t=this.provider)==null?void 0:t.aptos)==null?void 0:e.signMessage(r));if(n)return n;throw`${Ln} Sign Message failed`}catch(n){throw n.message}}async network(){var r,t;try{const e=await((t=(r=this.provider)==null?void 0:r.aptos)==null?void 0:t.network());if(!e)throw`${Ln} Network Error`;return{name:e}}catch(e){throw e}}async onNetworkChange(r){var t,e;try{const n=async o=>{r({name:o.networkName,chainId:void 0,api:void 0})};await((e=(t=this.provider)==null?void 0:t.aptos)==null?void 0:e.onNetworkChange(n))}catch(n){throw n.message}}async onAccountChange(r){var t,e;try{const n=async o=>{if(o!=null&&o.publicKey)r({publicKey:o.publicKey,address:o.address});else{const i=await this.connect();r({address:i==null?void 0:i.address,publicKey:i==null?void 0:i.publicKey})}};await((e=(t=this.provider)==null?void 0:t.aptos)==null?void 0:e.onAccountChange(n))}catch(n){throw console.log(n),n.message}}};class Vt extends Error{constructor(e,n){super(e);E(this,"error");this.error=n}}class nt extends Vt{constructor(){super(...arguments);E(this,"name","WalletNotReadyError")}}class Lo extends Vt{constructor(){super(...arguments);E(this,"name","WalletConnectionError")}}class rt extends Vt{constructor(){super(...arguments);E(this,"name","WalletDisconnectionError")}}class Tt extends Vt{constructor(){super(...arguments);E(this,"name","WalletGetNetworkError")}}class dt extends Vt{constructor(){super(...arguments);E(this,"name","WalletAccountChangeError")}}class ft extends Vt{constructor(){super(...arguments);E(this,"name","WalletNetworkChangeError")}}class W extends Vt{constructor(){super(...arguments);E(this,"name","WalletNotConnectedError")}}class Me extends Vt{constructor(){super(...arguments);E(this,"name","WalletSignMessageError")}}class pt extends Vt{constructor(){super(...arguments);E(this,"name","WalletSignAndSubmitMessageError")}}class Xe extends Vt{constructor(){super(...arguments);E(this,"name","WalletSignTransactionError")}}var yo={exports:{}};(function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function o(u,h,f){this.fn=u,this.context=h,this.once=f||!1}function i(u,h,f,w,y){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new o(f,w||u,y),_=e?e+h:h;return u._events[_]?u._events[_].fn?u._events[_]=[u._events[_],g]:u._events[_].push(g):(u._events[_]=g,u._eventsCount++),u}function s(u,h){--u._eventsCount===0?u._events=new n:delete u._events[h]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var h=[],f,w;if(this._eventsCount===0)return h;for(w in f=this._events)t.call(f,w)&&h.push(e?w.slice(1):w);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(f)):h},a.prototype.listeners=function(h){var f=e?e+h:h,w=this._events[f];if(!w)return[];if(w.fn)return[w.fn];for(var y=0,g=w.length,_=new Array(g);y<g;y++)_[y]=w[y].fn;return _},a.prototype.listenerCount=function(h){var f=e?e+h:h,w=this._events[f];return w?w.fn?1:w.length:0},a.prototype.emit=function(h,f,w,y,g,_){var b=e?e+h:h;if(!this._events[b])return!1;var M=this._events[b],U=arguments.length,k,x;if(M.fn){switch(M.once&&this.removeListener(h,M.fn,void 0,!0),U){case 1:return M.fn.call(M.context),!0;case 2:return M.fn.call(M.context,f),!0;case 3:return M.fn.call(M.context,f,w),!0;case 4:return M.fn.call(M.context,f,w,y),!0;case 5:return M.fn.call(M.context,f,w,y,g),!0;case 6:return M.fn.call(M.context,f,w,y,g,_),!0}for(x=1,k=new Array(U-1);x<U;x++)k[x-1]=arguments[x];M.fn.apply(M.context,k)}else{var z=M.length,A;for(x=0;x<z;x++)switch(M[x].once&&this.removeListener(h,M[x].fn,void 0,!0),U){case 1:M[x].fn.call(M[x].context);break;case 2:M[x].fn.call(M[x].context,f);break;case 3:M[x].fn.call(M[x].context,f,w);break;case 4:M[x].fn.call(M[x].context,f,w,y);break;default:if(!k)for(A=1,k=new Array(U-1);A<U;A++)k[A-1]=arguments[A];M[x].fn.apply(M[x].context,k)}}return!0},a.prototype.on=function(h,f,w){return i(this,h,f,w,!1)},a.prototype.once=function(h,f,w){return i(this,h,f,w,!0)},a.prototype.removeListener=function(h,f,w,y){var g=e?e+h:h;if(!this._events[g])return this;if(!f)return s(this,g),this;var _=this._events[g];if(_.fn)_.fn===f&&(!y||_.once)&&(!w||_.context===w)&&s(this,g);else{for(var b=0,M=[],U=_.length;b<U;b++)(_[b].fn!==f||y&&!_[b].once||w&&_[b].context!==w)&&M.push(_[b]);M.length?this._events[g]=M.length===1?M[0]:M:s(this,g)}return this},a.prototype.removeAllListeners=function(h){var f;return h?(f=e?e+h:h,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=e,a.EventEmitter=a,r.exports=a})(yo);const Iu=yo.exports;var V=(r=>(r.Installed="Installed",r.NotDetected="NotDetected",r.Loadable="Loadable",r.Unsupported="Unsupported",r))(V||{}),Gr=(r=>(r.Mainnet="mainnet",r.Testnet="testnet",r.Devnet="devnet",r))(Gr||{});class ot extends Iu{get connected(){return!!this.publicAccount.publicKey}}function wt(r){if(typeof window>"u"||typeof document>"u")return;const t=[];function e(){if(r())for(const i of t)i()}const n=setInterval(e,1e3);t.push(()=>clearInterval(n)),document.readyState==="loading"&&(document.addEventListener("DOMContentLoaded",e,{once:!0}),t.push(()=>document.removeEventListener("DOMContentLoaded",e))),document.readyState!=="complete"&&(window.addEventListener("load",e,{once:!0}),t.push(()=>window.removeEventListener("load",e))),e()}const Au="Petra";class Tu extends ot{constructor({timeout:e=1e4}={}){super();E(this,"name",Au);E(this,"url","https://chrome.google.com/webstore/detail/petra-aptos-wallet/ejjladinnckdgjemekebdpeokbikhfci");E(this,"icon","https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/petra.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.aptos:void 0,this._network=void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>window.aptos?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const e=this._provider||window.aptos,n=await(e==null?void 0:e.connect());this._wallet={address:n==null?void 0:n.address,publicKey:n==null?void 0:n.publicKey,isConnected:!0};try{const o=await(e==null?void 0:e.network()),i=null,s=null;this._network=o,this._chainId=i,this._api=s}catch(o){const i=o.message;throw this.emit("error",new Tt(i)),o}this.emit("connect",this._wallet.publicKey)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet,n=this._provider||window.aptos;if(e){this._wallet=null;try{await(n==null?void 0:n.disconnect())}catch(o){this.emit("error",new rt(o==null?void 0:o.message,o))}}this.emit("disconnect")}async signTransaction(e,n){try{const o=this._wallet,i=this._provider||window.aptos;if(!o||!i)throw new W;const s=await i.signTransaction(e,n);if(s.code)throw new Error(s.message);return s}catch(o){const i=o.message;throw this.emit("error",new Xe(i)),o}}async signAndSubmitTransaction(e,n){try{const o=this._wallet,i=this._provider||window.aptos;if(!o||!i)throw new W;const s=await i.signAndSubmitTransaction(e,n);if(s.code)throw new Error(s.message);return s}catch(o){const i=o.message;throw this.emit("error",new pt(i)),o}}async signMessage(e){try{const n=this._wallet,o=this._provider||window.aptos;if(!n||!o)throw new W;if(typeof e!="object"||!e.nonce)throw new Me("Invalid signMessage Payload");const i=await(o==null?void 0:o.signMessage(e));if(i)return i;throw new Error("Sign Message failed")}catch(n){const o=n.message;throw this.emit("error",new Me(o)),n}}async onAccountChange(){try{const e=this._wallet,n=this._provider||window.aptos;if(!e||!n)throw new W;const o=async i=>{var s,a,u,h,f,w;if(i!=null&&i.publicKey)this._wallet={...this._wallet,publicKey:i.publicKey||((s=this._wallet)==null?void 0:s.publicKey),authKey:i.authKey||((a=this._wallet)==null?void 0:a.authKey),address:i.address||((u=this._wallet)==null?void 0:u.address)};else{const y=await(n==null?void 0:n.connect());this._wallet={...this._wallet,authKey:(y==null?void 0:y.authKey)||((h=this._wallet)==null?void 0:h.authKey),address:(y==null?void 0:y.address)||((f=this._wallet)==null?void 0:f.address),publicKey:(y==null?void 0:y.publicKey)||((w=this._wallet)==null?void 0:w.publicKey)}}this.emit("accountChange",i.publicKey)};await(n==null?void 0:n.onAccountChange(o))}catch(e){const n=e.message;throw this.emit("error",new dt(n)),e}}async onNetworkChange(){try{const e=this._wallet,n=this._provider||window.aptos;if(!e||!n)throw new W;const o=async i=>{this._network=i.networkName,this.emit("networkChange",this._network)};await(n==null?void 0:n.onNetworkChange(o))}catch(e){const n=e.message;throw this.emit("error",new ft(n)),e}}}const Uu="Martian";class ku extends ot{constructor({timeout:e=1e4}={}){super();E(this,"name",Uu);E(this,"url","https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk");E(this,"icon","https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/martian.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.martian:void 0,this._network=void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>window.martian?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const n=this._provider||window.martian;if(await(n==null?void 0:n.isConnected())&&await(n==null?void 0:n.disconnect()),!await(n==null?void 0:n.connect()))throw new W("No connect response");const s=await(n==null?void 0:n.account());if(s){this._wallet={...s,isConnected:!0};try{const a=await(n==null?void 0:n.network()),{chainId:u}=await(n==null?void 0:n.getChainId())||{chainId:""},h=null;this._network=a,this._chainId=u.toString(),this._api=h}catch(a){const u=a.message;throw this.emit("error",new Tt(u)),a}}this.emit("connect",((e=this._wallet)==null?void 0:e.address)||"")}catch(n){throw this.emit("error",new Error(n)),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet,n=this._provider||window.martian;if(e){this._wallet=null;try{await(n==null?void 0:n.disconnect())}catch(o){this.emit("error",new rt(o==null?void 0:o.message,o))}}this.emit("disconnect")}async signTransaction(e,n){try{const o=this._wallet,i=this._provider||window.martian;if(!o||!i)throw new W;const s=await i.generateTransaction(o.address||"",e,n);if(!s)throw new Error("Cannot generate transaction");const a=await(i==null?void 0:i.signTransaction(s));if(!a)throw new Error("No response");return a}catch(o){throw this.emit("error",new Xe(o)),o}}async signAndSubmitTransaction(e,n){try{const o=this._wallet,i=this._provider||window.martian;if(!o||!i)throw new W;const s=await i.generateTransaction(o.address||"",e,n);if(!s)throw new Error("Cannot generate transaction");const a=await(i==null?void 0:i.signAndSubmitTransaction(s));if(!a)throw new Error("No response");return{hash:a}}catch(o){throw this.emit("error",new pt(o)),o}}async signMessage(e){try{const n=this._wallet,o=this._provider||window.martian;if(!n||!o)throw new W;if(typeof e!="object"||!e.nonce)throw new Me("Invalid signMessage Payload");const i=await(o==null?void 0:o.signMessage(e));if(i)return i;throw new Error("Sign Message failed")}catch(n){const o=n.message;throw this.emit("error",new Me(o)),n}}async onAccountChange(){try{const e=this._wallet,n=this._provider||window.martian;if(!e||!n)throw new W;const o=async i=>{const{publicKey:s}=await(n==null?void 0:n.account());this._wallet={...this._wallet,address:i,publicKey:s},this.emit("accountChange",i)};await(n==null?void 0:n.onAccountChange(o))}catch(e){const n=e.message;throw this.emit("error",new dt(n)),e}}async onNetworkChange(){try{const e=this._wallet,n=this._provider||window.martian;if(!e||!n)throw new W;const o=async i=>{this._network=i,this.emit("networkChange",this._network)};await(n==null?void 0:n.onNetworkChange(o))}catch(e){const n=e.message;throw this.emit("error",new ft(n)),e}}}var an={};const Nu=xi(Ml);var ga={},Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.toDecimal=Jn.toHuman=void 0;const Bu=(r,t,e=3,n=",")=>{if(r.length<t)return r.length+e<t?"0":`0${n}${r.slice(0,Math.min(e,t))}`;{const o=r.length-t,i=`${r.slice(o,Math.min(e,t))}`;return i!==""?`${r.slice(0,o)}${n}${i}`:`${r.slice(0,o)}`}};Jn.toHuman=Bu;const Fu=(r,t,e=".")=>{var n=r.split(e);if(n.length!==2)throw new Error("Invalid number");const o=n[0]==="0"?"":n[0],i=n[1].length<=t?`${n[1]}${"0".repeat(t-n[1].length)}`:`${n[1].slice(0,t)}`;return o+i};Jn.toDecimal=Fu;var mo={};Object.defineProperty(mo,"__esModule",{value:!0});mo.isUrl=void 0;const Du=r=>!!new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(r);mo.isUrl=Du;(function(r){var t=Ne&&Ne.__createBinding||(Object.create?function(n,o,i,s){s===void 0&&(s=i);var a=Object.getOwnPropertyDescriptor(o,i);(!a||("get"in a?!o.__esModule:a.writable||a.configurable))&&(a={enumerable:!0,get:function(){return o[i]}}),Object.defineProperty(n,s,a)}:function(n,o,i,s){s===void 0&&(s=i),n[s]=o[i]}),e=Ne&&Ne.__exportStar||function(n,o){for(var i in n)i!=="default"&&!Object.prototype.hasOwnProperty.call(o,i)&&t(o,n,i)};Object.defineProperty(r,"__esModule",{value:!0}),e(Jn,r),e(mo,r)})(ga);var Ui={};Object.defineProperty(Ui,"__esModule",{value:!0});class Ru{constructor(t){E(this,"provider");return this.provider=t,this}}Ui.default=Ru;var cn={},Ar={};Object.defineProperty(Ar,"__esModule",{value:!0});Ar.createReponse=void 0;const Cu=(r,t,e)=>({method:r,status:t,data:e});Ar.createReponse=Cu;Object.defineProperty(cn,"__esModule",{value:!0});cn.MartianMask=cn.MartianMaskToken=cn.MartianMaskSDK=void 0;const ye=Ar;class ya{constructor(t){E(this,"provider");this.provider=t}async getAccountResources(t,e){const n=await this.provider.getAccountResources(t);return(0,ye.createReponse)("getAccountResources",200,n)}async getAccount(t){const e=await this.provider.getAccount(t);return(0,ye.createReponse)("getAccount",200,e)}async getTransactions(t){let e=null;return t?e=await this.provider.getTransactions(t):e=await this.provider.getTransactions(),(0,ye.createReponse)("getTransactions",200,e)}async getAccountTransactions(t,e){const n=await this.provider.getAccountTransactions(t);return(0,ye.createReponse)("getAccountTransactions",200,n)}async getTransactionByHash(t){const e=await this.provider.getTransaction(t);return(0,ye.createReponse)("getTransactionByHash",200,e)}async getChainId(){const t=await this.provider.getChainId();return(0,ye.createReponse)("getChainId",200,t)}}cn.MartianMaskSDK=ya;class ma{constructor(t){E(this,"provider");this.provider=t}async createCollection(t,e,n,o){const i=await this.provider.createCollection(t,e,n);return(0,ye.createReponse)("createCollection",200,i)}async createToken(t,e,n,o,i,s,a,u,h,f,w,y){const g=await this.provider.createToken(t,e,n,o,i,1);return(0,ye.createReponse)("createToken",200,g)}}cn.MartianMaskToken=ma;class Ou{constructor(t){E(this,"provider");E(this,"user");E(this,"sdk");E(this,"token");this.provider=t,this.sdk=new ya(t),this.token=new ma(t)}setUser(t){this.user=t}async reConnect(){const t=await this.provider.connect();if(t){const e={address:t.address,publicKey:t.publicKey};this.setUser(e)}}async connect(){const t=await this.provider.connect();if(t){const e={address:t.address,publicKey:t.publicKey};this.setUser(e)}return(0,ye.createReponse)("connect",200,t)}async disconnect(){const t=await this.provider.disconnect();return this.setUser(null),(0,ye.createReponse)("disconnect",200,t)}async isConnected(){return this.user.address&&this.user.publicKey?(0,ye.createReponse)("isConnected",200,!0):(0,ye.createReponse)("isConnected",200,!1)}async account(){return this.user||await this.reConnect(),(0,ye.createReponse)("account",200,this.user)}async getNetwork(){const t=await this.provider.network();return console.log("7s62::getNetwork:",t),(0,ye.createReponse)("getNetwork",200,t)}async getNetworkURL(){const t=await this.provider.network();return console.log("7s62::getNetworkURL:",t),(0,ye.createReponse)("getNetworkURL",200,t)}async getBalance(){console.log("7s62::getBalance");const t=await this.provider.legacy.getAccountBalance();return console.log("7s62::getBalance:",t),(0,ye.createReponse)("getAccountBalance",200,t)}async generateTransaction(t,e){console.log("7s62::generateTransaction"),this.user||await this.reConnect();const n=await this.provider.generateTransaction(this.user.address,t);return(0,ye.createReponse)("generateTransaction",200,n)}async signTransaction(t){const e=await this.provider.signTransaction(t);return(0,ye.createReponse)("signTransaction",200,e)}async submitTransaction(t){const e=await this.provider.submitTransaction(t);return(0,ye.createReponse)("submitTransaction",200,e)}async generateSignSubmitTransaction(t,e){console.log("7s62::generateSignSubmitTransaction"),this.user||await this.reConnect();const n=await this.provider.generateTransaction(this.user.address,t),o=await this.provider.signTransaction(n),i=await this.provider.submitTransaction(o);return(0,ye.createReponse)("generateSignSubmitTransaction",200,i)}async signAndSubmitTransaction(t){const e=await this.provider.signAndSubmitTransaction(t);return(0,ye.createReponse)("signAndSubmit",200,e)}async signMessage(t){const e=await this.provider.signMessage(t);return(0,ye.createReponse)("signMessage",200,e)}async createCollection(t,e,n,o){const i=await this.provider.createCollection(t,e,n,o);return(0,ye.createReponse)("createCollection",200,i)}async createToken(t,e,n,o,i,s,a,u,h,f,w,y){const g=await this.provider.createToken(t,e,n,o,i,s,a,u,h,f,w,y);return(0,ye.createReponse)("createToken",200,g)}async getTransactionByHash(t){const e=await this.provider.getTransaction(t);return(0,ye.createReponse)("getTransactionByHash",200,e)}async getLedgerInfo(){const t=await this.provider.getLedgerInfo();return(0,ye.createReponse)("getLedgerInfo",200,t)}}cn.MartianMask=Ou;var Eo={};Object.defineProperty(Eo,"__esModule",{value:!0});Eo.PetraMask=void 0;const xt=Ar;class ju{constructor(t){E(this,"provider");this.provider=t}async connect(){if(await this.provider.connect()){const e=await this.provider.account();return(0,xt.createReponse)("connect",200,e)}return(0,xt.createReponse)("connect",400,null)}async account(){if(await this.provider.isConnected()){const e=await this.provider.account();return(0,xt.createReponse)("isConnected",200,e)}return(0,xt.createReponse)("isConnected",400,null)}async isConnected(){const t=await this.provider.isConnected();return(0,xt.createReponse)("isConnected",200,t)}async disconnect(){return await this.provider.disconnect()?(0,xt.createReponse)("disconnect",200,!0):(0,xt.createReponse)("disconnect",400,!1)}async getNetwork(){const t=await this.provider.network();return(0,xt.createReponse)("network",200,t)}async signAndSubmitTransaction(t){const e=await this.provider.signAndSubmitTransaction(t);return(0,xt.createReponse)("signAndSubmitTransaction",200,e)}async signTransaction(t){const e=await this.provider.signTransaction(t);return(0,xt.createReponse)("signTransaction",200,e)}async signMessage(t){const e=await this.provider.signMessage(t);return(0,xt.createReponse)("signMessage",200,e)}}Eo.PetraMask=ju;var Vu=Ne&&Ne.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e);var o=Object.getOwnPropertyDescriptor(t,e);(!o||("get"in o?!t.__esModule:o.writable||o.configurable))&&(o={enumerable:!0,get:function(){return t[e]}}),Object.defineProperty(r,n,o)}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),Lu=Ne&&Ne.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Ea=Ne&&Ne.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.prototype.hasOwnProperty.call(r,e)&&Vu(t,r,e);return Lu(t,r),t},zu=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(an,"__esModule",{value:!0});an.Web3Provider=an.utils=an.Aptos=void 0;const Qu=Ea(Nu);an.Aptos=Qu;const Wu=Ea(ga);an.utils=Wu;const pr=zu(Ui);an.Web3Provider=pr.default;const Zu=cn,Pu=Eo;class Ku{constructor(t){E(this,"action");return t?t.isFewcha?this.action=new pr.default(t).provider:t._isConnected!==void 0?this.action=new Zu.MartianMask(t):this.action=new Pu.PetraMask(t):(this.action=new pr.default(window.fewcha).provider,window.addEventListener("fewcha#initialized",()=>{this.action=new pr.default(window.fewcha).provider}),window.addEventListener("martian#initialized",()=>{this.action=new pr.default(window.martian).provider})),this}setProvider(t){return this.action=t.provider,this}}var $u=an.default=Ku;const Yu="Fewcha";class Hu extends ot{constructor({timeout:e=1e4}={}){super();E(this,"name",Yu);E(this,"url","https://fewcha.app/");E(this,"icon","https://miro.medium.com/fit/c/176/176/1*a0WaY-q7gjCRiuryRG6TkQ.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._network=void 0,this._provider=typeof window<"u"?new $u().action:void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>{var n;return(n=window==null?void 0:window.fewcha)!=null&&n.aptos?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.connected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const n=this._provider||((e=window==null?void 0:window.fewcha)==null?void 0:e.aptos),o=await n.isConnected();(o==null?void 0:o.data)===!0&&await n.disconnect();const i=await n.connect();if(i.status===401)throw new Lo("User has rejected the connection");if(i.status!==200)throw new Lo("Wallet connect issue");let s={...i.data};if(!s.publicKey){const a=await n.account();if(!a.data.publicKey)throw new Lo("Wallet connect issue",i.data);s={...a.data}}this._wallet={connected:!0,...s};try{const{data:a}=await(n==null?void 0:n.getNetwork()),u=null,h=null;this._network=a,this._chainId=u,this._api=h}catch(a){const u=a.message;throw this.emit("error",new Tt(u)),a}this.emit("connect",this._wallet.publicKey)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){var n;const e=this._provider||((n=window==null?void 0:window.fewcha)==null?void 0:n.aptos);if(e)try{if((await e.disconnect()).data===!0)this._provider=void 0,this._wallet=null;else throw new Error("Disconnect failed")}catch(o){throw this.emit("error",new rt(o==null?void 0:o.message,o)),o}this.emit("disconnect")}async signTransaction(e,n){var o;try{if(!this._wallet)throw new W;const s=this._provider||((o=window==null?void 0:window.fewcha)==null?void 0:o.aptos),a=await s.generateTransaction(e,n);if(!a)throw new Error("Cannot generate transaction");const u=await(s==null?void 0:s.signTransaction(a.data));if(!u||u.status!==200)throw new Error("No response");return u.data}catch(i){const s=i instanceof Error?i.message:i.response.data.message;throw this.emit("error",new Xe(s)),i}}async signAndSubmitTransaction(e,n){var o;try{if(!this._wallet)throw new W;const s=this._provider||((o=window==null?void 0:window.fewcha)==null?void 0:o.aptos),a=await s.generateTransaction(e,n);if(!a)throw new Error("Cannot generate transaction");const u=await(s==null?void 0:s.signAndSubmitTransaction(a.data));if(u.status===401)throw new Error("User has rejected the transaction");if(u.status!==200)throw new Error("Transaction issue");return{hash:u.data}}catch(i){const s=i instanceof Error?i.message:i.response.data.message;throw this.emit("error",new pt(s)),i}}async signMessage(e){var n;try{const o=this._wallet,i=this._provider||((n=window==null?void 0:window.fewcha)==null?void 0:n.aptos);if(!o||!i)throw new W;const s=await(i==null?void 0:i.signMessage(e));if(s)return s.data;throw new Error("Sign Message failed")}catch(o){const i=o.message;throw this.emit("error",new Me(i)),o}}async onAccountChange(){var e;try{const n=this._wallet,o=this._provider||((e=window==null?void 0:window.fewcha)==null?void 0:e.aptos);if(!n||!o)throw new W}catch(n){const o=n.message;throw this.emit("error",new dt(o)),n}}async onNetworkChange(){var e;try{const n=this._wallet,o=this._provider||((e=window==null?void 0:window.fewcha)==null?void 0:e.aptos);if(!n||!o)throw new W}catch(n){const o=n.message;throw this.emit("error",new ft(o)),n}}}const Gu="Pontem";class Ju extends ot{constructor({timeout:e=1e4}={}){super();E(this,"name",Gu);E(this,"url","https://chrome.google.com/webstore/detail/pontem-wallet/phkbamefinggmakgklpkljjmgibohnba");E(this,"icon","https://www.gitbook.com/cdn-cgi/image/width=20,height=20,fit=contain,dpr=2,format=auto/https%3A%2F%2F736486047-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-legacy-files%2Fo%2Fspaces%252F-MVVJKmKQGx983dZy_jr%252Favatar-1619180126965.png%3Fgeneration%3D1619180127194239%26alt%3Dmedia");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.pontem:void 0,this._network=void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>window.pontem?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const n=this._provider||window.pontem;await(n==null?void 0:n.isConnected())&&await(n==null?void 0:n.disconnect());const i=await(n==null?void 0:n.connect());if(!i)throw new W("No connect response");const s=i.address,a=i.publicKey;if(s){this._wallet={address:s,publicKey:a,isConnected:!0};try{const u=await(n==null?void 0:n.network());this._network=u.name,this._chainId=u.chainId,this._api=u.api}catch(u){const h=u.message;throw this.emit("error",new Tt(h)),u}}this.emit("connect",((e=this._wallet)==null?void 0:e.address)||"")}catch(n){throw this.emit("error",new Error("User has rejected the connection")),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet,n=this._provider||window.pontem;if(e){this._wallet=null;try{await(n==null?void 0:n.disconnect())}catch(o){this.emit("error",new rt(o==null?void 0:o.message,o))}}this.emit("disconnect")}async signTransaction(e,n){try{const o=this._wallet,i=this._provider||window.pontem;if(!o||!i)throw new W;return await(i==null?void 0:i.signTransaction(e,n))}catch(o){throw this.emit("error",new Xe(o)),o}}async signAndSubmitTransaction(e,n){try{const o=this._wallet,i=this._provider||window.pontem;if(!o||!i)throw new W;const s=await(i==null?void 0:i.signAndSubmit(e,n));if(!s||!s.success)throw new Error("No response");return{hash:s.result.hash}}catch(o){throw this.emit("error",new pt(o.message)),o}}async signMessage(e){try{const n=this._wallet,o=this._provider||window.pontem;if(!n||!o)throw new W;const i=await(o==null?void 0:o.signMessage(e));if(i.success)return i.result;throw new Error("Sign Message failed")}catch(n){const o=n.message;throw this.emit("error",new Me(o)),n}}async onAccountChange(){try{const e=this._wallet,n=this._provider||window.pontem;if(!e||!n)throw new W;const o=async i=>{if(i===void 0){this.connected&&await(n==null?void 0:n.disconnect());return}const s=await(n==null?void 0:n.publicKey());this._wallet={...this._wallet,address:i,publicKey:s},this.emit("accountChange",i)};await(n==null?void 0:n.onAccountChange(o))}catch(e){const n=e.message;throw this.emit("error",new dt(n)),e}}async onNetworkChange(){try{const e=this._wallet,n=this._provider||window.pontem;if(!e||!n)throw new W;const o=i=>{this._network=i.name,this._api=i.api,this._chainId=i.chainId,this._network&&this.emit("networkChange",this._network)};await(n==null?void 0:n.onNetworkChange(o))}catch(e){const n=e.message;throw this.emit("error",new ft(n)),e}}}const Xu="Spika";class qu extends ot{constructor({timeout:e=1e4}={}){super();E(this,"name",Xu);E(this,"url","https://chrome.google.com/webstore/detail/spika/fadkojdgchhfkdkklllhcphknohbmjmb");E(this,"icon","https://spika.app/assets/logo_400_nb.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.spika:void 0,this._network=void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>window.spika?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const e=this._provider||window.spika;await(e==null?void 0:e.isConnected());const n=await(e==null?void 0:e.connect());(n==null?void 0:n.publicKey)!==void 0?this._wallet={publicKey:n==null?void 0:n.publicKey,address:n==null?void 0:n.account,authKey:n==null?void 0:n.authKey,isConnected:!0}:this._wallet={isConnected:!1},this.emit("connect",this._wallet.publicKey)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){if(this._wallet){this._wallet=null;try{const n=this._provider||window.spika;await(n==null?void 0:n.disconnect())}catch(n){this.emit("error",new rt(n==null?void 0:n.message,n))}}this.emit("disconnect")}async signTransaction(e,n){try{const o=this._wallet,i=this._provider||window.spika;if(!o||!i)throw new W;const s=await(i==null?void 0:i.signTransaction(e,n));if(s)return s;throw new Error("Sign Transaction failed")}catch(o){const i=o.message;throw this.emit("error",new Xe(i)),o}}async signAndSubmitTransaction(e,n){try{const o=this._wallet,i=this._provider||window.spika;if(!o||!i)throw new W;const s=await(i==null?void 0:i.signAndSubmitTransaction(e,n));if(s)return s;throw new Error("Transaction failed")}catch(o){const i=o.message;throw this.emit("error",new pt(i)),o}}async signMessage(e){try{const n=this._wallet,o=this._provider||window.spika;if(!n||!o)throw new W;const i=await(o==null?void 0:o.signMessage(e));if(i)return i;throw new Error("Sign Message failed")}catch(n){const o=n.message;throw this.emit("error",new Me(o)),n}}async onAccountChange(){try{const e=this._wallet,n=this._provider||window.spika;if(!e||!n)throw new W}catch(e){const n=e.message;throw this.emit("error",new dt(n)),e}}async onNetworkChange(){try{const e=this._wallet,n=this._provider||window.spika;if(!e||!n)throw new W}catch(e){const n=e.message;throw this.emit("error",new ft(n)),e}}}const eh="Coin98";class th extends ot{constructor({timeout:e=1e4}={}){var n;super();E(this,"name",eh);E(this,"url","https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg");E(this,"icon","https://coin98.s3.ap-southeast-1.amazonaws.com/Coin/c98wallet.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?(n=window.coin98)==null?void 0:n.aptos:void 0,this._network=void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>{var o;return(o=window.coin98)!=null&&o.aptos?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const n=this._provider||((e=window.coin98)==null?void 0:e.aptos);let o=await(n==null?void 0:n.connect());typeof o=="boolean"&&(o=await(n==null?void 0:n.account())),this._wallet={address:o==null?void 0:o.address,publicKey:o==null?void 0:o.publicKey,isConnected:!0};try{this._chainId=null,this._api=null}catch(i){const s=i.message;throw this.emit("error",new Tt(s)),i}this.emit("connect",this._wallet.publicKey)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){var o;const e=this._wallet,n=this._provider||((o=window.coin98)==null?void 0:o.aptos);if(e){this._wallet=null;try{await(n==null?void 0:n.disconnect())}catch(i){this.emit("error",new rt(i==null?void 0:i.message,i))}}this.emit("disconnect")}async signTransaction(e,n){var o;try{const i=this._wallet,s=this._provider||((o=window.coin98)==null?void 0:o.aptos);if(!i||!s)throw new W;const a=await s.signTransaction(e,n);if(a.code)throw new Error(a.message);return a}catch(i){const s=i.message;throw this.emit("error",new Xe(s)),i}}async signAndSubmitTransaction(e,n){var o;try{const i=this._wallet,s=this._provider||((o=window.coin98)==null?void 0:o.aptos);if(!i||!s)throw new W;const a=await s.signAndSubmitTransaction(e,n);if(a.code)throw new Error(a.message);return a}catch(i){const s=i.message;throw this.emit("error",new pt(s)),i}}async signMessage(e){var n;try{const o=this._wallet,i=this._provider||((n=window.coin98)==null?void 0:n.aptos);if(!o||!i)throw new W;if(typeof e!="object"||!e.nonce)throw new Me("Invalid signMessage Payload");const s=await(i==null?void 0:i.signMessage(e));if(s)return s;throw new Error("Sign Message failed")}catch(o){const i=o.message;throw this.emit("error",new Me(i)),o}}async onAccountChange(){var e;try{const n=this._wallet,o=this._provider||((e=window.coin98)==null?void 0:e.aptos);if(!n||!o)throw new W;const i=async s=>{var a,u,h,f;if(s!=null&&s.publicKey)this._wallet={...this._wallet,publicKey:s.publicKey||((a=this._wallet)==null?void 0:a.publicKey),address:s.address||((u=this._wallet)==null?void 0:u.address)};else{const w=await(o==null?void 0:o.connect());this._wallet={...this._wallet,address:(w==null?void 0:w.address)||((h=this._wallet)==null?void 0:h.address),publicKey:(w==null?void 0:w.publicKey)||((f=this._wallet)==null?void 0:f.publicKey)}}this.emit("accountChange",s.publicKey)};o.on("accountChange",i)}catch(n){const o=n.message;throw this.emit("error",new dt(o)),n}}async onNetworkChange(){var e;try{const n=this._wallet,o=this._provider||((e=window.coin98)==null?void 0:e.aptos);if(!n||!o)throw new W}catch(n){const o=n.message;throw this.emit("error",new ft(o)),n}}}var re={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(r){const t=xl,e=Il,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;r.Buffer=a,r.SlowBuffer=k,r.INSPECT_MAX_BYTES=50;const o=2147483647;r.kMaxLength=o,a.TYPED_ARRAY_SUPPORT=i(),!a.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{const d=new Uint8Array(1),c={foo:function(){return 42}};return Object.setPrototypeOf(c,Uint8Array.prototype),Object.setPrototypeOf(d,c),d.foo()===42}catch{return!1}}Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(!!a.isBuffer(this))return this.byteOffset}});function s(d){if(d>o)throw new RangeError('The value "'+d+'" is invalid for option "size"');const c=new Uint8Array(d);return Object.setPrototypeOf(c,a.prototype),c}function a(d,c,l){if(typeof d=="number"){if(typeof c=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(d)}return u(d,c,l)}a.poolSize=8192;function u(d,c,l){if(typeof d=="string")return y(d,c);if(ArrayBuffer.isView(d))return _(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(kt(d,ArrayBuffer)||d&&kt(d.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(kt(d,SharedArrayBuffer)||d&&kt(d.buffer,SharedArrayBuffer)))return b(d,c,l);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const p=d.valueOf&&d.valueOf();if(p!=null&&p!==d)return a.from(p,c,l);const m=M(d);if(m)return m;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return a.from(d[Symbol.toPrimitive]("string"),c,l);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}a.from=function(d,c,l){return u(d,c,l)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array);function h(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function f(d,c,l){return h(d),d<=0?s(d):c!==void 0?typeof l=="string"?s(d).fill(c,l):s(d).fill(c):s(d)}a.alloc=function(d,c,l){return f(d,c,l)};function w(d){return h(d),s(d<0?0:U(d)|0)}a.allocUnsafe=function(d){return w(d)},a.allocUnsafeSlow=function(d){return w(d)};function y(d,c){if((typeof c!="string"||c==="")&&(c="utf8"),!a.isEncoding(c))throw new TypeError("Unknown encoding: "+c);const l=x(d,c)|0;let p=s(l);const m=p.write(d,c);return m!==l&&(p=p.slice(0,m)),p}function g(d){const c=d.length<0?0:U(d.length)|0,l=s(c);for(let p=0;p<c;p+=1)l[p]=d[p]&255;return l}function _(d){if(kt(d,Uint8Array)){const c=new Uint8Array(d);return b(c.buffer,c.byteOffset,c.byteLength)}return g(d)}function b(d,c,l){if(c<0||d.byteLength<c)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<c+(l||0))throw new RangeError('"length" is outside of buffer bounds');let p;return c===void 0&&l===void 0?p=new Uint8Array(d):l===void 0?p=new Uint8Array(d,c):p=new Uint8Array(d,c,l),Object.setPrototypeOf(p,a.prototype),p}function M(d){if(a.isBuffer(d)){const c=U(d.length)|0,l=s(c);return l.length===0||d.copy(l,0,0,c),l}if(d.length!==void 0)return typeof d.length!="number"||jo(d.length)?s(0):g(d);if(d.type==="Buffer"&&Array.isArray(d.data))return g(d.data)}function U(d){if(d>=o)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+o.toString(16)+" bytes");return d|0}function k(d){return+d!=d&&(d=0),a.alloc(+d)}a.isBuffer=function(c){return c!=null&&c._isBuffer===!0&&c!==a.prototype},a.compare=function(c,l){if(kt(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),kt(l,Uint8Array)&&(l=a.from(l,l.offset,l.byteLength)),!a.isBuffer(c)||!a.isBuffer(l))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(c===l)return 0;let p=c.length,m=l.length;for(let I=0,N=Math.min(p,m);I<N;++I)if(c[I]!==l[I]){p=c[I],m=l[I];break}return p<m?-1:m<p?1:0},a.isEncoding=function(c){switch(String(c).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(c,l){if(!Array.isArray(c))throw new TypeError('"list" argument must be an Array of Buffers');if(c.length===0)return a.alloc(0);let p;if(l===void 0)for(l=0,p=0;p<c.length;++p)l+=c[p].length;const m=a.allocUnsafe(l);let I=0;for(p=0;p<c.length;++p){let N=c[p];if(kt(N,Uint8Array))I+N.length>m.length?(a.isBuffer(N)||(N=a.from(N)),N.copy(m,I)):Uint8Array.prototype.set.call(m,N,I);else if(a.isBuffer(N))N.copy(m,I);else throw new TypeError('"list" argument must be an Array of Buffers');I+=N.length}return m};function x(d,c){if(a.isBuffer(d))return d.length;if(ArrayBuffer.isView(d)||kt(d,ArrayBuffer))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);const l=d.length,p=arguments.length>2&&arguments[2]===!0;if(!p&&l===0)return 0;let m=!1;for(;;)switch(c){case"ascii":case"latin1":case"binary":return l;case"utf8":case"utf-8":return Oo(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l*2;case"hex":return l>>>1;case"base64":return bs(d).length;default:if(m)return p?-1:Oo(d).length;c=(""+c).toLowerCase(),m=!0}}a.byteLength=x;function z(d,c,l){let p=!1;if((c===void 0||c<0)&&(c=0),c>this.length||((l===void 0||l>this.length)&&(l=this.length),l<=0)||(l>>>=0,c>>>=0,l<=c))return"";for(d||(d="utf8");;)switch(d){case"hex":return fe(this,c,l);case"utf8":case"utf-8":return G(this,c,l);case"ascii":return st(this,c,l);case"latin1":case"binary":return Mt(this,c,l);case"base64":return te(this,c,l);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return He(this,c,l);default:if(p)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),p=!0}}a.prototype._isBuffer=!0;function A(d,c,l){const p=d[c];d[c]=d[l],d[l]=p}a.prototype.swap16=function(){const c=this.length;if(c%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let l=0;l<c;l+=2)A(this,l,l+1);return this},a.prototype.swap32=function(){const c=this.length;if(c%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let l=0;l<c;l+=4)A(this,l,l+3),A(this,l+1,l+2);return this},a.prototype.swap64=function(){const c=this.length;if(c%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let l=0;l<c;l+=8)A(this,l,l+7),A(this,l+1,l+6),A(this,l+2,l+5),A(this,l+3,l+4);return this},a.prototype.toString=function(){const c=this.length;return c===0?"":arguments.length===0?G(this,0,c):z.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(c){if(!a.isBuffer(c))throw new TypeError("Argument must be a Buffer");return this===c?!0:a.compare(this,c)===0},a.prototype.inspect=function(){let c="";const l=r.INSPECT_MAX_BYTES;return c=this.toString("hex",0,l).replace(/(.{2})/g,"$1 ").trim(),this.length>l&&(c+=" ... "),"<Buffer "+c+">"},n&&(a.prototype[n]=a.prototype.inspect),a.prototype.compare=function(c,l,p,m,I){if(kt(c,Uint8Array)&&(c=a.from(c,c.offset,c.byteLength)),!a.isBuffer(c))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof c);if(l===void 0&&(l=0),p===void 0&&(p=c?c.length:0),m===void 0&&(m=0),I===void 0&&(I=this.length),l<0||p>c.length||m<0||I>this.length)throw new RangeError("out of range index");if(m>=I&&l>=p)return 0;if(m>=I)return-1;if(l>=p)return 1;if(l>>>=0,p>>>=0,m>>>=0,I>>>=0,this===c)return 0;let N=I-m,oe=p-l;const Ie=Math.min(N,oe),Ee=this.slice(m,I),Ae=c.slice(l,p);for(let ge=0;ge<Ie;++ge)if(Ee[ge]!==Ae[ge]){N=Ee[ge],oe=Ae[ge];break}return N<oe?-1:oe<N?1:0};function j(d,c,l,p,m){if(d.length===0)return-1;if(typeof l=="string"?(p=l,l=0):l>2147483647?l=2147483647:l<-2147483648&&(l=-2147483648),l=+l,jo(l)&&(l=m?0:d.length-1),l<0&&(l=d.length+l),l>=d.length){if(m)return-1;l=d.length-1}else if(l<0)if(m)l=0;else return-1;if(typeof c=="string"&&(c=a.from(c,p)),a.isBuffer(c))return c.length===0?-1:O(d,c,l,p,m);if(typeof c=="number")return c=c&255,typeof Uint8Array.prototype.indexOf=="function"?m?Uint8Array.prototype.indexOf.call(d,c,l):Uint8Array.prototype.lastIndexOf.call(d,c,l):O(d,[c],l,p,m);throw new TypeError("val must be string, number or Buffer")}function O(d,c,l,p,m){let I=1,N=d.length,oe=c.length;if(p!==void 0&&(p=String(p).toLowerCase(),p==="ucs2"||p==="ucs-2"||p==="utf16le"||p==="utf-16le")){if(d.length<2||c.length<2)return-1;I=2,N/=2,oe/=2,l/=2}function Ie(Ae,ge){return I===1?Ae[ge]:Ae.readUInt16BE(ge*I)}let Ee;if(m){let Ae=-1;for(Ee=l;Ee<N;Ee++)if(Ie(d,Ee)===Ie(c,Ae===-1?0:Ee-Ae)){if(Ae===-1&&(Ae=Ee),Ee-Ae+1===oe)return Ae*I}else Ae!==-1&&(Ee-=Ee-Ae),Ae=-1}else for(l+oe>N&&(l=N-oe),Ee=l;Ee>=0;Ee--){let Ae=!0;for(let ge=0;ge<oe;ge++)if(Ie(d,Ee+ge)!==Ie(c,ge)){Ae=!1;break}if(Ae)return Ee}return-1}a.prototype.includes=function(c,l,p){return this.indexOf(c,l,p)!==-1},a.prototype.indexOf=function(c,l,p){return j(this,c,l,p,!0)},a.prototype.lastIndexOf=function(c,l,p){return j(this,c,l,p,!1)};function H(d,c,l,p){l=Number(l)||0;const m=d.length-l;p?(p=Number(p),p>m&&(p=m)):p=m;const I=c.length;p>I/2&&(p=I/2);let N;for(N=0;N<p;++N){const oe=parseInt(c.substr(N*2,2),16);if(jo(oe))return N;d[l+N]=oe}return N}function ie(d,c,l,p){return Rr(Oo(c,d.length-l),d,l,p)}function R(d,c,l,p){return Rr(ml(c),d,l,p)}function B(d,c,l,p){return Rr(bs(c),d,l,p)}function Y(d,c,l,p){return Rr(El(c,d.length-l),d,l,p)}a.prototype.write=function(c,l,p,m){if(l===void 0)m="utf8",p=this.length,l=0;else if(p===void 0&&typeof l=="string")m=l,p=this.length,l=0;else if(isFinite(l))l=l>>>0,isFinite(p)?(p=p>>>0,m===void 0&&(m="utf8")):(m=p,p=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const I=this.length-l;if((p===void 0||p>I)&&(p=I),c.length>0&&(p<0||l<0)||l>this.length)throw new RangeError("Attempt to write outside buffer bounds");m||(m="utf8");let N=!1;for(;;)switch(m){case"hex":return H(this,c,l,p);case"utf8":case"utf-8":return ie(this,c,l,p);case"ascii":case"latin1":case"binary":return R(this,c,l,p);case"base64":return B(this,c,l,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,c,l,p);default:if(N)throw new TypeError("Unknown encoding: "+m);m=(""+m).toLowerCase(),N=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function te(d,c,l){return c===0&&l===d.length?t.fromByteArray(d):t.fromByteArray(d.slice(c,l))}function G(d,c,l){l=Math.min(d.length,l);const p=[];let m=c;for(;m<l;){const I=d[m];let N=null,oe=I>239?4:I>223?3:I>191?2:1;if(m+oe<=l){let Ie,Ee,Ae,ge;switch(oe){case 1:I<128&&(N=I);break;case 2:Ie=d[m+1],(Ie&192)===128&&(ge=(I&31)<<6|Ie&63,ge>127&&(N=ge));break;case 3:Ie=d[m+1],Ee=d[m+2],(Ie&192)===128&&(Ee&192)===128&&(ge=(I&15)<<12|(Ie&63)<<6|Ee&63,ge>2047&&(ge<55296||ge>57343)&&(N=ge));break;case 4:Ie=d[m+1],Ee=d[m+2],Ae=d[m+3],(Ie&192)===128&&(Ee&192)===128&&(Ae&192)===128&&(ge=(I&15)<<18|(Ie&63)<<12|(Ee&63)<<6|Ae&63,ge>65535&&ge<1114112&&(N=ge))}}N===null?(N=65533,oe=1):N>65535&&(N-=65536,p.push(N>>>10&1023|55296),N=56320|N&1023),p.push(N),m+=oe}return Ce(p)}const xe=4096;function Ce(d){const c=d.length;if(c<=xe)return String.fromCharCode.apply(String,d);let l="",p=0;for(;p<c;)l+=String.fromCharCode.apply(String,d.slice(p,p+=xe));return l}function st(d,c,l){let p="";l=Math.min(d.length,l);for(let m=c;m<l;++m)p+=String.fromCharCode(d[m]&127);return p}function Mt(d,c,l){let p="";l=Math.min(d.length,l);for(let m=c;m<l;++m)p+=String.fromCharCode(d[m]);return p}function fe(d,c,l){const p=d.length;(!c||c<0)&&(c=0),(!l||l<0||l>p)&&(l=p);let m="";for(let I=c;I<l;++I)m+=_l[d[I]];return m}function He(d,c,l){const p=d.slice(c,l);let m="";for(let I=0;I<p.length-1;I+=2)m+=String.fromCharCode(p[I]+p[I+1]*256);return m}a.prototype.slice=function(c,l){const p=this.length;c=~~c,l=l===void 0?p:~~l,c<0?(c+=p,c<0&&(c=0)):c>p&&(c=p),l<0?(l+=p,l<0&&(l=0)):l>p&&(l=p),l<c&&(l=c);const m=this.subarray(c,l);return Object.setPrototypeOf(m,a.prototype),m};function pe(d,c,l){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+c>l)throw new RangeError("Trying to access beyond buffer length")}a.prototype.readUintLE=a.prototype.readUIntLE=function(c,l,p){c=c>>>0,l=l>>>0,p||pe(c,l,this.length);let m=this[c],I=1,N=0;for(;++N<l&&(I*=256);)m+=this[c+N]*I;return m},a.prototype.readUintBE=a.prototype.readUIntBE=function(c,l,p){c=c>>>0,l=l>>>0,p||pe(c,l,this.length);let m=this[c+--l],I=1;for(;l>0&&(I*=256);)m+=this[c+--l]*I;return m},a.prototype.readUint8=a.prototype.readUInt8=function(c,l){return c=c>>>0,l||pe(c,1,this.length),this[c]},a.prototype.readUint16LE=a.prototype.readUInt16LE=function(c,l){return c=c>>>0,l||pe(c,2,this.length),this[c]|this[c+1]<<8},a.prototype.readUint16BE=a.prototype.readUInt16BE=function(c,l){return c=c>>>0,l||pe(c,2,this.length),this[c]<<8|this[c+1]},a.prototype.readUint32LE=a.prototype.readUInt32LE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),(this[c]|this[c+1]<<8|this[c+2]<<16)+this[c+3]*16777216},a.prototype.readUint32BE=a.prototype.readUInt32BE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),this[c]*16777216+(this[c+1]<<16|this[c+2]<<8|this[c+3])},a.prototype.readBigUInt64LE=Ht(function(c){c=c>>>0,Vn(c,"offset");const l=this[c],p=this[c+7];(l===void 0||p===void 0)&&ur(c,this.length-8);const m=l+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24,I=this[++c]+this[++c]*2**8+this[++c]*2**16+p*2**24;return BigInt(m)+(BigInt(I)<<BigInt(32))}),a.prototype.readBigUInt64BE=Ht(function(c){c=c>>>0,Vn(c,"offset");const l=this[c],p=this[c+7];(l===void 0||p===void 0)&&ur(c,this.length-8);const m=l*2**24+this[++c]*2**16+this[++c]*2**8+this[++c],I=this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+p;return(BigInt(m)<<BigInt(32))+BigInt(I)}),a.prototype.readIntLE=function(c,l,p){c=c>>>0,l=l>>>0,p||pe(c,l,this.length);let m=this[c],I=1,N=0;for(;++N<l&&(I*=256);)m+=this[c+N]*I;return I*=128,m>=I&&(m-=Math.pow(2,8*l)),m},a.prototype.readIntBE=function(c,l,p){c=c>>>0,l=l>>>0,p||pe(c,l,this.length);let m=l,I=1,N=this[c+--m];for(;m>0&&(I*=256);)N+=this[c+--m]*I;return I*=128,N>=I&&(N-=Math.pow(2,8*l)),N},a.prototype.readInt8=function(c,l){return c=c>>>0,l||pe(c,1,this.length),this[c]&128?(255-this[c]+1)*-1:this[c]},a.prototype.readInt16LE=function(c,l){c=c>>>0,l||pe(c,2,this.length);const p=this[c]|this[c+1]<<8;return p&32768?p|4294901760:p},a.prototype.readInt16BE=function(c,l){c=c>>>0,l||pe(c,2,this.length);const p=this[c+1]|this[c]<<8;return p&32768?p|4294901760:p},a.prototype.readInt32LE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),this[c]|this[c+1]<<8|this[c+2]<<16|this[c+3]<<24},a.prototype.readInt32BE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),this[c]<<24|this[c+1]<<16|this[c+2]<<8|this[c+3]},a.prototype.readBigInt64LE=Ht(function(c){c=c>>>0,Vn(c,"offset");const l=this[c],p=this[c+7];(l===void 0||p===void 0)&&ur(c,this.length-8);const m=this[c+4]+this[c+5]*2**8+this[c+6]*2**16+(p<<24);return(BigInt(m)<<BigInt(32))+BigInt(l+this[++c]*2**8+this[++c]*2**16+this[++c]*2**24)}),a.prototype.readBigInt64BE=Ht(function(c){c=c>>>0,Vn(c,"offset");const l=this[c],p=this[c+7];(l===void 0||p===void 0)&&ur(c,this.length-8);const m=(l<<24)+this[++c]*2**16+this[++c]*2**8+this[++c];return(BigInt(m)<<BigInt(32))+BigInt(this[++c]*2**24+this[++c]*2**16+this[++c]*2**8+p)}),a.prototype.readFloatLE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),e.read(this,c,!0,23,4)},a.prototype.readFloatBE=function(c,l){return c=c>>>0,l||pe(c,4,this.length),e.read(this,c,!1,23,4)},a.prototype.readDoubleLE=function(c,l){return c=c>>>0,l||pe(c,8,this.length),e.read(this,c,!0,52,8)},a.prototype.readDoubleBE=function(c,l){return c=c>>>0,l||pe(c,8,this.length),e.read(this,c,!1,52,8)};function Ve(d,c,l,p,m,I){if(!a.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(c>m||c<I)throw new RangeError('"value" argument is out of bounds');if(l+p>d.length)throw new RangeError("Index out of range")}a.prototype.writeUintLE=a.prototype.writeUIntLE=function(c,l,p,m){if(c=+c,l=l>>>0,p=p>>>0,!m){const oe=Math.pow(2,8*p)-1;Ve(this,c,l,p,oe,0)}let I=1,N=0;for(this[l]=c&255;++N<p&&(I*=256);)this[l+N]=c/I&255;return l+p},a.prototype.writeUintBE=a.prototype.writeUIntBE=function(c,l,p,m){if(c=+c,l=l>>>0,p=p>>>0,!m){const oe=Math.pow(2,8*p)-1;Ve(this,c,l,p,oe,0)}let I=p-1,N=1;for(this[l+I]=c&255;--I>=0&&(N*=256);)this[l+I]=c/N&255;return l+p},a.prototype.writeUint8=a.prototype.writeUInt8=function(c,l,p){return c=+c,l=l>>>0,p||Ve(this,c,l,1,255,0),this[l]=c&255,l+1},a.prototype.writeUint16LE=a.prototype.writeUInt16LE=function(c,l,p){return c=+c,l=l>>>0,p||Ve(this,c,l,2,65535,0),this[l]=c&255,this[l+1]=c>>>8,l+2},a.prototype.writeUint16BE=a.prototype.writeUInt16BE=function(c,l,p){return c=+c,l=l>>>0,p||Ve(this,c,l,2,65535,0),this[l]=c>>>8,this[l+1]=c&255,l+2},a.prototype.writeUint32LE=a.prototype.writeUInt32LE=function(c,l,p){return c=+c,l=l>>>0,p||Ve(this,c,l,4,4294967295,0),this[l+3]=c>>>24,this[l+2]=c>>>16,this[l+1]=c>>>8,this[l]=c&255,l+4},a.prototype.writeUint32BE=a.prototype.writeUInt32BE=function(c,l,p){return c=+c,l=l>>>0,p||Ve(this,c,l,4,4294967295,0),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4};function lr(d,c,l,p,m){_s(c,p,m,d,l,7);let I=Number(c&BigInt(4294967295));d[l++]=I,I=I>>8,d[l++]=I,I=I>>8,d[l++]=I,I=I>>8,d[l++]=I;let N=Number(c>>BigInt(32)&BigInt(4294967295));return d[l++]=N,N=N>>8,d[l++]=N,N=N>>8,d[l++]=N,N=N>>8,d[l++]=N,l}function On(d,c,l,p,m){_s(c,p,m,d,l,7);let I=Number(c&BigInt(4294967295));d[l+7]=I,I=I>>8,d[l+6]=I,I=I>>8,d[l+5]=I,I=I>>8,d[l+4]=I;let N=Number(c>>BigInt(32)&BigInt(4294967295));return d[l+3]=N,N=N>>8,d[l+2]=N,N=N>>8,d[l+1]=N,N=N>>8,d[l]=N,l+8}a.prototype.writeBigUInt64LE=Ht(function(c,l=0){return lr(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeBigUInt64BE=Ht(function(c,l=0){return On(this,c,l,BigInt(0),BigInt("0xffffffffffffffff"))}),a.prototype.writeIntLE=function(c,l,p,m){if(c=+c,l=l>>>0,!m){const Ie=Math.pow(2,8*p-1);Ve(this,c,l,p,Ie-1,-Ie)}let I=0,N=1,oe=0;for(this[l]=c&255;++I<p&&(N*=256);)c<0&&oe===0&&this[l+I-1]!==0&&(oe=1),this[l+I]=(c/N>>0)-oe&255;return l+p},a.prototype.writeIntBE=function(c,l,p,m){if(c=+c,l=l>>>0,!m){const Ie=Math.pow(2,8*p-1);Ve(this,c,l,p,Ie-1,-Ie)}let I=p-1,N=1,oe=0;for(this[l+I]=c&255;--I>=0&&(N*=256);)c<0&&oe===0&&this[l+I+1]!==0&&(oe=1),this[l+I]=(c/N>>0)-oe&255;return l+p},a.prototype.writeInt8=function(c,l,p){return c=+c,l=l>>>0,p||Ve(this,c,l,1,127,-128),c<0&&(c=255+c+1),this[l]=c&255,l+1},a.prototype.writeInt16LE=function(c,l,p){return c=+c,l=l>>>0,p||Ve(this,c,l,2,32767,-32768),this[l]=c&255,this[l+1]=c>>>8,l+2},a.prototype.writeInt16BE=function(c,l,p){return c=+c,l=l>>>0,p||Ve(this,c,l,2,32767,-32768),this[l]=c>>>8,this[l+1]=c&255,l+2},a.prototype.writeInt32LE=function(c,l,p){return c=+c,l=l>>>0,p||Ve(this,c,l,4,2147483647,-2147483648),this[l]=c&255,this[l+1]=c>>>8,this[l+2]=c>>>16,this[l+3]=c>>>24,l+4},a.prototype.writeInt32BE=function(c,l,p){return c=+c,l=l>>>0,p||Ve(this,c,l,4,2147483647,-2147483648),c<0&&(c=4294967295+c+1),this[l]=c>>>24,this[l+1]=c>>>16,this[l+2]=c>>>8,this[l+3]=c&255,l+4},a.prototype.writeBigInt64LE=Ht(function(c,l=0){return lr(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),a.prototype.writeBigInt64BE=Ht(function(c,l=0){return On(this,c,l,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Yt(d,c,l,p,m,I){if(l+p>d.length)throw new RangeError("Index out of range");if(l<0)throw new RangeError("Index out of range")}function ys(d,c,l,p,m){return c=+c,l=l>>>0,m||Yt(d,c,l,4),e.write(d,c,l,p,23,4),l+4}a.prototype.writeFloatLE=function(c,l,p){return ys(this,c,l,!0,p)},a.prototype.writeFloatBE=function(c,l,p){return ys(this,c,l,!1,p)};function ms(d,c,l,p,m){return c=+c,l=l>>>0,m||Yt(d,c,l,8),e.write(d,c,l,p,52,8),l+8}a.prototype.writeDoubleLE=function(c,l,p){return ms(this,c,l,!0,p)},a.prototype.writeDoubleBE=function(c,l,p){return ms(this,c,l,!1,p)},a.prototype.copy=function(c,l,p,m){if(!a.isBuffer(c))throw new TypeError("argument should be a Buffer");if(p||(p=0),!m&&m!==0&&(m=this.length),l>=c.length&&(l=c.length),l||(l=0),m>0&&m<p&&(m=p),m===p||c.length===0||this.length===0)return 0;if(l<0)throw new RangeError("targetStart out of bounds");if(p<0||p>=this.length)throw new RangeError("Index out of range");if(m<0)throw new RangeError("sourceEnd out of bounds");m>this.length&&(m=this.length),c.length-l<m-p&&(m=c.length-l+p);const I=m-p;return this===c&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(l,p,m):Uint8Array.prototype.set.call(c,this.subarray(p,m),l),I},a.prototype.fill=function(c,l,p,m){if(typeof c=="string"){if(typeof l=="string"?(m=l,l=0,p=this.length):typeof p=="string"&&(m=p,p=this.length),m!==void 0&&typeof m!="string")throw new TypeError("encoding must be a string");if(typeof m=="string"&&!a.isEncoding(m))throw new TypeError("Unknown encoding: "+m);if(c.length===1){const N=c.charCodeAt(0);(m==="utf8"&&N<128||m==="latin1")&&(c=N)}}else typeof c=="number"?c=c&255:typeof c=="boolean"&&(c=Number(c));if(l<0||this.length<l||this.length<p)throw new RangeError("Out of range index");if(p<=l)return this;l=l>>>0,p=p===void 0?this.length:p>>>0,c||(c=0);let I;if(typeof c=="number")for(I=l;I<p;++I)this[I]=c;else{const N=a.isBuffer(c)?c:a.from(c,m),oe=N.length;if(oe===0)throw new TypeError('The value "'+c+'" is invalid for argument "value"');for(I=0;I<p-l;++I)this[I+l]=N[I%oe]}return this};const jn={};function Co(d,c,l){jn[d]=class extends l{constructor(){super(),Object.defineProperty(this,"message",{value:c.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(m){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:m,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}Co("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Co("ERR_INVALID_ARG_TYPE",function(d,c){return`The "${d}" argument must be of type number. Received type ${typeof c}`},TypeError),Co("ERR_OUT_OF_RANGE",function(d,c,l){let p=`The value of "${d}" is out of range.`,m=l;return Number.isInteger(l)&&Math.abs(l)>2**32?m=Es(String(l)):typeof l=="bigint"&&(m=String(l),(l>BigInt(2)**BigInt(32)||l<-(BigInt(2)**BigInt(32)))&&(m=Es(m)),m+="n"),p+=` It must be ${c}. Received ${m}`,p},RangeError);function Es(d){let c="",l=d.length;const p=d[0]==="-"?1:0;for(;l>=p+4;l-=3)c=`_${d.slice(l-3,l)}${c}`;return`${d.slice(0,l)}${c}`}function wl(d,c,l){Vn(c,"offset"),(d[c]===void 0||d[c+l]===void 0)&&ur(c,d.length-(l+1))}function _s(d,c,l,p,m,I){if(d>l||d<c){const N=typeof c=="bigint"?"n":"";let oe;throw I>3?c===0||c===BigInt(0)?oe=`>= 0${N} and < 2${N} ** ${(I+1)*8}${N}`:oe=`>= -(2${N} ** ${(I+1)*8-1}${N}) and < 2 ** ${(I+1)*8-1}${N}`:oe=`>= ${c}${N} and <= ${l}${N}`,new jn.ERR_OUT_OF_RANGE("value",oe,d)}wl(p,m,I)}function Vn(d,c){if(typeof d!="number")throw new jn.ERR_INVALID_ARG_TYPE(c,"number",d)}function ur(d,c,l){throw Math.floor(d)!==d?(Vn(d,l),new jn.ERR_OUT_OF_RANGE(l||"offset","an integer",d)):c<0?new jn.ERR_BUFFER_OUT_OF_BOUNDS:new jn.ERR_OUT_OF_RANGE(l||"offset",`>= ${l?1:0} and <= ${c}`,d)}const gl=/[^+/0-9A-Za-z-_]/g;function yl(d){if(d=d.split("=")[0],d=d.trim().replace(gl,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function Oo(d,c){c=c||1/0;let l;const p=d.length;let m=null;const I=[];for(let N=0;N<p;++N){if(l=d.charCodeAt(N),l>55295&&l<57344){if(!m){if(l>56319){(c-=3)>-1&&I.push(239,191,189);continue}else if(N+1===p){(c-=3)>-1&&I.push(239,191,189);continue}m=l;continue}if(l<56320){(c-=3)>-1&&I.push(239,191,189),m=l;continue}l=(m-55296<<10|l-56320)+65536}else m&&(c-=3)>-1&&I.push(239,191,189);if(m=null,l<128){if((c-=1)<0)break;I.push(l)}else if(l<2048){if((c-=2)<0)break;I.push(l>>6|192,l&63|128)}else if(l<65536){if((c-=3)<0)break;I.push(l>>12|224,l>>6&63|128,l&63|128)}else if(l<1114112){if((c-=4)<0)break;I.push(l>>18|240,l>>12&63|128,l>>6&63|128,l&63|128)}else throw new Error("Invalid code point")}return I}function ml(d){const c=[];for(let l=0;l<d.length;++l)c.push(d.charCodeAt(l)&255);return c}function El(d,c){let l,p,m;const I=[];for(let N=0;N<d.length&&!((c-=2)<0);++N)l=d.charCodeAt(N),p=l>>8,m=l%256,I.push(m),I.push(p);return I}function bs(d){return t.toByteArray(yl(d))}function Rr(d,c,l,p){let m;for(m=0;m<p&&!(m+l>=c.length||m>=d.length);++m)c[m+l]=d[m];return m}function kt(d,c){return d instanceof c||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===c.name}function jo(d){return d!==d}const _l=function(){const d="0123456789abcdef",c=new Array(256);for(let l=0;l<16;++l){const p=l*16;for(let m=0;m<16;++m)c[p+m]=d[l]+d[m]}return c}();function Ht(d){return typeof BigInt>"u"?bl:d}function bl(){throw new Error("BigInt not supported")}})(re);/*! noble-ed25519 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const We=BigInt(0),ae=BigInt(1),Pn=BigInt(2),Ss=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),_e=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:Ss,n:Ss,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")}),_a=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),yr=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const nh=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235"),rh=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578"),oh=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838"),ih=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class ce{constructor(t,e,n,o){this.x=t,this.y=e,this.z=n,this.t=o}static fromAffine(t){if(!(t instanceof Be))throw new TypeError("ExtendedPoint#fromAffine: expected Point");return t.equals(Be.ZERO)?ce.ZERO:new ce(t.x,t.y,ae,D(t.x*t.y))}static toAffineBatch(t){const e=ch(t.map(n=>n.z));return t.map((n,o)=>n.toAffine(e[o]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){Ms(t);const{x:e,y:n,z:o}=this,{x:i,y:s,z:a}=t,u=D(e*a),h=D(i*o),f=D(n*a),w=D(s*o);return u===h&&f===w}negate(){return new ce(D(-this.x),this.y,this.z,D(-this.t))}double(){const{x:t,y:e,z:n}=this,{a:o}=_e,i=D(t*t),s=D(e*e),a=D(Pn*D(n*n)),u=D(o*i),h=t+e,f=D(D(h*h)-i-s),w=u+s,y=w-a,g=u-s,_=D(f*y),b=D(w*g),M=D(f*g),U=D(y*w);return new ce(_,b,U,M)}add(t){Ms(t);const{x:e,y:n,z:o,t:i}=this,{x:s,y:a,z:u,t:h}=t,f=D((n-e)*(a+s)),w=D((n+e)*(a-s)),y=D(w-f);if(y===We)return this.double();const g=D(o*Pn*h),_=D(i*Pn*u),b=_+g,M=w+f,U=_-g,k=D(b*y),x=D(M*U),z=D(b*U),A=D(y*M);return new ce(k,x,A,z)}subtract(t){return this.add(t.negate())}precomputeWindow(t){const e=1+256/t,n=[];let o=this,i=o;for(let s=0;s<e;s++){i=o,n.push(i);for(let a=1;a<2**(t-1);a++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(t,e){!e&&this.equals(ce.BASE)&&(e=Be.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=e&&fi.get(e);o||(o=this.precomputeWindow(n),e&&n!==1&&(o=ce.normalizeZ(o),fi.set(e,o)));let i=ce.ZERO,s=ce.ZERO;const a=1+256/n,u=2**(n-1),h=BigInt(2**n-1),f=2**n,w=BigInt(n);for(let y=0;y<a;y++){const g=y*u;let _=Number(t&h);if(t>>=w,_>u&&(_-=f,t+=ae),_===0){let b=o[g];y%2&&(b=b.negate()),s=s.add(b)}else{let b=o[g+Math.abs(_)-1];_<0&&(b=b.negate()),i=i.add(b)}}return ce.normalizeZ([i,s])[0]}multiply(t,e){return this.wNAF(Xr(t,_e.l),e)}multiplyUnsafe(t){let e=Xr(t,_e.l,!1);const n=ce.BASE,o=ce.ZERO;if(e===We)return o;if(this.equals(o)||e===ae)return this;if(this.equals(n))return this.wNAF(e);let i=o,s=this;for(;e>We;)e&ae&&(i=i.add(s)),s=s.double(),e>>=ae;return i}isSmallOrder(){return this.multiplyUnsafe(_e.h).equals(ce.ZERO)}isTorsionFree(){return this.multiplyUnsafe(_e.l).equals(ce.ZERO)}toAffine(t=_o(this.z)){const{x:e,y:n,z:o}=this,i=D(e*t),s=D(n*t);if(D(o*t)!==ae)throw new Error("invZ was invalid");return new Be(i,s)}fromRistrettoBytes(){Qo()}toRistrettoBytes(){Qo()}fromRistrettoHash(){Qo()}}ce.BASE=new ce(_e.Gx,_e.Gy,ae,D(_e.Gx*_e.Gy));ce.ZERO=new ce(We,ae,ae,We);function Ms(r){if(!(r instanceof ce))throw new TypeError("ExtendedPoint expected")}function zo(r){if(!(r instanceof _t))throw new TypeError("RistrettoPoint expected")}function Qo(){throw new Error("Legacy method: switch to RistrettoPoint")}class _t{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=_e,n=D(yr*t*t),o=D((n+ae)*oh);let i=BigInt(-1);const s=D((i-e*n)*D(n+e));let{isValid:a,value:u}=Ni(o,s),h=D(u*t);Jt(h)||(h=D(-h)),a||(u=h),a||(i=n);const f=D(i*(n-ae)*ih-s),w=u*u,y=D((u+u)*s),g=D(f*nh),_=D(ae-w),b=D(ae+w);return new ce(D(y*b),D(_*g),D(g*b),D(y*_))}static hashToCurve(t){t=dn(t,64);const e=Wo(t.slice(0,32)),n=this.calcElligatorRistrettoMap(e),o=Wo(t.slice(32,64)),i=this.calcElligatorRistrettoMap(o);return new _t(n.add(i))}static fromHex(t){t=dn(t,32);const{a:e,d:n}=_e,o="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint",i=Wo(t);if(!uh(vr(i),t)||Jt(i))throw new Error(o);const s=D(i*i),a=D(ae+e*s),u=D(ae-e*s),h=D(a*a),f=D(u*u),w=D(e*n*h-f),{isValid:y,value:g}=Is(D(w*f)),_=D(g*u),b=D(g*_*w);let M=D((i+i)*_);Jt(M)&&(M=D(-M));const U=D(a*b),k=D(M*U);if(!y||Jt(k)||U===We)throw new Error(o);return new _t(new ce(M,U,ae,k))}toRawBytes(){let{x:t,y:e,z:n,t:o}=this.ep;const i=D(D(n+e)*D(n-e)),s=D(t*e),a=D(s*s),{value:u}=Is(D(i*a)),h=D(u*i),f=D(u*s),w=D(h*f*o);let y;if(Jt(o*w)){let _=D(e*yr),b=D(t*yr);t=_,e=b,y=D(h*rh)}else y=f;Jt(t*w)&&(e=D(-e));let g=D((n-e)*y);return Jt(g)&&(g=D(-g)),vr(g)}toHex(){return Tr(this.toRawBytes())}toString(){return this.toHex()}equals(t){zo(t);const e=this.ep,n=t.ep,o=D(e.x*n.y)===D(e.y*n.x),i=D(e.y*n.y)===D(e.x*n.x);return o||i}add(t){return zo(t),new _t(this.ep.add(t.ep))}subtract(t){return zo(t),new _t(this.ep.subtract(t.ep))}multiply(t){return new _t(this.ep.multiply(t))}multiplyUnsafe(t){return new _t(this.ep.multiplyUnsafe(t))}}_t.BASE=new _t(ce.BASE);_t.ZERO=new _t(ce.ZERO);const fi=new WeakMap;class Be{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,fi.delete(this)}static fromHex(t,e=!0){const{d:n,P:o}=_e;t=dn(t,32);const i=t.slice();i[31]=t[31]&-129;const s=Ur(i);if(e&&s>=o)throw new Error("Expected 0 < hex < P");if(!e&&s>=_a)throw new Error("Expected 0 < hex < 2**256");const a=D(s*s),u=D(a-ae),h=D(n*a+ae);let{isValid:f,value:w}=Ni(u,h);if(!f)throw new Error("Point.fromHex: invalid y coordinate");const y=(w&ae)===ae;return(t[31]&128)!==0!==y&&(w=D(-w)),new Be(w,s)}static async fromPrivateKey(t){return(await Ma(t)).point}toRawBytes(){const t=vr(this.y);return t[31]|=this.x&ae?128:0,t}toHex(){return Tr(this.toRawBytes())}toX25519(){const{y:t}=this,e=D((ae+t)*_o(ae-t));return vr(e)}isTorsionFree(){return ce.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Be(D(-this.x),this.y)}add(t){return ce.fromAffine(this).add(ce.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return ce.fromAffine(this).multiply(t,this).toAffine()}}Be.BASE=new Be(_e.Gx,_e.Gy);Be.ZERO=new Be(We,ae);class br{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromHex(t){const e=dn(t,64),n=Be.fromHex(e.slice(0,32),!1),o=Ur(e.slice(32,64));return new br(n,o)}assertValidity(){const{r:t,s:e}=this;if(!(t instanceof Be))throw new Error("Expected Point instance");return Xr(e,_e.l,!1),this}toRawBytes(){const t=new Uint8Array(64);return t.set(this.r.toRawBytes()),t.set(vr(this.s),32),t}toHex(){return Tr(this.toRawBytes())}}function xs(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Expected Uint8Array list");if(r.length===1)return r[0];const t=r.reduce((n,o)=>n+o.length,0),e=new Uint8Array(t);for(let n=0,o=0;n<r.length;n++){const i=r[n];e.set(i,o),o+=i.length}return e}const sh=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function Tr(r){if(!(r instanceof Uint8Array))throw new Error("Uint8Array expected");let t="";for(let e=0;e<r.length;e++)t+=sh[r[e]];return t}function ki(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){const n=e*2,o=r.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[e]=i}return t}function ba(r){const e=r.toString(16).padStart(64,"0");return ki(e)}function vr(r){return ba(r).reverse()}function Jt(r){return(D(r)&ae)===ae}function Ur(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");return BigInt("0x"+Tr(Uint8Array.from(r).reverse()))}const ah=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Wo(r){return D(Ur(r)&ah)}function D(r,t=_e.P){const e=r%t;return e>=We?e:t+e}function _o(r,t=_e.P){if(r===We||t<=We)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=D(r,t),n=t,o=We,i=ae;for(;e!==We;){const a=n/e,u=n%e,h=o-i*a;n=e,e=u,o=i,i=h}if(n!==ae)throw new Error("invert: does not exist");return D(o,t)}function ch(r,t=_e.P){const e=new Array(r.length),n=r.reduce((i,s,a)=>s===We?i:(e[a]=i,D(i*s,t)),ae),o=_o(n,t);return r.reduceRight((i,s,a)=>s===We?i:(e[a]=D(i*e[a],t),D(i*s,t)),o),e}function Nt(r,t){const{P:e}=_e;let n=r;for(;t-- >We;)n*=n,n%=e;return n}function lh(r){const{P:t}=_e,e=BigInt(5),n=BigInt(10),o=BigInt(20),i=BigInt(40),s=BigInt(80),u=r*r%t*r%t,h=Nt(u,Pn)*u%t,f=Nt(h,ae)*r%t,w=Nt(f,e)*f%t,y=Nt(w,n)*w%t,g=Nt(y,o)*y%t,_=Nt(g,i)*g%t,b=Nt(_,s)*_%t,M=Nt(b,s)*_%t,U=Nt(M,n)*w%t;return{pow_p_5_8:Nt(U,Pn)*r%t,b2:u}}function Ni(r,t){const e=D(t*t*t),n=D(e*e*t),o=lh(r*n).pow_p_5_8;let i=D(r*e*o);const s=D(t*i*i),a=i,u=D(i*yr),h=s===r,f=s===D(-r),w=s===D(-r*yr);return h&&(i=a),(f||w)&&(i=u),Jt(i)&&(i=D(-i)),{isValid:h||f,value:i}}function Is(r){return Ni(ae,r)}function Jr(r){return D(Ur(r),_e.l)}function uh(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;e++)if(r[e]!==t[e])return!1;return!0}function dn(r,t){const e=r instanceof Uint8Array?Uint8Array.from(r):ki(r);if(typeof t=="number"&&e.length!==t)throw new Error(`Expected ${t} bytes`);return e}function Xr(r,t,e=!0){if(!t)throw new TypeError("Specify max value");if(typeof r=="number"&&Number.isSafeInteger(r)&&(r=BigInt(r)),typeof r=="bigint"&&r<t){if(e){if(We<r)return r}else if(We<=r)return r}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function hh(r){return r[0]&=248,r[31]&=127,r[31]|=64,r}function va(r){if(r=typeof r=="bigint"||typeof r=="number"?ba(Xr(r,_a)):dn(r),r.length!==32)throw new Error("Expected 32 bytes");return r}function Sa(r){const t=hh(r.slice(0,32)),e=r.slice(32,64),n=Jr(t),o=Be.BASE.multiply(n),i=o.toRawBytes();return{head:t,prefix:e,scalar:n,point:o,pointBytes:i}}let mr;function qr(...r){if(typeof mr!="function")throw new Error("utils.sha512Sync must be set to use sync methods");return mr(...r)}async function Ma(r){return Sa(await Xn.sha512(va(r)))}function Bi(r){return Sa(qr(va(r)))}function dh(r){return Bi(r).pointBytes}function fh(r,t){r=dn(r);const{prefix:e,scalar:n,pointBytes:o}=Bi(t),i=Jr(qr(e,r)),s=Be.BASE.multiply(i),a=Jr(qr(s.toRawBytes(),o,r)),u=D(i+a*n,_e.l);return new br(s,u).toRawBytes()}function ph(r,t,e){t=dn(t),e instanceof Be||(e=Be.fromHex(e,!1));const{r:n,s:o}=r instanceof br?r.assertValidity():br.fromHex(r),i=ce.BASE.multiplyUnsafe(o);return{r:n,s:o,SB:i,pub:e,msg:t}}function wh(r,t,e,n){const o=Jr(n),i=ce.fromAffine(r).multiplyUnsafe(o);return ce.fromAffine(t).add(i).subtract(e).multiplyUnsafe(_e.h).equals(ce.ZERO)}function gh(r,t,e){const{r:n,SB:o,msg:i,pub:s}=ph(r,t,e),a=qr(n.toRawBytes(),s.toRawBytes(),i);return wh(s,n,o,a)}const xa={getExtendedPublicKey:Bi,getPublicKey:dh,sign:fh,verify:gh};Be.BASE._setWindowSize(8);const Gt={node:ua,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},Xn={bytesToHex:Tr,hexToBytes:ki,concatBytes:xs,getExtendedPublicKey:Ma,mod:D,invert:_o,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:r=>{if(r=dn(r),r.length<40||r.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return D(Ur(r),_e.l-ae)+ae},randomBytes:(r=32)=>{if(Gt.web)return Gt.web.getRandomValues(new Uint8Array(r));if(Gt.node){const{randomBytes:t}=Gt.node;return new Uint8Array(t(r).buffer)}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>Xn.randomBytes(32),sha512:async(...r)=>{const t=xs(...r);if(Gt.web){const e=await Gt.web.subtle.digest("SHA-512",t.buffer);return new Uint8Array(e)}else{if(Gt.node)return Uint8Array.from(Gt.node.createHash("sha512").update(t).digest());throw new Error("The environment doesn't have sha512 function")}},precompute(r=8,t=Be.BASE){const e=t.equals(Be.BASE)?t:new Be(t.x,t.y);return e._setWindowSize(r),e.multiply(Pn),e},sha512Sync:void 0};Object.defineProperties(Xn,{sha512Sync:{configurable:!1,get(){return mr},set(r){mr||(mr=r)}}});var pi={exports:{}};/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */(function(r,t){var e=ha,n=e.Buffer;function o(s,a){for(var u in s)a[u]=s[u]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?r.exports=e:(o(e,t),t.Buffer=i);function i(s,a,u){return n(s,a,u)}i.prototype=Object.create(n.prototype),o(n,i),i.from=function(s,a,u){if(typeof s=="number")throw new TypeError("Argument must not be a number");return n(s,a,u)},i.alloc=function(s,a,u){if(typeof s!="number")throw new TypeError("Argument must be a number");var h=n(s);return a!==void 0?typeof u=="string"?h.fill(a,u):h.fill(a):h.fill(0),h},i.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return n(s)},i.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return e.SlowBuffer(s)}})(pi,pi.exports);var Cr=pi.exports.Buffer;function yh(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=n}var s=r.length,a=r.charAt(0),u=Math.log(s)/Math.log(256),h=Math.log(256)/Math.log(s);function f(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=Cr.from(g)),!Cr.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var _=0,b=0,M=0,U=g.length;M!==U&&g[M]===0;)M++,_++;for(var k=(U-M)*h+1>>>0,x=new Uint8Array(k);M!==U;){for(var z=g[M],A=0,j=k-1;(z!==0||A<b)&&j!==-1;j--,A++)z+=256*x[j]>>>0,x[j]=z%s>>>0,z=z/s>>>0;if(z!==0)throw new Error("Non-zero carry");b=A,M++}for(var O=k-b;O!==k&&x[O]===0;)O++;for(var H=a.repeat(_);O<k;++O)H+=r.charAt(x[O]);return H}function w(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return Cr.alloc(0);for(var _=0,b=0,M=0;g[_]===a;)b++,_++;for(var U=(g.length-_)*u+1>>>0,k=new Uint8Array(U);g[_];){var x=t[g.charCodeAt(_)];if(x===255)return;for(var z=0,A=U-1;(x!==0||z<M)&&A!==-1;A--,z++)x+=s*k[A]>>>0,k[A]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");M=z,_++}for(var j=U-M;j!==U&&k[j]===0;)j++;var O=Cr.allocUnsafe(b+(U-j));O.fill(0,0,b);for(var H=b;j!==U;)O[H++]=k[j++];return O}function y(g){var _=w(g);if(_)return _;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:w,decode:y}}var mh=yh,Eh=mh,_h="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",qe=Eh(_h),Qe={};function Wt(r,t,e){return t<=r&&r<=e}function bo(r){if(r===void 0)return{};if(r===Object(r))return r;throw TypeError("Could not convert argument to dictionary")}function bh(r){for(var t=String(r),e=t.length,n=0,o=[];n<e;){var i=t.charCodeAt(n);if(i<55296||i>57343)o.push(i);else if(56320<=i&&i<=57343)o.push(65533);else if(55296<=i&&i<=56319)if(n===e-1)o.push(65533);else{var s=r.charCodeAt(n+1);if(56320<=s&&s<=57343){var a=i&1023,u=s&1023;o.push(65536+(a<<10)+u),n+=1}else o.push(65533)}n+=1}return o}function vh(r){for(var t="",e=0;e<r.length;++e){var n=r[e];n<=65535?t+=String.fromCharCode(n):(n-=65536,t+=String.fromCharCode((n>>10)+55296,(n&1023)+56320))}return t}var eo=-1;function Fi(r){this.tokens=[].slice.call(r)}Fi.prototype={endOfStream:function(){return!this.tokens.length},read:function(){return this.tokens.length?this.tokens.shift():eo},prepend:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.unshift(t.pop());else this.tokens.unshift(r)},push:function(r){if(Array.isArray(r))for(var t=r;t.length;)this.tokens.push(t.shift());else this.tokens.push(r)}};var qn=-1;function Zo(r,t){if(r)throw TypeError("Decoder error");return t||65533}var to="utf-8";function no(r,t){if(!(this instanceof no))return new no(r,t);if(r=r!==void 0?String(r).toLowerCase():to,r!==to)throw new Error("Encoding not supported. Only utf-8 is supported");t=bo(t),this._streaming=!1,this._BOMseen=!1,this._decoder=null,this._fatal=Boolean(t.fatal),this._ignoreBOM=Boolean(t.ignoreBOM),Object.defineProperty(this,"encoding",{value:"utf-8"}),Object.defineProperty(this,"fatal",{value:this._fatal}),Object.defineProperty(this,"ignoreBOM",{value:this._ignoreBOM})}no.prototype={decode:function(t,e){var n;typeof t=="object"&&t instanceof ArrayBuffer?n=new Uint8Array(t):typeof t=="object"&&"buffer"in t&&t.buffer instanceof ArrayBuffer?n=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):n=new Uint8Array(0),e=bo(e),this._streaming||(this._decoder=new Sh({fatal:this._fatal}),this._BOMseen=!1),this._streaming=Boolean(e.stream);for(var o=new Fi(n),i=[],s;!o.endOfStream()&&(s=this._decoder.handler(o,o.read()),s!==qn);)s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s));if(!this._streaming){do{if(s=this._decoder.handler(o,o.read()),s===qn)break;s!==null&&(Array.isArray(s)?i.push.apply(i,s):i.push(s))}while(!o.endOfStream());this._decoder=null}return i.length&&["utf-8"].indexOf(this.encoding)!==-1&&!this._ignoreBOM&&!this._BOMseen&&(i[0]===65279?(this._BOMseen=!0,i.shift()):this._BOMseen=!0),vh(i)}};function ro(r,t){if(!(this instanceof ro))return new ro(r,t);if(r=r!==void 0?String(r).toLowerCase():to,r!==to)throw new Error("Encoding not supported. Only utf-8 is supported");t=bo(t),this._streaming=!1,this._encoder=null,this._options={fatal:Boolean(t.fatal)},Object.defineProperty(this,"encoding",{value:"utf-8"})}ro.prototype={encode:function(t,e){t=t?String(t):"",e=bo(e),this._streaming||(this._encoder=new Mh(this._options)),this._streaming=Boolean(e.stream);for(var n=[],o=new Fi(bh(t)),i;!o.endOfStream()&&(i=this._encoder.handler(o,o.read()),i!==qn);)Array.isArray(i)?n.push.apply(n,i):n.push(i);if(!this._streaming){for(;i=this._encoder.handler(o,o.read()),i!==qn;)Array.isArray(i)?n.push.apply(n,i):n.push(i);this._encoder=null}return new Uint8Array(n)}};function Sh(r){var t=r.fatal,e=0,n=0,o=0,i=128,s=191;this.handler=function(a,u){if(u===eo&&o!==0)return o=0,Zo(t);if(u===eo)return qn;if(o===0){if(Wt(u,0,127))return u;if(Wt(u,194,223))o=1,e=u-192;else if(Wt(u,224,239))u===224&&(i=160),u===237&&(s=159),o=2,e=u-224;else if(Wt(u,240,244))u===240&&(i=144),u===244&&(s=143),o=3,e=u-240;else return Zo(t);return e=e<<6*o,null}if(!Wt(u,i,s))return e=o=n=0,i=128,s=191,a.prepend(u),Zo(t);if(i=128,s=191,n+=1,e+=u-128<<6*(o-n),n!==o)return null;var h=e;return e=o=n=0,h}}function Mh(r){r.fatal,this.handler=function(t,e){if(e===eo)return qn;if(Wt(e,0,127))return e;var n,o;Wt(e,128,2047)?(n=1,o=192):Wt(e,2048,65535)?(n=2,o=224):Wt(e,65536,1114111)&&(n=3,o=240);for(var i=[(e>>6*n)+o];n>0;){var s=e>>6*(n-1);i.push(128|s&63),n-=1}return i}}const xh=Object.freeze(Object.defineProperty({__proto__:null,TextEncoder:ro,TextDecoder:no},Symbol.toStringTag,{value:"Module"})),Ih=xi(xh);var Ah=Ne&&Ne.__createBinding||(Object.create?function(r,t,e,n){n===void 0&&(n=e),Object.defineProperty(r,n,{enumerable:!0,get:function(){return t[e]}})}:function(r,t,e,n){n===void 0&&(n=e),r[n]=t[e]}),Th=Ne&&Ne.__setModuleDefault||(Object.create?function(r,t){Object.defineProperty(r,"default",{enumerable:!0,value:t})}:function(r,t){r.default=t}),Lt=Ne&&Ne.__decorate||function(r,t,e,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(s=r[a])&&(i=(o<3?s(i):o>3?s(t,e,i):s(t,e))||i);return o>3&&i&&Object.defineProperty(t,e,i),i},Uh=Ne&&Ne.__importStar||function(r){if(r&&r.__esModule)return r;var t={};if(r!=null)for(var e in r)e!=="default"&&Object.hasOwnProperty.call(r,e)&&Ah(t,r,e);return Th(t,r),t},Ia=Ne&&Ne.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Qe,"__esModule",{value:!0});var Aa=Qe.deserializeUnchecked=Fa=Qe.deserialize=Ba=Qe.serialize=Qe.BinaryReader=Qe.BinaryWriter=Qe.BorshError=Qe.baseDecode=Qe.baseEncode=void 0;const tn=Ia(Al.exports),Ta=Ia(qe),kh=Uh(Ih),Nh=typeof TextDecoder!="function"?kh.TextDecoder:TextDecoder,Bh=new Nh("utf-8",{fatal:!0});function Fh(r){return typeof r=="string"&&(r=Buffer.from(r,"utf8")),Ta.default.encode(Buffer.from(r))}Qe.baseEncode=Fh;function Dh(r){return Buffer.from(Ta.default.decode(r))}Qe.baseDecode=Dh;const Po=1024;class Je extends Error{constructor(t){super(t),this.fieldPath=[],this.originalMessage=t}addToFieldPath(t){this.fieldPath.splice(0,0,t),this.message=this.originalMessage+": "+this.fieldPath.join(".")}}Qe.BorshError=Je;class Ua{constructor(){this.buf=Buffer.alloc(Po),this.length=0}maybeResize(){this.buf.length<16+this.length&&(this.buf=Buffer.concat([this.buf,Buffer.alloc(Po)]))}writeU8(t){this.maybeResize(),this.buf.writeUInt8(t,this.length),this.length+=1}writeU16(t){this.maybeResize(),this.buf.writeUInt16LE(t,this.length),this.length+=2}writeU32(t){this.maybeResize(),this.buf.writeUInt32LE(t,this.length),this.length+=4}writeU64(t){this.maybeResize(),this.writeBuffer(Buffer.from(new tn.default(t).toArray("le",8)))}writeU128(t){this.maybeResize(),this.writeBuffer(Buffer.from(new tn.default(t).toArray("le",16)))}writeU256(t){this.maybeResize(),this.writeBuffer(Buffer.from(new tn.default(t).toArray("le",32)))}writeU512(t){this.maybeResize(),this.writeBuffer(Buffer.from(new tn.default(t).toArray("le",64)))}writeBuffer(t){this.buf=Buffer.concat([Buffer.from(this.buf.subarray(0,this.length)),t,Buffer.alloc(Po)]),this.length+=t.length}writeString(t){this.maybeResize();const e=Buffer.from(t,"utf8");this.writeU32(e.length),this.writeBuffer(e)}writeFixedArray(t){this.writeBuffer(Buffer.from(t))}writeArray(t,e){this.maybeResize(),this.writeU32(t.length);for(const n of t)this.maybeResize(),e(n)}toArray(){return this.buf.subarray(0,this.length)}}Qe.BinaryWriter=Ua;function zt(r,t,e){const n=e.value;e.value=function(...o){try{return n.apply(this,o)}catch(i){if(i instanceof RangeError){const s=i.code;if(["ERR_BUFFER_OUT_OF_BOUNDS","ERR_OUT_OF_RANGE"].indexOf(s)>=0)throw new Je("Reached the end of buffer when deserializing")}throw i}}}class gt{constructor(t){this.buf=t,this.offset=0}readU8(){const t=this.buf.readUInt8(this.offset);return this.offset+=1,t}readU16(){const t=this.buf.readUInt16LE(this.offset);return this.offset+=2,t}readU32(){const t=this.buf.readUInt32LE(this.offset);return this.offset+=4,t}readU64(){const t=this.readBuffer(8);return new tn.default(t,"le")}readU128(){const t=this.readBuffer(16);return new tn.default(t,"le")}readU256(){const t=this.readBuffer(32);return new tn.default(t,"le")}readU512(){const t=this.readBuffer(64);return new tn.default(t,"le")}readBuffer(t){if(this.offset+t>this.buf.length)throw new Je(`Expected buffer length ${t} isn't within bounds`);const e=this.buf.slice(this.offset,this.offset+t);return this.offset+=t,e}readString(){const t=this.readU32(),e=this.readBuffer(t);try{return Bh.decode(e)}catch(n){throw new Je(`Error decoding UTF-8 string: ${n}`)}}readFixedArray(t){return new Uint8Array(this.readBuffer(t))}readArray(t){const e=this.readU32(),n=Array();for(let o=0;o<e;++o)n.push(t());return n}}Lt([zt],gt.prototype,"readU8",null);Lt([zt],gt.prototype,"readU16",null);Lt([zt],gt.prototype,"readU32",null);Lt([zt],gt.prototype,"readU64",null);Lt([zt],gt.prototype,"readU128",null);Lt([zt],gt.prototype,"readU256",null);Lt([zt],gt.prototype,"readU512",null);Lt([zt],gt.prototype,"readString",null);Lt([zt],gt.prototype,"readFixedArray",null);Lt([zt],gt.prototype,"readArray",null);Qe.BinaryReader=gt;function ka(r){return r.charAt(0).toUpperCase()+r.slice(1)}function mn(r,t,e,n,o){try{if(typeof n=="string")o[`write${ka(n)}`](e);else if(n instanceof Array)if(typeof n[0]=="number"){if(e.length!==n[0])throw new Je(`Expecting byte array of length ${n[0]}, but got ${e.length} bytes`);o.writeFixedArray(e)}else if(n.length===2&&typeof n[1]=="number"){if(e.length!==n[1])throw new Je(`Expecting byte array of length ${n[1]}, but got ${e.length} bytes`);for(let i=0;i<n[1];i++)mn(r,null,e[i],n[0],o)}else o.writeArray(e,i=>{mn(r,t,i,n[0],o)});else if(n.kind!==void 0)switch(n.kind){case"option":{e==null?o.writeU8(0):(o.writeU8(1),mn(r,t,e,n.type,o));break}case"map":{o.writeU32(e.size),e.forEach((i,s)=>{mn(r,t,s,n.key,o),mn(r,t,i,n.value,o)});break}default:throw new Je(`FieldType ${n} unrecognized`)}else Na(r,e,o)}catch(i){throw i instanceof Je&&i.addToFieldPath(t),i}}function Na(r,t,e){if(typeof t.borshSerialize=="function"){t.borshSerialize(e);return}const n=r.get(t.constructor);if(!n)throw new Je(`Class ${t.constructor.name} is missing in schema`);if(n.kind==="struct")n.fields.map(([o,i])=>{mn(r,o,t[o],i,e)});else if(n.kind==="enum"){const o=t[n.field];for(let i=0;i<n.values.length;++i){const[s,a]=n.values[i];if(s===o){e.writeU8(i),mn(r,s,t[s],a,e);break}}}else throw new Je(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Rh(r,t,e=Ua){const n=new e;return Na(r,t,n),n.toArray()}var Ba=Qe.serialize=Rh;function En(r,t,e,n){try{if(typeof e=="string")return n[`read${ka(e)}`]();if(e instanceof Array){if(typeof e[0]=="number")return n.readFixedArray(e[0]);if(typeof e[1]=="number"){const o=[];for(let i=0;i<e[1];i++)o.push(En(r,null,e[0],n));return o}else return n.readArray(()=>En(r,t,e[0],n))}if(e.kind==="option")return n.readU8()?En(r,t,e.type,n):void 0;if(e.kind==="map"){let o=new Map;const i=n.readU32();for(let s=0;s<i;s++){const a=En(r,t,e.key,n),u=En(r,t,e.value,n);o.set(a,u)}return o}return Di(r,e,n)}catch(o){throw o instanceof Je&&o.addToFieldPath(t),o}}function Di(r,t,e){if(typeof t.borshDeserialize=="function")return t.borshDeserialize(e);const n=r.get(t);if(!n)throw new Je(`Class ${t.name} is missing in schema`);if(n.kind==="struct"){const o={};for(const[i,s]of r.get(t).fields)o[i]=En(r,i,s,e);return new t(o)}if(n.kind==="enum"){const o=e.readU8();if(o>=n.values.length)throw new Je(`Enum index: ${o} is out of range`);const[i,s]=n.values[o],a=En(r,i,s,e);return new t({[i]:a})}throw new Je(`Unexpected schema kind: ${n.kind} for ${t.constructor.name}`)}function Ch(r,t,e,n=gt){const o=new n(e),i=Di(r,t,o);if(o.offset<e.length)throw new Je(`Unexpected ${e.length-o.offset} bytes after deserialized data`);return i}var Fa=Qe.deserialize=Ch;function Oh(r,t,e,n=gt){const o=new n(e);return Di(r,t,o)}Aa=Qe.deserializeUnchecked=Oh;var v={};Object.defineProperty(v,"__esModule",{value:!0});v.s16=v.s8=v.nu64be=v.u48be=v.u40be=v.u32be=v.u24be=v.u16be=ze=v.nu64=v.u48=v.u40=q=v.u32=v.u24=Et=v.u16=Se=v.u8=xn=v.offset=v.greedy=v.Constant=v.UTF8=v.CString=v.Blob=v.Boolean=v.BitField=v.BitStructure=v.VariantLayout=v.Union=v.UnionLayoutDiscriminator=v.UnionDiscriminator=v.Structure=v.Sequence=v.DoubleBE=v.Double=v.FloatBE=v.Float=v.NearInt64BE=v.NearInt64=v.NearUInt64BE=v.NearUInt64=v.IntBE=v.Int=v.UIntBE=v.UInt=v.OffsetLayout=v.GreedyCount=v.ExternalLayout=v.bindConstructorLayout=v.nameWithProperty=v.Layout=v.uint8ArrayToBuffer=v.checkUint8Array=void 0;v.constant=v.utf8=v.cstr=bt=v.blob=v.unionLayoutDiscriminator=v.union=Ft=v.seq=v.bits=J=v.struct=v.f64be=v.f64=v.f32be=v.f32=v.ns64be=v.s48be=v.s40be=v.s32be=v.s24be=v.s16be=lt=v.ns64=v.s48=v.s40=v.s32=v.s24=void 0;const Ri=ha;function sr(r){if(!(r instanceof Uint8Array))throw new TypeError("b must be a Uint8Array")}v.checkUint8Array=sr;function le(r){return sr(r),Ri.Buffer.from(r.buffer,r.byteOffset,r.length)}v.uint8ArrayToBuffer=le;class we{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}v.Layout=we;function Ci(r,t){return t.property?r+"["+t.property+"]":r}v.nameWithProperty=Ci;function jh(r,t){if(typeof r!="function")throw new TypeError("Class must be constructor");if(Object.prototype.hasOwnProperty.call(r,"layout_"))throw new Error("Class is already bound to a layout");if(!(t&&t instanceof we))throw new TypeError("layout must be a Layout");if(Object.prototype.hasOwnProperty.call(t,"boundConstructor_"))throw new Error("layout is already bound to a constructor");r.layout_=t,t.boundConstructor_=r,t.makeDestinationObject=()=>new r,Object.defineProperty(r.prototype,"encode",{value(e,n){return t.encode(this,e,n)},writable:!0}),Object.defineProperty(r,"decode",{value(e,n){return t.decode(e,n)},writable:!0})}v.bindConstructorLayout=jh;class et extends we{isCount(){throw new Error("ExternalLayout is abstract")}}v.ExternalLayout=et;class Da extends et{constructor(t=1,e){if(!Number.isInteger(t)||0>=t)throw new TypeError("elementSpan must be a (positive) integer");super(-1,e),this.elementSpan=t}isCount(){return!0}decode(t,e=0){sr(t);const n=t.length-e;return Math.floor(n/this.elementSpan)}encode(t,e,n){return 0}}v.GreedyCount=Da;class Oi extends et{constructor(t,e=0,n){if(!(t instanceof we))throw new TypeError("layout must be a Layout");if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof vt||this.layout instanceof It}decode(t,e=0){return this.layout.decode(t,e+this.offset)}encode(t,e,n=0){return this.layout.encode(t,e,n+this.offset)}}v.OffsetLayout=Oi;class vt extends we{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return le(t).readUIntLE(e,this.span)}encode(t,e,n=0){return le(e).writeUIntLE(t,n,this.span),this.span}}v.UInt=vt;class It extends we{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return le(t).readUIntBE(e,this.span)}encode(t,e,n=0){return le(e).writeUIntBE(t,n,this.span),this.span}}v.UIntBE=It;class Nn extends we{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return le(t).readIntLE(e,this.span)}encode(t,e,n=0){return le(e).writeIntLE(t,n,this.span),this.span}}v.Int=Nn;class ar extends we{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e=0){return le(t).readIntBE(e,this.span)}encode(t,e,n=0){return le(e).writeIntBE(t,n,this.span),this.span}}v.IntBE=ar;const wi=Math.pow(2,32);function vo(r){const t=Math.floor(r/wi),e=r-t*wi;return{hi32:t,lo32:e}}function So(r,t){return r*wi+t}class Ra extends we{constructor(t){super(8,t)}decode(t,e=0){const n=le(t),o=n.readUInt32LE(e),i=n.readUInt32LE(e+4);return So(i,o)}encode(t,e,n=0){const o=vo(t),i=le(e);return i.writeUInt32LE(o.lo32,n),i.writeUInt32LE(o.hi32,n+4),8}}v.NearUInt64=Ra;class Ca extends we{constructor(t){super(8,t)}decode(t,e=0){const n=le(t),o=n.readUInt32BE(e),i=n.readUInt32BE(e+4);return So(o,i)}encode(t,e,n=0){const o=vo(t),i=le(e);return i.writeUInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}}v.NearUInt64BE=Ca;class Oa extends we{constructor(t){super(8,t)}decode(t,e=0){const n=le(t),o=n.readUInt32LE(e),i=n.readInt32LE(e+4);return So(i,o)}encode(t,e,n=0){const o=vo(t),i=le(e);return i.writeUInt32LE(o.lo32,n),i.writeInt32LE(o.hi32,n+4),8}}v.NearInt64=Oa;class ja extends we{constructor(t){super(8,t)}decode(t,e=0){const n=le(t),o=n.readInt32BE(e),i=n.readUInt32BE(e+4);return So(o,i)}encode(t,e,n=0){const o=vo(t),i=le(e);return i.writeInt32BE(o.hi32,n),i.writeUInt32BE(o.lo32,n+4),8}}v.NearInt64BE=ja;class Va extends we{constructor(t){super(4,t)}decode(t,e=0){return le(t).readFloatLE(e)}encode(t,e,n=0){return le(e).writeFloatLE(t,n),4}}v.Float=Va;class La extends we{constructor(t){super(4,t)}decode(t,e=0){return le(t).readFloatBE(e)}encode(t,e,n=0){return le(e).writeFloatBE(t,n),4}}v.FloatBE=La;class za extends we{constructor(t){super(8,t)}decode(t,e=0){return le(t).readDoubleLE(e)}encode(t,e,n=0){return le(e).writeDoubleLE(t,n),8}}v.Double=za;class Qa extends we{constructor(t){super(8,t)}decode(t,e=0){return le(t).readDoubleBE(e)}encode(t,e,n=0){return le(e).writeDoubleBE(t,n),8}}v.DoubleBE=Qa;class Wa extends we{constructor(t,e,n){if(!(t instanceof we))throw new TypeError("elementLayout must be a Layout");if(!(e instanceof et&&e.isCount()||Number.isInteger(e)&&0<=e))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let o=-1;!(e instanceof et)&&0<t.span&&(o=e*t.span),super(o,n),this.elementLayout=t,this.count=e}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0,o=this.count;if(o instanceof et&&(o=o.decode(t,e)),0<this.elementLayout.span)n=o*this.elementLayout.span;else{let i=0;for(;i<o;)n+=this.elementLayout.getSpan(t,e+n),++i}return n}decode(t,e=0){const n=[];let o=0,i=this.count;for(i instanceof et&&(i=i.decode(t,e));o<i;)n.push(this.elementLayout.decode(t,e)),e+=this.elementLayout.getSpan(t,e),o+=1;return n}encode(t,e,n=0){const o=this.elementLayout,i=t.reduce((s,a)=>s+o.encode(a,e,n+s),0);return this.count instanceof et&&this.count.encode(t.length,e,n),i}}v.Sequence=Wa;class Za extends we{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((i,s)=>i&&s instanceof we,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const i of t)if(0>i.span&&i.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let o=-1;try{o=t.reduce((i,s)=>i+s.getSpan(),0)}catch{}super(o,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;try{n=this.fields.reduce((o,i)=>{const s=i.getSpan(t,e);return e+=s,o+s},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e=0){sr(t);const n=this.makeDestinationObject();for(const o of this.fields)if(o.property!==void 0&&(n[o.property]=o.decode(t,e)),e+=o.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n=0){const o=n;let i=0,s=0;for(const a of this.fields){let u=a.span;if(s=0<u?u:0,a.property!==void 0){const h=t[a.property];h!==void 0&&(s=a.encode(h,e,n),0>u&&(u=a.getSpan(e,n)))}i=n,n+=u}return i+s-o}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}v.Structure=Za;class ji{constructor(t){this.property=t}decode(t,e){throw new Error("UnionDiscriminator is abstract")}encode(t,e,n){throw new Error("UnionDiscriminator is abstract")}}v.UnionDiscriminator=ji;class oo extends ji{constructor(t,e){if(!(t instanceof et&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}v.UnionLayoutDiscriminator=oo;class Vi extends we{constructor(t,e,n){let o;if(t instanceof vt||t instanceof It)o=new oo(new Oi(t));else if(t instanceof et&&t.isCount())o=new oo(t);else if(t instanceof ji)o=t;else throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof we))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let i=-1;e&&(i=e.span,0<=i&&(t instanceof vt||t instanceof It)&&(i+=o.layout.span)),super(i,n),this.discriminator=o,this.usesPrefixDiscriminator=t instanceof vt||t instanceof It,this.defaultLayout=e,this.registry={};let s=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(a){return s(a)},this.configGetSourceVariant=function(a){s=a.bind(this)}}getSpan(t,e=0){if(0<=this.span)return this.span;const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(Object.prototype.hasOwnProperty.call(t,this.discriminator.property)){if(this.defaultLayout&&this.defaultLayout.property&&Object.prototype.hasOwnProperty.call(t,this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||e.property&&Object.prototype.hasOwnProperty.call(t,e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(n.property&&Object.prototype.hasOwnProperty.call(t,n.property))return n}throw new Error("unable to infer src variant")}decode(t,e=0){let n;const o=this.discriminator,i=o.decode(t,e),s=this.registry[i];if(s===void 0){const a=this.defaultLayout;let u=0;this.usesPrefixDiscriminator&&(u=o.layout.span),n=this.makeDestinationObject(),n[o.property]=i,n[a.property]=a.decode(t,e+u)}else n=s.decode(t,e);return n}encode(t,e,n=0){const o=this.getSourceVariant(t);if(o===void 0){const i=this.discriminator,s=this.defaultLayout;let a=0;return this.usesPrefixDiscriminator&&(a=i.layout.span),i.encode(t[i.property],e,n),a+s.encode(t[s.property],e,n+a)}return o.encode(t,e,n)}addVariant(t,e,n){const o=new Pa(this,t,e,n);return this.registry[t]=o,o}getVariant(t,e=0){let n;return t instanceof Uint8Array?n=this.discriminator.decode(t,e):n=t,this.registry[n]}}v.Union=Vi;class Pa extends we{constructor(t,e,n,o){if(!(t instanceof Vi))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&o===void 0&&(o=n,n=null),n){if(!(n instanceof we))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof o!="string")throw new TypeError("variant must have a String property")}let i=t.span;0>t.span&&(i=n?n.span:0,0<=i&&t.usesPrefixDiscriminator&&(i+=t.discriminator.layout.span)),super(i,o),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e=0){if(0<=this.span)return this.span;let n=0;this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span);let o=0;return this.layout&&(o=this.layout.getSpan(t,e+n)),n+o}decode(t,e=0){const n=this.makeDestinationObject();if(this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let o=0;return this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+o):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n=0){let o=0;if(this.union.usesPrefixDiscriminator&&(o=this.union.discriminator.layout.span),this.layout&&!Object.prototype.hasOwnProperty.call(t,this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let i=o;if(this.layout&&(this.layout.encode(t[this.property],e,n+o),i+=this.layout.getSpan(e,n+o),0<=this.union.span&&i>this.union.span))throw new Error("encoded variant overruns containing union");return i}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}v.VariantLayout=Pa;function zn(r){return 0>r&&(r+=4294967296),r}class Li extends we{constructor(t,e,n){if(!(t instanceof vt||t instanceof It))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof e=="string"&&n===void 0&&(n=e,e=!1),4<t.span)throw new RangeError("word cannot exceed 32 bits");super(t.span,n),this.word=t,this.msb=!!e,this.fields=[];let o=0;this._packedSetValue=function(i){return o=zn(i),this},this._packedGetValue=function(){return o}}decode(t,e=0){const n=this.makeDestinationObject(),o=this.word.decode(t,e);this._packedSetValue(o);for(const i of this.fields)i.property!==void 0&&(n[i.property]=i.decode(t));return n}encode(t,e,n=0){const o=this.word.decode(e,n);this._packedSetValue(o);for(const i of this.fields)if(i.property!==void 0){const s=t[i.property];s!==void 0&&i.encode(s)}return this.word.encode(this._packedGetValue(),e,n)}addField(t,e){const n=new zi(this,t,e);return this.fields.push(n),n}addBoolean(t){const e=new Ka(this,t);return this.fields.push(e),e}fieldFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}}v.BitStructure=Li;class zi{constructor(t,e,n){if(!(t instanceof Li))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(e)||0>=e)throw new TypeError("bits must be positive integer");const o=8*t.span,i=t.fields.reduce((s,a)=>s+a.bits,0);if(e+i>o)throw new Error("bits too long for span remainder ("+(o-i)+" of "+o+" remain)");this.container=t,this.bits=e,this.valueMask=(1<<e)-1,e===32&&(this.valueMask=4294967295),this.start=i,this.container.msb&&(this.start=o-i-e),this.wordMask=zn(this.valueMask<<this.start),this.property=n}decode(t,e){const n=this.container._packedGetValue();return zn(n&this.wordMask)>>>this.start}encode(t){if(typeof t!="number"||!Number.isInteger(t)||t!==zn(t&this.valueMask))throw new TypeError(Ci("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const e=this.container._packedGetValue(),n=zn(t<<this.start);this.container._packedSetValue(zn(e&~this.wordMask)|n)}}v.BitField=zi;class Ka extends zi{constructor(t,e){super(t,1,e)}decode(t,e){return!!super.decode(t,e)}encode(t){typeof t=="boolean"&&(t=+t),super.encode(t)}}v.Boolean=Ka;class $a extends we{constructor(t,e){if(!(t instanceof et&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof et||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e=0){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),le(t).slice(e,e+n)}encode(t,e,n){let o=this.length;if(this.length instanceof et&&(o=t.length),!(t instanceof Uint8Array&&o===t.length))throw new TypeError(Ci("Blob.encode",this)+" requires (length "+o+") Uint8Array as src");if(n+o>e.length)throw new RangeError("encoding overruns Uint8Array");const i=le(t);return le(e).write(i.toString("hex"),n,o,"hex"),this.length instanceof et&&this.length.encode(o,e,n),o}}v.Blob=$a;class Ya extends we{constructor(t){super(-1,t)}getSpan(t,e=0){sr(t);let n=e;for(;n<t.length&&t[n]!==0;)n+=1;return 1+n-e}decode(t,e=0){const n=this.getSpan(t,e);return le(t).slice(e,e+n-1).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const o=Ri.Buffer.from(t,"utf8"),i=o.length;if(n+i>e.length)throw new RangeError("encoding overruns Buffer");const s=le(e);return o.copy(s,n),s[n+i]=0,i+1}}v.CString=Ya;class Ha extends we{constructor(t,e){if(typeof t=="string"&&e===void 0&&(e=t,t=void 0),t===void 0)t=-1;else if(!Number.isInteger(t))throw new TypeError("maxSpan must be an integer");super(-1,e),this.maxSpan=t}getSpan(t,e=0){return sr(t),t.length-e}decode(t,e=0){const n=this.getSpan(t,e);if(0<=this.maxSpan&&this.maxSpan<n)throw new RangeError("text length exceeds maxSpan");return le(t).slice(e,e+n).toString("utf-8")}encode(t,e,n=0){typeof t!="string"&&(t=String(t));const o=Ri.Buffer.from(t,"utf8"),i=o.length;if(0<=this.maxSpan&&this.maxSpan<i)throw new RangeError("text length exceeds maxSpan");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return o.copy(le(e),n),i}}v.UTF8=Ha;class Ga extends we{constructor(t,e){super(0,e),this.value=t}decode(t,e){return this.value}encode(t,e,n){return 0}}v.Constant=Ga;v.greedy=(r,t)=>new Da(r,t);var xn=v.offset=(r,t,e)=>new Oi(r,t,e),Se=v.u8=r=>new vt(1,r),Et=v.u16=r=>new vt(2,r);v.u24=r=>new vt(3,r);var q=v.u32=r=>new vt(4,r);v.u40=r=>new vt(5,r);v.u48=r=>new vt(6,r);var ze=v.nu64=r=>new Ra(r);v.u16be=r=>new It(2,r);v.u24be=r=>new It(3,r);v.u32be=r=>new It(4,r);v.u40be=r=>new It(5,r);v.u48be=r=>new It(6,r);v.nu64be=r=>new Ca(r);v.s8=r=>new Nn(1,r);v.s16=r=>new Nn(2,r);v.s24=r=>new Nn(3,r);v.s32=r=>new Nn(4,r);v.s40=r=>new Nn(5,r);v.s48=r=>new Nn(6,r);var lt=v.ns64=r=>new Oa(r);v.s16be=r=>new ar(2,r);v.s24be=r=>new ar(3,r);v.s32be=r=>new ar(4,r);v.s40be=r=>new ar(5,r);v.s48be=r=>new ar(6,r);v.ns64be=r=>new ja(r);v.f32=r=>new Va(r);v.f32be=r=>new La(r);v.f64=r=>new za(r);v.f64be=r=>new Qa(r);var J=v.struct=(r,t,e)=>new Za(r,t,e);v.bits=(r,t,e)=>new Li(r,t,e);var Ft=v.seq=(r,t,e)=>new Wa(r,t,e);v.union=(r,t,e)=>new Vi(r,t,e);v.unionLayoutDiscriminator=(r,t)=>new oo(r,t);var bt=v.blob=(r,t)=>new $a(r,t);v.cstr=r=>new Ya(r);v.utf8=(r,t)=>new Ha(r,t);v.constant=(r,t)=>new Ga(r,t);var kr={};Object.defineProperty(kr,"__esModule",{value:!0});function Vh(r){{const t=Buffer.from(r);t.reverse();const e=t.toString("hex");return e.length===0?BigInt(0):BigInt(`0x${e}`)}}var Lh=kr.toBigIntLE=Vh;function zh(r){{const t=r.toString("hex");return t.length===0?BigInt(0):BigInt(`0x${t}`)}}kr.toBigIntBE=zh;function Qh(r,t){{const e=r.toString(16),n=Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex");return n.reverse(),n}}var Wh=kr.toBufferLE=Qh;function Zh(r,t){{const e=r.toString(16);return Buffer.from(e.padStart(t*2,"0").slice(0,t*2),"hex")}}kr.toBufferBE=Zh;class Ph extends TypeError{constructor(t,e){let n;const{message:o,...i}=t,{path:s}=t,a=s.length===0?o:"At path: "+s.join(".")+" -- "+o;super(a),Object.assign(this,i),this.name=this.constructor.name,this.failures=()=>{var u;return(u=n)!=null?u:n=[t,...e()]}}}function Kh(r){return ln(r)&&typeof r[Symbol.iterator]=="function"}function ln(r){return typeof r=="object"&&r!=null}function At(r){return typeof r=="string"?JSON.stringify(r):""+r}function $h(r){const{done:t,value:e}=r.next();return t?void 0:e}function Yh(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:o,branch:i}=t,{type:s}=e,{refinement:a,message:u="Expected a value of type `"+s+"`"+(a?" with refinement `"+a+"`":"")+", but received: `"+At(n)+"`"}=r;return{value:n,type:s,refinement:a,key:o[o.length-1],path:o,branch:i,...r,message:u}}function*As(r,t,e,n){Kh(r)||(r=[r]);for(const o of r){const i=Yh(o,t,e,n);i&&(yield i)}}function*Qi(r,t,e={}){const{path:n=[],branch:o=[r],coerce:i=!1,mask:s=!1}=e,a={path:n,branch:o};if(i&&(r=t.coercer(r,a),s&&t.type!=="type"&&ln(t.schema)&&ln(r)&&!Array.isArray(r)))for(const h in r)t.schema[h]===void 0&&delete r[h];let u=!0;for(const h of t.validator(r,a))u=!1,yield[h,void 0];for(let[h,f,w]of t.entries(r,a)){const y=Qi(f,w,{path:h===void 0?n:[...n,h],branch:h===void 0?o:[...o,f],coerce:i,mask:s});for(const g of y)g[0]?(u=!1,yield[g[0],void 0]):i&&(f=g[1],h===void 0?r=f:r instanceof Map?r.set(h,f):r instanceof Set?r.add(f):ln(r)&&(r[h]=f))}if(u)for(const h of t.refiner(r,a))u=!1,yield[h,void 0];u&&(yield[void 0,r])}class Qt{constructor(t){const{type:e,schema:n,validator:o,refiner:i,coercer:s=u=>u,entries:a=function*(){}}=t;this.type=e,this.schema=n,this.entries=a,this.coercer=s,o?this.validator=(u,h)=>{const f=o(u,h);return As(f,h,this,u)}:this.validator=()=>[],i?this.refiner=(u,h)=>{const f=i(u,h);return As(f,h,this,u)}:this.refiner=()=>[]}assert(t){return Hh(t,this)}create(t){return Sr(t,this)}is(t){return Ja(t,this)}mask(t){return Gh(t,this)}validate(t,e={}){return Nr(t,this,e)}}function Hh(r,t){const e=Nr(r,t);if(e[0])throw e[0]}function Sr(r,t){const e=Nr(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function Gh(r,t){const e=Nr(r,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function Ja(r,t){return!Nr(r,t)[0]}function Nr(r,t,e={}){const n=Qi(r,t,e),o=$h(n);return o[0]?[new Ph(o[0],function*(){for(const s of n)s[0]&&(yield s[0])}),void 0]:[void 0,o[1]]}function Bn(r,t){return new Qt({type:r,schema:null,validator:t})}function Jh(){return Bn("any",()=>!0)}function P(r){return new Qt({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+At(t)}})}function Kt(){return Bn("boolean",r=>typeof r=="boolean")}function Wi(r){return Bn("instance",t=>t instanceof r||"Expected a `"+r.name+"` instance, but received: "+At(t))}function ve(r){const t=At(r),e=typeof r;return new Qt({type:"literal",schema:e==="string"||e==="number"||e==="boolean"?r:null,validator(n){return n===r||"Expected the literal `"+t+"`, but received: "+At(n)}})}function Xh(){return Bn("never",()=>!1)}function Z(r){return new Qt({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function S(){return Bn("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+At(r))}function ee(r){return new Qt({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function Xa(r,t){return new Qt({type:"record",schema:null,*entries(e){if(ln(e))for(const n in e){const o=e[n];yield[n,n,r],yield[n,o,t]}},validator(e){return ln(e)||"Expected an object, but received: "+At(e)}})}function L(){return Bn("string",r=>typeof r=="string"||"Expected a string, but received: "+At(r))}function Zi(r){const t=Xh();return new Qt({type:"tuple",schema:null,*entries(e){if(Array.isArray(e)){const n=Math.max(r.length,e.length);for(let o=0;o<n;o++)yield[o,e[o],r[o]||t]}},validator(e){return Array.isArray(e)||"Expected an array, but received: "+At(e)}})}function C(r){const t=Object.keys(r);return new Qt({type:"type",schema:r,*entries(e){if(ln(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return ln(e)||"Expected an object, but received: "+At(e)}})}function tt(r){const t=r.map(e=>e.type).join(" | ");return new Qt({type:"union",schema:null,validator(e,n){const o=[];for(const i of r){const[...s]=Qi(e,i,n),[a]=s;if(a[0])for(const[u]of s)u&&o.push(u);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+At(e),...o]}})}function Br(){return Bn("unknown",()=>!0)}function Fr(r,t,e){return new Qt({...r,coercer:(n,o)=>Ja(n,t)?r.coercer(e(n,o),o):r.coercer(n,o)})}var Pi={},Mo={exports:{}};(function(r){function t(e){return e&&e.__esModule?e:{default:e}}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports})(Mo);var Ko={exports:{}},$o={exports:{}},Yo={exports:{}},Ts;function qh(){return Ts||(Ts=1,function(r){var t=go.exports.default;function e(n,o){if(t(n)!=="object"||n===null)return n;var i=n[Symbol.toPrimitive];if(i!==void 0){var s=i.call(n,o||"default");if(t(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(o==="string"?String:Number)(n)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Yo)),Yo.exports}var Us;function ed(){return Us||(Us=1,function(r){var t=go.exports.default,e=qh();function n(o){var i=e(o,"string");return t(i)==="symbol"?i:String(i)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}($o)),$o.exports}var ks;function Ki(){return ks||(ks=1,function(r){var t=ed();function e(o,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,t(a.key),a)}}function n(o,i,s){return i&&e(o.prototype,i),s&&e(o,s),Object.defineProperty(o,"prototype",{writable:!1}),o}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(Ko)),Ko.exports}var Ho={exports:{}},Ns;function $i(){return Ns||(Ns=1,function(r){function t(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Ho)),Ho.exports}var Go={exports:{}},Jo={exports:{}},Bs;function td(){return Bs||(Bs=1,function(r){function t(e,n){return r.exports=t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},r.exports.__esModule=!0,r.exports.default=r.exports,t(e,n)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(Jo)),Jo.exports}var Fs;function Yi(){return Fs||(Fs=1,function(r){var t=td();function e(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,writable:!0,configurable:!0}}),Object.defineProperty(n,"prototype",{writable:!1}),o&&t(n,o)}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(Go)),Go.exports}var Xo={exports:{}},qo={exports:{}},Ds;function nd(){return Ds||(Ds=1,function(r){function t(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(qo)),qo.exports}var Rs;function Hi(){return Rs||(Rs=1,function(r){var t=go.exports.default,e=nd();function n(o,i){if(i&&(t(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return e(o)}r.exports=n,r.exports.__esModule=!0,r.exports.default=r.exports}(Xo)),Xo.exports}var ei={exports:{}},Cs;function Gi(){return Cs||(Cs=1,function(r){function t(e){return r.exports=t=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},r.exports.__esModule=!0,r.exports.default=r.exports,t(e)}r.exports=t,r.exports.__esModule=!0,r.exports.default=r.exports}(ei)),ei.exports}var ti={},Os;function rd(){return Os||(Os=1,function(r){var t=Mo.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.default=w;var e=t($i()),n=t(Ki()),o=t(Yi()),i=t(Hi()),s=t(Gi()),a=yo.exports;function u(y){var g=h();return function(){var b=(0,s.default)(y),M;if(g){var U=(0,s.default)(this).constructor;M=Reflect.construct(b,arguments,U)}else M=b.apply(this,arguments);return(0,i.default)(this,M)}}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var f=function(y){(0,o.default)(_,y);var g=u(_);function _(b,M,U){var k;return(0,e.default)(this,_),k=g.call(this),k.socket=new window.WebSocket(b,U),k.socket.onopen=function(){return k.emit("open")},k.socket.onmessage=function(x){return k.emit("message",x.data)},k.socket.onerror=function(x){return k.emit("error",x)},k.socket.onclose=function(x){k.emit("close",x.code,x.reason)},k}return(0,n.default)(_,[{key:"send",value:function(M,U,k){var x=k||U;try{this.socket.send(M),x()}catch(z){x(z)}}},{key:"close",value:function(M,U){this.socket.close(M,U)}},{key:"addEventListener",value:function(M,U,k){this.socket.addEventListener(M,U,k)}}]),_}(a.EventEmitter);function w(y,g){return new f(y,g)}}(ti)),ti}var ni={},ri={exports:{}},js;function od(){return js||(js=1,function(r){function t(n,o,i,s,a,u,h){try{var f=n[u](h),w=f.value}catch(y){i(y);return}f.done?o(w):Promise.resolve(w).then(s,a)}function e(n){return function(){var o=this,i=arguments;return new Promise(function(s,a){var u=n.apply(o,i);function h(w){t(u,s,a,h,f,"next",w)}function f(w){t(u,s,a,h,f,"throw",w)}h(void 0)})}}r.exports=e,r.exports.__esModule=!0,r.exports.default=r.exports}(ri)),ri.exports}var Vs;function id(){return Vs||(Vs=1,function(r){var t=Mo.exports;Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var e=t(Tl),n=t(od()),o=t(go.exports),i=t($i()),s=t(Ki()),a=t(Yi()),u=t(Hi()),h=t(Gi()),f=yo.exports;function w(b){var M=y();return function(){var k=(0,h.default)(b),x;if(M){var z=(0,h.default)(this).constructor;x=Reflect.construct(k,arguments,z)}else x=k.apply(this,arguments);return(0,u.default)(this,x)}}function y(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var g=function(b,M){var U={};for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&M.indexOf(k)<0&&(U[k]=b[k]);if(b!=null&&typeof Object.getOwnPropertySymbols=="function")for(var x=0,k=Object.getOwnPropertySymbols(b);x<k.length;x++)M.indexOf(k[x])<0&&Object.prototype.propertyIsEnumerable.call(b,k[x])&&(U[k[x]]=b[k[x]]);return U},_=function(b){(0,a.default)(U,b);var M=w(U);function U(k){var x,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},j=arguments.length>3?arguments[3]:void 0;(0,i.default)(this,U);var O=A.autoconnect,H=O===void 0?!0:O,ie=A.reconnect,R=ie===void 0?!0:ie,B=A.reconnect_interval,Y=B===void 0?1e3:B,te=A.max_reconnects,G=te===void 0?5:te,xe=g(A,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return x=M.call(this),x.webSocketFactory=k,x.queue={},x.rpc_id=0,x.address=z,x.autoconnect=H,x.ready=!1,x.reconnect=R,x.reconnect_interval=Y,x.max_reconnects=G,x.rest_options=xe,x.current_reconnects=0,x.generate_request_id=j||function(){return++x.rpc_id},x.autoconnect&&x._connect(x.address,Object.assign({autoconnect:x.autoconnect,reconnect:x.reconnect,reconnect_interval:x.reconnect_interval,max_reconnects:x.max_reconnects},x.rest_options)),x}return(0,s.default)(U,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(x,z,A,j){var O=this;return!j&&(0,o.default)(A)==="object"&&(j=A,A=null),new Promise(function(H,ie){if(!O.ready)return ie(new Error("socket not ready"));var R=O.generate_request_id(x,z),B={jsonrpc:"2.0",method:x,params:z||null,id:R};O.socket.send(JSON.stringify(B),j,function(Y){if(Y)return ie(Y);O.queue[R]={promise:[H,ie]},A&&(O.queue[R].timeout=setTimeout(function(){delete O.queue[R],ie(new Error("reply timeout"))},A))})})}},{key:"login",value:function(){var k=(0,n.default)(e.default.mark(function z(A){var j;return e.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,this.call("rpc.login",A);case 2:if(j=H.sent,j){H.next=5;break}throw new Error("authentication failed");case 5:return H.abrupt("return",j);case 6:case"end":return H.stop()}},z,this)}));function x(z){return k.apply(this,arguments)}return x}()},{key:"listMethods",value:function(){var k=(0,n.default)(e.default.mark(function z(){return e.default.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,this.call("__listMethods");case 2:return j.abrupt("return",j.sent);case 3:case"end":return j.stop()}},z,this)}));function x(){return k.apply(this,arguments)}return x}()},{key:"notify",value:function(x,z){var A=this;return new Promise(function(j,O){if(!A.ready)return O(new Error("socket not ready"));var H={jsonrpc:"2.0",method:x,params:z||null};A.socket.send(JSON.stringify(H),function(ie){if(ie)return O(ie);j()})})}},{key:"subscribe",value:function(){var k=(0,n.default)(e.default.mark(function z(A){var j;return e.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return typeof A=="string"&&(A=[A]),H.next=3,this.call("rpc.on",A);case 3:if(j=H.sent,!(typeof A=="string"&&j[A]!=="ok")){H.next=6;break}throw new Error("Failed subscribing to an event '"+A+"' with: "+j[A]);case 6:return H.abrupt("return",j);case 7:case"end":return H.stop()}},z,this)}));function x(z){return k.apply(this,arguments)}return x}()},{key:"unsubscribe",value:function(){var k=(0,n.default)(e.default.mark(function z(A){var j;return e.default.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return typeof A=="string"&&(A=[A]),H.next=3,this.call("rpc.off",A);case 3:if(j=H.sent,!(typeof A=="string"&&j[A]!=="ok")){H.next=6;break}throw new Error("Failed unsubscribing from an event with: "+j);case 6:return H.abrupt("return",j);case 7:case"end":return H.stop()}},z,this)}));function x(z){return k.apply(this,arguments)}return x}()},{key:"close",value:function(x,z){this.socket.close(x||1e3,z)}},{key:"_connect",value:function(x,z){var A=this;this.socket=this.webSocketFactory(x,z),this.socket.addEventListener("open",function(){A.ready=!0,A.emit("open"),A.current_reconnects=0}),this.socket.addEventListener("message",function(j){var O=j.data;O instanceof ArrayBuffer&&(O=Buffer.from(O).toString());try{O=JSON.parse(O)}catch{return}if(O.notification&&A.listeners(O.notification).length){if(!Object.keys(O.params).length)return A.emit(O.notification);var H=[O.notification];if(O.params.constructor===Object)H.push(O.params);else for(var ie=0;ie<O.params.length;ie++)H.push(O.params[ie]);return Promise.resolve().then(function(){A.emit.apply(A,H)})}if(!A.queue[O.id])return O.method&&O.params?Promise.resolve().then(function(){A.emit(O.method,O.params)}):void 0;"error"in O=="result"in O&&A.queue[O.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),A.queue[O.id].timeout&&clearTimeout(A.queue[O.id].timeout),O.error?A.queue[O.id].promise[1](O.error):A.queue[O.id].promise[0](O.result),delete A.queue[O.id]}),this.socket.addEventListener("error",function(j){return A.emit("error",j)}),this.socket.addEventListener("close",function(j){var O=j.code,H=j.reason;A.ready&&setTimeout(function(){return A.emit("close",O,H)},0),A.ready=!1,A.socket=void 0,O!==1e3&&(A.current_reconnects++,A.reconnect&&(A.max_reconnects>A.current_reconnects||A.max_reconnects===0)&&setTimeout(function(){return A._connect(x,z)},A.reconnect_interval))})}}]),U}(f.EventEmitter);r.default=_}(ni)),ni}var Fn=Mo.exports;Object.defineProperty(Pi,"__esModule",{value:!0});Pi.Client=void 0;var sd=Fn(Ki()),ad=Fn($i()),cd=Fn(Yi()),ld=Fn(Hi()),Ls=Fn(Gi()),ud=Fn(rd()),hd=Fn(id());function dd(r){var t=fd();return function(){var n=(0,Ls.default)(r),o;if(t){var i=(0,Ls.default)(this).constructor;o=Reflect.construct(n,arguments,i)}else o=n.apply(this,arguments);return(0,ld.default)(this,o)}}function fd(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var pd=function(r){(0,cd.default)(e,r);var t=dd(e);function e(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=o.autoconnect,s=i===void 0?!0:i,a=o.reconnect,u=a===void 0?!0:a,h=o.reconnect_interval,f=h===void 0?1e3:h,w=o.max_reconnects,y=w===void 0?5:w,g=arguments.length>2?arguments[2]:void 0;return(0,ad.default)(this,e),t.call(this,ud.default,n,{autoconnect:s,reconnect:u,reconnect_interval:f,max_reconnects:y},g)}return(0,sd.default)(e)}(hd.default);Pi.Client=pd;var Or,wd=new Uint8Array(16);function qa(){if(!Or&&(Or=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Or))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Or(wd)}const gd=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function xo(r){return typeof r=="string"&&gd.test(r)}var Le=[];for(var oi=0;oi<256;++oi)Le.push((oi+256).toString(16).substr(1));function Io(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Le[r[t+0]]+Le[r[t+1]]+Le[r[t+2]]+Le[r[t+3]]+"-"+Le[r[t+4]]+Le[r[t+5]]+"-"+Le[r[t+6]]+Le[r[t+7]]+"-"+Le[r[t+8]]+Le[r[t+9]]+"-"+Le[r[t+10]]+Le[r[t+11]]+Le[r[t+12]]+Le[r[t+13]]+Le[r[t+14]]+Le[r[t+15]]).toLowerCase();if(!xo(e))throw TypeError("Stringified UUID is invalid");return e}var zs,ii,si=0,ai=0;function yd(r,t,e){var n=t&&e||0,o=t||new Array(16);r=r||{};var i=r.node||zs,s=r.clockseq!==void 0?r.clockseq:ii;if(i==null||s==null){var a=r.random||(r.rng||qa)();i==null&&(i=zs=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),s==null&&(s=ii=(a[6]<<8|a[7])&16383)}var u=r.msecs!==void 0?r.msecs:Date.now(),h=r.nsecs!==void 0?r.nsecs:ai+1,f=u-si+(h-ai)/1e4;if(f<0&&r.clockseq===void 0&&(s=s+1&16383),(f<0||u>si)&&r.nsecs===void 0&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");si=u,ai=h,ii=s,u+=122192928e5;var w=((u&268435455)*1e4+h)%4294967296;o[n++]=w>>>24&255,o[n++]=w>>>16&255,o[n++]=w>>>8&255,o[n++]=w&255;var y=u/4294967296*1e4&268435455;o[n++]=y>>>8&255,o[n++]=y&255,o[n++]=y>>>24&15|16,o[n++]=y>>>16&255,o[n++]=s>>>8|128,o[n++]=s&255;for(var g=0;g<6;++g)o[n+g]=i[g];return t||Io(o)}function ec(r){if(!xo(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}function md(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}var Ed="6ba7b810-9dad-11d1-80b4-00c04fd430c8",_d="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function tc(r,t,e){function n(o,i,s,a){if(typeof o=="string"&&(o=md(o)),typeof i=="string"&&(i=ec(i)),i.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var u=new Uint8Array(16+o.length);if(u.set(i),u.set(o,i.length),u=e(u),u[6]=u[6]&15|t,u[8]=u[8]&63|128,s){a=a||0;for(var h=0;h<16;++h)s[a+h]=u[h];return s}return Io(u)}try{n.name=r}catch{}return n.DNS=Ed,n.URL=_d,n}function bd(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return vd(Sd(Md(r),r.length*8))}function vd(r){for(var t=[],e=r.length*32,n="0123456789abcdef",o=0;o<e;o+=8){var i=r[o>>5]>>>o%32&255,s=parseInt(n.charAt(i>>>4&15)+n.charAt(i&15),16);t.push(s)}return t}function nc(r){return(r+64>>>9<<4)+14+1}function Sd(r,t){r[t>>5]|=128<<t%32,r[nc(t)-1]=t;for(var e=1732584193,n=-271733879,o=-1732584194,i=271733878,s=0;s<r.length;s+=16){var a=e,u=n,h=o,f=i;e=Ze(e,n,o,i,r[s],7,-680876936),i=Ze(i,e,n,o,r[s+1],12,-389564586),o=Ze(o,i,e,n,r[s+2],17,606105819),n=Ze(n,o,i,e,r[s+3],22,-1044525330),e=Ze(e,n,o,i,r[s+4],7,-176418897),i=Ze(i,e,n,o,r[s+5],12,1200080426),o=Ze(o,i,e,n,r[s+6],17,-1473231341),n=Ze(n,o,i,e,r[s+7],22,-45705983),e=Ze(e,n,o,i,r[s+8],7,1770035416),i=Ze(i,e,n,o,r[s+9],12,-1958414417),o=Ze(o,i,e,n,r[s+10],17,-42063),n=Ze(n,o,i,e,r[s+11],22,-1990404162),e=Ze(e,n,o,i,r[s+12],7,1804603682),i=Ze(i,e,n,o,r[s+13],12,-40341101),o=Ze(o,i,e,n,r[s+14],17,-1502002290),n=Ze(n,o,i,e,r[s+15],22,1236535329),e=Pe(e,n,o,i,r[s+1],5,-165796510),i=Pe(i,e,n,o,r[s+6],9,-1069501632),o=Pe(o,i,e,n,r[s+11],14,643717713),n=Pe(n,o,i,e,r[s],20,-373897302),e=Pe(e,n,o,i,r[s+5],5,-701558691),i=Pe(i,e,n,o,r[s+10],9,38016083),o=Pe(o,i,e,n,r[s+15],14,-660478335),n=Pe(n,o,i,e,r[s+4],20,-405537848),e=Pe(e,n,o,i,r[s+9],5,568446438),i=Pe(i,e,n,o,r[s+14],9,-1019803690),o=Pe(o,i,e,n,r[s+3],14,-187363961),n=Pe(n,o,i,e,r[s+8],20,1163531501),e=Pe(e,n,o,i,r[s+13],5,-1444681467),i=Pe(i,e,n,o,r[s+2],9,-51403784),o=Pe(o,i,e,n,r[s+7],14,1735328473),n=Pe(n,o,i,e,r[s+12],20,-1926607734),e=Ke(e,n,o,i,r[s+5],4,-378558),i=Ke(i,e,n,o,r[s+8],11,-2022574463),o=Ke(o,i,e,n,r[s+11],16,1839030562),n=Ke(n,o,i,e,r[s+14],23,-35309556),e=Ke(e,n,o,i,r[s+1],4,-1530992060),i=Ke(i,e,n,o,r[s+4],11,1272893353),o=Ke(o,i,e,n,r[s+7],16,-155497632),n=Ke(n,o,i,e,r[s+10],23,-1094730640),e=Ke(e,n,o,i,r[s+13],4,681279174),i=Ke(i,e,n,o,r[s],11,-358537222),o=Ke(o,i,e,n,r[s+3],16,-722521979),n=Ke(n,o,i,e,r[s+6],23,76029189),e=Ke(e,n,o,i,r[s+9],4,-640364487),i=Ke(i,e,n,o,r[s+12],11,-421815835),o=Ke(o,i,e,n,r[s+15],16,530742520),n=Ke(n,o,i,e,r[s+2],23,-995338651),e=$e(e,n,o,i,r[s],6,-198630844),i=$e(i,e,n,o,r[s+7],10,1126891415),o=$e(o,i,e,n,r[s+14],15,-1416354905),n=$e(n,o,i,e,r[s+5],21,-57434055),e=$e(e,n,o,i,r[s+12],6,1700485571),i=$e(i,e,n,o,r[s+3],10,-1894986606),o=$e(o,i,e,n,r[s+10],15,-1051523),n=$e(n,o,i,e,r[s+1],21,-2054922799),e=$e(e,n,o,i,r[s+8],6,1873313359),i=$e(i,e,n,o,r[s+15],10,-30611744),o=$e(o,i,e,n,r[s+6],15,-1560198380),n=$e(n,o,i,e,r[s+13],21,1309151649),e=$e(e,n,o,i,r[s+4],6,-145523070),i=$e(i,e,n,o,r[s+11],10,-1120210379),o=$e(o,i,e,n,r[s+2],15,718787259),n=$e(n,o,i,e,r[s+9],21,-343485551),e=nn(e,a),n=nn(n,u),o=nn(o,h),i=nn(i,f)}return[e,n,o,i]}function Md(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(nc(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function nn(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function xd(r,t){return r<<t|r>>>32-t}function Ao(r,t,e,n,o,i){return nn(xd(nn(nn(t,r),nn(n,i)),o),e)}function Ze(r,t,e,n,o,i,s){return Ao(t&e|~t&n,r,t,o,i,s)}function Pe(r,t,e,n,o,i,s){return Ao(t&n|e&~n,r,t,o,i,s)}function Ke(r,t,e,n,o,i,s){return Ao(t^e^n,r,t,o,i,s)}function $e(r,t,e,n,o,i,s){return Ao(e^(t|~n),r,t,o,i,s)}var Id=tc("v3",48,bd);const Ad=Id;function Td(r,t,e){r=r||{};var n=r.random||(r.rng||qa)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var o=0;o<16;++o)t[e+o]=n[o];return t}return Io(n)}function Ud(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function ci(r,t){return r<<t|r>>>32-t}function kd(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var o=0;o<n.length;++o)r.push(n.charCodeAt(o))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var i=r.length/4+2,s=Math.ceil(i/16),a=new Array(s),u=0;u<s;++u){for(var h=new Uint32Array(16),f=0;f<16;++f)h[f]=r[u*64+f*4]<<24|r[u*64+f*4+1]<<16|r[u*64+f*4+2]<<8|r[u*64+f*4+3];a[u]=h}a[s-1][14]=(r.length-1)*8/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=(r.length-1)*8&4294967295;for(var w=0;w<s;++w){for(var y=new Uint32Array(80),g=0;g<16;++g)y[g]=a[w][g];for(var _=16;_<80;++_)y[_]=ci(y[_-3]^y[_-8]^y[_-14]^y[_-16],1);for(var b=e[0],M=e[1],U=e[2],k=e[3],x=e[4],z=0;z<80;++z){var A=Math.floor(z/20),j=ci(b,5)+Ud(A,M,U,k)+x+t[A]+y[z]>>>0;x=k,k=U,U=ci(M,30)>>>0,M=b,b=j}e[0]=e[0]+b>>>0,e[1]=e[1]+M>>>0,e[2]=e[2]+U>>>0,e[3]=e[3]+k>>>0,e[4]=e[4]+x>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var Nd=tc("v5",80,kd);const Bd=Nd,Fd="00000000-0000-0000-0000-000000000000";function Dd(r){if(!xo(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}const Rd=Object.freeze(Object.defineProperty({__proto__:null,v1:yd,v3:Ad,v4:Td,v5:Bd,NIL:Fd,version:Dd,validate:xo,stringify:Io,parse:ec},Symbol.toStringTag,{value:"Module"})),rc=xi(Rd);rc.v4;rc.v4;/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const de=BigInt(0),be=BigInt(1),rn=BigInt(2),Er=BigInt(3),Qs=BigInt(8),De=Object.freeze({a:de,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:be,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),Ws=(r,t)=>(r+t/rn)/t,jr={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(r){const{n:t}=De,e=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-be*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),o=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),i=e,s=BigInt("0x100000000000000000000000000000000"),a=Ws(i*r,t),u=Ws(-n*r,t);let h=K(r-a*e-u*o,t),f=K(-a*n-u*i,t);const w=h>s,y=f>s;if(w&&(h=t-h),y&&(f=t-f),h>s||f>s)throw new Error("splitScalarEndo: Endomorphism failed, k="+r);return{k1neg:w,k1:h,k2neg:y,k2:f}}},Wn=32,Mr=32,Zs=Wn+1,Ps=2*Wn+1;function Ks(r){const{a:t,b:e}=De,n=K(r*r),o=K(n*r);return K(o+t*r+e)}const Vr=De.a===de;class Cd extends Error{constructor(t){super(t)}}function $s(r){if(!(r instanceof ue))throw new TypeError("JacobianPoint expected")}class ue{constructor(t,e,n){this.x=t,this.y=e,this.z=n}static fromAffine(t){if(!(t instanceof Fe))throw new TypeError("JacobianPoint#fromAffine: expected Point");return t.equals(Fe.ZERO)?ue.ZERO:new ue(t.x,t.y,be)}static toAffineBatch(t){const e=zd(t.map(n=>n.z));return t.map((n,o)=>n.toAffine(e[o]))}static normalizeZ(t){return ue.toAffineBatch(t).map(ue.fromAffine)}equals(t){$s(t);const{x:e,y:n,z:o}=this,{x:i,y:s,z:a}=t,u=K(o*o),h=K(a*a),f=K(e*h),w=K(i*u),y=K(K(n*a)*h),g=K(K(s*o)*u);return f===w&&y===g}negate(){return new ue(this.x,K(-this.y),this.z)}double(){const{x:t,y:e,z:n}=this,o=K(t*t),i=K(e*e),s=K(i*i),a=t+i,u=K(rn*(K(a*a)-o-s)),h=K(Er*o),f=K(h*h),w=K(f-rn*u),y=K(h*(u-w)-Qs*s),g=K(rn*e*n);return new ue(w,y,g)}add(t){$s(t);const{x:e,y:n,z:o}=this,{x:i,y:s,z:a}=t;if(i===de||s===de)return this;if(e===de||n===de)return t;const u=K(o*o),h=K(a*a),f=K(e*h),w=K(i*u),y=K(K(n*a)*h),g=K(K(s*o)*u),_=K(w-f),b=K(g-y);if(_===de)return b===de?this.double():ue.ZERO;const M=K(_*_),U=K(_*M),k=K(f*M),x=K(b*b-U-rn*k),z=K(b*(k-x)-y*U),A=K(o*a*_);return new ue(x,z,A)}subtract(t){return this.add(t.negate())}multiplyUnsafe(t){const e=ue.ZERO;if(typeof t=="bigint"&&t===de)return e;let n=Js(t);if(n===be)return this;if(!Vr){let w=e,y=this;for(;n>de;)n&be&&(w=w.add(y)),y=y.double(),n>>=be;return w}let{k1neg:o,k1:i,k2neg:s,k2:a}=jr.splitScalar(n),u=e,h=e,f=this;for(;i>de||a>de;)i&be&&(u=u.add(f)),a&be&&(h=h.add(f)),f=f.double(),i>>=be,a>>=be;return o&&(u=u.negate()),s&&(h=h.negate()),h=new ue(K(h.x*jr.beta),h.y,h.z),u.add(h)}precomputeWindow(t){const e=Vr?128/t+1:256/t+1,n=[];let o=this,i=o;for(let s=0;s<e;s++){i=o,n.push(i);for(let a=1;a<2**(t-1);a++)i=i.add(o),n.push(i);o=i.double()}return n}wNAF(t,e){!e&&this.equals(ue.BASE)&&(e=Fe.BASE);const n=e&&e._WINDOW_SIZE||1;if(256%n)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let o=e&&gi.get(e);o||(o=this.precomputeWindow(n),e&&n!==1&&(o=ue.normalizeZ(o),gi.set(e,o)));let i=ue.ZERO,s=ue.BASE;const a=1+(Vr?128/n:256/n),u=2**(n-1),h=BigInt(2**n-1),f=2**n,w=BigInt(n);for(let y=0;y<a;y++){const g=y*u;let _=Number(t&h);t>>=w,_>u&&(_-=f,t+=be);const b=g,M=g+Math.abs(_)-1,U=y%2!==0,k=_<0;_===0?s=s.add(Lr(U,o[b])):i=i.add(Lr(k,o[M]))}return{p:i,f:s}}multiply(t,e){let n=Js(t),o,i;if(Vr){const{k1neg:s,k1:a,k2neg:u,k2:h}=jr.splitScalar(n);let{p:f,f:w}=this.wNAF(a,e),{p:y,f:g}=this.wNAF(h,e);f=Lr(s,f),y=Lr(u,y),y=new ue(K(y.x*jr.beta),y.y,y.z),o=f.add(y),i=w.add(g)}else{const{p:s,f:a}=this.wNAF(n,e);o=s,i=a}return ue.normalizeZ([o,i])[0]}toAffine(t){const{x:e,y:n,z:o}=this,i=this.equals(ue.ZERO);t==null&&(t=i?Qs:To(o));const s=t,a=K(s*s),u=K(a*s),h=K(e*a),f=K(n*u),w=K(o*s);if(i)return Fe.ZERO;if(w!==be)throw new Error("invZ was invalid");return new Fe(h,f)}}ue.BASE=new ue(De.Gx,De.Gy,be);ue.ZERO=new ue(de,be,de);function Lr(r,t){const e=t.negate();return r?e:t}const gi=new WeakMap;class Fe{constructor(t,e){this.x=t,this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t,gi.delete(this)}hasEvenY(){return this.y%rn===de}static fromCompressedHex(t){const e=t.length===32,n=Tn(e?t:t.subarray(1));if(!ui(n))throw new Error("Point is not on curve");const o=Ks(n);let i=Ld(o);const s=(i&be)===be;e?s&&(i=K(-i)):(t[0]&1)===1!==s&&(i=K(-i));const a=new Fe(n,i);return a.assertValidity(),a}static fromUncompressedHex(t){const e=Tn(t.subarray(1,Wn+1)),n=Tn(t.subarray(Wn+1,Wn*2+1)),o=new Fe(e,n);return o.assertValidity(),o}static fromHex(t){const e=yi(t),n=e.length,o=e[0];if(n===Wn)return this.fromCompressedHex(e);if(n===Zs&&(o===2||o===3))return this.fromCompressedHex(e);if(n===Ps&&o===4)return this.fromUncompressedHex(e);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Zs} compressed bytes or ${Ps} uncompressed bytes, not ${n}`)}static fromPrivateKey(t){return Fe.BASE.multiply(mi(t))}static fromSignature(t,e,n){const{r:o,s:i}=Zd(e);if(![0,1,2,3].includes(n))throw new Error("Cannot recover: invalid recovery bit");const s=Wd(yi(t)),{n:a}=De,u=n===2||n===3?o+a:o,h=To(u,a),f=K(-s*h,a),w=K(i*h,a),y=n&1?"03":"02",g=Fe.fromHex(y+Kn(u)),_=Fe.BASE.multiplyAndAddUnsafe(g,f,w);if(!_)throw new Error("Cannot recover signature: point at infinify");return _.assertValidity(),_}toRawBytes(t=!1){return An(this.toHex(t))}toHex(t=!1){const e=Kn(this.x);return t?`${this.hasEvenY()?"02":"03"}${e}`:`04${e}${Kn(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const t="Point is not on elliptic curve",{x:e,y:n}=this;if(!ui(e)||!ui(n))throw new Error(t);const o=K(n*n),i=Ks(e);if(K(o-i)!==de)throw new Error(t)}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new Fe(this.x,K(-this.y))}double(){return ue.fromAffine(this).double().toAffine()}add(t){return ue.fromAffine(this).add(ue.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return ue.fromAffine(this).multiply(t,this).toAffine()}multiplyAndAddUnsafe(t,e,n){const o=ue.fromAffine(this),i=e===de||e===be||this!==Fe.BASE?o.multiplyUnsafe(e):o.multiply(e),s=ue.fromAffine(t).multiplyUnsafe(n),a=i.add(s);return a.equals(ue.ZERO)?void 0:a.toAffine()}}Fe.BASE=new Fe(De.Gx,De.Gy);Fe.ZERO=new Fe(de,de);function Ys(r){return Number.parseInt(r[0],16)>=8?"00"+r:r}function Hs(r){if(r.length<2||r[0]!==2)throw new Error(`Invalid signature integer tag: ${er(r)}`);const t=r[1],e=r.subarray(2,t+2);if(!t||e.length!==t)throw new Error("Invalid signature integer: wrong length");if(e[0]===0&&e[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Tn(e),left:r.subarray(t+2)}}function Od(r){if(r.length<2||r[0]!=48)throw new Error(`Invalid signature tag: ${er(r)}`);if(r[1]!==r.length-2)throw new Error("Invalid signature: incorrect length");const{data:t,left:e}=Hs(r.subarray(2)),{data:n,left:o}=Hs(e);if(o.length)throw new Error(`Invalid signature: left bytes after parsing: ${er(o)}`);return{r:t,s:n}}class In{constructor(t,e){this.r=t,this.s=e,this.assertValidity()}static fromCompact(t){const e=t instanceof Uint8Array,n="Signature.fromCompact";if(typeof t!="string"&&!e)throw new TypeError(`${n}: Expected string or Uint8Array`);const o=e?er(t):t;if(o.length!==128)throw new Error(`${n}: Expected 64-byte hex`);return new In(io(o.slice(0,64)),io(o.slice(64,128)))}static fromDER(t){const e=t instanceof Uint8Array;if(typeof t!="string"&&!e)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r:n,s:o}=Od(e?t:An(t));return new In(n,o)}static fromHex(t){return this.fromDER(t)}assertValidity(){const{r:t,s:e}=this;if(!so(t))throw new Error("Invalid Signature: r must be 0 < r < n");if(!so(e))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const t=De.n>>be;return this.s>t}normalizeS(){return this.hasHighS()?new In(this.r,K(-this.s,De.n)):this}toDERRawBytes(){return An(this.toDERHex())}toDERHex(){const t=Ys(dr(this.s)),e=Ys(dr(this.r)),n=t.length/2,o=e.length/2,i=dr(n),s=dr(o);return`30${dr(o+n+4)}02${s}${e}02${i}${t}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return An(this.toCompactHex())}toCompactHex(){return Kn(this.r)+Kn(this.s)}}function hr(...r){if(!r.every(n=>n instanceof Uint8Array))throw new Error("Uint8Array list expected");if(r.length===1)return r[0];const t=r.reduce((n,o)=>n+o.length,0),e=new Uint8Array(t);for(let n=0,o=0;n<r.length;n++){const i=r[n];e.set(i,o),o+=i.length}return e}const jd=Array.from({length:256},(r,t)=>t.toString(16).padStart(2,"0"));function er(r){if(!(r instanceof Uint8Array))throw new Error("Expected Uint8Array");let t="";for(let e=0;e<r.length;e++)t+=jd[r[e]];return t}const Vd=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Kn(r){if(typeof r!="bigint")throw new Error("Expected bigint");if(!(de<=r&&r<Vd))throw new Error("Expected number 0 <= n < 2^256");return r.toString(16).padStart(64,"0")}function Gs(r){const t=An(Kn(r));if(t.length!==32)throw new Error("Error: expected 32 bytes");return t}function dr(r){const t=r.toString(16);return t.length&1?`0${t}`:t}function io(r){if(typeof r!="string")throw new TypeError("hexToNumber: expected string, got "+typeof r);return BigInt(`0x${r}`)}function An(r){if(typeof r!="string")throw new TypeError("hexToBytes: expected string, got "+typeof r);if(r.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+r.length);const t=new Uint8Array(r.length/2);for(let e=0;e<t.length;e++){const n=e*2,o=r.slice(n,n+2),i=Number.parseInt(o,16);if(Number.isNaN(i)||i<0)throw new Error("Invalid byte sequence");t[e]=i}return t}function Tn(r){return io(er(r))}function yi(r){return r instanceof Uint8Array?Uint8Array.from(r):An(r)}function Js(r){if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)return BigInt(r);if(typeof r=="bigint"&&so(r))return r;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function K(r,t=De.P){const e=r%t;return e>=de?e:t+e}function yt(r,t){const{P:e}=De;let n=r;for(;t-- >de;)n*=n,n%=e;return n}function Ld(r){const{P:t}=De,e=BigInt(6),n=BigInt(11),o=BigInt(22),i=BigInt(23),s=BigInt(44),a=BigInt(88),u=r*r*r%t,h=u*u*r%t,f=yt(h,Er)*h%t,w=yt(f,Er)*h%t,y=yt(w,rn)*u%t,g=yt(y,n)*y%t,_=yt(g,o)*g%t,b=yt(_,s)*_%t,M=yt(b,a)*b%t,U=yt(M,s)*_%t,k=yt(U,Er)*h%t,x=yt(k,i)*g%t,z=yt(x,e)*u%t,A=yt(z,rn);if(A*A%t!==r)throw new Error("Cannot find square root");return A}function To(r,t=De.P){if(r===de||t<=de)throw new Error(`invert: expected positive integers, got n=${r} mod=${t}`);let e=K(r,t),n=t,o=de,i=be;for(;e!==de;){const a=n/e,u=n%e,h=o-i*a;n=e,e=u,o=i,i=h}if(n!==be)throw new Error("invert: does not exist");return K(o,t)}function zd(r,t=De.P){const e=new Array(r.length),n=r.reduce((i,s,a)=>s===de?i:(e[a]=i,K(i*s,t)),be),o=To(n,t);return r.reduceRight((i,s,a)=>s===de?i:(e[a]=K(i*e[a],t),K(i*s,t)),o),e}function Qd(r){const t=r.length*8-Mr*8,e=Tn(r);return t>0?e>>BigInt(t):e}function Wd(r,t=!1){const e=Qd(r);if(t)return e;const{n}=De;return e>=n?e-n:e}let $n,li;function so(r){return de<r&&r<De.n}function ui(r){return de<r&&r<De.P}function mi(r){let t;if(typeof r=="bigint")t=r;else if(typeof r=="number"&&Number.isSafeInteger(r)&&r>0)t=BigInt(r);else if(typeof r=="string"){if(r.length!==2*Mr)throw new Error("Expected 32 bytes of private key");t=io(r)}else if(r instanceof Uint8Array){if(r.length!==Mr)throw new Error("Expected 32 bytes of private key");t=Tn(r)}else throw new TypeError("Expected valid private key");if(!so(t))throw new Error("Expected private key: 0 < key < n");return t}function Zd(r){if(r instanceof In)return r.assertValidity(),r;try{return In.fromDER(r)}catch{return In.fromCompact(r)}}Fe.BASE._setWindowSize(8);const at={node:ua,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},zr={},bn={bytesToHex:er,hexToBytes:An,concatBytes:hr,mod:K,invert:To,isValidPrivateKey(r){try{return mi(r),!0}catch{return!1}},_bigintTo32Bytes:Gs,_normalizePrivateKey:mi,hashToPrivateKey:r=>{r=yi(r);const t=Mr+8;if(r.length<t||r.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const e=K(Tn(r),De.n-be)+be;return Gs(e)},randomBytes:(r=32)=>{if(at.web)return at.web.getRandomValues(new Uint8Array(r));if(at.node){const{randomBytes:t}=at.node;return Uint8Array.from(t(r))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>bn.hashToPrivateKey(bn.randomBytes(Mr+8)),precompute(r=8,t=Fe.BASE){const e=t===Fe.BASE?t:new Fe(t.x,t.y);return e._setWindowSize(r),e.multiply(Er),e},sha256:async(...r)=>{if(at.web){const t=await at.web.subtle.digest("SHA-256",hr(...r));return new Uint8Array(t)}else if(at.node){const{createHash:t}=at.node,e=t("sha256");return r.forEach(n=>e.update(n)),Uint8Array.from(e.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(r,...t)=>{if(at.web){const e=await at.web.subtle.importKey("raw",r,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),n=hr(...t),o=await at.web.subtle.sign("HMAC",e,n);return new Uint8Array(o)}else if(at.node){const{createHmac:e}=at.node,n=e("sha256",r);return t.forEach(o=>n.update(o)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(r,...t)=>{let e=zr[r];if(e===void 0){const n=await bn.sha256(Uint8Array.from(r,o=>o.charCodeAt(0)));e=hr(n,n),zr[r]=e}return bn.sha256(e,...t)},taggedHashSync:(r,...t)=>{if(typeof $n!="function")throw new Cd("sha256Sync is undefined, you need to set it");let e=zr[r];if(e===void 0){const n=$n(Uint8Array.from(r,o=>o.charCodeAt(0)));e=hr(n,n),zr[r]=e}return $n(e,...t)},_JacobianPoint:ue};Object.defineProperties(bn,{sha256Sync:{configurable:!1,get(){return $n},set(r){$n||($n=r)}},hmacSha256Sync:{configurable:!1,get(){return li},set(r){li||(li=r)}}});Xn.sha512Sync=(...r)=>Ul(Xn.concatBytes(...r));Xn.randomPrivateKey;function Xs(r){try{return Be.fromHex(r,!0),!0}catch{return!1}}const Pd=(r,t)=>xa.sign(r,t.slice(0,32)),Kd=xa.verify,Ji=r=>re.Buffer.isBuffer(r)?r:r instanceof Uint8Array?re.Buffer.from(r.buffer,r.byteOffset,r.byteLength):re.Buffer.from(r);class $d{constructor(t){Object.assign(this,t)}encode(){return re.Buffer.from(Ba(Kr,this))}static decode(t){return Fa(Kr,this,t)}static decodeUnchecked(t){return Aa(Kr,this,t)}}const Kr=new Map;let oc;const Yd=32,vn=32;function Hd(r){return r._bn!==void 0}let qs=1;oc=Symbol.toStringTag;class ne extends $d{constructor(t){if(super({}),this._bn=void 0,Hd(t))this._bn=t._bn;else{if(typeof t=="string"){const e=qe.decode(t);if(e.length!=vn)throw new Error("Invalid public key input");this._bn=new vs(e)}else this._bn=new vs(t);if(this._bn.byteLength()>vn)throw new Error("Invalid public key input")}}static unique(){const t=new ne(qs);return qs+=1,new ne(t.toBuffer())}equals(t){return this._bn.eq(t._bn)}toBase58(){return qe.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){const t=this.toBuffer();return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}toBuffer(){const t=this._bn.toArrayLike(re.Buffer);if(t.length===vn)return t;const e=re.Buffer.alloc(32);return t.copy(e,32-t.length),e}get[oc](){return`PublicKey(${this.toString()})`}toString(){return this.toBase58()}static async createWithSeed(t,e,n){const o=re.Buffer.concat([t.toBuffer(),re.Buffer.from(e),n.toBuffer()]),i=hi(o);return new ne(i)}static createProgramAddressSync(t,e){let n=re.Buffer.alloc(0);t.forEach(function(i){if(i.length>Yd)throw new TypeError("Max seed length exceeded");n=re.Buffer.concat([n,Ji(i)])}),n=re.Buffer.concat([n,e.toBuffer(),re.Buffer.from("ProgramDerivedAddress")]);const o=hi(n);if(Xs(o))throw new Error("Invalid seeds, address must fall off the curve");return new ne(o)}static async createProgramAddress(t,e){return this.createProgramAddressSync(t,e)}static findProgramAddressSync(t,e){let n=255,o;for(;n!=0;){try{const i=t.concat(re.Buffer.from([n]));o=this.createProgramAddressSync(i,e)}catch(i){if(i instanceof TypeError)throw i;n--;continue}return[o,n]}throw new Error("Unable to find a viable program address nonce")}static async findProgramAddress(t,e){return this.findProgramAddressSync(t,e)}static isOnCurve(t){const e=new ne(t);return Xs(e.toBytes())}}ne.default=new ne("11111111111111111111111111111111");Kr.set(ne,{kind:"struct",fields:[["_bn","u256"]]});new ne("BPFLoader1111111111111111111111111111111111");const Ei=1280-40-8,Gd=127,_i=64;class ea{constructor(t,e){this.staticAccountKeys=void 0,this.accountKeysFromLookups=void 0,this.staticAccountKeys=t,this.accountKeysFromLookups=e}keySegments(){const t=[this.staticAccountKeys];return this.accountKeysFromLookups&&(t.push(this.accountKeysFromLookups.writable),t.push(this.accountKeysFromLookups.readonly)),t}get(t){for(const e of this.keySegments()){if(t<e.length)return e[t];t-=e.length}}get length(){return this.keySegments().flat().length}compileInstructions(t){if(this.length>255+1)throw new Error("Account index overflow encountered during compilation");const n=new Map;this.keySegments().flat().forEach((i,s)=>{n.set(i.toBase58(),s)});const o=i=>{const s=n.get(i.toBase58());if(s===void 0)throw new Error("Encountered an unknown instruction account key during compilation");return s};return t.map(i=>({programIdIndex:o(i.programId),accountKeyIndexes:i.keys.map(s=>o(s.pubkey)),data:i.data}))}}const se=(r="publicKey")=>bt(32,r),Zn=(r="string")=>{const t=J([q("length"),q("lengthPadding"),bt(xn(q(),-8),"chars")],r),e=t.decode.bind(t),n=t.encode.bind(t),o=t;return o.decode=(i,s)=>e(i,s).chars.toString(),o.encode=(i,s,a)=>{const u={chars:re.Buffer.from(i,"utf8")};return n(u,s,a)},o.alloc=i=>q().span+q().span+re.Buffer.from(i,"utf8").length,o},Jd=(r="authorized")=>J([se("staker"),se("withdrawer")],r),Xd=(r="lockup")=>J([lt("unixTimestamp"),lt("epoch"),se("custodian")],r),qd=(r="voteInit")=>J([se("nodePubkey"),se("authorizedVoter"),se("authorizedWithdrawer"),Se("commission")],r),ef=(r="voteAuthorizeWithSeedArgs")=>J([q("voteAuthorizationType"),se("currentAuthorityDerivedKeyOwnerPubkey"),Zn("currentAuthorityDerivedKeySeed"),se("newAuthorized")],r);function wr(r){let t=0,e=0;for(;;){let n=r.shift();if(t|=(n&127)<<e*7,e+=1,(n&128)===0)break}return t}function gr(r,t){let e=t;for(;;){let n=e&127;if(e>>=7,e==0){r.push(n);break}else n|=128,r.push(n)}}function ct(r,t){if(!r)throw new Error(t||"Assertion failed")}class Xi{constructor(t,e){this.payer=void 0,this.keyMetaMap=void 0,this.payer=t,this.keyMetaMap=e}static compile(t,e){const n=new Map,o=s=>{const a=s.toBase58();let u=n.get(a);return u===void 0&&(u={isSigner:!1,isWritable:!1,isInvoked:!1},n.set(a,u)),u},i=o(e);i.isSigner=!0,i.isWritable=!0;for(const s of t){o(s.programId).isInvoked=!0;for(const a of s.keys){const u=o(a.pubkey);u.isSigner||(u.isSigner=a.isSigner),u.isWritable||(u.isWritable=a.isWritable)}}return new Xi(e,n)}getMessageComponents(){const t=[...this.keyMetaMap.entries()];ct(t.length<=256,"Max static account keys length exceeded");const e=t.filter(([,u])=>u.isSigner&&u.isWritable),n=t.filter(([,u])=>u.isSigner&&!u.isWritable),o=t.filter(([,u])=>!u.isSigner&&u.isWritable),i=t.filter(([,u])=>!u.isSigner&&!u.isWritable),s={numRequiredSignatures:e.length+n.length,numReadonlySignedAccounts:n.length,numReadonlyUnsignedAccounts:i.length};{ct(e.length>0,"Expected at least one writable signer key");const[u]=e[0];ct(u===this.payer.toBase58(),"Expected first writable signer key to be the fee payer")}const a=[...e.map(([u])=>new ne(u)),...n.map(([u])=>new ne(u)),...o.map(([u])=>new ne(u)),...i.map(([u])=>new ne(u))];return[s,a]}extractTableLookup(t){const[e,n]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&s.isWritable),[o,i]=this.drainKeysFoundInLookupTable(t.state.addresses,s=>!s.isSigner&&!s.isInvoked&&!s.isWritable);if(!(e.length===0&&o.length===0))return[{accountKey:t.key,writableIndexes:e,readonlyIndexes:o},{writable:n,readonly:i}]}drainKeysFoundInLookupTable(t,e){const n=new Array,o=new Array;for(const[i,s]of this.keyMetaMap.entries())if(e(s)){const a=new ne(i),u=t.findIndex(h=>h.equals(a));u>=0&&(ct(u<256,"Max lookup table index exceeded"),n.push(u),o.push(a),this.keyMetaMap.delete(i))}return[n,o]}}class tr{constructor(t){this.header=void 0,this.accountKeys=void 0,this.recentBlockhash=void 0,this.instructions=void 0,this.indexToProgramIds=new Map,this.header=t.header,this.accountKeys=t.accountKeys.map(e=>new ne(e)),this.recentBlockhash=t.recentBlockhash,this.instructions=t.instructions,this.instructions.forEach(e=>this.indexToProgramIds.set(e.programIdIndex,this.accountKeys[e.programIdIndex]))}get version(){return"legacy"}get staticAccountKeys(){return this.accountKeys}get compiledInstructions(){return this.instructions.map(t=>({programIdIndex:t.programIdIndex,accountKeyIndexes:t.accounts,data:qe.decode(t.data)}))}get addressTableLookups(){return[]}getAccountKeys(){return new ea(this.staticAccountKeys)}static compile(t){const e=Xi.compile(t.instructions,t.payerKey),[n,o]=e.getMessageComponents(),s=new ea(o).compileInstructions(t.instructions).map(a=>({programIdIndex:a.programIdIndex,accounts:a.accountKeyIndexes,data:qe.encode(a.data)}));return new tr({header:n,accountKeys:o,recentBlockhash:t.recentBlockhash,instructions:s})}isAccountSigner(t){return t<this.header.numRequiredSignatures}isAccountWritable(t){const e=this.header.numRequiredSignatures;if(t>=this.header.numRequiredSignatures){const n=t-e,i=this.accountKeys.length-e-this.header.numReadonlyUnsignedAccounts;return n<i}else{const n=e-this.header.numReadonlySignedAccounts;return t<n}}isProgramId(t){return this.indexToProgramIds.has(t)}programIds(){return[...this.indexToProgramIds.values()]}nonProgramIds(){return this.accountKeys.filter((t,e)=>!this.isProgramId(e))}serialize(){const t=this.accountKeys.length;let e=[];gr(e,t);const n=this.instructions.map(w=>{const{accounts:y,programIdIndex:g}=w,_=Array.from(qe.decode(w.data));let b=[];gr(b,y.length);let M=[];return gr(M,_.length),{programIdIndex:g,keyIndicesCount:re.Buffer.from(b),keyIndices:y,dataLength:re.Buffer.from(M),data:_}});let o=[];gr(o,n.length);let i=re.Buffer.alloc(Ei);re.Buffer.from(o).copy(i);let s=o.length;n.forEach(w=>{const g=J([Se("programIdIndex"),bt(w.keyIndicesCount.length,"keyIndicesCount"),Ft(Se("keyIndex"),w.keyIndices.length,"keyIndices"),bt(w.dataLength.length,"dataLength"),Ft(Se("userdatum"),w.data.length,"data")]).encode(w,i,s);s+=g}),i=i.slice(0,s);const a=J([bt(1,"numRequiredSignatures"),bt(1,"numReadonlySignedAccounts"),bt(1,"numReadonlyUnsignedAccounts"),bt(e.length,"keyCount"),Ft(se("key"),t,"keys"),se("recentBlockhash")]),u={numRequiredSignatures:re.Buffer.from([this.header.numRequiredSignatures]),numReadonlySignedAccounts:re.Buffer.from([this.header.numReadonlySignedAccounts]),numReadonlyUnsignedAccounts:re.Buffer.from([this.header.numReadonlyUnsignedAccounts]),keyCount:re.Buffer.from(e),keys:this.accountKeys.map(w=>Ji(w.toBytes())),recentBlockhash:qe.decode(this.recentBlockhash)};let h=re.Buffer.alloc(2048);const f=a.encode(u,h);return i.copy(h,f),h.slice(0,f+i.length)}static from(t){let e=[...t];const n=e.shift();if(n!==(n&Gd))throw new Error("Versioned messages must be deserialized with VersionedMessage.deserialize()");const o=e.shift(),i=e.shift(),s=wr(e);let a=[];for(let y=0;y<s;y++){const g=e.slice(0,vn);e=e.slice(vn),a.push(new ne(re.Buffer.from(g)))}const u=e.slice(0,vn);e=e.slice(vn);const h=wr(e);let f=[];for(let y=0;y<h;y++){const g=e.shift(),_=wr(e),b=e.slice(0,_);e=e.slice(_);const M=wr(e),U=e.slice(0,M),k=qe.encode(re.Buffer.from(U));e=e.slice(M),f.push({programIdIndex:g,accounts:b,data:k})}const w={header:{numRequiredSignatures:n,numReadonlySignedAccounts:o,numReadonlyUnsignedAccounts:i},recentBlockhash:qe.encode(re.Buffer.from(u)),accountKeys:a,instructions:f};return new tr(w)}}let ta;(function(r){r[r.BLOCKHEIGHT_EXCEEDED=0]="BLOCKHEIGHT_EXCEEDED",r[r.PROCESSED=1]="PROCESSED",r[r.TIMED_OUT=2]="TIMED_OUT",r[r.NONCE_INVALID=3]="NONCE_INVALID"})(ta||(ta={}));const tf=re.Buffer.alloc(_i).fill(0);class bi{constructor(t){this.keys=void 0,this.programId=void 0,this.data=re.Buffer.alloc(0),this.programId=t.programId,this.keys=t.keys,t.data&&(this.data=t.data)}toJSON(){return{keys:this.keys.map(({pubkey:t,isSigner:e,isWritable:n})=>({pubkey:t.toJSON(),isSigner:e,isWritable:n})),programId:this.programId.toJSON(),data:[...this.data]}}}class ao{get signature(){return this.signatures.length>0?this.signatures[0].signature:null}constructor(t){if(this.signatures=[],this.feePayer=void 0,this.instructions=[],this.recentBlockhash=void 0,this.lastValidBlockHeight=void 0,this.nonceInfo=void 0,this.minNonceContextSlot=void 0,this._message=void 0,this._json=void 0,!!t)if(t.feePayer&&(this.feePayer=t.feePayer),t.signatures&&(this.signatures=t.signatures),Object.prototype.hasOwnProperty.call(t,"nonceInfo")){const{minContextSlot:e,nonceInfo:n}=t;this.minNonceContextSlot=e,this.nonceInfo=n}else if(Object.prototype.hasOwnProperty.call(t,"lastValidBlockHeight")){const{blockhash:e,lastValidBlockHeight:n}=t;this.recentBlockhash=e,this.lastValidBlockHeight=n}else{const{recentBlockhash:e,nonceInfo:n}=t;n&&(this.nonceInfo=n),this.recentBlockhash=e}}toJSON(){return{recentBlockhash:this.recentBlockhash||null,feePayer:this.feePayer?this.feePayer.toJSON():null,nonceInfo:this.nonceInfo?{nonce:this.nonceInfo.nonce,nonceInstruction:this.nonceInfo.nonceInstruction.toJSON()}:null,instructions:this.instructions.map(t=>t.toJSON()),signers:this.signatures.map(({publicKey:t})=>t.toJSON())}}add(...t){if(t.length===0)throw new Error("No instructions");return t.forEach(e=>{"instructions"in e?this.instructions=this.instructions.concat(e.instructions):"data"in e&&"programId"in e&&"keys"in e?this.instructions.push(e):this.instructions.push(new bi(e))}),this}compileMessage(){if(this._message&&JSON.stringify(this.toJSON())===JSON.stringify(this._json))return this._message;let t,e;if(this.nonceInfo?(t=this.nonceInfo.nonce,this.instructions[0]!=this.nonceInfo.nonceInstruction?e=[this.nonceInfo.nonceInstruction,...this.instructions]:e=this.instructions):(t=this.recentBlockhash,e=this.instructions),!t)throw new Error("Transaction recentBlockhash required");e.length<1&&console.warn("No instructions provided");let n;if(this.feePayer)n=this.feePayer;else if(this.signatures.length>0&&this.signatures[0].publicKey)n=this.signatures[0].publicKey;else throw new Error("Transaction fee payer required");for(let b=0;b<e.length;b++)if(e[b].programId===void 0)throw new Error(`Transaction instruction index ${b} has undefined program id`);const o=[],i=[];e.forEach(b=>{b.keys.forEach(U=>{i.push({...U})});const M=b.programId.toString();o.includes(M)||o.push(M)}),o.forEach(b=>{i.push({pubkey:new ne(b),isSigner:!1,isWritable:!1})});const s=[];i.forEach(b=>{const M=b.pubkey.toString(),U=s.findIndex(k=>k.pubkey.toString()===M);U>-1?(s[U].isWritable=s[U].isWritable||b.isWritable,s[U].isSigner=s[U].isSigner||b.isSigner):s.push(b)}),s.sort(function(b,M){return b.isSigner!==M.isSigner?b.isSigner?-1:1:b.isWritable!==M.isWritable?b.isWritable?-1:1:b.pubkey.toBase58().localeCompare(M.pubkey.toBase58())});const a=s.findIndex(b=>b.pubkey.equals(n));if(a>-1){const[b]=s.splice(a,1);b.isSigner=!0,b.isWritable=!0,s.unshift(b)}else s.unshift({pubkey:n,isSigner:!0,isWritable:!0});for(const b of this.signatures){const M=s.findIndex(U=>U.pubkey.equals(b.publicKey));if(M>-1)s[M].isSigner||(s[M].isSigner=!0,console.warn("Transaction references a signature that is unnecessary, only the fee payer and instruction signer accounts should sign a transaction. This behavior is deprecated and will throw an error in the next major version release."));else throw new Error(`unknown signer: ${b.publicKey.toString()}`)}let u=0,h=0,f=0;const w=[],y=[];s.forEach(({pubkey:b,isSigner:M,isWritable:U})=>{M?(w.push(b.toString()),u+=1,U||(h+=1)):(y.push(b.toString()),U||(f+=1))});const g=w.concat(y),_=e.map(b=>{const{data:M,programId:U}=b;return{programIdIndex:g.indexOf(U.toString()),accounts:b.keys.map(k=>g.indexOf(k.pubkey.toString())),data:qe.encode(M)}});return _.forEach(b=>{ct(b.programIdIndex>=0),b.accounts.forEach(M=>ct(M>=0))}),new tr({header:{numRequiredSignatures:u,numReadonlySignedAccounts:h,numReadonlyUnsignedAccounts:f},accountKeys:g,recentBlockhash:t,instructions:_})}_compile(){const t=this.compileMessage(),e=t.accountKeys.slice(0,t.header.numRequiredSignatures);return this.signatures.length===e.length&&this.signatures.every((o,i)=>e[i].equals(o.publicKey))||(this.signatures=e.map(n=>({signature:null,publicKey:n}))),t}serializeMessage(){return this._compile().serialize()}async getEstimatedFee(t){return(await t.getFeeForMessage(this.compileMessage())).value}setSigners(...t){if(t.length===0)throw new Error("No signers");const e=new Set;this.signatures=t.filter(n=>{const o=n.toString();return e.has(o)?!1:(e.add(o),!0)}).map(n=>({signature:null,publicKey:n}))}sign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const s=i.publicKey.toString();e.has(s)||(e.add(s),n.push(i))}this.signatures=n.map(i=>({signature:null,publicKey:i.publicKey}));const o=this._compile();this._partialSign(o,...n)}partialSign(...t){if(t.length===0)throw new Error("No signers");const e=new Set,n=[];for(const i of t){const s=i.publicKey.toString();e.has(s)||(e.add(s),n.push(i))}const o=this._compile();this._partialSign(o,...n)}_partialSign(t,...e){const n=t.serialize();e.forEach(o=>{const i=Pd(n,o.secretKey);this._addSignature(o.publicKey,Ji(i))})}addSignature(t,e){this._compile(),this._addSignature(t,e)}_addSignature(t,e){ct(e.length===64);const n=this.signatures.findIndex(o=>t.equals(o.publicKey));if(n<0)throw new Error(`unknown signer: ${t.toString()}`);this.signatures[n].signature=re.Buffer.from(e)}verifySignatures(t){return this._verifySignatures(this.serializeMessage(),t===void 0?!0:t)}_verifySignatures(t,e){for(const{signature:n,publicKey:o}of this.signatures)if(n===null){if(e)return!1}else if(!Kd(n,t,o.toBytes()))return!1;return!0}serialize(t){const{requireAllSignatures:e,verifySignatures:n}=Object.assign({requireAllSignatures:!0,verifySignatures:!0},t),o=this.serializeMessage();if(n&&!this._verifySignatures(o,e))throw new Error("Signature verification failed");return this._serialize(o)}_serialize(t){const{signatures:e}=this,n=[];gr(n,e.length);const o=n.length+e.length*64+t.length,i=re.Buffer.alloc(o);return ct(e.length<256),re.Buffer.from(n).copy(i,0),e.forEach(({signature:s},a)=>{s!==null&&(ct(s.length===64,"signature has invalid length"),re.Buffer.from(s).copy(i,n.length+a*64))}),t.copy(i,n.length+e.length*64),ct(i.length<=Ei,`Transaction too large: ${i.length} > ${Ei}`),i}get keys(){return ct(this.instructions.length===1),this.instructions[0].keys.map(t=>t.pubkey)}get programId(){return ct(this.instructions.length===1),this.instructions[0].programId}get data(){return ct(this.instructions.length===1),this.instructions[0].data}static from(t){let e=[...t];const n=wr(e);let o=[];for(let i=0;i<n;i++){const s=e.slice(0,_i);e=e.slice(_i),o.push(qe.encode(re.Buffer.from(s)))}return ao.populate(tr.from(e),o)}static populate(t,e=[]){const n=new ao;return n.recentBlockhash=t.recentBlockhash,t.header.numRequiredSignatures>0&&(n.feePayer=t.accountKeys[0]),e.forEach((o,i)=>{const s={signature:o==qe.encode(tf)?null:qe.decode(o),publicKey:t.accountKeys[i]};n.signatures.push(s)}),t.instructions.forEach(o=>{const i=o.accounts.map(s=>{const a=t.accountKeys[s];return{pubkey:a,isSigner:n.signatures.some(u=>u.publicKey.toString()===a.toString())||t.isAccountSigner(s),isWritable:t.isAccountWritable(s)}});n.instructions.push(new bi({keys:i,programId:t.accountKeys[o.programIdIndex],data:qe.decode(o.data)}))}),n._message=t,n._json=n.toJSON(),n}}new ne("SysvarC1ock11111111111111111111111111111111");new ne("SysvarEpochSchedu1e111111111111111111111111");new ne("Sysvar1nstructions1111111111111111111111111");new ne("SysvarRecentB1ockHashes11111111111111111111");new ne("SysvarRent111111111111111111111111111111111");new ne("SysvarRewards111111111111111111111111111111");new ne("SysvarS1otHashes111111111111111111111111111");new ne("SysvarS1otHistory11111111111111111111111111");new ne("SysvarStakeHistory1111111111111111111111111");const nf=ze("lamportsPerSignature"),rf=J([q("version"),q("state"),se("authorizedPubkey"),se("nonce"),J([nf],"feeCalculator")]);rf.span;const of=r=>{const t=r.decode.bind(r),e=r.encode.bind(r);return{decode:t,encode:e}},sf=r=>t=>{const e=bt(r,t),{encode:n,decode:o}=of(e),i=e;return i.decode=(s,a)=>{const u=o(s,a);return Lh(re.Buffer.from(u))},i.encode=(s,a,u)=>{const h=Wh(s,r);return n(h,a,u)},i},nr=sf(8);Object.freeze({Create:{index:0,layout:J([q("instruction"),lt("lamports"),lt("space"),se("programId")])},Assign:{index:1,layout:J([q("instruction"),se("programId")])},Transfer:{index:2,layout:J([q("instruction"),nr("lamports")])},CreateWithSeed:{index:3,layout:J([q("instruction"),se("base"),Zn("seed"),lt("lamports"),lt("space"),se("programId")])},AdvanceNonceAccount:{index:4,layout:J([q("instruction")])},WithdrawNonceAccount:{index:5,layout:J([q("instruction"),lt("lamports")])},InitializeNonceAccount:{index:6,layout:J([q("instruction"),se("authorized")])},AuthorizeNonceAccount:{index:7,layout:J([q("instruction"),se("authorized")])},Allocate:{index:8,layout:J([q("instruction"),lt("space")])},AllocateWithSeed:{index:9,layout:J([q("instruction"),se("base"),Zn("seed"),lt("space"),se("programId")])},AssignWithSeed:{index:10,layout:J([q("instruction"),se("base"),Zn("seed"),se("programId")])},TransferWithSeed:{index:11,layout:J([q("instruction"),nr("lamports"),Zn("seed"),se("programId")])},UpgradeNonceAccount:{index:12,layout:J([q("instruction")])}});new ne("11111111111111111111111111111111");new ne("BPFLoader2111111111111111111111111111111111");J([q("typeIndex"),nr("deactivationSlot"),ze("lastExtendedSlot"),Se("lastExtendedStartIndex"),Se(),Ft(se(),xn(Se(),-1),"authority")]);const Re=Fr(Wi(ne),L(),r=>new ne(r)),ic=Zi([L(),ve("base64")]),qi=Fr(Wi(re.Buffer),ic,r=>re.Buffer.from(r[0],"base64"));function sc(r){return tt([C({jsonrpc:ve("2.0"),id:L(),result:r}),C({jsonrpc:ve("2.0"),id:L(),error:C({code:Br(),message:L(),data:ee(Jh())})})])}const af=sc(Br());function me(r){return Fr(sc(r),af,t=>"error"in t?t:{...t,result:Sr(t.result,r)})}function Ut(r){return me(C({context:C({slot:S()}),value:r}))}function Uo(r){return C({context:C({slot:S()}),value:r})}const cf=C({foundation:S(),foundationTerm:S(),initial:S(),taper:S(),terminal:S()});me(P(Z(C({epoch:S(),effectiveSlot:S(),amount:S(),postBalance:S(),commission:ee(Z(S()))}))));const lf=C({total:S(),validator:S(),foundation:S(),epoch:S()}),uf=C({epoch:S(),slotIndex:S(),slotsInEpoch:S(),absoluteSlot:S(),blockHeight:ee(S()),transactionCount:ee(S())}),hf=C({slotsPerEpoch:S(),leaderScheduleSlotOffset:S(),warmup:Kt(),firstNormalEpoch:S(),firstNormalSlot:S()}),df=Xa(L(),P(S())),Dn=Z(tt([C({}),L()])),ff=C({err:Dn}),pf=ve("receivedSignature");C({"solana-core":L(),"feature-set":ee(S())});Ut(C({err:Z(tt([C({}),L()])),logs:Z(P(L())),accounts:ee(Z(P(Z(C({executable:Kt(),owner:L(),lamports:S(),data:P(L()),rentEpoch:ee(S())}))))),unitsConsumed:ee(S()),returnData:ee(Z(C({programId:L(),data:Zi([L(),ve("base64")])})))}));Ut(C({byIdentity:Xa(L(),P(S())),range:C({firstSlot:S(),lastSlot:S()})}));me(cf);me(lf);me(uf);me(hf);me(df);me(S());Ut(C({total:S(),circulating:S(),nonCirculating:S(),nonCirculatingAccounts:P(Re)}));const wf=C({amount:L(),uiAmount:Z(S()),decimals:S(),uiAmountString:ee(L())});Ut(P(C({address:Re,amount:L(),uiAmount:Z(S()),decimals:S(),uiAmountString:ee(L())})));Ut(P(C({pubkey:Re,account:C({executable:Kt(),owner:Re,lamports:S(),data:qi,rentEpoch:S()})})));const vi=C({program:L(),parsed:Br(),space:S()});Ut(P(C({pubkey:Re,account:C({executable:Kt(),owner:Re,lamports:S(),data:vi,rentEpoch:S()})})));Ut(P(C({lamports:S(),address:Re})));const es=C({executable:Kt(),owner:Re,lamports:S(),data:qi,rentEpoch:S()});C({pubkey:Re,account:es});const gf=Fr(tt([Wi(re.Buffer),vi]),tt([ic,vi]),r=>Array.isArray(r)?Sr(r,qi):r),yf=C({executable:Kt(),owner:Re,lamports:S(),data:gf,rentEpoch:S()});C({pubkey:Re,account:yf});C({state:tt([ve("active"),ve("inactive"),ve("activating"),ve("deactivating")]),active:S(),inactive:S()});me(P(C({signature:L(),slot:S(),err:Dn,memo:Z(L()),blockTime:ee(Z(S()))})));me(P(C({signature:L(),slot:S(),err:Dn,memo:Z(L()),blockTime:ee(Z(S()))})));C({subscription:S(),result:Uo(es)});const mf=C({pubkey:Re,account:es});C({subscription:S(),result:Uo(mf)});const Ef=C({parent:S(),slot:S(),root:S()});C({subscription:S(),result:Ef});const _f=tt([C({type:tt([ve("firstShredReceived"),ve("completed"),ve("optimisticConfirmation"),ve("root")]),slot:S(),timestamp:S()}),C({type:ve("createdBank"),parent:S(),slot:S(),timestamp:S()}),C({type:ve("frozen"),slot:S(),timestamp:S(),stats:C({numTransactionEntries:S(),numSuccessfulTransactions:S(),numFailedTransactions:S(),maxTransactionsPerEntry:S()})}),C({type:ve("dead"),slot:S(),timestamp:S(),err:L()})]);C({subscription:S(),result:_f});C({subscription:S(),result:Uo(tt([ff,pf]))});C({subscription:S(),result:S()});C({pubkey:L(),gossip:Z(L()),tpu:Z(L()),rpc:Z(L()),version:Z(L())});const na=C({votePubkey:L(),nodePubkey:L(),activatedStake:S(),epochVoteAccount:Kt(),epochCredits:P(Zi([S(),S(),S()])),commission:S(),lastVote:S(),rootSlot:Z(S())});me(C({current:P(na),delinquent:P(na)}));const bf=tt([ve("processed"),ve("confirmed"),ve("finalized")]),vf=C({slot:S(),confirmations:Z(S()),err:Dn,confirmationStatus:ee(bf)});Ut(P(Z(vf)));me(S());const ac=C({accountKey:Re,writableIndexes:P(S()),readonlyIndexes:P(S())}),ts=C({signatures:P(L()),message:C({accountKeys:P(L()),header:C({numRequiredSignatures:S(),numReadonlySignedAccounts:S(),numReadonlyUnsignedAccounts:S()}),instructions:P(C({accounts:P(S()),data:L(),programIdIndex:S()})),recentBlockhash:L(),addressTableLookups:ee(P(ac))})}),cc=C({pubkey:Re,signer:Kt(),writable:Kt(),source:ee(tt([ve("transaction"),ve("lookupTable")]))}),lc=C({accountKeys:P(cc),signatures:P(L())}),uc=C({parsed:Br(),program:L(),programId:Re}),hc=C({accounts:P(Re),data:L(),programId:Re}),Sf=tt([hc,uc]),Mf=tt([C({parsed:Br(),program:L(),programId:L()}),C({accounts:P(L()),data:L(),programId:L()})]),dc=Fr(Sf,Mf,r=>"accounts"in r?Sr(r,hc):Sr(r,uc)),fc=C({signatures:P(L()),message:C({accountKeys:P(cc),instructions:P(dc),recentBlockhash:L(),addressTableLookups:ee(Z(P(ac)))})}),co=C({accountIndex:S(),mint:L(),owner:ee(L()),uiTokenAmount:wf}),pc=C({writable:P(Re),readonly:P(Re)}),ko=C({err:Dn,fee:S(),innerInstructions:ee(Z(P(C({index:S(),instructions:P(C({accounts:P(S()),data:L(),programIdIndex:S()}))})))),preBalances:P(S()),postBalances:P(S()),logMessages:ee(Z(P(L()))),preTokenBalances:ee(Z(P(co))),postTokenBalances:ee(Z(P(co))),loadedAddresses:ee(pc),computeUnitsConsumed:ee(S())}),ns=C({err:Dn,fee:S(),innerInstructions:ee(Z(P(C({index:S(),instructions:P(dc)})))),preBalances:P(S()),postBalances:P(S()),logMessages:ee(Z(P(L()))),preTokenBalances:ee(Z(P(co))),postTokenBalances:ee(Z(P(co))),loadedAddresses:ee(pc),computeUnitsConsumed:ee(S())}),cr=tt([ve(0),ve("legacy")]),Rn=C({pubkey:L(),lamports:S(),postBalance:Z(S()),rewardType:Z(L()),commission:ee(Z(S()))});me(Z(C({blockhash:L(),previousBlockhash:L(),parentSlot:S(),transactions:P(C({transaction:ts,meta:Z(ko),version:ee(cr)})),rewards:ee(P(Rn)),blockTime:Z(S()),blockHeight:Z(S())})));me(Z(C({blockhash:L(),previousBlockhash:L(),parentSlot:S(),rewards:ee(P(Rn)),blockTime:Z(S()),blockHeight:Z(S())})));me(Z(C({blockhash:L(),previousBlockhash:L(),parentSlot:S(),transactions:P(C({transaction:lc,meta:Z(ko),version:ee(cr)})),rewards:ee(P(Rn)),blockTime:Z(S()),blockHeight:Z(S())})));me(Z(C({blockhash:L(),previousBlockhash:L(),parentSlot:S(),transactions:P(C({transaction:fc,meta:Z(ns),version:ee(cr)})),rewards:ee(P(Rn)),blockTime:Z(S()),blockHeight:Z(S())})));me(Z(C({blockhash:L(),previousBlockhash:L(),parentSlot:S(),transactions:P(C({transaction:lc,meta:Z(ns),version:ee(cr)})),rewards:ee(P(Rn)),blockTime:Z(S()),blockHeight:Z(S())})));me(Z(C({blockhash:L(),previousBlockhash:L(),parentSlot:S(),rewards:ee(P(Rn)),blockTime:Z(S()),blockHeight:Z(S())})));me(Z(C({blockhash:L(),previousBlockhash:L(),parentSlot:S(),transactions:P(C({transaction:ts,meta:Z(ko)})),rewards:ee(P(Rn)),blockTime:Z(S())})));me(Z(C({blockhash:L(),previousBlockhash:L(),parentSlot:S(),signatures:P(L()),blockTime:Z(S())})));me(Z(C({slot:S(),meta:ko,blockTime:ee(Z(S())),transaction:ts,version:ee(cr)})));me(Z(C({slot:S(),transaction:fc,meta:Z(ns),blockTime:ee(Z(S())),version:ee(cr)})));Ut(C({blockhash:L(),feeCalculator:C({lamportsPerSignature:S()})}));Ut(C({blockhash:L(),lastValidBlockHeight:S()}));const xf=C({slot:S(),numTransactions:S(),numSlots:S(),samplePeriodSecs:S()});me(P(xf));Ut(Z(C({feeCalculator:C({lamportsPerSignature:S()})})));me(L());me(L());const If=C({err:Dn,logs:P(L()),signature:L()});C({result:Uo(If),subscription:S()});Object.freeze({CreateLookupTable:{index:0,layout:J([q("instruction"),nr("recentSlot"),Se("bumpSeed")])},FreezeLookupTable:{index:1,layout:J([q("instruction")])},ExtendLookupTable:{index:2,layout:J([q("instruction"),nr(),Ft(se(),xn(q(),-8),"addresses")])},DeactivateLookupTable:{index:3,layout:J([q("instruction")])},CloseLookupTable:{index:4,layout:J([q("instruction")])}});new ne("AddressLookupTab1e1111111111111111111111111");Object.freeze({RequestUnits:{index:0,layout:J([Se("instruction"),q("units"),q("additionalFee")])},RequestHeapFrame:{index:1,layout:J([Se("instruction"),q("bytes")])},SetComputeUnitLimit:{index:2,layout:J([Se("instruction"),q("units")])},SetComputeUnitPrice:{index:3,layout:J([Se("instruction"),nr("microLamports")])}});new ne("ComputeBudget111111111111111111111111111111");J([Se("numSignatures"),Se("padding"),Et("signatureOffset"),Et("signatureInstructionIndex"),Et("publicKeyOffset"),Et("publicKeyInstructionIndex"),Et("messageDataOffset"),Et("messageDataSize"),Et("messageInstructionIndex")]);new ne("Ed25519SigVerify111111111111111111111111111");bn.hmacSha256Sync=(r,...t)=>{const e=kl.create(hi,r);return t.forEach(n=>e.update(n)),e.digest()};bn.isValidPrivateKey;J([Se("numSignatures"),Et("signatureOffset"),Se("signatureInstructionIndex"),Et("ethAddressOffset"),Se("ethAddressInstructionIndex"),Et("messageDataOffset"),Et("messageDataSize"),Se("messageInstructionIndex"),bt(20,"ethAddress"),bt(64,"signature"),Se("recoveryId")]);new ne("KeccakSecp256k11111111111111111111111111111");new ne("StakeConfig11111111111111111111111111111111");class ra{constructor(t,e,n){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=t,this.epoch=e,this.custodian=n}}ra.default=new ra(0,0,ne.default);Object.freeze({Initialize:{index:0,layout:J([q("instruction"),Jd(),Xd()])},Authorize:{index:1,layout:J([q("instruction"),se("newAuthorized"),q("stakeAuthorizationType")])},Delegate:{index:2,layout:J([q("instruction")])},Split:{index:3,layout:J([q("instruction"),lt("lamports")])},Withdraw:{index:4,layout:J([q("instruction"),lt("lamports")])},Deactivate:{index:5,layout:J([q("instruction")])},Merge:{index:7,layout:J([q("instruction")])},AuthorizeWithSeed:{index:8,layout:J([q("instruction"),se("newAuthorized"),q("stakeAuthorizationType"),Zn("authoritySeed"),se("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});new ne("Stake11111111111111111111111111111111111111");Object.freeze({InitializeAccount:{index:0,layout:J([q("instruction"),qd()])},Authorize:{index:1,layout:J([q("instruction"),se("newAuthorized"),q("voteAuthorizationType")])},Withdraw:{index:3,layout:J([q("instruction"),lt("lamports")])},AuthorizeWithSeed:{index:10,layout:J([q("instruction"),ef()])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});new ne("Vote111111111111111111111111111111111111111");new ne("Va1idator1nfo111111111111111111111111111111");C({name:L(),website:ee(L()),details:ee(L()),keybaseUsername:ee(L())});new ne("Vote111111111111111111111111111111111111111");J([se("nodePubkey"),se("authorizedWithdrawer"),Se("commission"),ze(),Ft(J([ze("slot"),q("confirmationCount")]),xn(q(),-8),"votes"),Se("rootSlotValid"),ze("rootSlot"),ze(),Ft(J([ze("epoch"),se("authorizedVoter")]),xn(q(),-8),"authorizedVoters"),J([Ft(J([se("authorizedPubkey"),ze("epochOfLastAuthorizedSwitch"),ze("targetEpoch")]),32,"buf"),ze("idx"),Se("isEmpty")],"priorVoters"),ze(),Ft(J([ze("epoch"),ze("credits"),ze("prevCredits")]),xn(q(),-8),"epochCredits"),J([ze("slot"),ze("timestamp")],"lastTimestamp")]);var $t=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};function wc(){throw new Error("setTimeout has not been defined")}function gc(){throw new Error("clearTimeout has not been defined")}var Xt=wc,qt=gc;typeof $t.setTimeout=="function"&&(Xt=setTimeout);typeof $t.clearTimeout=="function"&&(qt=clearTimeout);function yc(r){if(Xt===setTimeout)return setTimeout(r,0);if((Xt===wc||!Xt)&&setTimeout)return Xt=setTimeout,setTimeout(r,0);try{return Xt(r,0)}catch{try{return Xt.call(null,r,0)}catch{return Xt.call(this,r,0)}}}function Af(r){if(qt===clearTimeout)return clearTimeout(r);if((qt===gc||!qt)&&clearTimeout)return qt=clearTimeout,clearTimeout(r);try{return qt(r)}catch{try{return qt.call(null,r)}catch{return qt.call(this,r)}}}var Zt=[],Yn=!1,Sn,$r=-1;function Tf(){!Yn||!Sn||(Yn=!1,Sn.length?Zt=Sn.concat(Zt):$r=-1,Zt.length&&mc())}function mc(){if(!Yn){var r=yc(Tf);Yn=!0;for(var t=Zt.length;t;){for(Sn=Zt,Zt=[];++$r<t;)Sn&&Sn[$r].run();$r=-1,t=Zt.length}Sn=null,Yn=!1,Af(r)}}function Uf(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];Zt.push(new Ec(r,t)),Zt.length===1&&!Yn&&yc(mc)}function Ec(r,t){this.fun=r,this.array=t}Ec.prototype.run=function(){this.fun.apply(null,this.array)};var kf="browser",Nf="browser",Bf=!0,Ff={},Df=[],Rf="",Cf={},Of={},jf={};function Cn(){}var Vf=Cn,Lf=Cn,zf=Cn,Qf=Cn,Wf=Cn,Zf=Cn,Pf=Cn;function Kf(r){throw new Error("process.binding is not supported")}function $f(){return"/"}function Yf(r){throw new Error("process.chdir is not supported")}function Hf(){return 0}var Qn=$t.performance||{},Gf=Qn.now||Qn.mozNow||Qn.msNow||Qn.oNow||Qn.webkitNow||function(){return new Date().getTime()};function Jf(r){var t=Gf.call(Qn)*.001,e=Math.floor(t),n=Math.floor(t%1*1e9);return r&&(e=e-r[0],n=n-r[1],n<0&&(e--,n+=1e9)),[e,n]}var Xf=new Date;function qf(){var r=new Date,t=r-Xf;return t/1e3}var Yr={nextTick:Uf,title:kf,browser:Bf,env:Ff,argv:Df,version:Rf,versions:Cf,on:Vf,addListener:Lf,once:zf,off:Qf,removeListener:Wf,removeAllListeners:Zf,emit:Pf,binding:Kf,cwd:$f,chdir:Yf,umask:Hf,hrtime:Jf,platform:Nf,release:Of,config:jf,uptime:qf},ep=function(r,t,e,n,o,i,s,a){if(Yr.env.NODE_ENV!=="production"&&t===void 0)throw new Error("invariant requires an error message argument");if(!r){var u;if(t===void 0)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var h=[e,n,o,i,s,a],f=0;u=new Error(t.replace(/%s/g,function(){return h[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}},Hn=ep;const tp={56:"https://bsc-dataseed1.binance.org",97:"https://data-seed-prebsc-1-s1.binance.org:8545",137:"https://rpc-mainnet.maticvigil.com/",80001:"https://rpc-mumbai.matic.today/",43114:"https://api.avax.network/ext/bc/C/rpc",43113:"https://api.avax-test.network/ext/bc/C/rpc"},np={1:"ethereum",4:"ethereum",56:"bsc",97:"bsc",137:"polygon",80001:"polygon",43114:"avalanche",43113:"avalanche"},rp={1:"mainnet",4:"rinkeby",56:"mainnet",97:"testnet",137:"mainnet",80001:"testnet",43114:"mainnet",43113:"testnet"},op={1:"https://wallet.blocto.app",4:"https://wallet-testnet.blocto.app",56:"https://wallet.blocto.app",97:"https://wallet-testnet.blocto.app",137:"https://wallet.blocto.app",80001:"https://wallet-testnet.blocto.app",43114:"https://wallet.blocto.app",43113:"https://wallet-testnet.blocto.app"},ip={devnet:"https://wallet-testnet.blocto.app",testnet:"https://wallet-testnet.blocto.app","mainnet-beta":"https://wallet.blocto.app"},sp=["devnet","testnet","mainnet-beta"],ap={1:"https://wallet.blocto.app",2:"https://wallet-testnet.blocto.app",3:"https://wallet-testnet.blocto.app",4:"https://wallet-testnet.blocto.app",5:"https://wallet.blocto.app"};var _n;(function(r){r.Mainnet="mainnet",r.Testnet="testnet",r.Devnet="devnet",r.Testing="testing",r.Premainnet="premainnet"})(_n||(_n={}));const cp={1:_n.Mainnet,2:_n.Testnet,3:_n.Devnet,4:_n.Testing,5:_n.Premainnet},lp={1:"https://fullnode.mainnet.aptoslabs.com/v1",2:"https://fullnode.testnet.aptoslabs.com/v1",3:"https://fullnode.devnet.aptoslabs.com/v1",4:"",5:"https://premainnet.aptosdev.com/v1"},oa=["connect","disconnect","message","chainChanged","accountsChanged"],rs=86400*1e3,up="sdk.session";class os{constructor(){this.isBlocto=!0,this.isConnecting=!1,this.connected=!1,this.eventListeners={},this.code=null,this.sessionKey=up,this.off=this.removeListener,oa.forEach(t=>{this.eventListeners[t]=[]})}async request(t){}on(t,e){!oa.includes(t)||this.eventListeners[t].push(e)}once(){}removeListener(t,e){const o=this.eventListeners[t].findIndex(i=>i===e);o!==-1&&this.eventListeners[t].splice(o,1)}}const hp="width:100vw;height:100%;position:fixed;top:0;left:0;z-index:20000;border:none;";function un(r){const t=document.createElement("iframe");return t.setAttribute("src",r),t.setAttribute("style",hp),t}function hn(r){document.body.appendChild(r)}function Ye(r){const t=r&&r.parentNode;t&&t.removeChild instanceof Function&&t.removeChild(r)}var Dt=(r,t,e=window)=>{function n(o){t(o,()=>e.removeEventListener(r,n))}e.addEventListener(r,n)};class dp{constructor(){this.storage={}}getItem(t){return this[t]||null}setItem(t,e){this.storage[t]=e}removeItem(t){delete this.storage[t]}}const _c=typeof window<"u"?window.memoryStorage:new dp;typeof window<"u"&&(window.memoryStorage=_c);const fp=()=>{if(typeof window>"u")return!1;try{window.localStorage.setItem("local_storage_supported","1");const r=window.localStorage.getItem("local_storage_supported");return window.localStorage.removeItem("local_storage_supported"),r==="1"}catch{return!1}},is=fp()?window.localStorage:_c,pp=(r,t=null)=>{const e=is.getItem(r);try{return JSON.parse(e)||t}catch{return e||t}},ss=(r,t=null)=>{const e=pp(r,null);return e?new Date().getTime()>e.expiry?(vc(r),t):e.value:t},bc=(r,t)=>is.setItem(r,typeof t=="string"?t:JSON.stringify(t)),as=(r,t,e)=>bc(r,{value:t,expiry:new Date().getTime()+e}),vc=r=>{bc(r,""),is.removeItem(r)};async function rr(r,t){if(r.status===403)throw t.code=null,vc(t.sessionKey),new Error("[Blocto SDK]: Session expired!");return r.json()}class wp extends os{constructor({chainId:t="0x1",rpc:e,server:n,appId:o}){super(),this.accounts=[],Hn(t,"'chainId' is required"),typeof t=="number"?this.chainId=t:t.includes("0x")?this.chainId=parseInt(t,16):this.chainId=parseInt(t,10),this.networkId=this.chainId,this.chain=np[this.chainId],this.net=rp[this.chainId],Hn(this.chain,`unsupported 'chainId': ${this.chainId}`),this.rpc=e||tp[this.chainId]||{}.RPC||"",Hn(this.rpc,"'rpc' is required for Ethereum"),this.server=n||op[this.chainId]||{}.SERVER||"",this.appId=o||{}.APP_ID}tryRetrieveSessionFromStorage(){const t=ss(this.sessionKey,{}),e=t&&t.code,n=t&&t.address&&t.address[this.chain];this.connected=Boolean(e&&n),this.code=e||null,this.accounts=n?[n]:[]}checkNetworkMatched(){const t=window.ethereum;if(t&&t.isBlocto&&parseInt(t.chainId,16)!==this.chainId)throw new Error("Blocto SDK network mismatched")}async send(t,e){switch(!0){case e instanceof Function:return this.sendAsync(t,e);case(typeof t=="string"&&Array.isArray(e)):return this.sendAsync({method:t,params:e});default:return this.sendAsync(t)}}async sendAsync(t,e){const n=new Promise(o=>{if(Array.isArray(t)){const i=t.filter(f=>f.method==="eth_sendTransaction").map(f=>f.params[0]),s=Math.floor(Math.random()*1e4),a={method:"blocto_sendBatchTransaction",params:i},u=this.request(a),h=t.map(({method:f,params:w},y)=>f==="eth_sendTransaction"?u:this.request({id:s+y+1,jsonrpc:"2.0",method:f,params:w}));Promise.allSettled(h).then(f=>o(f.map((w,y)=>({id:s+y+1,jsonrpc:"2.0",result:w.status==="fulfilled"?w.value:void 0,error:w.status!=="fulfilled"?w.reason:void 0}))))}else this.request(t).then(o)});if(e)n.then(o=>e(null,o)).catch(o=>e(o));else return n}async request(t){const e=window.ethereum;if(e&&e.isBlocto)return e.request(t);this.connected||await this.enable();try{let n=null,o=null;switch(t.method){case"eth_requestAccounts":this.accounts=await this.fetchAccounts();case"eth_accounts":o=this.accounts.length?this.accounts:await this.fetchAccounts();break;case"eth_coinbase":{o=this.accounts[0];break}case"eth_chainId":{o=this.chainId,o=`0x${o.toString(16)}`;break}case"net_version":{o=this.networkId||this.chainId,o=`0x${o.toString(16)}`;break}case"eth_signTypedData_v3":case"eth_signTypedData":case"eth_signTypedData_v4":case"personal_sign":case"eth_sign":{o=await this.handleSign(t);break}case"blocto_sendBatchTransaction":case"eth_sendTransaction":o=await this.handleSendTransaction(t);break;case"eth_signTransaction":case"eth_sendRawTransaction":o=null;break;default:n=await this.handleReadRequests(t)}if(n&&!n.result&&n.error){const i=n.error.message?n.error.message:"Request failed";throw new Error(i)}return n?n.result:o}catch(n){throw console.error(n),n}}async enable(){const t=window.ethereum;if(t&&t.isBlocto){if(parseInt(t.chainId,16)!==this.chainId)try{await t.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${this.chainId.toString(16)}`}]}),this.accounts=[t.address]}catch(e){console.error(e)}return new Promise((e,n)=>setTimeout(()=>t.enable().then(e).catch(n),10))}return this.tryRetrieveSessionFromStorage(),new Promise((e,n)=>{if(typeof window>"u"&&n("Currently only supported in browser"),this.connected)return e(this.accounts);const o=encodeURIComponent(window.location.origin),i=un(`${this.server}/authn?l6n=${o}&chain=${this.chain}`);hn(i),Dt("message",(s,a)=>{const u=s;if(u.origin===this.server){if(u.data.type==="FCL::CHALLENGE::RESPONSE"){a(),Ye(i),this.code=u.data.code,this.connected=!0,this.eventListeners.connect.forEach(f=>f(this.chainId));const h=u.data.address;this.accounts=h?[h[this.chain]]:[],as(this.sessionKey,{code:this.code,address:h},rs),e(this.accounts)}u.data.type==="FCL::CHALLENGE::CANCEL"&&(a(),Ye(i),n(new Error("User declined the login request")))}})})}async fetchAccounts(){this.checkNetworkMatched();const{accounts:t}=await fetch(`${this.server}/api/${this.chain}/accounts?code=${this.code}`).then(e=>rr(e,this));return this.accounts=t,t}async handleReadRequests(t){return this.checkNetworkMatched(),fetch(this.rpc,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:1,jsonrpc:"2.0",...t})}).then(e=>e.json())}async handleSign({method:t,params:e}){const n=`${this.server}/user-signature/${this.chain}`,o=un(n);hn(o);let i="";return Array.isArray(e)&&(t==="eth_sign"?i=e[1].slice(2):t==="personal_sign"?i=e[0].slice(2):["eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4"].includes(t)&&(i=e[1])),Dt("message",(s,a)=>{const u=s;u.origin===this.server&&u.data.type==="ETH:FRAME:READY"&&(o.contentWindow&&o.contentWindow.postMessage({type:"ETH:FRAME:READY:RESPONSE",method:t,message:i,chain:this.chain},n),a())}),new Promise((s,a)=>Dt("message",(u,h)=>{const f=u;f.origin===this.server&&f.data.type==="ETH:FRAME:RESPONSE"&&(f.data.status==="APPROVED"&&(h(),Ye(o),s(f.data.signature)),f.data.status==="DECLINED"&&(h(),Ye(o),a(new Error("User declined the signing request"))))}))}async handleSendTransaction(t){this.checkNetworkMatched();const{authorizationId:e}=await fetch(`${this.server}/api/${this.chain}/authz?code=${this.code}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t.params)}).then(o=>rr(o,this));if(typeof window>"u")throw new Error("Currently only supported in browser");const n=un(`${this.server}/authz/${this.chain}/${e}`);return hn(n),new Promise((o,i)=>Dt("message",(s,a)=>{const u=s;u.origin===this.server&&u.data.type==="ETH:FRAME:RESPONSE"&&(u.data.status==="APPROVED"&&(a(),Ye(n),o(u.data.txHash)),u.data.status==="DECLINED"&&(a(),Ye(n),i(new Error("User declined to send the transaction"))))}))}}var Bt=[],mt=[],gp=typeof Uint8Array<"u"?Uint8Array:Array,cs=!1;function Sc(){cs=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,e=r.length;t<e;++t)Bt[t]=r[t],mt[r.charCodeAt(t)]=t;mt["-".charCodeAt(0)]=62,mt["_".charCodeAt(0)]=63}function yp(r){cs||Sc();var t,e,n,o,i,s,a=r.length;if(a%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i=r[a-2]==="="?2:r[a-1]==="="?1:0,s=new gp(a*3/4-i),n=i>0?a-4:a;var u=0;for(t=0,e=0;t<n;t+=4,e+=3)o=mt[r.charCodeAt(t)]<<18|mt[r.charCodeAt(t+1)]<<12|mt[r.charCodeAt(t+2)]<<6|mt[r.charCodeAt(t+3)],s[u++]=o>>16&255,s[u++]=o>>8&255,s[u++]=o&255;return i===2?(o=mt[r.charCodeAt(t)]<<2|mt[r.charCodeAt(t+1)]>>4,s[u++]=o&255):i===1&&(o=mt[r.charCodeAt(t)]<<10|mt[r.charCodeAt(t+1)]<<4|mt[r.charCodeAt(t+2)]>>2,s[u++]=o>>8&255,s[u++]=o&255),s}function mp(r){return Bt[r>>18&63]+Bt[r>>12&63]+Bt[r>>6&63]+Bt[r&63]}function Ep(r,t,e){for(var n,o=[],i=t;i<e;i+=3)n=(r[i]<<16)+(r[i+1]<<8)+r[i+2],o.push(mp(n));return o.join("")}function ia(r){cs||Sc();for(var t,e=r.length,n=e%3,o="",i=[],s=16383,a=0,u=e-n;a<u;a+=s)i.push(Ep(r,a,a+s>u?u:a+s));return n===1?(t=r[e-1],o+=Bt[t>>2],o+=Bt[t<<4&63],o+="=="):n===2&&(t=(r[e-2]<<8)+r[e-1],o+=Bt[t>>10],o+=Bt[t>>4&63],o+=Bt[t<<2&63],o+="="),i.push(o),i.join("")}function No(r,t,e,n,o){var i,s,a=o*8-n-1,u=(1<<a)-1,h=u>>1,f=-7,w=e?o-1:0,y=e?-1:1,g=r[t+w];for(w+=y,i=g&(1<<-f)-1,g>>=-f,f+=a;f>0;i=i*256+r[t+w],w+=y,f-=8);for(s=i&(1<<-f)-1,i>>=-f,f+=n;f>0;s=s*256+r[t+w],w+=y,f-=8);if(i===0)i=1-h;else{if(i===u)return s?NaN:(g?-1:1)*(1/0);s=s+Math.pow(2,n),i=i-h}return(g?-1:1)*s*Math.pow(2,i-n)}function Mc(r,t,e,n,o,i){var s,a,u,h=i*8-o-1,f=(1<<h)-1,w=f>>1,y=o===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=n?0:i-1,_=n?1:-1,b=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+w>=1?t+=y/u:t+=y*Math.pow(2,1-w),t*u>=2&&(s++,u/=2),s+w>=f?(a=0,s=f):s+w>=1?(a=(t*u-1)*Math.pow(2,o),s=s+w):(a=t*Math.pow(2,w-1)*Math.pow(2,o),s=0));o>=8;r[e+g]=a&255,g+=_,a/=256,o-=8);for(s=s<<o|a,h+=o;h>0;r[e+g]=s&255,g+=_,s/=256,h-=8);r[e+g-_]|=b*128}var _p={}.toString,xc=Array.isArray||function(r){return _p.call(r)=="[object Array]"};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */var Ic=50;F.TYPED_ARRAY_SUPPORT=$t.TYPED_ARRAY_SUPPORT!==void 0?$t.TYPED_ARRAY_SUPPORT:!0;var bp=lo();function lo(){return F.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Pt(r,t){if(lo()<t)throw new RangeError("Invalid typed array length");return F.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=F.prototype):(r===null&&(r=new F(t)),r.length=t),r}function F(r,t,e){if(!F.TYPED_ARRAY_SUPPORT&&!(this instanceof F))return new F(r,t,e);if(typeof r=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return ls(this,r)}return Ac(this,r,t,e)}F.poolSize=8192;F._augment=function(r){return r.__proto__=F.prototype,r};function Ac(r,t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer?Mp(r,t,e,n):typeof t=="string"?Sp(r,t,e):xp(r,t)}F.from=function(r,t,e){return Ac(null,r,t,e)};F.TYPED_ARRAY_SUPPORT&&(F.prototype.__proto__=Uint8Array.prototype,F.__proto__=Uint8Array);function Tc(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function vp(r,t,e,n){return Tc(t),t<=0?Pt(r,t):e!==void 0?typeof n=="string"?Pt(r,t).fill(e,n):Pt(r,t).fill(e):Pt(r,t)}F.alloc=function(r,t,e){return vp(null,r,t,e)};function ls(r,t){if(Tc(t),r=Pt(r,t<0?0:us(t)|0),!F.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)r[e]=0;return r}F.allocUnsafe=function(r){return ls(null,r)};F.allocUnsafeSlow=function(r){return ls(null,r)};function Sp(r,t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!F.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=Uc(t,e)|0;r=Pt(r,n);var o=r.write(t,e);return o!==n&&(r=r.slice(0,o)),r}function Si(r,t){var e=t.length<0?0:us(t.length)|0;r=Pt(r,e);for(var n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Mp(r,t,e,n){if(t.byteLength,e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return e===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,e):t=new Uint8Array(t,e,n),F.TYPED_ARRAY_SUPPORT?(r=t,r.__proto__=F.prototype):r=Si(r,t),r}function xp(r,t){if(Ct(t)){var e=us(t.length)|0;return r=Pt(r,e),r.length===0||t.copy(r,0,0,e),r}if(t){if(typeof ArrayBuffer<"u"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||Pp(t.length)?Pt(r,0):Si(r,t);if(t.type==="Buffer"&&xc(t.data))return Si(r,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function us(r){if(r>=lo())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+lo().toString(16)+" bytes");return r|0}function Ip(r){return+r!=r&&(r=0),F.alloc(+r)}F.isBuffer=Oc;function Ct(r){return!!(r!=null&&r._isBuffer)}F.compare=function(t,e){if(!Ct(t)||!Ct(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,o=e.length,i=0,s=Math.min(n,o);i<s;++i)if(t[i]!==e[i]){n=t[i],o=e[i];break}return n<o?-1:o<n?1:0};F.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};F.concat=function(t,e){if(!xc(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return F.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var o=F.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var s=t[n];if(!Ct(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(o,i),i+=s.length}return o};function Uc(r,t){if(Ct(r))return r.length;if(typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var e=r.length;if(e===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return uo(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Cc(r).length;default:if(n)return uo(r).length;t=(""+t).toLowerCase(),n=!0}}F.byteLength=Uc;function Ap(r,t,e){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Op(this,t,e);case"utf8":case"utf-8":return Bc(this,t,e);case"ascii":return Rp(this,t,e);case"latin1":case"binary":return Cp(this,t,e);case"base64":return Fp(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return jp(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}F.prototype._isBuffer=!0;function Mn(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}F.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Mn(this,e,e+1);return this};F.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Mn(this,e,e+3),Mn(this,e+1,e+2);return this};F.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Mn(this,e,e+7),Mn(this,e+1,e+6),Mn(this,e+2,e+5),Mn(this,e+3,e+4);return this};F.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?Bc(this,0,t):Ap.apply(this,arguments)};F.prototype.equals=function(t){if(!Ct(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:F.compare(this,t)===0};F.prototype.inspect=function(){var t="",e=Ic;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"};F.prototype.compare=function(t,e,n,o,i){if(!Ct(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),o===void 0&&(o=0),i===void 0&&(i=this.length),e<0||n>t.length||o<0||i>this.length)throw new RangeError("out of range index");if(o>=i&&e>=n)return 0;if(o>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,o>>>=0,i>>>=0,this===t)return 0;for(var s=i-o,a=n-e,u=Math.min(s,a),h=this.slice(o,i),f=t.slice(e,n),w=0;w<u;++w)if(h[w]!==f[w]){s=h[w],a=f[w];break}return s<a?-1:a<s?1:0};function kc(r,t,e,n,o){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=o?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(o)return-1;e=r.length-1}else if(e<0)if(o)e=0;else return-1;if(typeof t=="string"&&(t=F.from(t,n)),Ct(t))return t.length===0?-1:sa(r,t,e,n,o);if(typeof t=="number")return t=t&255,F.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?o?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):sa(r,[t],e,n,o);throw new TypeError("val must be string, number or Buffer")}function sa(r,t,e,n,o){var i=1,s=r.length,a=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;i=2,s/=2,a/=2,e/=2}function u(g,_){return i===1?g[_]:g.readUInt16BE(_*i)}var h;if(o){var f=-1;for(h=e;h<s;h++)if(u(r,h)===u(t,f===-1?0:h-f)){if(f===-1&&(f=h),h-f+1===a)return f*i}else f!==-1&&(h-=h-f),f=-1}else for(e+a>s&&(e=s-a),h=e;h>=0;h--){for(var w=!0,y=0;y<a;y++)if(u(r,h+y)!==u(t,y)){w=!1;break}if(w)return h}return-1}F.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};F.prototype.indexOf=function(t,e,n){return kc(this,t,e,n,!0)};F.prototype.lastIndexOf=function(t,e,n){return kc(this,t,e,n,!1)};function Tp(r,t,e,n){e=Number(e)||0;var o=r.length-e;n?(n=Number(n),n>o&&(n=o)):n=o;var i=t.length;if(i%2!==0)throw new TypeError("Invalid hex string");n>i/2&&(n=i/2);for(var s=0;s<n;++s){var a=parseInt(t.substr(s*2,2),16);if(isNaN(a))return s;r[e+s]=a}return s}function Up(r,t,e,n){return Do(uo(t,r.length-e),r,e,n)}function Nc(r,t,e,n){return Do(Wp(t),r,e,n)}function kp(r,t,e,n){return Nc(r,t,e,n)}function Np(r,t,e,n){return Do(Cc(t),r,e,n)}function Bp(r,t,e,n){return Do(Zp(t,r.length-e),r,e,n)}F.prototype.write=function(t,e,n,o){if(e===void 0)o="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")o=e,n=this.length,e=0;else if(isFinite(e))e=e|0,isFinite(n)?(n=n|0,o===void 0&&(o="utf8")):(o=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i=this.length-e;if((n===void 0||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");o||(o="utf8");for(var s=!1;;)switch(o){case"hex":return Tp(this,t,e,n);case"utf8":case"utf-8":return Up(this,t,e,n);case"ascii":return Nc(this,t,e,n);case"latin1":case"binary":return kp(this,t,e,n);case"base64":return Np(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Bp(this,t,e,n);default:if(s)throw new TypeError("Unknown encoding: "+o);o=(""+o).toLowerCase(),s=!0}};F.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Fp(r,t,e){return t===0&&e===r.length?ia(r):ia(r.slice(t,e))}function Bc(r,t,e){e=Math.min(r.length,e);for(var n=[],o=t;o<e;){var i=r[o],s=null,a=i>239?4:i>223?3:i>191?2:1;if(o+a<=e){var u,h,f,w;switch(a){case 1:i<128&&(s=i);break;case 2:u=r[o+1],(u&192)===128&&(w=(i&31)<<6|u&63,w>127&&(s=w));break;case 3:u=r[o+1],h=r[o+2],(u&192)===128&&(h&192)===128&&(w=(i&15)<<12|(u&63)<<6|h&63,w>2047&&(w<55296||w>57343)&&(s=w));break;case 4:u=r[o+1],h=r[o+2],f=r[o+3],(u&192)===128&&(h&192)===128&&(f&192)===128&&(w=(i&15)<<18|(u&63)<<12|(h&63)<<6|f&63,w>65535&&w<1114112&&(s=w))}}s===null?(s=65533,a=1):s>65535&&(s-=65536,n.push(s>>>10&1023|55296),s=56320|s&1023),n.push(s),o+=a}return Dp(n)}var aa=4096;function Dp(r){var t=r.length;if(t<=aa)return String.fromCharCode.apply(String,r);for(var e="",n=0;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=aa));return e}function Rp(r,t,e){var n="";e=Math.min(r.length,e);for(var o=t;o<e;++o)n+=String.fromCharCode(r[o]&127);return n}function Cp(r,t,e){var n="";e=Math.min(r.length,e);for(var o=t;o<e;++o)n+=String.fromCharCode(r[o]);return n}function Op(r,t,e){var n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);for(var o="",i=t;i<e;++i)o+=Qp(r[i]);return o}function jp(r,t,e){for(var n=r.slice(t,e),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+n[i+1]*256);return o}F.prototype.slice=function(t,e){var n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var o;if(F.TYPED_ARRAY_SUPPORT)o=this.subarray(t,e),o.__proto__=F.prototype;else{var i=e-t;o=new F(i,void 0);for(var s=0;s<i;++s)o[s]=this[s+t]}return o};function je(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}F.prototype.readUIntLE=function(t,e,n){t=t|0,e=e|0,n||je(t,e,this.length);for(var o=this[t],i=1,s=0;++s<e&&(i*=256);)o+=this[t+s]*i;return o};F.prototype.readUIntBE=function(t,e,n){t=t|0,e=e|0,n||je(t,e,this.length);for(var o=this[t+--e],i=1;e>0&&(i*=256);)o+=this[t+--e]*i;return o};F.prototype.readUInt8=function(t,e){return e||je(t,1,this.length),this[t]};F.prototype.readUInt16LE=function(t,e){return e||je(t,2,this.length),this[t]|this[t+1]<<8};F.prototype.readUInt16BE=function(t,e){return e||je(t,2,this.length),this[t]<<8|this[t+1]};F.prototype.readUInt32LE=function(t,e){return e||je(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};F.prototype.readUInt32BE=function(t,e){return e||je(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};F.prototype.readIntLE=function(t,e,n){t=t|0,e=e|0,n||je(t,e,this.length);for(var o=this[t],i=1,s=0;++s<e&&(i*=256);)o+=this[t+s]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o};F.prototype.readIntBE=function(t,e,n){t=t|0,e=e|0,n||je(t,e,this.length);for(var o=e,i=1,s=this[t+--o];o>0&&(i*=256);)s+=this[t+--o]*i;return i*=128,s>=i&&(s-=Math.pow(2,8*e)),s};F.prototype.readInt8=function(t,e){return e||je(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};F.prototype.readInt16LE=function(t,e){e||je(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};F.prototype.readInt16BE=function(t,e){e||je(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};F.prototype.readInt32LE=function(t,e){return e||je(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};F.prototype.readInt32BE=function(t,e){return e||je(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};F.prototype.readFloatLE=function(t,e){return e||je(t,4,this.length),No(this,t,!0,23,4)};F.prototype.readFloatBE=function(t,e){return e||je(t,4,this.length),No(this,t,!1,23,4)};F.prototype.readDoubleLE=function(t,e){return e||je(t,8,this.length),No(this,t,!0,52,8)};F.prototype.readDoubleBE=function(t,e){return e||je(t,8,this.length),No(this,t,!1,52,8)};function it(r,t,e,n,o,i){if(!Ct(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}F.prototype.writeUIntLE=function(t,e,n,o){if(t=+t,e=e|0,n=n|0,!o){var i=Math.pow(2,8*n)-1;it(this,t,e,n,i,0)}var s=1,a=0;for(this[e]=t&255;++a<n&&(s*=256);)this[e+a]=t/s&255;return e+n};F.prototype.writeUIntBE=function(t,e,n,o){if(t=+t,e=e|0,n=n|0,!o){var i=Math.pow(2,8*n)-1;it(this,t,e,n,i,0)}var s=n-1,a=1;for(this[e+s]=t&255;--s>=0&&(a*=256);)this[e+s]=t/a&255;return e+n};F.prototype.writeUInt8=function(t,e,n){return t=+t,e=e|0,n||it(this,t,e,1,255,0),F.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t&255,e+1};function Bo(r,t,e,n){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(r.length-e,2);o<i;++o)r[e+o]=(t&255<<8*(n?o:1-o))>>>(n?o:1-o)*8}F.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e|0,n||it(this,t,e,2,65535,0),F.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Bo(this,t,e,!0),e+2};F.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e|0,n||it(this,t,e,2,65535,0),F.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Bo(this,t,e,!1),e+2};function Fo(r,t,e,n){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(r.length-e,4);o<i;++o)r[e+o]=t>>>(n?o:3-o)*8&255}F.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e|0,n||it(this,t,e,4,4294967295,0),F.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255):Fo(this,t,e,!0),e+4};F.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e|0,n||it(this,t,e,4,4294967295,0),F.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Fo(this,t,e,!1),e+4};F.prototype.writeIntLE=function(t,e,n,o){if(t=+t,e=e|0,!o){var i=Math.pow(2,8*n-1);it(this,t,e,n,i-1,-i)}var s=0,a=1,u=0;for(this[e]=t&255;++s<n&&(a*=256);)t<0&&u===0&&this[e+s-1]!==0&&(u=1),this[e+s]=(t/a>>0)-u&255;return e+n};F.prototype.writeIntBE=function(t,e,n,o){if(t=+t,e=e|0,!o){var i=Math.pow(2,8*n-1);it(this,t,e,n,i-1,-i)}var s=n-1,a=1,u=0;for(this[e+s]=t&255;--s>=0&&(a*=256);)t<0&&u===0&&this[e+s+1]!==0&&(u=1),this[e+s]=(t/a>>0)-u&255;return e+n};F.prototype.writeInt8=function(t,e,n){return t=+t,e=e|0,n||it(this,t,e,1,127,-128),F.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t&255,e+1};F.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e|0,n||it(this,t,e,2,32767,-32768),F.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Bo(this,t,e,!0),e+2};F.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e|0,n||it(this,t,e,2,32767,-32768),F.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Bo(this,t,e,!1),e+2};F.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e|0,n||it(this,t,e,4,2147483647,-2147483648),F.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Fo(this,t,e,!0),e+4};F.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e|0,n||it(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),F.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Fo(this,t,e,!1),e+4};function Fc(r,t,e,n,o,i){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Dc(r,t,e,n,o){return o||Fc(r,t,e,4),Mc(r,t,e,n,23,4),e+4}F.prototype.writeFloatLE=function(t,e,n){return Dc(this,t,e,!0,n)};F.prototype.writeFloatBE=function(t,e,n){return Dc(this,t,e,!1,n)};function Rc(r,t,e,n,o){return o||Fc(r,t,e,8),Mc(r,t,e,n,52,8),e+8}F.prototype.writeDoubleLE=function(t,e,n){return Rc(this,t,e,!0,n)};F.prototype.writeDoubleBE=function(t,e,n){return Rc(this,t,e,!1,n)};F.prototype.copy=function(t,e,n,o){if(n||(n=0),!o&&o!==0&&(o=this.length),e>=t.length&&(e=t.length),e||(e=0),o>0&&o<n&&(o=n),o===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(o<0)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-e<o-n&&(o=t.length-e+n);var i=o-n,s;if(this===t&&n<e&&e<o)for(s=i-1;s>=0;--s)t[s+e]=this[s+n];else if(i<1e3||!F.TYPED_ARRAY_SUPPORT)for(s=0;s<i;++s)t[s+e]=this[s+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+i),e);return i};F.prototype.fill=function(t,e,n,o){if(typeof t=="string"){if(typeof e=="string"?(o=e,e=0,n=this.length):typeof n=="string"&&(o=n,n=this.length),t.length===1){var i=t.charCodeAt(0);i<256&&(t=i)}if(o!==void 0&&typeof o!="string")throw new TypeError("encoding must be a string");if(typeof o=="string"&&!F.isEncoding(o))throw new TypeError("Unknown encoding: "+o)}else typeof t=="number"&&(t=t&255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var s;if(typeof t=="number")for(s=e;s<n;++s)this[s]=t;else{var a=Ct(t)?t:uo(new F(t,o).toString()),u=a.length;for(s=0;s<n-e;++s)this[s+e]=a[s%u]}return this};var Vp=/[^+\/0-9A-Za-z-_]/g;function Lp(r){if(r=zp(r).replace(Vp,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function zp(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Qp(r){return r<16?"0"+r.toString(16):r.toString(16)}function uo(r,t){t=t||1/0;for(var e,n=r.length,o=null,i=[],s=0;s<n;++s){if(e=r.charCodeAt(s),e>55295&&e<57344){if(!o){if(e>56319){(t-=3)>-1&&i.push(239,191,189);continue}else if(s+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=e;continue}if(e<56320){(t-=3)>-1&&i.push(239,191,189),o=e;continue}e=(o-55296<<10|e-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,e<128){if((t-=1)<0)break;i.push(e)}else if(e<2048){if((t-=2)<0)break;i.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;i.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;i.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return i}function Wp(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function Zp(r,t){for(var e,n,o,i=[],s=0;s<r.length&&!((t-=2)<0);++s)e=r.charCodeAt(s),n=e>>8,o=e%256,i.push(o),i.push(n);return i}function Cc(r){return yp(Lp(r))}function Do(r,t,e,n){for(var o=0;o<n&&!(o+e>=t.length||o>=r.length);++o)t[o+e]=r[o];return o}function Pp(r){return r!==r}function Oc(r){return r!=null&&(!!r._isBuffer||jc(r)||Kp(r))}function jc(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Kp(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&jc(r.slice(0,0))}var Qr=Object.freeze({__proto__:null,Buffer:F,INSPECT_MAX_BYTES:Ic,SlowBuffer:Ip,isBuffer:Oc,kMaxLength:bp});function $p(r,t){return t={exports:{}},r(t,t.exports),t.exports}function hs(r){return r&&r.default||r}var Vc=$p(function(r,t){/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var e=Qr.Buffer;function n(i,s){for(var a in i)s[a]=i[a]}e.from&&e.alloc&&e.allocUnsafe&&e.allocUnsafeSlow?r.exports=Qr:(n(Qr,t),t.Buffer=o);function o(i,s,a){return e(i,s,a)}o.prototype=Object.create(e.prototype),n(e,o),o.from=function(i,s,a){if(typeof i=="number")throw new TypeError("Argument must not be a number");return e(i,s,a)},o.alloc=function(i,s,a){if(typeof i!="number")throw new TypeError("Argument must be a number");var u=e(i);return s!==void 0?typeof a=="string"?u.fill(s,a):u.fill(s):u.fill(0),u},o.allocUnsafe=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return e(i)},o.allocUnsafeSlow=function(i){if(typeof i!="number")throw new TypeError("Argument must be a number");return Qr.SlowBuffer(i)}});Vc.Buffer;var Wr=Vc.Buffer;function Yp(r){if(r.length>=255)throw new TypeError("Alphabet too long");for(var t=new Uint8Array(256),e=0;e<t.length;e++)t[e]=255;for(var n=0;n<r.length;n++){var o=r.charAt(n),i=o.charCodeAt(0);if(t[i]!==255)throw new TypeError(o+" is ambiguous");t[i]=n}var s=r.length,a=r.charAt(0),u=Math.log(s)/Math.log(256),h=Math.log(256)/Math.log(s);function f(g){if((Array.isArray(g)||g instanceof Uint8Array)&&(g=Wr.from(g)),!Wr.isBuffer(g))throw new TypeError("Expected Buffer");if(g.length===0)return"";for(var _=0,b=0,M=0,U=g.length;M!==U&&g[M]===0;)M++,_++;for(var k=(U-M)*h+1>>>0,x=new Uint8Array(k);M!==U;){for(var z=g[M],A=0,j=k-1;(z!==0||A<b)&&j!==-1;j--,A++)z+=256*x[j]>>>0,x[j]=z%s>>>0,z=z/s>>>0;if(z!==0)throw new Error("Non-zero carry");b=A,M++}for(var O=k-b;O!==k&&x[O]===0;)O++;for(var H=a.repeat(_);O<k;++O)H+=r.charAt(x[O]);return H}function w(g){if(typeof g!="string")throw new TypeError("Expected String");if(g.length===0)return Wr.alloc(0);for(var _=0,b=0,M=0;g[_]===a;)b++,_++;for(var U=(g.length-_)*u+1>>>0,k=new Uint8Array(U);g[_];){var x=t[g.charCodeAt(_)];if(x===255)return;for(var z=0,A=U-1;(x!==0||z<M)&&A!==-1;A--,z++)x+=s*k[A]>>>0,k[A]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");M=z,_++}for(var j=U-M;j!==U&&k[j]===0;)j++;var O=Wr.allocUnsafe(b+(U-j));O.fill(0,0,b);for(var H=b;j!==U;)O[H++]=k[j++];return O}function y(g){var _=w(g);if(_)return _;throw new Error("Non-base"+s+" character")}return{encode:f,decodeUnsafe:w,decode:y}}var Hp=Yp,Gp="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz",ca=Hp(Gp);class Jp extends os{constructor({net:t="mainnet-beta",server:e,appId:n,rpc:o}){super(),this.accounts=[],Hn(t,"'net' is required"),Hn(sp.includes(t),"unsupported net"),this.net=t,this.rpc=o||(t==="mainnet-beta"?"https://free.rpcpool.com":`https://api.${t}.solana.com`),this.server=e||ip[this.net]||{}.SERVER||"",this.appId=n||{}.APP_ID}tryRetrieveSessionFromStorage(){const t=ss(this.sessionKey,{}),e=t&&t.code,n=t&&t.address&&t.address.solana;this.connected=Boolean(e&&n),this.code=e||null,this.accounts=n?[n]:[]}async request(t){this.connected||await this.connect();try{let e=null,n=null;switch(t.method){case"connect":n=await this.fetchAccounts();break;case"disconnect":this.disconnect();break;case"getAccounts":n=this.accounts.length?this.accounts:await this.fetchAccounts();break;case"getAccountInfo":{const o=await this.handleReadRequests(t),[i,s]=o.result.value.data;n={...o.result.value,data:F.from(i,s),owner:new ne(o.result.value.owner)};break}case"convertToProgramWalletTransaction":n=await this.handleConvertTransaction(t);break;case"signAndSendTransaction":n=await this.handleSignAndSendTransaction(t);break;case"signTransaction":case"signAllTransactions":throw new Error(`Blocto is program wallet, which doesn't support ${t.method}. Use signAndSendTransaction instead.`);default:e=await this.handleReadRequests(t)}if(e&&!e.result&&e.error){const o=e.error.message?e.error.message:"Request failed";throw new Error(o)}return e?e.result:n}catch(e){throw console.error(e),e}}async connect(){const t=window.solana;return t&&t.isBlocto?new Promise(e=>{t.once("connect",n=>{this.accounts=[n.toBase58()],e()}),t.connect()}):(this.tryRetrieveSessionFromStorage(),new Promise((e,n)=>{if(typeof window>"u"&&n("Currently only supported in browser"),this.connected)return e();const o=encodeURIComponent(window.location.origin),i=un(`${this.server}/authn?l6n=${o}&chain=solana`);hn(i),Dt("message",(s,a)=>{const u=s;if(u.origin===this.server){if(u.data.type==="FCL::CHALLENGE::RESPONSE"){a(),Ye(i),this.code=u.data.code,this.connected=!0,this.eventListeners.connect.forEach(f=>f(this.net));const h=u.data.address;this.accounts=h?[h.solana]:[],as(this.sessionKey,{code:this.code,address:h},rs),e()}u.data.type==="FCL::CHALLENGE::CANCEL"&&(a(),Ye(i),n(new Error("User declined the login request")))}})}))}async disconnect(){const t=window.solana;if(t&&t.isBlocto){await t.disconnect();return}this.code=null,this.accounts=[],this.eventListeners.disconnect.forEach(e=>e())}async fetchAccounts(){const{accounts:t}=await fetch(`${this.server}/api/solana/accounts?code=${this.code}`).then(e=>e.json());return this.accounts=t,t}async handleReadRequests(t){return fetch(this.rpc,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:1,jsonrpc:"2.0",...t})}).then(e=>e.json())}async convertToProgramWalletTransaction(t){const e=window.solana;if(e&&e.isBlocto)return e.convertToProgramWalletTransaction(t);const n=await this.request({method:"convertToProgramWalletTransaction",params:{message:t.serializeMessage().toString("hex")}});return this.toTransaction(n,[])}async signAndSendTransaction(t,e){const n=window.solana;if(n&&n.isBlocto)return n.signAndSendTransaction(t);const o={};if(e){e.commitment&&(o.commitment=e.commitment);const i=e?e._rpcEndpoint:null;i&&i!==this.rpc&&(this.rpc=i,this.disconnect(),await this.connect())}return this.request({method:"signAndSendTransaction",params:{signatures:await this.collectSignatures(t),message:t.serializeMessage().toString("hex"),...o}})}toTransaction(t,e){const n=tr.from(F.from(t,"hex")),o=new ao;return o.recentBlockhash=n.recentBlockhash,n.header.numRequiredSignatures>0&&(o.feePayer=n.accountKeys[0]),e.forEach((i,s)=>{const a={signature:i===ne.default.toBase58()?null:ca.decode(i),publicKey:n.accountKeys[s]};o.signatures.push(a)}),n.instructions.forEach(i=>{const s=i.accounts.map(a=>({pubkey:n.accountKeys[a],isSigner:a<n.header.numRequiredSignatures,isWritable:n.isAccountWritable(a)}));o.instructions.push(new bi({keys:s,programId:n.accountKeys[i.programIdIndex],data:ca.decode(i.data)}))}),o}async collectSignatures(t){return t.signatures.reduce((e,n)=>(n.signature&&(e[n.publicKey.toBase58()]=n.signature.toString("hex")),e),{})}async handleConvertTransaction(t){return fetch(`${this.server}/api/solana/convertToWalletTx?code=${this.code}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.code,...t.params})}).then(e=>rr(e,this))}async handleSignAndSendTransaction(t){const{authorizationId:e}=await fetch(`${this.server}/api/solana/authz?code=${this.code}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:this.code,...t.params})}).then(o=>rr(o,this));if(typeof window>"u")throw new Error("Currently only supported in browser");const n=un(`${this.server}/authz/solana/${e}`);return hn(n),new Promise((o,i)=>Dt("message",(s,a)=>{const u=s;u.origin===this.server&&u.data.type==="SOL:FRAME:RESPONSE"&&(u.data.status==="APPROVED"&&(a(),Ye(n),o(u.data.txHash)),u.data.status==="DECLINED"&&(a(),Ye(n),i(new Error("User declined to send the transaction"))))}))}}class Xp extends os{constructor({chainId:t,server:e,appId:n}){super(),this.publicKey=[],this.authKey="",Hn(t,"'chainId' is required"),this.chainId=t,this.networkName=cp[t],this.api=lp[t];const o=ap[t];this.appId=n||{}.APP_ID,this.server=e||o||{}.SERVER||""}tryRetrieveSessionFromStorage(){const t=ss(this.sessionKey,{}),e=t&&t.code,n=t&&t.address&&t.address[this.chainId];this.code=e||null,this.address=n||void 0}get publicAccount(){return{address:this.address||null,publicKey:this.publicKey.length?this.publicKey:null,authKey:null,minKeysRequired:2}}async network(){return{name:this.networkName,api:this.api,chainId:this.chainId.toString()}}async isConnected(){return!!this.address}async signTransaction(t){const e=window.bloctoAptos;if(e)return e.signTransaction(t);throw await this.isConnected()||await this.connect(),this.address?new Error("signTransaction method not supported."):new Error("Fail to get account")}async disconnect(){const t=window.bloctoAptos;if(t){await t.disconnect();return}this.code=null,this.address=void 0}async signAndSubmitTransaction(t){const e=window.bloctoAptos;if(e)return e.signAndSubmitTransaction(t);if(await this.isConnected()||await this.connect(),!this.address)throw new Error("Fail to get account");const{authorizationId:o}=await fetch(`${this.server}/api/aptos/authz?code=${this.code}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(s=>rr(s,this));if(typeof window>"u")throw new Error("Currently only supported in browser");const i=un(`${this.server}/authz/aptos/${o}`);return hn(i),new Promise((s,a)=>Dt("message",(u,h)=>{const f=u;f.origin===this.server&&f.data.type==="APTOS:FRAME:RESPONSE"&&(f.data.status==="APPROVED"&&(h(),Ye(i),s({hash:f.data.txHash})),f.data.status==="DECLINED"&&(h(),Ye(i),a(new Error("User declined to send the transaction"))))}))}async signMessage(t){const e=window.bloctoAptos;if(e)return e.signMessage(t);if(await this.isConnected()||await this.connect(),!this.address)throw new Error("Fail to get account");const o=`${this.server}/user-signature/aptos`,i=un(o);return hn(i),Dt("message",(s,a)=>{const u=s;u.origin===this.server&&u.data.type==="APTOS:FRAME:READY"&&(i.contentWindow&&i.contentWindow.postMessage({type:"APTOS:FRAME:READY:RESPONSE",...t},o),a())}),new Promise((s,a)=>Dt("message",(u,h)=>{const f=u;f.origin===this.server&&f.data.type==="APTOS:FRAME:RESPONSE"&&(f.data.status==="APPROVED"&&(h(),Ye(i),s({address:f.data.address,application:f.data.application,chainId:f.data.chainId,fullMessage:f.data.fullMessage,message:t.message,nonce:t.nonce,prefix:"APTOS",signature:f.data.signature,bitmap:f.data.bitmap})),f.data.status==="DECLINED"&&(h(),Ye(i),a(new Error("User declined the signing request"))))}))}async connect(){const t=window.bloctoAptos;return t?new Promise((e,n)=>setTimeout(()=>t.connect().then(e).catch(n),10)):(this.tryRetrieveSessionFromStorage(),new Promise((e,n)=>{typeof window>"u"&&n("Currently only supported in browser"),this.connected&&this.address&&e({address:this.address,publicKey:this.publicKey,authKey:null,minKeysRequired:2});const o=encodeURIComponent(window.location.origin),i=un(`${this.server}/authn?l6n=${o}&chain=aptos`);hn(i),Dt("message",async(s,a)=>{const u=s;if(u.origin===this.server){if(u.data.type==="APTOS:FRAME:RESPONSE"){a(),Ye(i),this.code=u.data.code,this.connected=!0;const h=u.data.address;if(this.address=h?h.aptos:void 0,this.address)try{const{public_keys:f}=await fetch(`${this.server}/blocto/aptos/accounts/${this.address}`).then(w=>w.json());this.publicKey=f||[],e({address:this.address||"",publicKey:this.publicKey,authKey:null,minKeysRequired:2})}catch{n(u)}else return n();as(this.sessionKey,{code:this.code,address:h},rs)}u.data.type==="APTOS:FRAME:CLOSE"&&(a(),Ye(i),n(new Error("User declined the login request")))}})}))}async fetchAddress(){const{accounts:t}=await fetch(`${this.server}/api/aptos/accounts?code=${this.code}`).then(e=>rr(e,this));return this.address=t[0]||void 0,this.address}}var qp={},e0=Object.freeze({__proto__:null,default:qp});function Lc(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];o==="."?r.splice(n,1):o===".."?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}var t0=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,ds=function(r){return t0.exec(r).slice(1)};function ho(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:"/";if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!n)continue;r=n+"/"+r,t=n.charAt(0)==="/"}return r=Lc(ws(r.split("/"),function(o){return!!o}),!t).join("/"),(t?"/":"")+r||"."}function fs(r){var t=ps(r),e=r0(r,-1)==="/";return r=Lc(ws(r.split("/"),function(n){return!!n}),!t).join("/"),!r&&!t&&(r="."),r&&e&&(r+="/"),(t?"/":"")+r}function ps(r){return r.charAt(0)==="/"}function zc(){var r=Array.prototype.slice.call(arguments,0);return fs(ws(r,function(t,e){if(typeof t!="string")throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))}function Qc(r,t){r=ho(r).substr(1),t=ho(t).substr(1);function e(h){for(var f=0;f<h.length&&h[f]==="";f++);for(var w=h.length-1;w>=0&&h[w]==="";w--);return f>w?[]:h.slice(f,w-f+1)}for(var n=e(r.split("/")),o=e(t.split("/")),i=Math.min(n.length,o.length),s=i,a=0;a<i;a++)if(n[a]!==o[a]){s=a;break}for(var u=[],a=s;a<n.length;a++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")}var Wc="/",Zc=":";function Pc(r){var t=ds(r),e=t[0],n=t[1];return!e&&!n?".":(n&&(n=n.substr(0,n.length-1)),e+n)}function Kc(r,t){var e=ds(r)[2];return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e}function $c(r){return ds(r)[3]}var n0={extname:$c,basename:Kc,dirname:Pc,sep:Wc,delimiter:Zc,relative:Qc,join:zc,isAbsolute:ps,normalize:fs,resolve:ho};function ws(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}var r0="ab".substr(-1)==="b"?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)},o0=Object.freeze({__proto__:null,resolve:ho,normalize:fs,isAbsolute:ps,join:zc,relative:Qc,sep:Wc,delimiter:Zc,dirname:Pc,basename:Kc,extname:$c,default:n0}),Zr;function Yc(){if(typeof Zr>"u"){var r=new ArrayBuffer(2),t=new Uint8Array(r),e=new Uint16Array(r);if(t[0]=1,t[1]=2,e[0]===258)Zr="BE";else if(e[0]===513)Zr="LE";else throw new Error("unable to figure out endianess")}return Zr}function Hc(){return typeof $t.location<"u"?$t.location.hostname:""}function Gc(){return[]}function Jc(){return 0}function Xc(){return Number.MAX_VALUE}function qc(){return Number.MAX_VALUE}function el(){return[]}function tl(){return"Browser"}function nl(){return typeof $t.navigator<"u"?$t.navigator.appVersion:""}function rl(){}function ol(){}function i0(){return"javascript"}function s0(){return"browser"}function gs(){return"/tmp"}var il=gs,sl=`
`,a0={EOL:sl,tmpdir:il,tmpDir:gs,networkInterfaces:rl,getNetworkInterfaces:ol,release:nl,type:tl,cpus:el,totalmem:qc,freemem:Xc,uptime:Jc,loadavg:Gc,hostname:Hc,endianness:Yc},c0=Object.freeze({__proto__:null,endianness:Yc,hostname:Hc,loadavg:Gc,uptime:Jc,freemem:Xc,totalmem:qc,cpus:el,type:tl,release:nl,networkInterfaces:rl,getNetworkInterfaces:ol,arch:i0,platform:s0,tmpDir:gs,tmpdir:il,EOL:sl,default:a0}),l0=hs(e0),al=hs(o0),u0=hs(c0);function cl(r){console.log(`[dotenv][DEBUG] ${r}`)}const h0=`
`,d0=/^\s*([\w.-]+)\s*=\s*(.*)?\s*$/,f0=/\\n/g,p0=/\r\n|\n|\r/;function ll(r,t){const e=Boolean(t&&t.debug),n={};return r.toString().split(p0).forEach(function(o,i){const s=o.match(d0);if(s!=null){const a=s[1];let u=s[2]||"";const h=u.length-1,f=u[0]==='"'&&u[h]==='"';u[0]==="'"&&u[h]==="'"||f?(u=u.substring(1,h),f&&(u=u.replace(f0,h0))):u=u.trim(),n[a]=u}else e&&cl(`did not match key and value when parsing line ${i+1}: ${o}`)}),n}function w0(r){return r[0]==="~"?al.join(u0.homedir(),r.slice(1)):r}function g0(r){let t=al.resolve(Yr.cwd(),".env"),e="utf8",n=!1;r&&(r.path!=null&&(t=w0(r.path)),r.encoding!=null&&(e=r.encoding),r.debug!=null&&(n=!0));try{const o=ll(l0.readFileSync(t,{encoding:e}),{debug:n});return Object.keys(o).forEach(function(i){Object.prototype.hasOwnProperty.call(Yr.env,i)?n&&cl(`"${i}" is already defined in \`{}\` and will not be overwritten`):Yr.env[i]=o[i]}),{parsed:o}}catch(o){return{error:o}}}var y0=g0,m0=ll,E0={config:y0,parse:m0};E0.config();class _0{constructor({appId:t,ethereum:e,solana:n,aptos:o}){e&&(this.ethereum=new wp({...e,appId:t})),n&&(this.solana=new Jp({...n,appId:t})),o&&(this.aptos=new Xp({...o,appId:t}))}}const b0="Blocto",v0={[Gr.Mainnet]:1,[Gr.Testnet]:2};class S0 extends ot{constructor({network:e,timeout:n=1e4,bloctoAppId:o=""}={network:Gr.Mainnet}){super();E(this,"name",b0);E(this,"url","https://portto.com/download");E(this,"icon","https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/blocto.svg");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");const i=new _0({aptos:{chainId:v0[e]},appId:o});this._provider=i.aptos,this._network=e,this._timeout=n,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>window?(this._readyState=V.Installed,!0):!1)}get publicAccount(){var e,n,o,i;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null,minKeysRequired:(i=this._wallet)==null?void 0:i.minKeysRequired}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const e=this._provider;await(e==null?void 0:e.isConnected())&&await(e==null?void 0:e.disconnect());const{publicKey:o,...i}=await(e==null?void 0:e.connect());this._wallet={...i,publicKey:o,isConnected:!0};const{api:s,chainId:a}=await e.network();this._api=s,this._chainId=a,this.emit("connect",this._wallet)}catch(e){throw this.emit("error",e),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet,n=this._provider;if(e){this._wallet=null;try{await(n==null?void 0:n.disconnect())}catch(o){this.emit("error",new rt(o==null?void 0:o.message,o))}}this.emit("disconnect")}async signTransaction(e){try{try{const n=this._provider;if(await(n==null?void 0:n.signTransaction(e)))return new Uint8Array([]);throw new Error("Transaction failed")}catch(n){throw new Xe(n==null?void 0:n.message,n)}}catch(n){throw this.emit("error",n),n}}async signAndSubmitTransaction(e){try{try{const n=this._provider,o=await(n==null?void 0:n.signAndSubmitTransaction(e));if(o)return{hash:o.hash};throw new Error("Transaction failed")}catch(n){throw new pt(n.message||n)}}catch(n){throw this.emit("error",n),n}}async signMessage(e){try{const n=this._provider,o=await(n==null?void 0:n.signMessage(e));if(o)return o;throw new Error("Sign Message failed")}catch(n){const o=n.message;throw this.emit("error",new Me(o)),n}}async onAccountChange(){try{const e=this._wallet,n=this._provider;if(!e||!n)throw new W}catch(e){const n=e.message;throw this.emit("error",new dt(n)),e}}async onNetworkChange(){try{const e=this._wallet,n=this._provider;if(!e||!n)throw new W}catch(e){const n=e.message;throw this.emit("error",new ft(n)),e}}}const M0="OKX";class x0 extends ot{constructor({timeout:e=1e4}={}){var n;super();E(this,"name",M0);E(this,"url","https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge");E(this,"icon","https://lh3.googleusercontent.com/sO4GPPbgvTCXEFWp-uALYYju9vxVOr5YSr2jqRAclNFSq8FrAIVTQOYmpJV4kMuDM1ZazcgUdjNGLIGKpmMRvR3NzQ=w128-h128-e365-rj-sc0x00ffffff");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?(n=window.okxwallet)==null?void 0:n.aptos:void 0,this._network=void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>{var o;return(o=window.okxwallet)!=null&&o.aptos?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const n=this._provider||((e=window.okxwallet)==null?void 0:e.aptos);let o=await(n==null?void 0:n.connect());typeof o=="boolean"&&(o=await(n==null?void 0:n.account())),this._wallet={address:o==null?void 0:o.address,publicKey:o==null?void 0:o.publicKey,isConnected:!0};try{const i=await(n==null?void 0:n.network()),s=null,a=null;this._network=i,this._chainId=s,this._api=a}catch(i){const s=i.message;throw this.emit("error",new Tt(s)),i}this.emit("connect",this._wallet.publicKey)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){var o;const e=this._wallet,n=this._provider||((o=window.okxwallet)==null?void 0:o.aptos);if(e){this._wallet=null;try{await(n==null?void 0:n.disconnect())}catch(i){this.emit("error",new rt(i==null?void 0:i.message,i))}}this.emit("disconnect")}async signTransaction(e,n){var o;try{const i=this._wallet,s=this._provider||((o=window.okxwallet)==null?void 0:o.aptos);if(!i||!s)throw new W;const a=await s.signTransaction(e,n);if(a.code)throw new Error(a.message);return a}catch(i){const s=i.message;throw this.emit("error",new Xe(s)),i}}async signAndSubmitTransaction(e,n){var o;try{const i=this._wallet,s=this._provider||((o=window.okxwallet)==null?void 0:o.aptos);if(!i||!s)throw new W;const a=await s.signAndSubmitTransaction(e,n);if(a.code)throw new Error(a.message);return a}catch(i){const s=i.message;throw this.emit("error",new pt(s)),i}}async signMessage(e){var n;try{const o=this._wallet,i=this._provider||((n=window.okxwallet)==null?void 0:n.aptos);if(!o||!i)throw new W;if(typeof e!="object"||!e.nonce)throw new Me("Invalid signMessage Payload");const s=await(i==null?void 0:i.signMessage(e));if(s)return s;throw new Error("Sign Message failed")}catch(o){const i=o.message;throw this.emit("error",new Me(i)),o}}async onAccountChange(){var e;try{const n=this._wallet,o=this._provider||((e=window.okxwallet)==null?void 0:e.aptos);if(!n||!o)throw new W;const i=async s=>{var a,u,h,f;if(s!=null&&s.publicKey)this._wallet={...this._wallet,publicKey:s.publicKey||((a=this._wallet)==null?void 0:a.publicKey),address:s.address||((u=this._wallet)==null?void 0:u.address)};else{const w=await(o==null?void 0:o.connect());this._wallet={...this._wallet,address:(w==null?void 0:w.address)||((h=this._wallet)==null?void 0:h.address),publicKey:(w==null?void 0:w.publicKey)||((f=this._wallet)==null?void 0:f.publicKey)}}this.emit("accountChange",s.publicKey)};o.on("accountChange",i)}catch(n){const o=n.message;throw this.emit("error",new dt(o)),n}}async onNetworkChange(){var e;try{const n=this._wallet,o=this._provider||((e=window.okxwallet)==null?void 0:e.aptos);if(!n||!o)throw new W}catch(n){const o=n.message;throw this.emit("error",new ft(o)),n}}}const I0="TokenPocket";class A0 extends ot{constructor({timeout:e=1e4}={}){super();E(this,"name",I0);E(this,"url","https://tokenpocket.pro");E(this,"icon","https://tp-statics.tokenpocket.pro/logo/tokenpocket.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.aptos:void 0,this._network=void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>{var n;return window.aptos&&((n=window.aptos)==null?void 0:n.isTokenPocket)?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const e=this._provider||window.aptos;await(e==null?void 0:e.isConnected())&&await(e==null?void 0:e.disconnect());const o=await(e==null?void 0:e.connect());if(!o)throw new W("No connect response");this._wallet={address:o==null?void 0:o.address,publicKey:o==null?void 0:o.publicKey,isConnected:!0};try{const i=await(e==null?void 0:e.network()),s=await(e==null?void 0:e.getChainId()),a=await(e==null?void 0:e.getNodeUrl());this._network=i,this._chainId=s,this._api=a}catch(i){const s=i.message;throw this.emit("error",new Tt(s)),i}this.emit("connect",this._wallet.address)}catch(e){throw this.emit("error",new Error(e)),e}finally{this._connecting=!1}}async disconnect(){const e=this._wallet,n=this._provider||window.aptos;if(e){this._wallet=null;try{await(n==null?void 0:n.disconnect())}catch(o){this.emit("error",new rt(o==null?void 0:o.message,o))}}this.emit("disconnect")}async signTransaction(e,n){try{const o=this._wallet,i=this._provider||window.aptos;if(!o||!i)throw new W;const s=await i.signTransaction(e,n);if(!s)throw new Error("No response");return s}catch(o){throw this.emit("error",new Xe(o)),o}}async signAndSubmitTransaction(e,n){try{const o=this._wallet,i=this._provider||window.aptos;if(!o||!i)throw new W;const s=await i.signAndSubmitTransaction(e,n);if(!s)throw new Error("No response");return s}catch(o){throw this.emit("error",new pt(o)),o}}async signMessage(e){try{const n=this._wallet,o=this._provider||window.aptos;if(!n||!o)throw new W;if(typeof e!="object"||!e.nonce)throw new Me("Invalid signMessage Payload");const i=await(o==null?void 0:o.signMessage(e));if(i)return i;throw new Error("Sign Message failed")}catch(n){const o=n.message;throw this.emit("error",new Me(o)),n}}async onNetworkChange(){}async onAccountChange(){}}const T0="BitKeep";class U0 extends ot{constructor({timeout:e=1e4}={}){var n;super();E(this,"name",T0);E(this,"url","https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak");E(this,"icon","https://raw.githubusercontent.com/bitkeepwallet/download/main/logo-png/BitKeep_logo_circle.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?(n=window.bitkeep)==null?void 0:n.aptos:void 0,this._network=void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>{var o;return(o=window.bitkeep)!=null&&o.aptos?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1})}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const n=this._provider||((e=window.bitkeep)==null?void 0:e.aptos),o=await(n==null?void 0:n.connect());this._wallet={address:o==null?void 0:o.address,publicKey:o==null?void 0:o.publicKey,isConnected:!0};try{const i=await(n==null?void 0:n.network()),s=null,a=null;this._network=i,this._chainId=s,this._api=a}catch(i){const s=i.message;throw this.emit("error",new Tt(s)),i}this.emit("connect",this._wallet.publicKey)}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){var o;const e=this._wallet,n=this._provider||((o=window.bitkeep)==null?void 0:o.aptos);if(e){this._wallet=null;try{await(n==null?void 0:n.disconnect())}catch(i){this.emit("error",new rt(i==null?void 0:i.message,i))}}this.emit("disconnect")}async signTransaction(e,n){var o;try{const i=this._wallet,s=this._provider||((o=window.bitkeep)==null?void 0:o.aptos);if(!i||!s)throw new W;const a=await s.signTransaction(e,n);if(a.code)throw new Error(a.message);return a}catch(i){const s=i.message;throw this.emit("error",new Xe(s)),i}}async signAndSubmitTransaction(e,n){var o;try{const i=this._wallet,s=this._provider||((o=window.bitkeep)==null?void 0:o.aptos);if(!i||!s)throw new W;const a=await s.signAndSubmitTransaction(e,n);if(a.code)throw new Error(a.message);return a}catch(i){const s=i.message;throw this.emit("error",new pt(s)),i}}async signMessage(e){var n;try{const o=this._wallet,i=this._provider||((n=window.bitkeep)==null?void 0:n.aptos);if(!o||!i)throw new W;if(typeof e!="object"||!e.nonce)throw new Me("Invalid signMessage Payload");const s=await(i==null?void 0:i.signMessage(e));if(s)return s;throw new Error("Sign Message failed")}catch(o){const i=o.message;throw this.emit("error",new Me(i)),o}}async onAccountChange(){var e;try{const n=this._wallet,o=this._provider||((e=window.bitkeep)==null?void 0:e.aptos);if(!n||!o)throw new W;const i=async s=>{var a,u,h;this._wallet={...this._wallet,publicKey:s.publicKey||((a=this._wallet)==null?void 0:a.publicKey),authKey:s.authKey||((u=this._wallet)==null?void 0:u.authKey),address:s.address||((h=this._wallet)==null?void 0:h.address)},this.emit("accountChange",s.publicKey)};await(o==null?void 0:o.onAccountChange(i))}catch(n){const o=n.message;throw this.emit("error",new dt(o)),n}}async onNetworkChange(){var e;try{const n=this._wallet,o=this._provider||((e=window.bitkeep)==null?void 0:e.aptos);if(!n||!o)throw new W;const i=async s=>{this._network=s.networkName,this.emit("networkChange",this._network)};await(o==null?void 0:o.onNetworkChange(i))}catch(n){const o=n.message;throw this.emit("error",new ft(o)),n}}}const k0="Rise Wallet";class N0 extends ot{constructor({timeout:e=1e4}={}){super();E(this,"name",k0);E(this,"url","https://chrome.google.com/webstore/detail/rise-aptos-wallet/hbbgbephgojikajhfbomhlmmollphcad");E(this,"icon","https://static.risewallet.io/logo.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.rise:void 0,this._network=void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>window.rise?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const n=this._provider||window.rise;if(await((e=this._provider)==null?void 0:e.isConnected())===!0&&await(n==null?void 0:n.disconnect()),!await(n==null?void 0:n.connect()))throw new W("User has rejected the request");if(n!=null&&n.network)try{const{chainId:a,api:u,name:h}=await n.network();this._network=h,this._chainId=a,this._api=u}catch(a){const u=a.message;throw this.emit("error",new Tt(u)),a}const s=await(n==null?void 0:n.account());if(s){const{publicKey:a,address:u,authKey:h}=s;this._wallet={publicKey:a,address:u,authKey:h,isConnected:!0},this.emit("connect",this._wallet.publicKey)}}catch(n){throw this.emit("error",n),n}finally{this._connecting=!1}}async disconnect(){if(this._wallet){this._wallet=null;try{const n=this._provider||window.rise;await(n==null?void 0:n.disconnect())}catch(n){this.emit("error",new rt(n==null?void 0:n.message,n))}}this.emit("disconnect")}async signTransaction(e){try{const n=this._wallet,o=this._provider||window.rise;if(!n||!o)throw new W;const i=await(o==null?void 0:o.signTransaction(e));if(i)return i;throw new Error("Sign Transaction failed")}catch(n){const o=n.message;throw this.emit("error",new Xe(o)),n}}async signAndSubmitTransaction(e){try{const n=this._wallet,o=this._provider||window.rise;if(!n||!o)throw new W;const i=await(o==null?void 0:o.signAndSubmitTransaction(e));if(i)return i;throw new Error("Transaction failed")}catch(n){const o=n.message;throw this.emit("error",new Xe(o)),n}}async signMessage(e){try{const n=this._wallet,o=this._provider||window.rise;if(!n||!o)throw new W;if(typeof e!="object"||!e.nonce)throw new Me("Invalid signMessage Payload");const i=await(o==null?void 0:o.signMessage(e));if(i)return i;throw new Error("Sign Message failed")}catch(n){const o=n.message;throw this.emit("error",new Me(o)),n}}async onAccountChange(){try{const e=this._wallet,n=this._provider||window.rise;if(!e||!n)throw new W}catch(e){const n=e.message;throw this.emit("error",new dt(n)),e}}async onNetworkChange(){try{const e=this._wallet,n=this._provider||window.rise;if(!e||!n)throw new W}catch(e){const n=e.message;throw this.emit("error",new ft(n)),e}}}const B0="OpenBlock";class F0 extends ot{constructor({timeout:e=1e4}={}){var n;super();E(this,"name",B0);E(this,"url","https://openblock.com/");E(this,"icon","https://obstatic.243096.com/download/dapp/sdk/images/logo_blue.svg");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?(n=window.openblock)==null?void 0:n.aptos:void 0,this._network=void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&(Nl(()=>import("./index.c4e29898.js").then(o=>o.i),["index.c4e29898.js","entry.08a0731d.js","entry.4bc0a35f.css"],import.meta.url),wt(()=>{var o;return(o=window.openblock)!=null&&o.aptos?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1}))}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e,n;try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const o=this._provider||((e=window==null?void 0:window.openblock)==null?void 0:e.aptos);await((n=this._provider)==null?void 0:n.isConnected())===!0&&await(o==null?void 0:o.disconnect());const s=await(o==null?void 0:o.connect());if(s.address){this._wallet={address:s==null?void 0:s.address,publicKey:s==null?void 0:s.publicKey,isConnected:!0};const a=await(o==null?void 0:o.network());this._network=a.name,this._chainId=a.chainId,this._api=a.api}else throw new Error("failed to connect");this.emit("connect",this._wallet.publicKey)}catch(o){throw this.emit("error",o),o}finally{this._connecting=!1}}async disconnect(){var o;const e=this._wallet,n=this._provider||((o=window==null?void 0:window.openblock)==null?void 0:o.aptos);if(e){this._wallet=null;try{await(n==null?void 0:n.disconnect())}catch(i){this.emit("error",new rt(i==null?void 0:i.message,i))}}this.emit("disconnect")}async signTransaction(e){var n;try{const o=this._wallet,i=this._provider||((n=window==null?void 0:window.openblock)==null?void 0:n.aptos);if(!o||!i)throw new W;const s=await i.signTransaction(e);if(s)return new TextEncoder().encode(s);throw new Error("failed to SignTransaction")}catch(o){const i=o.message;throw this.emit("error",new Xe(i)),o}}async signAndSubmitTransaction(e){var n;try{const o=this._wallet,i=this._provider||((n=window==null?void 0:window.openblock)==null?void 0:n.aptos);if(!o||!i)throw new W;const s=await i.signAndSubmitTransaction(e);if(s)return s;throw new Error("Failed to SignAndSubmitTransaction")}catch(o){const i=o.message;throw this.emit("error",new pt(i)),o}}async signMessage(e){var n;try{const o=this._wallet,i=this._provider||((n=window==null?void 0:window.openblock)==null?void 0:n.aptos);if(!o||!i)throw new W;if(typeof e!="object"||!e.nonce)throw new Me("Invalid signMessage Payload");const s=await(i==null?void 0:i.signMessage(e));if(s)return s;throw new Error("Failed to signMessage")}catch(o){const i=o.message;throw this.emit("error",new Me(i)),o}}async onAccountChange(){var e;try{const n=this._wallet,o=this._provider||((e=window==null?void 0:window.openblock)==null?void 0:e.aptos);if(!n||!o)throw new W;const i=async s=>{var a,u,h;this._wallet={...this._wallet,publicKey:s.publicKey||((a=this._wallet)==null?void 0:a.publicKey),authKey:s.authKey||((u=this._wallet)==null?void 0:u.authKey),address:s.address||((h=this._wallet)==null?void 0:h.address)},this.emit("accountChange",s.publicKey)};o==null||o.onAccountChange(i)}catch(n){const o=n.message;throw this.emit("error",new dt(o)),n}}async onNetworkChange(){var e;try{const n=this._wallet,o=this._provider||((e=window==null?void 0:window.openblock)==null?void 0:e.aptos);if(!n||!o)throw new W;const i=async s=>{this._network=s.name,this._api=s.api,this._chainId=s.chainId,this.emit("networkChange",this._network)};o==null||o.onNetworkChange(i)}catch(n){const o=n.message;throw this.emit("error",new ft(o)),n}}}const D0="MSafe";class R0 extends ot{constructor(e){super();E(this,"name",D0);E(this,"icon","https://raw.githubusercontent.com/hippospace/aptos-wallet-adapter/main/logos/msafe.png");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_readyState",Vo.inMSafeWallet()?V.NotDetected:V.Unsupported);E(this,"_connecting");E(this,"_wallet");E(this,"_origin");this._network=void 0,this._connecting=!1,this._origin=e,this._readyState===V.NotDetected&&Vo.new(e).then(n=>{this._provider=n,this._readyState=V.Installed,this.emit("readyStateChange",this._readyState)}).catch(n=>{this._readyState=V.Unsupported,this.emit("readyStateChange",this._readyState),console.error("MSafe connect error:",n)})}get url(){return Vo.getAppUrl(this._origin instanceof Array?this._origin[0]:this._origin)}get publicAccount(){var e,n,o,i;return{publicKey:(e=this._wallet)==null?void 0:e.publicKey,address:(n=this._wallet)==null?void 0:n.address,authKey:(o=this._wallet)==null?void 0:o.authKey,minKeysRequired:(i=this._wallet)==null?void 0:i.minKeysRequired}}get network(){return{name:this._network,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const n=this._provider;if(await(n==null?void 0:n.isConnected())&&await(n==null?void 0:n.disconnect()),!await(n==null?void 0:n.connect()))throw new W("No connect response");const s=await(n==null?void 0:n.account());if(s){this._wallet={...s,isConnected:!0};try{const a=await(n==null?void 0:n.network()),u=await(n==null?void 0:n.chainId());this._network=a,this._chainId=u.toString()}catch(a){const u=a.message;throw this.emit("error",new Tt(u)),a}}this.emit("connect",((e=this._wallet)==null?void 0:e.address)||"")}catch(n){throw this.emit("error",new Error(n)),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet,n=this._provider;if(e){this._wallet=null;try{await(n==null?void 0:n.disconnect())}catch(o){this.emit("error",new rt(o==null?void 0:o.message,o))}}this.emit("disconnect")}async signTransaction(e,n){try{const o=this._wallet,i=this._provider;if(!o||!i)throw new W;const s=await i.signTransaction(e,n);if(!s)throw new Error("No response");return s}catch(o){throw this.emit("error",new Xe(o)),o}}async signAndSubmitTransaction(e,n){try{const o=this._wallet,i=this._provider;if(!o||!i)throw new W;const s=await i.signAndSubmit(e,n);if(!s)throw new Error("No response");return{hash:Bl.fromUint8Array(s).hex()}}catch(o){throw this.emit("error",new pt(o)),o}}async signMessage(e){try{const n=this._wallet,o=this._provider;if(!n||!o)throw new W;const i=await o.signMessage(e);if(i)return i;throw new Error("Sign Message failed")}catch(n){const o=n.message;throw this.emit("error",new Me(o)),n}}async onAccountChange(){try{const e=this._wallet,n=this._provider;if(!e||!n)throw new W;const o=async i=>{this._wallet={...this._wallet,...i},this.emit("accountChange",i.address)};n.onChangeAccount(o)}catch(e){const n=e.message;throw this.emit("error",new dt(n)),e}}async onNetworkChange(){try{const e=this._wallet,n=this._provider;if(!e||!n)throw new W;const o=async i=>{this._network=i,this._chainId=(await this._provider.chainId()).toString(),this.emit("networkChange",this._network)};n.onChangeNetwork(o)}catch(e){const n=e.message;throw this.emit("error",new ft(n)),e}}}const C0="Spacecy";class O0 extends ot{constructor({timeout:e=1e4}={}){super();E(this,"name",C0);E(this,"url","https://chrome.google.com/webstore/detail/spacecy-wallet/mkchoaaiifodcflmbaphdgeidocajadp");E(this,"icon","https://spacecywallet.com/favicon.ico");E(this,"_provider");E(this,"_network");E(this,"_chainId");E(this,"_api");E(this,"_timeout");E(this,"_readyState",typeof window>"u"||typeof document>"u"?V.Unsupported:V.NotDetected);E(this,"_connecting");E(this,"_wallet");this._provider=typeof window<"u"?window.spacecy:void 0,this._network=void 0,this._timeout=e,this._connecting=!1,this._wallet=null,typeof window<"u"&&this._readyState!==V.Unsupported&&wt(()=>window.spacecy?(this._readyState=V.Installed,this.emit("readyStateChange",this._readyState),!0):!1)}get publicAccount(){var e,n,o;return{publicKey:((e=this._wallet)==null?void 0:e.publicKey)||null,address:((n=this._wallet)==null?void 0:n.address)||null,authKey:((o=this._wallet)==null?void 0:o.authKey)||null}}get network(){return{name:this._network,api:this._api,chainId:this._chainId}}get connecting(){return this._connecting}get connected(){var e;return!!((e=this._wallet)!=null&&e.isConnected)}get readyState(){return this._readyState}async connect(){var e;try{if(this.connected||this.connecting)return;if(!(this._readyState===V.Loadable||this._readyState===V.Installed))throw new nt;this._connecting=!0;const n=this._provider||window.spacecy,o=await(n==null?void 0:n.connect());if(!o)throw new W("No connect response");const i=o.data.address,s=o.data.publicKey;if(i){this._wallet={address:i,publicKey:s,isConnected:!0};try{const a=await(n==null?void 0:n.chainId());a&&(this._network=a.data.networkName,this._chainId=a.data.chainId,this._api=a.data.rpcProvider)}catch(a){const u=a.message;throw this.emit("error",new Tt(u)),a}}this.emit("connect",((e=this._wallet)==null?void 0:e.address)||"")}catch(n){throw this.emit("error",new Error("User has rejected the connection")),n}finally{this._connecting=!1}}async disconnect(){const e=this._wallet,n=this._provider||window.spacecy;if(e){this._wallet=null;try{await(n==null?void 0:n.disconnect())}catch(o){this.emit("error",new rt(o==null?void 0:o.message,o))}}this.emit("disconnect")}async signTransaction(e,n){try{const o=this._wallet,i=this._provider||window.spacecy;if(!o||!i)throw new W;const s=await i.generateTransaction(o.address||"",e,n);if(!s)throw new Error("Cannot generate transaction");const a=await(i==null?void 0:i.signTransaction(s.data));if(!a)throw new Error("No response");return a.data}catch(o){throw this.emit("error",new Xe(o)),o}}async signAndSubmitTransaction(e,n){try{const o=this._wallet,i=this._provider||window.spacecy;if(!o||!i)throw new W;const s=await(i==null?void 0:i.signAndSubmitTransaction(e,n));if(!s||s.status!=200)throw new Error("No response");return{hash:s.data}}catch(o){throw this.emit("error",new pt(o.message)),o}}async signMessage(e){try{const n=this._wallet,o=this._provider||window.spacecy;if(!n||!o)throw new W;if(typeof e!="object"||!e.nonce)throw new Me("Invalid signMessage Payload");const i=await(o==null?void 0:o.signMessage(e));if(i.status==200)return i.data;throw new Error("Sign Message failed")}catch(n){const o=n.message;throw this.emit("error",new Me(o)),n}}async onAccountChange(){try{const e=this._wallet,n=this._provider||window.spacecy;if(!e||!n)throw new W;const o=async i=>{if(i.data=="no account"){this.connected&&await this.disconnect();return}i.data==""&&(this._wallet={publicKey:"",address:"",authKey:"",isConnected:!1}),this._wallet!=null&&(this._wallet={...this._wallet,address:i.data=="no account"?void 0:i.data,publicKey:void 0}),this.emit("accountChange",i)};await(n==null?void 0:n.onAccountChange(o))}catch(e){const n=e.message;throw this.emit("error",new dt(n)),e}}async onNetworkChange(){try{const e=this._wallet,n=this._provider||window.spacecy;if(!e||!n)throw new W;const o=i=>{this._network=i.data.networkName,this._api=i.data.rpcProvider,this._chainId=i.data.chainId,this._network&&this.emit("networkChange",this._network)};await(n==null?void 0:n.onNetworkChange(o))}catch(e){const n=e.message;throw this.emit("error",new ft(n)),e}}}function Ge(){/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */Ge=function(){return r};var r={},t=Object.prototype,e=t.hasOwnProperty,n=typeof Symbol=="function"?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",s=n.toStringTag||"@@toStringTag";function a(R,B,Y){return Object.defineProperty(R,B,{value:Y,enumerable:!0,configurable:!0,writable:!0}),R[B]}try{a({},"")}catch{a=function(B,Y,te){return B[Y]=te}}function u(R,B,Y,te){var G=B&&B.prototype instanceof w?B:w,xe=Object.create(G.prototype),Ce=new O(te||[]);return xe._invoke=function(st,Mt,fe){var He="suspendedStart";return function(pe,Ve){if(He==="executing")throw new Error("Generator is already running");if(He==="completed"){if(pe==="throw")throw Ve;return ie()}for(fe.method=pe,fe.arg=Ve;;){var lr=fe.delegate;if(lr){var On=z(lr,fe);if(On){if(On===f)continue;return On}}if(fe.method==="next")fe.sent=fe._sent=fe.arg;else if(fe.method==="throw"){if(He==="suspendedStart")throw He="completed",fe.arg;fe.dispatchException(fe.arg)}else fe.method==="return"&&fe.abrupt("return",fe.arg);He="executing";var Yt=h(st,Mt,fe);if(Yt.type==="normal"){if(He=fe.done?"completed":"suspendedYield",Yt.arg===f)continue;return{value:Yt.arg,done:fe.done}}Yt.type==="throw"&&(He="completed",fe.method="throw",fe.arg=Yt.arg)}}}(R,Y,Ce),xe}function h(R,B,Y){try{return{type:"normal",arg:R.call(B,Y)}}catch(te){return{type:"throw",arg:te}}}r.wrap=u;var f={};function w(){}function y(){}function g(){}var _={};a(_,o,function(){return this});var b=Object.getPrototypeOf,M=b&&b(b(H([])));M&&M!==t&&e.call(M,o)&&(_=M);var U=g.prototype=w.prototype=Object.create(_);function k(R){["next","throw","return"].forEach(function(B){a(R,B,function(Y){return this._invoke(B,Y)})})}function x(R,B){function Y(G,xe,Ce,st){var Mt=h(R[G],R,xe);if(Mt.type!=="throw"){var fe=Mt.arg,He=fe.value;return He&&fo(He)=="object"&&e.call(He,"__await")?B.resolve(He.__await).then(function(pe){Y("next",pe,Ce,st)},function(pe){Y("throw",pe,Ce,st)}):B.resolve(He).then(function(pe){fe.value=pe,Ce(fe)},function(pe){return Y("throw",pe,Ce,st)})}st(Mt.arg)}var te;this._invoke=function(G,xe){function Ce(){return new B(function(st,Mt){Y(G,xe,st,Mt)})}return te=te?te.then(Ce,Ce):Ce()}}function z(R,B){var Y=R.iterator[B.method];if(Y===void 0){if(B.delegate=null,B.method==="throw"){if(R.iterator.return&&(B.method="return",B.arg=void 0,z(R,B),B.method==="throw"))return f;B.method="throw",B.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var te=h(Y,R.iterator,B.arg);if(te.type==="throw")return B.method="throw",B.arg=te.arg,B.delegate=null,f;var G=te.arg;return G?G.done?(B[R.resultName]=G.value,B.next=R.nextLoc,B.method!=="return"&&(B.method="next",B.arg=void 0),B.delegate=null,f):G:(B.method="throw",B.arg=new TypeError("iterator result is not an object"),B.delegate=null,f)}function A(R){var B={tryLoc:R[0]};1 in R&&(B.catchLoc=R[1]),2 in R&&(B.finallyLoc=R[2],B.afterLoc=R[3]),this.tryEntries.push(B)}function j(R){var B=R.completion||{};B.type="normal",delete B.arg,R.completion=B}function O(R){this.tryEntries=[{tryLoc:"root"}],R.forEach(A,this),this.reset(!0)}function H(R){if(R){var B=R[o];if(B)return B.call(R);if(typeof R.next=="function")return R;if(!isNaN(R.length)){var Y=-1,te=function G(){for(;++Y<R.length;)if(e.call(R,Y))return G.value=R[Y],G.done=!1,G;return G.value=void 0,G.done=!0,G};return te.next=te}}return{next:ie}}function ie(){return{value:void 0,done:!0}}return y.prototype=g,a(U,"constructor",g),a(g,"constructor",y),y.displayName=a(g,s,"GeneratorFunction"),r.isGeneratorFunction=function(R){var B=typeof R=="function"&&R.constructor;return!!B&&(B===y||(B.displayName||B.name)==="GeneratorFunction")},r.mark=function(R){return Object.setPrototypeOf?Object.setPrototypeOf(R,g):(R.__proto__=g,a(R,s,"GeneratorFunction")),R.prototype=Object.create(U),R},r.awrap=function(R){return{__await:R}},k(x.prototype),a(x.prototype,i,function(){return this}),r.AsyncIterator=x,r.async=function(R,B,Y,te,G){G===void 0&&(G=Promise);var xe=new x(u(R,B,Y,te),G);return r.isGeneratorFunction(B)?xe:xe.next().then(function(Ce){return Ce.done?Ce.value:xe.next()})},k(U),a(U,s,"Generator"),a(U,o,function(){return this}),a(U,"toString",function(){return"[object Generator]"}),r.keys=function(R){var B=[];for(var Y in R)B.push(Y);return B.reverse(),function te(){for(;B.length;){var G=B.pop();if(G in R)return te.value=G,te.done=!1,te}return te.done=!0,te}},r.values=H,O.prototype={constructor:O,reset:function(R){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!R)for(var B in this)B.charAt(0)==="t"&&e.call(this,B)&&!isNaN(+B.slice(1))&&(this[B]=void 0)},stop:function(){this.done=!0;var R=this.tryEntries[0].completion;if(R.type==="throw")throw R.arg;return this.rval},dispatchException:function(R){if(this.done)throw R;var B=this;function Y(Mt,fe){return xe.type="throw",xe.arg=R,B.next=Mt,fe&&(B.method="next",B.arg=void 0),!!fe}for(var te=this.tryEntries.length-1;te>=0;--te){var G=this.tryEntries[te],xe=G.completion;if(G.tryLoc==="root")return Y("end");if(G.tryLoc<=this.prev){var Ce=e.call(G,"catchLoc"),st=e.call(G,"finallyLoc");if(Ce&&st){if(this.prev<G.catchLoc)return Y(G.catchLoc,!0);if(this.prev<G.finallyLoc)return Y(G.finallyLoc)}else if(Ce){if(this.prev<G.catchLoc)return Y(G.catchLoc,!0)}else{if(!st)throw new Error("try statement without catch or finally");if(this.prev<G.finallyLoc)return Y(G.finallyLoc)}}}},abrupt:function(R,B){for(var Y=this.tryEntries.length-1;Y>=0;--Y){var te=this.tryEntries[Y];if(te.tryLoc<=this.prev&&e.call(te,"finallyLoc")&&this.prev<te.finallyLoc){var G=te;break}}G&&(R==="break"||R==="continue")&&G.tryLoc<=B&&B<=G.finallyLoc&&(G=null);var xe=G?G.completion:{};return xe.type=R,xe.arg=B,G?(this.method="next",this.next=G.finallyLoc,f):this.complete(xe)},complete:function(R,B){if(R.type==="throw")throw R.arg;return R.type==="break"||R.type==="continue"?this.next=R.arg:R.type==="return"?(this.rval=this.arg=R.arg,this.method="return",this.next="end"):R.type==="normal"&&B&&(this.next=B),f},finish:function(R){for(var B=this.tryEntries.length-1;B>=0;--B){var Y=this.tryEntries[B];if(Y.finallyLoc===R)return this.complete(Y.completion,Y.afterLoc),j(Y),f}},catch:function(R){for(var B=this.tryEntries.length-1;B>=0;--B){var Y=this.tryEntries[B];if(Y.tryLoc===R){var te=Y.completion;if(te.type==="throw"){var G=te.arg;j(Y)}return G}}throw new Error("illegal catch attempt")},delegateYield:function(R,B,Y){return this.delegate={iterator:H(R),resultName:B,nextLoc:Y},this.method==="next"&&(this.arg=void 0),f}},r}function la(r,t,e,n,o,i,s){try{var a=r[i](s),u=a.value}catch(h){return void e(h)}a.done?t(u):Promise.resolve(u).then(n,o)}function wn(r){return function(){var t=this,e=arguments;return new Promise(function(n,o){var i=r.apply(t,e);function s(u){la(i,n,o,s,a,"next",u)}function a(u){la(i,n,o,s,a,"throw",u)}s(void 0)})}}function j0(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Pr(r,t,e){return t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function fo(r){return fo=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fo(r)}function gn(r,t,e,n){var o,i=arguments.length,s=i<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,e):n;if((typeof Reflect>"u"?"undefined":fo(Reflect))==="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(r,t,e,n);else for(var a=r.length-1;a>=0;a--)(o=r[a])&&(s=(i<3?o(s):i>3?o(t,e,s):o(t,e))||s);return i>3&&s&&Object.defineProperty(t,e,s),s}var po;(function(r){r.VIEW_ACCOUNT="viewAccount",r.SUGGEST_TX="suggestTransactions"})(po||(po={}));var en=function(){function r(){(function(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")})(this,r),Pr(this,"name","Suiet"),Pr(this,"connecting",!1),Pr(this,"connected",!1),Pr(this,"wallet",null)}var t,e,n,o,i,s,a,u,h;return t=r,e=[{key:"connect",value:(h=wn(Ge().mark(function f(){var w,y;return Ge().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return w=this.wallet,g.next=3,w.connect([po.VIEW_ACCOUNT,po.SUGGEST_TX]);case 3:if(y=g.sent,this.checkError(y,"connection"),y.data!==!1){g.next=7;break}throw new Error("User rejected to connect");case 7:case"end":return g.stop()}},f,this)})),function(){return h.apply(this,arguments)})},{key:"disconnect",value:(u=wn(Ge().mark(function f(){var w;return Ge().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return w=this.wallet,y.next=3,w.disconnect();case 3:case"end":return y.stop()}},f,this)})),function(){return u.apply(this,arguments)})},{key:"getAccounts",value:(a=wn(Ge().mark(function f(){var w,y;return Ge().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return w=this.wallet,g.next=3,w.getAccounts();case 3:return y=g.sent,this.checkError(y,"getAccounts"),this.checkDataIsNull(y,"getAccounts"),g.abrupt("return",y.data);case 7:case"end":return g.stop()}},f,this)})),function(){return a.apply(this,arguments)})},{key:"executeMoveCall",value:(s=wn(Ge().mark(function f(w){var y,g;return Ge().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return y=this.wallet,_.next=3,y.executeMoveCall(w);case 3:return g=_.sent,this.checkError(g,"executeMoveCall"),this.checkDataIsNull(g,"executeMoveCall"),_.abrupt("return",g.data);case 7:case"end":return _.stop()}},f,this)})),function(f){return s.apply(this,arguments)})},{key:"executeSerializedMoveCall",value:(i=wn(Ge().mark(function f(w){var y,g;return Ge().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return y=this.wallet,_.next=3,y.executeSerializedMoveCall(w);case 3:return g=_.sent,this.checkError(g,"executeSerializedMoveCall"),this.checkDataIsNull(g,"executeSerializedMoveCall"),_.abrupt("return",g.data);case 7:case"end":return _.stop()}},f,this)})),function(f){return i.apply(this,arguments)})},{key:"signMessage",value:(o=wn(Ge().mark(function f(w){var y,g;return Ge().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return y=this.wallet,_.next=3,y.signMessage(w);case 3:return g=_.sent,this.checkError(g,"signMessage"),this.checkDataIsNull(g,"signMessage"),_.abrupt("return",g.data);case 7:case"end":return _.stop()}},f,this)})),function(f){return o.apply(this,arguments)})},{key:"getPublicKey",value:(n=wn(Ge().mark(function f(){var w,y;return Ge().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return w=this.wallet,g.next=3,w.getPublicKey();case 3:return y=g.sent,this.checkError(y,"getPublicKey"),this.checkDataIsNull(y,"getPublicKey"),g.abrupt("return",y.data);case 7:case"end":return g.stop()}},f,this)})),function(){return n.apply(this,arguments)})},{key:"checkError",value:function(f,w){if(f.error){var y,g,_=(y=(g=f.error)===null||g===void 0?void 0:g.msg)!==null&&y!==void 0?y:"Unknown Error";throw console.error(Mi("".concat(w," failed")),_),new Error(_)}}},{key:"checkDataIsNull",value:function(f,w){if(f.data===null){var y="Response data is null";throw console.error(Mi("".concat(w," failed")),y),new Error(y)}}}],e&&j0(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),r}();function V0(){throw new Error(Mi("You need to install Suiet Extension from Chrome Store firstly!"))}function yn(){return function(r,t,e){var n=e.value;return e.value=function(){if(!window.__suiet__)return V0();r.wallet||(r.wallet=window.__suiet__);for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return n.apply(r,i)},e}}function Mi(r){return"[SUIET_WALLET]: ".concat(r)}gn([yn()],en.prototype,"connect",null),gn([yn()],en.prototype,"disconnect",null),gn([yn()],en.prototype,"getAccounts",null),gn([yn()],en.prototype,"executeMoveCall",null),gn([yn()],en.prototype,"executeSerializedMoveCall",null),gn([yn()],en.prototype,"signMessage",null),gn([yn()],en.prototype,"getPublicKey",null);var L0=class{constructor(){this.name="Sui Wallet (legacy)",this.connected=!1,this.connecting=!1}getAccounts(){return window.suiWallet.getAccounts()}signAndExecuteTransaction(r){return window.suiWallet.signAndExecuteTransaction(r)}async connect(){if(this.connecting=!0,window.suiWallet){const r=window.suiWallet;try{let t=await r.requestPermissions();const e=["viewAccount"];let n=await r.hasPermissions(e);console.log(n),console.log(t),this.connected=!0}catch(t){console.error(t)}finally{this.connecting=!1}}}async disconnect(){this.connected==!0&&(this.connected=!1),console.log("disconnected")}};function ul(){const r=ir(),t=ke(()=>r),e=St(),n=ke(()=>e),o=Ii(),i={Martian:ku,Petra:Tu,Fewcha:Hu,Pontem:Ju,Spika:qu,Blocto:S0,Coin98:th,OKX:x0,TokenPocket:A0,BitKeep:U0,Rise:N0,OpenBlock:F0,Trust:xu,MSafe:new R0("https://app.m-safe.io"),Spacecy:O0},s=[new L0,new en];ke(()=>n.value.chainName==="Sui"?s:i);const a=di({wallet:{}}),u=he(!1),h=he(""),{$notify:f}=Ai();return{account:h,isConnected:u,currentWallet:a,connect:async(g,_,b=n.value.chainName)=>{var k,x,z;r.setSwitchWallet(!1);const M=b==="Sui"?s:i,U=g!=="MSafe"?new M[g]:M[g];if(U){if(r.walletName==U.name)return!1;try{const A=await U.connect();a.wallet=U;let j,O="";if(b==="Sui"){const H=await U.getAccounts();H&&(O=H[0]),j=!!O}else O=((x=(k=a==null?void 0:a.wallet)==null?void 0:k.publicAccount)==null?void 0:x.address)||"",j=(z=a==null?void 0:a.wallet)==null?void 0:z.connected;U&&U.network&&U.network.name&&r.setNetwork(U.network.name),r.setCurrentWallet({wallet:U,isConnected:j,account:O,platform:b,icon:_}),o.getAccount(O),localStorage.setItem(`cetus-${b}-current-wallet`,g),localStorage.setItem(`cetus-${b}-wallet-icon-name`,_),f.success({icon:Te("svg",{class:{icon:!0},"aria-hidden":!0},[Te("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:Te("div",{class:"notification-title"},[Te("span",{innerHTML:Fl.global.t("tips.walletConnected")},null)]),class:"ant-notification-copy"})}catch(A){if(A.name==="WalletNotReadyError"){const j=U.url,O=["Please install ",Te("a",{href:j,target:"_blank"},`${g} wallet`)," extension first"];f.error({class:"ant-notification-copy ant-notification-error",message:Te("div",{class:"notification-title"},[Te("span",{innerHTML:A.name||"Rejected"},null)]),description:Te("div",O),duration:4.5,icon:Te("svg",{class:{icon:!0},"aria-hidden":!0},[Te("use",{"xlink:href":"#icon-a-icon-Shutdown"})])});return}f.error({class:"ant-notification-copy ant-notification-error",message:Te("div",{class:"notification-title"},[Te("span",{innerHTML:A.name||"Rejected"},null)]),description:"Connect Wallet Failed",duration:4.5,icon:Te("svg",{class:{icon:!0},"aria-hidden":!0},[Te("use",{"xlink:href":"#icon-a-icon-Shutdown"})])})}}},disconnect:async()=>{if(a.wallet)try{const g=await t.value.currentWallet.disconnect();r.setCurrentWallet({wallet:null,isConnected:!1,account:"",platform:n.value.chainName,icon:""})}catch{}}}}const z0=Ot({components:{Modal:xr},setup(){const{t:r}=Gn(),t=Ai(),e=ir(),n=St(),o=St(),i=ke(()=>o),s=ke(()=>i.value.chainName),a=ke(()=>Ti[s.value]),u=he("Wallet"),h=di({Martian:{name:"Martian",url:"https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk",iconName:"Martian",icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzUyIiBoZWlnaHQ9IjM1MiIgdmlld0JveD0iMCAwIDM1MiAzNTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzNTIiIGhlaWdodD0iMzUyIiByeD0iODciIGZpbGw9IiMxRjFGMUYiLz4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNjkuNzAxIDg5LjA4NDFDMTU5LjUwOCA4OS44MzA5IDE1MC41NDcgOTIuMDAxNCAxNDEuMDc2IDk2LjAxNjlDMTM5LjQyNCA5Ni43MTc0IDEzMy43MDIgOTkuNjAzNyAxMzIuMTE2IDEwMC41MzdDMTI4LjEzMSAxMDIuODgxIDEyMy4wNDMgMTA2LjQ5NiAxMTkuNTg2IDEwOS40NEMxMTYuOTc1IDExMS42NjUgMTExLjIxNiAxMTcuNDUyIDEwOS4yMDIgMTE5Ljg3NkMxMDUuMDg1IDEyNC44MzIgMTAxLjA4OCAxMzAuODg2IDk4LjQzODQgMTM2LjE3OUM5Ny45OTQyIDEzNy4wNjYgOTcuNTYzNSAxMzcuODE3IDk3LjQ4MTMgMTM3Ljg0OEM5Ny4zOTkzIDEzNy44OCA5Ny4zMzIgMTM3Ljk5NSA5Ny4zMzIgMTM4LjEwNUM5Ny4zMzIgMTM4LjIxNCA5Ni43Njg1IDEzOS42MDggOTYuMDc5NiAxNDEuMkM5NC42OTc1IDE0NC4zOTYgOTIuOTE3NiAxNDkuNDk2IDkxLjk5MjUgMTUyLjkwOUM4OS42MjY3IDE2MS42NCA4OC41NDA3IDE3Mi40OTUgODkuMTgxMSAxODEuMDExQzkwLjM4ODggMTk3LjA3MSA5NS4xODY2IDIxMS4xMiAxMDMuODUzIDIyMy45NzVDMTEwLjE0NyAyMzMuMzExIDExOC4zMzYgMjQxLjQxMyAxMjcuOTk1IDI0Ny44NjFDMTM4LjkzNiAyNTUuMTYzIDE1MS45NzEgMjU5LjkxIDE2NS41MzIgMjYxLjUyOUMxNjkuMjQ3IDI2MS45NzIgMTc3LjczMSAyNjIuMTQ2IDE4MS43NjIgMjYxLjg2MUMxOTguMDkzIDI2MC43MDYgMjEzLjYxNiAyNTQuOTk0IDIyNi43OCAyNDUuMjk3QzI0NC4wODIgMjMyLjU1MiAyNTYuMDc2IDIxMy43OTcgMjYwLjMzMiAxOTIuODM0QzI2MS42MDEgMTg2LjU4MiAyNjIuMDA2IDE4Mi4zNTUgMjYyIDE3NS40MDdDMjYxLjk5NiAxNzAuMzM3IDI2MS45NDYgMTY5LjI5NSAyNjEuNTQxIDE2NS44MjlDMjU5LjcwNSAxNTAuMTQyIDI1NC4wNTkgMTM1Ljg4OCAyNDQuNzgzIDEyMy41MjdDMjM4LjkwMyAxMTUuNjg5IDIzMC45OTIgMTA4LjI0OCAyMjMuMDk4IDEwMy4xMjlDMjE4LjQ4NSAxMDAuMTM2IDIxNi4xNzggOTguODU1NSAyMTEuNjYxIDk2Ljc3NzRDMjAyLjMzOCA5Mi40ODc5IDE5Mi4zNzYgODkuOTA5MSAxODIuMTg3IDg5LjE0NzlDMTgwLjA0MiA4OC45ODc2IDE3MS42MDYgODguOTQ0NSAxNjkuNzAxIDg5LjA4NDFaTTE4My4wMjUgMTAzLjY1N0MxODkuNTAzIDEwNC4zNDggMTk2LjI4NCAxMDYuMDM0IDIwMi4zNiAxMDguNDY0TDIwNC4zNTYgMTA5LjI2MkwyMDQuMzU2IDExMC44MjJDMjA0LjM1NyAxMTYuODk2IDIwMC4zNDQgMTIyLjMwNyAxOTQuMzMzIDEyNC4zMzRMMTkyLjcyIDEyNC44NzhMMTczLjUyMyAxMjQuOTg3QzE1NS4yODkgMTI1LjA5IDE1MS45OTQgMTI1LjE3NSAxNDcuNjE2IDEyNS42NTdDMTM3LjY3NiAxMjYuNzUyIDEyOS44NzIgMTI4LjI2NSAxMjEuMzAyIDEzMC43NjFDMTIwLjA1IDEzMS4xMjUgMTE4LjkxNyAxMzEuNDI0IDExOC43ODUgMTMxLjQyNEMxMTguNDY0IDEzMS40MjQgMTE4LjkwOSAxMzAuNzkxIDEyMC43NTIgMTI4LjYyMkMxMjQuNDgzIDEyNC4yMzMgMTMwLjczMiAxMTguNTk4IDEzNC43MDYgMTE2LjA0MUMxMzUuMTI2IDExNS43NyAxMzUuNTA4IDExNS41MDkgMTM1LjU1NSAxMTUuNDZDMTM1LjYwMiAxMTUuNDExIDEzNi4yNTEgMTE0Ljk3OSAxMzYuOTk5IDExNC41MDFDMTQyLjI2MyAxMTEuMTMxIDE0OC4wMzYgMTA4LjQ0MSAxNTQuMDcyIDEwNi41NDNDMTU5LjY1OCAxMDQuNzg3IDE2NC44MTQgMTAzLjg3MiAxNzIuMTY0IDEwMy4zMzFDMTczLjg3NCAxMDMuMjA2IDE4MC43MjMgMTAzLjQxMSAxODMuMDI1IDEwMy42NTdaTTIxOS4xMzMgMTE4LjAyMkMyMjIuNzUxIDEyMC43NzkgMjI5LjQ5OSAxMjcuMTM2IDIyOS40OTkgMTI3Ljc4N0MyMjkuNDk5IDEyOC42MDYgMjI2Ljc1IDEzMy40OTMgMjI0Ljc4NCAxMzYuMTY4QzIxOC4wMzIgMTQ1LjM1NSAyMDcuOTIxIDE1MS41NTYgMTk2Ljc5NyAxNTMuMzMyQzE5My45NDUgMTUzLjc4OCAxOTEuOTk0IDE1My44MzUgMTc1LjczMiAxNTMuODQ1QzE1NS4zOTYgMTUzLjg1NyAxNTIuNTc3IDE1My45NjYgMTQ1LjA2OCAxNTUuMDI4QzEzMS4xNjkgMTU2Ljk5NCAxMTguMDA0IDE2MS4zODUgMTA1Ljc3IDE2OC4xMzdDMTA0Ljc1NyAxNjguNjk1IDEwMy44ODUgMTY5LjEwOCAxMDMuODMxIDE2OS4wNTRDMTAzLjY1IDE2OC44NzMgMTA0LjMxMyAxNjMuOTY5IDEwNC44OTUgMTYxLjE4MkMxMDUuNTE0IDE1OC4yMTggMTA2LjU0MiAxNTQuNDE0IDEwNy4zMTEgMTUyLjI0N0wxMDcuNzg2IDE1MC45MDlMMTA5LjQ4MSAxNTAuMTU2QzEyMC45OTQgMTQ1LjA0MiAxMzQuODA4IDE0MS4zODIgMTQ3LjQ0NyAxNDAuMDk3QzE1NC4yNTggMTM5LjQwNSAxNTUuMTY2IDEzOS4zNzggMTczLjk0OCAxMzkuMzA0QzE4NC45MTIgMTM5LjI2MSAxOTMuMTE2IDEzOS4xNiAxOTMuOTMgMTM5LjA2QzE5NS4yOCAxMzguODkyIDE5Ny44NDYgMTM4LjI4NyAxOTkuNDEgMTM3Ljc2NkMxOTkuODQxIDEzNy42MjIgMjAxLjE4OCAxMzcuMDI1IDIwMi40MDMgMTM2LjQzOUMyMDkuNTU2IDEzMi45ODcgMjE0LjkxIDEyNi43OTggMjE3LjM1OCAxMTkuMTU0QzIxNy43OTIgMTE3Ljc5OCAyMTguMDU3IDExNy4yMDQgMjE4LjE4NCAxMTcuM0MyMTguMjg3IDExNy4zNzggMjE4LjcxNCAxMTcuNzAzIDIxOS4xMzMgMTE4LjAyMlpNMjM5LjM5OSAxNDEuODI1QzI0MC42NzggMTQ0LjAyMyAyNDIuODA1IDE0OS4xNjMgMjQ0LjA5MSAxNTMuMTZDMjQ1LjE0MSAxNTYuNDI2IDI0NS4yMTggMTU2LjgxOCAyNDQuODk5IDE1Ny4zMDVDMjQ0LjQ1MyAxNTcuOTg1IDIzOC45OTEgMTYzLjUxMSAyMzcuMzc3IDE2NC45MTZDMjI5LjUxNCAxNzEuNzU2IDIyMC4yNTIgMTc2Ljg4MiAyMTAuNTc1IDE3OS43NUMyMDUuNzczIDE4MS4xNzMgMjAxLjM0NCAxODIuMDAxIDE5NS42MjMgMTgyLjU0NkMxOTQuNjk4IDE4Mi42MzQgMTg1Ljk0NSAxODIuNzE2IDE3Ni4xNzIgMTgyLjcyOUMxNTUuMDkgMTgyLjc1NSAxNTMuODA5IDE4Mi44MTEgMTQ2LjU5NyAxODQuMDAxQzEzMy44MDkgMTg2LjExMiAxMjAuNjg1IDE5MS43MDYgMTEwLjA5NCAxOTkuNTZDMTA5LjIwNSAyMDAuMjE5IDEwOC4zNjggMjAwLjc2NyAxMDguMjM1IDIwMC43NzdDMTA3Ljk1NCAyMDAuNzk4IDEwNy4zODIgMTk5LjIxOCAxMDYuMjQ0IDE5NS4yNzZDMTA1LjQyOSAxOTIuNDUyIDEwNC4yNDggMTg2LjgxNCAxMDQuMzMxIDE4Ni4xNEMxMDQuMzcxIDE4NS44MTkgMTA0Ljg5NyAxODUuNDAxIDEwNi43NiAxODQuMjExQzExNy42NTkgMTc3LjI0NiAxMjkuNDk5IDE3Mi40ODcgMTQxLjkyNSAxNzAuMDc1QzE0NS4zODMgMTY5LjQwNCAxNDUuOTMxIDE2OS4zMjIgMTQ5Ljk5NSAxNjguODY1QzE1NSAxNjguMzAyIDE1Ni42NjQgMTY4LjI2MSAxNzcuMDA2IDE2OC4yMDVDMTk1LjY3MiAxNjguMTUzIDE5NS44ODMgMTY4LjE0NCAyMDAuODc0IDE2Ny4xNzRDMjA4LjYzNiAxNjUuNjY3IDIxNi4yMDcgMTYyLjQ3MyAyMjIuNjI4IDE1Ny45OThDMjI4LjUzMyAxNTMuODgyIDIzNC40MDMgMTQ3Ljg5MiAyMzcuOTcgMTQyLjM0QzIzOC40MDMgMTQxLjY2NiAyMzguODA3IDE0MS4xMTIgMjM4Ljg2OCAxNDEuMTA5QzIzOC45MjkgMTQxLjEwNiAyMzkuMTY4IDE0MS40MjggMjM5LjM5OSAxNDEuODI1Wk0yNDcuNjc1IDE3Ni44MDhDMjQ3LjY3MiAxODEuNTQ5IDI0Ni43NTUgMTg4LjE3NyAyNDUuMzU5IDE5My41MzNDMjQ0Ljk1NyAxOTUuMDc3IDI0NC44NDcgMTk1LjMwOCAyNDQuMzggMTk1LjU5QzI0NC4wOSAxOTUuNzY2IDI0My4zMTggMTk2LjIzOCAyNDIuNjY0IDE5Ni42NDFDMjMwLjUzNCAyMDQuMTA4IDIxNi40MTUgMjA5LjEzNyAyMDMuMTIxIDIxMC43MjVDMjAxLjUxMSAyMTAuOTE3IDE5OS41NDQgMjExLjE2MyAxOTguNzUgMjExLjI3MUMxOTcuNzcgMjExLjQwNCAxOTAuNzU0IDIxMS41MDcgMTc2LjkyMSAyMTEuNTkxQzE2NS43MDkgMjExLjY1OCAxNTYuMzA2IDIxMS43NTYgMTU2LjAyNSAyMTEuODA3QzE1NS43NDUgMjExLjg1OSAxNTQuNzkgMjExLjk4OSAxNTMuOTAyIDIxMi4wOTdDMTQzLjc3MiAyMTMuMzI1IDEzMy4yMDggMjE3Ljg1OSAxMjUuMTU2IDIyNC40MzRDMTI0LjQzNiAyMjUuMDIyIDEyMy43NzIgMjI1LjUwMyAxMjMuNjggMjI1LjUwM0MxMjMuMTkxIDIyNS41MDMgMTE4LjA5MiAyMTkuMjc5IDExNS44OSAyMTUuOTk0QzExNC45NDQgMjE0LjU4MiAxMTQuNzM2IDIxNC4xNjEgMTE0Ljg5IDIxMy45NzJDMTE1LjIyNyAyMTMuNTU4IDExOS40MjggMjEwLjM5MSAxMjEuMiAyMDkuMjE1QzEyNy40NDEgMjA1LjA3NCAxMzQuMTA1IDIwMS45NjQgMTQwLjk5MSAxOTkuOThDMTQ1LjAwMyAxOTguODI0IDE0Ny45NDkgMTk4LjIyNyAxNTMuMDM3IDE5Ny41NDJDMTU1LjMzMiAxOTcuMjMzIDE1OC42NjcgMTk3LjE3NSAxODAuMTQ4IDE5Ny4wNzJDMTk1Ljg1OCAxOTYuOTk2IDE5Ny4xMiAxOTYuOTQ2IDIwMi4zMTggMTk2LjE5N0MyMTQuNzAxIDE5NC40MTIgMjI2LjYyNyAxODkuODU3IDIzNy4zOTggMTgyLjc5N0MyMzkuNTQ4IDE4MS4zODggMjQzLjcxMiAxNzguMjU2IDI0NS43MjIgMTc2LjUzNUMyNDYuNjU2IDE3NS43MzUgMjQ3LjQ3OCAxNzUuMDc4IDI0Ny41NDggMTc1LjA3NEMyNDcuNjE4IDE3NS4wNyAyNDcuNjc1IDE3NS44NSAyNDcuNjc1IDE3Ni44MDhaTTIzNC40MjUgMjE3LjEyOUMyMzQuNDI1IDIxNy4yOTQgMjMyLjIxOCAyMjAuMTc1IDIzMC42MTYgMjIyLjEwMkMyMjguODg1IDIyNC4xODUgMjIzLjkyOSAyMjkuMTM0IDIyMS44NjYgMjMwLjg0MUMyMTAuMzQ3IDI0MC4zNzEgMTk3LjE0MSAyNDUuOTA2IDE4Mi4yNzIgMjQ3LjQzNUMxNzkuMjIyIDI0Ny43NDggMTcxLjA4OSAyNDcuNjk4IDE2OC4xMDQgMjQ3LjM0NkMxNjAuNTU1IDI0Ni40NTggMTUzLjk3MiAyNDQuNzYzIDE0Ny40NDcgMjQyLjAyOEMxNDUuOTEzIDI0MS4zODUgMTQxLjgxNCAyMzkuMzc5IDE0MC41MDMgMjM4LjYyOUMxMzcuODA3IDIzNy4wODkgMTM0Ljg3MyAyMzUuMjExIDEzNC44NzggMjM1LjAzMUMxMzQuODg4IDIzNC42ODQgMTM5LjY4MSAyMzEuNjU0IDE0Mi4xOTUgMjMwLjQwN0MxNDYuMDU3IDIyOC40OSAxNDkuNDU3IDIyNy4zOTcgMTU0LjM5IDIyNi40ODdDMTU2LjMxMiAyMjYuMTMyIDE1Ni45MTEgMjI2LjExOSAxNzYuNDExIDIyNi4wMDFDMTg3LjQzNiAyMjUuOTM0IDE5Ni44MDEgMjI1LjgzNSAxOTcuMjIxIDIyNS43OEMxOTcuNjQyIDIyNS43MjUgMTk5LjAxOCAyMjUuNTk3IDIwMC4yNzkgMjI1LjQ5NEMyMDUuMTI2IDIyNS4xIDIxMS44NDMgMjIzLjk3NiAyMTYuOTU5IDIyMi43MDRDMjE5LjYzOSAyMjIuMDM4IDIyNC4xNTggMjIwLjc5NCAyMjQuNjU3IDIyMC41ODZDMjI0Ljg0NCAyMjAuNTA4IDIyNi4wMjkgMjIwLjA5MiAyMjcuMjkgMjE5LjY2MkMyMjguNTUxIDIxOS4yMzEgMjMwLjYxNSAyMTguNDY2IDIzMS44NzcgMjE3Ljk2MUMyMzQuMzIzIDIxNi45ODIgMjM0LjQyNSAyMTYuOTQ5IDIzNC40MjUgMjE3LjEyOVoiIGZpbGw9IndoaXRlIi8+Cjwvc3ZnPgo="},Pontem:{name:"Pontem",url:"https://chrome.google.com/webstore/detail/pontem-wallet/phkbamefinggmakgklpkljjmgibohnba",iconName:"Pontem",icon:"https://www.gitbook.com/cdn-cgi/image/width=20,height=20,fit=contain,dpr=2,format=auto/https%3A%2F%2F736486047-files.gitbook.io%2F~%2Ffiles%2Fv0%2Fb%2Fgitbook-legacy-files%2Fo%2Fspaces%252F-MVVJKmKQGx983dZy_jr%252Favatar-1619180126965.png%3Fgeneration%3D1619180127194239%26alt%3Dmedia"},Fewcha:{name:"Fewcha",url:"https://fewcha.app/",iconName:"Fewcha",icon:"https://miro.medium.com/fit/c/176/176/1*a0WaY-q7gjCRiuryRG6TkQ.png"},Coin98:{name:"Coin98",url:"https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg",iconName:"coin98",icon:"https://coin98.s3.ap-southeast-1.amazonaws.com/Coin/c98wallet.png"},Blocto:{name:"Blocto",url:"https://portto.com/download",iconName:"Blocto",icon:""},Petra:{name:"Petra",url:"https://chrome.google.com/webstore/detail/petra-aptos-wallet/ejjladinnckdgjemekebdpeokbikhfci",iconName:"Petra",icon:"https://miro.medium.com/fit/c/176/176/1*Gf747eyRywU8Img0tK5wvw.png"},OKX:{name:"OKX",url:"https://chrome.google.com/webstore/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",iconName:"OKX",icon:""},Spika:{name:"Spika",url:"https://chrome.google.com/webstore/detail/spika/fadkojdgchhfkdkklllhcphknohbmjmb",iconName:"Spika",icon:"https://pbs.twimg.com/profile_images/1562544739181887488/vSqEIeyh_400x400.png"},TokenPocket:{name:"TokenPocket",url:"https://chrome.google.com/webstore/detail/tokenpocket/mfgccjchihfkkindfppnaooecgfneiii",iconName:"TokenPocket",icon:"https://tp-statics.tokenpocket.pro/logo/tokenpocket.png"},BitKeep:{name:"BitKeep",url:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak",iconName:"BitKeep",icon:"https://raw.githubusercontent.com/bitkeepwallet/download/main/logo-png/BitKeep_logo_circle.png"},Rise:{name:"Rise",url:"https://chrome.google.com/webstore/detail/rise-aptos-wallet/hbbgbephgojikajhfbomhlmmollphcad",iconName:"Rise",icon:""},OpenBlock:{name:"OpenBlock",url:"https://chrome.google.com/webstore/detail/openblock-bridge/memiokcjdencbponfgbkojkenpdpejhj",iconName:"OpenBlock",icon:""},Trust:{name:"Trust",url:"https://trustwallet.com/",iconName:"Trust",icon:""},MSafe:{name:"MSafe",url:"",iconName:"Msafe",icon:""},Spacecy:{name:"Spacecy",url:"https://chrome.google.com/webstore/detail/spacecy-wallet/mkchoaaiifodcflmbaphdgeidocajadp?hl=en-US",iconName:"Spacecy",icon:""}}),f=di({suiWallet:{name:"Sui Wallet",url:"https://chrome.google.com/webstore/detail/sui-wallet/opcgpfmipidbgpenhmajoajpbobppdil",iconName:"sui-wallet-icon",icon:""},Martian:{name:"Martian",url:"https://chrome.google.com/webstore/detail/martian-wallet/efbglgofoippbgcjepnhiblaibcnclgk",iconName:"Martian",icon:""},BitKeep:{name:"BitKeep",url:"https://chrome.google.com/webstore/detail/bitkeep-bitcoin-crypto-wa/jiidiaalihmmhddjgbnbgdfflelocpak",iconName:"BitKeep",icon:"https://raw.githubusercontent.com/bitkeepwallet/download/main/logo-png/BitKeep_logo_circle.png"},Coin98:{name:"Coin98",url:"https://chrome.google.com/webstore/detail/coin98-wallet/aeachknmefphepccionboohckonoeemg",iconName:"coin98",icon:"https://coin98.s3.ap-southeast-1.amazonaws.com/Coin/c98wallet.png"}}),w=ke(()=>i.value.chainName==="Sui"?f:h),y=he(!1),g=ke(()=>e),{connect:_,disconnect:b}=ul();function M(A,j){_(j.name,j.iconName,i.value.chainName),e.setIsShowWalletModal(!1),e.setWalletIconName(j.iconName)}const U=he([]);_r(()=>i.value.transactionList,A=>{A&&(U.value=A.sort((j,O)=>O.date-j.date).filter((j,O)=>j.date>new Date().getTime()&&j.sender==g.value.address&&O<50))},{immediate:!0,deep:!0});const k=he(0),x=he(!1);return{offset:k,scrollDisabled:x,transactionList:U,store:i,currentToggle:u,importIcon:fn,walletList:w,wallet:g,isLoading:y,nuxtApp:t,setWallet:M,indexStore:n,config:a,chainName:s,clearTrans:()=>{n.clearTransactionList()},t:r}}}),Q0=""+globalThis.__publicAssetsURL("sui-image/success.png"),W0=""+globalThis.__publicAssetsURL("image/success.png"),Z0=""+globalThis.__publicAssetsURL("image/img-no-Positions@2x.png"),P0=""+globalThis.__publicAssetsURL("sui-image/img-no-Positions@2x.png"),K0=""+globalThis.__publicAssetsURL("image/logo-bg@2x.png"),$0=""+globalThis.__publicAssetsURL("sui-image/logo-bg@2x.png");const Dr=r=>(Un("data-v-960026d3"),r=r(),kn(),r),Y0=Dr(()=>T("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),H0={key:0,class:"wallet-title"},G0={key:1,class:"wallet-sub-title"},J0={key:2,class:"wallet-title"},X0={key:0,class:"toogle"},q0={key:1,class:"select-wallet"},ew=["disabled","onClick"],tw={class:"icon-box"},nw=["src"],rw={key:0,class:"left"},ow={class:"platform"},iw={class:"address"},sw=Dr(()=>T("use",{"xlink:href":"#icon-icon-copy"},null,-1)),aw=[sw],cw={class:"copy-and-view"},lw=["href"],uw=Dr(()=>T("svg",{class:"icon","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-icon-jump"})],-1)),hw={class:"btn-box"},dw={class:"item"},fw=Dr(()=>T("div",{class:"svg-box"},[T("svg",{class:"icon","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-a-icon-Disconnect1"})])],-1)),pw={class:"item"},ww=Dr(()=>T("div",{class:"svg-box"},[T("svg",{class:"icon","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-a-icon-Switch1"})])],-1)),gw={key:1,class:"transtions"},yw={key:0,class:"transtionDetail"},mw={class:"top"},Ew={class:"bottom"},_w={class:"tit"},bw=["href"],vw={class:"text"},Sw={key:0,src:Q0,alt:""},Mw={key:1,src:W0,alt:""},xw={key:1,class:"noData"},Iw={key:0,src:Z0},Aw={key:1,src:P0},Tw={key:2,class:"right"},Uw={key:0,src:K0,alt:""},kw={key:1,src:$0,alt:""};function Nw(r,t,e,n,o,i){const s=or("Modal");return Q(),ut(s,{width:420,visible:!0,class:"wallet-modal",footer:null,centered:"",onCancel:t[6]||(t[6]=a=>r.wallet.setIsShowWalletModal(!1))},{closeIcon:Oe(()=>[Y0]),title:Oe(()=>[!r.wallet.connected||r.wallet.switchWallet?(Q(),$("h3",H0,X(r.$t("modal.walletModal")),1)):Ue("",!0),!r.wallet.connected||r.wallet.switchWallet?(Q(),$("p",G0,X(r.$t("modal.walletModalText")),1)):Ue("",!0),r.wallet.connected&&!r.wallet.switchWallet?(Q(),$("h3",J0,X(r.$t("modal.walletConnectModalTitle")),1)):Ue("",!0)]),default:Oe(()=>[r.wallet.connected&&!r.wallet.switchWallet&&r.wallet.walletName!=="MSafe"?(Q(),$("div",X0,[T("span",{class:ht(r.currentToggle=="Wallet"?"active-span":""),onClick:t[0]||(t[0]=a=>r.currentToggle="Wallet")},X(r.$t("newAdd.wallet")),3),T("span",{class:ht(r.currentToggle=="Transactions"?"active-span":""),onClick:t[1]||(t[1]=a=>r.currentToggle="Transactions")},X(r.$t("newAdd.transactions")),3)])):Ue("",!0),!r.wallet.connected||r.wallet.switchWallet?(Q(),$("div",q0,[(Q(!0),$(on,null,sn(r.walletList,(a,u)=>(Q(),$("button",{key:u,disabled:r.isLoading,class:"wallet-item",ghost:"",onClick:h=>r.setWallet(!0,a)},[T("span",null,X(u=="suiWallet"?"Sui Wallet":u),1),T("div",tw,[T("img",{src:`/image/wallet/${a.iconName.toLowerCase()}.png`},null,8,nw)])],8,ew))),128))])):(Q(),$("div",{key:2,class:ht(r.currentToggle=="Wallet"?"wallet-info walletflex":"wallet-info transations-info")},[r.currentToggle=="Wallet"?(Q(),$("div",rw,[T("div",ow,X(r.$t("modal.walletName"))+" "+X(r.wallet.walletName),1),T("p",iw,[Ir(X(r.wallet.address&&r.wallet.address.substr(0,6))+" ... "+X(r.wallet.address&&r.wallet.address.substr(r.wallet.address.length-4,4))+" ",1),(Q(),$("svg",{class:"icon","aria-hidden":"true",onClick:t[2]||(t[2]=a=>r.indexStore.copy(r.wallet.address))},aw))]),T("div",cw,[T("a",{class:"view",target:"_blank",href:r.chainName==="Sui"?`https://explorer.sui.io/addresses/${r.wallet.address}?network=${r.config.network}`:`https://explorer.aptoslabs.com/account/${r.wallet.address}?network=${r.config.network}`},[T("span",null,X(r.$t("common.viewExplorer")),1),uw],8,lw)]),T("div",hw,[T("div",dw,[fw,T("p",{onClick:t[3]||(t[3]=a=>r.$emit("onDisconnect"))},X(r.$t("button.disconnect")),1)]),T("div",pw,[ww,T("p",{onClick:t[4]||(t[4]=a=>r.$emit("onSwitch"))},X(r.$t("newAdd.switch")),1)])])])):(Q(),$("div",gw,[r.transactionList.length>0?(Q(),$("div",yw,[T("div",mw,[T("p",null,X(r.$t("common.recentTransactions")),1),T("span",{onClick:t[5]||(t[5]=(...a)=>r.clearTrans&&r.clearTrans(...a))},X(r.$t("common.clearAll")),1)]),T("div",Ew,[(Q(!0),$(on,null,sn(r.transactionList,(a,u)=>(Q(),$("div",{key:u,class:"item"},[T("div",null,[T("div",_w,[T("a",{target:"_blank",class:"bottomLeft",href:r.chainName==="Sui"?`https://explorer.sui.io/transaction/${encodeURIComponent(a.hash)}?network=${r.config.network}`:`https://explorer.aptoslabs.com/txn/${a.hash}?network=${r.config.network}`},X(a.tit),9,bw)]),T("div",vw,X(a.text),1)]),r.chainName==="Sui"?(Q(),$("img",Sw)):(Q(),$("img",Mw))]))),128))])])):(Q(),$("div",xw,[r.store.theme=="default"?(Q(),$("img",Iw)):(Q(),$("img",Aw)),T("p",null,X(r.$t("newAdd.noTransactions")),1)]))])),r.currentToggle=="Wallet"?(Q(),$("div",Tw,[r.store.theme=="default"?(Q(),$("img",Uw)):(Q(),$("img",kw))])):Ue("",!0)],2))]),_:1})}const Bw=jt(z0,[["render",Nw],["__scopeId","data-v-960026d3"]]),Fw=""+globalThis.__publicAssetsURL("image/img-Term-and-Conditions@2x.png"),Dw=""+globalThis.__publicAssetsURL("image/icon-selected@2x.png");const Rw=Ot({setup(){const r=he(!1),{t}=Gn();return{isSelect:r,t}}}),Ro=r=>(Un("data-v-1905cb4d"),r=r(),kn(),r),Cw={class:"term-and-conditions"},Ow={class:"term-and-conditions-content"},jw={class:"box"},Vw={class:"title"},Lw=Ro(()=>T("div",{class:"img-box"},[T("img",{src:Fw})],-1)),zw=Ro(()=>T("p",{class:"note"},"Please read & accept terms before using this site.",-1)),Qw={class:"accept"},Ww={key:0,src:Dw},Zw=Ro(()=>T("span",null,"I accept the ",-1)),Pw=Ro(()=>T("a",{href:"https://www.cetus.zone/terms",target:"_blank"}," terms and conditions",-1));function Kw(r,t,e,n,o,i){const s=wo;return Q(),$("div",Cw,[T("div",Ow,[T("div",jw,[T("h3",Vw,X(r.$t("newAdd.termTitle")),1),Lw,zw,T("div",Qw,[T("div",{class:"radio",onClick:t[0]||(t[0]=a=>r.isSelect=!r.isSelect)},[r.isSelect?(Q(),$("img",Ww)):Ue("",!0)]),Zw,Pw])]),Rt(s,{disabled:!r.isSelect,class:"big-btn continue",onClick:t[1]||(t[1]=a=>r.$emit("close"))},{default:Oe(()=>[Ir("Continue")]),_:1},8,["disabled"])])])}const $w=jt(Rw,[["render",Kw],["__scopeId","data-v-1905cb4d"]]);function hl(){const r={default:{primaryColor:"#ff0000",themeColor:"#68FFD8",backgroundColor:"#1f2224",buttonDefault:"#68FFD8",buttonHover:"#49E9C0",buttonDisabled:"#1e2f2d",buttonDetailDefault:"#181818",buttonDetailHover:"#232323",depositBtnHover:"#1F3635",buttonPositionDefault:"#1E2E2A",buttonPositionHover:"#2D443E",tabActive:"#171717",tabHover:"#191919",tabDefault:"#080808",cardDefault:"#1A1A1A",cardEmphasize:"#202020",cardEnter:"#080808",cardAsset:"linear-gradient(180deg, #1A1A1A, #0F0F0F )",cardTop:"linear-gradient(270deg, #000000 0%, #15332c 100%)",cardTopTrans:"linear-gradient(270deg, #2C2E31 0%, #232D2B 100%)",cardCenter:"linear-gradient(270deg, #1b2523 0%, #161717 50%, #1b2523 100%)",cardCenterHover:"linear-gradient(270deg, #283E3A 0%, #161717 50%, #283E3A 100%)",moreBg:"linear-gradient(360deg, #171717 0%, #15332c 100%)",moreBgReserve:"linear-gradient(360deg, #101615 0%, #191919 100%)",moreBgReserveHover:"linear-gradient(360deg, #204C50 0%, #191919 100%)",borderGradient:"linear-gradient(180deg, transparent 0%, #83FFE2 50%, transparent 100%)",listItemBg:"linear-gradient(180deg, #000000 0%, #181E1D 78%, #223531 100%)",rewardsHover:"#142924",greenBg:"#192a26",redBg:"#2b181c",textDefault:"#8D8D8D",textDefaultStats:"#7F7F7F",textActive:"#fff",textEffect:"#B5B8C2",textTips:"#FFCA68",textWarning:"#FF6868",borderDefault:"#213F37",borderColor:"#00A379",redColor:"#ff5073",h5Stats:"linear-gradient(180deg, #131514 0%, #1E322D 100%)"},sui:{primaryColor:"#76C8FF",themeColor:"#76C8FF",backgroundColor:"#1f2224",buttonDefault:"#76C8FF",buttonHover:"#A4E2FF",buttonDisabled:"#32333B",buttonDetailDefault:"#181818",buttonDetailHover:"#121B1F",depositBtnHover:"#1D3443",buttonPositionDefault:"#1E2E2A",buttonPositionHover:"#2D443E",tabActive:"#181818",tabHover:"#191919",tabDefault:"#080808",cardDefault:"#171717",cardEmphasize:"#1B1B1B",cardEnter:"#0F0F0F",cardAsset:"linear-gradient(180deg, #1A1A1A, #0F0F0F )",cardTop:"linear-gradient(270deg, #000000 0%, #152533 100%)",cardTopTrans:"linear-gradient(270deg, #1b1b1b 0%, #18232D 100%)",cardCenter:"linear-gradient(270deg, #1B1F25 0%, #161717 52%, #1B2025 100%)",cardCenterHover:"linear-gradient(270deg, #26303C 0%, #161717 52%, #26303C 100%)",moreBg:"linear-gradient(360deg, #171717 0%, #152533 100%)",moreBgReserve:"linear-gradient(360deg, #101615 0%, #191919 100%)",moreBgReserveHover:"linear-gradient(360deg, #223857 0%, #191919 100%)",borderGradient:"linear-gradient(180deg, transparent 0%, #76C8FF 52%, transparent 100%)",listItemBg:"linear-gradient(180deg, #000000 0%, #181E1D 78%, #122139 100%)",rewardsHover:"#121E26",greenBg:"#192a26",redBg:"#2b181c",redColor:"#ff5073",textDefault:"#8D8D8D",textDefaultStats:"#7F7F7F",borderColor:"#0094A3",textActive:"#fff",textEffect:"#B5B8C2",textTips:"#FFCA68",textWarning:"#FF6868",borderDefault:"#044D70",h5Stats:"linear-gradient(180deg, #1E2A32 0%, #121212 100%)"}},t=s=>{for(const a in s)document.getElementsByTagName("body")[0].style.setProperty(`--${a}`,s[a])},e=St(),n=s=>{localStorage.setItem("theme",s),e.setTheme(s);const a=r[s];if(a)localStorage.setItem("primaryColor",a.primaryColor),localStorage.setItem("themeColor",a.themeColor),localStorage.setItem("backgroundColor",a.backgroundColor),localStorage.setItem("buttonDefault",a.buttonDefault),localStorage.setItem("buttonHover",a.buttonHover),localStorage.setItem("buttonDisabled",a.buttonDisabled),localStorage.setItem("buttonDetailDefault",a.buttonDetailDefault),localStorage.setItem("buttonDetailHover",a.buttonDetailHover),localStorage.setItem("depositBtnHover",a.depositBtnHover),localStorage.setItem("buttonPositionDefault",a.buttonPositionDefault),localStorage.setItem("buttonPositionHover",a.buttonPositionHover),localStorage.setItem("tabActive",a.tabActive),localStorage.setItem("tabHover",a.tabHover),localStorage.setItem("tabDefault",a.tabDefault),localStorage.setItem("cardDefault",a.cardDefault),localStorage.setItem("cardEmphasize",a.cardEmphasize),localStorage.setItem("cardEnter",a.cardEnter),localStorage.setItem("cardAsset",a.cardAsset),localStorage.setItem("cardTop",a.cardTop),localStorage.setItem("cardCenter",a.cardCenter),localStorage.setItem("cardCenterHover",a.cardCenterHover),localStorage.setItem("moreBg",a.moreBg),localStorage.setItem("moreBgReserve",a.moreBgReserve),localStorage.setItem("moreBgReserveHover",a.moreBgReserveHover),localStorage.setItem("borderGradient",a.borderGradient),localStorage.setItem("greenBg",a.greenBg),localStorage.setItem("redBg",a.redBg),localStorage.setItem("redColor",a.redColor),localStorage.setItem("textDefault",a.textDefault),localStorage.setItem("textDefaultStats",a.textDefaultStats),localStorage.setItem("textActive",a.textActive),localStorage.setItem("textEffect",a.textEffect),localStorage.setItem("textTips",a.textTips),localStorage.setItem("textWarning",a.textWarning),localStorage.setItem("borderDefault",a.borderDefault),localStorage.setItem("borderColor",a.borderColor),localStorage.setItem("listItemBg",a.listItemBg),localStorage.setItem("rewardsHover",a.listItemBg),localStorage.setItem("h5Stats",a.h5Stats),localStorage.setItem("cardTopTrans",a.cardTopTrans),t(a);else{const u={primaryColor:localStorage.getItem("primaryColor"),backgroundColor:localStorage.getItem("backgroundColor"),themeColor:localStorage.getItem("themeColor"),buttonDefault:localStorage.getItem("buttonDefault"),buttonHover:localStorage.getItem("buttonHover"),buttonDisabled:localStorage.getItem("buttonDisabled"),buttonDetailDefault:localStorage.getItem("buttonDetailDefault"),buttonDetailHover:localStorage.getItem("buttonDetailHover"),depositBtnHover:localStorage.getItem("depositBtnHover"),buttonPositionDefault:localStorage.getItem("buttonPositionDefault"),buttonPositionHover:localStorage.getItem("buttonPositionHover"),tabActive:localStorage.getItem("tabActive"),tabHover:localStorage.getItem("tabHover"),tabDefault:localStorage.getItem("tabDefault"),cardDefault:localStorage.getItem("cardDefault"),cardEmphasize:localStorage.getItem("cardEmphasize"),cardEnter:localStorage.getItem("cardEnter"),cardAsset:localStorage.getItem("cardAsset"),cardTop:localStorage.getItem("cardTop"),cardCenter:localStorage.getItem("cardCenter"),cardCenterHover:localStorage.getItem("cardCenterHover"),moreBg:localStorage.getItem("moreBg"),moreBgReserve:localStorage.getItem("moreBgReserve"),moreBgReserveHover:localStorage.getItem("moreBgReserveHover"),borderGradient:localStorage.getItem("borderGradient"),redBg:localStorage.getItem("redBg"),redColor:localStorage.getItem("redColor"),textDefault:localStorage.getItem("textDefault"),textDefaultStats:localStorage.getItem("textDefaultStats"),textActive:localStorage.getItem("textActive"),textEffect:localStorage.getItem("textEffect"),textTips:localStorage.getItem("textTips"),textWarning:localStorage.getItem("textWarning"),borderDefault:localStorage.getItem("borderDefault"),borderColor:localStorage.getItem("borderColor"),listItemBg:localStorage.getItem("listItemBg"),rewardsHover:localStorage.getItem("rewardsHover"),h5Stats:localStorage.getItem("h5Stats"),cardTopTrans:localStorage.getItem("cardTopTrans")};t(u)}};return{seleteDefaultTheme:()=>{n("default")},selectSuiTheme:()=>{n("sui")}}}const dl={en:"\u{1F1EC}\u{1F1E7} English",th:"\u{1F1F9}\u{1F1ED} \u0E44\u0E17\u0E22",hi:"\u{1F1EE}\u{1F1F3} Hind\u012B",kr:"\u{1F1F0}\u{1F1F7} \uD55C\uAD6D\uC5B4",vi:"\u{1F1FB}\u{1F1F3} Ti\u1EBFng Vi\u1EC7t",ja:"\u{1F1EF}\u{1F1F5} \u65E5\u672C\u8A9E",ru:"\u{1F1F7}\u{1F1FA} \u0420\u0443\u0441\u0441\u043A\u0438\u0439",tr:"\u{1F1F9}\u{1F1F7} T\xFCrk\xE7e",tradCh:"\u{1F1E8}\u{1F1F3} \u4E2D\u6587"},fl=[{icon:"\u{1F1EC}\u{1F1E7}",label:"English",value:"en"},{icon:"\u{1F1F9}\u{1F1ED}",label:"\u0E44\u0E17\u0E22",value:"th"},{icon:"\u{1F1EE}\u{1F1F3}",label:"Hind\u012B",value:"hi"},{icon:"\u{1F1F0}\u{1F1F7}",label:"\uD55C\uAD6D\uC5B4",value:"kr"},{icon:"\u{1F1FB}\u{1F1F3}",label:"Ti\u1EBFng Vi\u1EC7t",value:"vi"},{icon:"\u{1F1EF}\u{1F1F5}",label:"\u65E5\u672C\u8A9E",value:"ja"},{icon:"\u{1F1F7}\u{1F1FA}",label:"\u0420\u0443\u0441\u0441\u043A\u0438\u0439",value:"ru"},{icon:"\u{1F1F9}\u{1F1F7}",label:"T\xFCrk\xE7e",value:"tr"},{icon:"\u{1F1E8}\u{1F1F3}",label:"\u4E2D\u6587",value:"tradCh"}],Yw=Ot({props:{openH5Icon:{type:Boolean,default:!1}},setup(){const{t:r}=Gn();let t=[{name:r("contactUS.docs"),icon:"#icon-svg-docs",link:"https://cetus-1.gitbook.io/cetus-docs/"},{name:r("contactUS.twitter"),icon:"#icon-svg-twitter",link:"https://twitter.com/CetusProtocol"},{name:r("contactUS.discord"),icon:"#icon-svg-Discord",link:"https://discord.gg/rQtYGfmcD8"},{name:r("contactUS.tgGroup"),icon:"#icon-svg-lark",link:"https://t.me/cetuscommunity"},{name:r("contactUS.tgChannel"),icon:"#icon-svg-tg",link:"https://t.me/cetusprotocol"},{name:r("contactUS.medium"),icon:"#icon-svg-medium",link:"https://medium.com/@CetusProtocol"}];const e=[{name:"Sui"},{name:"Aptos"}];let n=he(!1);const o=St(),i=ke(()=>o);let s=he(i.value.chainName||"Aptos");Hr(()=>{document.addEventListener("click",()=>{n.value=!1})}),da(()=>{document.removeEventListener("click",()=>{n.value=!1})});const a=hl(),u=g=>{s.value=g,g=="Aptos"&&a.seleteDefaultTheme(),g=="Sui"&&a.selectSuiTheme()},{locale:h}=Gn(),f=he(!1),{setLang:w}=o;return{changeChain:u,currentChain:s,chainList:e,openSwitchChain:n,importIcon:fn,store:i,list:t,themeStore:a,counter:o,langObj:dl,changeLang:g=>{w(g),h.value=g,t=[{name:r("contactUS.docs"),icon:"#icon-icon-Docs",link:"https://cetus-1.gitbook.io/cetus-docs/"},{name:r("contactUS.twitter"),icon:"#icon-icon-twitter",link:"https://twitter.com/CetusProtocol"},{name:r("contactUS.discord"),icon:"#icon-icon-Discord",link:"https://discord.gg/cetusprotocol"},{name:r("contactUS.tgGroup"),icon:"#icon-icon-telegram",link:"https://t.me/cetuscommunity"},{name:r("contactUS.tgChannel"),icon:"#icon-icon-TgChannel",link:"https://t.me/cetusprotocol"},{name:r("contactUS.medium"),icon:"#icon-icon-medium",link:"https://medium.com/@CetusProtocol"}]},openSwitchLang:f,langList:fl}}}),Hw="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQgAAABACAMAAADRVBl4AAAAYFBMVEVHcEz///////////+n892x9uP///////////////9n/9n///8y6LgA1Z7///////////9o/9lo/9ln/9lo/9n///8C1p8A1J4A1Z8A1Z5o/9lo/9j///8A1J467L8Y3qtr5PYdAAAAG3RSTlMAMqK9BxPo82T9jFkyjj5H1LFT0Ot9Ze3bv3FnWwE/AAAELklEQVR42u2biZKiMBCGQ0jAICiniIK+/1vuEEAJpHOM6xxk/tqaqtmJJnz0lQ4gJBPNo6woy2tZFlmUx8hN0ai4iiojB1nkSwqDihP5wzDofHLIKbIrrFvXuOIgeXlV6d51bhhFdNWo67rGgUixdIvskuf5JSvnztF1Z7pxDGTBIZoumFzKuUlsnoTIoYilIfTGSRB34kNGgL/2ILpmy/lCtAcK2cudk0i2Wz+IeTMGB3Df6LrYjQCRSUZc5r6x2TAhOsZVdr+J4BtbdQ5xf1GqjGb0jZo6YBCZdNBFALFNk1hsOCNpvZULQaKrNxgl4qsBiMlsivNIAtp+HXEaSrUbB4StSmwahpXDWn+8EfyXI7CWA594WpgfaKaMbEBcTiMIeVXlpeDSw4MJiLbdj1/lq4FhAxBHPnKwaNwy3cqWrZhMUXqWFCUjCZlv7Jhi7QE1AhGOl0VTE9MxBaE0sGFldLXbJmAgKfvMmoC+oeTQtik1AfG4QZ5m5NECxFH9VSlZ54wP5UAgKccdaZycpXnjsfIQEH6AwDuFJufwZv8n+dTeAoSvXNewsnU7ppCByIWmfhyf1mXXMFuwU9cY/JJ2thEd+pQhiJCHFWLVj+kjolkHY2kQ7Gn/PwwE4cM8qyoCLLK1qkxm+8EgZA3b8jMkuGf4aFMgPrzDvnLk6a76kSCMJgU61sXFdl8VmF3hEP/3kN4Dgt8k5suFh/AOn2UUWbRS8hR9AQRc5b0HRKUpXSolCOlp11OvgGi/GAQN1CRYJc8aqsOuh8gvAoE8HYkDymxAzDjU6DeBQLRSo8D6gz7AM5pXQOwopHeB6Fl4Uh143g8kew0jg1jvNb4lfYZaEAFYCj/aFgMv+jmDWO8+fZ6hvhhEOkY6sNZlqfa7PW5WNtFyzmHdj+Apin1xic37DKmqxMNmIBgyDxLzlCHpUHntN2y6eutngElUYzowBRF/xjFkfZnv2IaPNSNez0kxM9v8DFYVIGPfEDjIuthTY4aFgUR7ocQGuzLEEsSBcZsIfSzKD9uZQVQBrPDRA83tOcjPNXZTdSKtEDyj5q1PLO1IXT1Xs7vO+n+rH4w9V1dYcwBOuv5H8xbbOlTFlJXzmDp9k1Zwbhko4YOuQ6prkeqbt9g2shyhSdNZgaFsiod7uF2nsgfVaXh/wMMAYSMQ0qJMGWLJfj1pmOK9sEpw3xWm1cO+aWmRL158PoIYCPjU+0/9SG7FYbtPzKiqqtt9yWHTz1qSzCxKbv/5QimJtTU48MQpvd30FBzggOKPq7zfb4PuUghuPIt96gyUoO2r0WM4O/G+Rq3DULvxMlOsswZX3ulShog6cectv2R18cPzc3WT9M+EuPOK33nJIeY7HeQSA15YSji4KBL/cZCFiIa6ykEop+qTsxgQqd0rGORbz6Sp+4yZnJwNDv8ACUmpoYUJbW0AAAAASUVORK5CYII=";const pl=r=>(Un("data-v-df65f935"),r=r(),kn(),r),Gw=pl(()=>T("div",{class:"logo"},[T("img",{src:Hw,alt:""}),T("div",{class:"alpha"})],-1)),Jw={class:"menu-list"},Xw={href:"https://bridge.cetus.zone/"},qw={class:"h5-more"},eg={class:"lang-tab"},tg={class:"lang-title"},ng={class:"current-lang"},rg=pl(()=>T("use",{"xlink:href":"#icon-icon_on"},null,-1)),og=[rg],ig={key:0,class:"list"},sg=["onClick"],ag={class:"contact-us"},cg={class:"contact-us-list"},lg=["href"],ug={"aria-hidden":"true",class:"icon"},hg=["xlink:href"];function dg(r,t,e,n,o,i){const s=Dl;return Q(),$("div",{class:ht(r.openH5Icon?"menu h5-menu":"menu")},[Gw,T("div",Jw,[Rt(s,{to:"/swap",class:ht(r.$route.name==="swap"||r.$route.path==="/"?"nuxt-link-exact-active nuxt-link-active menu-item-active":"")},{default:Oe(()=>[T("span",null,X(r.$t("menu.swap")),1)]),_:1},8,["class"]),Rt(s,{to:"/pools",class:ht(r.$route.name==="pools"||r.$route.name==="pools"||r.$route.name==="position"||r.$route.name==="remove-liquidity"||r.$route.name==="increase-liquidity"||r.$route.name==="pools-liquidity-add"||r.$route.name==="pools-management-remove"||r.$route.path.includes("position-detail")||r.$route.path.includes("deposit")?"nuxt-link-exact-active nuxt-link-active menu-item-active":"")},{default:Oe(()=>[T("span",null,X(r.$t("menu.pools")),1)]),_:1},8,["class"]),T("a",Xw,[T("span",null,X(r.$t("menu.bridge")),1)]),r.store.theme=="default"?(Q(),ut(s,{key:0,to:"/stats",class:ht(r.$route.name==="stats"||r.$route.name==="stats-pools"||r.$route.name==="stats-tokens"?"nuxt-link-exact-active nuxt-link-active menu-item-active":"")},{default:Oe(()=>[T("span",null,X(r.$t("menu.stats")),1)]),_:1},8,["class"])):Ue("",!0)]),T("div",qw,[T("div",eg,[T("div",tg,X(r.$t("common.language")),1),T("div",{class:"switch-lang",onClick:t[0]||(t[0]=fr(a=>r.openSwitchLang=!r.openSwitchLang,["stop"]))},[T("div",ng,[T("span",null,X(r.langObj[r.counter.lang]),1),(Q(),$("svg",{class:ht([r.openSwitchLang?"icon-open":"icon-close","icon"]),"aria-hidden":"true"},og,2))]),r.openSwitchLang?(Q(),$("div",ig,[(Q(!0),$(on,null,sn(r.langList,a=>(Q(),$("div",{key:a.value,class:ht(a.value==r.counter.lang?"item-container item-active-container":"item-container")},[T("div",{class:"item",onClick:u=>r.changeLang(a.value)},[T("span",null,X(a.icon)+"\xA0\xA0"+X(a.label),1)],8,sg)],2))),128))])):Ue("",!0)])]),T("div",ag,[T("div",cg,[(Q(!0),$(on,null,sn(r.list,(a,u)=>(Q(),$("div",{key:u,class:"contact-us-item"},[T("a",{class:"item",href:a.link,target:"_blank"},[(Q(),$("svg",ug,[T("use",{"xlink:href":a.icon},null,8,hg)])),T("span",null,X(a.name),1)],8,lg)]))),128))])])])],2)}const fg=jt(Yw,[["render",dg],["__scopeId","data-v-df65f935"]]),pg=Ot({setup(){const r=ir();return{wallet:ke(()=>r),importIcon:fn,store:r}}});const wg=["src"],gg={class:"addressAndDev"};function yg(r,t,e,n,o,i){return r.wallet.connected?(Q(),$("div",{key:0,class:"wallet-info",onClick:t[0]||(t[0]=s=>r.wallet.setIsShowWalletModal(!0))},[r.wallet.walletIcon?(Q(),$("img",{key:0,src:`/image/wallet/${r.wallet.walletIcon.toLowerCase()}.png`,alt:""},null,8,wg)):Ue("",!0),T("div",gg,[T("span",null,X(r.wallet.address&&r.wallet.address.substr(0,6))+" ... "+X(r.wallet.address&&r.wallet.address.substr(r.wallet.address.length-4,4)),1)])])):(Q(),$("div",{key:1,class:"wallet-info noConnect",onClick:t[1]||(t[1]=s=>r.wallet.setIsShowWalletModal(!0))},X(r.$t("button.connect")),1))}const mg=jt(pg,[["render",yg],["__scopeId","data-v-9c1d7017"]]),Eg=Ot({components:{Modal:xr},setup(){const r=Ii(),{t,locale:e}=Gn(),n=he(!1),o=fa(),i=R=>{const B=`${Ti.Aptos.faucetObjectId}::coin::${R.name}`;return o.newTokenObj&&o.newTokenObj[B]?o.newTokenObj[B].logoURI:""},s=[{symbol:"USDT",name:"CetusUSDT",num:"200",amount:"200000000"},{symbol:"USDC",name:"CetusUSDC",num:"200",amount:"200000000"},{symbol:"ETH",name:"CetusETH",num:"0.1",amount:"100000000"},{symbol:"BTC",name:"CetusBTC",num:"0.01",amount:"10000000"}],{$notify:a}=Ai(),u=ir(),h=ke(()=>u),f=St(),w=St(),y=ke(()=>w),{setIsShowSuccess:g,setIsShowRejected:_,setIsShowWaiting:b,setTransactionDesc:M,setTransactionTxid:U}=f,k=he(!1),x=he(!1),z=he(""),A=async R=>{if(!h.value.connected)h.value.setIsShowWalletModal(!0);else{x.value=!0,U(""),M(""),b(!0),z.value=R.symbol;try{const B=r.mintCoin(R),Y=await h.value.currentWallet.signAndSubmitTransaction(B);if(Y){k.value=!1,U(Y.hash),b(!1),g(!0);const te={title:"Request Coins",desc:"",hash:Y.hash,tit:"Request Coins",text:""};r.showTransitionPending(te),await r.watchTransaction(te)&&setTimeout(()=>{r.getAccount(h.value.address)},1e3)}else b(!1),a.error({icon:Te("svg",{class:{icon:!0},"aria-hidden":!0},[Te("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:Te("div",{class:"notification-title"},[Te("span",{innerHTML:"Request Coins Failed"},null)]),description:t("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});x.value=!1}catch{x.value=!1,b(!1),a.error({icon:Te("svg",{class:{icon:!0},"aria-hidden":!0},[Te("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:Te("div",{class:"notification-title"},[Te("span",{innerHTML:"Request Coins Failed"},null)]),duration:4.5,description:t("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}}};he(0),he(0);const j=he("--"),O=he("--"),H=he("--");pa(async()=>{h.value.address&&y.value.chainName==="Sui"&&(k.value=!0)});const ie=he("0");return{t,storeCounter:y,wallet:h,importIcon:fn,list:s,requestError:n,start:k,hour:j,min:O,sec:H,loading:x,aptosBalance:ie,toMintCoin:A,currentCoin:z,getCoinIcon:i}}}),_g="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgBAMAAACBVGfHAAAAFVBMVEVHcEz///////////////////////+3ygHaAAAABnRSTlMAR23aI5H0hshDAAAAIElEQVQoz2NggII0AQZUMCpAsUCoAwP1gTFBa5WoaC0ASoUK6Z2VFk8AAAAASUVORK5CYII=";const bg=T("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[T("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1),vg={class:"request-title"},Sg={class:"top"},Mg=T("div",{class:"left"},[T("img",{src:_g,alt:""})],-1),xg={class:"right"},Ig={class:"bottom"},Ag=["src"];function Tg(r,t,e,n,o,i){const s=wo,a=or("Modal");return Q(),ut(a,{width:440,visible:!0,class:"request-modal",title:r.$t("common.requestCoins"),footer:null,centered:"",onCancel:t[0]||(t[0]=u=>r.$emit("onClose"))},{closeIcon:Oe(()=>[bg]),default:Oe(()=>[T("div",vg,X(r.t("newAdd.youNeedSuiFaucetCoinsToReceiveOurTestCoins",{theme:r.storeCounter.theme=="default"?"Aptos":"Sui"})),1),T("div",Sg,[Mg,T("div",xg,X(r.t("newAdd.toGetSuiFaucetCoinsToReceiveOurTestCoins",{theme:r.storeCounter.theme=="default"?"Aptos":"Sui"})),1)]),T("div",Ig,[(Q(!0),$(on,null,sn(r.list,u=>(Q(),$("div",{key:u.symbol,class:"item"},[T("img",{src:r.getCoinIcon(u)||r.importIcon(`/image/coins/${u.symbol.toLowerCase()}.png`),alt:""},null,8,Ag),T("span",null,"\xA0\xA0"+X(u.symbol)+"\xA0:\xA0"+X(u.num),1),Rt(s,{class:"mint-coin-btn",loading:r.loading&&u.symbol===r.currentCoin,onClick:h=>r.toMintCoin(u)},{default:Oe(()=>[Ir(X(r.$t("button.request")),1)]),_:2},1032,["loading","onClick"])]))),128))])]),_:1},8,["title"])}const Ug=jt(Eg,[["render",Tg]]),kg=Ot({setup(r){const t=ir(),e=ke(()=>t);let n=he(!1),o=he(!1),i=he(!1),s=he(!1),a=he(!1);const u=Rl(),{t:h,locale:f}=Gn(),w=[{id:"Aptos",name:"Aptos",env:"",network:"Mainnet"},{id:"Sui",name:"Sui",env:"pre",network:"Devnet"},{id:"Sui2",name:"Sui",env:"pre2",network:"Testnet"}],y=[{name:h("contactUS.docs"),icon:"#icon-svg-docs",link:"https://cetus-1.gitbook.io/cetus-docs/"},{name:h("contactUS.twitter"),icon:"#icon-svg-twitter",link:"https://twitter.com/CetusProtocol"},{name:h("contactUS.discord"),icon:"#icon-svg-Discord",link:"https://discord.gg/cetusprotocol"},{name:h("contactUS.tgGroup"),icon:"#icon-svg-lark",link:"https://t.me/cetuscommunity"},{name:h("contactUS.tgChannel"),icon:"#icon-svg-tg",link:"https://t.me/cetusprotocol"},{name:h("contactUS.medium"),icon:"#icon-svg-medium",link:"https://medium.com/@CetusProtocol"}],g=St(),_=he(""),b=ke(()=>g);let M=he(b.value.chainName||"Aptos");const U=hl();Hr(()=>{var B,Y,te;const ie=(te=(Y=(B=u==null?void 0:u.currentRoute)==null?void 0:B.value)==null?void 0:Y.query)==null?void 0:te.language;ie&&O(ie),localStorage.getItem("theme")==="sui"?U.selectSuiTheme():U.seleteDefaultTheme(),document.addEventListener("click",()=>{s.value=!1,o.value=!1,i.value=!1,a.value=!1}),_.value=f.value,x()}),da(()=>{document.removeEventListener("click",()=>{s.value=!1,o.value=!1,i.value=!1,a.value=!1})});const k=()=>{u.push("/")},x=()=>{window.setInterval(()=>{y[0].name=h("contactUS.docs"),y[1].name=h("contactUS.twitter"),y[2].name=h("contactUS.discord"),y[3].name=h("contactUS.tgGroup"),y[4].name=h("contactUS.tgChannel"),y[5].name=h("contactUS.medium")},1e3)};_r(()=>g.lang,ie=>{_.value=ie});const z=ke(()=>Ti[b.value.chainName]),A=ie=>{if(M.value=ie.name,ie.name=="Aptos"&&(U.seleteDefaultTheme(),t.setCurrentWallet({wallet:e.value.aptosCurrentWallet,isConnected:e.value.aptosConnected,account:e.value.aptosAddress,platform:"Aptos",icon:e.value.aptosWalletIcon})),ie.name=="Sui"){const R=ie.network.toLowerCase();window.location.href=`${z.value.ammSite}/?language=${_.value}&chain=sui&network=${R}`}},{setLang:j}=g,O=ie=>{j(ie),f.value=ie},H=()=>{g.setIsSelect("head"),i.value=!i.value};return _r(()=>b.value.isSelect,ie=>{ie!=="head"&&(i.value=!1)},{immediate:!0}),{openSwitch:H,changeChain:A,currentChain:M,chainList:w,openSwitchChain:i,store:b,isRequestCoins:n,importIcon:fn,openH5Icon:s,openMore:o,list:y,gotoHome:k,changeLang:O,langList:fl,openSwitchLang:a,counter:g,langObj:dl,config:z}}}),Ng="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAALVBMVEVHcEwG7K0A864G764G7K4G7K4G7K4G664G7a4H7K4H7K4H7K4G7K0C7q4H663ymbKbAAAADnRSTlMAvQkk0VP05zlpj658FZjNXHcAAAFGSURBVDjLY2AY8cBGPK1wBRZx63cg4IEhzvUOAjahiTPte/dsZ+isundPDFAluN89OwSkWOveOaFKrHvnDKa13z1EEWd+90QBwtr3LgDVpGQoSwVolgJCwu7dASiL9d1TBkmExLlncFV+r1mfNcAl5F4j1DxneecA59W9hDP73t0EmgYDeU+RrDPwe4hDIu7dBaxGXVBD+EXuFVxi3jMGFrjjGdY9RzjwIdC7CxD6YZo53r1ElmB5VwRlMQJZjAijON69hgfzBAY1IIaBfdCo4wIFc9w7RGypvHsCsoVD7l0x0P4nSBHi9+7JCeNOuXfPG4AB/BIpRhShiQEYkeZwl4BBCFi8UoGBo+5dA0o6ia5790xSgYHp2Ls3aEmI1/gCb3PrsncI7yEAI8i4TCzpNA4o/toAi8Syd89kDLAm+bsXhmpmBQAlUZWU3/g4cQAAAABJRU5ErkJggg==",Bg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwBAMAAAClLOS0AAAALVBMVEVHcExc6v9d6/9c6v9b7v9c6v9c6v9c6/9b6/9c6/9c6v9b6/9c6v9d6v9c6f9VBrvtAAAADnRSTlMAsyHODeb0V2pGfDaHmBQ+9jEAAAFHSURBVDjLY2AY8UBLNC34NBZxxXcgYIkhzvMOAkTQxFnk3j2TqOyNe/dYAVWC8d2zBUCKPe6dCarEuXdGYNrx3UMUcaZ3jx0gLLl3BagmJUFZzu8CGBwQEnrvFkBZnO+eM4gjJNY9gzPtHrI/2wDnySGsXPeU+Z0BnBf3As6c984DaBoM5D1Hsk7B7jFC4iWyRN07BSxG7Xun4Ibwi91buETfMwZmuOMZzj1FdiDjuwsI/TDN3O9eIEswvwuBB04IslGc8EA9966BgQ0pIOWgUcfz7jHIj4jYcn73eALIBrl3QUBVj5EixO7d45VKO+TePd3AwP7uBVKMOEITAzAiVYFRggRKweIRQOPi3k1Aid7COGBCcWBgWfbuFXoSUlJg2rT92rt3BzCTIyPIuAws6XQeUPyhAhaJa++eWSlgTfJODkM1swIAOT+Op7MIMvkAAAAASUVORK5CYII=",Fg="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAPKADAAQAAAABAAAAPAAAAACL3+lcAAAF7klEQVRoBe2bv28cRRTHfcQChQSJSBAJIuEYEMEiBa5cId9FQrIQFCRF2lS4cJu/IhIFKEWCRBmlCKFwEUUKQjgpaShAISYCu0gKK4UJ4kcQxHy+9s5l9uuZ9d75jO9sP+lp5r33fW/e2529nd3ZGxrao70jsKOOQGOrqllZWVHs43ATfgs+Br8KH4afgUWP4CX4Z/gO/AP8Dfx9o9FYoe1vUpHwJPw5vAR3S/JVjEl4y05K10dTScGn4Xm416SYit0fhZNIC/4W3mrSGK2uz8pmHRl8FL7WZZV/4SfuhjTm6Gbz78ifAZvwgw2yXcD+KXw/gXsfndhJWPnIt4o0drOjpLsFM9A0/HdFNlewjSs+7ckE7lIYG9ulhP1k4TuOTbFypBymQ6yetwTfB5/PjY5+Dp6IB0a+Zfh/kV8PGPVh6WK6FexqMUzAip0j5bQv9ulJn6C5Yn/FtnpW4oHQjcBOszFGfQCzDkIeSeA0WzRWis47flMyI2gap+gnlGOp4OhnEg5TjgUzlcDNOE4yuDFYY6aoN9ObyE04dc1+hf5QKrEiueuW1UPkpx0vHSxbTNcdF2RAh2CN7aQcmwHXVUsA3XpSv8YacDgXFNtB2G87X1Tgr4KPSb4HK/DD2FNFK9fub1k4p+6zmlLZM6sksZ+Anc5UFHDGwcgncnjpsetMp6b3tSq/rI1gLdhpGcWbWafCAOasOyK/kvOTLYE/m8MHPT66plM/ZJ2tyAjSgLWUc1r3axwGj1ucLpvjg9ie6oP3S+dyCuc6/PTr7aTcG47NyoC1WHeayzqYAcc75nzDIOtE8DfMR4+LtQi/1H36dF1nnd15G1xiaVGRCwbuAPxYDhGdy+GDHuy5CK+uYhwI9qoWnBYnTqph3VlepwD0EcEv2gDLyIumy4l6uPfrXL6KUUXPY/QFx4/o9JKgDslXMWKa5kXCZ7EiVbCm0hsxaID78xR8LM6/VHAxBf4B8FQMGuD+Y3Ifjl8XeWEf7qBidZ5Un2pqk6+W3m1bnnT09LLhbeUJfOht+qORrGuw7mLgPbD6DQj0C53vglCjfQHMO4ZTTV+abk1kSl+AY/odwQ9K0jcowfs9+HawbdTiezseXLE28ont4LXkVM4xXYgxPqVLFzjAe8x/XdOd0H4D/2lylehYj1XlO1Tkes9ApZq84KMGvm9yHfFZA3kRZi6JjvVYJXBG8JyPxjgv+LnYSN+dzZwU/ax4EUmnQulYj1XlG2yec6mmXV9wOEqhLd2ng7LP28qc/Qz/ZsW8ZHIdcTPT0qewx6ozvudcqmmjgl+uM4JhPEkvwuAl0bF/lKz1BM/5YezmBS/ERvrubOak6El6EUmnQulYP3hVvsHmOS8Gg1ovWA8OMR3hDt7RwgNnT9KLiON737Eey/Elucj1SEm5tg3bVnkxK23LWkf3wa8J1OnSMg4zin96aRej1vrxklQaPefW9RVeS0u/d5dqKv2iEVyvcK7KcwfRKVZg7YPmBUvePY+HxXPj3R10du8WNbVL8mtYho/hi23EWmeZZtF0OVGPd/3yike1VBPX8Y5+iZesnqJ3z2taHYHiLA/Ki/hT5OvU2Yv4ouiWR0HWtsZYclpESjCDtdUScifx3bOZVpxlrZJ8zwfV6lZl6hd+9VhhT22XZhc04Ptju7QouklCu2NDPJraVZ88+D03nOUZDpTTVIgZWgD99clDlFjuoxbtGa/bRkU3AjvNhnihBTDrIGTtE5UInbZFU3vBcu/tRy0amaB655srWoPOwRNxlsg3ZYiozmdLNy2GnpgUO0fKqfefLYUkCK7pnbqmQ0JX6IwLT5varB6MD9NCwUUh+iFL/XqHotUuwJ/AuU8PPxDISFj5yLeKNHYzzmnL+wyoW1bqPl2VaLDpKx1xN/T/f1waH00ybsGpZWg3xVT5aIxWPPa29UmkAeuBI/WpBOpNkWIqdullxbYVGw+spOBJWJ/v9+VfALbsqFGwYh+Hm3D4k8dr9F+E9ZJA9AheggfzTx6qYI/2jsD2HoH/AFms+yTmHAObAAAAAElFTkSuQmCC";const pn=r=>(Un("data-v-ba7cb1ca"),r=r(),kn(),r),Dg={class:"left"},Rg=pn(()=>T("div",{class:"alpha"},null,-1)),Cg={class:"menu-right"},Og={key:0,src:Ng,alt:""},jg={key:1,src:Bg,alt:""},Vg=["src"],Lg=pn(()=>T("svg",{"aria-hidden":"true",class:"icon"},[T("use",{"xlink:href":"#icon-icon_on"})],-1)),zg={key:0,class:"list"},Qg=["onClick"],Wg={key:0,class:"selected-icon",src:Vl,alt:""},Zg={key:1,class:"selected-icon",src:Ll,alt:""},Pg=["src"],Kg={class:"name"},$g=pn(()=>T("span",{class:"gap"},null,-1)),Yg=pn(()=>T("div",{class:"current-lang"},[T("img",{src:Fg,alt:""})],-1)),Hg={key:0,class:"list"},Gg=["onClick"],Jg=pn(()=>T("div",{class:"spot"},null,-1)),Xg=pn(()=>T("div",{class:"spot"},null,-1)),qg=pn(()=>T("div",{class:"spot"},null,-1)),ey={key:0,class:"list"},ty=["href"],ny={"aria-hidden":"true",class:"icon"},ry=["xlink:href"],oy=pn(()=>T("svg",{"aria-hidden":"true",class:"icon"},[T("use",{"xlink:href":"#icon-icon-menu1"})],-1)),iy=[oy];function sy(r,t,e,n,o,i){const s=fg,a=mg,u=Ug;return Q(),$("header",null,[T("div",Dg,[T("div",{class:"logo",onClick:t[0]||(t[0]=(...h)=>r.gotoHome&&r.gotoHome(...h))}),Rg]),Rt(s,{"open-h5-icon":r.openH5Icon},null,8,["open-h5-icon"]),T("div",Cg,[r.config.network!=="mainnet"?(Q(),$("div",{key:0,class:"request-coin",onClick:t[1]||(t[1]=h=>r.isRequestCoins=!0)},[r.store.theme=="default"?(Q(),$("img",Og)):(Q(),$("img",jg)),T("span",null,X(r.$t("common.requestCoins")),1)])):Ue("",!0),T("div",{class:"swaichChain",onClick:t[2]||(t[2]=fr((...h)=>r.openSwitch&&r.openSwitch(...h),["stop"]))},[T("div",{class:ht(r.openSwitchChain?"text rodegText":"text")},[T("img",{src:r.importIcon(`/image/${r.store.chainName.toLowerCase()}.png`),alt:""},null,8,Vg),T("span",null,X(r.store.chainName),1),Lg],2),r.openSwitchChain?(Q(),$("div",zg,[T("p",null,X(r.$t("common.switchChain")),1),(Q(!0),$(on,null,sn(r.chainList,h=>(Q(),$("div",{key:h.name,class:ht(h.name==r.store.chainName?"item-container item-active-container":"item-container")},[T("div",{class:"item",onClick:f=>r.changeChain(h)},[r.store.theme=="default"&&h.name==r.store.chainName?(Q(),$("img",Wg)):Ue("",!0),r.store.theme=="sui"&&h.name==r.store.chainName?(Q(),$("img",Zg)):Ue("",!0),T("img",{src:r.importIcon(`/image/${h.name.toLowerCase()}.png`),alt:""},null,8,Pg),T("span",Kg,X(h.name),1),$g,T("i",{class:ht(`network-tag-${h.network}`)},X(h.network),3)],8,Qg)],2))),128))])):Ue("",!0)]),Rt(a),T("div",{class:"switch-lang",onClick:t[3]||(t[3]=fr(()=>{r.openH5Icon=!1,r.openSwitchChain=!1,r.openMore=!1,r.openSwitchLang=!r.openSwitchLang},["stop"]))},[Yg,r.openSwitchLang?(Q(),$("div",Hg,[(Q(!0),$(on,null,sn(r.langList,h=>(Q(),$("div",{key:h.value,class:ht(h.value==r.counter.lang?"item-container item-active-container":"item-container")},[T("div",{class:"item",onClick:f=>r.changeLang(h.value)},[T("span",null,X(h.icon)+"\xA0\xA0"+X(h.label),1)],8,Gg)],2))),128))])):Ue("",!0)]),T("div",{class:"more",onClick:t[4]||(t[4]=fr(()=>{r.openH5Icon=!1,r.openSwitchChain=!1,r.openSwitchLang=!1,r.openMore=!r.openMore},["stop"]))},[Jg,Xg,qg,r.openMore?(Q(),$("div",ey,[(Q(!0),$(on,null,sn(r.list,h=>(Q(),$("div",{key:h.name,class:"item-container"},[T("a",{class:"item",href:h.link,target:"_blank"},[(Q(),$("svg",ny,[T("use",{"xlink:href":h.icon},null,8,ry)])),T("span",null,X(h.name),1)],8,ty)]))),128))])):Ue("",!0)]),T("div",{class:"img-box",onClick:t[5]||(t[5]=fr(()=>{r.openMore=!1,r.openSwitchChain=!1,r.openSwitchLang=!1,r.openH5Icon=!r.openH5Icon},["stop"]))},iy)]),r.isRequestCoins?(Q(),ut(u,{key:0,onOnClose:t[6]||(t[6]=h=>r.isRequestCoins=!1)})):Ue("",!0)])}const ay=jt(kg,[["render",sy],["__scopeId","data-v-ba7cb1ca"]]);const cy=Ot({components:{CHead:ay},setup(){var k,x,z;const r=he(!0),t=ir(),e=Ii();Hr(()=>{setTimeout(()=>{r.value=!1},1e3)});const{connect:n,disconnect:o}=ul(),i=St(),s=ke(()=>i),a=()=>{i.setTransactionDescText(""),i.setIsShowWaiting(!1)},u=ke(()=>t);let h=he(null);pa(async()=>{u.value.address&&s.value.chainName&&e.getAccount(u.value.address)});const f=()=>{h.value=window.setInterval(async()=>{if(u.value.address&&!u.value.loading&&u&&u.value.address&&u.value.countdown<u.value.autoRefreshTime&&(t.setCountdown(u.value.countdown+1),u.value.countdown===u.value.autoRefreshTime))try{await e.getAccount(u.value.address)}catch{}},1e4)};_r(()=>s.value.theme,A=>{document.getElementsByTagName("body")[0].className=`theme-${A}`,A&&(f(),r.value=!0,setTimeout(()=>{r.value=!1},1e3))},{immediate:!0});const w=fa(),y=ke(()=>w);(k=window==null?void 0:window.aptos)==null||k.onNetworkChange(A=>{t.setNetwork(A.networkName)}),(x=window==null?void 0:window.martian)==null||x.onNetworkChange(A=>t.setNetwork(A)),(z=window==null?void 0:window.pontem)==null||z.onNetworkChange(A=>{t.setNetwork(A.name)}),Hr(()=>{const A=localStorage.getItem("chainName"),j=localStorage.getItem(`cetus-${A}-current-wallet`),O=localStorage.getItem(`cetus-${A}-wallet-icon-name`);j&&n(j,O,A),i.getStatsData(),w.setPoolConfigList(),w.setTokens(),w.setRates(),window.setInterval(()=>{w.setRates(),i.getStatsData()},12e4)}),_r(()=>y.value.poolConfigList,A=>{w.setPools(A)}),Cl(()=>{window.clearInterval(h)});const g=()=>{t.setIsShowWalletModal(!1),o()},_=()=>{t.setSwitchWallet(!0)},b=he(!1);return localStorage.getItem("isFirstAccess")||(b.value=!0),{store:s,wallet:u,onSwitch:_,onDisconnect:g,isLoading:r,closeTerm:()=>{localStorage.setItem("isFirstAccess",!0),b.value=!1},showTerm:b,closeWaitingModal:a}}}),ly={key:1,class:"default-container"},uy={class:"header-container"},hy={class:"body-container"},dy={class:"body-container-bg"},fy={class:"body-container-con"};function py(r,t,e,n,o,i){const s=jl,a=or("c-head"),u=Ol,h=ql,f=uu,w=Mu,y=Bw,g=$w;return r.isLoading?(Q(),ut(s,{key:0,class:"startLoading"})):(Q(),$("div",ly,[T("div",uy,[Rt(a)]),T("div",hy,[T("div",dy,[T("div",fy,[Rt(u)])])]),r.store&&r.store.isShowSuccess?(Q(),ut(h,{key:0,onOnClose:t[0]||(t[0]=_=>r.store.setIsShowSuccess(!1))})):Ue("",!0),r.store&&r.store.isShowRejected?(Q(),ut(f,{key:1,onOnClose:t[1]||(t[1]=_=>r.store.setIsShowRejected(!1))})):Ue("",!0),r.store&&r.store.isShowWaiting?(Q(),ut(w,{key:2,onOnClose:r.closeWaitingModal},null,8,["onOnClose"])):Ue("",!0),r.wallet&&r.wallet.isShowWalletModal?(Q(),ut(y,{key:3,onOnDisconnect:t[2]||(t[2]=_=>r.onDisconnect()),onOnSwitch:t[3]||(t[3]=_=>r.onSwitch()),onOnClose:t[4]||(t[4]=_=>r.wallet.setIsShowWalletModal(!1))})):Ue("",!0),r.showTerm?(Q(),ut(g,{key:4,onClose:r.closeTerm},null,8,["onClose"])):Ue("",!0)]))}const Ey=jt(cy,[["render",py],["__scopeId","data-v-926e1873"]]);export{Ey as default};
