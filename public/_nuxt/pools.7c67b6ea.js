import{_ as Ne}from"./apr-tips.34aff2c4.js";import{a as pe,r as g,f9 as Re,fa as Ee,Z as he,W as fe,$ as Ue,i as L,b as ge,e as $e,w as q,fb as Ke,x as De,Q as oe,fc as Me,j as Q,L as re,k as _e,o as l,l as a,p as $,m as s,C as D,t as i,G as P,T as j,q as B,E,c as te,F as K,U as we,K as Pe,s as ke,v as ye,f as je,X as de,z as ue,R as se,Y as ce,N as ve,a5 as me,fd as X,fe as Fe,S as qe,ff as ze}from"./entry.6412fb8f.js";/* empty css              */import{_ as Y}from"./icon_on_2x.92294e56.js";import{p as He}from"./precision.1cd464a0.js";import{_ as Ze,a as We}from"./img-no-Positions_2x.e41c0467.js";import"./index.37240e83.js";const Ge=pe({props:{lItem:{type:Object,required:!0}},setup(e){const o=g(!1),T=Re(Ee,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:M}=he(),U=fe(),O=Ue(),b=L(()=>O),I=g(!1);function A(r){const N=r.balance,R=Me(N).div(Math.pow(10,r.decimals)).toString();return oe(R,r.decimals)}const w=r=>{I.value=!0,setTimeout(()=>{I.value=!1},2e3),U.push(`/deposit?poolAddress=${r.address}&tokena=${r.coinA.address}&tokenb=${r.coinB.address}&fee=${r.fee}`)},V=ge(),c=L(()=>V),k=L(()=>c.value.newTokenObj&&e.lItem.coinA.address&&c.value.newTokenObj[e.lItem.coinA.address]&&c.value.newTokenObj[e.lItem.coinA.address].logo_url),n=L(()=>c.value.newTokenObj&&e.lItem.coinB.address&&c.value.newTokenObj[e.lItem.coinB.address]&&c.value.newTokenObj[e.lItem.coinB.address].logo_url),v=g([]),m=$e(),_=L(()=>m),p=L(()=>_.value.theme);return q(()=>[c.value.addressLpTokens,c.value.newTokenObj,_.value.newTopPoolsObj,_.value.addressLpTokens,e.lItem],([r,N,R])=>{if(!Q(r)&&!Q(N)&&!Q(c.value.RATES)&&!Q(R)){const J=e.lItem.address&&r[e.lItem.address]&&r[e.lItem.address].rewarder_infos||[],z=[];J.forEach((S,H)=>{var F;const x=(F=N[S.coinAddress])==null?void 0:F.decimals,Z=re(S.emissionsEveryDay/Math.pow(10,x),4),ee=re(Number(Z)*c.value.RATES[S.coinAddress]&&c.value.RATES[S.coinAddress].price,4);z.push({...S,logoUrl:N[S.coinAddress]&&N[S.coinAddress].logoURI,day:Z,dayUSD:ee,symbol:N[S.coinAddress].symbol,rewarders:e.lItem[`rewarders${H}`],rewarder_display:e.lItem[`rewarder_display${H+1}`]})}),v.value=z.filter(S=>S.rewarder_display)}},{immediate:!0}),{t:M,isShow:o,indicator:T,thousands:Ke,importIcon:De,router:U,wallet:b,addCommom:oe,getLpView:A,toAdd:w,fromCoinUrl:k,toCoinUrl:n,addLiquidity:I,rewarderInfo:v,theme:p}}});const be=e=>(ke("data-v-946d86f7"),e=e(),ye(),e),Qe={class:"pools-list-item"},Xe={key:0,class:"isFarming"},Ye=be(()=>s("div",{class:"hover-text"},"Farming bonus available",-1)),Je=[Ye],xe=be(()=>s("div",{class:"topBg"},null,-1)),es={class:"top"},ss={class:"img-box"},os=["src"],ts=["src"],ns={class:"coin-name"},ls={key:0,class:"pool-warning"},as={class:"hover-text"},is={class:"symbol-label"},rs={class:"apr"},ds={class:"bottom"},us={class:"induction"},cs={class:"item"},vs={class:"induction-text"},ms={class:"induction-value"},ps={class:"item"},hs={class:"induction-text"},fs={class:"induction-value"},gs={class:"item"},$s={class:"induction-text"},_s={class:"induction-value"},ws={key:0,class:"item rewards-item"},ks={class:"induction-text"},ys={class:"induction-value induction-value-rewards"},bs={class:"rewards-hover"},Is=["src"],Ss=["src"];function Cs(e,o,T,M,U,O){var w,V,c,k,n,v,m,_;const b=Ne,I=we,A=Pe;return l(),a("div",Qe,[(w=e.lItem)!=null&&w.isFarming?(l(),a("div",Xe,Je)):$("",!0),xe,s("div",es,[s("div",ss,[(V=e.lItem)!=null&&V.coinA?(l(),a("img",{key:0,src:e.fromCoinUrl?e.fromCoinUrl:e.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png")},null,8,os)):$("",!0),(c=e.lItem)!=null&&c.coinB?(l(),a("img",{key:1,src:e.toCoinUrl?e.toCoinUrl:e.theme=="default"?e.importIcon("/image/coins/unknown.png"):e.importIcon("/image/coins/sui-unknown.png")},null,8,ts)):$("",!0)]),s("span",ns,[D(i((n=(k=e.lItem)==null?void 0:k.coinA)==null?void 0:n.symbol)+" - "+i((m=(v=e.lItem)==null?void 0:v.coinB)==null?void 0:m.symbol)+" ",1),e.lItem.isSelfBuilt?(l(),a("div",ls,[s("div",as,i(e.t("newAdd.poolWarning")),1)])):$("",!0)]),s("div",is,[(l(!0),a(P,null,j((_=e.lItem)==null?void 0:_.labels,(p,r)=>(l(),a("div",{key:r,class:B(["lable",p])},null,2))),128))]),s("div",rs,[s("span",{class:"apr-text",onClick:o[0]||(o[0]=p=>e.isShow=!e.isShow)},i(e.lItem.is_display_rewarder?e.addCommom(e.lItem.aprTotal,2):e.addCommom(e.lItem.apr,2)),1),s("span",{onClick:o[1]||(o[1]=p=>e.isShow=!e.isShow)},i(e.$t("common.apr")),1),E(b,{class:B(e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),"l-item":e.lItem,"rewarder-info":e.rewarderInfo},null,8,["class","l-item","rewarder-info"])])]),s("div",ds,[s("div",us,[s("div",cs,[s("div",vs,i(e.$t("common.feeTier")),1),s("div",ms,i(e.lItem.fee!=="--"?e.lItem.fee*100:"--")+"%",1)]),s("div",ps,[s("div",hs,i(e.$t("common.liquidity")),1),s("div",fs,"$"+i(e.addCommom(e.lItem.liqidity,2)),1)]),s("div",gs,[s("div",$s,i(e.$t("common.volume24H")),1),s("div",_s,"$"+i(e.addCommom(e.lItem.vol,2)),1)]),e.lItem.is_display_rewarder&&e.rewarderInfo&&e.rewarderInfo.length>0?(l(),a("div",ws,[s("div",ks,i(e.$t("common.rewards")),1),s("div",ys,[e.rewarderInfo&&e.rewarderInfo.length>0?(l(!0),a(P,{key:0},j(e.rewarderInfo,p=>(l(),a("div",{key:p,class:B(["rewards",p.day===0?"reward-none":""])},[s("div",bs,[s("img",{src:p.logoUrl,alt:""},null,8,Is),s("span",null,i(`${p.day} ${p.symbol} per day`),1)]),s("img",{src:p.logoUrl,alt:""},null,8,Ss),s("span",null,i(p.symbol),1)],2))),128)):e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr!=="0%"?(l(),te(I,{key:1,size:"small"})):$("",!0)]),e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr=="0%"?(l(),a("div",{key:0,class:B(["induction-value",e.lItem.rewarder_apr=="0%"?"text-default":"induction-value-rewards"])},i(e.$t("newAdd.noRewards")),3)):$("",!0)])):$("",!0)]),E(A,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:o[2]||(o[2]=p=>e.toAdd(e.lItem))},{default:K(()=>[D(i(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const Ls=_e(Ge,[["render",Cs],["__scopeId","data-v-946d86f7"]]),As=pe({setup(){const{t:e,locale:o}=he(),T=fe(),M=g(!1),U=g(!1),O=g(!1),b=g("TVL"),I=g(["APR","VOL"]),A=g(!1),w=g(e("tab.all")),V=g([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),c=g([]),k=g(""),n=g(["pools"]),v=ge(),m=$e(),_=g(!0),p=g(""),r=L(()=>m),N=L(()=>m.theme),R=L(()=>v),J=L(()=>m.statsData),z=(t,u)=>u.liqidity-t.liqidity,S=(t,u)=>u.vol-t.vol,H=(t,u)=>u.aprNum-t.aprNum;je(()=>{var u,f,C;const t=(C=(f=(u=T==null?void 0:T.currentRoute)==null?void 0:u.value)==null?void 0:f.query)==null?void 0:C.language;t&&Z(t),p.value=o.value,document.addEventListener("click",()=>{W("")})}),q(()=>r.value.chainName,(t,u)=>{t&&m.getStatsData(t)},{immediate:!0});const{setLang:x}=m,Z=t=>{x(t),o.value=t},ee=(t,u)=>t&&u?ue(He.plus(se(t),se(u)),2)+"%":t,F=t=>{let u=0;return t&&t.forEach(f=>{u+=se(String(f))}),String(ue(String(u),2))},Ie=(t=[])=>{const u=t&&t.length>0?t:Object.values(R.value.poolsObj),f=[];u.forEach(h=>{const d=r.value.addressLpTokens[h.address],G=R.value.poolsObj[h.address];let ne,le,ae,ie;d&&(ne=d.rewarder_apr[0]?Number(d.rewarder_apr[0].substring(0,d.rewarder_apr[0].length-1)):0,le=d.rewarder_apr[1]?Number(d.rewarder_apr[1].substring(0,d.rewarder_apr[1].length-1)):0,ae=d.rewarder_apr[2]?Number(d.rewarder_apr[2].substring(0,d.rewarder_apr[2].length-1)):0,ie=ne+le+ae),f.push({...h,liqidity:d?d.tvl_in_usd:"0.00000000001",vol:d?d.vol_in_usd_24h:"0",apr:d?d.apr_7day:"--",fee:h.fee?h.fee:G!=null&&G.fee?G.fee:"--",aprNum:d?String(Number(d.apr_7day.substring(0,d.apr_7day.length-1))+ie):"0",rewarder_apr:F(d&&d.rewarder_apr),aprTotal:ee(d&&d.apr_7day,d&&F(d.rewarder_apr)),rewarders0:d&&d.rewarder_apr[0],rewarders1:d&&d.rewarder_apr[1],rewarders2:d&&d.rewarder_apr[2],labels:h!=null&&h.labels?h.labels:[],isFarming:h==null?void 0:h.isFarming,isSelfBuilt:h==null?void 0:h.isSelfBuilt})});let C=[];if(b.value=="APR"?C=f.sort(H):b.value=="VOL"?C=f.sort(S):C=f.sort(z),w.value!=e("tab.all")){const h=[];C.forEach(d=>{d.labels.indexOf(w.value)!==-1&&h.push(d)}),c.value=h}else c.value=C;if(k.value){var Oe=new RegExp("[\\u4E00-\\u9FFF]+","g");if(Oe.test(k.value)){k.value="";return}const h=c.value.filter(d=>d.symbol.toLowerCase().includes(k.value.toLowerCase()));c.value=h}_.value=!1};q(()=>[R.value.poolConfigList,r.value.chainName,k.value,b.value,w.value,r.value.addressLpTokens],([t,u])=>{t&&(t==null?void 0:t.length)>0&&t[0]&&u&&(u==null?void 0:u.toLowerCase().includes(t[0].chain))&&Ie(t)},{immediate:!0,deep:!0});const Se=t=>{if(!_.value&&(M.value=!0,t)){const u=c.value.filter(f=>f.symbol.toLowerCase().includes(t.toLowerCase()));c.value=u,M.value=!1}},Ce=()=>{_.value=!0,U.value=!0,m.getStatsData(r.value.chainName),v.setPoolConfigList(r.value.chainName),setTimeout(()=>{U.value=!1},1e3)},Le=t=>{const u=[];u.push(b.value),I.value.forEach((f,C)=>{f!=t&&u.push(f)}),I.value=u,b.value=t},Ae=t=>{const u=[];V.value.forEach((f,C)=>{f==t?u[C]=w.value:u[C]=f}),V.value=u,w.value=t};q(()=>m.lang,t=>{p.value=t});const W=t=>{t=="label"?(m.setIsSelect("pools"),A.value=!A.value,O.value=!1,r.value.setIsShowMore(!1)):t=="select"?(m.setIsSelect("pools"),O.value=!O.value,A.value=!1,r.value.setIsShowMore(!1)):(O.value=!1,A.value=!1)},Ve=()=>{T&&T.push("/position")},Te=L(()=>de[r.value.chainName]);q(()=>r.value.isSelect,t=>{t!=="pools"&&W("")},{immediate:!0});const Be=L(()=>R.value.poolConfigList.filter(u=>u.address==de[r.value.chainName].newPositionAddress)[0]);return{store:r,showMore:()=>{r.value.setIsShowMore(!r.value.isShowMore),r.value.setOpenMore(!1),r.value.setOpenSwitchLang(!1),r.value.setOpenH5Icon(!1),r.value.setOpenSwitchChain(!1),W("")},lpInfo:Be,config:Te,toPositionList:Ve,t:e,router:T,loading:M,clickRefresh:Ce,refresh:U,updateLpList:Se,searchKey:k,current:n,addCommom:oe,list:c,theme:N,statsData:J,pools:R,select:O,selectValue:b,selectList:I,label:A,labelValue:w,labelList:V,changeSort:Le,changeSortLabel:Ae,reviseValue:W,listLoading:_,languageValue:p}}});const y=e=>(ke("data-v-a7ddc60d"),e=e(),ye(),e),Vs={class:"pools-list-container"},Ts={class:"right-link"},Bs=["href"],Os=y(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-jump"})],-1)),Ns=y(()=>s("div",null,null,-1)),Rs=y(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-add1"})],-1)),Es={class:"search-refresh"},Us={class:"my-position position-h5"},Ks=["placeholder"],Ds=y(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Ms=[Ds],Ps={key:0,class:"select-item"},js=["onClick"],Fs=y(()=>s("img",{src:Y,alt:""},null,-1)),qs=y(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),zs=[qs],Hs={key:0,class:"select-item"},Zs=["onClick"],Ws=y(()=>s("img",{src:Y,alt:""},null,-1)),Gs=y(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Qs=[Gs],Xs={class:"search-tab"},Ys={class:"my-position position-pc"},Js=y(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),xs=[Js],eo={key:0,class:"select-item"},so=["onClick"],oo=y(()=>s("img",{src:Y,alt:""},null,-1)),to=y(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),no=[to],lo={key:0,class:"select-item"},ao=["onClick"],io=y(()=>s("img",{src:Y,alt:""},null,-1)),ro=["placeholder"],uo=y(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),co=[uo],vo={class:"item item-left"},mo={class:"value"},po={class:"label"},ho={class:"item item-right"},fo={class:"value"},go={class:"label"},$o={key:2,class:"no-data"},_o={key:0,src:Ze},wo={key:1,src:We};function ko(e,o,T,M,U,O){const b=ce("mail-outlined"),I=ze,A=ce("appstore-outlined"),w=Fe,V=qe,c=we,k=Ls;return l(),a("div",Vs,[s("div",{class:"pools-title",onClick:o[1]||(o[1]=n=>e.reviseValue(""))},[s("div",null,i(e.$t("common.concentratedPools")),1),s("div",Ts,[e.store&&e.store.chainName==="Aptos"?(l(),a("a",{key:0,href:`${e.config.ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"ammSite"},[s("span",null,i(e.$t("common.ammPools")),1),Os],8,Bs)):$("",!0),Ns,s("div",{class:"position",onClick:o[0]||(o[0]=n=>{var v,m,_,p,r;return e.router.push(`/deposit?tokena=${((v=e.lpInfo)==null?void 0:v.coinA)&&((m=e.lpInfo)==null?void 0:m.coinA.address)}&tokenb=${((_=e.lpInfo)==null?void 0:_.coinB)&&((p=e.lpInfo)==null?void 0:p.coinB.address)}&fee=${(r=e.lpInfo)==null?void 0:r.fee}`)})},[s("span",null,i(e.$t("newAdd.newPosition")),1),Rs])])]),s("div",Es,[s("div",Us,[s("div",{class:"search-input",onClick:o[5]||(o[5]=n=>e.reviseValue(""))},[ve(s("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>e.searchKey=n),oninput:"value=value.match(/^[A-Za-z0-9-]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,Ks),[[me,e.searchKey]]),e.searchKey?(l(),a("div",{key:0,class:"out-icon",onClick:o[3]||(o[3]=n=>e.searchKey="")})):$("",!0),s("div",{class:"search-icon",onClick:o[4]||(o[4]=n=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:o[6]||(o[6]=X(n=>e.reviseValue("label"),["stop"]))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(l(),a("svg",{"aria-hidden":"true",class:B(e.label?"show-icon icon":"icon")},Ms,2)),e.label?(l(),a("div",Ps,[(l(!0),a(P,null,j(e.labelList,(n,v)=>(l(),a("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSortLabel(n)},i(n),9,js))),128))])):$("",!0)]),s("div",{class:"search-select",onClick:o[7]||(o[7]=X(n=>e.reviseValue("select"),["stop"]))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[D(i(e.selectValue)+" ",1),Fs]),(l(),a("svg",{"aria-hidden":"true",class:B(e.select?"show-icon icon":"icon")},zs,2)),e.select?(l(),a("div",Hs,[(l(!0),a(P,null,j(e.selectList,(n,v)=>(l(),a("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSort(n)},[D(i(n)+" ",1),Ws],8,Zs))),128))])):$("",!0)]),(l(),a("svg",{"aria-hidden":"true",class:B(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[8]||(o[8]=(...n)=>e.clickRefresh&&e.clickRefresh(...n))},Qs,2))]),s("div",Xs,[E(w,{selectedKeys:e.current,"onUpdate:selectedKeys":o[9]||(o[9]=n=>e.current=n),mode:"horizontal"},{default:K(()=>[E(I,{key:"pools"},{icon:K(()=>[E(b)]),default:K(()=>[D(" "+i(e.$t("menu.pools")),1)]),_:1}),E(I,{key:"position",onClick:e.toPositionList},{icon:K(()=>[E(A)]),default:K(()=>[D(" "+i(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Ys,[e.store.theme=="default"?(l(),a("div",{key:0,class:"search-select search-label",onClick:o[10]||(o[10]=X(n=>e.reviseValue("label"),["stop"]))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(l(),a("svg",{"aria-hidden":"true",class:B(e.label?"show-icon icon":"icon")},xs,2)),e.label?(l(),a("div",eo,[(l(!0),a(P,null,j(e.labelList,(n,v)=>(l(),a("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSortLabel(n)},i(n),9,so))),128))])):$("",!0)])):$("",!0),s("div",{class:"search-select",onClick:o[11]||(o[11]=X(n=>e.reviseValue("select"),["stop"]))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[D(i(e.selectValue)+" ",1),oo]),(l(),a("svg",{"aria-hidden":"true",class:B(e.select?"show-icon icon":"icon")},no,2)),e.select?(l(),a("div",lo,[(l(!0),a(P,null,j(e.selectList,(n,v)=>(l(),a("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSort(n)},[D(i(n)+" ",1),io],8,ao))),128))])):$("",!0)]),s("div",{class:"search-input",onClick:o[15]||(o[15]=n=>e.reviseValue(""))},[ve(s("input",{"onUpdate:modelValue":o[12]||(o[12]=n=>e.searchKey=n),oninput:"value=value.match(/^[A-Za-z0-9-]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,ro),[[me,e.searchKey]]),e.searchKey?(l(),a("div",{key:0,class:"out-icon",onClick:o[13]||(o[13]=n=>e.searchKey="")})):$("",!0),s("div",{class:"search-icon",onClick:o[14]||(o[14]=n=>e.updateLpList(e.searchKey))})]),(l(),a("svg",{"aria-hidden":"true",class:B(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[16]||(o[16]=(...n)=>e.clickRefresh&&e.clickRefresh(...n))},co,2))])]),s("div",{class:"tvl-vol",onClick:o[17]||(o[17]=n=>e.reviseValue(""))},[s("div",vo,[E(V,{loading:e.listLoading,active:"",paragraph:!1},{default:K(()=>[s("div",mo," $ "+i(e.addCommom(e.statsData&&e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",po,i(e.$t("common.totalValueLocked")),1)]),s("div",ho,[E(V,{loading:e.listLoading,active:"",paragraph:!1},{default:K(()=>[s("div",fo," $ "+i(e.addCommom(e.statsData&&e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",go,i(e.$t("common.volume24H")),1)])]),s("div",{class:"item-container",onClick:o[18]||(o[18]=n=>e.reviseValue(""))},[e.listLoading?(l(),te(c,{key:0})):e.list&&e.list.length>0?(l(!0),a(P,{key:1},j(e.list,(n,v)=>(l(),te(k,{key:v,"l-item":n},null,8,["l-item"]))),128)):(l(),a("div",$o,[e.theme=="default"?(l(),a("img",_o)):(l(),a("img",wo)),s("span",null,i(e.$t("common.poolsNotFound")),1)]))])])}const To=_e(As,[["render",ko],["__scopeId","data-v-a7ddc60d"]]);export{To as default};
