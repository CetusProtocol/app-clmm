import{_ as sn,a as ln}from"./token-warning-modal.61695ae3.js";import{_ as un}from"./assets-card.2ed63bb5.js";import{u as Pe,a as ko,c as de,D as m,s as ie,e as W,j as $e,d as re,r as Ee,p as ye,b as rn,f as qe}from"./pool.57f03307.js";import{e as Oe,a as Je,a4 as So,a9 as Io,r as f,m as N,D as Z,q as Fe,o as d,f as h,h as o,c as q,x as U,t as Q,j as G,v as u,z as ve,u as z,J as To,S as $o,p as _e,k as Re,a3 as dn,i as me,w as le,N as No,M as Bo,K as Po,F as oo,s as bo,B as Oo,b as wo,l as cn,y as mn,C as vn,a6 as We}from"./entry.3bca6f6c.js";/* empty css              *//* empty css              */import{u as Ue,c as Ae,a as pn}from"./index.bd5ac2dd.js";import"./decimal.604513f5.js";import{i as ue}from"./import-icon.de3e6c66.js";import{_ as fn}from"./network-tips.13251a9a.js";import{_ as gn}from"./coin-select.e790199f.js";import{_ as hn}from"./swap-setting.1f41514b.js";/* empty css              */import{u as Cn}from"./swapRouter.6dcb6526.js";import{_ as yn}from"./img-leverage_2x.1c577303.js";/* empty css              */import"./icon-selected_3x.09e9a6f0.js";import"./token-warning.a1ad56cb.js";/* empty css              */import"./img-no-Positions_2x.0e997076.js";const An=""+globalThis.__publicAssetsURL("sui-image/route-view.png");const bn=Je({props:{swapLoading:{type:Boolean,default:!1},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},impact:{type:String,default:""},insufficientLiquidity:{type:Boolean,default:!1},oneToAmount:{type:String,default:""},oneFromAmount:{type:String,default:""},suiPreSwapdata:{type:Object,default:()=>({})},suiSwapFee:{type:String,default:""},swapRouterLoading:{type:Boolean,default:!1}},setup(e){const v=So(Io,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0}),A=f(!1),y=Ue(),R=N(()=>y),E=N(()=>R.value.slippage),i=N(()=>R.isShowRouterModal);Z(()=>e,w=>{},{immediate:!0,deep:!0});const I=Pe(),T=N(()=>I),j=ko("Sui"),C=f({}),F=f({}),J=f({});Z(()=>[e.suiPreSwapdata,T.value.tokensObj],async([w,p])=>{w&&!de(w)&&p&&!de(p)&&(w.coinTypeA&&(C.value=p[w.coinTypeA]||(await j.getTokenListByCoinType([w.coinTypeA]))[0]),w.coinTypeB&&(F.value=p[w.coinTypeB]||(await j.getTokenListByCoinType([w.coinTypeB]))[0]),w.coinTypeC&&(J.value=p[w.coinTypeC]||(await j.getTokenListByCoinType([w.coinTypeC]))[0]))},{immediate:!0});const H=f(0),K=f(0);return Z(()=>[e.fromCoinAmount,e.toCoinAmount,e.fromCoin,e.toCoin,e.fixedFromCoin,E.value],([w,p,ne,D,Y,s])=>{if(w&&p&&ne&&D&&s)if(Y){const r=new m(p).mul(new m(s/100));K.value=new m(p).sub(r).toString()}else{const r=new m(w).mul(new m(s/100));H.value=new m(w).sub(r).toString()}},{immediate:!0}),{sFixD:ie,getCoinIcon:w=>{var p;return(w==null?void 0:w.logoURI)||(w==null?void 0:w.logo_url)||((p=T.value.tokensObj[w==null?void 0:w.address])==null?void 0:p.logo_url)||(R.theme==="default"?ue("/image/coins/unknown.png"):ue("/image/coins/sui-unknown.png"))},indicator:v,rateChange:A,slippage:E,isShowRouterModal:i,indexStore:y,coinTypeA:C,coinTypeB:F,coinTypeC:J,maximumSold:H,minimumReceived:K,addCommom:W}}}),be=e=>(_e("data-v-fd74e509"),e=e(),Re(),e),wn={key:0,class:"swap-info"},kn={class:"loading-swap"},Sn={key:1,class:"swap-rate"},In={key:0},Tn={key:0},$n={key:1},Nn={key:0},Bn=be(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Pn=be(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),On=[Bn,Pn],Fn={key:2},_n={class:"trade-info"},Rn={class:"trade-block"},Un=be(()=>o("div",{class:"lebal"},"Price Impact",-1)),Mn={key:0,class:"icon","aria-hidden":"true"},jn=be(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Ln=[jn],Dn={class:"trade-block"},En={class:"lebal"},qn={key:0,class:"text"},Wn={class:"trade-block"},Jn=be(()=>o("div",{class:"lebal"},"Fee",-1)),Xn={key:0,class:"text"},Qn={key:0,class:"trade-block"},zn=be(()=>o("div",{class:"lebal"},"Route",-1)),Yn={key:0,class:"text"},Zn={key:0},Hn={key:1},Kn={key:2},Gn=be(()=>o("img",{src:An,alt:""},null,-1));function Vn(e,v,A,y,R,E){const i=To,I=$o,T=Fe("image");return e.swapLoading||Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&!e.insufficientLiquidity?(d(),h("div",wn,[o("div",kn,[e.swapLoading||e.swapRouterLoading?(d(),q(i,{key:0,size:"small",indicator:e.indicator},null,8,["indicator"])):U("",!0),e.swapLoading?e.swapLoading?(d(),h("span",Fn,"Best route and price")):U("",!0):(d(),h("div",Sn,[e.rateChange?(d(),h("span",$n,[e.fromCoinAmount&&e.toCoinAmount?(d(),h("span",Nn,[Q(o("img",null,null,512),[[T,e.getCoinIcon(e.toCoin)]]),G(" 1 "+u(e.toCoin.symbol)+" ≈ ",1),Q(o("img",null,null,512),[[T,e.getCoinIcon(e.fromCoin)]]),G(u(e.oneFromAmount==1/0?0:e.oneFromAmount)+" "+u(e.fromCoin.symbol),1)])):(d(),q(i,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(d(),h("span",In,[Q(o("img",null,null,512),[[T,e.getCoinIcon(e.fromCoin)]]),G(" 1 "+u(e.fromCoin.symbol)+" ≈ ",1),e.fromCoinAmount&&e.toCoinAmount?(d(),h("span",Tn,[Q(o("img",null,null,512),[[T,e.getCoinIcon(e.toCoin)]]),G(u(e.oneToAmount==1/0?0:e.oneToAmount)+" "+u(e.toCoin.symbol),1)])):(d(),q(i,{key:1,indicator:e.indicator},null,8,["indicator"]))])),o("div",{class:"right",onClick:v[0]||(v[0]=j=>e.rateChange=!e.rateChange)},On)]))]),o("div",_n,[o("div",Rn,[Un,e.swapRouterLoading?(d(),q(I,{key:1,paragraph:!1,active:""})):(d(),h("div",{key:0,class:ve(["text",e.impact<1?"impact-s":e.impact<10&&e.impact>=1?"impact-w":"impact-e"])},[G(u(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(d(),h("svg",Mn,Ln)):U("",!0)],2))]),o("div",Dn,[o("div",En,u(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swapRouterLoading?(d(),q(I,{key:1,paragraph:!1,active:""})):(d(),h("div",qn,u(e.fixedFromCoin?("addCommom"in e?e.addCommom:z(W))(("sFixD"in e?e.sFixD:z(ie))(e.minimumReceived,e.toCoin.decimals)):("addCommom"in e?e.addCommom:z(W))(("sFixD"in e?e.sFixD:z(ie))(e.maximumSold,e.fromCoin.decimals)))+" "+u(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",Wn,[Jn,e.swapRouterLoading?(d(),q(I,{key:1,paragraph:!1,active:""})):(d(),h("div",Xn,u(e.suiSwapFee),1))]),e.insufficientLiquidity?U("",!0):(d(),h("div",Qn,[zn,e.swapRouterLoading?(d(),q(I,{key:1,paragraph:!1,active:""})):(d(),h("div",{key:0,class:"text",onClick:v[1]||(v[1]=j=>e.indexStore.setIsShowRouterModal(!e.isShowRouterModal))},[e.swapRouterLoading?U("",!0):(d(),h("div",Yn,[e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeA?(d(),h("span",Zn,u(e.coinTypeA.symbol)+" "+u(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?"> ":""),1)):U("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?(d(),h("span",Hn,u(e.coinTypeB.symbol)+" "+u(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?"> ":""),1)):U("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?(d(),h("span",Kn,u(e.coinTypeC.symbol),1)):U("",!0)])),Gn]))]))])])):U("",!0)}const xn=Oe(bn,[["render",Vn],["__scopeId","data-v-fd74e509"]]);async function ea(e,v){var E,i;const A=e==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":e,y=`${Ae.Sui.api}/v2/sui/coin/kline?coin_address=${A}&interval=hour&market=${v}`,R=await $fetch(y);return((i=(E=R==null?void 0:R.data)==null?void 0:E.list)==null?void 0:i.reverse())||[]}async function oa(e){const{prices:v}=await $fetch(`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&id=${e}&days=1&interval=hourly`,{headers:{Connection:"keep-alive",Accept:"*/*"}}),A=[];return v.forEach(y=>{A.push({price:new m(y[1]).toString(),timestamp:y[0]})}),A}const na={props:{coin:{type:Object,default:()=>({})},refresh:{type:Boolean,default:!1},id:{type:String,default:""},market:{type:String,default:""}},setup(e,v){const{$echarts:A}=dn();let y=null,R;const E=f(!0),i=Ue(),I=N(()=>i),T=N(()=>I.value.chainName),j=N(()=>Ae[T.value]),C=Pe(),F=N(()=>C),J=(s,r,O)=>{R={xAxis:{type:"category",boundaryGap:!1,show:!1,data:r},yAxis:{type:"value",show:!1,min:function(P){return P.min-P.min*.1},max:function(P){return P.max+P.max*.1}},grid:{top:1,right:1,bottom:1,left:1},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:I.value.chainName=="Aptos"?"#68FFD8":"#76C8FF"}},formatter:function(P){return`<div class="chart-tip">
              <div>${P&&P[0]&&P[0].name}</div>
              <div>$${re(P&&P[0]&&P[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:I.value.chainName=="Aptos"?"#0C4535":"#2E546D"},{offset:1,color:I.value.chainName=="Aptos"?"#151817":"#1B1B1B"}]},series:[{data:s,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:I.value.chainName=="Aptos"?"#68FFD8":"#76C8FF",width:2,type:"solid"}}]},R&&y.clear(),R&&y.setOption(R,!0),y.resize(),E.value=!1},H=f(""),K=f(""),V=async s=>{var ae,fe;const r=[],O=[],P=T.value==="Aptos"?await oa(s):await ea(s,e.market);H.value=P&&P.length>1&&(P[P.length-1].price-P[0].price)/P[0].price*100,K.value=P&&P.length>1&&P[P.length-1].price,T.value==="Aptos"?P.forEach(B=>{r.push(B.price);const X=Ee(Number(B.timestamp),"MD"),t=Ee(Number(B.timestamp),"HM");O.push(X+" "+t)}):P.forEach(B=>{r.push(B.price);const X=Ee(new m(B.timestamp).mul(1e3).toNumber(),"MD"),t=Ee(new m(B.timestamp).mul(1e3).toNumber(),"HM");O.push(X+" "+t)});let ke=document.getElementById(`main${(ae=e.coin)==null?void 0:ae.name}`);y=A.init(ke),J(r,O,(fe=e.coin)==null?void 0:fe.name)};Z(()=>e.id,(s,r)=>{s&&(H.value="",K.value="",setTimeout(()=>{V(s)},1e3))},{immediate:!0});const w=f(""),p=f(""),ne=f(""),D=f("");return Z(()=>[F.value.tokensObj,e.coin],([s,r])=>{var O,P;s&&r&&s[r.address]&&(p.value=((O=s[r.address])==null?void 0:O.labels)&&((P=s[r.address])==null?void 0:P.labels[0]),w.value=s[r.address].name,ne.value=s[r.address].symbol,D.value=s[r.address].address)},{immediate:!0,deep:!0}),Z(()=>e.refresh,s=>{s&&V(e.id)}),{theme:N(()=>I.value.theme),store:i,importIcon:ue,fixD:$e,config:j,price_rate_24h:H,nowPrice:K,coinName:w,coinLabels:p,coinSymbol:ne,address:D,decimalUi:re}}},aa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAk1BMVEUAAADn2v/m2//r2//v4//n2v/55P/n2v/o3P//+P/m2v/n2f/n2v/n2v/n2v/n2v/n2v/o2//p2//n3f/o3v/n2f/n2v/n2v/n2v/n2v/n2//o2v/q3f/r4f/u3f/n2v/o2v/n2//p3P/o3P/m2v/n2v/n2f/n2v/o2f/n2//r3f/t3P/n2v/m2v/o2v/r3v/m2f/tUDLHAAAAMHRSTlMAl5oyFNMJqSwFhvvr5d7Yr2FGNSD0zb2lkIltOhkOxoJoT0D48aJzWFYlHeB8Wief0nHAAAABSElEQVQ4y52Q53LCMBCEZWK5g0swBpveQknZ93+6rFxAHkSYyf6x9+67JqHLKxOZRzJJbWHStkCn0Fo8pG0XuvJv0dciBjVZb+dZeoxABb38MlbpXeucr5z2QwdUf8vX1h0ByLT9aAeCGlez4Ozw5zoE4nvFBJB0yymUhqp0B2DT5ec0O+YlWlUMJsCqAwJA8jNV1W4RAnuvqepeYwWsOR/AkfM9ji8YjYBTC3wCZyEq1jvKnoCQP8X90j0wF2IGuM2jArjUE8sWAPAmxACwavtDf623XJsBtoqa2zcm4MI8Ag7iNZkBeAcVc8cUOPhPgJjP4I/UzkYgKtWxpQqaAGfMvvUATIUBaOQHAEb2M2CZcj4OnrhJasDYXYVQ9Vpe2LJ/BeWyf4/oAXlC25e9uI0IqswRJulX/BOwXgG2JPCCIPA3sXmM/QK1PTc8LGCPoAAAAABJRU5ErkJggg==",ta="data:image/png;base64,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";const sa=e=>(_e("data-v-1faff046"),e=e(),Re(),e),ia={class:"token-info"},la={class:"token-info-padding"},ua={class:"token-info-header"},ra={class:"left"},da=["onerror"],ca={class:"name"},ma={class:"desc"},va={key:0},pa={class:"right"},fa={class:"price-info"},ga={key:0,src:aa,alt:""},ha={key:1,src:ta,alt:""},Ca={class:"token-info-footer"},ya={class:"left"},Aa={class:"address"},ba={key:0,class:"pc-address"},wa={key:1,class:"pc-address"},ka={class:"h5-address"},Sa=sa(()=>o("use",{"xlink:href":"#icon-icon-copy1"},null,-1)),Ia=[Sa],Ta={class:"right"},$a=["id"];function Na(e,v,A,y,R,E){var T;const i=No,I=Fe("image");return d(),h("div",ia,[o("div",la,[o("div",ua,[o("div",ra,[Q(o("img",{onerror:y.theme=="default"?y.importIcon("/image/coins/unknown.png"):y.importIcon("/image/coins/sui-unknown.png")},null,8,da),[[I,A.coin.logoURI||y.importIcon(`/image/coins/${A.coin.symbol.toLowerCase()}.png`)]]),o("div",null,[o("div",ca,u(y.coinSymbol),1),o("div",ma,[o("span",null,[G(u(y.coinName)+" ",1),y.theme!=="sui"?(d(),h("span",va,u(y.coinLabels?`(${y.coinLabels})`:""),1)):U("",!0)])])])]),o("div",pa,[me(i,{placement:"top","arrow-point-at-center":""},{title:le(()=>[G(u(A.market==="pyth"?"Data source: Pyth Network":"Data source: CoinGecko"),1)]),default:le(()=>[o("div",fa,[A.market==="pyth"?(d(),h("img",ga)):(d(),h("img",ha)),o("span",null,"$"+u(y.nowPrice?Number(y.nowPrice)<1?y.decimalUi(y.nowPrice,4):y.fixD(y.nowPrice,2):"--"),1),y.price_rate_24h?(d(),h("i",{key:2,class:ve(y.price_rate_24h>0?"up":y.price_rate_24h<0?"down":"up")},u(y.price_rate_24h>0?`+ ${y.fixD(y.price_rate_24h,2)}`:y.price_rate_24h<0?+`${y.fixD(y.price_rate_24h,2)}`:`+${y.fixD(y.price_rate_24h,2)}`)+"%",3)):U("",!0)])]),_:1})])]),o("div",Ca,[o("div",ya,[o("div",Aa,[A.coin&&y.address!=="0x2::sui::SUI"?(d(),h("span",ba,u(A.coin&&A.coin.address.substr(0,13))+" ... "+u(A.coin&&A.coin.address.substr(A.coin.address.length-13,13)),1)):(d(),h("span",wa,u(A.coin&&A.coin.address),1)),o("span",ka,u(A.coin&&A.coin.address.substr(0,4))+" ... "+u(A.coin&&A.coin.address.substr(A.coin.address.length-4,4)),1),(d(),h("svg",{class:"icon","aria-hidden":"true",onClick:v[0]||(v[0]=j=>y.store.copy(A.coin&&A.coin.address))},Ia))])]),o("div",Ta,[o("div",{id:`main${(T=A.coin)==null?void 0:T.name}`,class:"main"},null,8,$a)])])])])}const Ba=Oe(na,[["render",Na],["__scopeId","data-v-1faff046"]]);const Pa=Je({components:{Modal:Bo},props:{routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},routerTotalAmounts:{type:String,default:""},suiPreSwapdata:{type:Object,default:()=>({})}},setup(e){const v=Pe(),A=N(()=>v),y=f([]);Z(()=>[e.routerPool,A.value.routerPoolConfigObj,e.routerTotalAmounts,e.fromCoin,e.toCoin],([C,F,J,H,K])=>{if(C&&C.length>0&&F&&!de(F)&&J){const V=[];C.forEach(w=>{const p="100",ne=w.amountIn.toString(),D=ye(w.amountOut.toString(),K.decimals),Y=w.poolAddress.map((s,r)=>({...F&&F[s]}));V.push({percent:p,...w,amountIn:ne,amountOut:D,poolAddress:Y})}),y.value=V}},{immediate:!0}),N(()=>{var C,F;return(F=(C=A.value)==null?void 0:C.poolInfo)==null?void 0:F.needReverse});const R=Ue(),E=N(()=>R),i=C=>{var F;return(C==null?void 0:C.logoURI)||(C==null?void 0:C.logo_url)||((F=A.value.tokensObj[C==null?void 0:C.address])==null?void 0:F.logo_url)||(E.value.theme==="default"?ue("/image/coins/unknown.png"):ue("/image/coins/sui-unknown.png"))},I=f({}),T=f({}),j=f({});return Z(()=>[e.suiPreSwapdata,A.value.tokensObj],async([C,F])=>{C&&!de(C)&&F&&!de(F)&&(C.coinTypeA&&(I.value=F[C.coinTypeA]||(await contract.getTokenListByCoinType([C.coinTypeA]))[0]),C.coinTypeB&&(T.value=F[C.coinTypeB]||(await contract.getTokenListByCoinType([C.coinTypeB]))[0]),C.coinTypeC&&(j.value=F[C.coinTypeC]||(await contract.getTokenListByCoinType([C.coinTypeC]))[0]))},{immediate:!0}),{addCommom:W,routerStep:y,getCoinIcon:i,coinTypeA:I,coinTypeB:T,coinTypeC:j}}}),Xe=e=>(_e("data-v-e21a01d4"),e=e(),Re(),e),Oa=Xe(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Fa={class:"route-top"},_a={class:"token-a"},Ra={alt:""},Ua={class:"token-num"},Ma={class:"token-symbol"},ja={class:"token-b"},La={class:"token-num"},Da={class:"token-symbol"},Ea={alt:""},qa={class:"route-bottom"},Wa=Xe(()=>o("div",{class:"left-round"},null,-1)),Ja=Xe(()=>o("div",{class:"right-round"},null,-1)),Xa={class:"percent"},Qa={class:"pool-info"},za={class:"token-a-img",alt:""},Ya={class:"token-b-img",alt:""},Za={key:1,class:"pool-info-box"},Ha={class:"pool-info"},Ka={class:"token-a-img",alt:""},Ga={class:"token-b-img",alt:""},Va=Xe(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on1"})],-1)),xa={class:"pool-info"},et={class:"token-a-img",alt:""},ot={class:"token-b-img",alt:""};function nt(e,v,A,y,R,E){const i=Po("Modal"),I=Fe("image");return d(),q(i,{title:"Route",width:"600px",visible:!0,footer:null,onCancel:v[0]||(v[0]=T=>e.$emit("onClose"))},{closeIcon:le(()=>[Oa]),default:le(()=>{var T,j,C,F;return[o("div",Fa,[o("div",_a,[Q(o("img",Ra,null,512),[[I,(T=e.fromCoin)==null?void 0:T.logo_url]]),o("span",Ua,u(("addCommom"in e?e.addCommom:z(W))(e.fromCoinAmount)),1),o("span",Ma,u((j=e.fromCoin)==null?void 0:j.symbol),1)]),o("div",ja,[o("span",La,u(("addCommom"in e?e.addCommom:z(W))(e.toCoinAmount)),1),o("span",Da,u((C=e.toCoin)==null?void 0:C.symbol),1),Q(o("img",Ea,null,512),[[I,(F=e.toCoin)==null?void 0:F.logo_url]])])]),o("div",qa,[Wa,Ja,(d(!0),h(oo,null,bo(e.routerStep,(J,H)=>(d(),h("div",{key:J,class:ve(["route-path",H!==0?"route-path-active":""])},[o("div",Xa,[o("span",null,u(J.percent)+"%",1),o("span",null,u(("addCommom"in e?e.addCommom:z(W))(J.amountOut))+" "+u(e.toCoin.symbol),1)]),J.poolAddress&&J.poolAddress.length==1?(d(!0),h(oo,{key:0},bo(J.poolAddress,(K,V)=>(d(),h("div",{key:V,class:"pool-info-box"},[o("div",Qa,[Q(o("img",za,null,512),[[I,e.getCoinIcon(e.coinTypeA)]]),Q(o("img",Ya,null,512),[[I,e.getCoinIcon(e.coinTypeB)]]),o("span",null,u(K.fee*100)+"%",1)])]))),128)):(d(),h("div",Za,[o("div",Ha,[Q(o("img",Ka,null,512),[[I,e.getCoinIcon(e.coinTypeA)]]),Q(o("img",Ga,null,512),[[I,e.getCoinIcon(e.coinTypeB)]]),o("span",null,u(J.poolAddress[0].fee*100)+"%",1)]),Va,o("div",xa,[Q(o("img",et,null,512),[[I,e.getCoinIcon(e.coinTypeB)]]),Q(o("img",ot,null,512),[[I,e.getCoinIcon(e.coinTypeC)]]),o("span",null,u(J.poolAddress[1].fee*100)+"%",1)])]))],2))),128))])]}),_:1})}const at=Oe(Pa,[["render",nt],["__scopeId","data-v-e21a01d4"]]),tt=Je({components:{Modal:Bo},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:"1245566.008946"},toCoinAmount:{type:String,default:"998041.711793"},slippage:{type:String,default:""},impact:{type:Number,required:!0},fixedFromCoin:{type:Boolean,default:!1},fee:{type:String,required:!0},formatFee:{type:String,default:""},isShowAccept:{type:Boolean,default:!1},swapLoading:{type:Boolean,required:!0},oneFromAmount:{type:String,default:""},oneToAmount:{type:String,default:""}},setup(e,v){const A=Pe(),y=N(()=>A),R=Ue(),E=N(()=>R),i=C=>{var F;return(C==null?void 0:C.logoURI)||(C==null?void 0:C.logo_url)||((F=y.value.tokensObj[C==null?void 0:C.address])==null?void 0:F.logo_url)||(E.value.theme==="default"?ue("/image/coins/unknown.png"):ue("/image/coins/sui-unknown.png"))},I=f(!1),T=N(()=>E.value.chainName);return{getCoinIcon:i,addCommom:W,sFixD:ie,rateChange:I,chainName:T,clickNextBtn:async()=>{v.emit("to-swap")}}}});const pe=e=>(_e("data-v-a8ec2ef8"),e=e(),Re(),e),st=pe(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),it={class:"new-swap-contnet"},lt={class:"coin-info"},ut={class:"from-coin-info"},rt={class:"left"},dt={class:"coin-amount"},ct={class:"coin-symbol"},mt={class:"right"},vt={class:"to-coin-info"},pt={class:"left"},ft={class:"coin-amount"},gt={class:"coin-symbol"},ht={class:"right"},Ct=pe(()=>o("div",{class:"to-swap-logo"},null,-1)),yt={class:"coin-rate"},At={key:0},bt={class:"left"},wt=pe(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),kt=pe(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),St=[wt,kt],It={key:1},Tt={class:"left"},$t=pe(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Nt=pe(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Bt=[$t,Nt],Pt={class:"bottom"},Ot={class:"induction"},Ft={class:"item"},_t={class:"induction-text"},Rt={class:"induction-value"},Ut={class:"item"},Mt={class:"induction-text"},jt={class:"induction-value"},Lt={class:"item"},Dt={class:"induction-text"},Et={key:0,class:"icon","aria-hidden":"true"},qt=pe(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Wt=[qt],Jt={class:"item"},Xt={class:"induction-text"},Qt={key:0,class:"induction-value"},zt={key:1,class:"induction-value"},Yt={key:0,class:"price-updated"},Zt=pe(()=>o("span",null,"Price updated",-1));function Ht(e,v,A,y,R,E){const i=Oo,I=Po("Modal"),T=Fe("image");return d(),q(I,{width:"440px",visible:!0,footer:null,title:e.$t("button.swap"),class:"add-liquidity-modal",onCancel:v[4]||(v[4]=j=>e.$emit("on-close"))},{closeIcon:le(()=>[st]),default:le(()=>[o("div",it,[o("div",lt,[o("div",ut,[o("div",rt,[o("div",dt,u(e.fromCoinAmount&&("addCommom"in e?e.addCommom:z(W))(e.fromCoinAmount)),1),o("div",ct,u(e.fromCoin&&e.fromCoin.symbol),1)]),o("div",mt,[Q(o("img",null,null,512),[[T,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]])])]),o("div",vt,[o("div",pt,[o("div",ft,u(e.toCoinAmount&&("addCommom"in e?e.addCommom:z(W))(e.toCoinAmount)),1),o("div",gt,u(e.toCoin&&e.toCoin.symbol),1)]),o("div",ht,[Q(o("img",null,null,512),[[T,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]])]),Ct]),o("div",yt,[e.rateChange?(d(),h("div",It,[o("div",Tt,[Q(o("img",null,null,512),[[T,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]]),o("span",null,"1 "+u(e.toCoin&&e.toCoin.symbol)+" ≈",1),Q(o("img",null,null,512),[[T,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]]),o("span",null,u(e.oneFromAmount)+" "+u(e.fromCoin.symbol),1)]),o("div",{class:"right",onClick:v[1]||(v[1]=j=>e.rateChange=!e.rateChange)},Bt)])):(d(),h("div",At,[o("div",bt,[Q(o("img",null,null,512),[[T,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]]),o("span",null,"1 "+u(e.fromCoin&&e.fromCoin.symbol)+" ≈",1),Q(o("img",null,null,512),[[T,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]]),o("span",null,u(e.oneToAmount)+" "+u(e.toCoin.symbol),1)]),o("div",{class:"right",onClick:v[0]||(v[0]=j=>e.rateChange=!e.rateChange)},St)]))])]),o("div",Pt,[o("div",Ot,[o("div",Ft,[o("div",_t,u(e.$t("modal.slippageTolerance")),1),o("div",Rt,u(e.slippage)+"%",1)]),o("div",Ut,[o("div",Mt,u(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",jt,u(e.fixedFromCoin?("addCommom"in e?e.addCommom:z(W))(("sFixD"in e?e.sFixD:z(ie))(e.toCoinAmount-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals)):("addCommom"in e?e.addCommom:z(W))(("sFixD"in e?e.sFixD:z(ie))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals)))+" "+u(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),o("div",Lt,[o("div",Dt,u(e.$t("common.priceImpact")),1),o("div",{class:ve(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>=1?"impact-w":"impact-e"])},[G(u(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(d(),h("svg",Et,Wt)):U("",!0)],2)]),o("div",Jt,[o("div",Xt,u(e.$t("common.fee")),1),e.chainName=="Aptos"?(d(),h("div",Qt,u(e.formatFee)+" "+u(e.fromCoin.symbol)+" ("+u(e.fee*100)+"%) ",1)):(d(),h("div",zt,u(e.fee),1))])])])]),e.isShowAccept?(d(),h("div",Yt,[Zt,me(i,{class:"accept-btn",loading:e.swapLoading,onClick:v[2]||(v[2]=j=>e.$emit("accept"))},{default:le(()=>[G("Accept")]),_:1},8,["loading"])])):(d(),q(i,{key:1,class:"big-btn swap-confirm-btn",onClick:v[3]||(v[3]=j=>e.clickNextBtn())},{default:le(()=>[G(u(e.$t("button.confirmSwap")),1)]),_:1}))]),_:1},8,["title"])}const Kt=Oe(tt,[["render",Ht],["__scopeId","data-v-a8ec2ef8"]]),Gt=Je({setup(){const e=wo(),v=So(Io,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:A,locale:y}=cn(),R=Ue(),E=Pe(),i=N(()=>E);let I=f(!1),T=f(!1),j=f(!1),C=f(!1),F=f(!1),J=f(!1);const H=f("fromCoin"),K=f(""),V=f(""),w=f(!1),p=f(!0),ne=f(!1),D=f(!1),Y=f(!1),s=f(""),r=f(""),O=f(20),P=f(0),ke=f(null),ae=f(!1),fe=N(()=>R.slippage),B=N(()=>R.chainName),X=N(()=>B.value?ko(B.value):{}),t=f(),c=f(),Qe=N(()=>Ae&&Ae[B.value]&&Ae[B.value].hasRouter),no=N(()=>E.getPoolInfoSuccess),Fo=N(()=>{var n;return $.value&&((n=$.value)!=null&&n.is_pause)?"Pool Closed":!t.value||!c.value?A("modal.selectTokenModalTitle"):!Number(s.value)&&!Number(r.value)?A("button.enterAmount"):!Qe.value&&!$.value&&no.value?"Pool Not Found":Qe.value&&Ne.value?"No Available Route":ae.value?A("button.insufficientLiquidity"):Number(s.value)>Number(oe.value)?A("button.insufficientBalance",{name:t.value.symbol}):A("button.swap")}),_o=n=>{var l,a,g,b;H.value=n,n==="fromCoin"?(K.value=((l=c.value)==null?void 0:l.address)||"",V.value=((a=t.value)==null?void 0:a.address)||""):(K.value=((g=t.value)==null?void 0:g.address)||"",V.value=((b=c.value)==null?void 0:b.address)||""),w.value=!0},ze=f({}),Ye=f({}),Ro=n=>{H.value==="fromCoin"?(ze.value=n,He(n)):(Ye.value=n,He(n))},Uo=n=>{n==="fromCoin"?(p.value=!0,B.value==="Aptos"?s.value=oe.value>0?t.value.symbol=="APT"?new m(Number(oe.value)).sub(new m(.1)).lt(new m(0))?"0":new m(Number(oe.value)).sub(new m(.1)).toString():String(oe.value):"":s.value=oe.value>0?t.value.symbol=="SUI"?new m(Number(oe.value)).sub(new m(.05)).lt(new m(0))?"0":new m(Number(oe.value)).sub(new m(.05)).toString():String(oe.value):""):(p.value=!1,B.value==="Aptos"?r.value=te.value>0?c.value.symbol=="APT"?new m(Number(te.value)).sub(new m(.1)).lt(new m(0))?"0":new m(Number(te.value)).sub(new m(.1)).toString():String(te.value):"":r.value=te.value>0?c.value.symbol=="SUI"?new m(Number(te.value)).sub(new m(.05)).lt(new m(0))?"0":new m(Number(te.value)).sub(new m(.05)).toString():String(te.value):"")},Mo=n=>{n==="fromCoin"?(p.value=!0,s.value=oe.value>0?ie(new m(Number(oe.value)).div(2).toString(),t.value.decimals).toString():""):(p.value=!1,r.value=te.value>0?ie(new m(Number(te.value)).div(2).toString(),c.value.decimals).toString():"")};mn(()=>{to()}),vn(()=>{clearInterval(ke.value)});const Ze=N(()=>R),ao=()=>{!$.value&&!Qe.value||(clearInterval(ke.value),E.setPoolConfigList(Ze.value.chainName,Ze.value.filterCoinsObj),P.value=0,T.value=!0,$.value&&E.updateCurrentPools($.value.poolAddress,B.value),Te(p.value?s.value:r.value),ee.value.address&&X.value.getAccount(ee.value.address),R.getStatsData(B.value,Ze.value.filterCoinsObj),setTimeout(()=>{T.value=!1,to()},1e3))},to=()=>{ke.value=setInterval(()=>{T.value=!1,ne.value||P.value<O.value&&(P.value+=1,P.value===O.value&&(B.value=="Aptos"?$.value&&$.value.poolAddress&&E.updateCurrentPools($.value.poolAddress,B.value):J.value||ao(),P.value=0,T.value=!0))},1e3)};Z(p,We((n,l)=>{p.value=n},500));const Se=f(!1);Z(s,We((n,l)=>{n&&n!==0&&p.value&&Te(n),n==""&&p.value&&(r.value="")},500)),Z(r,We((n,l)=>{n&&n!==0&&!p.value&&Te(n),n==""&&!p.value&&(s.value="")},500));const ce=f(1e-4),Me=async n=>{let l=n;if(B.value==="Aptos"&&!l.current_sqrt_price&&s.value&&r.value){const a=await X.value.getPools([l.address]);a&&a[0]&&(l={...n,...a[0],fee:Number(a[0].fee_rate)/1e6})}if(l.current_sqrt_price&&s.value&&r.value){const g=(t.value.address===l.coinA.address&&c.value.address===l.coinB.address?0:1)==0,b=new m(s.value),k=new m(r.value),_=b.sub(b.mul(new m(l.fee))),L=k.div(_);return X.value.getPriceImpactPct(l,L.toString(),g)}return"--"},so=f(0),io=f(0),lo=f(),Ie=f({}),jo=async n=>{if($.value&&!(p.value&&Number(s.value)==0)&&!(!p.value&&Number(r.value)==0))if(t.value&&c.value&&(s.value||r.value)){D.value=!0,Y.value=!0,ae.value=!1;const l=t.value.address===$.value.coinA.address&&c.value.address===$.value.coinB.address?0:1;try{let a=await X.value.preSwap({pool:$.value,a2b:l==0,byAmountIn:p.value,amount:p.value?s.value:r.value});ae.value=a==null?void 0:a.isExceed,lo.value=a==null?void 0:a.estimatedFeeAmount,p.value?(r.value=a.estimatedAmountOut,he.value=(Number(a.estimatedAmountOut)/n).toString(),ge.value=(n/Number(a.estimatedAmountOut)).toString()):(s.value=a.estimatedAmountIn,he.value=(n/Number(a.estimatedAmountIn)).toString(),ge.value=(Number(a.estimatedAmountIn)/n).toString()),so.value=new m(r.value).div(s.value).toString(),io.value=new m(s.value).div(r.value).toString(),ce.value=B.value=="Aptos"?await Me($.value):await Me(Ie.value||$.value),D.value=!1,Y.value=!1}catch{D.value=!1,Y.value=!1}}else p.value?r.value="":s.value="",D.value=!1,Y.value=!1},Lo=pn(),ee=N(()=>Lo),Do=f({}),ge=f(""),he=f(""),oe=N(()=>ee.value.assets&&t.value&&ee.value.assets[t.value.address]?ye(ee.value.assets[t.value.address].balance,t.value.decimals):0),te=N(()=>ee.value.assets&&c.value&&ee.value.assets[c.value.address]?ye(ee.value.assets[c.value.address].balance,c.value.decimals):0);wo(),Z(()=>i.value.tokensObj,async n=>{if(!de(n)){const l=e?e.currentRoute.value.query.to:"",a=e?e.currentRoute.value.query.from:"";a?t.value=await X.value.getTokenBySymbol(n,a):!a&&!t.value&&(t.value=await X.value.getTokenBySymbol(n,Ae[B.value].swapDefaultPair.fromCoin)),l?c.value=await X.value.getTokenBySymbol(n,l):!l&&!c.value&&(c.value=await X.value.getTokenBySymbol(n,Ae[B.value].swapDefaultPair.toCoin)),!a&&l&&(t.value="")}},{immediate:!0});const $=N(()=>{var n,l,a,g,b;if(t.value&&c.value){let k=null,_={};if(Object.values(i.value.poolConfigList).forEach(S=>{var M,x,se,De;(S.coinA.address.toUpperCase()===((M=t.value.address)==null?void 0:M.toUpperCase())&&S.coinB.address.toUpperCase()===((x=c.value.address)==null?void 0:x.toUpperCase())||S.coinB.address.toUpperCase()===((se=t.value.address)==null?void 0:se.toUpperCase())&&S.coinA.address.toUpperCase()===((De=c.value.address)==null?void 0:De.toUpperCase()))&&(_[S.address]={...S})}),B.value=="Aptos"&&i.value.poolsObj&&!de(i.value.poolsObj))for(const S in i.value.poolsObj){const M=i.value.poolsObj[S];(M.token_a.address.toUpperCase()===((n=t.value.address)==null?void 0:n.toUpperCase())&&M.token_b.address.toUpperCase()===((l=c.value.address)==null?void 0:l.toUpperCase())||M.token_b.address.toUpperCase()===((a=t.value.address)==null?void 0:a.toUpperCase())&&M.token_a.address.toUpperCase()===((g=c.value.address)==null?void 0:g.toUpperCase()))&&(_[M.address]={...M})}const L=Object.values(_).sort((S,M)=>S.fee-M.fee);for(let S=0;S<L.length;S++)if(!((b=L[S])!=null&&b.is_pause)){k=L[S];break}return k=Object.values(_).sort((S,M)=>S.fee-M.fee)[0],k&&!de(k)?k:null}return null}),uo=f(!0),ro=f(!1),Eo=async n=>{n&&B.value=="Aptos"&&(Te(p.value?s.value:r.value),ro.value=!0,n.coinA.symbol.toLowerCase()===t.value.symbol.toLowerCase()&&n.coinB.symbol.toLowerCase()===c.value.symbol.toLowerCase()?uo.value=!0:uo.value=!1,ae.value=!1)};Z(()=>$.value,(n,l)=>{n&&(!l||n.address!==l.address||n.current_sqrt_price!==l.current_sqrt_price)&&Eo(n)},{immediate:!0,deep:!0});const qo=N(()=>i.value.tokensObj&&t.value&&t.value.address&&i.value.tokensObj[t.value.address]&&i.value.tokensObj[t.value.address].logoURI),Wo=N(()=>i.value.tokensObj&&c.value&&c.value.address&&i.value.tokensObj[c.value.address]&&i.value.tokensObj[c.value.address].logoURI),Jo=N(()=>B.value==="Aptos"?i.value.tokensObj&&t.value&&t.value.address&&i.value.tokensObj[t.value.address]&&i.value.tokensObj[t.value.address].coingecko_id||null:i.value.tokensObj&&t.value&&t.value.address||null),Xo=N(()=>B.value==="Aptos"?i.value.tokensObj&&c.value&&c.value.address&&i.value.tokensObj[c.value.address]&&i.value.tokensObj[c.value.address].coingecko_id||null:i.value.tokensObj&&c.value&&c.value.address||null),Qo=N(()=>{var n,l,a,g,b,k,_,L,S;return(a=(l=i==null?void 0:i.value)==null?void 0:l.tokensObj[(n=t==null?void 0:t.value)==null?void 0:n.address])!=null&&a.pyth_id&&((k=(b=i==null?void 0:i.value)==null?void 0:b.tokensObj[(g=t==null?void 0:t.value)==null?void 0:g.address])==null?void 0:k.pyth_id)!=="0x0000000000000000000000000000000000000000000000000000000000000000"?"pyth":(S=(L=i==null?void 0:i.value)==null?void 0:L.tokensObj[(_=t==null?void 0:t.value)==null?void 0:_.address])!=null&&S.coingecko_id?"coingecko":null}),zo=N(()=>{var n,l,a,g,b,k,_,L,S;return(a=(l=i==null?void 0:i.value)==null?void 0:l.tokensObj[(n=c==null?void 0:c.value)==null?void 0:n.address])!=null&&a.pyth_id&&((k=(b=i==null?void 0:i.value)==null?void 0:b.tokensObj[(g=c==null?void 0:c.value)==null?void 0:g.address])==null?void 0:k.pyth_id)!=="0x0000000000000000000000000000000000000000000000000000000000000000"?"pyth":(S=(L=i==null?void 0:i.value)==null?void 0:L.tokensObj[(_=c==null?void 0:c.value)==null?void 0:_.address])!=null&&S.coingecko_id?"coingecko":null}),Yo=N(()=>{var g,b;const n=new m(s.value),l=new m(B.value=="Aptos"?(g=$==null?void 0:$.value)==null?void 0:g.fee:(b=Ie==null?void 0:Ie.value)==null?void 0:b.fee),a=n.mul(l).toString();return Number(a)<1/Math.pow(10,t.value.decimals)?`<${new m(1).div(new m(Math.pow(10,t.value.decimals))).toString()}`:ie(a,t.value.decimals)}),{setIsShowSuccess:Zo,setIsShowRejected:co,setIsShowWaiting:je,setTransactionDesc:Ho,setTransactionTxid:mo}=R,Ko=async()=>{var l,a,g,b,k,_,L,S;J.value=!1,D.value=!0,clearInterval(Be),window.clearInterval(Be),mo(""),Ho(A("tips.swapping",{from:`${s.value} ${(l=t.value)==null?void 0:l.symbol}`,to:`${r.value} ${(a=c.value)==null?void 0:a.symbol}`})),je(!0);let n;B.value=="Aptos"&&(n=t.value.address===$.value.token_a.address&&c.value.address===$.value.token_b.address?0:1);try{let M;B.value=="Aptos"?M=await X.value.getSwapTransactionPayload({pool:$.value,a2b:n==0,byAmountIn:p.value,amount:p.value?s.value:r.value,slippage:Number(fe.value)/100}):M=await xe.value.swapRouterContract.getSwapRouterPayload(p.value,Le.value.createTxParams);let x;if(B.value==="Aptos")x=await ee.value.currentWallet.signAndSubmitTransaction(M);else{const se=await ee.value.currentWallet.signAndExecuteTransactionBlock(M);x=X.value.handleTx(se)}if(x&&x.hash){mo(x.hash),je(!1),Zo(!0);const se={title:A("tips.swap"),desc:A("tips.swapSuccessText",{from:`${s.value} ${(g=t.value)==null?void 0:g.symbol}`,to:`${r.value} ${(b=c.value)==null?void 0:b.symbol}`}),hash:x.hash,tit:"Swap",icon:"icon-icon-swap1",tokenInfo:{tokena:`${(k=t.value)==null?void 0:k.address}`,numa:`- ${s.value}`,logoa:i.value.tokensObj&&t.value&&t.value.address&&i.value.tokensObj[t.value.address]&&i.value.tokensObj[t.value.address].logoURI,tokenb:`${(_=c.value)==null?void 0:_.address}`,numb:`+ ${r.value}`,logob:i.value.tokensObj&&c.value&&c.value.address&&i.value.tokensObj[c.value.address]&&i.value.tokensObj[c.value.address].logoURI},text:`Pay ${s.value} ${(L=t.value)==null?void 0:L.symbol} to receive ${r.value} ${(S=c.value)==null?void 0:S.symbol}`};B.value!=="Aptos"&&(se.res=x.res),X.value.showTransitionPending(se),await X.value.watchTransaction(se)&&setTimeout(()=>{B.value=="Aptos"&&E.updateCurrentPools($.value.poolAddress,B.value),X.value.getAccount(ee.value.address)},1e3)}else je(!1),co(!0);s.value="",r.value="",D.value=!1}catch{s.value="",r.value="",D.value=!1,je(!1),co(!0)}},Go=n=>{var l;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((l=i.value.tokensObj[n==null?void 0:n.address])==null?void 0:l.logo_url)||(R.theme==="default"?ue("/image/coins/unknown.png"):ue("/image/coins/sui-unknown.png"))},vo=f([]);Z(()=>[t.value,c.value,i.value.poolConfigList],([n,l,a])=>{if(a&&a.length>0&&n&&l){const g=[];a.forEach(b=>{var k,_,L,S;(b.coinA.address.toUpperCase()===((k=n.address)==null?void 0:k.toUpperCase())&&b.coinB.address.toUpperCase()===((_=l.address)==null?void 0:_.toUpperCase())||b.coinB.address.toUpperCase()===((L=n.address)==null?void 0:L.toUpperCase())&&b.coinA.address.toUpperCase()===((S=l.address)==null?void 0:S.toUpperCase()))&&(b!=null&&b.is_pause||g.push(b.address))}),vo.value=g}},{immediate:!0});const He=n=>{const l=localStorage.getItem(n.address);i.value.tokensObj&&i.value.tokensObj[n.address]&&i.value.tokensObj[n.address].isSelfBuilt&&!l?Ke.value=!0:(H.value==="fromCoin"?(s.value="",c.value&&n.address.toLowerCase()===(c==null?void 0:c.value.address.toLowerCase())&&(c.value=null),t.value=n):(t.value&&(r.value="",n.address.toLowerCase()===(t==null?void 0:t.value.address.toLowerCase())&&(t.value=null)),c.value=n),po())},Ke=f(!1),po=()=>{Ye.value={},ze.value={},Ke.value=!1},Vo=N(()=>R.isShowRouterModal),Ge=f([]),Ve=f(""),xo=f(!1),fo=Cn(),xe=N(()=>fo),Ne=f(!1),Le=f({}),eo=f(""),go=n=>{if(n&&n.paths&&n.paths.length>0){const l=n.paths[0];if(n.coinTypeA&&n.coinTypeB&&n.coinTypeC){const a=i.value.routerPoolConfigObj[l.poolAddress[0]],g=i.value.routerPoolConfigObj[l.poolAddress[1]],b=ye(n.paths[0].amountIn.toString(),t.value.decimals)*a.fee;let k,_=g.token_a.address==c.value.address?g.token_b.decimals:g.token_a.decimals;p.value?k=ye(l.rawAmountLimit[0].toString(),_)*g.fee:k=ye(l.rawAmountLimit[1].toString(),_)*g.fee;let L;a.token_a.address==t.value.address?L=!1:L=!0;let S;L?S=X.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],a.token_a.decimals,a.token_b.decimals).toString():S=1/X.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],a.token_a.decimals,a.token_b.decimals).toString();const M=b+k*S;a.fee*100+"",eo.value=M>0&&M<1e-6?`<0.000001 ${t.value.symbol}`:W(ie(M,t.value.decimals))+` ${t.value.symbol}`}else{const a=i.value.routerPoolConfigObj[l.poolAddress[0]],g=ye(n.paths[0].amountIn.toString(),t.value.decimals)*a.fee;eo.value=g>0&&g<1e-6?`<0.000001 ${t.value.symbol} (${a.fee*100}%)`:W(ie(g,t.value.decimals))+` ${t.value.symbol} (${a.fee*100}%)`}}},ho=async n=>{if(ce.value=1e-5,n&&n.paths&&n.paths.length>0){const l=n.paths[0];if(n.coinTypeA&&n.coinTypeB&&n.coinTypeC&&n.coinTypeA==t.value.address&&n.coinTypeC==c.value.address){const a=i.value.routerPoolConfigObj[l.poolAddress[0]],g=X.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],a.coinA.decimals,a.coinB.decimals).toNumber(),b=i.value.routerPoolConfigObj[l.poolAddress[1]],k=X.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[1],b.coinA.decimals,b.coinB.decimals).toNumber();let _,L;a.token_a.address==t.value.address?_=!0:_=!1,b.token_b.address==c.value.address?L=!0:L=!1,new m(s.value).div(r.value).toNumber();const S=new m(r.value).div(s.value).toNumber();let M;const x=_?new m(g):new m(1).div(new m(g)),se=L?new m(k):new m(1).div(new m(k));M=new m(x.mul(se)).sub(S).div(new m(x.mul(se))).mul(new m(100)).toNumber(),M>100&&(ce.value=100),ce.value=Number($e(Math.abs(M),2))}else if(n&&n.currentSqrtPrice&&n.currentSqrtPrice.length==1&&l&&!de(l)){const a=i.value.routerPoolConfigObj[l.poolAddress[0]],g=X.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],a.coinA.decimals,a.coinB.decimals).toNumber();let b;a.token_a.address==t.value.address?b=!0:b=!1;const k=b?new m(g):new m(1).div(new m(g)),_=new m(r.value).div(s.value).toNumber(),S=new m(k).sub(_).div(new m(k)).mul(new m(100)).toNumber();S>100&&(ce.value=100),ce.value=Number($e(Math.abs(S),2))}}},Co=async n=>{if(t.value&&c.value&&(Number(s.value)>0||Number(r.value)>0)){(!s.value&&r.value||s.value&&!r.value)&&(D.value=!0),Se.value=!0,Ne.value=!1;let l;$.value&&(l=t.value.address===$.value.coinA.address&&c.value.address===$.value.coinB.address?0:1);try{let a;if(p.value){const _=new m(s.value).mul(Math.pow(10,t.value.decimals)).toString();a=new qe(_)}else{const _=new m(r.value).mul(Math.pow(10,c.value.decimals)).toString();a=new qe(_)}const g=Number(fe.value)/100,b=$.value?{poolAddresses:vo.value,coinTypeA:$.value.coin_a_address,coinTypeB:$.value.coin_b_address,decimalsA:$.value.coinA.decimals,decimalsB:$.value.coinB.decimals,a2b:l==0,byAmountIn:p.value,amount:p.value?s.value:r.value}:"",k=await xe.value.swapRouterContract.getSwapRouter(t,c,a,p.value,g,"",$.value?b:"");k?(Le.value=k,Ge.value=k.paths,ae.value=k.isExceed,Ve.value=k.amountIn,go(k),p.value?s.value&&(r.value=k.amountOut):r.value&&(s.value=k.amountIn),ge.value=W(re(new m(s.value).div(new m(r.value).toString()),t.value.decimals)),he.value=W(re(new m(r.value).div(s.value).toString(),c.value.decimals)),ho(k),D.value=!1,Ne.value=!1,Se.value=!1):(D.value=!1,Ne.value=!0,Se.value=!1)}catch{D.value=!1,Se.value=!1}}else p.value?r.value="":s.value="",D.value=!1,Se.value=!1},Ce=f(!1),yo=async n=>{try{let l;if(p.value){const b=new m(s.value).mul(Math.pow(10,t.value.decimals)).toString();l=new qe(b)}else{const b=new m(r.value).mul(Math.pow(10,c.value.decimals)).toString();l=new qe(b)}const a=Number(fe.value)/100,g=await xe.value.swapRouterContract.getSwapRouter(t,c,l,p.value,a,"");g&&(Le.value=g,Ge.value=g.paths,ae.value=g.isExceed,Ve.value=g.amountIn,go(g),ge.value=W(re(new m(s.value).div(new m(r.value).toString()),t.value.decimals)),he.value=W(re(new m(r.value).div(s.value).toString(),c.value.decimals)),ho(g),p.value?r.value!==g.amountOut&&(Ce.value=!0,r.value=g.amountOut):s.value!==g.amountIn&&(Ce.value=!0,s.value=g.amountIn))}catch{}},en=async n=>{if(t.value&&c.value&&(s.value||r.value)){const l=t.value.address===$.value.coinA.address&&c.value.address===$.value.coinB.address?0:1;try{let a=await X.value.preSwap({pool:$.value,a2b:l==0,byAmountIn:p.value,amount:p.value?s.value:r.value});ae.value=a==null?void 0:a.isExceed,lo.value=a==null?void 0:a.estimatedFeeAmount,p.value?(he.value=(Number(a.estimatedAmountOut)/n).toString(),ge.value=(n/Number(a.estimatedAmountOut)).toString()):(he.value=(n/Number(a.estimatedAmountIn)).toString(),ge.value=(Number(a.estimatedAmountIn)/n).toString()),p.value?r.value!==a.estimatedAmountOut&&(Ce.value=!0,r.value=a.estimatedAmountOut):s.value!==a.estimatedAmountIn&&(Ce.value=!0,s.value=a.estimatedAmountIn),ce.value=B.value=="Aptos"?await Me($.value):await Me(Ie.value||$.value),D.value=!1,Y.value=!1}catch{D.value=!1,Y.value=!1}}else D.value=!1,Y.value=!1};let Be=f(null);Z(()=>J.value,n=>{n?Be.value=setInterval(()=>{B.value=="Aptos"?en(p.value):yo(p.value)},3e3):(clearInterval(Be.value),window.clearInterval(Be.value))},{immediate:!0});const Te=async n=>{B.value=="Aptos"?jo(n):Co()},on=N(()=>fo),nn=N(()=>on.value.isInitRouter);Z(()=>nn.value,n=>{n||Te(p.value?s.value:r.value)},{immediate:!0}),Z(()=>[t.value,c.value],([n,l])=>{if(n&&l&&Te(p.value?s.value:r.value),n||l){const a=`/swap?from=${n==null?void 0:n.address}&to=${l==null?void 0:l.address}`;e.push(a)}},{immediate:!0});function an(n,l=500){let a=null;return function(...g){clearTimeout(a),a=setTimeout(()=>{n.call(this,...g)},l)}}const tn=an(Ao);function Ao(){const n=t.value;t.value=c.value,c.value=n,I.value=!0,p.value=!p.value,p.value?(s.value=r.value,r.value=""):(r.value=s.value,s.value=""),setTimeout(()=>{I.value=!1},300)}return{closeSwapConfirmModal:()=>{J.value=!1,Ce.value=!1},updateAccept:()=>{Ce.value=!1},clickExchange:Ao,debounceClickExchange:tn,closeTokenWarning:po,isShowTokenWarning:Ke,getTokenSource:He,hasPool:ro,getPoolInfoSuccess:no,halfBtnSelect:Mo,formCoinId:Jo,toCoinId:Xo,formCoinMarket:Qo,toCoinMarket:zo,fromCoinUrl:qo,toCoinUrl:Wo,t:A,indicator:v,wallet:ee,currentLpInfo:Do,fixD:$e,decimalFormat:rn,impact:ce,oneFromAmount:ge,oneToAmount:he,importIcon:ue,clickRefresh:ao,refresh:T,change:I,isShowAddress:j,isShowSwapSetting:C,fromCoin:t,toCoin:c,slippage:fe,openCoinSelect:_o,onCoinSelect:Ro,existingCoins:K,lastSelectCoin:V,currentCoinKey:H,showCoinSelect:w,fromCoinAmount:s,toCoinAmount:r,maxBtnSelect:Uo,fixedFromCoin:p,swapBtnText:Fo,toSwap:Ko,loading:ne,swaping:D,autoRefreshTime:O,countdown:P,marketTimer:ke,rateChange:F,isSwapConfirmMpdal:J,fromCoinBlance:oe,toCoinBlance:te,poolInfo:$,chainName:B,swapRouterLoading:Se,formatFee:Yo,calculating:Y,currentRate:so,currentRateReverse:io,getCoinIcon:Go,toAddLiquidiPoolInfo:Ie,decimalUi:re,warningToCoin:Ye,warningFromCoin:ze,isShowRouterModal:Vo,toSwapLoading:xo,insufficientLiquidity:ae,routerPool:Ge,routerTotalAmounts:Ve,store:R,suiPreSwapdata:Le,suiSwapFee:eo,addCommom:W,debounce:We,notFoundRouter:Ne,getSuiAmountAccept:yo,isShowAccept:Ce,getSuiAmount:Co}}});const we=e=>(_e("data-v-183b9ca9"),e=e(),Re(),e),Vt={class:"swap-container"},xt={class:"title"},es={class:"left"},os={class:"right title-right"},ns=we(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),as={class:"swap-card"},ts={class:"card-container"},ss={class:"card-item"},is={class:"card-item"},ls=we(()=>o("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),us=[ls],rs={key:1,class:"induction"},ds={key:0,class:"exchange-rate-btn"},cs={key:0},ms={key:0},vs={key:0},ps={key:1},fs={key:0},gs=we(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),hs=[gs],Cs={class:"item"},ys={class:"induction-text"},As={key:0,class:"icon","aria-hidden":"true"},bs=we(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),ws=[bs],ks={class:"item"},Ss={class:"induction-text"},Is={key:0,class:"induction-value"},Ts={class:"item"},$s={class:"induction-text"},Ns={key:0,class:"induction-value"},Bs={key:0,class:"icon","aria-hidden":"true"},Ps=we(()=>o("use",{"xlink:href":"#icon-icon-swap"},null,-1)),Os=[Ps],Fs={key:2,class:"token-info-container"},_s={class:"token-info-title"},Rs=we(()=>o("span",{class:"coingecko"},"Price Reference",-1)),Us=we(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-information"})],-1));function Ms(e,v,A,y,R,E){var s,r;const i=sn,I=un,T=xn,j=To,C=$o,F=Oo,J=fn,H=gn,K=hn,V=No,w=Ba,p=ln,ne=at,D=Kt,Y=Fe("image");return d(),h("div",Vt,[o("div",xt,[o("div",es,u(e.$t("menu.swap")),1),o("div",os,[o("div",{class:"slippage-icon",onClick:v[0]||(v[0]=O=>e.isShowSwapSetting=!0)},[ns,o("span",null,u(e.slippage)+"%",1)]),me(i,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),o("div",as,[o("div",ts,[o("div",ss,[me(I,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":v[1]||(v[1]=O=>e.fromCoinAmount=O),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logo_url:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:v[2]||(v[2]=O=>e.maxBtnSelect("fromCoin")),onOnHalf:v[3]||(v[3]=O=>e.halfBtnSelect("fromCoin")),onOnInput:v[4]||(v[4]=O=>{e.fromCoinAmount=O,e.fixedFromCoin=!0}),onOnSelect:v[5]||(v[5]=O=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("div",is,[me(I,{modelValue:e.toCoinAmount,"onUpdate:modelValue":v[6]||(v[6]=O=>e.toCoinAmount=O),"input-value":e.toCoinAmount,havemax:!1,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logo_url:"",address:e.toCoin?e.toCoin.address:"",onOnInput:v[7]||(v[7]=O=>{e.toCoinAmount=O,e.fixedFromCoin=!1}),onOnSelect:v[8]||(v[8]=O=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("img",{class:ve(e.change?"gang animationex":"gang"),src:yn,alt:""},null,2),o("div",{class:ve(["exchange",e.chainName=="Sui"?"sui-exchange":""]),onClick:v[9]||(v[9]=(...O)=>e.debounceClickExchange&&e.debounceClickExchange(...O))},[(d(),h("svg",{class:ve(e.change?"icon animationex":"icon"),"aria-hidden":"true"},us,2))],2)]),e.chainName=="Sui"&&!e.notFoundRouter?(d(),q(T,{key:0,"swap-loading":e.swaping,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"router-pool":e.routerPool,impact:e.impact,"insufficient-liquidity":e.insufficientLiquidity,"one-to-amount":e.oneToAmount,"one-from-amount":e.oneFromAmount,"sui-pre-swapdata":e.suiPreSwapdata,"sui-swap-fee":e.suiSwapFee,"swap-router-loading":e.swapRouterLoading},null,8,["swap-loading","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","router-pool","impact","insufficient-liquidity","one-to-amount","one-from-amount","sui-pre-swapdata","sui-swap-fee","swap-router-loading"])):e.poolInfo&&e.fromCoinAmount&&e.toCoinAmount&&e.fromCoinAmount!=="0"&&e.toCoinAmount!=="0"&&e.swapBtnText!==e.$t("button.poolNotFound")?(d(),h("div",rs,[Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(d(),h("div",ds,[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(d(),h("span",ps,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(d(),h("span",fs,[Q(o("img",null,null,512),[[Y,e.toCoinUrl||e.getCoinIcon(e.toCoin)]]),G(" 1 "+u(e.toCoin.symbol)+" ≈ ",1),Q(o("img",null,null,512),[[Y,e.fromCoinUrl||e.getCoinIcon(e.fromCoin)]]),o("span",null,u(("addCommom"in e?e.addCommom:z(W))(("decimalUi"in e?e.decimalUi:z(re))(e.currentRateReverse,e.fromCoin.decimals),e.fromCoin.decimals)),1),G("  "+u(e.fromCoin.symbol),1)])):(d(),q(j,{key:1,indicator:e.indicator},null,8,["indicator"]))])):U("",!0):(d(),h("span",cs,[Q(o("img",null,null,512),[[Y,e.fromCoinUrl||e.getCoinIcon(e.fromCoin)]]),G(" 1 "+u(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(d(),h("span",ms,[Q(o("img",null,null,512),[[Y,e.toCoinUrl||e.getCoinIcon(e.toCoin)]]),e.calculating?U("",!0):(d(),h("span",vs,u(("addCommom"in e?e.addCommom:z(W))(("decimalUi"in e?e.decimalUi:z(re))(e.currentRate,e.toCoin.decimals))),1)),e.calculating?(d(),q(j,{key:1,indicator:e.indicator},null,8,["indicator"])):U("",!0),G("  "+u(e.toCoin.symbol),1)])):(d(),q(j,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(d(),h("svg",{class:"icon-change","aria-hidden":"true",onClick:v[10]||(v[10]=O=>e.rateChange=!e.rateChange)},hs))])):U("",!0),Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(d(),h(oo,{key:1},[o("div",Cs,[o("div",ys,u(e.$t("common.priceImpact")),1),e.swaping?(d(),q(C,{key:1,paragraph:!1,active:""})):(d(),h("div",{key:0,class:ve(["induction-value",Number(e.impact)<1?"impact-s":Number(e.impact)<10&&Number(e.impact)>1?"impact-w":"impact-e"])},[G(u(Number(e.impact)<.01?"<0.01":Number(e.impact)>100?"100":e.impact)+"% ",1),e.impact>=10?(d(),h("svg",As,ws)):U("",!0)],2))]),o("div",ks,[o("div",Ss,u(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swaping?(d(),q(C,{key:1,paragraph:!1,active:""})):(d(),h("div",Is,u(e.fixedFromCoin?("addCommom"in e?e.addCommom:z(W))(("fixD"in e?e.fixD:z($e))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals),e.toCoin.decimals):("addCommom"in e?e.addCommom:z(W))(("fixD"in e?e.fixD:z($e))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals),e.fromCoin.decimals))+" "+u(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",Ts,[o("div",$s,u(e.$t("common.fee")),1),e.swaping?(d(),q(C,{key:1,paragraph:!1,active:""})):(d(),h("div",Ns,u(("addCommom"in e?e.addCommom:z(W))(e.formatFee,e.fromCoin.decimals))+" "+u(e.fromCoin.symbol)+" ("+u(e.chainName=="Aptos"?e.poolInfo.fee*100:((s=e.toAddLiquidiPoolInfo)==null?void 0:s.fee)*100)+"%) ",1))])],64)):U("",!0)])):U("",!0)]),me(F,{disabled:e.wallet.connected?e.swaping||!e.fromCoin||!e.toCoin||!Number(e.fromCoinAmount)||!Number(e.toCoinAmount)||Number(e.fromCoinAmount)>Number(e.fromCoinBlance)||e.swapBtnText==e.$t("button.poolNotFound")||e.swapBtnText!==e.$t("button.swap")||((r=e.poolInfo)==null?void 0:r.is_pause)||e.swapRouterLoading:!1,class:"big-btn",loading:e.chainName=="Aptos"?e.swaping:!1,onClick:v[11]||(v[11]=O=>e.wallet.connected?e.isSwapConfirmMpdal=!0:e.wallet.setIsShowWalletModal(!0))},{default:le(()=>[e.wallet.connected?(d(),h("svg",Bs,Os)):U("",!0),o("span",null,u(e.wallet.connected?e.swapBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),me(J),e.showCoinSelect?(d(),q(H,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:v[12]||(v[12]=O=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):U("",!0),e.isShowSwapSetting?(d(),q(K,{key:1,onOnClose:v[13]||(v[13]=O=>e.isShowSwapSetting=!1)})):U("",!0),e.chainName&&(e.formCoinMarket||e.toCoinMarket)?(d(),h("div",Fs,[o("div",_s,[Rs,me(V,{placement:"top","arrow-point-at-center":""},{title:le(()=>[G(" The following price is only an external reference from 3rd party data providers, which does not reflect actual data on Cetus. ")]),default:le(()=>[Us]),_:1})]),e.fromCoin&&e.formCoinMarket?(d(),q(w,{key:0,id:e.formCoinId,coin:e.fromCoin,market:e.formCoinMarket,refresh:e.refresh},null,8,["id","coin","market","refresh"])):U("",!0),e.toCoin&&e.toCoinMarket?(d(),q(w,{key:1,id:e.toCoinId,coin:e.toCoin,market:e.toCoinMarket,refresh:e.refresh},null,8,["id","coin","market","refresh"])):U("",!0)])):U("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(d(),q(p,{key:3,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:e.getTokenSource},null,8,["from-coin","to-coin","onClose","onClickContinue"])):U("",!0),e.isShowRouterModal?(d(),q(ne,{key:4,"router-pool":e.routerPool,"routertotal-percents":e.routertotalPercents,"sui-pre-swapdata":e.suiPreSwapdata,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"router-total-amounts":e.routerTotalAmounts,onOnClose:v[14]||(v[14]=O=>e.store.setIsShowRouterModal(!1))},null,8,["router-pool","routertotal-percents","sui-pre-swapdata","from-coin","to-coin","from-coin-amount","to-coin-amount","router-total-amounts"])):U("",!0),e.isSwapConfirmMpdal?(d(),q(D,{key:5,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,slippage:e.slippage,impact:e.impact,"fixed-from-coin":e.fixedFromCoin,fee:e.chainName=="Sui"?e.suiSwapFee:e.poolInfo.fee,"format-fee":e.chainName=="Sui"?e.suiSwapFee:e.formatFee,"is-show-accept":e.isShowAccept,"swap-loading":e.swapRouterLoading,"one-from-amount":e.oneFromAmount,"one-to-amount":e.oneToAmount,onOnClose:e.closeSwapConfirmModal,onToSwap:e.toSwap,onAccept:e.updateAccept},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","slippage","impact","fixed-from-coin","fee","format-fee","is-show-accept","swap-loading","one-from-amount","one-to-amount","onOnClose","onToSwap","onAccept"])):U("",!0)])}const si=Oe(Gt,[["render",Ms],["__scopeId","data-v-183b9ca9"]]);export{si as default};
