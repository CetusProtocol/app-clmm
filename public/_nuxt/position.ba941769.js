import{_ as $e}from"./status-block.b936bf3d.js";import{u as x,_ as T}from"./common.ce6f3df4.js";import{a as ee,J as oe,f as v,i as se,o as n,j as t,x as g,u as r,t as s,c as re,y as A,k as o,l as f,m as P,z as we,h as ie,r as _,w as E,F as V,E as q,G as le,p as de,q as me,b as ye,e as _e,K as Re,O as te,v as M,Q as Ne,B as Se,H as ae,R as De}from"./entry.7dbcdae4.js";/* empty css              */import{a as Ue,u as ue,h as H,b as N,e as I,i as Y,c as Q,f as D}from"./import-icon.b48b973f.js";/* empty css              */import{_ as pe,a as ce}from"./icon-arrow_2x.45808d19.js";import{_ as ve}from"./icon_on_2x.ae77fc4a.js";import{u as Ce}from"./notifi.a6327443.js";import{u as Ae}from"./wallet.3fc4a512.js";import{_ as Fe,a as Oe}from"./img-no-Positions_2x.a15f4dca.js";import"./v4.78edc15a.js";import"./index.59f7738f.js";import"./index.b7569565.js";const je=ee({props:{pItem:{type:Object,required:!0},currentStatus:{type:String,required:!0},rewarderInfo:{type:Number,required:!0},aprAmount:{type:Number,required:!0}},setup(){const{t:e}=oe(),d=x(),$=v(()=>d),U=v(()=>$.value.chainName),w=v(()=>T[U.value]);return{store:$,config:w,t:e}}});const Pe={key:0,class:"owner-addres"},Le=["href"],Be=["href"],Te={class:"fee-tier"};function Ee(e,d,$,U,w,L){const y=$e,i=we;return n(),t("div",{class:P(["position-status",`position-status-${e.pItem.currentStatus.toLowerCase()}`])},[g(y,{class:"status-block","current-status":e.pItem.currentStatus||"","is-pause":e.pItem.is_pause,"apr-amount":e.aprAmount,"block-name":"position"},null,8,["current-status","is-pause","apr-amount"]),e.pItem.tokenName?(n(),t("div",Pe,[e.pItem.tokenName.length<=24?(n(),t("a",{key:0,href:e.store.theme=="default"?`${("config"in e?e.config:r(T)).explorerUrl}/token/${e.pItem.nftHash}/0`:`${("config"in e?e.config:r(T)).explorerUrl}/object/${e.pItem.nftHash}`,target:"_blank"},s(e.pItem.tokenName),9,Le)):(n(),re(i,{key:1,placement:"bottom","arrow-point-at-center":""},{title:A(()=>[o("span",null,s(e.pItem.tokenName),1)]),default:A(()=>[o("a",{target:"_blank",href:e.store.theme=="default"?`${("config"in e?e.config:r(T)).explorerUrl}/token/${e.pItem.nftHash}/0?network=${("config"in e?e.config:r(T)).network}`:`${("config"in e?e.config:r(T)).explorerUrl}/object/${e.pItem.nftHash}`},s(e.pItem.tokenName.substr(0,4))+" ... "+s(e.pItem.tokenName.substr(e.pItem.tokenName.length-4,4)),9,Be)]),_:1}))])):f("",!0),o("div",Te,s(e.$t("common.fee"))+" "+s(e.pItem.fee*100)+"%",1)],2)}const Ve=se(je,[["render",Ee],["__scopeId","data-v-0a37ba0d"]]),qe=ee({props:{pItem:{type:Object,required:!0}},setup(e){const{t:d}=oe(),$=ie(),U=x(),w=v(()=>U);v(()=>w.value.chainName?Ue(w.value.chainName):{});function L(b){return!b.liquity||b.liquity.toString()=="0"?"Closed":Number(b.currentPriceView)>=Number(b.minPrice)&&Number(b.currentPriceView)<=Number(b.maxPrice)||!Number(b.minPrice)&&isNaN(Number(b.maxPrice))?"Active":"Inactive"}const y=ue(),i=v(()=>y),a=()=>{w.value.chainName==="Aptos"?$.push(`/position-detail/1?collect=${e.pItem.collectionName}&&token=${e.pItem.tokenName}&&address=${e.pItem.pool}`):$.push(`/position-detail/1?collect=${e.pItem.collectionName}&&token=${e.pItem.tokenName}&&address=${e.pItem.pool}&pos=${e.pItem.pos_object_id}`)},k=v(()=>i.value.allTokenObj&&e.pItem.token_a.address&&i.value.allTokenObj[e.pItem.token_a.address]&&i.value.allTokenObj[e.pItem.token_a.address].logo_url),G=v(()=>i.value.allTokenObj&&e.pItem.token_b.address&&i.value.allTokenObj[e.pItem.token_b.address]&&i.value.allTokenObj[e.pItem.token_b.address].logo_url),R=v(()=>i.value.feeOwedObj[e.pItem.tokenName]&&i.value.feeOwedObj[e.pItem.tokenName].feeOwed),F=v(()=>i.value.feeOwedObj[e.pItem.tokenName]&&i.value.feeOwedObj[e.pItem.tokenName].feesResult),c=v(()=>i.value.rewarderObj[e.pItem.tokenName]&&i.value.rewarderObj[e.pItem.tokenName].pendingRewarder),S=v(()=>i.value.rewarderObj[e.pItem.tokenName]&&i.value.rewarderObj[e.pItem.tokenName].pendingRewarderView),O=v(()=>i.value.rewarderObj[e.pItem.tokenName]&&i.value.rewarderObj[e.pItem.tokenName].pendingRewarderArr),Z=_(0),X=_();return E(()=>i.value.RATES,b=>{b&&(X.value=b)},{immediate:!0}),{showNum:H,fromCoinUrl:k,toCoinUrl:G,decimalFormat:N,clickDetails:a,t:d,addCommom:I,importIcon:Y,getCurrentStatus:L,router:$,store:w,pendingRewarder:c,pendingFees:R,pendingRewarderArr:O,pendingFeesArr:F,checkNullObj:Q,fixD:D,pendingRewarderView:S,aprAmount:Z}}});const he=e=>(de("data-v-1a8f3d91"),e=e(),me(),e),Ge={class:"position-item"},ze={class:"card-content"},Ke={class:"left"},He={class:"top card-header"},Je={class:"token-item"},We={class:"item"},Me=["src"],Qe={class:"item"},Ze=["src"],Xe={class:"min-and-max"},Ye={class:"text"},xe={key:0,src:pe,alt:""},eo={key:1,src:ce,alt:""},oo={class:"text"},so={class:"bottom"},no={class:"info-block-container"},to={class:"leabl"},ao={class:"text"},ro={key:0,class:"hover-rewarder"},io={class:"rewarder-info"},lo={class:"left-rewarder"},mo=["src"],uo={class:"right-rewarder"},po={class:"amount"},co={key:0,class:"amount-usd"},vo={key:1,class:"amount-usd"},ho={class:"rewarder-info"},ko={class:"left-rewarder"},bo=["src"],fo={class:"right-rewarder"},Io={class:"amount"},go={key:0,class:"amount-usd"},$o={key:1,class:"amount-usd"},wo={class:"leabl"},yo={key:0,class:"text"},_o={key:1,class:"text"},Ro={key:2,class:"text"},No={key:3,class:"hover-rewarder"},So={class:"left-rewarder"},Do=["src"],Uo={class:"right-rewarder"},Co={class:"amount"},Ao={class:"amount-usd"},Fo={class:"leabl"},Oo={key:0,class:"text"},jo={key:1,class:"text"},Po={key:2,class:"hover-rewarder"},Lo={class:"left-rewarder"},Bo=["src"],To={class:"right-rewarder"},Eo={class:"amount"},Vo={class:"amount-usd"},qo=he(()=>o("div",{class:"more-img"},null,-1)),Go={class:"min-and-max"},zo={class:"text"},Ko={key:0,src:pe,alt:""},Ho={key:1,src:ce,alt:""},Jo={class:"text"},Wo={class:"info-block-container"},Mo={class:"left"},Qo={class:"info-block"},Zo={class:"leabl"},Xo={class:"text"},Yo={class:"info-block cursor-block"},xo={class:"leabl"},es={key:0,class:"text"},os={key:1,class:"text"},ss={key:2,class:"hover-rewarder"},ns={class:"left-rewarder"},ts=["src"],as={class:"right-rewarder"},rs={class:"amount"},is={class:"amount-usd"},ls={key:0,class:"info-block cursor-block"},ds={class:"leabl"},ms={key:0,class:"text"},us={key:1,class:"text"},ps={key:2,class:"hover-rewarder"},cs={class:"left-rewarder"},vs=["src"],hs={class:"right-rewarder"},ks={class:"amount"},bs={class:"amount-usd"},fs=he(()=>o("div",{class:"right"},[o("div",{class:"more-img"})],-1));function Is(e,d,$,U,w,L){const y=Ve,i=le;return n(),t("div",Ge,[o("div",ze,[o("div",Ke,[g(y,{"p-item":e.pItem,"current-status":e.getCurrentStatus(e.pItem)||"","rewarder-info":e.pendingRewarder,"apr-amount":e.aprAmount},null,8,["p-item","current-status","rewarder-info","apr-amount"])]),o("div",{class:"right",onClick:d[0]||(d[0]=(...a)=>e.clickDetails&&e.clickDetails(...a))},[o("div",He,[o("div",Je,[o("div",We,[o("img",{src:(e.pItem.needReverse?e.toCoinUrl:e.fromCoinUrl)||("importIcon"in e?e.importIcon:r(Y))(`/image/coins/${e.pItem.needReverse?e.pItem.token_b.symbol.toLowerCase():e.pItem.token_a.symbol.toLowerCase()}.png`)},null,8,Me),o("div",null,[o("span",null,s(e.pItem.needReverse?e.pItem.token_b.symbol:e.pItem.token_a.symbol),1),o("p",null,s(e.pItem.needReverse?e.pItem.token_b.name:e.pItem.token_a.name)+" "+s(e.pItem.needReverse?e.pItem.token_b.labels&&e.pItem.token_b.labels[0]?`(${e.pItem.token_b.labels[0]})`:"":e.pItem.token_a.labels&&e.pItem.token_a.labels[0]?`(${e.pItem.token_a.labels[0]})`:""),1)])]),o("div",Qe,[o("img",{src:(e.pItem.needReverse?e.fromCoinUrl:e.toCoinUrl)||("importIcon"in e?e.importIcon:r(Y))(`/image/coins/${e.pItem.needReverse?e.pItem.token_a.symbol.toLowerCase():e.pItem.token_b.symbol.toLowerCase()}.png`)},null,8,Ze),o("div",null,[o("span",null,s(e.pItem.needReverse?e.pItem.token_a.symbol:e.pItem.token_b.symbol),1),o("p",null,s(e.pItem.needReverse?e.pItem.token_a.name:e.pItem.token_b.name)+" "+s(e.pItem.needReverse?e.pItem.token_a.labels&&e.pItem.token_a.labels[0]?`(${e.pItem.token_a.labels[0]})`:"":e.pItem.token_b.labels&&e.pItem.token_b.labels[0]?`(${e.pItem.token_b.labels[0]})`:""),1)])])]),o("div",Xe,[o("div",Ye,s(e.pItem.needReverse?("addCommom"in e?e.addCommom:r(I))(("decimalFormat"in e?e.decimalFormat:r(N))(1/e.pItem.maxPrice,6),6):("addCommom"in e?e.addCommom:r(I))(("decimalFormat"in e?e.decimalFormat:r(N))(e.pItem.minPrice,6),6)),1),e.store.theme=="default"?(n(),t("img",xe)):(n(),t("img",eo)),o("div",oo,s(e.pItem.maxPrice.indexOf("+")>-1?"∞":e.pItem.needReverse?("addCommom"in e?e.addCommom:r(I))(("decimalFormat"in e?e.decimalFormat:r(N))(1/e.pItem.maxPrice,6),6):("addCommom"in e?e.addCommom:r(I))(("decimalFormat"in e?e.decimalFormat:r(N))(e.pItem.maxPrice,6),6))+" "+s(e.pItem.needReverse?e.pItem.token_a.symbol:e.pItem.token_b.symbol)+" per "+s(e.pItem.needReverse?e.pItem.token_b.symbol:e.pItem.token_a.symbol),1)])]),o("div",so,[o("div",no,[o("div",{class:P(["info-block cursor-block",e.pItem.amountUSD=="--"||Number(e.pItem.amountUSD)==0?"block-none":""])},[o("div",to,s(e.$t("common.liquidity")),1),o("div",ao," $"+s(e.pItem.amountUSD=="--"?"--":Number(e.pItem.amountUSD)==0?0:Number(e.pItem.amountUSD)<.01?"<0.01":("addCommom"in e?e.addCommom:r(I))(e.pItem.amountUSD,2)),1),e.pItem.amountUSD>0?(n(),t("div",ro,[o("div",io,[o("div",lo,[o("img",{src:e.pItem.needReverse?e.pItem.token_b.logoURI:e.pItem.token_a.logoURI,alt:""},null,8,mo),o("span",null,s(e.pItem.needReverse?e.pItem.token_b.symbol:e.pItem.token_a.symbol),1)]),o("div",uo,[o("div",po,s(e.pItem.needReverse?("showNum"in e?e.showNum:r(H))(e.pItem.amountB,e.pItem.token_b.decimals):("showNum"in e?e.showNum:r(H))(e.pItem.amountA,e.pItem.token_a.decimals)),1),e.pItem.needReverse?(n(),t("div",vo,s(e.pItem.tokenBRates==0?"$0":e.pItem.tokenBRates>.01?"$"+("fixD"in e?e.fixD:r(D))(e.pItem.tokenBRates,2):"<$0.01"),1)):(n(),t("div",co,s(e.pItem.tokenARates==0?"$0":e.pItem.tokenARates>.01?"$"+("fixD"in e?e.fixD:r(D))(e.pItem.tokenARates,2):"<$0.01"),1))])]),o("div",ho,[o("div",ko,[o("img",{src:e.pItem.needReverse?e.pItem.token_a.logoURI:e.pItem.token_b.logoURI,alt:""},null,8,bo),o("span",null,s(e.pItem.needReverse?e.pItem.token_a.symbol:e.pItem.token_b.symbol),1)]),o("div",fo,[o("div",Io,s(e.pItem.needReverse?("showNum"in e?e.showNum:r(H))(e.pItem.amountA,e.pItem.token_a.decimals):("showNum"in e?e.showNum:r(H))(e.pItem.amountB,e.pItem.token_b.decimals)),1),e.pItem.needReverse?(n(),t("div",$o,s(e.pItem.tokenARates==0?"$0":e.pItem.tokenARates>.01?"$"+("fixD"in e?e.fixD:r(D))(e.pItem.tokenARates,2):"<$0.01"),1)):(n(),t("div",go,s(e.pItem.tokenBRates==0?"$0":e.pItem.tokenBRates>.01?"$"+("fixD"in e?e.fixD:r(D))(e.pItem.tokenBRates,2):"<$0.01"),1))])])])):f("",!0)],2),o("div",{class:P(["info-block cursor-block",e.pendingFees==0?"block-none":""])},[o("div",wo,s(e.$t("newAdd.pendingFees")),1),e.pendingFees==="--"?(n(),t("div",yo," -- ")):isNaN(e.pendingFees)?(n(),t("div",Ro,[g(i,{size:"small"})])):(n(),t("div",_o,s(e.pendingFees==0?"$0":e.pendingFees<.01?"<$0.01":"$"+("addCommom"in e?e.addCommom:r(I))(e.pendingFees,2)),1)),e.pendingFees>0?(n(),t("div",No,[(n(!0),t(V,null,q(e.pendingFeesArr,a=>(n(),t("div",{key:a,class:"rewarder-info"},[o("div",So,[o("img",{src:a.logoURI,alt:""},null,8,Do),o("span",null,s(a.symbol),1)]),o("div",Uo,[o("div",Co,s(Number(a.amount)==0?0:Number(a.amount)>1e-6?("addCommom"in e?e.addCommom:r(I))(("decimalFormat"in e?e.decimalFormat:r(N))(a.amount,a.decimals),a.decimals):"<0.000001"),1),o("div",Ao,s(Number(a.amountUSD)==0?"$0":Number(a.amountUSD)>.01?"$"+("addCommom"in e?e.addCommom:r(I))(a.amountUSD,2):"<$0.01"),1)])]))),128))])):f("",!0)],2),e.pItem.is_display_rewarder&&!("checkNullObj"in e?e.checkNullObj:r(Q))(e.pItem.rewarder_infos)&&e.pendingRewarderArr&&e.pendingRewarderArr.length>0?(n(),t("div",{key:0,class:P(["info-block cursor-block",e.pendingRewarder==0?"block-none":""])},[o("div",Fo,s(e.$t("newAdd.pendingRewards")),1),e.pendingRewarder||e.pendingRewarder==0?(n(),t("div",Oo," $"+s(e.pendingRewarder>0&&e.pendingRewarderView>0?e.pendingRewarderView:e.pendingRewarder>0&&e.pendingRewarderView<=0?"<0.01":0),1)):(n(),t("div",jo,[g(i,{size:"small"})])),e.pendingRewarder>0?(n(),t("div",Po,[(n(!0),t(V,null,q(e.pendingRewarderArr,a=>(n(),t("div",{key:a,class:"rewarder-info"},[o("div",Lo,[o("img",{src:a.logoURI,alt:""},null,8,Bo),o("span",null,s(a.symbol),1)]),o("div",To,[o("div",Eo,s(("fixD"in e?e.fixD:r(D))(a.amount,a.decimals)),1),o("div",Vo,s(Number(a.amountUSD)==0?"$0":Number(a.amountUSD)>.01?"$"+("addCommom"in e?e.addCommom:r(I))(a.amountUSD,2):"<$0.01"),1)])]))),128))])):f("",!0)],2)):f("",!0),qo])])])]),o("div",{class:"h5-bottom",onClick:d[1]||(d[1]=(...a)=>e.clickDetails&&e.clickDetails(...a))},[o("div",Go,[o("div",zo,s(e.pItem.needReverse?("decimalFormat"in e?e.decimalFormat:r(N))(1/e.pItem.minPrice,6):("decimalFormat"in e?e.decimalFormat:r(N))(e.pItem.minPrice,6)),1),e.store.theme=="default"?(n(),t("img",Ko)):(n(),t("img",Ho)),o("div",Jo,s(e.pItem.maxPrice.indexOf("+")>-1?"∞":e.pItem.needReverse?("decimalFormat"in e?e.decimalFormat:r(N))(1/e.pItem.maxPrice,6):("decimalFormat"in e?e.decimalFormat:r(N))(e.pItem.maxPrice,6))+" "+s(e.pItem.needReverse?e.pItem.token_a.symbol:e.pItem.token_b.symbol)+" per "+s(e.pItem.needReverse?e.pItem.token_b.symbol:e.pItem.token_a.symbol),1)]),o("div",Wo,[o("div",Mo,[o("div",Qo,[o("div",Zo,s(e.$t("common.liquidity")),1),o("div",Xo," $"+s(e.pItem.amountUSD=="--"?"--":Number(e.pItem.amountUSD)==0?0:Number(e.pItem.amountUSD)<.01?"<0.01":("addCommom"in e?e.addCommom:r(I))(e.pItem.amountUSD,2)),1)]),o("div",Yo,[o("div",xo,s(e.$t("newAdd.pendingFees")),1),isNaN(e.pendingFees)?(n(),t("div",os,[g(i,{size:"small"})])):(n(),t("div",es,s(e.pendingFees==0?"$0":e.pendingFees<.01?"<$0.01":"$"+("addCommom"in e?e.addCommom:r(I))(e.pendingFees,2)),1)),e.pendingFees>0?(n(),t("div",ss,[(n(!0),t(V,null,q(e.pendingFeesArr,a=>(n(),t("div",{key:a,class:"rewarder-info"},[o("div",ns,[o("img",{src:a.logoURI,alt:""},null,8,ts),o("span",null,s(a.symbol),1)]),o("div",as,[o("div",rs,s(Number(a.amount)==0?0:Number(a.amount)>1e-6?("addCommom"in e?e.addCommom:r(I))(("fixD"in e?e.fixD:r(D))(a.amount,a.decimals),a.decimals):"<0.000001"),1),o("div",is,s(Number(a.amountUSD)==0?"$0":Number(a.amountUSD)>.01?"$"+("addCommom"in e?e.addCommom:r(I))(a.amountUSD,2):"<$0.01"),1)])]))),128))])):f("",!0)]),e.pItem.is_display_rewarder&&!("checkNullObj"in e?e.checkNullObj:r(Q))(e.pItem.rewarder_infos)&&e.pendingRewarderArr&&e.pendingRewarderArr.length>0?(n(),t("div",ls,[o("div",ds,s(e.$t("newAdd.pendingRewards")),1),e.pendingRewarder||e.pendingRewarder==0?(n(),t("div",ms," $"+s(e.pendingRewarder>0?("fixD"in e?e.fixD:r(D))(e.pendingRewarder,2):0),1)):(n(),t("div",us,[g(i,{size:"small"})])),e.pendingRewarder>0?(n(),t("div",ps,[(n(!0),t(V,null,q(e.pendingRewarderArr,a=>(n(),t("div",{key:a,class:"rewarder-info"},[o("div",cs,[o("img",{src:a.logoURI,alt:""},null,8,vs),o("span",null,s(a.symbol),1)]),o("div",hs,[o("div",ks,s(a.amount),1),o("div",bs,"$"+s(("fixD"in e?e.fixD:r(D))(a.amountUSD,2)),1)])]))),128))])):f("",!0)])):f("",!0)]),fs])])])}const gs=se(qe,[["render",Is],["__scopeId","data-v-1a8f3d91"]]),$s=ee({setup(){const e=_(!1),{t:d}=oe(),$=_(["position"]),U=ie(),w=_(""),L=x(),y=v(()=>L);let i=_([]);const a=ue(),k=v(()=>a),G=Ae(),R=v(()=>G),F=_(!1),c=_(d("tab.all")),S=_([d("tab.layerZero"),d("tab.wormhole"),d("tab.celer")]),O=_(!0),Z=_("TVL"),X=()=>{e.value=!0,i.value=[],R.value.address&&a.getMyPositons(R.value.address,k.value.poolsObj,y.value.chainName),setTimeout(()=>{e.value=!1},1e3)};ye(()=>{i.value=[],document.addEventListener("click",()=>{F.value=!1}),a.setMyPositionsLoading(!0)}),_e(()=>{document.addEventListener("click",()=>{F.value=!1})}),Re(()=>{R.value.connected||(i.value=[])});const b=p=>{e.value=!0;let u=[];if(k.value.myPositions.forEach(m=>{var K,B,J,W;let l;const h=m.amountA*((K=k.value.RATES[m.token_a.address])==null?void 0:K.price),j=m.amountB*((B=k.value.RATES[m.token_b.address])==null?void 0:B.price);(J=k.value.RATES[m.token_a.address])!=null&&J.price&&((W=k.value.RATES[m.token_b.address])!=null&&W.price)?l=h+j:l=" --",u.push({...m,amountUSD:l,tokenARates:h,tokenBRates:j})}),c.value!="All"){const m=[];u.forEach(l=>{var h;((h=l==null?void 0:l.labels)==null?void 0:h.indexOf(c.value))!==-1&&m.push(l)}),O.value?(i.value=m.sort((l,h)=>h.amountUSD-l.amountUSD),e.value=!1):(i.value=m.sort((l,h)=>l.amountUSD-h.amountUSD),e.value=!1)}else O.value?(i.value=u.sort((m,l)=>l.amountUSD-m.amountUSD),e.value=!1):(i.value=u.sort((m,l)=>m.amountUSD-l.amountUSD),e.value=!1)};E(()=>[k.value.myPositions,k.value.RATES],([p,u])=>{p&&u&&b()},{immediate:!0}),E(()=>[R.value.address,k.value.poolConfigList,k.value.poolsObj,y.value.chainName],([p,u,m,l])=>{var h;p&&u&&u.length>0&&l&&(l!=null&&l.toLowerCase().includes((h=u[0])==null?void 0:h.chain))&&!Q(m)&&u.length===Object.values(m).length&&a.getMyPositons(R.value.address,m,l)},{immediate:!0,deep:!0}),E(()=>c.value,p=>{b()}),E(()=>O.value,p=>{b()});const be=p=>{const u=[];S.value.forEach((m,l)=>{m==p?u[l]=c.value:u[l]=m}),S.value=u,c.value=p},z=Ce(),C=v(()=>z),ne=v(()=>a),fe=async p=>{await z.getSourceGroups();const u=C.value.sourceGroups&&C.value.sourceGroups.length>0&&C.value.sourceGroups[0]&&C.value.sourceGroups[0].sources||[];for(let m=0;m<u.length;m++){const{pool_address:l,position_index:h}=JSON.parse(u[m].blockchainAddress);let j=!1,K;for(let B=0;B<p.length;B++){const{poolAddress:J,index:W}=p[B];l==J&&Number(W)==Number(h)&&(j=!0),K={pool_address:l,position_index:h}}j||await z.subscribePosition(K,"",!1,!1)}},Ie=async()=>{await z.getSourceGroups();const p=C.value.sourceGroups&&C.value.sourceGroups.length>0&&C.value.sourceGroups[0]&&C.value.sourceGroups[0].sources||[];for(let u=0;u<p.length;u++){const{pool_address:m,position_index:l}=JSON.parse(p[u].blockchainAddress),{name:h}=p[u],j={pool_address:m,position_index:l};await z.subscribePosition(j,h,!1,!1)}},ge=v(()=>ne.value.myPositionsLoading);return E(()=>ne.value.myPositions,(p,u)=>{p&&p.length>0&&u&&u.length!==p.length?fe(p):p&&p.length==0&&!ge.value&&Ie()},{immediate:!0}),{changeSortLabel:be,label:F,labelList:S,labelValue:c,select:O,selectValue:Z,t:d,pools:k,store:y,wallet:R,list:i,clickRefresh:X,refresh:e,current:$,router:U,searchKey:w}}}),ws=""+new URL("img-connect-wallet_2x.ff62feba.png",import.meta.url).href,ys=""+new URL("img-connect-wallet_2x.deb6e876.png",import.meta.url).href;const ke=e=>(de("data-v-8723d43a"),e=e(),me(),e),_s={class:"position-title"},Rs=ke(()=>o("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Ns=[Rs],Ss={class:"position-tab"},Ds={class:"search-tab"},Us={key:0,class:"positionNum"},Cs={class:"search-container"},As={class:"value"},Fs=ke(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),Os=[Fs],js={key:0,class:"select-item"},Ps=["onClick"],Ls={key:0,src:ve,alt:""},Bs={key:1,class:"fan-img",src:ve,alt:""},Ts={key:0,class:"loading-global position-loading"},Es={key:1,class:"position-list"},Vs={key:2,class:"no-data"},qs={key:0,src:Fe,alt:""},Gs={key:1,src:Oe,alt:""},zs={key:3,class:"no-data"},Ks={key:0,src:ws,alt:""},Hs={key:1,src:ys,alt:""};function Js(e,d,$,U,w,L){const y=ae("mail-outlined"),i=De,a=ae("appstore-outlined"),k=Ne,G=le,R=gs,F=Se;return n(),t("div",{class:P(e.list&&e.list.length===0&&e.wallet.connected||!e.wallet.connected?"position-center position-list-container":"position-list-container")},[o("div",_s,[o("div",null,s(e.$t("common.concentratedPools")),1),(n(),t("svg",{"aria-hidden":"true",class:P(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:d[0]||(d[0]=(...c)=>e.clickRefresh&&e.clickRefresh(...c))},Ns,2))]),o("div",Ss,[o("div",Ds,[g(k,{selectedKeys:e.current,"onUpdate:selectedKeys":d[2]||(d[2]=c=>e.current=c),mode:"horizontal"},{default:A(()=>[g(i,{key:"pools",onClick:d[1]||(d[1]=c=>e.router.push("/pools"))},{icon:A(()=>[g(y)]),default:A(()=>[M(" "+s(e.$t("menu.pools")),1)]),_:1}),g(i,{key:"position"},{icon:A(()=>[g(a)]),default:A(()=>[M(" "+s(e.$t("common.myPosition")),1),e.list.length>0?(n(),t("span",Us," ("+s(e.list.length)+")",1)):f("",!0)]),_:1})]),_:1},8,["selectedKeys"])]),o("div",Cs,[e.store.theme=="default"?(n(),t("div",{key:0,class:"search-label",onClick:d[3]||(d[3]=te(c=>e.label=!e.label,["stop"]))},[o("span",null,s(e.$t("newAdd.label")),1),o("div",As,s(e.labelValue),1),(n(),t("svg",{"aria-hidden":"true",class:P(e.label?"show-icon icon":"icon")},Os,2)),e.label?(n(),t("div",js,[(n(!0),t(V,null,q(e.labelList,(c,S)=>(n(),t("div",{key:S,class:"select-menu-item",onClick:O=>e.changeSortLabel(c)},s(c),9,Ps))),128))])):f("",!0)])):f("",!0),o("div",{class:"search-select",onClick:d[4]||(d[4]=te(c=>e.select=!e.select,["stop"]))},[o("div",null,[M(" TVL "),e.select?(n(),t("img",Ls)):(n(),t("img",Bs))])])])]),e.pools.myPositionsLoading&&e.wallet.connected?(n(),t("div",Ts,[g(G)])):f("",!0),e.list&&e.list.length>0&&e.wallet.connected&&!e.pools.myPositionsLoading?(n(),t("div",Es,[(n(!0),t(V,null,q(e.list,(c,S)=>(n(),re(R,{key:S,"p-item":c},null,8,["p-item"]))),128))])):f("",!0),e.list&&e.list.length<=0&&!e.pools.myPositionsLoading&&e.wallet.connected?(n(),t("div",Vs,[e.store.theme=="default"?(n(),t("img",qs)):(n(),t("img",Gs)),o("span",null,s(e.$t("common.noLiquidityPositions")),1)])):f("",!0),e.wallet.connected?f("",!0):(n(),t("div",zs,[e.store.theme=="default"?(n(),t("img",Ks)):(n(),t("img",Hs)),g(F,{class:"connect-wallet",onClick:d[5]||(d[5]=c=>e.wallet.setIsShowWalletModal(!0))},{default:A(()=>[M(s(e.$t("button.connectWallet")),1)]),_:1})]))],2)}const ln=se($s,[["render",Js],["__scopeId","data-v-8723d43a"]]);export{ln as default};
