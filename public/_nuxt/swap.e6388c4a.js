import{_ as U}from"./refresh-icon.463cb630.js";import{_ as L,a as K}from"./coin-select.0939d78d.js";import{_ as j}from"./network-tips.52375c16.js";import{_ as z}from"./swap-setting.d73c0e65.js";import{b as F,ak as G,K as q,o as s,c as C,m as N,f as n,t as i,y as g,e as l,q as k,l as v,B as E,p as D,j as O,al as V,s as W,v as B,w as M,x as Q,r as Y,i as H,k as R,am as J,J as P,an as X,h as u,a3 as Z}from"./entry.c1386fdc.js";import"./img-no-Positions_2x.3a4bda32.js";const _=o=>(D("data-v-10934c9a"),o=o(),O(),o),x=_(()=>n("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),oo={class:"swap-confirm-container"},no={class:"card-content"},io={class:"top"},eo={class:"coin"},so=["src"],to=_(()=>n("div",{class:"svg-box"},[n("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-icon-swap2"})])],-1)),ao={class:"coin"},lo=["src"],mo={class:"bottom"},ro={class:"induction"},co={class:"item"},uo={class:"induction-text"},po={class:"induction-value induction-value-change"},fo={key:0},Co={key:1},ho=_(()=>n("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),vo=[ho],go={class:"item"},$o={class:"induction-text"},Ao={class:"induction-value"},bo={class:"item"},wo={class:"induction-text"},yo={class:"induction-value"},ko={class:"item"},So={class:"induction-text"},No={class:"item"},Io={class:"induction-text"},Bo={class:"induction-value"};function Mo(o,e,c,a,$,w){const h=E,A=q("Modal");return s(),C(A,{width:"440px",visible:!0,footer:null,title:o.$t("modal.swapConfirmTitle"),class:"swap-confirm-modal",onCancel:e[2]||(e[2]=p=>o.$emit("on-close"))},{closeIcon:N(()=>[x]),default:N(()=>[n("div",oo,[n("div",no,[n("div",io,[n("div",eo,[n("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`)},null,8,so),n("p",null,i(o.fromCoinAmount),1),g(" \xA0\xA0 "),n("p",null,i(o.fromCoin.symbol),1)]),to,n("div",ao,[n("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`)},null,8,lo),n("p",null,i(o.toCoinAmount),1),g(" \xA0\xA0 "),n("p",null,i(o.toCoin.symbol),1)])]),n("div",mo,[n("div",ro,[n("div",co,[n("div",uo,i(o.$t("common.rate")),1),n("div",po,[o.rateChange?(s(),l("span",Co," 1 "+i(o.toCoin.symbol)+" \u2248 "+i(o.fixD(Number(o.fromCoinAmount)/Number(o.toCoinAmount),o.toCoin.decimals))+" "+i(o.fromCoin.symbol),1)):(s(),l("span",fo," 1 "+i(o.fromCoin.symbol)+" \u2248 "+i(o.fixD(Number(o.toCoinAmount)/Number(o.fromCoinAmount),o.toCoin.decimals))+" "+i(o.toCoin.symbol),1)),(s(),l("svg",{class:"icon-change","aria-hidden":"true",onClick:e[0]||(e[0]=p=>o.rateChange=!o.rateChange)},vo))])]),n("div",go,[n("div",$o,i(o.$t("modal.slippageTolerance")),1),n("div",Ao,i(o.slippage)+"%",1)]),n("div",bo,[n("div",wo,i(o.fixedFromCoin?o.$t("common.minimumReceived"):o.$t("common.maximumSold")),1),n("div",yo,i(o.fixedFromCoin?o.fixD(o.toCoinAmount-Number(o.toCoinAmount)*Number(o.slippage)/100,o.toCoin.decimals):o.fixD(Number(o.fromCoinAmount)*Number(o.slippage)/100+Number(o.fromCoinAmount),o.fromCoin.decimals))+" "+i(o.fixedFromCoin?o.toCoin.symbol:o.fromCoin.symbol),1)]),n("div",ko,[n("div",So,i(o.$t("common.priceImpact")),1),n("div",{class:k(["induction-value",o.impact<1?"impact-s":o.impact<10&&o.impact>1?"impact-w":"impact-e"])},i(o.impact<.01?"<0.01":o.impact>100?"100":o.impact)+"% ",3)]),n("div",No,[n("div",Io,i(o.$t("common.fee")),1),n("div",Bo,i(o.decimalFormat(o.fromCoinAmount*o.fee/100,o.fromCoin.decimals))+" "+i(o.fromCoin.symbol)+" ("+i(o.fee)+"%) ",1)])])])])]),v(h,{class:"big-btn swap-confirm-btn",onClick:e[1]||(e[1]=p=>o.clickNextBtn())},{default:N(()=>[g(i(o.$t("button.confirmSwap")),1)]),_:1})]),_:1},8,["title"])}const Fo=F(G,[["render",Mo],["__scopeId","data-v-10934c9a"]]),Do={props:{coin:{type:Object},refresh:{type:Boolean}},setup(o,e){const{$echarts:c}=V();console.log(V(),"==useNuxtApp()");const a=(r,d,b)=>{console.log("draw");let y=document.getElementById(`main${b}`),f=c.init(y),t;t={xAxis:{type:"category",boundaryGap:!1,show:!1,data:d},yAxis:{type:"value",show:!1,min:function(m){return m.min-m.min*.1},max:function(m){return m.max+m.max*.1}},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:"#68FFD8"}},formatter:function(m){return`<div class="chart-tip">
              <div>${m&&m[0]&&m[0].name}</div>
              <div>$${R(m&&m[0]&&m[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"#0C4535"},{offset:1,color:"#151817"}]},series:[{data:r,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:"#68FFD8",width:2,type:"solid"}}]},t&&f.clear(),t&&f.setOption(t,!0)},$=async()=>{var f,t;const r=await $fetch(`${p.value.api}/v2/token/kline/${(f=o.coin)==null?void 0:f.name}`),d=[],b=[];r.data.list.reverse().forEach(m=>{d.push(m.settle),b.push(J(m.date,"HM"))});const y=d.sort();console.log(y,"===>sortResult"),a(d,b,(t=o.coin)==null?void 0:t.name)},w=W(),h=B(()=>w),A=B(()=>h.value.chainName),p=B(()=>P[A.value]);M(()=>o.coin,r=>{r&&$()}),Q(()=>{$()});const S=Y({});return M(()=>[h.value.newtopTokenObj,o.coin],([r,d])=>{console.log(r,"===>newValue11111"),console.log(d,"===coin.name.toUpperCase()"),r&&d&&r[d.address]&&(S.value=r[d.address])},{immediate:!0,deep:!0}),M(()=>o.refresh,r=>{r&&$()}),{store:w,importIcon:H,stats:S,fixD:R,config:p}}},T=o=>(D("data-v-f785aeca"),o=o(),O(),o),Oo={class:"token-info"},_o={class:"token-info-header"},To={class:"left"},Vo=["src"],Ro={class:"name"},Eo={class:"desc"},Uo={class:"copy"},Lo=T(()=>n("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Ko=[Lo],jo={class:"right"},zo={class:"price"},Go={class:"token-info-footer"},qo={class:"left"},Wo=T(()=>n("p",null,"TVL",-1)),Qo=T(()=>n("p",null,"24H VOL",-1)),Yo={class:"right"},Ho=["id"];function Jo(o,e,c,a,$,w){return s(),l("div",Oo,[n("div",_o,[n("div",To,[n("img",{src:c.coin.logoURI||a.importIcon(`/image/coins/${c.coin.symbol.toLowerCase()}.png`)},null,8,Vo),n("div",null,[n("div",Ro,i(c.coin.symbol),1),n("div",Eo,[n("span",null,i(c.coin.name),1),n("span",Uo,[(s(),l("svg",{class:"icon","aria-hidden":"true",onClick:e[0]||(e[0]=h=>a.store.copy(c.coin&&c.coin.address))},Ko))])])])]),n("div",jo,[n("div",zo,"$"+i(a.fixD(a.stats.price,2)),1),n("div",{class:k(a.stats&&a.stats.price_rate_24h&&a.stats.price_rate_24h.indexOf("-")>-1?"increase down":"increase up")},i(a.stats.price_rate_24h!=="0%"&&a.stats.price_rate_24h&&a.stats.price_rate_24h.indexOf("-")>-1?a.stats.price_rate_24h:`+${a.stats.price_rate_24h}`),3)])]),n("div",Go,[n("div",qo,[n("div",null,[n("p",null,"$"+i(a.fixD(a.stats.tvl_in_usd,2)),1),Wo]),n("div",null,[n("p",null,"$"+i(a.fixD(a.stats.vol_in_usd_24h,2)),1),Qo])]),n("div",Yo,[n("div",{id:`main${c.coin.name}`,class:"main"},null,8,Ho)])])])}const Po=F(Do,[["render",Jo],["__scopeId","data-v-f785aeca"]]),Xo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAwAAAGCBAMAAAAmlj/IAAAAFVBMVEVHcEwzMzMzMzMyMjI0NDQvLy8zMzOcydXuAAAABnRSTlMAy9hRbBs90ObtAAAAWklEQVRIx2NgYBFLdGBgYBVLS0sMYGBMMg1WE2BwU2VgCEphEDNgYGBOZEgLAMqnMaQxAEEaTBCqBKoBqh1qGAMDWwLDKDVKjVKj1Cg1So1So9QoNdwo6rccATYwqRNK4tkrAAAAAElFTkSuQmCC",I=o=>(D("data-v-595c2359"),o=o(),O(),o),Zo={class:"swap-container"},xo={class:"title"},on={class:"left"},nn={class:"right title-right"},en=I(()=>n("svg",{class:"icon","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),sn={class:"swap-card"},tn={class:"card-container"},an={class:"card-item"},ln={class:"card-item"},mn=I(()=>n("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),rn=[mn],dn={key:0,class:"induction"},cn={key:0,class:"exchange-rate-btn"},un={key:0},pn=["src"],fn={key:0},Cn=["src"],hn={key:1},vn={key:0},gn=["src"],$n=["src"],An=I(()=>n("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),bn=[An],wn={class:"item"},yn={class:"induction-text"},kn={key:1},Sn={class:"item"},Nn={class:"induction-text"},In={class:"induction-value"},Bn={class:"item"},Mn={class:"induction-text"},Fn={class:"induction-value"},Dn={key:0,class:"icon","aria-hidden":"true"},On=I(()=>n("use",{"xlink:href":"#icon-icon-swap"},null,-1)),_n=[On],Tn={key:3,class:"token-info-container"};function Vn(o,e,c,a,$,w){const h=U,A=L,p=Z,S=E,r=j,d=K,b=z,y=Fo,f=Po;return s(),l("div",Zo,[n("div",xo,[n("div",on,i(o.$t("menu.swap")),1),n("div",nn,[n("div",{class:"slippage-icon",onClick:e[0]||(e[0]=t=>o.isShowSwapSetting=!0)},[en,n("span",null,i(o.slippage)+"%",1)]),v(h,{loading:o.refresh,"auto-refresh-time":o.autoRefreshTime,countdown:o.countdown,onClickRefresh:o.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),n("div",sn,[n("div",tn,[n("div",an,[v(A,{modelValue:o.fromCoinAmount,"onUpdate:modelValue":e[1]||(e[1]=t=>o.fromCoinAmount=t),"input-value":o.fromCoinAmount,"coin-symbol":o.fromCoin?o.fromCoin.symbol:null,"coin-name":o.fromCoin?o.fromCoin.name:null,balance:o.fromCoinBlance,"coin-icon":o.fromCoin?o.fromCoin.logoURI:"","swap-direction":"From",onOnMax:e[2]||(e[2]=t=>o.maxBtnSelect("fromCoin")),onOnInput:e[3]||(e[3]=t=>{o.fromCoinAmount=t,o.fixedFromCoin=!0}),onOnSelect:e[4]||(e[4]=t=>o.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon"])]),n("div",ln,[v(A,{modelValue:o.toCoinAmount,"onUpdate:modelValue":e[5]||(e[5]=t=>o.toCoinAmount=t),"input-value":o.toCoinAmount,havemax:!1,"coin-symbol":o.toCoin?o.toCoin.symbol:null,"coin-name":o.toCoin?o.toCoin.name:null,balance:o.toCoinBlance,"swap-direction":"To","coin-icon":o.toCoin?o.toCoin.logoURI:"",onOnInput:e[6]||(e[6]=t=>{o.toCoinAmount=t,o.fixedFromCoin=!1}),onOnSelect:e[7]||(e[7]=t=>o.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon"])]),n("img",{class:k(o.change?"gang animationex":"gang"),src:Xo,alt:""},null,2),n("div",{class:"exchange",onClick:e[8]||(e[8]=t=>o.clickExchange())},[(s(),l("svg",{class:k(o.change?"icon animationex":"icon"),"aria-hidden":"true"},rn,2))])]),o.poolInfo&&o.fromCoinAmount&&o.toCoinAmount&&o.fromCoinAmount!=="0"&&o.toCoinAmount!=="0"&&o.swapBtnText!==o.$t("button.poolNotFound")?(s(),l("div",dn,[o.fromCoinAmount&&o.toCoinAmount?(s(),l("div",cn,[o.rateChange?Number(o.fromCoinAmount)&&Number(o.toCoinAmount)&&o.rateChange?(s(),l("span",hn,[Number(o.fromCoinAmount)&&Number(o.toCoinAmount)?(s(),l("span",vn,[n("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`)},null,8,gn),g(" 1 "+i(o.toCoin.symbol)+" \u2248 ",1),n("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`)},null,8,$n),g(" "+i(o.fixD(Number(o.fromCoinAmount)/Number(o.toCoinAmount),o.fromCoin.decimals))+" "+i(o.fromCoin.symbol),1)])):(s(),C(p,{key:1,indicator:o.indicator},null,8,["indicator"]))])):u("",!0):(s(),l("span",un,[n("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.fromCoin.symbol.toLowerCase()}.png`)},null,8,pn),g(" 1 "+i(o.fromCoin.symbol)+" \u2248 ",1),Number(o.fromCoinAmount)&&Number(o.toCoinAmount)?(s(),l("span",fn,[n("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.toCoin.symbol.toLowerCase()}.png`)},null,8,Cn),g(" "+i(o.fixD(Number(o.toCoinAmount)/Number(o.fromCoinAmount),o.toCoin.decimals))+" "+i(o.toCoin.symbol),1)])):(s(),C(p,{key:1,indicator:o.indicator},null,8,["indicator"]))])),(s(),l("svg",{class:"icon-change","aria-hidden":"true",onClick:e[9]||(e[9]=t=>o.rateChange=!o.rateChange)},bn))])):u("",!0),n("div",wn,[n("div",yn,i(o.$t("common.priceImpact")),1),o.swaping?(s(),l("div",kn,[v(p,{indicator:o.indicator},null,8,["indicator"])])):(s(),l("div",{key:0,class:k(["induction-value",o.impact<1?"impact-s":o.impact<10&&o.impact>1?"impact-w":"impact-e"])},i(o.impact<.01?"<0.01":o.impact>100?"100":o.impact)+"% ",3))]),n("div",Sn,[n("div",Nn,i(o.fixedFromCoin?o.$t("common.minimumReceived"):o.$t("common.maximumSold")),1),n("div",In,i(o.fixedFromCoin?o.fixD(Number(o.toCoinAmount)-Number(o.toCoinAmount)*Number(o.slippage)/100,o.toCoin.decimals):o.fixD(Number(o.fromCoinAmount)*Number(o.slippage)/100+Number(o.fromCoinAmount),o.fromCoin.decimals))+" "+i(o.fixedFromCoin?o.toCoin.symbol:o.fromCoin.symbol),1)]),n("div",Bn,[n("div",Mn,i(o.$t("common.fee")),1),n("div",Fn,i(o.formatFee)+" "+i(o.fromCoin.symbol)+" ("+i(o.poolInfo.fee)+"%) ",1)])])):u("",!0)]),v(S,{disabled:o.wallet.connected?o.swaping||!o.fromCoin||!o.toCoin||!Number(o.fromCoinAmount)||!Number(o.toCoinAmount)||Number(o.fromCoinAmount)>Number(o.fromCoinBlance)||o.swapBtnText==o.$t("button.poolNotFound")||o.swapBtnText!==o.$t("button.swap")||o.poolInfo.is_pause:!1,class:"big-btn",loading:o.swaping,onClick:e[10]||(e[10]=t=>o.wallet.connected?o.isSwapConfirmMpdal=!0:o.wallet.setIsShowWalletModal(!0))},{default:N(()=>[o.wallet.connected?(s(),l("svg",Dn,_n)):u("",!0),n("span",null,i(o.wallet.connected?o.swapBtnText:o.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),v(r),o.showCoinSelect?(s(),C(d,{key:0,"existing-coins":o.existingCoins,"last-select-coin":o.lastSelectCoin,onOnSelect:o.onCoinSelect,onOnClose:e[11]||(e[11]=t=>o.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):u("",!0),o.isShowSwapSetting?(s(),C(b,{key:1,onOnClose:e[12]||(e[12]=t=>o.isShowSwapSetting=!1)})):u("",!0),o.isSwapConfirmMpdal?(s(),C(y,{key:2,"fixed-from-coin":o.fixedFromCoin,"from-coin":o.fromCoin,"to-coin":o.toCoin,"from-coin-amount":o.fromCoinAmount,"to-coin-amount":o.toCoinAmount,impact:o.impact,fee:o.poolInfo.fee,onOnClose:e[13]||(e[13]=t=>o.isSwapConfirmMpdal=!1),onToSwap:o.toSwap},null,8,["fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","impact","fee","onToSwap"])):u("",!0),o.chainName=="Aptos"?(s(),l("div",Tn,[o.fromCoin?(s(),C(f,{key:0,coin:o.fromCoin,refresh:o.refresh},null,8,["coin","refresh"])):u("",!0),o.toCoin?(s(),C(f,{key:1,coin:o.toCoin,refresh:o.refresh},null,8,["coin","refresh"])):u("",!0)])):u("",!0)])}const zn=F(X,[["render",Vn],["__scopeId","data-v-595c2359"]]);export{zn as default};
