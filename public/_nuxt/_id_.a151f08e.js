import{_ as xo}from"./back.56b224bd.js";import{_ as oe}from"./status-block.be0c14d8.js";import{a as uo,Z as po,r as u,e as co,b as mo,i as g,ab as H,v as fo,L as Uo,Q as O,k as vo,o as m,l as v,m as e,C as b,E as w,t as i,J as W,p as M,S as Lo,q as Io,s as ko,V as ee,Y as ne,c as ro,A as R,K as jo,W as se,w as G,$ as ie,f6 as ae,f as te,f9 as B,fg as No,z as le,j as D,y as F,X as re,R as lo,N as de,O as ue,F as pe,T as ce,U as me}from"./entry.70361f87.js";/* empty css              */import{_ as Bo,a as qo}from"./icon-arrow_2x.db44c7c5.js";import{_ as fe}from"./apr-tab.b93e5f51.js";import{_ as ve}from"./apr-tips.8e17a808.js";import{p as Ie}from"./precision.1cd464a0.js";import"./index.73b09494.js";const ke=uo({props:{positionInfo:{type:Object,required:!0}},setup(o){const{t:c}=po();let P=u(!1),q=u(!0);const k=co(),_=mo(),d=g(()=>_),I=g(()=>{var p,$,l,E,n,f,z,V;const S=o.positionInfo.amountA*(($=d.value.RATES[(p=o.positionInfo)==null?void 0:p.token_a.address])==null?void 0:$.price),y=o.positionInfo.amountB*((E=d.value.RATES[(l=o.positionInfo)==null?void 0:l.token_b.address])==null?void 0:E.price);return((f=d.value.RATES[(n=o.positionInfo)==null?void 0:n.token_a.address])==null?void 0:f.price)&&((V=d.value.RATES[(z=o.positionInfo)==null?void 0:z.token_b.address])==null?void 0:V.price)?S+y:" --"}),h=g(()=>{var S,y,p,$;return((y=d.value.RATES[(S=o.positionInfo)==null?void 0:S.token_a.name.toUpperCase()])==null?void 0:y.price)&&I.value!=="--"?(o.positionInfo.amountA*(($=d.value.RATES[(p=o.positionInfo)==null?void 0:p.token_a.name.toUpperCase()])==null?void 0:$.price)/I.value*100).toFixed(0):" --"}),N=g(()=>{var S,y,p,$;return((y=d.value.RATES[(S=o.positionInfo)==null?void 0:S.token_b.name.toUpperCase()])==null?void 0:y.price)&&I.value!=="--"?(o.positionInfo.amountB*(($=d.value.RATES[(p=o.positionInfo)==null?void 0:p.token_b.name.toUpperCase()])==null?void 0:$.price)/I.value*100).toFixed(0):" --"}),U=g(()=>d.value.tokensObj&&o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.address&&d.value.tokensObj[o.positionInfo.token_a.address]&&d.value.tokensObj[o.positionInfo.token_a.address].logoURI),X=g(()=>d.value.tokensObj&&o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.address&&d.value.tokensObj[o.positionInfo.token_b.address]&&d.value.tokensObj[o.positionInfo.token_b.address].logoURI);return{fromPercent:N,toPercent:h,amountUSD:I,showNum:H,t:c,importIcon:fo,indexStore:k,rateChange:q,decimalFormat:Uo,fromCoinUrl:U,toCoinUrl:X,pools:d,addCommom:O,isPc:P}}});const he=o=>(Io("data-v-5101b7a5"),o=o(),ko(),o),be={class:"position-card"},ge={class:"coin-pair"},_e=["src"],we=["src"],ye={class:"fee"},$e={class:"right"},Ce={key:0,class:"status"},Ae={class:"min-and-max"},Se={key:0},Te={class:"text"},Re={key:0,src:Bo,alt:""},Oe={key:1,src:qo,alt:""},Pe={class:"text"},Ne={key:1},Ue={class:"text"},Le={key:0,src:Bo,alt:""},je={key:1,src:qo,alt:""},Be={class:"text"},qe=he(()=>e("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Ee=[qe],De={class:"liquidity"},Fe={class:"label"},We={class:"value"},He={class:"token-num"},Me={class:"item"},ze=["src"],Je={class:"rate"},Ke={class:"item"},Qe=["src"],Xe={class:"rate"};function Ye(o,c,P,q,k,_){const d=Lo,I=oe;return m(),v("div",be,[e("div",{class:W(["left",`position-status-${o.positionInfo&&o.positionInfo.currentStatus&&o.positionInfo.currentStatus.toLowerCase()}`])},[b(d,{class:"left-skeleton",loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",ge,[e("div",null,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,_e),e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,we)]),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" - "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)]),e("div",ye,i(o.$t("common.fee"))+" "+i(o.positionInfo.fee)+"%",1)]),_:1},8,["loading"])],2),e("div",$e,[o.pools.currentPositionLoading?M("",!0):(m(),v("div",Ce,[b(I,{"current-status":o.positionInfo.currentStatus||"","block-name":"detail"},null,8,["current-status"])])),b(d,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",Ae,[o.rateChange?(m(),v("div",Se,[e("div",Te,i(o.addCommom(o.decimalFormat(String(o.positionInfo.minPrice),6))),1),o.indexStore.theme=="default"?(m(),v("img",Re)):(m(),v("img",Oe)),e("div",Pe,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("\u221E")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":o.addCommom(o.decimalFormat(String(o.positionInfo.maxPrice),6)))+" "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)])):(m(),v("div",Ne,[e("div",Ue,i(o.addCommom(o.decimalFormat(String(1/Number(o.positionInfo.maxPrice)),6))),1),o.indexStore.theme=="default"?(m(),v("img",Le)):(m(),v("img",je)),e("div",Be,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("\u221E")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":o.addCommom(o.decimalFormat(String(1/Number(o.positionInfo.minPrice)),6),6))+" "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])),(m(),v("svg",{class:"icon-change","aria-hidden":"true",onClick:c[0]||(c[0]=h=>o.rateChange=!o.rateChange)},Ee))])]),_:1},8,["loading"]),e("div",De,[b(d,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",Fe,i(o.$t("common.liquidity")),1),e("div",We," $"+i(o.amountUSD=="--"?"--":Number(o.amountUSD)==0?0:Number(o.amountUSD)<.01?"<0.01":o.addCommom(o.amountUSD,2)),1)]),_:1},8,["loading"])]),e("div",He,[b(d,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",Me,[e("div",null,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,ze),e("p",null,i(o.showNum(o.positionInfo.amountA,o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" "+i(o.positionInfo.token_a.labels&&o.positionInfo.token_a.labels[0]?`(${o.positionInfo.token_a.labels[0]})`:""),1)]),e("div",Je,i(o.addCommom(o.positionInfo.fromPercent,0))+"% ",1)]),e("div",Ke,[e("div",null,[e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,Qe),e("p",null,i(o.showNum(o.positionInfo.amountB,o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_b.symbol)+" "+i(o.positionInfo.token_b.labels&&o.positionInfo.token_b.labels[0]?`(${o.positionInfo.token_b.labels[0]})`:""),1)]),e("div",Xe,i(o.addCommom(o.positionInfo.toPercent,0))+"%",1)])]),_:1},8,["loading"])])])])}const Ze=vo(ke,[["render",Ye],["__scopeId","data-v-5101b7a5"]]),Ge=uo({components:{Modal:ee},props:{positionInfo:{type:Object,required:!0},isLoading:{type:Boolean,required:!0}},setup(o,c){const{t:P,locale:q}=po(),k=co(),{copy:_}=k,d=()=>{c.emit("toClaim")},I=mo(),h=g(()=>I),N=g(()=>h.value.tokensObj&&o.positionInfo.token_a.address&&h.value.tokensObj[o.positionInfo.token_a.address]&&h.value.tokensObj[o.positionInfo.token_a.address].logoURI),U=g(()=>h.value.tokensObj&&o.positionInfo.token_b.address&&h.value.tokensObj[o.positionInfo.token_b.address]&&h.value.tokensObj[o.positionInfo.token_b.address].logoURI);return{showNum:H,fromCoinUrl:N,toCoinUrl:U,toClaim:d,t:P,addCommom:O,importIcon:fo,store:k,copy:_}}});const Ve=o=>(Io("data-v-39d55de9"),o=o(),ko(),o),xe=Ve(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),on={class:"claim-container"},en={key:0,class:"pc-claim"},nn=["src"],sn={key:1,class:"pc-claim"},an=["src"];function tn(o,c,P,q,k,_){const d=jo,I=ne("Modal");return m(),ro(I,{visible:!0,class:"claim-fees",centered:"",closable:!0,title:o.$t("modal.claimFees"),width:"400px",footer:null,onCancel:c[0]||(c[0]=h=>o.$emit("onClose"))},{closeIcon:w(()=>[xe]),default:w(()=>[e("div",on,[o.positionInfo&&o.positionInfo.token_a.symbol?(m(),v("div",en,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,nn),e("span",null,i(o.showNum(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals))+" "+i(o.positionInfo.token_a.symbol),1)])):M("",!0),o.positionInfo&&o.positionInfo.token_b.symbol?(m(),v("div",sn,[e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,an),e("span",null,i(o.showNum(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals))+" "+i(o.positionInfo.token_b.symbol),1)])):M("",!0)]),b(d,{class:"big-btn claim-btn",disabled:o.isLoading||o.addCommom(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals)==0&&o.addCommom(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals)==0||o.positionInfo.poolInfo.is_pause,onClick:o.toClaim},{default:w(()=>[R(i(o.$t("common.claim")),1)]),_:1},8,["disabled","onClick"])]),_:1},8,["title"])}const ln=vo(Ge,[["render",tn],["__scopeId","data-v-39d55de9"]]),rn=uo({setup(){const o=u(!1),c=u(!1),P=u(!1),q=u(!0),k=co(),_=g(()=>k),d=mo(),I=u(""),h=u(""),N=u(""),U=u(30),X=u("Estimated APR"),S=u([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),y=u(!0),p=s=>{U.value=s.num},$=()=>{y.value=!y.value},l=g(()=>d),E=g(()=>{var r,a,A,T;const s=n.value.feeOwedA*((r=l.value.RATES[n.value&&n.value.token_a&&n.value.token_a.address])==null?void 0:r.price),t=n.value.feeOwedB*((a=l.value.RATES[n.value&&n.value.token_b&&n.value.token_b.address])==null?void 0:a.price);return((A=l.value.RATES[n.value&&n.value.token_a&&n.value.token_a.address])==null?void 0:A.price)&&((T=l.value.RATES[n.value&&n.value.token_b&&n.value.token_b.address])==null?void 0:T.price)?s+t:" --"}),n=u(l.value.currentPositionInfo||{}),f=se();function z(){f.push(`/remove-liquidity?collect=${n.value.collectionName}&&token=${n.value.tokenName}&&address=${n.value.pool}&pos=${n.value.pos_object_id}`)}function V(){f.push(`/increase-liquidity?collect=${n.value.collectionName}&&token=${n.value.tokenName}&&address=${n.value.pool}&pos=${n.value.pos_object_id}`)}const Eo=()=>{eo(),P.value=!0,setTimeout(()=>{P.value=!1},1e3)},C=g(()=>_.value.chainName?le(_.value.chainName):{}),eo=async()=>{l.value.setCurrentPositionLoading(!0);const s=f.currentRoute.value.query.token||"",t=f.currentRoute.value.query.collect||"",r=f.currentRoute.value.query.address||"",a=f.currentRoute.value.query.pos||"";h.value=r,_.value.chainName==="Aptos"?s&&t&&r&&(I.value=t,N.value=s,l.value.setCurrentPositionInfo(h.value,I.value,N.value,_.value.chainName)):s&&r&&a&&(I.value=t,N.value=s,l.value.setCurrentPositionInfo(r,I.value,N.value,_.value.chainName,a))},Do=g(()=>{var t,r,a;const s=((a=(r=(t=f==null?void 0:f.currentRoute)==null?void 0:t.value)==null?void 0:r.query)==null?void 0:a.address)||"";return s&&l.value.addressLpTokens&&!D(l.value.addressLpTokens)&&l.value.addressLpTokens[s]?l.value.addressLpTokens[s]:null});G(()=>Do.value,(s,t)=>{s&&!D(s)&&s.current_sqrt_price!==(t==null?void 0:t.current_sqrt_price)&&eo()},{immediate:!0});const ho=u(""),bo=u(""),go=u(""),Fo=(s,t)=>s&&t?F(Ie.plus(lo(s),lo(t)),2)+"%":s,_o=s=>{let t=0;return s&&s.forEach(r=>{t+=lo(String(r))}),String(F(String(t),2))},wo=u(""),yo=u("");G(()=>[_.value.newTopPoolsObj,n.value,U],([s,t])=>{if(!D(s)&&!D(t)){const r=t.poolAddress,a=s[r];ho.value=a&&a.apr_7day,yo.value=_o(a&&a.rewarder_apr),wo.value=Fo(a&&a.apr_7day,a&&_o(a.rewarder_apr)),bo.value=a&&F(a.tvl_in_usd,2),go.value=a&&F(a.vol_in_usd_24h,2)}},{immediate:!0,deep:!0});const Wo=ie(),J=g(()=>Wo),{t:no}=po(),{$notify:$o}=ae(),Ho=async()=>{o.value=!0,c.value=!1,k.setTransactionDesc(no("newAdd.claimWaitingText",{from:O(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${H(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`,and:O(n.value.feeOwedA,n.value.token_a.decimals)==0||O(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and",to:O(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${H(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`})),k.setIsShowWaiting(!0);let s;const t={pool:n.value.poolInfo,position:n.value};try{const r=await C.value.getCollectFeeTransactionPayload(t);if(_.value.chainName==="Aptos")s=await J.value.currentWallet.signAndSubmitTransaction(r);else{const a=await J.value.currentWallet.signAndExecuteTransaction(r);s=C.value.handleTx(a)}if(s){k.setTransactionTxid(s.hash),k.setIsShowWaiting(!1),k.setIsShowSuccess(!0);const a={title:"Claim",desc:"",hash:s.hash,tit:`Claimed Fee: ${n.value.poolInfo.symbol}`,text:`Claim ${O(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${H(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`}  
              ${O(n.value.feeOwedA,n.value.token_a.decimals)==0||O(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and"} ${O(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${H(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`}
              
            `};C.value.showTransitionPending(a),await C.value.watchTransaction(a)&&setTimeout(()=>{eo()},1e3)}else k.setIsShowWaiting(!1),k.setIsShowRejected(!0),$o.error({icon:B("svg",{class:{icon:!0},"aria-hidden":!0},[B("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:B("div",{class:"notification-title"},[B("span",{innerHTML:No.global.t("newAdd.claimFailed")},null)]),description:no("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});o.value=!1}catch{o.value=!1,k.setIsShowWaiting(!1),k.setIsShowRejected(!0),$o.error({icon:B("svg",{class:{icon:!0},"aria-hidden":!0},[B("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:B("div",{class:"notification-title"},[B("span",{innerHTML:No.global.t("newAdd.claimFailed")},null)]),duration:4.5,description:no("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}},so=u(""),io=u(""),Mo=()=>{so.value=n.value.token_b,io.value=n.value.token_a},Co=async(s=null)=>{const t=s||n.value,r=l.value.addressLpTokens[f.currentRoute.value.query.address],a=await C.value.getTickDataByIndex(r.ticks_handle,Number(t.tick_lower_index)),A=await C.value.getTickDataByIndex(r.ticks_handle,Number(t.tick_upper_index));let T={};Ao.value==="Aptos"?T=await C.value.getPosRewardersAmount({poolAddress:f.currentRoute.value.query.address,positionName:f.currentRoute.value.query.token,tickLowerData:a,tickUpperData:A}):T=await C.value.getPosRewardersAmount({poolAddress:f.currentRoute.value.query.address,positionName:f.currentRoute.value.query.token,tickLowerData:a,tickUpperData:A,pos:f.currentRoute.value.query.pos});const K=[];let j=0;T.forEach((L,Y)=>{if(t.poolInfo[`rewarder_display${Y+1}`]){const Z=l.value.newTokenObj[L.coin_address].decimals,Go=l.value.newTokenObj[L.coin_address],Oo=Number(L.amount_owed.toString())/Math.pow(10,Z),Vo=l.value.RATES[L.coin_address].price,Po=Oo*Vo;j+=Po,K.push({...L,...Go,amount:F(Oo,Z),amountUSD:F(Po,2)})}}),x.value=K,ao.value=j,So.value=Number(F(j,2))};G(()=>l.value.currentPositionInfo,s=>{s&&(n.value=s,so.value=s==null?void 0:s.token_a,io.value=s==null?void 0:s.token_b)},{immediate:!0});const zo=g(()=>l.value.tokensObj&&n&&n.value.token_a&&n.value.token_a.address&&l.value.tokensObj[n.value.token_a.address]&&l.value.tokensObj[n.value.token_a.address].logoURI),Jo=g(()=>l.value.tokensObj&&n&&n.value.token_b&&n.value.token_b.address&&l.value.tokensObj[n.value.token_b.address]&&l.value.tokensObj[n.value.token_b.address].logoURI),Ao=g(()=>_.value.chainName),Ko=g(()=>re[Ao.value]),ao=u(0),x=u([]),So=u(0);te(()=>{ao.value=0,x.value=[],So.value=0});const{setIsShowSuccess:Qo,setIsShowRejected:To,setIsShowWaiting:to,setTransactionDesc:ps,setTransactionTxid:Xo}=k,oo=u(!1),Yo=async()=>{oo.value=!0;const s=x.value;let t={coinTypeA:n.value.poolInfo.coinTypeA,coinTypeB:n.value.poolInfo.coinTypeB,coinTypeC:"",coinTypeD:"",coinTypeE:"",pool_address:n.value.poolAddress,pos_index:n.value.index,rewarder_nums:s.length};t.coinTypeC=s[0]?s[0].coin_address:"",t.coinTypeD=s[1]?s[1].coin_address:"",t.coinTypeE=s[2]?s[2].coin_address:"";try{const r=await C.value.getCollectRewarderTransactionPayload(t);let a;if(_.value.chainName==="Aptos")a=await J.value.currentWallet.signAndSubmitTransaction(r);else{const A=await J.value.currentWallet.signAndExecuteTransaction(r);a=C.value.handleTx(A)}if(a&&a.hash){Xo(a.hash),to(!1),Qo(!0);const A=s[0].amount+s[0].symbol,T=t.coinTypeD?" and "+s[1].amount+s[1].symbol:"",K=t.coinTypeE?" and "+s[2].amount+s[2].symbol:"",j={title:"Claim",desc:"",hash:a.hash,tit:`Claimed Rewards: ${n.value.poolInfo.symbol}`,text:A+T+K};C.value.showTransitionPending(j),await C.value.watchTransaction(j)&&setTimeout(()=>{Co(),C.value.getAccount(J.value.address)},1e3)}else to(!1),To(!0);oo.value=!1}catch{oo.value=!1,to(!1),To(!0)}},Ro=u([]);G(()=>[n.value,l.value.addressLpTokens,l.value.newTokenObj,_.value.newTopPoolsObj],([s,t,r,a])=>{if(!D(s)&&!D(t)&&!D(r)){const A=s.address,T=t[A];let K=T.rewarder_infos||[];const j=a[A],L=[];K.forEach((Y,Z)=>{T[`rewarder_display${Z+1}`]&&L.push({...Y,symbol:r[Y.coinAddress].symbol,rewarderApr:j.rewarder_apr[Z],logoUrl:r[Y.coinAddress].logoURI})}),Ro.value=L,Co(s)}},{immediate:!0});const Zo=u();return G(()=>l.value.RATES,s=>{s&&(Zo.value=s)},{immediate:!0}),{rewarderArr:Ro,feeOwed:E,config:Ko,showNum:H,index:_,fromCoinUrl:zo,toCoinUrl:Jo,toggle:Mo,fromCoin:so,toCoin:io,apr:ho,liquidityTvl:bo,vol24:go,addCommom:O,decimalFormat:Uo,wallet:J,isLoading:o,toClaim:Ho,pools:l,positionInfo:n,importIcon:fo,router:f,toRemove:z,toIncrease:V,isShowClaim:c,direct:q,refresh:P,clickRefresh:Eo,pendingRewarderArr:x,pendingRewarder:ao,toClaimRewards:Yo,rewarderLoading:oo,aprRewardsParameter:U,aprRewardsDateList:S,aprTab:p,reviseValue:$,label:y,aprTitle:X,aprTotal:wo,rewardAprList:yo}}});const Q=o=>(Io("data-v-b284ae6a"),o=o(),ko(),o),dn={key:0,class:"position-detail-container"},un={class:"position-detail-header"},pn={class:"back-and-refresh"},cn=Q(()=>e("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),mn=[cn],fn={class:"action-position"},vn={class:"coin-pair"},In=Q(()=>e("use",{"xlink:href":"#icon-icon-copy"},null,-1)),kn=[In],hn=["href"],bn=Q(()=>e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-icon-jump"})],-1)),gn=[bn],_n=["href"],wn=Q(()=>e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-icon-jump"})],-1)),yn=[wn],$n={class:"acton-btn-box"},Cn=Q(()=>e("svg",{"aria-hidden":"true",class:"action-icon"},[e("use",{"xlink:href":"#icon-icon-Reduction"})],-1)),An=Q(()=>e("svg",{"aria-hidden":"true",class:"action-icon"},[e("use",{"xlink:href":"#icon-icon-add"})],-1)),Sn={class:"position-content"},Tn={class:"pedding-fee pedding-apr"},Rn={class:"pedding-fee"},On={class:"top"},Pn={class:"left"},Nn={class:"bottom"},Un=["src"],Ln=["src"],jn={key:0,class:"pedding-fee"},Bn={class:"top"},qn={class:"left"},En={class:"bottom"},Dn=["src"],Fn={class:"poolInfo"},Wn={class:"pool-info-title"},Hn={class:"currentPrice"},Mn={key:0,class:"coin"},zn={key:1,class:"coin"},Jn={class:"toggle"},Kn=["src"],Qn=["src"],Xn={key:0},Yn={class:"info-block-container"},Zn={class:"info-block"},Gn={class:"leabl"},Vn={class:"text"},xn={class:"apr-hover-content"},os={class:"info-block"},es={class:"leabl"},ns={class:"text"},ss={class:"info-block"},is={class:"leabl"},as={class:"text"},ts={class:"info-block"},ls={class:"leabl"},rs={class:"text"},ds={class:"loading-global"};function us(o,c,P,q,k,_){const d=xo,I=jo,h=Lo,N=Ze,U=fe,X=ve,S=ln,y=me;return o.positionInfo?(m(),v("div",dn,[e("div",un,[e("div",pn,[b(d),(m(),v("svg",{"aria-hidden":"true",class:W(o.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:c[0]||(c[0]=(...p)=>o.clickRefresh&&o.clickRefresh(...p))},mn,2))]),e("div",fn,[b(h,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",vn,[R(i(o.positionInfo.tokenName)+" ",1),(m(),v("svg",{class:"icon","aria-hidden":"true",onClick:c[1]||(c[1]=p=>o.index.copy(o.positionInfo.nftHash))},kn)),o.index&&o.index.chainName==="Aptos"?(m(),v("a",{key:0,href:`${o.config.explorerUrl}/token/${o.positionInfo.nftHash}/0?network=${o.config.network}`,target:"_blank"},gn,8,hn)):(m(),v("a",{key:1,href:`${o.config.explorerUrl}/object/${o.positionInfo.nftHash}?network=${o.config.network}`,target:"_blank"},yn,8,_n))]),e("div",$n,[b(I,{class:W(["remove-liquidity action-btn",o.positionInfo.poolInfo.is_pause?"text-default":""]),disabled:o.positionInfo.poolInfo.is_pause,onClick:o.toRemove},{default:w(()=>[Cn,R(" "+i(o.$t("button.remove")),1)]),_:1},8,["class","disabled","onClick"]),b(I,{class:"increase-liquidity action-btn",disabled:o.positionInfo.poolInfo.is_pause,onClick:o.toIncrease},{default:w(()=>[An,R(" "+i(o.$t("button.increase")),1)]),_:1},8,["disabled","onClick"])])]),_:1},8,["loading"])])]),e("div",Sn,[b(N,{"position-info":o.positionInfo},null,8,["position-info"])]),e("div",Tn,[(m(),ro(U,{key:0,"apr-title":o.aprTitle,"apr-rewards-date-list":o.aprRewardsDateList,"apr-rewards-parameter":o.aprRewardsParameter,"name-tab":"position","from-coin":o.fromCoin,"to-coin":o.toCoin,"pool-info":o.positionInfo.poolInfo,"min-price":o.positionInfo.minPrice,"max-price":o.positionInfo.maxPrice,onAprTab:o.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"]))]),e("div",Rn,[e("div",On,[e("div",Pn,[e("span",null,i(o.$t("newAdd.pendingFees")),1),e("p",null," $"+i(o.feeOwed=="--"?"--":Number(o.feeOwed)==0?0:Number(o.feeOwed)<.01?"<0.01":o.addCommom(o.feeOwed,2)),1)]),b(I,{class:"increase-liquidity action-btn",disabled:o.isLoading||!o.wallet.connected||!(Number(o.positionInfo&&o.positionInfo.feeOwedA)||Number(o.positionInfo&&o.positionInfo.feeOwedB))||o.positionInfo.poolInfo.is_pause,onClick:c[2]||(c[2]=p=>o.isShowClaim=!0)},{default:w(()=>[R(i(o.$t("common.claim")),1)]),_:1},8,["disabled"])]),b(h,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",Nn,[e("div",null,[e("img",{src:o.fromCoinUrl},null,8,Un),e("p",null,i(o.showNum(o.positionInfo.feeOwedA,o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)]),e("div",null,[e("img",{src:o.toCoinUrl},null,8,Ln),e("p",null,i(o.showNum(o.positionInfo.feeOwedB,o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])])]),_:1},8,["loading"])]),o.positionInfo&&o.positionInfo.poolInfo&&o.positionInfo.poolInfo.rewarder_infos&&o.positionInfo.poolInfo.rewarder_infos.length>0&&o.positionInfo.poolInfo.is_display_rewarder&&o.pendingRewarderArr&&o.pendingRewarderArr.length>0?(m(),v("div",jn,[e("div",Bn,[e("div",qn,[e("span",null,i(o.$t("newAdd.pendingRewards")),1),e("p",null," $"+i(o.pendingRewarder=="--"?"--":Number(o.pendingRewarder)==0?0:Number(o.pendingRewarder)<.01?"<0.01":o.addCommom(o.pendingRewarder,2)),1)]),b(I,{class:"increase-liquidity action-btn",disabled:o.rewarderLoading||!o.wallet.connected||o.pendingRewarder<=0||o.positionInfo.poolInfo.is_pause,loading:o.rewarderLoading,onClick:o.toClaimRewards},{default:w(()=>[R(i(o.$t("common.claim")),1)]),_:1},8,["disabled","loading","onClick"])]),b(h,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",En,[(m(!0),v(pe,null,ce(o.pendingRewarderArr,p=>(m(),v("div",{key:p,class:W(Number(p==null?void 0:p.amount)==0?"reward-none":"")},[e("img",{src:p.logoURI,alt:""},null,8,Dn),e("p",null,i(Number(p.amount)),1),e("span",null,i(p.symbol),1)],2))),128))])]),_:1},8,["loading"])])):M("",!0),e("div",Fn,[e("div",Wn,i(o.$t("newAdd.poolInfo")),1),e("div",Hn,[b(h,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>{var p,$,l,E,n,f;return[o.direct?(m(),v("div",Mn,[e("span",null,i(o.$t("common.currentPrice")),1),R(" "+i(o.addCommom(o.decimalFormat(o.positionInfo.currentPrice,6),6))+" "+i((p=o.toCoin)==null?void 0:p.symbol)+" per "+i(($=o.fromCoin)==null?void 0:$.symbol),1)])):(m(),v("div",zn,[e("span",null,i(o.$t("common.currentPrice")),1),R(" "+i(o.addCommom(o.decimalFormat(1/o.positionInfo.currentPrice,6),6))+" "+i((l=o.fromCoin)==null?void 0:l.symbol)+" per "+i((E=o.toCoin)==null?void 0:E.symbol),1)])),e("div",Jn,[e("div",{class:W(o.direct?"item active-item":"item"),onClick:c[3]||(c[3]=z=>o.direct=!0)},[e("img",{src:o.fromCoinUrl,alt:""},null,8,Kn),R(" "+i(o.positionInfo&&o.positionInfo.token_a&&((n=o.positionInfo.token_a)==null?void 0:n.symbol)),1)],2),e("div",{class:W(o.direct?"item ":"item active-item"),onClick:c[4]||(c[4]=z=>o.direct=!1)},[e("img",{src:o.toCoinUrl,alt:""},null,8,Qn),R(" "+i(o.positionInfo&&o.positionInfo.token_b&&((f=o.positionInfo.token_b)==null?void 0:f.symbol)),1)],2)])]}),_:1},8,["loading"])]),b(h,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[o.aprTotal&&o.liquidityTvl&&o.vol24?(m(),v("div",Xn,[e("div",Yn,[e("div",Zn,[e("div",Gn,i(o.$t("common.apr")),1),e("div",Vn,[R(i(o.aprTotal?o.addCommom(o.aprTotal.substring(0,o.aprTotal.length-1),2):0)+"% ",1),e("div",xn,[b(X,{class:W(o.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),"l-item":{apr:o.apr,rewarder_apr:o.rewardAprList,aprTotal:o.aprTotal,is_display_rewarder:o.positionInfo.poolInfo.is_display_rewarder},"rewarder-info":o.rewarderArr},null,8,["class","l-item","rewarder-info"])])])]),e("div",os,[e("div",es,i(o.$t("common.liquidity")),1),e("div",ns,"$"+i(o.addCommom(o.liquidityTvl,2)),1)]),e("div",ss,[e("div",is,i(o.$t("common.volume24h")),1),e("div",as,"$"+i(o.addCommom(o.vol24,2)),1)]),e("div",ts,[e("div",ls,i(o.$t("newAdd.tickSpacing")),1),e("div",rs,i(o.positionInfo.tickSpacing),1)])])])):M("",!0)]),_:1},8,["loading"])]),o.isShowClaim?(m(),ro(S,{key:1,"is-loading":o.isLoading,"position-info":o.positionInfo,onOnClose:c[5]||(c[5]=p=>o.isShowClaim=!1),onToClaim:o.toClaim},null,8,["is-loading","position-info","onToClaim"])):M("",!0),de(e("div",ds,[b(y)],512),[[ue,o.pools.currentPositionLoading]])])):M("",!0)}const _s=vo(rn,[["render",us],["__scopeId","data-v-b284ae6a"]]);export{_s as default};
