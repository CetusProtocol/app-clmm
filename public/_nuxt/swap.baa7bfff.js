import{_ as un,a as rn}from"./token-warning-modal.38df9aa6.js";import{_ as dn}from"./assets-card.e0e5fc73.js";import{u as Pe,a as eo,c as Ne,D as t,s as ae,e as Y,j as We,d as te,r as De,p as yo,b as mn,f as Le}from"./pool.7c7b5f0c.js";import{e as Re,a as Je,a4 as Io,a9 as $o,r as p,m as I,D as V,q as Oe,o as r,f as g,h as o,c as z,x as J,t as G,j as x,v as l,z as de,u as Q,J as No,S as Po,p as _e,k as Be,a3 as cn,i as ce,w as ie,N as Ro,M as Oo,K as _o,F as xe,s as ko,B as Bo,b as So,l as vn,y as pn,C as fn,a6 as Ee}from"./entry.8bf716b7.js";/* empty css              *//* empty css              */import{u as Fe,c as ge,a as hn}from"./sha256.cf17a046.js";import"./decimal.7a3f1e48.js";import{i as re}from"./import-icon.de3e6c66.js";import{_ as gn}from"./network-tips.a505f709.js";import{_ as Cn}from"./coin-select.4a8ccb0e.js";import{_ as wn}from"./swap-setting.8518c6a9.js";/* empty css              */import{u as bn}from"./swapRouter.2fc03930.js";import{_ as An}from"./img-leverage_2x.1c577303.js";/* empty css              */import"./icon-selected_3x.09e9a6f0.js";import"./token-warning.8b2c214f.js";/* empty css              */import"./img-no-Positions_2x.94626a40.js";/* empty css              */const yn=""+globalThis.__publicAssetsURL("sui-image/route-view.png");const kn=Je({props:{swapLoading:{type:Boolean,default:!1},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},impact:{type:String,default:""},insufficientLiquidity:{type:Boolean,default:!1},oneToAmount:{type:String,default:""},oneFromAmount:{type:String,default:""},suiPreSwapdata:{type:Object,default:()=>({})},suiSwapFee:{type:String,default:""},swapRouterLoading:{type:Boolean,default:!1}},setup(e){const v=Io($o,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0}),w=p(!1),C=Fe(),N=I(()=>C),W=I(()=>N.value.slippage),d=I(()=>N.isShowRouterModal);V(()=>e,P=>{},{immediate:!0,deep:!0});const R=Pe(),O=I(()=>R),X=eo("Sui"),k=p(0),L=p([]),M=p({});V(()=>e.suiPreSwapdata,async P=>{var f;if(P&&!Ne(P)){let U=[];(f=P==null?void 0:P.splitPaths)==null||f.forEach(a=>{a==null||a.basePaths.forEach(async m=>{U.push(m.label)})});const{splitPaths:S}=P,j=S&&S[0]&&S[0].basePaths;if(S&&S.length==1&&j&&j.length==2){const a=j[0].toCoin=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":j[0].toCoin;M.value=O.value.tokensObj[a]||(await X.getTokenListByCoinType[a])[0]}else M.value="";L.value=Array.from(new Set(U)),k.value=L.value.length}},{immediate:!0});const q=p(0),A=p(0);return V(()=>[e.fromCoinAmount,e.toCoinAmount,e.fromCoin,e.toCoin,e.fixedFromCoin,W.value],([P,f,U,S,j,a])=>{if(P&&f&&U&&S&&a)if(j){const m=new t(f).mul(new t(a/100));A.value=new t(f).sub(m).toString()}else{const m=new t(P).mul(new t(a/100));q.value=new t(P).add(m).toString()}},{immediate:!0}),{sFixD:ae,getCoinIcon:P=>{var f;return(P==null?void 0:P.logoURI)||(P==null?void 0:P.logo_url)||((f=O.value.tokensObj[P==null?void 0:P.address])==null?void 0:f.logo_url)||(N.theme==="default"?re("/image/coins/unknown.png"):re("/image/coins/sui-unknown.png"))},indicator:v,rateChange:w,slippage:W,isShowRouterModal:d,indexStore:C,maximumSold:q,minimumReceived:A,addCommom:Y,pathLength:k,sourcesArr:L,coinTypeB:M}}}),Ce=e=>(_e("data-v-14ef988f"),e=e(),Be(),e),Sn={key:0,class:"swap-info"},In={class:"loading-swap"},$n={key:1,class:"swap-rate"},Nn={key:0},Pn={key:0},Rn={key:1},On={key:0},_n=Ce(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Bn=Ce(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Fn=[_n,Bn],Un={key:2},Tn={class:"trade-info"},Mn={class:"trade-block"},jn=Ce(()=>o("div",{class:"lebal"},"Price Impact",-1)),Dn={key:0,class:"icon","aria-hidden":"true"},Ln=Ce(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),En=[Ln],Wn={class:"trade-block"},Jn={class:"lebal"},qn={key:0,class:"text"},Qn={class:"trade-block"},Xn=Ce(()=>o("div",{class:"lebal"},"Fee",-1)),zn={key:0,class:"text"},Yn={key:0,class:"trade-block"},Zn=Ce(()=>o("div",{class:"lebal"},"Route",-1)),Hn={key:0,class:"text text-box"},Kn=["src"],Gn={key:1,class:"text text-box"},Vn=["src"],xn=["src"],ea=Ce(()=>o("img",{src:yn,alt:""},null,-1));function oa(e,v,w,C,N,W){var X,k,L,M;const d=No,R=Po,O=Oe("image");return e.swapLoading||Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&!e.insufficientLiquidity?(r(),g("div",Sn,[o("div",In,[e.swapLoading||e.swapRouterLoading?(r(),z(d,{key:0,size:"small",indicator:e.indicator},null,8,["indicator"])):J("",!0),e.swapLoading?e.swapLoading?(r(),g("span",Un,"Best route and price")):J("",!0):(r(),g("div",$n,[e.rateChange?(r(),g("span",Rn,[e.fromCoinAmount&&e.toCoinAmount?(r(),g("span",On,[G(o("img",null,null,512),[[O,e.getCoinIcon(e.toCoin)]]),x(" 1 "+l(e.toCoin.symbol)+" ≈ ",1),G(o("img",null,null,512),[[O,e.getCoinIcon(e.fromCoin)]]),x(l(e.oneFromAmount==1/0?0:e.oneFromAmount)+" "+l(e.fromCoin.symbol),1)])):(r(),z(d,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(r(),g("span",Nn,[G(o("img",null,null,512),[[O,e.getCoinIcon(e.fromCoin)]]),x(" 1 "+l(e.fromCoin.symbol)+" ≈ ",1),e.fromCoinAmount&&e.toCoinAmount?(r(),g("span",Pn,[G(o("img",null,null,512),[[O,e.getCoinIcon(e.toCoin)]]),x(l(e.oneToAmount==1/0?0:e.oneToAmount)+" "+l(e.toCoin.symbol),1)])):(r(),z(d,{key:1,indicator:e.indicator},null,8,["indicator"]))])),o("div",{class:"right",onClick:v[0]||(v[0]=q=>e.rateChange=!e.rateChange)},Fn)]))]),o("div",Tn,[o("div",Mn,[jn,e.swapRouterLoading?(r(),z(R,{key:1,paragraph:!1,active:""})):(r(),g("div",{key:0,class:de(["text",e.impact<1?"impact-s":e.impact<10&&e.impact>=1?"impact-w":"impact-e"])},[x(l(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(r(),g("svg",Dn,En)):J("",!0)],2))]),o("div",Wn,[o("div",Jn,l(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swapRouterLoading?(r(),z(R,{key:1,paragraph:!1,active:""})):(r(),g("div",qn,l(e.fixedFromCoin?("addCommom"in e?e.addCommom:Q(Y))(("sFixD"in e?e.sFixD:Q(ae))(e.minimumReceived,e.toCoin.decimals)):("addCommom"in e?e.addCommom:Q(Y))(("sFixD"in e?e.sFixD:Q(ae))(e.maximumSold,e.fromCoin.decimals)))+" "+l(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",Qn,[Xn,e.swapRouterLoading?(r(),z(R,{key:1,paragraph:!1,active:""})):(r(),g("div",zn,l(e.suiSwapFee)+" "+l(e.fromCoin.symbol),1))]),e.insufficientLiquidity?J("",!0):(r(),g("div",Yn,[Zn,e.swapRouterLoading?(r(),z(R,{key:1,paragraph:!1,active:""})):(r(),g("div",{key:0,class:"text",onClick:v[1]||(v[1]=q=>e.indexStore.setIsShowRouterModal(!e.isShowRouterModal))},[!e.swapRouterLoading&&e.suiPreSwapdata&&e.suiPreSwapdata.splitPaths&&e.suiPreSwapdata.splitPaths.length==1?(r(),g("div",Hn,[o("span",null,l(e.fromCoin.symbol)+" "+l(e.coinTypeB&&((X=e.coinTypeB)!=null&&X.symbol)?`> ${(k=e.coinTypeB)==null?void 0:k.symbol}`:"")+" > "+l(e.toCoin.symbol),1),o("img",{src:e.sourcesArr[0]=="Deepbook"?"/sui-image/logo_deepbook@2x.png":"/sui-image/logo_cetus@2x.png",alt:""},null,8,Kn)])):e.swapRouterLoading?J("",!0):(r(),g("div",Gn,[x(l((M=(L=e.suiPreSwapdata)==null?void 0:L.splitPaths)==null?void 0:M.length)+" Streams ",1),e.sourcesArr[0]?(r(),g("img",{key:0,src:e.sourcesArr[0]=="Deepbook"?"/sui-image/logo_deepbook@2x.png":"/sui-image/logo_cetus@2x.png",alt:""},null,8,Vn)):J("",!0),e.sourcesArr[1]?(r(),g("img",{key:1,src:e.sourcesArr[1]=="Deepbook"?"/sui-image/logo_deepbook@2x.png":"/sui-image/logo_cetus@2x.png",alt:""},null,8,xn)):J("",!0)])),ea]))]))])])):J("",!0)}const na=Re(kn,[["render",oa],["__scopeId","data-v-14ef988f"]]);async function aa(e,v){var W,d,R;const w=e==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":e,C=`${ge.Sui.api}/v2/sui/coin/kline?coin_address=${w}&interval=day&market=${v}`,N=await $fetch(C);return{price:((d=(W=N==null?void 0:N.data)==null?void 0:W.list)==null?void 0:d.reverse())||[],daily_rate:(R=N==null?void 0:N.data)==null?void 0:R.daily_rate.replace("%","")}}async function ta(e){const{prices:v}=await $fetch(`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&id=${e}&days=7&interval=daily`,{headers:{Connection:"keep-alive",Accept:"*/*"}}),C=(await $fetch(`https://api.coingecko.com/api/v3/coins/markets?ids=${e}&vs_currency=usd&price_change_percentage=24h`,{headers:{Connection:"keep-alive",Accept:"*/*"}}))[0].price_change_percentage_24h,N=[];return v.forEach(W=>{N.push({price:new t(W[1]).toString(),timestamp:W[0]})}),{price:N,daily_rate:C}}const sa={props:{coin:{type:Object,default:()=>({})},refresh:{type:Boolean,default:!1},id:{type:String,default:""},market:{type:String,default:""}},setup(e,v){const{$echarts:w}=cn();let C=null,N;const W=p(!0),d=Fe(),R=I(()=>d),O=I(()=>R.value.chainName),X=I(()=>ge[O.value]),k=Pe(),L=I(()=>k),M=(a,m,D)=>{N={xAxis:{type:"category",boundaryGap:!1,show:!1,data:m},yAxis:{type:"value",show:!1,min:function(B){return B.min-B.min*.1},max:function(B){return B.max+B.max*.1}},grid:{top:1,right:1,bottom:1,left:1},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:R.value.chainName=="Aptos"?"#68FFD8":"#76C8FF"}},formatter:function(B){return`<div class="chart-tip">
              <div>${B&&B[0]&&B[0].name}</div>
              <div>$${te(B&&B[0]&&B[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:R.value.chainName=="Aptos"?"#0C4535":"#2E546D"},{offset:1,color:R.value.chainName=="Aptos"?"#151817":"#1B1B1B"}]},series:[{data:a,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:R.value.chainName=="Aptos"?"#68FFD8":"#76C8FF",width:2,type:"solid"}}]},N&&C.clear(),N&&C.setOption(N,!0),C.resize(),W.value=!1},q=p(""),A=p(""),H=async a=>{var me,T;const m=[],D=[],{price:B,daily_rate:be}=O.value==="Aptos"?await ta(a):await aa(a,e.market);q.value=be,A.value=B&&B.length>1&&B[B.length-1].price,O.value==="Aptos"?B.forEach(K=>{m.push(K.price);const i=De(Number(K.timestamp),"MD"),u=De(Number(K.timestamp),"HM");D.push(i+" "+u)}):B.forEach(K=>{m.push(K.price);const i=De(new t(K.timestamp).mul(1e3).toNumber(),"MD"),u=De(new t(K.timestamp).mul(1e3).toNumber(),"HM");D.push(i+" "+u)});let le=document.getElementById(`main${(me=e.coin)==null?void 0:me.name}`);C=w.init(le),M(m,D,(T=e.coin)==null?void 0:T.name)};V(()=>e.id,(a,m)=>{a&&(q.value="",A.value="",setTimeout(()=>{H(a)},1e3))},{immediate:!0});const P=p(""),f=p(""),U=p(""),S=p("");return V(()=>[L.value.tokensObj,e.coin],([a,m])=>{var D,B;a&&m&&a[m.address]&&(f.value=((D=a[m.address])==null?void 0:D.labels)&&((B=a[m.address])==null?void 0:B.labels[0]),P.value=a[m.address].name,U.value=a[m.address].symbol,S.value=a[m.address].address)},{immediate:!0,deep:!0}),V(()=>e.refresh,a=>{a&&H(e.id)}),{theme:I(()=>R.value.theme),store:d,importIcon:re,fixD:We,config:X,price_rate_24h:q,nowPrice:A,coinName:P,coinLabels:f,coinSymbol:U,address:S,decimalUi:te}}},ia="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAk1BMVEUAAADn2v/m2//r2//v4//n2v/55P/n2v/o3P//+P/m2v/n2f/n2v/n2v/n2v/n2v/n2v/o2//p2//n3f/o3v/n2f/n2v/n2v/n2v/n2v/n2//o2v/q3f/r4f/u3f/n2v/o2v/n2//p3P/o3P/m2v/n2v/n2f/n2v/o2f/n2//r3f/t3P/n2v/m2v/o2v/r3v/m2f/tUDLHAAAAMHRSTlMAl5oyFNMJqSwFhvvr5d7Yr2FGNSD0zb2lkIltOhkOxoJoT0D48aJzWFYlHeB8Wief0nHAAAABSElEQVQ4y52Q53LCMBCEZWK5g0swBpveQknZ93+6rFxAHkSYyf6x9+67JqHLKxOZRzJJbWHStkCn0Fo8pG0XuvJv0dciBjVZb+dZeoxABb38MlbpXeucr5z2QwdUf8vX1h0ByLT9aAeCGlez4Ozw5zoE4nvFBJB0yymUhqp0B2DT5ec0O+YlWlUMJsCqAwJA8jNV1W4RAnuvqepeYwWsOR/AkfM9ji8YjYBTC3wCZyEq1jvKnoCQP8X90j0wF2IGuM2jArjUE8sWAPAmxACwavtDf623XJsBtoqa2zcm4MI8Ag7iNZkBeAcVc8cUOPhPgJjP4I/UzkYgKtWxpQqaAGfMvvUATIUBaOQHAEb2M2CZcj4OnrhJasDYXYVQ9Vpe2LJ/BeWyf4/oAXlC25e9uI0IqswRJulX/BOwXgG2JPCCIPA3sXmM/QK1PTc8LGCPoAAAAABJRU5ErkJggg==",la="data:image/png;base64,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";const ua=e=>(_e("data-v-1fbf26d3"),e=e(),Be(),e),ra={class:"token-info"},da={class:"token-info-padding"},ma={class:"token-info-header"},ca={class:"left"},va=["onerror"],pa={class:"name"},fa={class:"desc"},ha={key:0},ga={class:"right"},Ca={class:"price-info"},wa={key:0,src:ia,alt:""},ba={key:1,src:la,alt:""},Aa={class:"token-info-footer"},ya={class:"left"},ka={class:"address"},Sa={key:0,class:"pc-address"},Ia={key:1,class:"pc-address"},$a={class:"h5-address"},Na=ua(()=>o("use",{"xlink:href":"#icon-icon-copy1"},null,-1)),Pa=[Na],Ra={class:"right"},Oa=["id"];function _a(e,v,w,C,N,W){var O;const d=Ro,R=Oe("image");return r(),g("div",ra,[o("div",da,[o("div",ma,[o("div",ca,[G(o("img",{onerror:C.theme=="default"?C.importIcon("/image/coins/unknown.png"):C.importIcon("/image/coins/sui-unknown.png")},null,8,va),[[R,w.coin.logoURI||C.importIcon(`/image/coins/${w.coin.symbol.toLowerCase()}.png`)]]),o("div",null,[o("div",pa,l(C.coinSymbol),1),o("div",fa,[o("span",null,[x(l(C.coinName)+" ",1),C.theme!=="sui"?(r(),g("span",ha,l(C.coinLabels?`(${C.coinLabels})`:""),1)):J("",!0)])])])]),o("div",ga,[ce(d,{placement:"top","arrow-point-at-center":""},{title:ie(()=>[x(l(w.market==="pyth"?"Data source: Pyth Network":"Data source: CoinGecko"),1)]),default:ie(()=>[o("div",Ca,[w.market==="pyth"?(r(),g("img",wa)):(r(),g("img",ba)),o("span",null,"$"+l(C.nowPrice?Number(C.nowPrice)<1?C.decimalUi(C.nowPrice,4):C.fixD(C.nowPrice,2):"--"),1),C.price_rate_24h?(r(),g("i",{key:2,class:de(C.price_rate_24h>0?"up":C.price_rate_24h<0?"down":"up")},l(C.price_rate_24h>0?`+ ${C.fixD(C.price_rate_24h,2)}`:C.price_rate_24h<0?+`${C.fixD(C.price_rate_24h,2)}`:`+${C.fixD(C.price_rate_24h,2)}`)+"%",3)):J("",!0)])]),_:1})])]),o("div",Aa,[o("div",ya,[o("div",ka,[w.coin&&C.address!=="0x2::sui::SUI"?(r(),g("span",Sa,l(w.coin&&w.coin.address.substr(0,13))+" ... "+l(w.coin&&w.coin.address.substr(w.coin.address.length-13,13)),1)):(r(),g("span",Ia,l(w.coin&&w.coin.address),1)),o("span",$a,l(w.coin&&w.coin.address.substr(0,4))+" ... "+l(w.coin&&w.coin.address.substr(w.coin.address.length-4,4)),1),(r(),g("svg",{class:"icon","aria-hidden":"true",onClick:v[0]||(v[0]=X=>C.store.copy(w.coin&&w.coin.address))},Pa))])]),o("div",Ra,[o("div",{id:`main${(O=w.coin)==null?void 0:O.name}`,class:"main"},null,8,Oa)])])])])}const Ba=Re(sa,[["render",_a],["__scopeId","data-v-1fbf26d3"]]);const Fa=Je({components:{Modal:Oo},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},suiPreSwapdata:{type:Object,default:()=>({})}},setup(e){const v=Pe(),w=eo("Sui"),C=I(()=>v);I(()=>{var k,L;return(L=(k=C.value)==null?void 0:k.poolInfo)==null?void 0:L.needReverse});const N=p([]),W=p({});V(()=>[e.suiPreSwapdata,e.fromCoin,e.toCoin],([k,L,M])=>{if(k&&!Ne(k)){let q=[];k.splitPaths.forEach(U=>{const S={...U,amountIn:new t(U.inputAmount).div(new t(Math.pow(10,L.decimals))).toString(),amountOut:new t(U.outputAmount).div(new t(Math.pow(10,M.decimals))).toString()},j=U.basePaths.map(a=>({...a,...C.value.routerPoolConfigObj[a.poolAddress],feeRate:new t(a.feeRate).div(new t(Math.pow(10,a.label=="Cetus"?6:9)))}));q.push({...S,basePaths:j})}),N.value=q;const A=[];let H=new t(0);q.forEach(U=>{const S=new t(U.percent).gt(0)?new t(U.percent).div(100).mul(100).toString():0,j=ae(S,2);H=H.plus(j);const a=j.split(".");A.push({value:j,int:a[0],decimal:a[1],pathIndex:U.pathIndex})});let P=new t(100).minus(H).toNumber();const f=A.sort((U,S)=>Number(S.decimal)-Number(U.decimal));if(P)for(let U=0;U<f.length&&P;U++)f[U].value=new t(f[U].value).plus(.01).toString(),P=new t(P).minus(.01).toNumber();W.value=Object.fromEntries(f.map((U,S)=>[U.pathIndex,U]))}},{immediate:!0});const d=Fe(),R=I(()=>d);return{addCommom:Y,routerStep:N,getCoinIcon:k=>{var L;return(k==null?void 0:k.logoURI)||(k==null?void 0:k.logo_url)||((L=C.value.tokensObj[(k==null?void 0:k.address)=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":k==null?void 0:k.address])==null?void 0:L.logo_url)||(R.value.theme==="default"?re("/image/coins/unknown.png"):re("/image/coins/sui-unknown.png"))},getDeepBookLogo:async k=>{var M;const L=await w.getTokenListByCoinType([k]);return L&&L.length>0?(M=L[0])==null?void 0:M.logo_url:""},percentObj:W}}}),qe=e=>(_e("data-v-c7ed38ed"),e=e(),Be(),e),Ua=qe(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Ta={class:"route-top"},Ma={class:"token-a"},ja={alt:""},Da={class:"token-num"},La={class:"token-symbol"},Ea={class:"token-b"},Wa={class:"token-num"},Ja={class:"token-symbol"},qa={alt:""},Qa={class:"route-bottom"},Xa=qe(()=>o("div",{class:"left-round"},null,-1)),za=qe(()=>o("div",{class:"right-round"},null,-1)),Ya={class:"percent-text"},Za={class:"amount"},Ha={class:"symbol"},Ka={class:"percent-ratio"},Ga={class:"percent-text"},Va={class:"amount"},xa={class:"symbol"},et={class:"pool-info-box"},ot={key:0,class:"icon","aria-hidden":"true"},nt=qe(()=>o("use",{"xlink:href":"#icon-icon_on1"},null,-1)),at=[nt],tt={class:"pool-info"},st={class:"pool-info-top"},it={class:"token-a-img",alt:""},lt={class:"token-b-img",alt:""},ut={class:"source"},rt=["src"];function dt(e,v,w,C,N,W){const d=_o("Modal"),R=Oe("image");return r(),z(d,{title:"Route",width:"600px",visible:!0,footer:null,onCancel:v[0]||(v[0]=O=>e.$emit("onClose"))},{closeIcon:ie(()=>[Ua]),default:ie(()=>{var O,X,k,L;return[o("div",Ta,[o("div",Ma,[G(o("img",ja,null,512),[[R,(O=e.fromCoin)==null?void 0:O.logo_url]]),o("span",Da,l(("addCommom"in e?e.addCommom:Q(Y))(e.fromCoinAmount)),1),o("span",La,l((X=e.fromCoin)==null?void 0:X.symbol),1)]),o("div",Ea,[o("span",Wa,l(("addCommom"in e?e.addCommom:Q(Y))(e.toCoinAmount)),1),o("span",Ja,l((k=e.toCoin)==null?void 0:k.symbol),1),G(o("img",qa,null,512),[[R,(L=e.toCoin)==null?void 0:L.logo_url]])])]),o("div",Qa,[Xa,za,(r(!0),g(xe,null,ko(e.routerStep,(M,q)=>(r(),g("div",{key:q,class:de(["route-path",q!==0?"route-path-active":""])},[o("div",{class:de(["percent",q!==0?"percent-active":""])},[o("div",Ya,[o("div",Za,l(("addCommom"in e?e.addCommom:Q(Y))(M.amountIn)),1),o("div",Ha,l(e.fromCoin.symbol),1),o("span",Ka,"("+l(e.percentObj&&e.percentObj[M.pathIndex].value)+"%)",1)]),o("div",Ga,[o("div",Va,l(("addCommom"in e?e.addCommom:Q(Y))(M.amountOut)),1),o("div",xa,l(e.toCoin.symbol),1)])],2),o("div",et,[M.basePaths&&M.basePaths.length>1?(r(),g("svg",ot,at)):J("",!0),(r(!0),g(xe,null,ko(M.basePaths,(A,H)=>(r(),g("div",{key:H},[o("div",tt,[o("div",st,[G(o("img",it,null,512),[[R,A.label=="Cetus"?e.getCoinIcon({address:A.fromCoin}):e.getDeepBookLogo(A.fromCoin)]]),G(o("img",lt,null,512),[[R,A.label=="Cetus"?e.getCoinIcon({address:A.toCoin}):e.getDeepBookLogo(A.toCoin)]]),o("span",null,l((A==null?void 0:A.feeRate)*100)+"%",1)]),o("div",ut,[o("img",{src:A.label=="Cetus"?"/sui-image/logo_cetus@2x.png":"/sui-image/logo_deepbook@2x.png",alt:""},null,8,rt),o("span",null,l(A.label=="Cetus"?"Cetus":"DeepBook"),1)])])]))),128))])],2))),128))])]}),_:1})}const mt=Re(Fa,[["render",dt],["__scopeId","data-v-c7ed38ed"]]),ct=Je({components:{Modal:Oo},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,required:!0},toCoinAmount:{type:String,required:!0},slippage:{type:String,default:""},impact:{type:Number,required:!1},fixedFromCoin:{type:Boolean,default:!1},fee:{type:String,required:!1},formatFee:{type:String,default:""},isShowAccept:{type:Boolean,default:!1},swapLoading:{type:Boolean,required:!1},oneFromAmount:{type:String,default:""},oneToAmount:{type:String,default:""},suiPreSwapdata:{type:Object,default:()=>({})}},setup(e,v){const w=Pe(),C=I(()=>w),N=Fe(),W=I(()=>N),d=A=>{var H;return(A==null?void 0:A.logoURI)||(A==null?void 0:A.logo_url)||((H=C.value.tokensObj[A==null?void 0:A.address])==null?void 0:H.logo_url)||(W.value.theme==="default"?re("/image/coins/unknown.png"):re("/image/coins/sui-unknown.png"))},R=p(!1),O=I(()=>W.value.chainName),X=async()=>{v.emit("to-swap")};p([]);const k=p(0),L=p(""),M=p(""),q=I(()=>W.value.slippage);return V(()=>[e.fromCoinAmount,e.toCoinAmount,e.fromCoin,e.toCoin,e.fixedFromCoin,q.value],([A,H,P,f,U,S])=>{if(A&&H&&P&&f&&S)if(U){const j=new t(H).mul(new t(S/100));M.value=new t(H).sub(j).toString()}else{const j=new t(A).mul(new t(S/100));L.value=new t(A).add(j).toString()}},{immediate:!0}),{getCoinIcon:d,addCommom:Y,sFixD:ae,rateChange:R,chainName:O,clickNextBtn:X,pathLength:k,maximumSold:L,minimumReceived:M,decimalUi:te}}});const ve=e=>(_e("data-v-621e0b0a"),e=e(),Be(),e),vt=ve(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),pt={class:"new-swap-contnet"},ft={class:"coin-info"},ht={class:"from-coin-info"},gt={class:"left"},Ct={class:"coin-amount"},wt={class:"coin-symbol"},bt={class:"right"},At={class:"to-coin-info"},yt={class:"left"},kt={class:"coin-amount"},St={class:"coin-symbol"},It={class:"right"},$t=ve(()=>o("div",{class:"to-swap-logo"},null,-1)),Nt={class:"coin-rate"},Pt={key:0},Rt={class:"left"},Ot=ve(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),_t=ve(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Bt=[Ot,_t],Ft={key:1},Ut={class:"left"},Tt=ve(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Mt=ve(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),jt=[Tt,Mt],Dt={class:"bottom"},Lt={class:"induction"},Et={class:"item"},Wt={class:"induction-text"},Jt={class:"induction-value"},qt={class:"item"},Qt={class:"induction-text"},Xt={class:"induction-value"},zt={class:"item"},Yt={class:"induction-text"},Zt={key:0,class:"icon","aria-hidden":"true"},Ht=ve(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Kt=[Ht],Gt={class:"item"},Vt={class:"induction-text"},xt={key:0,class:"induction-value"},es={key:1,class:"induction-value"},os={key:0,class:"price-updated"},ns=ve(()=>o("span",null,"Price updated",-1));function as(e,v,w,C,N,W){const d=Bo,R=_o("Modal"),O=Oe("image");return r(),z(R,{width:"440px",visible:!0,footer:null,title:e.$t("button.swap"),class:"add-liquidity-modal",onCancel:v[4]||(v[4]=X=>e.$emit("on-close"))},{closeIcon:ie(()=>[vt]),default:ie(()=>[o("div",pt,[o("div",ft,[o("div",ht,[o("div",gt,[o("div",Ct,l(e.fromCoinAmount&&("addCommom"in e?e.addCommom:Q(Y))(e.fromCoinAmount)),1),o("div",wt,l(e.fromCoin&&e.fromCoin.symbol),1)]),o("div",bt,[G(o("img",null,null,512),[[O,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]])])]),o("div",At,[o("div",yt,[o("div",kt,l(e.toCoinAmount&&("addCommom"in e?e.addCommom:Q(Y))(e.toCoinAmount)),1),o("div",St,l(e.toCoin&&e.toCoin.symbol),1)]),o("div",It,[G(o("img",null,null,512),[[O,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]])]),$t]),o("div",Nt,[e.rateChange?(r(),g("div",Ft,[o("div",Ut,[G(o("img",null,null,512),[[O,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]]),o("span",null,"1 "+l(e.toCoin&&e.toCoin.symbol)+" ≈",1),G(o("img",null,null,512),[[O,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]]),o("span",null,l(("decimalUi"in e?e.decimalUi:Q(te))(e.oneFromAmount,e.fromCoin.decimals))+" "+l(e.fromCoin.symbol),1)]),o("div",{class:"right",onClick:v[1]||(v[1]=X=>e.rateChange=!e.rateChange)},jt)])):(r(),g("div",Pt,[o("div",Rt,[G(o("img",null,null,512),[[O,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]]),o("span",null,"1 "+l(e.fromCoin&&e.fromCoin.symbol)+" ≈",1),G(o("img",null,null,512),[[O,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]]),o("span",null,l(("decimalUi"in e?e.decimalUi:Q(te))(e.oneToAmount,e.toCoin.decimals))+" "+l(e.toCoin.symbol),1)]),o("div",{class:"right",onClick:v[0]||(v[0]=X=>e.rateChange=!e.rateChange)},Bt)]))])]),o("div",Dt,[o("div",Lt,[o("div",Et,[o("div",Wt,l(e.$t("modal.slippageTolerance")),1),o("div",Jt,l(e.slippage)+"%",1)]),o("div",qt,[o("div",Qt,l(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",Xt,l(e.fixedFromCoin?("addCommom"in e?e.addCommom:Q(Y))(("sFixD"in e?e.sFixD:Q(ae))(e.minimumReceived,e.toCoin.decimals)):("addCommom"in e?e.addCommom:Q(Y))(("sFixD"in e?e.sFixD:Q(ae))(e.maximumSold,e.fromCoin.decimals)))+" "+l(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),o("div",zt,[o("div",Yt,l(e.$t("common.priceImpact")),1),o("div",{class:de(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>=1?"impact-w":"impact-e"])},[x(l(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(r(),g("svg",Zt,Kt)):J("",!0)],2)]),o("div",Gt,[o("div",Vt,l(e.$t("common.fee")),1),e.chainName=="Aptos"?(r(),g("div",xt,l(e.formatFee)+" "+l(e.fromCoin.symbol)+" ("+l(e.fee*100)+"%) ",1)):(r(),g("div",es,l(e.fee)+" "+l(e.fromCoin.symbol),1))])])])]),e.isShowAccept?(r(),g("div",os,[ns,ce(d,{class:"accept-btn",loading:e.swapLoading,onClick:v[2]||(v[2]=X=>e.$emit("accept"))},{default:ie(()=>[x("Accept")]),_:1},8,["loading"])])):(r(),z(d,{key:1,class:"big-btn swap-confirm-btn",onClick:v[3]||(v[3]=X=>e.clickNextBtn())},{default:ie(()=>[x(l(e.$t("button.confirmSwap")),1)]),_:1}))]),_:1},8,["title"])}const ts=Re(ct,[["render",as],["__scopeId","data-v-621e0b0a"]]),ss=Je({setup(){const e=So(),v=Io($o,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:w,locale:C}=vn(),N=Fe(),W=Pe(),d=I(()=>W);let R=p(!1),O=p(!1),X=p(!1),k=p(!1),L=p(!1),M=p(!1);const q=p("fromCoin"),A=p(""),H=p(""),P=p(!1),f=p(!0),U=p(!1),S=p(!1),j=p(!1),a=p(""),m=p(""),D=p(20),B=p(0),be=p(null),le=p(!1),me=I(()=>N.slippage),T=I(()=>N.chainName),K=I(()=>T.value?eo(T.value):{}),i=p(),u=p(),Qe=I(()=>ge&&ge[T.value]&&ge[T.value].hasRouter),oo=I(()=>W.getPoolInfoSuccess),Fo=I(()=>{var n;return $.value&&((n=$.value)!=null&&n.is_pause)?"Pool Closed":!i.value||!u.value?w("modal.selectTokenModalTitle"):!Number(a.value)&&!Number(m.value)?w("button.enterAmount"):!Qe.value&&!$.value&&oo.value?"Pool Not Found":Qe.value&&ke.value?"No Available Route":le.value?w("button.insufficientLiquidity"):Number(a.value)>Number(ne.value)?w("button.insufficientBalance",{name:i.value.symbol}):w("button.swap")}),Uo=n=>{var c,s,h,y;q.value=n,n==="fromCoin"?(A.value=((c=u.value)==null?void 0:c.address)||"",H.value=((s=i.value)==null?void 0:s.address)||""):(A.value=((h=i.value)==null?void 0:h.address)||"",H.value=((y=u.value)==null?void 0:y.address)||""),P.value=!0},Xe=p({}),ze=p({}),To=n=>{q.value==="fromCoin"?(Xe.value=n,He(n)):(ze.value=n,He(n))},Mo=n=>{n==="fromCoin"?(f.value=!0,T.value==="Aptos"?a.value=ne.value>0?i.value.symbol=="APT"?new t(Number(ne.value)).sub(new t(.1)).lt(new t(0))?"0":new t(Number(ne.value)).sub(new t(.1)).toString():String(ne.value):"":a.value=ne.value>0?i.value.symbol=="SUI"?new t(Number(ne.value)).sub(new t(.05)).lt(new t(0))?"0":new t(Number(ne.value)).sub(new t(.05)).toString():String(ne.value):""):(f.value=!1,T.value==="Aptos"?m.value=se.value>0?u.value.symbol=="APT"?new t(Number(se.value)).sub(new t(.1)).lt(new t(0))?"0":new t(Number(se.value)).sub(new t(.1)).toString():String(se.value):"":m.value=se.value>0?u.value.symbol=="SUI"?new t(Number(se.value)).sub(new t(.05)).lt(new t(0))?"0":new t(Number(se.value)).sub(new t(.05)).toString():String(se.value):"")},jo=n=>{n==="fromCoin"?(f.value=!0,a.value=ne.value>0?ae(new t(Number(ne.value)).div(2).toString(),i.value.decimals).toString():""):(f.value=!1,m.value=se.value>0?ae(new t(Number(se.value)).div(2).toString(),u.value.decimals).toString():"")};pn(()=>{no()}),fn(()=>{clearInterval(be.value)});const Ye=I(()=>N),Ze=()=>{!$.value&&!Qe.value||(clearInterval(be.value),W.setPoolConfigList(Ye.value.chainName,Ye.value.filterCoinsObj),B.value=0,O.value=!0,$.value&&W.updateCurrentPools($.value.poolAddress,T.value),Se(f.value?a.value:m.value),oe.value.address&&K.value.getAccount(oe.value.address),N.getStatsData(T.value,Ye.value.filterCoinsObj),setTimeout(()=>{O.value=!1,no()},1e3))};V(()=>B.value,n=>{},{immediate:!0});const no=()=>{be.value=setInterval(()=>{O.value=!1,U.value||B.value<D.value&&(B.value+=1,B.value===D.value&&(T.value=="Aptos"?($.value&&$.value.poolAddress&&W.updateCurrentPools($.value.poolAddress,T.value),Ze()):M.value||Ze(),B.value=0,O.value=!0))},1e3)};V(f,Ee((n,c)=>{f.value=n},500));const Ae=p(!1);V(a,Ee((n,c)=>{n&&n!==0&&f.value&&(B.value=0,Se(n)),n==""&&f.value&&(m.value="")},500)),V(m,Ee((n,c)=>{n&&n!==0&&!f.value&&(B.value=0,Se(n)),n==""&&!f.value&&(a.value="")},500));const Ue=p(1e-4),Te=async n=>{let c=n;if(T.value==="Aptos"&&!c.current_sqrt_price&&a.value&&m.value){const s=await K.value.getPools([c.address]);s&&s[0]&&(c={...n,...s[0],fee:Number(s[0].fee_rate)/1e6})}if(c.current_sqrt_price&&a.value&&m.value){const h=(i.value.address===c.coinA.address&&u.value.address===c.coinB.address?0:1)==0,y=new t(a.value),b=new t(m.value),F=y.sub(y.mul(new t(c.fee))),Z=b.div(F);return K.value.getPriceImpactPct(c,Z.toString(),h)}return"--"},ao=p(0),to=p(0),so=p(),ye=p({}),Do=async n=>{if($.value&&!(f.value&&Number(a.value)==0)&&!(!f.value&&Number(m.value)==0))if(i.value&&u.value&&(a.value||m.value)){S.value=!0,j.value=!0,le.value=!1;const c=i.value.address===$.value.coinA.address&&u.value.address===$.value.coinB.address?0:1;try{let s=await K.value.preSwap({pool:$.value,a2b:c==0,byAmountIn:f.value,amount:f.value?a.value:m.value});le.value=s==null?void 0:s.isExceed,so.value=s==null?void 0:s.estimatedFeeAmount,f.value?(m.value=s.estimatedAmountOut,fe.value=(Number(s.estimatedAmountOut)/n).toString(),pe.value=(n/Number(s.estimatedAmountOut)).toString()):(a.value=s.estimatedAmountIn,fe.value=(n/Number(s.estimatedAmountIn)).toString(),pe.value=(Number(s.estimatedAmountIn)/n).toString()),ao.value=new t(m.value).div(a.value).toString(),to.value=new t(a.value).div(m.value).toString(),Ue.value=T.value=="Aptos"?await Te($.value):await Te(ye.value||$.value),S.value=!1,j.value=!1}catch{S.value=!1,j.value=!1}}else f.value?m.value="":a.value="",S.value=!1,j.value=!1},Lo=hn(),oe=I(()=>Lo),Eo=p({}),pe=p(""),fe=p(""),ne=I(()=>oe.value.assets&&i.value&&oe.value.assets[i.value.address]?yo(oe.value.assets[i.value.address].balance,i.value.decimals):0),se=I(()=>oe.value.assets&&u.value&&oe.value.assets[u.value.address]?yo(oe.value.assets[u.value.address].balance,u.value.decimals):0);So(),V(()=>d.value.tokensObj,async n=>{if(!Ne(n)){const c=e?e.currentRoute.value.query.to:"",s=e?e.currentRoute.value.query.from:"";s?i.value=await K.value.getTokenBySymbol(n,s):!s&&!i.value&&(i.value=await K.value.getTokenBySymbol(n,ge[T.value].swapDefaultPair.fromCoin)),c?u.value=await K.value.getTokenBySymbol(n,c):!c&&!u.value&&(u.value=await K.value.getTokenBySymbol(n,ge[T.value].swapDefaultPair.toCoin)),!s&&c&&(i.value="")}},{immediate:!0});const $=I(()=>{var n,c,s,h,y;if(i.value&&u.value){let b=null,F={};if(Object.values(d.value.poolConfigList).forEach(_=>{var E,ee,ue,$e;(_.coinA.address.toUpperCase()===((E=i.value.address)==null?void 0:E.toUpperCase())&&_.coinB.address.toUpperCase()===((ee=u.value.address)==null?void 0:ee.toUpperCase())||_.coinB.address.toUpperCase()===((ue=i.value.address)==null?void 0:ue.toUpperCase())&&_.coinA.address.toUpperCase()===(($e=u.value.address)==null?void 0:$e.toUpperCase()))&&(F[_.address]={..._})}),T.value=="Aptos"&&d.value.poolsObj&&!Ne(d.value.poolsObj))for(const _ in d.value.poolsObj){const E=d.value.poolsObj[_];(E.token_a.address.toUpperCase()===((n=i.value.address)==null?void 0:n.toUpperCase())&&E.token_b.address.toUpperCase()===((c=u.value.address)==null?void 0:c.toUpperCase())||E.token_b.address.toUpperCase()===((s=i.value.address)==null?void 0:s.toUpperCase())&&E.token_a.address.toUpperCase()===((h=u.value.address)==null?void 0:h.toUpperCase()))&&(F[E.address]={...E})}const Z=Object.values(F).sort((_,E)=>_.fee-E.fee);for(let _=0;_<Z.length;_++)if(!((y=Z[_])!=null&&y.is_pause)){b=Z[_];break}return b=Object.values(F).sort((_,E)=>_.fee-E.fee)[0],b&&!Ne(b)?b:null}return null}),io=p(!0),lo=p(!1),Wo=async n=>{n&&T.value=="Aptos"&&(Se(f.value?a.value:m.value),lo.value=!0,n.coinA.symbol.toLowerCase()===i.value.symbol.toLowerCase()&&n.coinB.symbol.toLowerCase()===u.value.symbol.toLowerCase()?io.value=!0:io.value=!1,le.value=!1)};V(()=>$.value,(n,c)=>{n&&(!c||n.address!==c.address||n.current_sqrt_price!==c.current_sqrt_price)&&Wo(n)},{immediate:!0,deep:!0});const Jo=I(()=>d.value.tokensObj&&i.value&&i.value.address&&d.value.tokensObj[i.value.address]&&d.value.tokensObj[i.value.address].logoURI),qo=I(()=>d.value.tokensObj&&u.value&&u.value.address&&d.value.tokensObj[u.value.address]&&d.value.tokensObj[u.value.address].logoURI),Qo=I(()=>T.value==="Aptos"?d.value.tokensObj&&i.value&&i.value.address&&d.value.tokensObj[i.value.address]&&d.value.tokensObj[i.value.address].coingecko_id||null:d.value.tokensObj&&i.value&&i.value.address||null),Xo=I(()=>T.value==="Aptos"?d.value.tokensObj&&u.value&&u.value.address&&d.value.tokensObj[u.value.address]&&d.value.tokensObj[u.value.address].coingecko_id||null:d.value.tokensObj&&u.value&&u.value.address||null),zo=I(()=>{var n,c,s,h,y,b,F,Z,_;return(s=(c=d==null?void 0:d.value)==null?void 0:c.tokensObj[(n=i==null?void 0:i.value)==null?void 0:n.address])!=null&&s.pyth_id&&((b=(y=d==null?void 0:d.value)==null?void 0:y.tokensObj[(h=i==null?void 0:i.value)==null?void 0:h.address])==null?void 0:b.pyth_id)!=="0x0000000000000000000000000000000000000000000000000000000000000000"?"pyth":(_=(Z=d==null?void 0:d.value)==null?void 0:Z.tokensObj[(F=i==null?void 0:i.value)==null?void 0:F.address])!=null&&_.coingecko_id?"coingecko":null}),Yo=I(()=>{var n,c,s,h,y,b,F,Z,_;return(s=(c=d==null?void 0:d.value)==null?void 0:c.tokensObj[(n=u==null?void 0:u.value)==null?void 0:n.address])!=null&&s.pyth_id&&((b=(y=d==null?void 0:d.value)==null?void 0:y.tokensObj[(h=u==null?void 0:u.value)==null?void 0:h.address])==null?void 0:b.pyth_id)!=="0x0000000000000000000000000000000000000000000000000000000000000000"?"pyth":(_=(Z=d==null?void 0:d.value)==null?void 0:Z.tokensObj[(F=u==null?void 0:u.value)==null?void 0:F.address])!=null&&_.coingecko_id?"coingecko":null}),Zo=I(()=>{var h,y;const n=new t(a.value),c=new t(T.value=="Aptos"?(h=$==null?void 0:$.value)==null?void 0:h.fee:(y=ye==null?void 0:ye.value)==null?void 0:y.fee),s=n.mul(c).toString();return Number(s)<1/Math.pow(10,i.value.decimals)?`<${new t(1).div(new t(Math.pow(10,i.value.decimals))).toString()}`:ae(s,i.value.decimals)}),{setIsShowSuccess:Ho,setIsShowRejected:uo,setIsShowWaiting:Me,setTransactionDesc:Ko,setTransactionTxid:ro}=N,Go=async()=>{var c,s,h,y,b,F,Z,_;M.value=!1,S.value=!0,clearInterval(Ie),window.clearInterval(Ie),ro(""),Ko(w("tips.swapping",{from:`${a.value} ${(c=i.value)==null?void 0:c.symbol}`,to:`${m.value} ${(s=u.value)==null?void 0:s.symbol}`})),Me(!0);let n;T.value=="Aptos"&&(n=i.value.address===$.value.token_a.address&&u.value.address===$.value.token_b.address?0:1);try{let E;T.value=="Aptos"?E=await K.value.getSwapTransactionPayload({pool:$.value,a2b:n==0,byAmountIn:f.value,amount:f.value?a.value:m.value,slippage:Number(me.value)/100}):E=await Ve.value.swapRouterContract.getSwapRouterPayload(je.value,Number(me.value)/100);let ee;if(T.value==="Aptos")ee=await oe.value.currentWallet.signAndSubmitTransaction(E);else{const ue=await oe.value.currentWallet.signAndExecuteTransactionBlock(E);ee=K.value.handleTx(ue)}if(ee&&ee.hash){ro(ee.hash),Me(!1),Ho(!0);const ue={title:w("tips.swap"),desc:w("tips.swapSuccessText",{from:`${a.value} ${(h=i.value)==null?void 0:h.symbol}`,to:`${m.value} ${(y=u.value)==null?void 0:y.symbol}`}),hash:ee.hash,tit:"Swap",icon:"icon-icon-swap1",tokenInfo:{tokena:`${(b=i.value)==null?void 0:b.address}`,numa:`- ${a.value}`,logoa:d.value.tokensObj&&i.value&&i.value.address&&d.value.tokensObj[i.value.address]&&d.value.tokensObj[i.value.address].logoURI,tokenb:`${(F=u.value)==null?void 0:F.address}`,numb:`+ ${m.value}`,logob:d.value.tokensObj&&u.value&&u.value.address&&d.value.tokensObj[u.value.address]&&d.value.tokensObj[u.value.address].logoURI},text:`Pay ${a.value} ${(Z=i.value)==null?void 0:Z.symbol} to receive ${m.value} ${(_=u.value)==null?void 0:_.symbol}`};T.value!=="Aptos"&&(ue.res=ee.res),K.value.showTransitionPending(ue),await K.value.watchTransaction(ue)&&setTimeout(()=>{T.value=="Aptos"&&W.updateCurrentPools($.value.poolAddress,T.value),K.value.getAccount(oe.value.address)},1e3)}else Me(!1),uo(!0);a.value="",m.value="",S.value=!1}catch{a.value="",m.value="",S.value=!1,Me(!1),uo(!0)}},Vo=n=>{var c;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((c=d.value.tokensObj[n==null?void 0:n.address])==null?void 0:c.logo_url)||(N.theme==="default"?re("/image/coins/unknown.png"):re("/image/coins/sui-unknown.png"))},mo=p([]);V(()=>[i.value,u.value,d.value.poolConfigList],([n,c,s])=>{if(s&&s.length>0&&n&&c){const h=[];s.forEach(y=>{var b,F,Z,_;(y.coinA.address.toUpperCase()===((b=n.address)==null?void 0:b.toUpperCase())&&y.coinB.address.toUpperCase()===((F=c.address)==null?void 0:F.toUpperCase())||y.coinB.address.toUpperCase()===((Z=n.address)==null?void 0:Z.toUpperCase())&&y.coinA.address.toUpperCase()===((_=c.address)==null?void 0:_.toUpperCase()))&&(y!=null&&y.is_pause||h.push(y.address))}),mo.value=h}},{immediate:!0});const He=n=>{const c=localStorage.getItem(n.address);d.value.tokensObj&&d.value.tokensObj[n.address]&&d.value.tokensObj[n.address].isSelfBuilt&&!c?Ke.value=!0:(q.value==="fromCoin"?(a.value="",u.value&&n.address.toLowerCase()===(u==null?void 0:u.value.address.toLowerCase())&&(u.value=null),i.value=n):(i.value&&(m.value="",n.address.toLowerCase()===(i==null?void 0:i.value.address.toLowerCase())&&(i.value=null)),u.value=n),co())},Ke=p(!1),co=()=>{ze.value={},Xe.value={},Ke.value=!1},xo=I(()=>N.isShowRouterModal),Ge=p([]),vo=p(""),en=p(!1),po=bn(),Ve=I(()=>po),ke=p(!1),je=p({}),fo=p(""),ho=n=>{const{splitPaths:c}=n;let s=new t(0);c.forEach((y,b)=>{const F=y.basePaths[0],Z=F.label==="Cetus"?new t(F.feeRate).div(Math.pow(10,6)):new t(F.feeRate).div(Math.pow(10,9)),_=new t(F.inputAmount).div(Math.pow(10,i.value.decimals)).mul(Z);if(s=s.add(_),y.basePaths[1]){const E=y.basePaths[1],ee=F.direction?F.currentPrice:new t(1).div(F.currentPrice),ue=E.direction?E.currentPrice:new t(1).div(y.basePaths[1].currentPrice),$e=E.label==="Cetus"?new t(E.feeRate).div(Math.pow(10,6)):new t(E.feeRate).div(Math.pow(10,9)),ln=new t(E.outputAmount).div(Math.pow(10,u.value.decimals)).mul($e).div(ee.mul(ue));s=s.add(ln)}});const h=s.toNumber();fo.value=h>0&&h<1e-6?"<0.000001":Y(ae(h,i.value.decimals))},go=(n,c)=>c.minus(n).div(c).mul(100),Co=async n=>{const{splitPaths:c}=n;let s=new t(0);c.forEach((h,y)=>{if(h.basePaths.length===1){const b=h.basePaths[0],F=new t(b.outputAmount).div(Math.pow(10,b.toDecimal)),Z=new t(b.inputAmount).div(Math.pow(10,b.fromDecimal)),_=F.div(Z),E=b.direction?new t(b.currentPrice):new t(1).div(b.currentPrice);s=s.add(go(_,E))}else{const b=h.basePaths[0].direction?new t(h.basePaths[0].currentPrice):new t(1).div(h.basePaths[0].currentPrice),F=h.basePaths[1].direction?new t(h.basePaths[1].currentPrice):new t(1).div(h.basePaths[1].currentPrice),Z=b.mul(F),_=new t(h.basePaths[1].outputAmount).div(Math.pow(10,h.basePaths[1].toDecimal)),E=new t(h.basePaths[0].inputAmount).div(Math.pow(10,h.basePaths[0].fromDecimal)),ee=_.div(E);s=s.add(go(ee,Z))}}),Ue.value=Number(ae(s.toNumber(),2))},wo=async n=>{if(i.value&&u.value&&(Number(a.value)>0||Number(m.value)>0)){(!a.value&&m.value||a.value&&!m.value)&&(S.value=!0),Ae.value=!0,ke.value=!1;let c;$.value&&(c=i.value.address===$.value.coinA.address&&u.value.address===$.value.coinB.address?0:1);try{let s;if(f.value){const F=new t(a.value).mul(Math.pow(10,i.value.decimals)).toString();s=new Le(F)}else{const F=new t(m.value).mul(Math.pow(10,u.value.decimals)).toString();s=new Le(F)}const h=Number(me.value)/100,y=$.value?{poolAddresses:mo.value,coinTypeA:$.value.coin_a_address,coinTypeB:$.value.coin_b_address,decimalsA:$.value.coinA.decimals,decimalsB:$.value.coinB.decimals,a2b:c==0,byAmountIn:f.value,amount:s.toString()}:"",b=await Ve.value.swapRouterContract.getSwapRouter(i,u,s,f.value,h,"",$.value?y:"");if(b&&!b.isExceed&&b.splitPaths&&b.splitPaths.length==0){ke.value=!0;return}b?(je.value=b,Ge.value=b.paths,le.value=b.isExceed,ho(b),f.value?a.value&&(m.value=new t(b.outputAmount).div(new t(Math.pow(10,u.value.decimals))).toString()):m.value&&(a.value=new t(b.inputAmount).div(new t(Math.pow(10,i.value.decimals))).toString()),pe.value=Y(te(new t(a.value).div(new t(m.value).toString()),i.value.decimals)),fe.value=Y(te(new t(m.value).div(a.value).toString(),u.value.decimals)),Co(b),S.value=!1,ke.value=!1,Ae.value=!1):(S.value=!1,ke.value=!0,Ae.value=!1)}catch{S.value=!1,Ae.value=!1}}else f.value?m.value="":a.value="",S.value=!1,Ae.value=!1},he=p(!1),bo=async n=>{try{let c;if(f.value){const y=new t(a.value).mul(Math.pow(10,i.value.decimals)).toString();c=new Le(y)}else{const y=new t(m.value).mul(Math.pow(10,u.value.decimals)).toString();c=new Le(y)}const s=Number(me.value)/100,h=await Ve.value.swapRouterContract.getSwapRouter(i,u,c,f.value,s,"");h&&(je.value=h,Ge.value=h.paths,le.value=h.isExceed,vo.value=h.amountIn,ho(h),pe.value=Y(te(new t(a.value).div(new t(m.value).toString()),i.value.decimals)),fe.value=Y(te(new t(m.value).div(a.value).toString(),u.value.decimals)),Co(h),f.value?m.value!==h.amountOut&&(he.value=!0,m.value=h.amountOut):a.value!==h.amountIn&&(he.value=!0,a.value=h.amountIn))}catch{}},on=async n=>{if(i.value&&u.value&&(a.value||m.value)){const c=i.value.address===$.value.coinA.address&&u.value.address===$.value.coinB.address?0:1;try{let s=await K.value.preSwap({pool:$.value,a2b:c==0,byAmountIn:f.value,amount:f.value?a.value:m.value});le.value=s==null?void 0:s.isExceed,so.value=s==null?void 0:s.estimatedFeeAmount,f.value?(fe.value=(Number(s.estimatedAmountOut)/s.estimatedAmountIn).toString(),pe.value=(s.estimatedAmountIn/Number(s.estimatedAmountOut)).toString()):(fe.value=(Number(s.estimatedAmountOut)/Number(s.estimatedAmountIn)).toString(),pe.value=(Number(s.estimatedAmountIn)/Number(s.estimatedAmountOut)).toString()),f.value?m.value!==s.estimatedAmountOut&&(he.value=!0,m.value=s.estimatedAmountOut):a.value!==s.estimatedAmountIn&&(he.value=!0,a.value=s.estimatedAmountIn),Ue.value=T.value=="Aptos"?await Te($.value):await Te(ye.value||$.value),S.value=!1,j.value=!1}catch{S.value=!1,j.value=!1}}else S.value=!1,j.value=!1};let Ie=p(null);V(()=>M.value,n=>{n?Ie.value=setInterval(()=>{T.value=="Aptos"?on(f.value):bo(f.value)},3e3):(clearInterval(Ie.value),window.clearInterval(Ie.value))},{immediate:!0});const Se=async n=>{T.value=="Aptos"?Do(n):wo()},nn=I(()=>po),an=I(()=>nn.value.isInitRouter);V(()=>an.value,n=>{n||(B.value=0,Se(f.value?a.value:m.value))},{immediate:!0}),V(()=>[i.value,u.value],([n,c])=>{if(n&&c&&(B.value=0,Se(f.value?a.value:m.value)),n||c){const s=`/swap?from=${n==null?void 0:n.address}&to=${c==null?void 0:c.address}`;e.push(s)}},{immediate:!0});function tn(n,c=500){let s=null;return function(...h){clearTimeout(s),s=setTimeout(()=>{n.call(this,...h)},c)}}const sn=tn(Ao);function Ao(){const n=i.value;i.value=u.value,u.value=n,R.value=!0,f.value=!f.value,f.value?(a.value=m.value,m.value=""):(m.value=a.value,a.value=""),setTimeout(()=>{R.value=!1},300)}return{closeSwapConfirmModal:()=>{M.value=!1,he.value=!1},updateAccept:()=>{he.value=!1},clickExchange:Ao,debounceClickExchange:sn,closeTokenWarning:co,isShowTokenWarning:Ke,getTokenSource:He,hasPool:lo,getPoolInfoSuccess:oo,halfBtnSelect:jo,formCoinId:Qo,toCoinId:Xo,formCoinMarket:zo,toCoinMarket:Yo,fromCoinUrl:Jo,toCoinUrl:qo,t:w,indicator:v,wallet:oe,currentLpInfo:Eo,fixD:We,decimalFormat:mn,impact:Ue,oneFromAmount:pe,oneToAmount:fe,importIcon:re,clickRefresh:Ze,refresh:O,change:R,isShowAddress:X,isShowSwapSetting:k,fromCoin:i,toCoin:u,slippage:me,openCoinSelect:Uo,onCoinSelect:To,existingCoins:A,lastSelectCoin:H,currentCoinKey:q,showCoinSelect:P,fromCoinAmount:a,toCoinAmount:m,maxBtnSelect:Mo,fixedFromCoin:f,swapBtnText:Fo,toSwap:Go,loading:U,swaping:S,autoRefreshTime:D,countdown:B,marketTimer:be,rateChange:L,isSwapConfirmMpdal:M,fromCoinBlance:ne,toCoinBlance:se,poolInfo:$,chainName:T,swapRouterLoading:Ae,formatFee:Zo,calculating:j,currentRate:ao,currentRateReverse:to,getCoinIcon:Vo,toAddLiquidiPoolInfo:ye,decimalUi:te,warningToCoin:ze,warningFromCoin:Xe,isShowRouterModal:xo,toSwapLoading:en,insufficientLiquidity:le,routerPool:Ge,routerTotalAmounts:vo,store:N,suiPreSwapdata:je,suiSwapFee:fo,addCommom:Y,debounce:Ee,notFoundRouter:ke,getSuiAmountAccept:bo,isShowAccept:he,getSuiAmount:wo}}});const we=e=>(_e("data-v-77026db2"),e=e(),Be(),e),is={class:"swap-container"},ls={class:"title"},us={class:"left"},rs={class:"right title-right"},ds=we(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),ms={class:"swap-card"},cs={class:"card-container"},vs={class:"card-item"},ps={class:"card-item"},fs=we(()=>o("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),hs=[fs],gs={key:1,class:"induction"},Cs={key:0,class:"exchange-rate-btn"},ws={key:0},bs={key:0},As={key:0},ys={key:1},ks={key:0},Ss=we(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Is=[Ss],$s={class:"item"},Ns={class:"induction-text"},Ps={key:0,class:"icon","aria-hidden":"true"},Rs=we(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Os=[Rs],_s={class:"item"},Bs={class:"induction-text"},Fs={key:0,class:"induction-value"},Us={class:"item"},Ts={class:"induction-text"},Ms={key:0,class:"induction-value"},js={key:0,class:"icon","aria-hidden":"true"},Ds=we(()=>o("use",{"xlink:href":"#icon-icon-swap"},null,-1)),Ls=[Ds],Es={key:2,class:"token-info-container"},Ws={class:"token-info-title"},Js=we(()=>o("span",{class:"coingecko"},"Price Reference",-1)),qs=we(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-information"})],-1));function Qs(e,v,w,C,N,W){var a,m;const d=un,R=dn,O=na,X=No,k=Po,L=Bo,M=gn,q=Cn,A=wn,H=Ro,P=Ba,f=rn,U=mt,S=ts,j=Oe("image");return r(),g("div",is,[o("div",ls,[o("div",us,l(e.$t("menu.swap")),1),o("div",rs,[o("div",{class:"slippage-icon",onClick:v[0]||(v[0]=D=>e.isShowSwapSetting=!0)},[ds,o("span",null,l(e.slippage)+"%",1)]),ce(d,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),o("div",ms,[o("div",cs,[o("div",vs,[ce(R,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":v[1]||(v[1]=D=>e.fromCoinAmount=D),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logo_url:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:v[2]||(v[2]=D=>e.maxBtnSelect("fromCoin")),onOnHalf:v[3]||(v[3]=D=>e.halfBtnSelect("fromCoin")),onOnInput:v[4]||(v[4]=D=>{e.fromCoinAmount=D,e.fixedFromCoin=!0}),onOnSelect:v[5]||(v[5]=D=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("div",ps,[ce(R,{modelValue:e.toCoinAmount,"onUpdate:modelValue":v[6]||(v[6]=D=>e.toCoinAmount=D),"input-value":e.toCoinAmount,havemax:!1,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logo_url:"",address:e.toCoin?e.toCoin.address:"",onOnInput:v[7]||(v[7]=D=>{e.toCoinAmount=D,e.fixedFromCoin=!1}),onOnSelect:v[8]||(v[8]=D=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("img",{class:de(e.change?"gang animationex":"gang"),src:An,alt:""},null,2),o("div",{class:de(["exchange",e.chainName=="Sui"?"sui-exchange":""]),onClick:v[9]||(v[9]=(...D)=>e.debounceClickExchange&&e.debounceClickExchange(...D))},[(r(),g("svg",{class:de(e.change?"icon animationex":"icon"),"aria-hidden":"true"},hs,2))],2)]),e.chainName=="Sui"&&!e.notFoundRouter?(r(),z(O,{key:0,"swap-loading":e.swaping,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"router-pool":e.routerPool,impact:e.impact,"insufficient-liquidity":e.insufficientLiquidity,"one-to-amount":e.oneToAmount,"one-from-amount":e.oneFromAmount,"sui-pre-swapdata":e.suiPreSwapdata,"sui-swap-fee":e.suiSwapFee,"swap-router-loading":e.swapRouterLoading},null,8,["swap-loading","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","router-pool","impact","insufficient-liquidity","one-to-amount","one-from-amount","sui-pre-swapdata","sui-swap-fee","swap-router-loading"])):e.poolInfo&&e.fromCoinAmount&&e.toCoinAmount&&e.fromCoinAmount!=="0"&&e.toCoinAmount!=="0"&&e.swapBtnText!==e.$t("button.poolNotFound")?(r(),g("div",gs,[Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(r(),g("div",Cs,[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(r(),g("span",ys,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(r(),g("span",ks,[G(o("img",null,null,512),[[j,e.toCoinUrl||e.getCoinIcon(e.toCoin)]]),x(" 1 "+l(e.toCoin.symbol)+" ≈ ",1),G(o("img",null,null,512),[[j,e.fromCoinUrl||e.getCoinIcon(e.fromCoin)]]),o("span",null,l(("addCommom"in e?e.addCommom:Q(Y))(("decimalUi"in e?e.decimalUi:Q(te))(e.currentRateReverse,e.fromCoin.decimals),e.fromCoin.decimals)),1),x("  "+l(e.fromCoin.symbol),1)])):(r(),z(X,{key:1,indicator:e.indicator},null,8,["indicator"]))])):J("",!0):(r(),g("span",ws,[G(o("img",null,null,512),[[j,e.fromCoinUrl||e.getCoinIcon(e.fromCoin)]]),x(" 1 "+l(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(r(),g("span",bs,[G(o("img",null,null,512),[[j,e.toCoinUrl||e.getCoinIcon(e.toCoin)]]),e.calculating?J("",!0):(r(),g("span",As,l(("addCommom"in e?e.addCommom:Q(Y))(("decimalUi"in e?e.decimalUi:Q(te))(e.currentRate,e.toCoin.decimals))),1)),e.calculating?(r(),z(X,{key:1,indicator:e.indicator},null,8,["indicator"])):J("",!0),x("  "+l(e.toCoin.symbol),1)])):(r(),z(X,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(r(),g("svg",{class:"icon-change","aria-hidden":"true",onClick:v[10]||(v[10]=D=>e.rateChange=!e.rateChange)},Is))])):J("",!0),Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(r(),g(xe,{key:1},[o("div",$s,[o("div",Ns,l(e.$t("common.priceImpact")),1),e.swaping?(r(),z(k,{key:1,paragraph:!1,active:""})):(r(),g("div",{key:0,class:de(["induction-value",Number(e.impact)<1?"impact-s":Number(e.impact)<10&&Number(e.impact)>1?"impact-w":"impact-e"])},[x(l(Number(e.impact)<.01?"<0.01":Number(e.impact)>100?"100":e.impact)+"% ",1),e.impact>=10?(r(),g("svg",Ps,Os)):J("",!0)],2))]),o("div",_s,[o("div",Bs,l(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swaping?(r(),z(k,{key:1,paragraph:!1,active:""})):(r(),g("div",Fs,l(e.fixedFromCoin?("addCommom"in e?e.addCommom:Q(Y))(("fixD"in e?e.fixD:Q(We))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals),e.toCoin.decimals):("addCommom"in e?e.addCommom:Q(Y))(("fixD"in e?e.fixD:Q(We))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals),e.fromCoin.decimals))+" "+l(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",Us,[o("div",Ts,l(e.$t("common.fee")),1),e.swaping?(r(),z(k,{key:1,paragraph:!1,active:""})):(r(),g("div",Ms,l(("addCommom"in e?e.addCommom:Q(Y))(e.formatFee,e.fromCoin.decimals))+" "+l(e.fromCoin.symbol)+" ("+l(e.chainName=="Aptos"?e.poolInfo.fee*100:((a=e.toAddLiquidiPoolInfo)==null?void 0:a.fee)*100)+"%) ",1))])],64)):J("",!0)])):J("",!0)]),ce(L,{disabled:e.wallet.connected?e.swaping||!e.fromCoin||!e.toCoin||!Number(e.fromCoinAmount)||!Number(e.toCoinAmount)||Number(e.fromCoinAmount)>Number(e.fromCoinBlance)||e.swapBtnText==e.$t("button.poolNotFound")||e.swapBtnText!==e.$t("button.swap")||((m=e.poolInfo)==null?void 0:m.is_pause)||e.swapRouterLoading:!1,class:"big-btn",loading:e.chainName=="Aptos"?e.swaping:!1,onClick:v[11]||(v[11]=D=>e.wallet.connected?e.isSwapConfirmMpdal=!0:e.wallet.setIsShowWalletModal(!0))},{default:ie(()=>[e.wallet.connected?(r(),g("svg",js,Ls)):J("",!0),o("span",null,l(e.wallet.connected?e.swapBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),ce(M),e.showCoinSelect?(r(),z(q,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:v[12]||(v[12]=D=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):J("",!0),e.isShowSwapSetting?(r(),z(A,{key:1,onOnClose:v[13]||(v[13]=D=>e.isShowSwapSetting=!1)})):J("",!0),e.chainName&&(e.formCoinMarket||e.toCoinMarket)?(r(),g("div",Es,[o("div",Ws,[Js,ce(H,{placement:"top","arrow-point-at-center":""},{title:ie(()=>[x(" The following price is only an external reference from 3rd party data providers, which does not reflect actual data on Cetus. ")]),default:ie(()=>[qs]),_:1})]),e.fromCoin&&e.formCoinMarket?(r(),z(P,{key:0,id:e.formCoinId,coin:e.fromCoin,market:e.formCoinMarket,refresh:e.refresh},null,8,["id","coin","market","refresh"])):J("",!0),e.toCoin&&e.toCoinMarket?(r(),z(P,{key:1,id:e.toCoinId,coin:e.toCoin,market:e.toCoinMarket,refresh:e.refresh},null,8,["id","coin","market","refresh"])):J("",!0)])):J("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(r(),z(f,{key:3,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:e.getTokenSource},null,8,["from-coin","to-coin","onClose","onClickContinue"])):J("",!0),e.isShowRouterModal?(r(),z(U,{key:4,"sui-pre-swapdata":e.suiPreSwapdata,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,onOnClose:v[14]||(v[14]=D=>e.store.setIsShowRouterModal(!1))},null,8,["sui-pre-swapdata","from-coin","to-coin","from-coin-amount","to-coin-amount"])):J("",!0),e.isSwapConfirmMpdal?(r(),z(S,{key:5,"sui-pre-swapdata":e.suiPreSwapdata,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,slippage:e.slippage,impact:e.impact,"fixed-from-coin":e.fixedFromCoin,fee:e.chainName=="Sui"?e.suiSwapFee:e.poolInfo.fee,"format-fee":e.chainName=="Sui"?e.suiSwapFee:e.formatFee,"is-show-accept":e.isShowAccept,"swap-loading":e.swapRouterLoading,"one-from-amount":e.oneFromAmount,"one-to-amount":e.oneToAmount,onOnClose:e.closeSwapConfirmModal,onToSwap:e.toSwap,onAccept:e.updateAccept},null,8,["sui-pre-swapdata","from-coin","to-coin","from-coin-amount","to-coin-amount","slippage","impact","fixed-from-coin","fee","format-fee","is-show-accept","swap-loading","one-from-amount","one-to-amount","onOnClose","onToSwap","onAccept"])):J("",!0)])}const fi=Re(ss,[["render",Qs],["__scopeId","data-v-77026db2"]]);export{fi as default};
