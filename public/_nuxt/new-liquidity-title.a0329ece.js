import{u as G,a as _e}from"./sha256.747633b4.js";import{a as K,m as P,e as Q,o as f,f as S,r as h,E as te,D as M,h as a,v as C,i as E,w as z,z as H,x as V,I as le,S as se,y as ue,j as J,B as ce,l as ye,a1 as Pe,a2 as he,q as Se,c as W,t as Ce,u as Y,J as $e,a3 as Te,p as de,k as me,H as ie,L as Ie,C as we,b as Ne}from"./entry.f0c17699.js";import{_ as Ae}from"./new-add-or-create.f2fe906c.js";import{_ as Me}from"./lock.e57b5c38.js";/* empty css              *//* empty css              */import{a as fe,d as U,u as ne,i as Oe,e as x,y as ve,c as oe,f as Z}from"./pool.154ed6b2.js";import{D as y}from"./decimal.0e8aa3f1.js";import{g as ae,t as re}from"./tick.505fdad3.js";import{i as ee}from"./import-icon.de3e6c66.js";import{_ as pe}from"./token-warning.6b123ca1.js";/* empty css              *//* empty css              */import{_ as je}from"./refresh-icon.f6c66ddc.js";import{_ as Be}from"./swap-setting.db3772bd.js";const Re=K({setup(){const e=G();return{storeIndex:P(()=>e)}}});const Le={class:"create-pool-lock"},qe={key:0,src:Ae,alt:""},Fe={key:1,src:Me,alt:""};function De(e,o,l,d,g,u){return f(),S("div",Le,[e.storeIndex.theme=="default"?(f(),S("img",qe)):(f(),S("img",Fe))])}const Yt=Q(Re,[["render",De],["__scopeId","data-v-fb497971"]]),Ue=K({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,o){const l=h(""),d=h("");let g=h(""),u=h("");const n=te(),b=G(),s=P(()=>b),N=P(()=>s.value.chainName?fe(s.value.chainName):{}),$=()=>{if(!(Number.isNaN(l.value)||Number(l.value)!==0&&!l.value||!e.poolInfo.tickSpacing))try{const t=ae(new y(l.value.toString()),Number(m.value.tickSpacing)),r=re(t+Number(m.value.tickSpacing));if(e.pType=="Min"&&Number(r.toString())>=Number(u.value.toString()))return;const c=r.toString();o.emit("onInput",c)}catch{o.emit("onInput","")}},j=()=>{try{if(Number.isNaN(l.value)||!l.value||!e.poolInfo.tickSpacing)return;const t=ae(new y(l.value),Number(m.value.tickSpacing)),r=re(t-Number(m.value.tickSpacing)),c=r.toString();if(e.pType=="Max"&&Number(r)<=Number(g.value))return;o.emit("onInput",c)}catch{o.emit("onInput","")}},L=t=>{let r=t.toString().replace(/[^\d.]/g,"");const c=/^\d+(\.\d+)?$/;r.split(".").length>2&&!c.exec(r)&&(r=r.substr(0,r.length-1)),d.value=String(r)},i=t=>{var O,v,p,k;const{TickUtil:r,TickMath:c,getNearestTickByTick:q}=N.value,I=t.target.value;let A;if(I==="0"){A=-443636,o.emit("onInput","0");return}else if(I!=="0"&&I){const w=c.priceToTickIndex(new y(I),(O=m.value.token_a)==null?void 0:O.decimals,(v=m.value.token_b)==null?void 0:v.decimals);A=q(Number(w),Number(m.value.tickSpacing));const F=c.tickIndexToPrice(new y(A),(p=m.value.token_a)==null?void 0:p.decimals,(k=m.value.token_b)==null?void 0:k.decimals);o.emit("onInput",F.toString())}else o.emit("onInput")};M(()=>e.defaultMinPrice,(t,r)=>{t!==r&&(g.value=e.defaultMinPrice)},{immediate:!0}),M(()=>e.defaultMaxPrice,(t,r)=>{t!==r&&(u.value=e.defaultMaxPrice)},{immediate:!0}),M(()=>d.value,t=>{},{immediate:!0}),M(()=>[e.inputValue,n.query.action],([t])=>{if(t&&t!=="0"&&t!=="∞"){l.value=t;const c=t.toString().split(".")[1];d.value=t!=="0"&&t!=="∞"&&c&&c.length>6?U(t.toString(),6):t.toString()}else(t=="0"||t=="∞"||n.query.action)&&(d.value=t)},{immediate:!0});const m=h({});M(()=>e.poolInfo,(t,r)=>{t&&(m.value=t)},{immediate:!0});const _=h("");return M(()=>e.currentPriceTab,t=>{_.value=t},{immediate:!0}),{addPrice:$,minusPrice:j,oValue:d,changeValue:L,isDisabled:_,route:n,onBlur:i}}});const Ve={class:"set-price-item"},Ee={class:"title"},ze={class:"input-box"},We={key:0,class:"minus-btn"},He={key:1,class:"plus-btn"};function Je(e,o,l,d,g,u){const n=le,b=se;return f(),S("div",Ve,[a("div",Ee,C(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),E(b,{loading:e.loading,active:"",paragraph:!1},{default:z(()=>[a("div",ze,[e.currentPriceTab!=="full range"?(f(),S("a",We,[a("div",{class:H(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),onClick:o[0]||(o[0]=(...s)=>e.minusPrice&&e.minusPrice(...s))},"-",2)])):V("",!0),E(n,{id:"pValu",value:e.oValue,"onUpdate:value":o[1]||(o[1]=s=>e.oValue=s),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:o[2]||(o[2]=s=>e.changeValue(s.target.value)),onBlur:o[3]||(o[3]=s=>e.onBlur(s))},null,8,["value","disabled"]),e.currentPriceTab!=="full range"?(f(),S("a",He,[a("div",{class:H(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:o[4]||(o[4]=(...s)=>e.addPrice&&e.addPrice(...s))},"+",2)])):V("",!0)])]),_:1},8,["loading"]),a("p",{class:H(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},C(e.toCoin&&e.toCoin.symbol)+" per "+C(e.fromCoin&&e.fromCoin.symbol),3)])}const ge=Q(Ue,[["render",Je],["__scopeId","data-v-a5dcc408"]]),Ge=K({components:{NewLiquiditySetPrice:ge},props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,o){let l=h(""),d=h(""),g=h(),u=h(!1),n=h(!1);const b=h({}),s=G(),N=P(()=>s);ue(()=>{l.value=e.min,d.value=e.max}),M(()=>e.currentPriceTab,(t,r)=>{t!==r&&(g.value=e.currentPriceTab)},{immediate:!0}),M(()=>e.min,(t,r)=>{t!==r&&(l.value=t)}),M(()=>e.max,(t,r)=>{t!==r&&(d.value=t)}),M(()=>e.poolInfo,(t,r)=>{t&&(b.value=t)},{immediate:!0});const $=h("");M(()=>e.intPrice,t=>{$.value=t},{immediate:!0,deep:!0});const j=t=>{l.value=t,o.emit("onChangeMinPrice",t)},L=t=>{d.value=t,o.emit("onChangeMaxPrice",t)};M(u,(t,r)=>{t!==r&&o.emit("onChangeFullRange",t)});const i=()=>{l.value=e.defaultMinPrice,d.value=e.defaultMaxPrice,n.value=!1,u.value=!1},m=()=>{n.value=!1,l.value="0",d.value="∞"};return M(u,(t,r)=>{t!==r&&o.emit("onChangeFullRange",t)}),{store:N,changeMinPrice:j,changeMaxPrice:L,importIcon:ee,resetPrice:i,changeShowUnderStand:()=>{u.value=!u.value,u.value?n.value=!0:i(),n.value||(l.value=e.defaultMinPrice,d.value=e.defaultMaxPrice)},showUnderStand:n,minPrice:l,maxPrice:d,understand:m,isRadio:u,initPirce:$}}});const Ke={class:"set-price"},Qe={class:"card-container"},Xe={key:0,class:"card"},Ye={key:1,class:"understand"},Ze={class:"left"},xe={class:"right"};function et(e,o,l,d,g,u){const n=ge,b=ce;return f(),S("div",Ke,[a("div",Qe,[e.showUnderStand?(f(),S("div",Ye,[a("div",Ze,[a("p",null,C(e.$t("common.lowerEfficiency")),1),a("p",null,C(e.$t("common.lowerEfficiencyTips")),1)]),a("div",xe,[E(b,{onClick:e.understand},{default:z(()=>[J(C(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(f(),S("div",Xe,[E(n,{value:e.minPrice,"onUpdate:value":o[0]||(o[0]=s=>e.minPrice=s),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),E(n,{value:e.maxPrice,"onUpdate:value":o[1]||(o[1]=s=>e.maxPrice=s),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"])]))])])}const Zt=Q(Ge,[["render",et],["__scopeId","data-v-e3859dff"]]),tt=K({components:{TokenWarning:pe},props:{inputValue:{type:String,default:""},inputDisabled:{type:Boolean,default:!1},coinName:{type:String,default:""},coinSymbol:{type:String,default:""},balance:{type:Number,default:null},coinIcon:{type:String,default:""},havemax:{type:Boolean,default:!0},hasArrow:{type:Boolean,default:!0},isTotal:{type:Boolean,default:!1},importPage:{type:String,default:""},address:{type:String,default:""}},setup(e,o){const{t:l,locale:d}=ye(),g=G(),u=P(()=>g),n=P(()=>new y(Number(e.balance)).div(2)),b=Pe(he,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0});function s(){this.$emit("onSelect")}const N=v=>{const p=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(c==null?void 0:c.value)&&(c==null?void 0:c.value)}})?).*$`);v.target.value=v.target.value.replace(p,"$1")},$=_e(),j=P(()=>$),L=ne(),i=P(()=>L),m=P(()=>i.value.tokensWarningObj);let _={};M(()=>i.value.RATES,v=>{v&&(_=v)},{immediate:!0});const t=P(()=>Oe(Number(e.inputValue)*Number(_&&_[e.address]&&_[e.address].price),2)),r=P(()=>{var v,p;return i.value.tokensObj&&e.address&&i.value.tokensObj[e.address]&&((v=i.value.tokensObj[e.address])==null?void 0:v.labels)&&((p=i.value.tokensObj[e.address])==null?void 0:p.labels[0])}),c=P(()=>{var v;return i.value.tokensObj&&e.address&&i.value.tokensObj[e.address]&&((v=i.value.tokensObj[e.address])==null?void 0:v.decimals)}),q=P(()=>{var v,p,k,w;return e.coinIcon||((p=(v=i==null?void 0:i.value)==null?void 0:v.tokensObj[e.address])==null?void 0:p.logo_url)||((w=(k=i==null?void 0:i.value)==null?void 0:k.tokensObj[e.address])==null?void 0:w.logoURI)||(u.value.theme==="default"?ee("/image/coins/unknown.png"):ee("/image/coins/sui-unknown.png"))}),I=P(()=>i.value.tokensObj),A=P(()=>u.value.theme);return{route:te(),theme:A,currentIcon:q,tokensObj:I,pool:i,halfBalance:n,coinLabels:r,t:l,addCommom:x,store:u,wallet:j,indicator:b,inputChange:N,importIcon:ee,selectCoin:s,amountPirce:t,coinDecimals:c,formatNumber:ve,tokensWarningObj:m,checkNullObj:oe}}});const nt=e=>(de("data-v-3a378845"),e=e(),me(),e),ot={class:"card"},it={class:"top"},at={key:1,class:"input-div"},rt={key:0},lt={class:"loading-token"},st={key:1},ut={key:0},ct=nt(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),dt=[ct],mt={class:"bottom"},ft={key:0,class:"amount-price"},vt={key:1},pt={class:"top"},gt={class:"right"},bt={class:"balance"};function kt(e,o,l,d,g,u){const n=le,b=$e,s=Te,N=pe,$=se,j=ce,L=Se("image");return f(),S("div",ot,[a("div",it,[e.inputDisabled?(f(),S("div",at,[e.inputValue?(f(),S("span",rt,C(e.inputValue),1)):(f(),W(b,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(f(),W(n,{key:0,value:e.inputValue=="InsufficientLiquidity"?"":e.inputValue,placeholder:"0.0",disabled:e.inputDisabled,onChange:e.inputChange,onInput:o[0]||(o[0]=i=>e.$emit("onInput",i.target.value)),onFocus:o[1]||(o[1]=i=>e.$emit("onFocus"))},null,8,["value","disabled","onChange"])),a("div",{class:H(["left",[e.hasArrow?"":"nohands",e.route.name=="swap"?"left-opcity":""].join("")]),onClick:o[2]||(o[2]=i=>e.pool.isTokenLoading?"":e.selectCoin())},[a("div",lt,[e.pool.isTokenLoading?(f(),W(s,{key:0,active:e.active,size:"small",paragraph:!1},null,8,["active"])):e.address?Ce((f(),S("img",st,null,512)),[[L,e.currentIcon]]):V("",!0),E(N,{address:e.address,"style-params":{width:"12px",height:"12px",left:"18px",bottom:"0px"}},null,8,["address"]),E($,{loading:e.pool.isTokenLoading,class:"loading-token-skeleton",active:"",paragraph:!1},{default:z(()=>[a("div",null,[a("p",null,C(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinLabels?(f(),S("p",ut,C(e.coinLabels),1)):V("",!0)])]),_:1},8,["loading"])]),e.hasArrow?(f(),S("svg",{key:0,class:H(["icon",e.pool.isTokenLoading?"loading-drop-icon":""]),"aria-hidden":"true"},dt,2)):V("",!0)],2)]),a("div",mt,[e.inputValue&&e.amountPirce!="--"?(f(),S("div",ft," $"+C(("formatNumber"in e?e.formatNumber:Y(ve))(e.amountPirce)),1)):(f(),S("div",vt)),a("div",pt,[a("div",gt,[J(C(e.isTotal?e.$t("common.total"):e.$t("common.balance"))+" ",1),a("span",bt,C(e.wallet.connected?("addCommom"in e?e.addCommom:Y(x))(e.balance,e.coinDecimals):"0"),1),e.havemax&&e.wallet.connected?(f(),W(j,{key:0,disabled:!e.coinName||("addCommom"in e?e.addCommom:Y(x))(e.halfBalance,e.coinDecimals)==0,class:"max-btn",onClick:o[3]||(o[3]=i=>e.$emit("onHalf"))},{default:z(()=>[J(C("Half"))]),_:1},8,["disabled"])):V("",!0),e.havemax&&e.wallet.connected?(f(),W(j,{key:1,disabled:!e.coinName||("addCommom"in e?e.addCommom:Y(x))(e.balance,e.coinDecimals)==0,class:"max-btn",onClick:o[4]||(o[4]=i=>e.$emit("onMax"))},{default:z(()=>[J(C(e.$t("button.max")),1)]),_:1},8,["disabled"])):V("",!0)])])])])}const xt=Q(tt,[["render",kt],["__scopeId","data-v-3a378845"]]),_t=K({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fixedFromCoin:{type:Boolean,defalut:!0},isInputTotalAmount:{type:Boolean,default:!1},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},createPoolInfo:{type:Object,default:()=>({})},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},currentPriceTab:{type:String,default:""}},setup(e){const o=ne(),l=P(()=>o),d=G(),g=P(()=>d),u=te(),n=P(()=>{let i=null;if(u.name=="liquidity-create")i=e.createPoolInfo;else for(const m in l.value.poolsObj){const _=l.value.poolsObj[m];_.address==u.query.poolAddress&&(i=_)}return i}),b=P(()=>g.value.chainName?fe(g.value.chainName):{}),s=P(()=>g.value.slippage),N=h(),$=h(),j=async()=>{if(!e.minPrice&&!e.maxPrice)return;const{TickUtil:i,TickMath:m,getNearestTickByTick:_}=b.value,t=n.value.token_a.decimals,r=n.value.token_b.decimals;let c,q,I,A,O,v,p,k=1,w=1;const F=n.value.current_tick_index;let D=l.value.poolPriceConfigObj&&l.value.poolPriceConfigObj[n.value.address]&&l.value.poolPriceConfigObj[n.value.address].recommend_ranges||{};if(n.value.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&n.value.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?p=!0:p=!1,e.minPrice==="0"&&e.maxPrice==="∞")I=i.getMinIndex(n.value.tickSpacing),A=i.getMaxIndex(n.value.tickSpacing);else if(e.currentPriceTab=="custom"){p?(c=Number(e.minPrice),q=Number(e.maxPrice)):(c=e.maxPrice!=="∞"?new y(1).div(e.maxPrice).toString():1/0,q=new y(1).div(e.minPrice).toString());try{O=m.priceToTickIndex(new y(c),t,r)}catch{O=-443636}try{v=m.priceToTickIndex(new y(q),t,r)}catch{v=443636}c==0&&(O=-443636),I=_(O,Number(n.value.tickSpacing)),A=_(v,Number(n.value.tickSpacing))}else I=D&&D[e.currentPriceTab]&&D[e.currentPriceTab].lower,A=D&&D[e.currentPriceTab]&&D[e.currentPriceTab].upper;if(e.maxPrice==="∞"||F>=I&&F<=A){let B;if(e.fixedFromCoin){const X=new y(e.fromCoinAmount||1).mul(Math.pow(10,e.fromCoin.decimals)).toString();B=new Z(X)}else{const X=new y(e.toCoinAmount||1).mul(Math.pow(10,e.toCoin.decimals)).toString();B=new Z(X)}const{tokenMaxA:R,tokenMaxB:T}=await b.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:n.value.token_a,tokenB:n.value.token_b,lowerTick:I,upperTick:A,coinAmount:B,iscoinA:p?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(s.value)/100,curSqrtPrice:new Z(n.value.current_sqrt_price)});p?e.fixedFromCoin?(w=Number(T)>0?T:"",k=Number(R)>0?R:""):(k=Number(R)>0?R:"",w=Number(T)>0?T:""):(e.fixedFromCoin,w=R,k=T)}else F>A?p?(w=1,k=0):(k=1,w=0):F<I&&(p?(w=0,k=1):(w=1,k=0));if(e.minPrice=="0"&&e.maxPrice=="∞")N.value=50,$.value=50;else{const B=k?Number(k):0,R=w?Number(w):0,T=new y(R).add(new y(p?new y(B*e.currentPrice):new y(B*e.currentPriceReverse))),X=U(new y(B).mul(new y(p?e.currentPrice:e.currentPriceReverse)).div(T).mul(100).toNumber().toFixed(2),2),ke=U(new y(R).div(T).mul(100).toNumber().toFixed(2),2);N.value=X,$.value=ke}},L=()=>{var w,F,D,B,R;if(!e.minPrice&&!e.maxPrice)return;const{TickUtil:i,TickMath:m,getNearestTickByTick:_}=b.value,t=(w=n.value)==null?void 0:w.token_a.decimals,r=(F=n.value)==null?void 0:F.token_b.decimals;let c,q,I,A,O,v,p;n.value.current_tick_index;let k=l.value.poolPriceConfigObj&&l.value.poolPriceConfigObj[n.value.address]&&l.value.poolPriceConfigObj[n.value.address].recommend_ranges||{};if(((D=n.value)==null?void 0:D.token_a.address.toLowerCase())===e.fromCoin.address.toLowerCase()&&((B=n.value)==null?void 0:B.token_b.address.toLowerCase())===e.toCoin.address.toLowerCase()?p=!0:p=!1,e.minPrice==="0"&&e.maxPrice==="∞")I=i.getMinIndex(n.value.tickSpacing),A=i.getMaxIndex(n.value.tickSpacing);else if(e.currentPriceTab=="custom"||(R=u==null?void 0:u.query)!=null&&R.action){p?(c=Number(e.minPrice),q=Number(e.maxPrice)):(c=e.maxPrice!=="∞"?new y(1).div(e.maxPrice).toString():1/0,q=new y(1).div(e.minPrice).toString());try{O=m.priceToTickIndex(new y(c),t,r)}catch{O=-443636}try{v=m.priceToTickIndex(new y(q),t,r)}catch{v=443636}c==0&&(O=-443636),I=_(O,Number(n.value.tickSpacing)),A=_(v,Number(n.value.tickSpacing))}else I=k&&k[e.currentPriceTab]&&k[e.currentPriceTab].lower,A=k&&k[e.currentPriceTab]&&k[e.currentPriceTab].upper;try{const T=b.value.calculateDepositRatioFixTokenA(I,A,new Z(n.value.current_sqrt_price));n.value.needReverse?p?(N.value=U(T.ratioA.mul(100).toNumber().toFixed(2),2),$.value=U(T.ratioB.mul(100).toNumber().toFixed(2),2)):(N.value=U(T.ratioB.mul(100).toNumber().toFixed(2),2),$.value=U(T.ratioA.mul(100).toNumber().toFixed(2),2)):(N.value=U(T.ratioA.mul(100).toNumber().toFixed(2),2),$.value=U(T.ratioB.mul(100).toNumber().toFixed(2),2))}catch{}};return M(()=>[n.value,e.minPrice,e.maxPrice,e.fromCoinAmount,e.toCoinAmount,e.isInputTotalAmount],([i,m,_])=>{e.isInputTotalAmount?L():m&&_&&i&&!oe(i)&&(m!=="0"||_!=="0")?j():(N.value="",$.value="")},{immediate:!0,deep:!0}),{fromCoinRatio:N,toCoinRatio:$}}});const yt={class:"deposit-ratio"},Pt={class:"deposit-ratio-text"},ht=a("span",null,"Deposit Ratio",-1),St=a("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-tips1"})],-1),Ct={class:"deposit-ratio-content"},$t={class:"coin-ratio"},Tt={class:"coin-a-ratio"},It={class:"coin-b-ratio"},wt={class:"ratio-progress"};function Nt(e,o,l,d,g,u){var b,s;const n=Ie;return f(),S("div",yt,[a("div",Pt,[ht,E(n,{placement:"bottom","arrow-point-at-center":""},{title:z(()=>[a("span",null,C(e.$t("newAdd.depositRatioTips")),1)]),default:z(()=>[St]),_:1})]),a("div",Ct,[a("div",$t,[a("div",Tt,[a("span",null,C((b=e.fromCoin)==null?void 0:b.symbol),1),J(" "+C(e.fromCoinRatio)+"% ",1)]),a("div",It,[a("span",null,C((s=e.toCoin)==null?void 0:s.symbol),1),J(" "+C(e.toCoinRatio)+"% ",1)])]),a("div",wt,[a("div",{class:"from-percent",style:ie({width:e.fromCoinRatio+"%"})},null,4),a("div",{class:"to-percent",style:ie({width:e.toCoinRatio+"%"})},null,4)])])])}const en=Q(_t,[["render",Nt]]),At=K({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,o){const l=h(!1),d=h(null),g=h(0);let u=h(!1);const n=h(20),b=ne(),s=G(),N=h(!1);ue(()=>{}),we(()=>{clearInterval(d.value)});const $=()=>{u.value=!1,d.value=setInterval(()=>{var t;N.value||g.value<n.value&&(g.value+=1,g.value===n.value&&((t=e==null?void 0:e.poolInfo)!=null&&t.poolAddress&&b.updateCurrentPools(e.poolInfo.poolAddress,s.chainName),g.value=0))},1e3)},j=P(()=>s.slippage),L=()=>{o.emit("clearAll")},i=()=>{u.value=!0,g.value=0,o.emit("clickRefresh"),setTimeout(()=>{u.value=!1,$()},1e3)};M(()=>e.poolInfo,t=>{t&&!d.value&&$()},{immediate:!0});const m=Ne(),_=te();return{refresh:u,clickRefresh:i,isShowSwapSetting:l,countdown:g,autoRefreshTime:n,slippage:j,clearAll:L,checkNullObj:oe,router:m,route:_}}});const be=e=>(de("data-v-2e458a1a"),e=e(),me(),e),Mt={class:"title"},Ot=be(()=>a("div",{class:"left"},[a("span",null,"Deposit Amounts")],-1)),jt=be(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Bt={key:0,class:"deposit-progress"};function Rt(e,o,l,d,g,u){const n=je,b=Be;return f(),S("div",Mt,[Ot,a("div",{class:H(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[a("div",{class:"slippage-icon",onClick:o[0]||(o[0]=s=>e.isShowSwapSetting=!0)},[jt,a("span",null,C(e.slippage)+"%",1)]),e.route.name!=="liquidity-create"?(f(),S("div",Bt,[E(n,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])):V("",!0)],2),e.isShowSwapSetting?(f(),W(b,{key:0,onOnClose:o[1]||(o[1]=s=>e.isShowSwapSetting=!1)})):V("",!0)])}const tn=Q(At,[["render",Rt],["__scopeId","data-v-2e458a1a"]]);export{tn as _,en as a,Yt as b,xt as c,Zt as d};
