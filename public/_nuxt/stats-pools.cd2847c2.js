import{_ as Os}from"./back.a45a5458.js";import{_ as js}from"./apr-tips.210b1b20.js";import{a as Bs,b as Us,e as x,x as Es,G as Ws,r as d,y as qs,w as us,H as zs,i as Fs,Y,m as is,a0 as ds,f as Gs,o as i,h as _,j as a,q as J,z as L,t as r,v as F,a1 as ss,a2 as es,k as S,fk as Ms,s as _s,p as Ys,l as Js,B as Ks}from"./entry.642476c1.js";import{_ as cs}from"./icon_on_stats.b61a8e0c.js";import{p as Qs}from"./precision.1cd464a0.js";const Xs=Bs({setup(){const o=Us(),t=x(()=>o),vs=x(()=>t.value.newTokenObj||{}),os=Es(),K=x(()=>os),O=Ws();let ls=d("big");const k=d(1),g=d(1);let T=d(!1);const e=()=>{os.getStatsData()};qs(()=>{os.getStatsData();const s=document.body.clientWidth;s<750?T.value=!1:T.value=!0,window.onresize=()=>{s<750?T.value=!1:T.value=!0},T.value,Z(k.value,10),m(g.value,10)});let p=d([]);const h=x(()=>K.value.topPoolsList),f=s=>(l,u)=>{let c=l[s],n=u[s];return c-n},v=s=>(l,u)=>{let c=l[s];return u[s]-c},b=d(!1),P=d(!1),H=d(!1),I=d(!1),$=d(!0),j=d(!1),B=d(!1),U=d(!1),C=d(!1),A=d(!1),V=d(!1),w=d(!1),E=d(!1),W=d(!1),q=d(!1),D=d(!0),Q=d(!1),as=d("TVL"),ns=d(["Volume (24H)","Volume (7D)","APR"]),X=d(!1),rs=d("TVL"),ts=d(["Price","Volume (24H)","Price Change"]),ps=s=>{const l=h;if(s=="tvl_in_usd"?($.value?(b.value=!b.value,l.value.sort(b.value?f(s):v(s))):l.value.sort(v(s)),P.value=!1,H.value=!1,I.value=!1,$.value=!0,j.value=!1,B.value=!1,U.value=!1):s=="vol_in_usd_24h"?(j.value?(P.value=!P.value,l.value.sort(P.value?f(s):v(s))):l.value.sort(v(s)),b.value=!1,H.value=!1,I.value=!1,$.value=!1,j.value=!0,B.value=!1,U.value=!1):s=="vol_in_usd_7_day"?(B.value?(H.value=!H.value,l.value.sort(H.value?f(s):v(s))):l.value.sort(v(s)),b.value=!1,P.value=!1,I.value=!1,$.value=!1,j.value=!1,B.value=!0,U.value=!1):s=="aprNum"&&(U.value?(I.value=!I.value,l.value.sort(I.value?f(s):v(s))):l.value.sort(v(s)),b.value=!1,P.value=!1,H.value=!1,$.value=!1,j.value=!1,B.value=!1,U.value=!0),l.value.length<10)p.value=l.value.slice(0,10);else{const u=k.value*10;p.value=l.value.slice(u-10,u)}},hs=s=>{const l=G;if(s=="price"?(E.value?(C.value=!C.value,l.value.sort(C.value?f(s):v(s))):l.value.sort(v(s)),A.value=!1,V.value=!1,w.value=!1,E.value=!0,W.value=!1,q.value=!1,D.value=!1):s=="vol_in_usd_24h"?(q.value?(V.value=!V.value,l.value.sort(V.value?f(s):v(s))):l.value.sort(v(s)),C.value=!1,A.value=!1,w.value=!1,E.value=!1,W.value=!1,q.value=!0,D.value=!1):s=="tvl_in_usd"?(D.value?(w.value=!w.value,l.value.sort(w.value?f(s):v(s))):l.value.sort(v(s)),C.value=!1,A.value=!1,V.value=!1,E.value=!1,W.value=!1,q.value=!1,D.value=!0):s=="priceHour"&&(W.value?(A.value=!A.value,l.value.sort(A.value?f(s):v(s))):l.value.sort(v(s)),C.value=!1,V.value=!1,w.value=!1,E.value=!1,W.value=!0,q.value=!1,D.value=!1),l.value.length<10)R.value=l.value.slice(0,10);else{const u=g.value*10;R.value=l.value.slice(u-10,u)}},fs=s=>{s=="label"?(X.value=!X.value,Q.value=!1):s=="select"?(Q.value=!Q.value,X.value=!1):(Q.value=!1,X.value=!1)},ks=s=>{const l=[];l.push(as.value),ns.value.forEach((u,c)=>{u!=s&&l.push(u)}),ns.value=l,as.value=s,s=="TVL"?p.value.sort(v("tvl_in_usd")):s=="Volume (24H)"?p.value.sort(v("vol_in_usd_24h")):s=="Volume (7D)"?p.value.sort(v("vol_in_usd_7_day")):s=="APR"&&p.value.sort(v("aprNum"))},gs=s=>{const l=[];l.push(rs.value),ts.value.forEach((u,c)=>{u!=s&&l.push(u)}),ts.value=l,rs.value=s,s=="TVL"?R.value.sort(v("tvl_in_usd")):s=="Volume (24H)"?R.value.sort(v("vol_in_usd_24h")):s=="Price"?R.value.sort(v("price")):s=="Price Change"&&R.value.sort(v("priceHour"))};us(h,()=>{T.value,Z(k.value,10)});const Z=(s,l)=>{k.value=s;const u=l*s-l;let c=l*s;c=c>h.value.length?h.value.length:c;const n=h.value;if(n.length>0){$.value&&!b.value?n.sort(Ts):$.value&&b.value?n.sort(ys):j.value?P.value?n.sort(Ps):n.sort(Ls):B.value?H.value?n.sort(Hs):n.sort(bs):U.value&&(I.value?n.sort(Is):n.sort(ws));const M=n.filter((z,N)=>N>=u&&N<c);p.value=M}return n},Ts=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Ls=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,bs=(s,l)=>l.vol_in_usd_7_day-s.vol_in_usd_7_day,ws=(s,l)=>l.aprNum-s.aprNum,ys=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Ps=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,Hs=(s,l)=>s.vol_in_usd_7_day-l.vol_in_usd_7_day,Is=(s,l)=>s.aprNum-l.aprNum;let R=d([]);const G=x(()=>{const s=K.value.topTokensList,l=[];for(let u=0;u<s.length;u++){const c=s[u];l.push({...c,priceHour:c?Number(c.price_rate_24h.substring(0,c.price_rate_24h.length-1)):"0"})}return l});us(G,()=>{T.value,m(g.value,10)});const m=(s,l)=>{g.value=s;const u=l*s-l;let c=l*s;c=c>G.value.length?G.value.length:c;const n=G.value;if(n.length>0){D.value&&!w.value?n.sort($s):D.value&&w.value?n.sort(Ds):E.value?C.value?n.sort(Rs):n.sort(Cs):W.value?A.value?n.sort(Ns):n.sort(As):q.value&&(V.value?n.sort(Ss):n.sort(Vs));const M=n.filter((z,N)=>N>=u&&N<c);R.value=M}return n},$s=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Cs=(s,l)=>l.price-s.price,As=(s,l)=>l.priceHour-s.priceHour,Vs=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Ds=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Rs=(s,l)=>s.price-l.price,Ns=(s,l)=>s.priceHour-l.priceHour,Ss=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h;return us(()=>K.value.chainName,s=>{s=="Sui"&&O.push("/swap")},{immediate:!0}),{getRewarderInfo:s=>{const l=s.swap_account;return t.value.addressLpTokens&&t.value.addressLpTokens[l]&&t.value.addressLpTokens[l].rewarder_infos},addCommom:zs,store:K,importIcon:Fs,topPoolsList:h,addressTokens:vs,showEcharts:ls,currentPools:k,onChangePools:Z,currentTopPoolsList:p,onChangeTokens:m,currentTokens:g,currentTopTokensList:R,topTokensList:G,router:O,isPc:T,getAprTotal:(s,l)=>s&&l?is(Qs.plus(ds(s),ds(l)),2)+"%":s,getRewarderApr:s=>{let l=0;return s&&s.forEach(u=>{l+=ds(String(u))}),String(is(String(l),2))},toPoolsList:()=>{O&&O.push("/stats-pools")},toTokensList:()=>{O&&O.push("/stats-tokens")},changePoolsList:ps,changeTokensList:hs,tvlImprint:b,volHImprint:P,volDImprint:H,aprImprint:I,tokensPriceImprint:C,tokensPriceHImprint:A,tokensVolHImprint:V,tokensTvlImprint:w,labelToken:X,select:Q,selectValue:as,selectList:ns,reviseValue:fs,changeSort:ks,tokenValue:rs,tokensList:ts,changeSortLabel:gs,tvlImprintHighlight:$,volHImprintHighlight:j,volDImprintHighlight:B,aprImprintHighlight:U,tokensPriceImprintHighlight:E,tokensPriceHImprintHighlight:W,tokensVolHImprintHighlight:q,tokensTvlImprintHighlight:D,getLabel:s=>{const l=s.swap_account;return t.value.addressLpTokens&&t.value.addressLpTokens[l]&&t.value.addressLpTokens[l].labels},rewardApr:s=>{if(!Y(s)&&!Y(t.value.addressLpTokens)&&!Y(t.value.newTokenObj)){const l=s.swap_account,u=t.value.addressLpTokens[l];let c=u.rewarder_infos||[];const n=[];c.forEach((z,N)=>{n.push({...z,symbol:t.value.newTokenObj[z.coinAddress].symbol,rewarderApr:s.rewarder_apr[N],logoUrl:t.value.newTokenObj[z.coinAddress].logoURI,rewarder_display:u[`rewarder_display${N+1}`]})});let M=[];return M=n.filter(z=>z.rewarder_display),M}},getsad:e,rewardDisplay:s=>{if(!Y(s)&&!Y(t.value.addressLpTokens)&&!Y(t.value.newTokenObj)){const l=t.value.addressLpTokens[s.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1}}}});const y=o=>(Ys("data-v-886a972f"),o=o(),Js(),o),Zs={class:"stats-container"},ms={class:"title"},xs={class:"top-pools-new"},se={class:"sort-by"},ee=y(()=>a("img",{src:cs,alt:""},null,-1)),oe=y(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),le=[oe],ae={key:0,class:"select-item"},ne=["onClick"],re=y(()=>a("img",{src:cs,alt:""},null,-1)),te={class:"content"},ue={class:"item"},de=y(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ve=[de],ie=y(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),_e=[ie],ce=y(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),pe=[ce],he=y(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),fe=[he],ke={class:"apr-hover-content"},ge=y(()=>a("span",null,"\xA0",-1)),Te={class:"token"},Le=["src"],be=["src"],we={class:"name"},ye={class:"token-name"},Pe={class:"fee-tier-top"},He={class:"label-all"},Ie={key:0},$e={class:"tvl"},Ce={class:"volume-hour"},Ae={class:"volume-day"},Ve={class:"apr"},De={key:0,class:"apr-hover-content"},Re={class:"btn-box"},Ne={class:"top"},Se={class:"token"},Oe=["src"],je=["src"],Be={class:"name"},Ue={class:"token-name"},Ee={class:"label-all"},We={key:0},qe={class:"fee-tier-hint"},ze={class:"middle"},Fe={class:"item-pools"},Ge={class:"item-pools"},Me={class:"item-pools"},Ye={class:"item-pools"},Je=y(()=>a("span",null,"APR",-1)),Ke={class:"bottom"},Qe={class:"panation"};function Xe(o,t,vs,os,K,O){const ls=Os,k=js,g=Ks,T=Ms;return i(),_("div",Zs,[a("div",ms,[J(ls),L(" "+r(o.$t("menu.pools")),1)]),a("div",xs,[a("div",se,[a("div",null,r(o.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:t[0]||(t[0]=e=>o.reviseValue("select"))},[a("div",null,[L(r(o.selectValue)+" ",1),ee]),(i(),_("svg",{"aria-hidden":"true",class:F(o.select?"show-icon icon":"icon")},le,2)),o.select?(i(),_("div",ae,[(i(!0),_(ss,null,es(o.selectList,(e,p)=>(i(),_("div",{key:p,class:"select-menu-item",onClick:h=>o.changeSort(e)},[L(r(e)+" ",1),re],8,ne))),128))])):S("",!0)])]),a("div",te,[a("div",ue,[a("span",null,r(o.$t("newAdd.pool")),1),a("span",{onClick:t[1]||(t[1]=e=>o.changePoolsList("tvl_in_usd"))},[L(r(o.$t("common.tvl"))+" ",1),(i(),_("svg",{"aria-hidden":"true",class:F(["pools-icon",o.tvlImprint?o.tvlImprintHighlight?"selected highlight":"selected":o.tvlImprintHighlight?"highlight":""])},ve,2))]),a("span",{onClick:t[2]||(t[2]=e=>o.changePoolsList("vol_in_usd_24h"))},[L(r(o.$t("common.volume24H"))+" ",1),(i(),_("svg",{"aria-hidden":"true",class:F(["pools-icon",o.volHImprint?o.volHImprintHighlight?"selected highlight":"selected":o.volHImprintHighlight?"highlight":""])},_e,2))]),a("span",{onClick:t[3]||(t[3]=e=>o.changePoolsList("vol_in_usd_7_day"))},[L(r(o.$t("newAdd.volume7D"))+" ",1),(i(),_("svg",{"aria-hidden":"true",class:F(["pools-icon",o.volDImprint?o.volDImprintHighlight?"selected highlight":"selected":o.volDImprintHighlight?"highlight":""])},pe,2))]),a("span",{onClick:t[4]||(t[4]=e=>o.changePoolsList("aprNum"))},[L(" APR "),(i(),_("svg",{"aria-hidden":"true",class:F(["pools-icon",o.aprImprint?o.aprImprintHighlight?"selected highlight":"selected":o.aprImprintHighlight?"highlight":""])},fe,2)),a("div",ke,[J(k,{class:"noHover apr-hover-con"})])]),ge]),(i(!0),_(ss,null,es(o.currentTopPoolsList,(e,p)=>{var h;return i(),_("div",{key:p,class:"item pc-item"},[a("div",Te,[e!=null&&e.token_a_address?(i(),_("img",{key:0,src:o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol.toLowerCase()}.png`)},null,8,Le)):S("",!0),e!=null&&e.token_b_address?(i(),_("img",{key:1,src:o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol.toLowerCase()}.png`)},null,8,be)):S("",!0),a("div",we,[a("p",ye,r(o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol)+" - "+r(o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol),1),a("div",Pe,r((e==null?void 0:e.fee)*100)+"%",1),a("div",He,[(i(!0),_(ss,null,es(o.getLabel(e),(f,v)=>(i(),_("div",{key:v,class:F(["label",f])},[f!=="Native"?(i(),_("span",Ie,r(f),1)):S("",!0)],2))),128))])])]),a("div",$e," $"+r(e.tvl_in_usd?o.addCommom(e.tvl_in_usd,2):"--"),1),a("div",Ce," $"+r(e!=null&&e.vol_in_usd_24h?o.addCommom(e==null?void 0:e.vol_in_usd_24h,2):"--"),1),a("div",Ae," $"+r(e!=null&&e.vol_in_usd_7_day?o.addCommom(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1),a("div",Ve,[L(r(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)))+" ",1),((h=o.rewardApr(e))==null?void 0:h.length)!=0?(i(),_("div",De,[J(k,{class:"noHover apr-hover-con","l-item":{apr:e.apr_7day,aprTotal:o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)),is_display_rewarder:o.rewardDisplay(e),rewarder_apr:o.getRewarderApr(e.rewarder_apr)},"rewarder-info":o.rewardApr(e)},null,8,["l-item","rewarder-info"])])):S("",!0)]),a("div",Re,[J(g,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:_s(()=>[L(r(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(i(!0),_(ss,null,es(o.currentTopPoolsList,(e,p)=>(i(),_("div",{key:p,class:"item h5-item"},[a("div",Ne,[a("div",Se,[e!=null&&e.token_a_address?(i(),_("img",{key:0,src:o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol.toLowerCase()}.png`)},null,8,Oe)):S("",!0),e!=null&&e.token_b_address?(i(),_("img",{key:1,src:o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol.toLowerCase()}.png`)},null,8,je)):S("",!0),a("div",Be,[a("p",Ue,r(o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol)+" - "+r(o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol),1),a("div",Ee,[(i(!0),_(ss,null,es(o.getLabel(e),(h,f)=>(i(),_("div",{key:f,class:F(["label",h])},[h!=="Native"?(i(),_("span",We,r(h),1)):S("",!0)],2))),128))])])]),a("div",qe,r((e==null?void 0:e.fee)*100)+"%",1)]),a("div",ze,[a("div",Fe,[a("span",null,r(o.$t("common.tvl")),1),a("p",null," $"+r(e.tvl_in_usd?o.addCommom(e.tvl_in_usd,2):"--"),1)]),a("div",Ge,[a("span",null,r(o.$t("common.volume24H")),1),a("p",null," $"+r(e!=null&&e.vol_in_usd_24h?o.addCommom(e==null?void 0:e.vol_in_usd_24h,2):"--"),1)]),a("div",Me,[a("span",null,r(o.$t("common.volume7D")),1),a("p",null," $"+r(e!=null&&e.vol_in_usd_7_day?o.addCommom(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1)]),a("div",Ye,[Je,a("p",null,r(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr))),1)])]),a("div",Ke,[J(g,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:_s(()=>[L(r(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])]))),128))]),a("div",Qe,[J(T,{current:o.currentPools,"onUpdate:current":t[5]||(t[5]=e=>o.currentPools=e),"page-size":(o.isPc,10),simple:"",total:o.topPoolsList.length,onChange:o.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const io=Gs(Xs,[["render",Xe],["__scopeId","data-v-886a972f"]]);export{io as default};
