import{_ as At}from"./back.cda724a4.js";import{_ as Nt}from"./refresh-icon.6f1e445c.js";import{_ as qt}from"./swap-setting.242fb32a.js";import{u as yo,a as Lt,c as In}from"./sha256.59ac16b7.js";import{u as bn,c as Co,e as An,d as Ue,i as Yn,t as xn,j as gn,n as Sn,a as Ye,k as Tn,s as Qo,b as ho,l as et,p as ot}from"./pool.3f0a232e.js";import{a as wo,r as f,H as kn,K as Mt,l as z,q as be,b as rt,e as Po,o as r,f as m,h as a,v as c,i as ve,A as ge,c as ce,x as C,p as xo,k as en,s as Nn,t as uo,j as je,I as st,m as ut,w as Ee,M as Rt,u as Se,B as dt,N as Ut,O as nt,F as Ao,E as Yo,S as ct,y as Ot,z as $n,P as Bt}from"./entry.115b9c6f.js";import{i as Ke}from"./import-icon.de3e6c66.js";import{_ as Ft}from"./assets-card.e947d324.js";import{_ as jt}from"./coin-lock.c91e18cb.js";import{_ as _t}from"./img-lock_2x.a28135f4.js";import{_ as Wt}from"./img-lock_2x.7305068d.js";import{_ as Ht,a as Et}from"./new-add-or-create.aebc287c.js";import{_ as Dt}from"./network-tips.1985be5b.js";/* empty css              *//* empty css              */import{D as h}from"./decimal.0bdeb344.js";import{s as fn,m as zt,l as Xt,b as Vt,a as Kt}from"./transform.c672907f.js";import{_ as Zt}from"./apr-tab.49ac231c.js";import{_ as Gt}from"./token-warning.121922db.js";import{_ as Jt}from"./apr-tips.35c4e8b1.js";/* empty css              */import{p as Qt}from"./precision.9d58cda5.js";import{_ as Yt}from"./coin-select.5ce440f6.js";import{_ as xt}from"./viewDetail.24969cce.js";import{a as ea,s as oa,_ as na}from"./poolFee.0c439090.js";import{_ as ta}from"./token-warning-modal.26829daf.js";/* empty css              */import{u as aa}from"./notifi.5776dfeb.js";import{_ as tt,a as at}from"./icon-Add-Liquidity_2x.0acb06cb.js";import{_ as vt}from"./icon-selected_3x.09e9a6f0.js";import{_ as pt,a as mt}from"./img-no-data_2x.64af8487.js";/* empty css              *//* empty css              */import"./icon-error_2x.d9f16792.js";import"./status-block.df02a771.js";import"./index.2e2b28e2.js";import"./img-no-Positions_2x.a1a5b687.js";import"./icon-arrow_2x.948aedb2.js";import"./icon-arrow_2x.4ffddb8e.js";import"./useWhale.013809f5.js";import"./index.485dafdb.js";const ia=wo({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,n){const _=f(!1),H=f(null),B=f(0),J=f(20),Q=bn(),te=yo(),E=f(!1);kn(()=>{}),Mt(()=>{clearInterval(H.value)});const Y=()=>{H.value=setInterval(()=>{var N;E.value||B.value<J.value&&(B.value+=1,B.value===J.value&&((N=e==null?void 0:e.poolInfo)!=null&&N.poolAddress&&Q.updateCurrentPools(e.poolInfo.poolAddress,te.chainName),B.value=0))},1e3)},ee=z(()=>te.slippage),F=()=>{n.emit("clearAll")},ie=()=>{B.value=0,n.emit("clickRefresh")};be(()=>e.poolInfo,N=>{N&&!H.value&&Y()},{immediate:!0});const Pe=rt();return{clickRefresh:ie,isShowSwapSetting:_,countdown:B,autoRefreshTime:J,slippage:ee,clearAll:F,checkNullObj:Co,router:Pe}}});const la=e=>(xo("data-v-f484e6e0"),e=e(),en(),e),ra={class:"title"},sa={class:"left"},ua=la(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),da={class:"deposit-progress"};function ca(e,n,_,H,B,J){var E,Y;const Q=Nt,te=qt;return r(),m("div",ra,[a("div",sa,[a("span",null,c(e.poolInfo?e.$t("common.concentratedLiquidity"):(Y=(E=e.$route)==null?void 0:E.query)!=null&&Y.action?e.$t("newAdd.createClmmPool"):e.$t("common.concentratedLiquidity")),1)]),a("div",{class:ge(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[a("div",{class:"slippage-icon",onClick:n[0]||(n[0]=ee=>e.isShowSwapSetting=!0)},[ua,a("span",null,c(e.slippage)+"%",1)]),a("div",da,[ve(Q,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])],2),e.isShowSwapSetting?(r(),ce(te,{key:0,onOnClose:n[1]||(n[1]=ee=>e.isShowSwapSetting=!1)})):C("",!0)])}const va=Po(ia,[["render",ca],["__scopeId","data-v-f484e6e0"]]);const pa=wo({props:{coinIcon:{type:String,default:""},coin:{type:Object,default:()=>({})}},setup(e){const n=yo(),_=z(()=>n),H=f(""),B=f(""),J=f(""),Q=bn(),te=z(()=>Q),E=f(""),Y=F=>{var ie;E.value=(F==null?void 0:F.logoURI)||(F==null?void 0:F.logo_url)||((ie=te.value.tokensObj[F==null?void 0:F.address])==null?void 0:ie.logo_url)||(_.value.theme==="default"?Ke("/image/coins/unknown.png"):Ke("/image/coins/sui-unknown.png"))};be(()=>[e.coin,te.value.tokensObj],([F,ie])=>{var Pe;F?(B.value=ie&&ie[F.address]&&((Pe=ie[F.address])==null?void 0:Pe.labels),H.value=F.name,J.value=F.symbol,Y(F)):(B.value="",H.value="",J.value="",E.value="")},{immediate:!0,deep:!0});const ee=z(()=>{var F,ie,Pe;return e.coinIcon||((Pe=(ie=te==null?void 0:te.value)==null?void 0:ie.tokensObj[(F=e.coin)==null?void 0:F.address])==null?void 0:Pe.logo_url)||(_.value.theme==="default"?Ke("/image/coins/unknown.png"):Ke("/image/coins/sui-unknown.png"))});return{store:_,importIcon:Ke,coinName:H,coinLabels:B,coinSymbol:J,currentIcon:ee,coinLogo:E,getCoinIcon:Y}}}),ma=e=>(xo("data-v-0da5c5b4"),e=e(),en(),e),fa={class:"coin-block"},ga={class:"coin-info"},ba={class:"symbol"},ka={key:0,class:"name"},ha={key:0,class:"label"},Ca=ma(()=>a("div",null,[a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_on"})])],-1));function ya(e,n,_,H,B,J){const Q=Nn("image");return r(),m("div",fa,[a("div",null,[uo(a("img",null,null,512),[[Q,e.coinLogo]]),a("div",ga,[a("div",ba,c(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinName?(r(),m("div",ka,[je(c(e.coin.name)+" ",1),e.store.theme=="default"?(r(),m("span",ha,c(e.coinLabels?`(${e.coinLabels})`:""),1)):C("",!0)])):C("",!0)])]),Ca])}const wa=Po(pa,[["render",ya],["__scopeId","data-v-0da5c5b4"]]),Pa=wo({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})},showfromCoinLock:{type:Boolean,default:!1},showtoCoinLock:{type:Boolean,default:!1}},setup(){const e=yo();return{storeIndex:z(()=>e)}}});const Ia={class:"create-pool-lock"},Ta={key:0,src:_t,alt:""},$a={key:1,src:Wt,alt:""};function Sa(e,n,_,H,B,J){return r(),m("div",Ia,[a("div",null,[e.storeIndex.theme=="default"?(r(),m("img",Ta)):(r(),m("img",$a))])])}const Aa=Po(Pa,[["render",Sa],["__scopeId","data-v-5d070e17"]]),Na=wo({props:{clickClear:{type:Boolean,default:!1},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},intPrice:{type:String,default:""}},setup(e,n){const _=f("");return{inpValue:_,changecurrentPrice:B=>{const J=new RegExp("[^\\d-]*(\\d*(?:\\.\\d*)?).*$");B.target.value=B.target.value.replace(J,"$1"),_.value=B.target.value,n.emit("changecurrentPrice",_.value)}}}});const qa={class:"set-init-price"},La={class:"init-price-tips"};function Ma(e,n,_,H,B,J){var te,E,Y,ee;const Q=st;return r(),m("div",qa,[ve(Q,{type:"text",placeholder:"0.0",value:e.intPrice,disabled:!((E=(te=e.$route)==null?void 0:te.query)!=null&&E.fee),onChange:e.changecurrentPrice},null,8,["value","disabled","onChange"]),a("div",La,c((Y=e.toCoin)==null?void 0:Y.symbol)+" per "+c((ee=e.fromCoin)==null?void 0:ee.symbol),1)])}const Ra=Po(Na,[["render",Ma],["__scopeId","data-v-9e71be9e"]]),Ua=wo({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,n){const _=f(""),H=f("");let B=f(""),J=f("");const Q=ut(),te=yo(),E=z(()=>te),Y=z(()=>E.value.chainName?An(E.value.chainName):{}),ee=()=>{if(!(Number.isNaN(_.value)||Number(_.value)!==0&&!_.value||!e.poolInfo.tickSpacing))try{const g=Yn(new h(_.value.toString()),Number(N.value.tickSpacing)),W=xn(g+Number(N.value.tickSpacing));if(e.pType=="Min"&&Number(W.toString())>=Number(J.value.toString()))return;const T=W.toString();n.emit("onInput",T)}catch{n.emit("onInput","")}},F=()=>{try{if(Number.isNaN(_.value)||!_.value||!e.poolInfo.tickSpacing)return;const g=Yn(new h(_.value),Number(N.value.tickSpacing)),W=xn(g-Number(N.value.tickSpacing)),T=W.toString();if(e.pType=="Max"&&Number(W)<=Number(B.value))return;n.emit("onInput",T)}catch{n.emit("onInput","")}},ie=g=>{let W=g.toString().replace(/[^\d.]/g,"");const T=/^\d+(\.\d+)?$/;W.split(".").length>2&&!T.exec(W)&&(W=W.substr(0,W.length-1)),H.value=String(W)},Pe=g=>{var X,Ce,Ne,de;const{TickUtil:W,TickMath:T,getNearestTickByTick:k}=Y.value,i=g.target.value;let p;if(i==="0"){p=-443636,n.emit("onInput","0");return}else{const j=T.priceToTickIndex(new h(i),(X=N.value.token_a)==null?void 0:X.decimals,(Ce=N.value.token_b)==null?void 0:Ce.decimals);p=k(Number(j),Number(N.value.tickSpacing))}const O=T.tickIndexToPrice(new h(p),(Ne=N.value.token_a)==null?void 0:Ne.decimals,(de=N.value.token_b)==null?void 0:de.decimals);n.emit("onInput",O.toString())};be(()=>e.defaultMinPrice,(g,W)=>{g!==W&&(B.value=e.defaultMinPrice)},{immediate:!0}),be(()=>e.defaultMaxPrice,(g,W)=>{g!==W&&(J.value=e.defaultMaxPrice)},{immediate:!0}),be(()=>H.value,g=>{},{immediate:!0}),be(()=>[e.inputValue,Q.query.action],([g])=>{if(g&&g!=="0"&&g!=="∞"){_.value=g;const T=g.toString().split(".")[1];H.value=g!=="0"&&g!=="∞"&&T&&T.length>6?Ue(g.toString(),6):g.toString()}else(g=="0"||g=="∞"||Q.query.action)&&(H.value=g)},{immediate:!0});const N=f({});be(()=>e.poolInfo,(g,W)=>{g&&(N.value=g)},{immediate:!0});const xe=f("");return be(()=>e.currentPriceTab,g=>{xe.value=g},{immediate:!0}),{addPrice:ee,minusPrice:F,oValue:H,changeValue:ie,isDisabled:xe,route:Q,onBlur:Pe}}});const Oa={class:"set-price-item"},Ba={class:"title"},Fa={class:"input-box"},ja={class:"minus-btn"},_a=["disabled"],Wa={class:"plus-btn"};function Ha(e,n,_,H,B,J){const Q=st,te=Rt;return r(),m("div",Oa,[a("div",Ba,c(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),ve(te,{loading:e.loading,active:"",paragraph:!1},{default:Ee(()=>[a("div",Fa,[a("a",ja,[a("div",{class:ge(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),disabled:e.isDisabled!=="Custom",onClick:n[0]||(n[0]=(...E)=>e.minusPrice&&e.minusPrice(...E))},null,10,_a)]),ve(Q,{id:"pValu",value:e.oValue,"onUpdate:value":n[1]||(n[1]=E=>e.oValue=E),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:n[2]||(n[2]=E=>e.changeValue(E.target.value)),onBlur:n[3]||(n[3]=E=>e.onBlur(E))},null,8,["value","disabled"]),a("a",Wa,[a("div",{class:ge(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:n[4]||(n[4]=(...E)=>e.addPrice&&e.addPrice(...E))},null,2)])])]),_:1},8,["loading"]),a("p",{class:ge(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},c(e.toCoin&&e.toCoin.symbol)+" per "+c(e.fromCoin&&e.fromCoin.symbol),3)])}const it=Po(Ua,[["render",Ha],["__scopeId","data-v-4029f5b6"]]),Ea=wo({props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,n){let _=f(""),H=f(""),B=f(),J=f(!1),Q=f(!1);const te=f({}),E=yo(),Y=z(()=>E);kn(()=>{_.value=e.min,H.value=e.max}),be(()=>e.currentPriceTab,(g,W)=>{g!==W&&(B.value=e.currentPriceTab)},{immediate:!0}),be(()=>e.min,(g,W)=>{g!==W&&(_.value=g)}),be(()=>e.max,(g,W)=>{g!==W&&(H.value=g)}),be(()=>e.poolInfo,(g,W)=>{g&&(te.value=g)},{immediate:!0});const ee=f("");be(()=>e.intPrice,g=>{ee.value=g},{immediate:!0,deep:!0});const F=g=>{_.value=g,n.emit("onChangeMinPrice",g)},ie=g=>{H.value=g,n.emit("onChangeMaxPrice",g)};be(J,(g,W)=>{g!==W&&n.emit("onChangeFullRange",g)});const Pe=()=>{_.value=e.defaultMinPrice,H.value=e.defaultMaxPrice,Q.value=!1,J.value=!1},N=()=>{Q.value=!1,_.value="0",H.value="∞"};return be(J,(g,W)=>{g!==W&&n.emit("onChangeFullRange",g)}),{store:Y,changeMinPrice:F,changeMaxPrice:ie,importIcon:Ke,resetPrice:Pe,changeShowUnderStand:()=>{J.value=!J.value,J.value?Q.value=!0:Pe(),Q.value||(_.value=e.defaultMinPrice,H.value=e.defaultMaxPrice)},showUnderStand:Q,minPrice:_,maxPrice:H,understand:N,isRadio:J,initPirce:ee}}});const Da={class:"set-price"},za={class:"card-container"},Xa={key:0,class:"card"},Va=["src"],Ka={key:1,class:"understand"},Za={class:"left"},Ga={class:"right"};function Ja(e,n,_,H,B,J){const Q=it,te=it,E=dt;return r(),m("div",Da,[a("div",za,[e.showUnderStand?(r(),m("div",Ka,[a("div",Za,[a("p",null,c(e.$t("common.lowerEfficiency")),1),a("p",null,c(e.$t("common.lowerEfficiencyTips")),1)]),a("div",Ga,[ve(E,{onClick:e.understand},{default:Ee(()=>[je(c(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(r(),m("div",Xa,[ve(Q,{value:e.minPrice,"onUpdate:value":n[0]||(n[0]=Y=>e.minPrice=Y),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),ve(te,{value:e.maxPrice,"onUpdate:value":n[1]||(n[1]=Y=>e.maxPrice=Y),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"]),a("img",{src:("importIcon"in e?e.importIcon:Se(Ke))("/image/lmg-line@2x.png"),alt:""},null,8,Va)]))])])}const Qa=Po(Ea,[["render",Ja],["__scopeId","data-v-d07618c3"]]);function lt(e,n,_){const H=new h(10).pow(n-_);return new h(1.0001).pow(e).mul(H)}const Ya=wo({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,n){const _=f(1),H=f(""),B=f(""),J=z(()=>{var i,p,O;return F.sqrtPriceX64ToPrice((i=e.poolInfo)==null?void 0:i.current_sqrt_price,(p=e.poolInfo)==null?void 0:p.coinA.decimals,(O=e.poolInfo)==null?void 0:O.coinB.decimals).toString()}),Q=z(()=>{let i=0;return e.direction?i=(Number(e.minPrice)/Number(J.value)-1)*100:i=(Number(e.minPrice)/Number(1/Number(J.value))-1)*100,i=i>0&&i<.1?.1:i,i=i<0&&i>-.1?-.1:i,i}),te=z(()=>{let i=0;return e.direction?i=(Number(e.maxPrice)/Number(J.value)-1)*100:i=(Number(e.maxPrice)/Number(1/Number(J.value))-1)*100,i=i>0&&i<.1?.1:i,i=i<0&&i>-.1?-.1:i,i}),E=yo(),Y=z(()=>E),ee=z(()=>Y.value.chainName?An(Y.value.chainName):{}),{TickMath:F,getNearestTickByTick:ie}=ee.value,Pe=()=>{const i=_.value/2;_.value=i,g(e.poolInfo,i)},N=()=>{const i=_.value*2;_.value=i,g(e.poolInfo,i)},xe=(i=[])=>{let p=6;const O=Math.abs(Number(i[0])-Number(i[i.length-1]));return O>=6?p=0:O>=1?p=1:O>=.1?p=2:O>=.01?p=3:O>=.001?p=4:O>=1e-4?p=5:O>=1e-5?p=6:O>=1e-6?p=7:O>=1e-7&&(p=8),p},g=(i,p=1)=>{if(i&&i.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const O=Number(e.poolInfo.current_tick_index);let X=O+100*p,Ce=O-100*p,Ne,de;if(e.maxPrice==="∞")de=ee.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?de=F.priceToTickIndex(new h(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):de=F.priceToTickIndex(new h(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{de=443636}if(e.minPrice==="0")Ne=ee.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?Ne=F.priceToTickIndex(new h(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):Ne=F.priceToTickIndex(new h(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{Ne=-443636}let j=0;if(e.currentPriceTab!=="full range"){if(O>=Ne&&O<=de){const x=O-Ne,M=de-O;j=Math.max(Math.abs(x),Math.abs(M))}else O<Ne?j=Math.abs(de-O):j=Math.abs(O-Ne);X=O+j+100*p,Ce=O-j-100*p}else{const x=(Math.abs(O)>5e3,2e4);X=O+x*p,Ce=O-x*p}Ce<-443636&&(Ce=-443636),X>443636&&(X=443636);const ae=new h(i.liquidity).div(Math.pow(10,8)).toString(),V=e.tickList,ne=[],_e=[];let K={};for(let x=0;x<V.length;x++){if(K=V[x],K.index<=O&&K.index>=Ce){if(ne.length<1&&x!==0){const M=V[x-1];ne.unshift({...M,index:Ce})}ne.unshift(K)}else if(K.index>O&&K.index<=X&&(_e.push(K),ne.length<1&&x!==0)){const M=V[x-1];ne.push({...M,index:Ce})}if(K.index>X){const M=V[x];if(_e.push({...M,index:X}),ne.length<1&&x!==0){const Io=V[x-1];ne.push({...Io,index:Ce})}break}}let Ie="0";for(let x=ne.length-1;x>=0;x--)Ie=new h(Ie).plus(new h(ne[x].liquidityNet.toString()).div(Math.pow(10,8))).toString(),ne[x].liquityAmount=Ie;let pe=ae;for(let x=0;x<_e.length;x++)pe=new h(pe).plus(new h(_e[x].liquidityNet.toString()).div(Math.pow(10,8))).toString(),_e[x].liquityAmount=pe;let Le=[];const le=V&&V.length>0?{index:O,liquityAmount:Number(ae)}:{index:O,liquityAmount:0};(ne.length>0||_e.length>0)&&(Le=[...ne.reverse(),le,..._e],e.direction||(Le=Le.reverse()));const De=[];V.forEach(x=>{De.push({...x,liquidityGross:x.liquidityGross.toString(),liquidityNet:x.liquidityNet.toString()})}),T(Le,Ce,X,Ne,de,O)}};let W=f(!1);kn(()=>{document.body.clientWidth<750?W.value=!1:W.value=!0,window.onresize=()=>{document.body.clientWidth<750?W.value=!1:W.value=!0,g(e.poolInfo,_.value)}});const T=(i,p,O,X,Ce,Ne)=>{let de,j;e.direction?(de=e.before7dContractPriceLowest&&Number(e.before7dContractPriceLowest)>0?F.priceToTickIndex(new h(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",j=e.before7dContractPriceHighest&&Number(e.before7dContractPriceHighest)>0?F.priceToTickIndex(new h(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(de=e.before7dContractPriceLowest&&Number(e.before7dContractPriceLowest)>0?F.priceToTickIndex(new h(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",j=e.before7dContractPriceHighest&&Number(e.before7dContractPriceHighest)>0?F.priceToTickIndex(new h(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const ae={top:30,right:35,bottom:20,left:55};let V,ne;W.value?(V=460-ae.left-ae.right,ne=205-ae.top-ae.bottom):(V=340-ae.left-ae.right,ne=205-ae.top-ae.bottom);const _e=O-p,K=parseInt(String(_e/4));let Ie=[p+K/4,p+K,p+2*K,O-K,O-K/4];const pe=p,Le=O,le=V/(Le-pe);e.currentPriceTab==="full range"&&(Ie=[p,p+2*K,O]);const De=Ie.map(R=>e.direction?lt(R,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new h(1).div(lt(R,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString()),x=xe(De);fn("#chart").selectAll("*").remove();const M=fn("#chart").attr("width",V+ae.left+ae.right).attr("height",ne+ae.top+ae.bottom).append("g").attr("transform",`translate(${ae.left},${ae.right})`),Io=zt(i,function(R){return Number(Math.abs(R.liquityAmount))})||0,S=Xt().range([0,ne]).domain([Io,0]);Vt().rangeRound([0,V]).padding(.1);const No=M.append("g").attr("id","barsBox").selectAll("rect").data(i).enter().append("rect");Y.value.theme=="default"?No.attr("x",function(R,P){return P===0?0:e.direction?Math.abs(R.index-pe)*le:Math.abs(Le-R.index)*le}).attr("y",function(R,P){return e.direction?P===i.length-1?0:S(R.liquityAmount):P===i.length-1?0:S(i[P+1].liquityAmount)}).attr("width",function(R,P){return P===0&&i.length===1&&R.liquityAmount>0?V:(e.direction,P!==i.length-1?Math.abs(i[P+1].index-R.index)*le:0)}).attr("height",function(R,P){return P===0&&i.length===1&&R.liquityAmount>0?ne:e.direction?P===i.length-1?0:ne-S(R.liquityAmount):P===i.length-1?0:ne-S(i[P+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):No.attr("x",function(R,P){return P===0?0:e.direction?Math.abs(R.index-pe)*le:Math.abs(Le-R.index)*le}).attr("y",function(R,P){return e.direction?P===i.length-1?0:S(Math.abs(R.liquityAmount)):P===i.length-1?0:S(Math.abs(i[P+1].liquityAmount))}).attr("width",function(R,P){return P===0&&i.length===1&&R.liquityAmount>0?V:(e.direction,P!==i.length-1?Math.abs(i[P+1].index-R.index)*le:0)}).attr("height",function(R,P){if(P===0&&i.length===1&&R.liquityAmount>0)return ne;if(e.direction)return P===i.length-1?0:Number(R.liquityAmount)?ne-S(Math.abs(R.liquityAmount)):0;{if(P===i.length-1)return 0;const oo=ne-S(Math.abs(i[P+1].liquityAmount));return Number(i[P+1].liquityAmount)?oo:0}}).attr("fill","#407497").attr("class","bars").attr("stroke-width",1).attr("stroke","#407497");const qo=M.append("g");qo.append("line").attr("x1",0).attr("y1",155).attr("x2",V).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const To=qo.append("g");let $o=0;if(e.direction){for(let R=0;R<Ie.length;R++){const P=Ue(De[R],x)||"0";De.push(P);const oo=Math.abs(Ie[R]-pe)*le;let Me=0;for(let ke=0;ke<P.length;ke++)P[ke]==="1"?Me+=4.02:P[ke]==="."?Me+=2.64:P[ke]==="7"?Me+=5.48:Me+=6;To.append("text").text(P).attr("x",oo-Me/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}$o=Math.abs(Ne-pe)*le}else{for(let R=Ie.length-1;R>=0;R--){const P=Ue(De[R],x)||0;De.push(P);const oo=Math.abs(Ie[R]-Le)*le;let Me=0;for(let ke=0;ke<P.length;ke++)P[ke]==="1"?Me+=4.02:P[ke]==="."?Me+=2.64:P[ke]==="7"?Me+=5.48:Me+=6;To.append("text").text(P).attr("x",oo-Me/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}$o=Math.abs(Ne-Le)*le}(Y.value.theme=="default"?M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+$o+", 0)");let eo,We,vo,po;e.direction?(eo=X<pe?-100:parseInt(String(Math.abs(X-pe)*le)),We=Ce<pe?-100:parseInt(String(Math.abs(Ce-pe)*le)),vo=de<pe?-100:Math.abs(de-pe)*le,po=j<pe?-100:Math.abs(j-pe)*le):(We=X<pe?-100:Math.abs(Le-X)*le,eo=Ce<pe?-100:Math.abs(Le-Ce)*le,po=de<pe?-100:Math.abs(Le-de)*le,vo=j<pe?-100:Math.abs(Le-j)*le),e.minPrice==="0"&&(eo=0),e.maxPrice==="∞"&&(We=V),W.value?H.value=V-eo+60+"px":H.value=V-eo+52+"px",B.value=We+74+"px",de&&vo<V&&M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+vo+", 0)"),j&&po<V&&M.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+po+", 0)");const Ze=M.append("g").attr("id","left-handle"),Oe=M.append("g").attr("id","right-handle");Y.value.theme=="default"?(Ze.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Ze.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),Ze.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),Ze.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),Oe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Oe.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),Oe.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),Oe.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(Ze.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Ze.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),Ze.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),Ze.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),Oe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Oe.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),Oe.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),Oe.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),Ze.attr("transform","translate("+eo+", 0)"),Oe.attr("transform","translate("+We+", 0)");const Lo=Kt().extent([[0,0],[V,ne]]).handleSize(30).on("end",jo);M.append("g").attr("class","brush").call(Lo).call(Lo.move,[eo,We]);function jo(R){if(!R.sourceEvent||!R.selection)return;Ze.attr("transform","translate("+R.selection[0]+", 0)"),Oe.attr("transform","translate("+R.selection[1]+", 0)"),W.value?H.value=V-R.selection[0]+60+"px":H.value=V-R.selection[0]+52+"px",B.value=R.selection[1]+74+"px";let P,oo,Me=0,ke=0;e.direction?(Me=ie(parseInt(String(R.selection[0]/le+pe)),Number(e.poolInfo.tickSpacing)),P=F.tickIndexToPrice(Me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),ke=ie(parseInt(String(R.selection[1]/le+pe)),Number(e.poolInfo.tickSpacing)),oo=F.tickIndexToPrice(ke,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(ke=ie(Le-R.selection[0]/le,Number(e.poolInfo.tickSpacing)),P=1/F.tickIndexToPrice(ke,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),Me=ie(Le-R.selection[1]/le,Number(e.poolInfo.tickSpacing)),oo=1/F.tickIndexToPrice(Me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),n.emit("onChangeMinPrice",String(Ue(String(P),6))),n.emit("onChangeMaxPrice",String(Ue(String(oo),6)))}Y.value.theme=="default"?fn(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):fn(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};f(""),be(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab],([i,p,O,X])=>{i&&p&&O&&g(i,_.value)},{immediate:!0});const k=f(!0);return be(()=>e.chartLoading,(i,p)=>{i!==p&&(k.value=i)},{immediate:!0,deep:!0}),{store:Y,loading:k,zoomOut:Pe,zoomIn:N,rangeSizeLower:Q,rangeSizeUpper:te,rangeSizeLowerPosition:H,rangeSizeUpperPosition:B,decimalFormat:gn,numberformat:Sn}}});const xa=e=>(xo("data-v-beaf2b95"),e=e(),en(),e),ei={class:"chart-box"},oi={class:"chart"},ni={class:"zoom"},ti=xa(()=>a("svg",{id:"chart"},null,-1));function ai(e,n,_,H,B,J){return r(),m("div",ei,[uo(a("div",oi,[a("div",ni,[a("div",{class:"amplification",onClick:n[0]||(n[0]=(...Q)=>e.zoomOut&&e.zoomOut(...Q))}),a("div",{class:"narrow",onClick:n[1]||(n[1]=(...Q)=>e.zoomIn&&e.zoomIn(...Q))})]),e.currentPriceTab!=="full range"?(r(),m("div",{key:0,class:"range-size range-size-lower",style:nt({right:e.rangeSizeLowerPosition})},c(("numberformat"in e?e.numberformat:Se(Sn))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):C("",!0),e.currentPriceTab!=="full range"?(r(),m("div",{key:1,class:"range-size range-size-upper",style:nt({left:e.rangeSizeUpperPosition})},c(("numberformat"in e?e.numberformat:Se(Sn))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):C("",!0),ti],512),[[Ut,!e.loading]])])}const ii=Po(Ya,[["render",ai],["__scopeId","data-v-beaf2b95"]]),li=wo({props:{poolInfo:{type:Object,default:()=>({})},aprRewardsParameter:{type:Number,default:30},label:{type:Boolean,default:!0}},setup(e,n){const _=f("0"),H=f(""),B=f(""),J=yo(),Q=z(()=>J),te=bn(),E=z(()=>te),Y=(k,i)=>k&&i?Qt.plus(Tn(k),Tn(i)):k>0?k:0,ee=k=>{let i=0;return k&&k.forEach(p=>{i+=Tn(String(p))}),String(i)},F=f([]),ie=f([]),Pe=f("0"),N=f(""),xe=f(!0);be(()=>[Q.value.newTopPoolsObj,e.poolInfo,E.value.tokensObj,e.aprRewardsParameter],([k,i,p])=>{var O;if(k&&i&&p){const X=k[i==null?void 0:i.poolAddress]||{};if(X&&!Co(X)){_.value=X&&X.apr_7day&&X.apr_7day.replace("%","")||"0",N.value=ee(X&&X.rewarder_apr),Pe.value=Y(X&&X.apr_7day,X&&ee(X.rewarder_apr)),H.value=Ye(X.tvl_in_usd,2),B.value=Ye(X.vol_in_usd_24h,2);const Ce=i&&e.poolInfo.rewarder_infos||[],Ne=[];for(let j=0;j<Ce.length;j++){const ae=Ce[j];if(p[ae.coinAddress]){const V=p[ae.coinAddress].decimals,ne=gn(ae.emissionsEveryDay/Math.pow(10,V),4),_e=Number(ne)>0?Ye(ne):ne,K=gn(Number(ne)*((O=E.value.RATES[ae.coinAddress])==null?void 0:O.price),4);Ne.push({...ae,logoUrl:p[ae.coinAddress].logoURI,day:_e,dayUSD:K,symbol:p[ae.coinAddress].symbol,rewarder_display:i&&i[`rewarder_display${j+1}`]?i[`rewarder_display${j+1}`]:!1})}}F.value=Ne.filter(j=>j.rewarder_display);const de=[];Ne.forEach((j,ae)=>{p[j.coinAddress]&&de.push({...j,symbol:p[j.coinAddress].symbol,rewarderApr:X.rewarder_apr[ae]&&X.rewarder_apr[ae].replace("%","")})}),ie.value=de.filter(j=>j.rewarder_display)}else _.value="0",H.value="--",B.value="--",Pe.value="0",ie.value=[],F.value=[];xe.value=!1}else _.value="0",H.value="--",B.value="--",Pe.value="0",ie.value=[],F.value=[]},{immediate:!0,deep:!0});const g=()=>{n.emit("reviseValue")},W=k=>{var i;return(k==null?void 0:k.logoURI)||(k==null?void 0:k.logo_url)||((i=E.value.tokensObj[k==null?void 0:k.address])==null?void 0:i.logo_url)||(Q.value.theme==="default"?Ke("/image/coins/unknown.png"):Ke("/image/coins/sui-unknown.png"))};return{tokensWarningObj:z(()=>E.value.tokensWarningObj),rewarderInfo:F,rewarderArr:ie,rewardApr:Pe,rewardAprList:N,apr:_,liquidityTvl:H,vol24:B,addCommom:Ye,reviseValue:g,loading:xe,getCoinIcon:W,store:J}}});const hn=e=>(xo("data-v-4ab1e3e8"),e=e(),en(),e),ri={key:0,class:"pool-info"},si=hn(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),ui=[si],di={key:0,class:"info-block-container"},ci={class:"info-block"},vi={class:"coin-tips"},pi={class:"left"},mi={alt:""},fi={class:"address"},gi=hn(()=>a("use",{"xlink:href":"#icon-icon_copy1"},null,-1)),bi=[gi],ki={class:"info-block"},hi={class:"coin-tips"},Ci={class:"left"},yi={alt:""},wi={class:"address"},Pi=hn(()=>a("use",{"xlink:href":"#icon-icon_copy1"},null,-1)),Ii=[Pi],Ti={class:"info-block"},$i={class:"leabl"},Si={class:"text"},Ai={class:"apr-hover-content"},Ni={class:"info-block"},qi={class:"leabl"},Li={class:"text"},Mi={class:"info-block"},Ri={class:"leabl"},Ui={class:"text"},Oi={class:"info-block"},Bi={class:"leabl"},Fi={class:"text"},ji={key:1,class:"pool-rewards-info"},_i={class:"rewards-list-all"},Wi=hn(()=>a("div",{class:"icon-sign"},null,-1)),Hi={alt:""},Ei={class:"rewards-value"};function Di(e,n,_,H,B,J){const Q=Gt,te=Jt,E=ct,Y=Nn("image");return e.poolInfo?(r(),m("div",ri,[e.loading?(r(),ce(E,{key:1})):(r(),m(Ao,{key:0},[a("div",{class:ge(e.label?"pool-info-border pool-info-title":"pool-info-title")},[je(c(e.$t("newAdd.poolInfo"))+" ",1),(r(),m("svg",{class:ge(e.label?"show-icon icon":"icon"),"aria-hidden":"true",onClick:n[0]||(n[0]=ee=>e.reviseValue())},ui,2))],2),e.label?(r(),m("div",di,[a("div",ci,[a("div",vi,[a("div",pi,[uo(a("img",mi,null,512),[[Y,e.getCoinIcon(e.poolInfo.needReverse?e.poolInfo.token_b:e.poolInfo.token_a)]]),a("div",fi,c(e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address),1),ve(Q,{address:e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address,"style-params":{width:"12px",height:"12px",left:"10px",bottom:"0px"}},null,8,["address"]),(r(),m("svg",{class:"icon","aria-hidden":"true",onClick:n[1]||(n[1]=ee=>e.store.copy(e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address))},bi))])])]),a("div",ki,[a("div",hi,[a("div",Ci,[uo(a("img",yi,null,512),[[Y,e.getCoinIcon(e.poolInfo.needReverse?e.poolInfo.token_a:e.poolInfo.token_b)]]),a("div",wi,c(e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address),1),ve(Q,{address:e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address,"style-params":{width:"12px",height:"12px",left:"10px",bottom:"0px"}},null,8,["address"]),(r(),m("svg",{class:"icon","aria-hidden":"true",onClick:n[2]||(n[2]=ee=>e.store.copy(e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address))},Ii))])])]),a("div",Ti,[a("div",$i,c(e.$t("common.apr")),1),a("div",Si,[je(c(e.poolInfo.is_display_rewarder?e.rewardApr>0&&e.rewardApr<.01?"<0.01":("addCommom"in e?e.addCommom:Se(Ye))(e.rewardApr,2):e.apr>0&&e.apr<.01?"<0.01":("addCommom"in e?e.addCommom:Se(Ye))(e.apr,2))+"% ",1),a("div",Ai,[ve(te,{"l-item":{apr:e.apr,aprTotal:e.rewardApr,rewarder_apr:e.rewardAprList,is_display_rewarder:e.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["l-item","rewarder-info"])])])]),a("div",Ni,[a("div",qi,c(e.$t("common.liquidity")),1),a("div",Li,"$"+c(e.liquidityTvl),1)]),a("div",Mi,[a("div",Ri,c(e.$t("common.volume24h")),1),a("div",Ui,"$"+c(e.vol24),1)]),a("div",Oi,[a("div",Bi,c(e.$t("newAdd.tickSpacing")),1),a("div",Fi,c(e.poolInfo&&e.poolInfo.tick_spacing),1)])])):C("",!0),e.poolInfo.is_display_rewarder&&e.label&&e.rewarderInfo&&e.rewarderInfo.length>0?(r(),m("div",ji,[je(c("Farming Rewards")+" "),a("div",_i,[(r(!0),m(Ao,null,Yo(e.rewarderInfo,ee=>(r(),m("div",{key:ee,class:ge(["rewards-list",ee.day==0?"rewards-none":""])},[Wi,uo(a("img",Hi,null,512),[[Y,ee.logoUrl]]),a("div",Ei,[a("p",null,c(ee.day)+" "+c(ee.symbol)+" / "+c(e.$t("newAdd.day"))+" ",1)])],2))),128))])])):C("",!0)],64))])):C("",!0)}const zi=Po(li,[["render",Di],["__scopeId","data-v-4ab1e3e8"]]),Xi=wo({setup(){let e=f(!1);const{t:n,locale:_}=Ot(),H=Lt(),B=z(()=>H),J=yo(),Q=f(0),te=f(!1),E=f(!1),Y=f(!1),ee=f("fromCoin"),F=f(""),ie=f(""),Pe=f(!1),N=f(!0),xe=f(!1),g=f(!0),W=f(!1),T=f(""),k=f(""),i=f(""),p=f(""),O=f(""),X=f(""),Ce=f(!1),Ne=f(!1),de=f(!1),j=f(""),ae=f(0),V=f(!0),ne=f(!1),_e=f([]),K=f(""),Ie=f(30),pe=f("30D"),Le=f("Estimated APR"),le=f([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),De=f(!0),x=yo(),M=z(()=>x),Io=z(()=>{var o;return!!((o=d==null?void 0:d.query)!=null&&o.action&&(!l.value||!s.value||!j.value))}),S=z(()=>M.value.chainName?An(M.value.chainName):{}),io=z(()=>{var o;return(o=M.value)==null?void 0:o.filterCreatePoolCoin}),No=o=>{Je.updateCurrentPools(A.value.poolAddress,M.value.chainName),pe.value=o.time,Ie.value=o.num},qo=()=>{De.value=!De.value},To=f([]),$o=()=>{Q.value=0,d.query.action!=="create-pool"&&d.query.actions!=="new-position"&&(Go(),so(),Je.updateCurrentPools(A.value.poolAddress,M.value.chainName)),Je.setPoolConfigList(mn.value,M.value.filterCoinsObj)},Xo=z(()=>Number(i.value)>0&&Number(p.value)>0&&Number(i.value)>Number(p.value)),eo=o=>{xe.value=o,i.value="0",p.value="∞"},We=z(()=>{if(q.value.poolConfigList&&l.value&&s.value){const o=q.value.poolConfigList.filter(u=>{var b,w,y,$;return u.token_a.address.toUpperCase()===((b=l.value.address)==null?void 0:b.toUpperCase())&&u.token_b.address.toUpperCase()===((w=s.value.address)==null?void 0:w.toUpperCase())||u.token_b.address.toUpperCase()===((y=l.value.address)==null?void 0:y.toUpperCase())&&u.token_a.address.toUpperCase()===(($=s.value.address)==null?void 0:$.toUpperCase())}),t=[];return o.forEach(u=>{t.push(Number(u.fee))}),t}else return[]}),vo=o=>{const t={};let u=new h(0);o.forEach(U=>{u=u.add(new h(U.object.liquidity))});const b=[];let w=new h(0);o.forEach(U=>{const L=new h(U.object.liquidity),D=L.gt(0)?new h(L).div(u).mul(100).toString():0,Z=Qo(D,2);w=w.plus(Z);const G=Z.split(".");b.push({value:Z,int:G[0],decimal:G[1],fee:U.fee})});let y=new h(100).minus(w).toNumber();const $=b.sort((U,L)=>Number(L.decimal)-Number(U.decimal));if(y)for(let U=0;U<$.length&&y;U++)$[U].value=new h($[U].value).plus(.01).toString(),y=new h(y).minus(.01).toNumber();return o.forEach(U=>{var D;const L=(D=$.find(Z=>U.fee===Z.fee))==null?void 0:D.value;t[U.fee]={rateText:(L>0&&L<.01?"<0.01":L==0?0:Qo(L,2))+"% select",rate:L}}),t},po=z(()=>{if(q.value.poolConfigList&&l.value&&s.value){const o=q.value.poolConfigList.filter(u=>{var y,$,U,L;const b=u.coin_a_address=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":u.coin_a_address,w=u.coin_b_address=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":u.coin_b_address;return b.toUpperCase()===((y=l.value.address)==null?void 0:y.toUpperCase())&&w.toUpperCase()===(($=s.value.address)==null?void 0:$.toUpperCase())||w.toUpperCase()===((U=l.value.address)==null?void 0:U.toUpperCase())&&b.toUpperCase()===((L=s.value.address)==null?void 0:L.toUpperCase())});return vo(o)}}),Ze=z(()=>[{label:.01+"% "+n("common.feeTier"),title:.01+"% ",fee:1e-4,text:n("newAdd.bestVeryStablePairs")},{label:.05+"% "+n("common.feeTier"),title:.05+"% ",fee:5e-4,text:n("newAdd.bestStablePairs")},M.value.chainName=="Aptos"?{label:.2+"% "+n("common.feeTier"),title:.2+"% ",fee:.002,text:n("newAdd.bestMostPairs")}:{label:.25+"% "+n("common.feeTier"),title:.25+"% ",fee:.0025,text:n("newAdd.bestMostPairs")},M.value.chainName=="Aptos"?{label:.6+"% "+n("common.feeTier"),title:.6+"% ",fee:.006,text:n("newAdd.besteExoticPairs")}:{label:"1% "+n("common.feeTier"),title:"1% ",fee:.01,text:n("newAdd.besteExoticPairs")}]),Oe=z(()=>J.slippage),Lo=z(()=>!l.value||!s.value),jo=z(()=>{var o,t;return!!(!T.value&&!k.value||Number(T.value)>Number(ze.value)||Number(k.value)>Number(Xe.value)||R.value!==n("button.addLiquidity")&&R.value!==n("newAdd.preview")||A.value&&A.value&&A.value.is_pause||(o=d==null?void 0:d.query)!=null&&o.action&&!I.value&&!((t=I.value)!=null&&t.currentPrice)||Number(T.value)<=0&&Number(k.value)<=0||!me.value&&Number(T.value)==0||!fe.value&&Number(k.value)==0||de.value)}),R=z(()=>{var o,t;return A.value&&A.value.is_pause?"Pool Closed":!l.value||!s.value?n("modal.selectTokenModalTitle"):mn.value=="Sui"&&!We.value.includes(1e-4)&&!We.value.includes(5e-4)&&!We.value.includes(.0025)&&!We.value.includes(.01)&&!io.value[l==null?void 0:l.value.address]&&!io.value[(o=s.value)==null?void 0:o.address]?"Invalid Pool":(d.query.action||d.query.actions)&&!j.value&&In[M.value.chainName].hasCreatePool?"Select fee tier":Lo.value?n("modal.selectTokenModalTitle"):!In[M.value.chainName].hasCreatePool&&!A.value?n("button.poolNotFound"):Number(T.value)>Number(ze.value)?n("button.insufficientBalance",{name:l.value.symbol}):Number(k.value)>Number(Xe.value)?n("button.insufficientBalance",{name:s.value.symbol}):W.value?n("modal.selectTokenModalTitle"):!A.value&&l.value&&s.value&&((t=d==null?void 0:d.query)==null?void 0:t.action)=="create-pool"?n("newAdd.preview"):!Number(T.value)&&!Number(k.value)?n("button.enterAmount"):p.value!=="∞"&&Number(i.value)>=Number(p.value)?n("newAdd.invalidRange"):n("button.addLiquidity")}),P=z(()=>{var o,t,u;return!A.value||Co(M.value.addressHistTokens)||!M.value.addressHistTokens[(o=A.value)==null?void 0:o.poolAddress]?null:Object.fromEntries((u=M.value.addressHistTokens[(t=A.value)==null?void 0:t.poolAddress])==null?void 0:u.data.map(b=>[b.key,b.value]))}),oo=z(()=>N.value?P.value&&Ue(Ie.value==7?P.value.before_7_d_contract_price_lowest:Ie.value==24?P.value.before_24_h_contract_price_lowest:P.value.before_30_d_contract_price_lowest,6)||0:P.value&&Ue(new h(1).div(Ie.value==7?P.value.before_7_d_contract_price_highest:Ie.value==24?P.value.before_24_h_contract_price_highest:P.value.before_30_d_contract_price_highest).toString(),6)||0),Me=z(()=>N.value?P.value&&Ue(Ie.value==7?P.value.before_7_d_contract_price_highest:Ie.value==24?P.value.before_24_h_contract_price_highest:P.value.before_30_d_contract_price_highest,6)||0:(P.value&&Ue(1/Number(Ie.value==7?P.value.before_7_d_contract_price_lowest:Ie.value==24?P.value.before_24_h_contract_price_lowest:P.value.before_30_d_contract_price_lowest),6))==1/0?0:P.value&&Ue(1/Number(Ie.value==7?P.value.before_7_d_contract_price_lowest:Ie.value==24?P.value.before_24_h_contract_price_lowest:P.value.before_30_d_contract_price_lowest),6)||0),ke=rt(),l=f(),s=f();kn(()=>{document.body.clientWidth<750?(De.value=!1,e.value=!1):(De.value=!0,e.value=!0)});const on=o=>{var t,u;if((t=A.value)==null||t.token_a.decimals,(u=A.value)==null||u.token_b.decimals,d.query.action&&Bo.value&&o!==i.value){wn();return}o!==i.value&&K.value=="full range"?dn({key:"custom",...to.value.custom}):(K.value!=="full range"&&K.value!=="custom"&&(K.value="custom"),i.value=o)},nn=o=>{if(d.query.action&&Bo.value&&o!==p.value){wn();return}o!==p.value&&K.value=="full range"?dn({key:"custom",...to.value.custom}):(K.value!=="full range"&&K.value!=="custom"&&(K.value="custom"),p.value=o)},tn=()=>{var t;if(d.query.action)N.value=!N.value,I.value&&pn(Ue(new h(1).div(I.value.currentPrice).toString(),(t=s==null?void 0:s.value)==null?void 0:t.decimals));else if(V.value=!0,V.value=!1,N.value=!N.value,i.value!==""&&p.value!==""&&i.value!=="0"&&p.value!=="∞"){const u=i.value,b=p.value;i.value=new h(1).div(b).toString(),p.value=new h(1).div(u).toString();const w=O.value,y=X.value;O.value=new h(1).div(y).toString(),X.value=new h(1).div(w).toString(),ne.value=!1}const o=l.value;l.value=s.value,s.value=o,g.value?T.value=k.value:k.value=T.value};be([i,p],([o,t])=>{Number(o)!==0&&Number(t)!==0&&so(),t!=="∞"&&Number(o)!==0&&Number(t)!==0&&Number(o)>=Number(t)?de.value=!0:de.value=!1,Number(o)==0&&Number(t)==0&&Be.value&&(de.value=!0)});const Mo=f(!1),Ro=f(!1),an=o=>{var t,u,b,w,y,$,U,L,D;ee.value=o,o==="fromCoin"?(F.value=((t=s.value)==null?void 0:t.address)||"",ie.value=d.query.action=="create-pool"||d.query.actions=="new-position"||!A.value?(u=l.value)==null?void 0:u.address:A.value.needReverse?A.value.token_b.address:A.value.token_a.address,((b=d==null?void 0:d.query)==null?void 0:b.action)=="create-pool"&&((w=d==null?void 0:d.query)==null?void 0:w.from)==="pool"?Ro.value=!0:Ro.value=!1,Mo.value=!1):(F.value=((y=l.value)==null?void 0:y.address)||"",ie.value=d.query.action=="create-pool"||d.query.actions=="new-position"||!A.value?($=s.value)==null?void 0:$.address:A.value.needReverse?A.value.token_a.address:A.value.token_b.address,((U=d==null?void 0:d.query)==null?void 0:U.action)=="create-pool"&&((L=d==null?void 0:d.query)==null?void 0:L.from)==="pool"&&!io[(D=l.value)==null?void 0:D.address]?Mo.value=!0:Mo.value=!1,Ro.value=!1),Pe.value=!0},Te=f(null),$e=f(null),Vo=f({}),Ko=f({}),ln=o=>{var b,w,y,$;W.value=!1;const t=A.value?A.value.needReverse?A.value.token_b:A.value.token_a:Te.value,u=A.value?A.value.needReverse?A.value.token_a:A.value.token_b:$e.value;ee.value==="fromCoin"?(((b=l.value)==null?void 0:b.address)===(t==null?void 0:t.address)||!((w=l.value)!=null&&w.address)?(s.value&&o.address.toLowerCase()===(s==null?void 0:s.value.address.toLowerCase())&&(s.value=null,$e.value=null,j.value=""),l.value=o,Te.value=o):(l.value&&o.address.toLowerCase()===(l==null?void 0:l.value.address.toLowerCase())&&(l.value=null,Te.value=null,j.value=""),s.value=o),d.query.action||(d.query.fee="")):(((y=s.value)==null?void 0:y.address)===(u==null?void 0:u.address)||!(($=s.value)!=null&&$.address)?(l.value&&o.address.toLowerCase()===(l==null?void 0:l.value.address.toLowerCase())&&(l.value=null,Te.value=null,j.value=""),s.value=o,$e.value=o):(s.value&&o.address.toLowerCase()===(s==null?void 0:s.value.address.toLowerCase())&&(s.value=null,$e.value=null,j.value=""),l.value=o),d.query.action||(d.query.fee="")),pn(""),Pe.value=!1},rn=o=>{o==="fromCoin"?(g.value=!0,M.value.chainName==="Aptos"?T.value=Number(ze.value)>0?l.value.symbol=="APT"?new h(Number(ze.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(ze.value)).sub(new h(.1)).toString():String(ze.value):"":T.value=Number(ze.value)>0?l.value.symbol=="SUI"?new h(Number(ze.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(ze.value)).sub(new h(.05)).toString():String(ze.value):""):(g.value=!1,M.value.chainName==="Aptos"?k.value=Number(Xe.value)>0?s.value.symbol=="APT"?new h(Number(Xe.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(Xe.value)).sub(new h(.1)).toString():String(Xe.value):"":k.value=Number(Xe.value)>0?s.value.symbol=="SUI"?new h(Number(Xe.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(Xe.value)).sub(new h(.05)).toString():String(Xe.value):"")},sn=o=>{o==="fromCoin"?(g.value=!0,T.value=Number(ze.value)>0?Qo(new h(Number(ze.value)).div(2).toString(),l.value.decimals).toString():""):(g.value=!1,k.value=Number(Xe.value)>0?Qo(new h(Number(Xe.value)).div(2).toString(),s.value.decimals).toString():"")};be(T,(o,t)=>{o==""&&g.value&&(k.value=""),o&&g.value&&so()}),be(k,(o,t)=>{o==""&&!g.value&&(T.value=""),o&&!g.value&&so()});const un=()=>{l.value=null,s.value=null,i.value="0",p.value="0",T.value="",k.value="",W.value=!0,j.value="",Ce.value=!1,me.value=!0,fe.value=!0,V.value=!1},lo=f(!1),{setIsShowSuccess:mo,setIsShowRejected:fo,setIsShowWaiting:Ge,setTransactionDesc:_o,setTransactionTxid:go,setPositiomNum:Wo}=J,d=ut(),Je=bn(),So=z(()=>In[M.value.chainName].hasCreatePool);be(()=>[j.value,d.query.action,l.value,s.value,d.query.actions,So.value],([o,t,u,b,w,y])=>{!o&&(t=="create-pool"||w=="new-position")&&u&&b&&y?(Ce.value=!0,V.value=!1):(!u||!b)&&(Ce.value=!1)},{immediate:!0});const q=z(()=>Je);be(()=>q.value.tokens,async o=>{if(o&&o.length>0){const t=o;if(d&&d.query&&d.query.tokena&&d.query.tokena){const u=await S.value.getTokenBySymbol(t,d.query.tokena);l.value=u,Te.value=u}if(d&&d.query&&d.query.tokenb&&d.query.tokenb){const u=await S.value.getTokenBySymbol(t,d.query.tokenb);s.value=u,$e.value=u}}},{immediate:!0});const bo=f({}),me=f(!1),fe=f(!1),Ho=f(),Eo=f(),Be=f(),ro=f(),so=async()=>{var qe,ue,Qe,Re,he,Fe;if(!i.value&&!p.value)return!1;if(!T.value&&!k.value&&!i.value&&!p.value)return;const o=A.value?A.value:I.value;if(Co(o))return;const{TickUtil:t,TickMath:u,getNearestTickByTick:b}=S.value,w=o==null?void 0:o.token_a.decimals,y=o==null?void 0:o.token_b.decimals;let $,U,L,D,Z,G,re,ye,se=o.current_tick_index,oe;if(o.token_a.address.toLowerCase()===l.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===s.value.address.toLowerCase()?oe=!0:oe=!1,i.value==="0"&&p.value==="∞")L=t.getMinIndex(Number(o.tickSpacing)),D=t.getMaxIndex(Number(o.tickSpacing)),Z=u.tickIndexToSqrtPriceX64(L),G=u.tickIndexToSqrtPriceX64(D);else if(K.value=="custom"||d.query.action){oe?($=Number(i.value),U=Number(p.value)):($=new h(1).div(p.value).toString(),U=new h(1).div(i.value).toString());try{re=$==0?-443636:u.priceToTickIndex(new h($),w,y)}catch{re=-443636}try{ye=u.priceToTickIndex(new h(U),w,y)}catch{ye=443636}L=b(re,Number(o.tickSpacing)),D=b(ye,Number(o.tickSpacing)),Z=u.priceToSqrtPriceX64(new h($),w,y);try{G=u.priceToSqrtPriceX64(new h(U),w,y)}catch{U===1/0&&(G=u.tickIndexToSqrtPriceX64(t.getMaxIndex(Number(o.tickSpacing))))}}else L=(qe=to.value[K.value])==null?void 0:qe.lower,D=(ue=to.value[K.value])==null?void 0:ue.upper,Z=u.tickIndexToSqrtPriceX64(L),G=u.tickIndexToSqrtPriceX64(D);if(p.value!=="∞"&&L>=D){me.value=!0,T.value="",fe.value=!0,k.value="";return}if(p.value==="∞"||se>=L&&se<=D){me.value=!1,fe.value=!1;let Ae;if(T.value||k.value){if(g.value){const ko=new h(T.value).mul(Math.pow(10,l.value.decimals)).toString();Ae=new ho(ko)}else{const ko=new h(k.value).mul(Math.pow(10,s.value.decimals)).toString();Ae=new ho(ko)}const{liquidityAmount:we,tokenMaxA:no,tokenMaxB:Ve,tokenMaxAOrigin:He,tokenMaxBOrigin:co}=S.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:o.token_a,tokenB:o.token_b,lowerTick:L,upperTick:D,coinAmount:Ae,iscoinA:oe?g.value:!g.value,roundUp:!0,slippage:Number(Oe.value)/100,curSqrtPrice:new ho(o.current_sqrt_price)});bo.value={liquidityAmount:we,tokenMaxA:no,tokenMaxB:Ve,tokenMaxAOrigin:He,tokenMaxBOrigin:co},oe?g.value?k.value=Number(Ve)>0?Ve:"":T.value=Number(no)>0?no:"":g.value?k.value=no:T.value=Ve}}else if(se>D){if(oe?T.value="":k.value="",me.value=oe,fe.value=!oe,(Qe=d==null?void 0:d.query)!=null&&Qe.action&&(me.value=!0,fe.value=!0),T.value||k.value){let Ae;if(oe){const we=new h(k.value).mul(Math.pow(10,(Re=s.value)==null?void 0:Re.decimals)).toString();Ae=new ho(we),bo.value={liquidityAmount:S.value.estimateLiquidityForCoinB(Z,G,Ae),tokenMaxA:0,tokenMaxB:k.value}}else{const we=new h(T.value).mul(Math.pow(10,(he=l.value)==null?void 0:he.decimals)).toString();Ae=new ho(we),bo.value={liquidityAmount:S.value.estimateLiquidityForCoinB(Z,G,Ae),tokenMaxA:0,tokenMaxB:T.value}}}}else if(se<L){if(me.value=!oe,fe.value=oe,(Fe=d==null?void 0:d.query)!=null&&Fe.action&&(me.value=!0,fe.value=!0),oe?k.value="":T.value="",T.value||k.value){let Ae;if(oe){const we=new h(T.value).mul(Math.pow(10,l.value.decimals)).toString();Ae=new ho(we),bo.value={liquidityAmount:S.value.estimateLiquidityForCoinA(Z,G,Ae),tokenMaxA:T.value,tokenMaxB:0}}else{const we=new h(k.value).mul(Math.pow(10,s.value.decimals)).toString();Ae=new ho(we),bo.value={liquidityAmount:S.value.estimateLiquidityForCoinA(Z,G,Ae),tokenMaxA:k.value,tokenMaxB:0}}}}else me.value=!0,T.value="",fe.value=!0,k.value=""},Uo=f(0);be(()=>{var o;return(o=d.query)==null?void 0:o.fee},o=>{o&&(Uo.value=o,j.value=Number(o)*100+"% "+n("common.feeTier"))},{immediate:!0,deep:!0});const Zo=z(()=>{var w,y,$;const o=(w=d==null?void 0:d.query)==null?void 0:w.fee,t=(y=d==null?void 0:d.query)==null?void 0:y.tokena,u=($=d==null?void 0:d.query)==null?void 0:$.tokenb;let b=null;for(let U=0;U<q.value.poolConfigList.length;U++){const L=q.value.poolConfigList[U];!t||!u?b={}:(L.token_a.address.toUpperCase()===(t==null?void 0:t.toUpperCase())&&L.token_b.address.toUpperCase()===(u==null?void 0:u.toUpperCase())||L.token_b.address.toUpperCase()===(t==null?void 0:t.toUpperCase())&&L.token_a.address.toUpperCase()===(u==null?void 0:u.toUpperCase()))&&(b=L)}return b}),A=z(()=>{var t,u,b,w,y,$,U,L,D,Z,G,re,ye;const o=(t=d==null?void 0:d.query)==null?void 0:t.fee;if(l.value&&s.value){let se=null;if(o)for(const qe in q.value.poolsObj){const ue=q.value.poolsObj[qe];(ue.token_a.address.toUpperCase()===((b=(u=l==null?void 0:l.value)==null?void 0:u.address)==null?void 0:b.toUpperCase())&&ue.token_b.address.toUpperCase()===((y=(w=s==null?void 0:s.value)==null?void 0:w.address)==null?void 0:y.toUpperCase())&&Number(ue.fee)==Number(Uo.value)||ue.token_b.address.toUpperCase()===(($=l==null?void 0:l.value.address)==null?void 0:$.toUpperCase())&&ue.token_a.address.toUpperCase()===((L=(U=s==null?void 0:s.value)==null?void 0:U.address)==null?void 0:L.toUpperCase())&&Number(ue.fee)==Number(Uo.value))&&(se=ue)}const oe=[];if(!((D=d==null?void 0:d.query)!=null&&D.action)&&(!o||!se)){for(const qe in q.value.poolsObj){const ue=q.value.poolsObj[qe];(ue.token_a.address.toUpperCase()===((Z=l==null?void 0:l.value.address)==null?void 0:Z.toUpperCase())&&ue.token_b.address.toUpperCase()===((G=s.value.address)==null?void 0:G.toUpperCase())||ue.token_b.address.toUpperCase()===((re=l==null?void 0:l.value.address)==null?void 0:re.toUpperCase())&&ue.token_a.address.toUpperCase()===((ye=s.value.address)==null?void 0:ye.toUpperCase()))&&oe.push(ue)}oe&&oe.length>0&&(se=oe.sort((qe,ue)=>{const Qe=qe.coinAmountA+qe.coinAmountB;return ue.coinAmountA+ue.coinAmountB-Qe})[0])}return se&&!Co(se)?se:null}return null}),v=z(()=>{var b,w;const o=(b=l==null?void 0:l.value)==null?void 0:b.address,t=(w=s==null?void 0:s.value)==null?void 0:w.address;let u=null;for(let y=0;y<q.value.poolConfigList.length;y++){const $=q.value.poolConfigList[y];!o||!t?u={}:($.token_a.address.toUpperCase()===(o==null?void 0:o.toUpperCase())&&$.token_b.address.toUpperCase()===(t==null?void 0:t.toUpperCase())||$.token_b.address.toUpperCase()===(o==null?void 0:o.toUpperCase())&&$.token_a.address.toUpperCase()===(t==null?void 0:t.toUpperCase()))&&(u=$)}return u});be(()=>[Zo.value,A.value,q.value.recommendRangesObj],(o,t)=>{var u,b,w,y,$;o[0]&&!o[1]&&o[2]&&!Co(o[2])&&(!t||o[0]&&((u=o[0])==null?void 0:u.address)!==t[0]&&((b=t[0])!=null&&b.address))&&(w=o[0])!=null&&w.address&&!((y=d==null?void 0:d.query)!=null&&y.action)&&Je.setSinglePool(o[0],o[2][($=o[0])==null?void 0:$.address],M.value.chainName)},{immediate:!0,deep:!0});const to=f({}),Oo=async(o,t)=>{var u,b,w,y;if(o){const{TickMath:$,getNearestTickByTick:U}=S.value;t&&(V.value=!0,me.value=!1,fe.value=!1),ne.value=!0;const L=o.token_a.decimals,D=o.token_b.decimals;j.value=o.fee*100+"% "+n("common.feeTier");const Z=o.current_tick_index;Be.value=$.sqrtPriceX64ToPrice(o.current_sqrt_price,L,D).toString(),ro.value=new h(1).div(new h(Be.value)).toString();const G=await S.value.getTicks(o);if(_e.value=G?S.value.getTickDataFromUrlData(G):[],t){let re=q.value.poolPriceConfigObj&&q.value.poolPriceConfigObj[o.address]&&q.value.poolPriceConfigObj[o.address].recommend_ranges||{};const ye=q.value.poolPriceConfigObj&&q.value.poolPriceConfigObj[o.address]&&q.value.poolPriceConfigObj[o.address].type||"",se=Z-Number(ye=="unstable"?Number(o.tickSpacing)*2:Number(o.tickSpacing)*3),oe=Z+Number(ye=="unstable"?Number(o.tickSpacing)*2:Number(o.tickSpacing)*3),qe=(b=(u=A==null?void 0:A.value)==null?void 0:u.token_a)==null?void 0:b.decimals,ue=(y=(w=A==null?void 0:A.value)==null?void 0:w.token_b)==null?void 0:y.decimals,Qe=S.value.TickMath.tickIndexToPrice(se,qe,ue).toString(),Re=S.value.TickMath.tickIndexToPrice(oe,qe,ue).toString();re["full range"]={lower:-443636,upper:443636},re.custom={lower:se,upper:oe,minPrice:Qe,maxPrice:Re};const he=[];for(let Fe in re)re[Fe]&&he.push({...re[Fe],key:Fe});To.value=he,ye?o.isSelfBuilt?K.value="custom":ye=="stable"?K.value="suggested":K.value="passive":K.value="custom",to.value=re,dn({key:K.value,...re[K.value]})}V.value=!1}else V.value=!1},Do=z(()=>Je.getPoolInfoSuccess);be(()=>A.value,(o,t)=>{var u,b,w,y,$,U,L,D,Z,G,re,ye;o&&o.current_sqrt_price?((!t||o.poolAddress!==t.poolAddress||o.current_sqrt_price!==t.current_sqrt_price)&&Oo(o,!t||o.poolAddress!==t.poolAddress),(d==null?void 0:d.name)=="deposit"&&ke.push(`/deposit?poolAddress=${o==null?void 0:o.address}&tokena=${(u=l==null?void 0:l.value)==null?void 0:u.address}&tokenb=${(b=s==null?void 0:s.value)==null?void 0:b.address}&fee=${o==null?void 0:o.fee}`)):((w=d==null?void 0:d.query)==null?void 0:w.actions)=="new-position"||(!v.value&&So.value&&((y=l==null?void 0:l.value)!=null&&y.address||($=s==null?void 0:s.value)!=null&&$.address)?(j.value="",i.value="0",p.value="∞",me.value=!1,fe.value=!1,V.value=!1,Be.value="",ro.value="",(d==null?void 0:d.name)=="deposit"&&ke.push(`/deposit?action=create-pool&tokena=${(U=l==null?void 0:l.value)==null?void 0:U.address}&tokenb=${(L=s==null?void 0:s.value)==null?void 0:L.address}&from=${(D=d==null?void 0:d.query)==null?void 0:D.from}`)):So.value&&!o&&!((Z=d==null?void 0:d.query)!=null&&Z.action)&&Do.value&&!Zo.value?(j.value="",i.value="0",p.value="∞",me.value=!1,fe.value=!1,V.value=!1,Be.value="",ro.value="",(d==null?void 0:d.name)=="deposit"&&ke.push(`/deposit?action=create-pool&tokena=${(G=l==null?void 0:l.value)==null?void 0:G.address}&tokenb=${(re=s==null?void 0:s.value)==null?void 0:re.address}&from=${(ye=d==null?void 0:d.query)==null?void 0:ye.from}`)):(me.value=!1,fe.value=!1,V.value=!1,Be.value="",ro.value=""))},{immediate:!0});const ze=z(()=>B.value.assets&&l.value&&B.value.assets[l.value.address]?ot(B.value.assets[l.value.address].balance,l.value.decimals):"0"),Xe=z(()=>B.value.assets&&s.value&&B.value.assets[s.value.address]?ot(B.value.assets[s.value.address].balance,s.value.decimals):"0"),Go=async()=>{const o=await S.value.getTicks(A.value),t=o?S.value.getTickDataFromUrlData(o):[];_e.value=t},Cn=aa(),zo=z(()=>q.value.currentPositionInfo),ft=async o=>{var Z,G,re,ye,se,oe,qe,ue,Qe,Re;lo.value=!1,q.value.currentPositionInfo={},go(""),_o(n("tips.increaseLiquiditySuccess",{from:me.value?"":`${T.value} ${(Z=l.value)==null?void 0:Z.symbol}`,and:!me.value&&!fe.value?"and":"",to:fe.value?"":`${k.value} ${(G=s.value)==null?void 0:G.symbol}`})),Ge(!0);const t=N.value?g.value:!g.value;let u,b,w,y,$,U;const L=A.value.token_a.decimals,D=A.value.token_b.decimals;if(i.value==="0"&&p.value==="∞")w=S.value.TickUtil.getMinIndex(Number(A.value.tickSpacing)),y=S.value.TickUtil.getMaxIndex(Number(A.value.tickSpacing));else if(K.value=="custom"){N.value?(u=Number(i.value),b=Number(p.value)):(u=new h(1).div(p.value).toString(),b=new h(1).div(i.value).toString());try{$=u==0?S.value.TickUtil.getMinIndex(Number(A.value.tickSpacing)):S.value.TickMath.priceToTickIndex(new h(u),L,D)}catch{$=S.value.TickUtil.getMinIndex(Number(A.value.tickSpacing))}try{U=S.value.TickMath.priceToTickIndex(new h(b),L,D)}catch{U=S.value.TickUtil.getMaxIndex(Number(A.value.tickSpacing))}w=S.value.getNearestTickByTick($,Number(A.value.tickSpacing)),y=S.value.getNearestTickByTick(U,Number(A.value.tickSpacing))}else w=to.value[K.value].lower,y=to.value[K.value].upper;try{const he=await S.value.getAddLiquidityTransactionPayload({pool:{poolAddress:A.value.poolAddress,token_a:A.value.token_a,token_b:A.value.token_b},amount:g.value?T.value:k.value,fix_amount_a:t,tick_lower:w,tick_upper:y,index:0,slippage:Number(Oe.value)/100,roundUp:!0,collect_fee:!1,curSqrtPrice:new ho(A.value.current_sqrt_price)});let Fe;if(M.value.chainName==="Aptos")Fe=await B.value.currentWallet.signAndSubmitTransaction(he);else{const Ae=await B.value.currentWallet.signAndExecuteTransactionBlock(he);Fe=S.value.handleTx(Ae)}if(Fe&&Fe.hash){go(Fe.hash),Ge(!1),mo(!0);const Ae=qn();let we;A.value.needReverse?A.value.token_a.address.toLowerCase()===l.value.address.toLowerCase()&&A.value.token_b.address.toLowerCase()===s.value.address.toLowerCase()?we=!1:we=!0:A.value.token_a.address.toLowerCase()===l.value.address.toLowerCase()&&A.value.token_b.address.toLowerCase()===s.value.address.toLowerCase()?we=!0:we=!1;const no={title:"Supplied",desc:n("tips.addLiquiditySuccessText",{from:me.value?"":`${T.value} ${(re=l.value)==null?void 0:re.symbol}`,and:!me.value&&!fe.value?"and":"",to:fe.value?"":`${k.value} ${(ye=s.value)==null?void 0:ye.symbol}`}),hash:Fe.hash,tit:"Position Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:we?(se=l.value)==null?void 0:se.address:(oe=s.value)==null?void 0:oe.address,numa:we?T.value:k.value,logoa:we?q.value.tokensObj&&l.value&&l.value.address&&q.value.tokensObj[l.value.address]&&q.value.tokensObj[l.value.address].logoURI:q.value.tokensObj&&s.value&&s.value.address&&q.value.tokensObj[s.value.address]&&q.value.tokensObj[s.value.address].logoURI,tokenb:we?(ue=s.value)==null?void 0:ue.address:(qe=l.value)==null?void 0:qe.address,numb:we?k.value:T.value,logob:we?q.value.tokensObj&&s.value&&s.value.address&&q.value.tokensObj[s.value.address]&&q.value.tokensObj[s.value.address].logoURI:q.value.tokensObj&&l.value&&l.value.address&&q.value.tokensObj[l.value.address]&&q.value.tokensObj[l.value.address].logoURI},text:`Deopsit ${me.value?"":`${T.value} ${(Qe=l.value)==null?void 0:Qe.symbol}`} ${!me.value&&!fe.value?"and":""} ${fe.value?"":`${k.value} ${(Re=s.value)==null?void 0:Re.symbol}`}`};M.value.chainName!=="Aptos"&&(no.res=Fe.res),S.value.showTransitionPending(no);const Ve=await S.value.watchTransaction(no,!0);if(Ve.status){if(mo(!1),q.value.setCurrentPositionLoading(!0),E.value=!0,M.value.chainName==="Aptos"){if(await q.value.setCurrentPositionInfo(Ve.nftInfo[0].data.id.creator,Ve.nftInfo[0].data.id.collection,Ve.nftInfo[0].data.name,M.value.chainName),o)try{await Cn.subscribePosition({pool_address:zo.value.poolAddress,position_index:zo.value.index},zo.value.nftHash)}catch{}}else{const He=Ve.nftInfo,co=await et(2e3);if(await q.value.setCurrentPositionInfo(He==null?void 0:He.pool,"","",M.value.chainName,He==null?void 0:He.position),await et(1e3),o)try{await Cn.subscribePosition({pool_address:zo.value.poolAddress,position_index:zo.value.index},zo.value.nftHash)}catch{}}setTimeout(()=>{Je.updateCurrentPools(A.value.poolAddress,M.value.chainName),S.value.getAccount(B.value.address)},3e3),setTimeout(async()=>{Go()},3e3)}Wo()}else Ge(!1),fo(!0);T.value="",k.value=""}catch{T.value="",k.value="",Ge(!1),fo(!0)}},gt=o=>{switch(o){case"active":return n("newAdd.activeTips");case"passive":return n("newAdd.passiveTips");case"full range":return n("newAdd.fullRangTips");case"suggested":return n("newAdd.suggestedTips");case"custom":return n("newAdd.customTips")}},bt=o=>{switch(o){case"suggested":return n("newAdd.suggested");case"active":return n("newAdd.active");case"passive":return n("newAdd.conservative");case"full range":return n("newAdd.fullRange");case"custom":return n("newAdd.custom")}},dn=o=>{K.value=o.key.toLowerCase();const t=A.value.token_a.decimals,u=A.value.token_b.decimals,{lower:b,upper:w}=o,y=S.value.TickMath.tickIndexToPrice(b,t,u).toString(),$=S.value.TickMath.tickIndexToPrice(w,t,u).toString();if(o.key=="full range"){Ho.value=b,Eo.value=w,eo(!0),so();return}N.value?(O.value=String(y),i.value=String(y),X.value=String($),p.value=String($),Ho.value=b,Eo.value=w,so()):(O.value=String(1/Number($)),i.value=String(1/Number($)),X.value=String(1/Number(y)),p.value=String(1/Number(y)),Ho.value=S.value.TickMath.priceToTickIndex(new h(1/Number($)),t,u),Eo.value=S.value.TickMath.priceToTickIndex(new h(1/Number(y)),t,u),so())},kt=z(()=>q.value.tokensObj&&l.value.address&&q.value.tokensObj[l.value.address]&&q.value.tokensObj[l.value.address].logoURI),ht=z(()=>q.value.tokensObj&&s.value.address&&q.value.tokensObj[s.value.address]&&q.value.tokensObj[s.value.address].logoURI),qn=()=>{var u,b,w,y,$,U,L,D;let o=null;const t=q.value.poolConfigList;for(let Z=0;Z<t.length;Z++){const G=t[Z];if(G.token_a.address.toUpperCase()===((b=(u=l==null?void 0:l.value)==null?void 0:u.address)==null?void 0:b.toUpperCase())&&G.token_b.address.toUpperCase()===((y=(w=s==null?void 0:s.value)==null?void 0:w.address)==null?void 0:y.toUpperCase())||G.token_b.address.toUpperCase()===((U=($=l==null?void 0:l.value)==null?void 0:$.address)==null?void 0:U.toUpperCase())&&G.token_a.address.toUpperCase()===((D=(L=s==null?void 0:s.value)==null?void 0:L.address)==null?void 0:D.toUpperCase())){o=G;break}}return o},Ct=o=>{var u,b,w,y,$,U,L,D,Z,G;const t=qn();if(t&&(Te.value=t.needReverse?t==null?void 0:t.token_b:t==null?void 0:t.token_a,$e.value=t.needReverse?t==null?void 0:t.token_a:t==null?void 0:t.token_b,l.value=t.needReverse?t==null?void 0:t.token_b:t==null?void 0:t.token_a,s.value=t.needReverse?t==null?void 0:t.token_a:t==null?void 0:t.token_b,N.value=l.value.address===((u=t==null?void 0:t.token_a)==null?void 0:u.address)),We.value.includes(o.fee))j.value=o.label,Uo.value=o.fee,ke.push(`/deposit?tokena=${t?t.needReverse?(w=t==null?void 0:t.token_b)==null?void 0:w.address:(b=t==null?void 0:t.token_a)==null?void 0:b.address:N.value?l.value.address:s.value.address}&tokenb=${t?t.needReverse?($=t==null?void 0:t.token_a)==null?void 0:$.address:(y=t==null?void 0:t.token_b)==null?void 0:y.address:N.value?s.value.address:l.value.address}&fee=${o.fee}`);else{if(M.value.chainName!=="Aptos"&&!io.value[l.value.address]&&!io.value[s.value.address])return;j.value=o.label,A.value&&(i.value="",p.value=""),T.value="",k.value="",Be.value="",ro.value="",i.value="",p.value="",cn.value="",vn.value="",ke.push(`/deposit?action=create-pool&tokena=${t?t.needReverse?(L=t==null?void 0:t.token_b)==null?void 0:L.address:(U=t==null?void 0:t.token_a)==null?void 0:U.address:N.value?l.value.address:s.value.address}&tokenb=${t?t.needReverse?(Z=t==null?void 0:t.token_a)==null?void 0:Z.address:(D=t==null?void 0:t.token_b)==null?void 0:D.address:N.value?s.value.address:l.value.address}&fee=${o.fee}&from=${(G=d==null?void 0:d.query)==null?void 0:G.from}`)}},yt=f(!1),wt=()=>{A.value,lo.value=!0},I=f(null),cn=f(""),vn=f(""),pn=o=>{var U,L,D,Z,G,re,ye,se,oe,qe,ue,Qe;if(o?(cn.value=o,Be.value=o,ro.value=o,vn.value=new h(1).div(new h(o)).toString(),V.value=!1):(cn.value="",Be.value="",ro.value="",vn.value=""),!((U=Te.value)!=null&&U.address)||!((L=$e.value)!=null&&L.address))return;let t=!1;const u=q.value.poolConfigList;let b=null;for(let Re=0;Re<u.length;Re++){const he=u[Re];if(he.token_a.address.toUpperCase()===((Z=(D=Te==null?void 0:Te.value)==null?void 0:D.address)==null?void 0:Z.toUpperCase())&&he.token_b.address.toUpperCase()===((re=(G=$e==null?void 0:$e.value)==null?void 0:G.address)==null?void 0:re.toUpperCase())){t=he.needReverse,b=he;break}else if(he.token_b.address.toUpperCase()===((se=(ye=Te==null?void 0:Te.value)==null?void 0:ye.address)==null?void 0:se.toUpperCase())&&he.token_a.address.toUpperCase()===((qe=(oe=$e==null?void 0:$e.value)==null?void 0:oe.address)==null?void 0:qe.toUpperCase())){t=he.needReverse,b=he;break}}let w=!1;S.value.getIsSortedSymbols((ue=Te.value)==null?void 0:ue.address,(Qe=$e.value)==null?void 0:Qe.address)&&(w=!0);let y;w&&!N.value?y=!0:w&&N.value||!w&&N.value?y=!1:y=!0;const $=M.value.chainName=="Aptos"?ea:oa;if(l.value&&s.value&&o){const Re=b?b==null?void 0:b.token_a.decimals:w?$e.value.decimals:Te.value.decimals,he=b?b==null?void 0:b.token_b.decimals:w?Te.value.decimals:$e.value.decimals,Fe=o&&S.value.TickMath.priceToSqrtPriceX64(y?new h(1/o):new h(o),Re,he),Ae=o&&S.value.TickMath.priceToSqrtPriceX64(new h(1).div(o),l.value.decimals,s.value.decimals),we=S.value.TickMath.priceToTickIndex(y?new h(1).div(o):new h(o),Re,he),no=we-$[d.query.fee]*5,Ve=we+$[d.query.fee]*5,He=S.value.TickMath.tickIndexToPrice(no,Re,he).toString(),co=S.value.TickMath.tickIndexToPrice(Ve,Re,he).toString();Bo.value?(i.value="0",p.value="∞"):y?(i.value=String(1/co),p.value=String(1/He),O.value=String(1/co),X.value=String(1/He)):(i.value=He,p.value=co,O.value=He,X.value=co);const ko={token_a:b?b.token_a:w?$e.value:Te.value,token_b:b?b.token_b:w?Te.value:$e.value,isCreate:!0,tickSpacing:$[d.query.fee],currentPrice:o,current_sqrt_price:Fe,tick_lower:no,tick_upper:Ve,current_tick_index:we,currentPriceReverse:gn(String(1/o),6),reverse_current_sqrt_price:Ae,needReverse:t,fee:d.query.fee};I.value=ko,so()}else I.value=null,i.value="",p.value=""},Pt=async()=>{var D,Z,G,re;if(M.value.chainName!=="Aptos"){Ln();return}lo.value=!1;let o,t,u,b,w,y;const $=Te.value.decimals,U=$e.value.decimals;go(""),_o(n("tips.increaseLiquiditySuccess",{from:me.value?"":`${T.value} ${(D=l.value)==null?void 0:D.symbol}`,and:!me.value&&!fe.value?"and":"",to:fe.value?"":`${k.value} ${(Z=s.value)==null?void 0:Z.symbol}`})),Ge(!0),i.value==="0"&&p.value==="∞"?(u=S.value.TickUtil.getMinIndex(Number(I.value.tickSpacing)),b=S.value.TickUtil.getMaxIndex(Number(I.value.tickSpacing))):(N.value?(o=Number(i.value),t=Number(p.value)):(o=1/Number(p.value),t=1/Number(i.value)),w=o==0?-443636:S.value.TickMath.priceToTickIndex(new h(o),$,U),y=S.value.TickMath.priceToTickIndex(new h(t),$,U),u=S.value.getNearestTickByTick(w,Number(I.value.tickSpacing)),b=S.value.getNearestTickByTick(y,Number(I.value.tickSpacing)));const L=N.value?g.value:!g.value;try{const ye=await S.value.getCreatPoolTransactionPayload({coinTypeA:Te.value.address,coinTypeB:$e.value.address,tick_spacing:Number(I.value.tickSpacing),initialize_sqrt_price:new ho(I.value.current_sqrt_price),uri:"",current_tick_index:I.value.current_tick_index,max_amount_a:N.value?T.value:k.value,max_amount_b:N.value?k.value:T.value,tick_lower:u,tick_upper:b,slippage:Number(Oe.value)/100,decimalsA:$,decimalsB:U,fix_amount_a:L,liquidityInput:bo.value});let se;if(M.value.chainName==="Aptos")se=await B.value.currentWallet.signAndSubmitTransaction(ye);else{const oe=await B.value.currentWallet.signAndExecuteTransactionBlock(ye);se=S.value.handleTx(oe)}if(se&&se.hash){go(se.hash),Ge(!1),mo(!0);const oe={title:"Created pool",desc:"Pool created successfully ",hash:se.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(G=l.value)==null?void 0:G.address}`,numa:me.value?"":`- ${T.value}`,logoa:q.value.tokensObj&&l.value&&l.value.address&&q.value.tokensObj[l.value.address]&&q.value.tokensObj[l.value.address].logoURI,tokenb:`${(re=s.value)==null?void 0:re.address}`,numb:fe.value?"":`- ${k.value}`,logob:q.value.tokensObj&&s.value&&s.value.address&&q.value.tokensObj[s.value.address]&&q.value.tokensObj[s.value.address].logoURI},text:"Pool created successfully"};M.value.chainName!=="Aptos"&&(oe.res=se.res),S.value.showTransitionPending(oe),(await S.value.watchTransaction(oe,!0)).status&&(mo(!1),te.value=!0,setTimeout(()=>{Je.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),S.value.getAccount(B.value.address)},1e3)),Wo()}else Ge(!1),fo(!0);T.value="",k.value=""}catch{Je.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),lo.value=!1,T.value="",k.value="",Ge(!1),fo(!0)}},Ln=async()=>{var ye,se,oe,qe,ue,Qe,Re,he,Fe,Ae,we,no,Ve,He,co,ko,Rn,Un,On,Bn,Fn,jn,_n,Wn,Hn,En,Dn,zn,Xn,Vn,Kn,Zn,Gn,Jn,Qn;lo.value=!1;let o=!1;S.value.getIsSortedSymbols(Te.value.address,$e.value.address)&&(o=!0),go("");const t=me.value?"":`${T.value} ${(ye=l.value)==null?void 0:ye.symbol}`,u=fe.value?"":`${k.value} ${(se=s.value)==null?void 0:se.symbol}`;_o(n("tips.increaseLiquiditySuccess",{from:!o&&!((oe=I==null?void 0:I.value)!=null&&oe.needReverse)||o&&((qe=I==null?void 0:I.value)!=null&&qe.needReverse)?t:u,and:!me.value&&!fe.value?"and":"",to:!o&&!((ue=I==null?void 0:I.value)!=null&&ue.needReverse)||o&&((Qe=I==null?void 0:I.value)!=null&&Qe.needReverse)?u:t})),Ge(!0);let b="",w="",y="",$="",U="",L="",D=0,Z=0,G=!1,re;if(o||(Re=I==null?void 0:I.value)!=null&&Re.needReverse){const Fo=o&&!((he=I==null?void 0:I.value)!=null&&he.needReverse);b=Fo?(no=(we=I==null?void 0:I.value)==null?void 0:we.token_b)==null?void 0:no.address:(Ae=(Fe=I==null?void 0:I.value)==null?void 0:Fe.token_a)==null?void 0:Ae.address,w=Fo?(ko=(co=I==null?void 0:I.value)==null?void 0:co.token_a)==null?void 0:ko.address:(He=(Ve=I==null?void 0:I.value)==null?void 0:Ve.token_b)==null?void 0:He.address,y=Fo?(Bn=(On=I==null?void 0:I.value)==null?void 0:On.token_b)==null?void 0:Bn.decimals:(Un=(Rn=I==null?void 0:I.value)==null?void 0:Rn.token_a)==null?void 0:Un.decimals,$=Fo?(Wn=(_n=I==null?void 0:I.value)==null?void 0:_n.token_a)==null?void 0:Wn.decimals:(jn=(Fn=I==null?void 0:I.value)==null?void 0:Fn.token_b)==null?void 0:jn.decimals,(Hn=I==null?void 0:I.value)!=null&&Hn.needReverse?(U=N.value?T.value:k.value,L=N.value?k.value:T.value,D=N.value?Number(i.value):1/Number(p.value),Z=N.value?Number(p.value):1/Number(i.value),G=N.value?g.value:!g.value,re=N.value?Be.value:1/Number(Be.value)):(U=N.value?k.value:T.value,L=N.value?T.value:k.value,D=N.value?1/Number(p.value):Number(i.value),Z=N.value?1/Number(i.value):Number(p.value),G=N.value?!g.value:g.value,re=N.value?1/Number(Be.value):Be.value)}else b=(Dn=(En=I==null?void 0:I.value)==null?void 0:En.token_a)==null?void 0:Dn.address,w=(Xn=(zn=I==null?void 0:I.value)==null?void 0:zn.token_b)==null?void 0:Xn.address,y=(Kn=(Vn=I==null?void 0:I.value)==null?void 0:Vn.token_a)==null?void 0:Kn.decimals,$=(Gn=(Zn=I==null?void 0:I.value)==null?void 0:Zn.token_b)==null?void 0:Gn.decimals,U=N.value?T.value:k.value,L=N.value?k.value:T.value,D=N.value?Number(i.value):1/Number(p.value),Z=N.value?Number(p.value):1/Number(i.value),G=N.value?g.value:!g.value,re=N.value?Be.value:1/Number(Be.value);try{const Fo=await S.value.getCreatPoolTransactionPayload({coinTypeA:b,coinTypeB:w,decimalsA:y,decimalsB:$,amountA:U,amountB:L,minPrice:i.value=="0"&&p.value=="∞"?"0":D,maxPrice:i.value=="0"&&p.value=="∞"?"∞":Z,fix_amount_a:G,tick_spacing:Number(I.value.tickSpacing),slippage:Number(Oe.value)/100,price:re}),St=await B.value.currentWallet.signAndExecuteTransactionBlock(Fo),Jo=S.value.handleTx(St);if(Jo&&Jo.hash){go(Jo.hash),Ge(!1),mo(!0);const Pn={title:"Created pool",desc:"Pool created successfully ",hash:Jo.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(Jn=l.value)==null?void 0:Jn.address}`,numa:me.value?"":`- ${T.value}`,logoa:q.value.tokensObj&&l.value&&l.value.address&&q.value.tokensObj[l.value.address]&&q.value.tokensObj[l.value.address].logoURI,tokenb:`${(Qn=s.value)==null?void 0:Qn.address}`,numb:fe.value?"":`- ${k.value}`,logob:q.value.tokensObj&&s.value&&s.value.address&&q.value.tokensObj[s.value.address]&&q.value.tokensObj[s.value.address].logoURI},text:"Pool created successfully"};M.value.chainName!=="Aptos"&&(Pn.res=Jo.res),S.value.showTransitionPending(Pn),(await S.value.watchTransaction(Pn,!0)).status&&(mo(!1),te.value=!0,setTimeout(()=>{Je.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),S.value.getAccount(B.value.address)},1e3)),Wo()}else Ge(!1),fo(!0);T.value="",k.value=""}catch{lo.value=!1,Je.setPoolConfigList(M.value.chainName,M.value.filterCoinsObj),T.value="",k.value="",Ge(!1),fo(!0)}},It=z(()=>{var o,t,u,b,w,y;return((o=l.value)==null?void 0:o.isSelfBuilt)||((t=s.value)==null?void 0:t.isSelfBuilt)||((b=q.value.tokensObj[(u=l.value)==null?void 0:u.address])==null?void 0:b.isSelfBuilt)||((y=q.value.tokensObj[(w=s.value)==null?void 0:w.address])==null?void 0:y.isSelfBuilt)}),Tt=o=>{var t;return(o==null?void 0:o.logoURI)||(o==null?void 0:o.logo_url)||((t=q.value.tokensObj[o==null?void 0:o.address])==null?void 0:t.logo_url)||(M.value.theme==="default"?Ke("/image/coins/unknown.png"):Ke("/image/coins/sui-unknown.png"))},yn=(o,t)=>{const u=localStorage.getItem(o.address);q.value.tokensObj&&q.value.tokensObj[o.address]&&q.value.tokensObj[o.address].isSelfBuilt&&!u&&(t=="fromCoin"&&(Vo.value=o),t=="toCoin"&&(Ko.value=o),Mn.value=!0)};be(()=>[l.value,s.value],([o,t])=>{o&&!Co(o)&&yn(o,"fromCoin"),t&&!Co(t)&&yn(t,"toCoin")},{immediate:!0});const Mn=f(!1),$t=()=>{mn.value!=="Aptos"?ke.push("/pool/list"):ke.push("/pools")},mn=z(()=>M.value.chainName);be(()=>[M.value.chainName,M.value.filterCoinsObj],([o,t])=>{o&&t&&Je.setPoolConfigList(o,t)},{immediate:!0}),be(()=>[We.value,io.value,l.value,s.value,So.value],([o,t,u,b,w])=>{w&&o&&t&&!o.includes(1e-4)&&!o.includes(5e-4)&&!o.includes(.0025)&&!o.includes(.01)&&!t[u==null?void 0:u.address]&&!t[b==null?void 0:b.address]&&(j.value="")},{immediate:!0});const Bo=f(!0),wn=()=>{eo(!Bo.value),Bo.value=!Bo.value,pn(I.value.currentPrice)};return{isFullRange:Bo,clickFullRange:wn,warningToCoin:Ko,warningFromCoin:Vo,getTokenSource:yn,closeTokenWarning:$t,isShowTokenWarning:Mn,chainName:mn,hasCreatePool:So,isCreateSuccess:te,intPriceReverse:vn,isShowMask:Io,isPc:e,intPrice:cn,createPoolToCoin:$e,createPoolFromCoin:Te,getPoolInfoSuccess:Do,toCreatePool:Pt,createPoolInfo:I,changecurrentPrice:pn,isShowCreatePoolModal:yt,addOrCreate:wt,halfBtnSelect:sn,selectFee:Ct,isViewDetail:E,addCommom:Ye,decimalUi:Ue,fromCoinUrl:kt,toCoinUrl:ht,t:n,wallet:B,toAdd:ft,chartLoading:V,currentTick:ae,tickList:_e,poolInfo:A,storeIndex:M,importIcon:Ke,addLiquidityBtnText:R,slippage:Oe,countdown:Q,loading:Y,fromCoin:l,toCoin:s,openCoinSelect:an,onCoinSelect:ln,existingCoins:F,lastSelectCoin:ie,currentCoinKey:ee,showCoinSelect:Pe,fromCoinAmount:T,toCoinAmount:k,maxBtnSelect:rn,fixedFromCoin:g,isShowLiquidityModal:lo,direct:N,toggle:tn,edit:Ce,inputValue:j,feeTierList:Ze,minPrice:i,maxPrice:p,invalidPriceRange:Xo,defaultMinPrice:O,defaultMaxPrice:X,priceRangeChangeMin:on,priceRangeChangeMax:nn,toFullRange:eo,clearAll:un,clickClear:W,positionError:de,positionTips:Ne,router:ke,clickRefresh:$o,fromCoinBlance:ze,toCoinBlance:Xe,showToCoinLock:fe,showFromCoinLock:me,currentPriceReverse:ro,currentPrice:Be,getPirceText:gt,currentPriceTab:K,currentPriceTabList:To,getPirceKey:bt,priceTab:dn,aprRewardsParameter:Ie,aprRewardsDateList:le,aprTab:No,reviseValue:qo,label:De,aprTitle:Le,isCreatePool:We,before7dContractPriceLowest:oo,before7dContractPriceHighest:Me,aprRewardsTime:pe,addLiquidityBtnDisabled:jo,checkNullObj:Co,sFixD:Qo,toCreateSuiPool:Ln,isSelfBuilt:It,getCoinIcon:Tt,isCreatePoolToCoin:Mo,isCreatePoolFromCoin:Ro,filterCreatePoolCoin:io,poolTvl:po}}});const ao=e=>(xo("data-v-bb88075e"),e=e(),en(),e),Vi={class:"pools-container"},Ki={key:0,class:"content pc-content"},Zi={class:"content-left"},Gi={class:"content-left-bg"},Ji={class:"content-left-title"},Qi={key:0,class:"pool-warning"},Yi={class:"coin-select"},xi={key:0,class:"icon","aria-hidden":"true"},el=ao(()=>a("use",{"xlink:href":"#icon-edit"},null,-1)),ol=[el],nl={key:0,class:"fee-container"},tl=["onClick"],al={key:0,class:"icon fee-disabled","aria-hidden":"true"},il=ao(()=>a("use",{"xlink:href":"#icon-icon-disable"},null,-1)),ll=[il],rl={key:1},sl={key:2},ul={key:0},dl={key:1,class:"text-active"},cl={class:"deposit-title"},vl={class:"card-container"},pl={class:"card-item"},ml={class:"card-item"},fl={key:0,class:"icon","aria-hidden":"true"},gl=ao(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),bl=[gl],kl={class:"pc-network"},hl={class:"content-right"},Cl={key:0,class:"initPrice-mask"},yl={class:"content-right-title"},wl=ao(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-information"})],-1)),Pl={class:"content-right-bg"},Il={key:1,class:"price-tab"},Tl=["onClick"],$l={key:2,class:"create-pool-tips"},Sl={key:3,class:"set-price-range"},Al={class:"radio"},Nl={key:0,src:vt},ql=ao(()=>a("span",null,"Full Range",-1)),Ll={key:0},Ml={key:1,class:"coin"},Rl={key:2,class:"coin"},Ul={key:3,class:"no-price"},Ol={alt:""},Bl={alt:""},Fl={key:6,class:"position-tips"},jl={alt:""},_l={class:"tips"},Wl={key:7,class:"position-tips"},Hl={alt:""},El={class:"error"},Dl={key:8,class:"d3-chart-box"},zl={key:9,class:"day-7-price-range"},Xl=ao(()=>a("i",null,null,-1)),Vl={class:"gray"},Kl={key:11,class:"create-pool-tips"},Zl={key:12,class:"create-pool-warning"},Gl={key:1,class:"no-data"},Jl={key:0,src:pt,alt:""},Ql={key:1,src:mt,alt:""},Yl={key:1,class:"content h5-content"},xl={class:"content-left"},er={class:"content-left-bg"},or={class:"content-left-title"},nr={key:0,class:"pool-warning"},tr={class:"coin-select"},ar={key:0,class:"icon","aria-hidden":"true"},ir=ao(()=>a("use",{"xlink:href":"#icon-edit"},null,-1)),lr=[ir],rr={key:0,class:"fee-container"},sr=["onClick"],ur={key:0},dr={key:1},cr={key:0},vr={key:1,class:"text-active"},pr={class:"content-right"},mr={key:0,class:"initPrice-mask"},fr={class:"content-right-title"},gr=ao(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-information"})],-1)),br={class:"content-right-bg"},kr={key:1,class:"price-tab"},hr=["onClick"],Cr={key:2,class:"create-pool-tips"},yr={key:3,class:"set-price-range"},wr={class:"radio"},Pr={key:0,src:vt},Ir=ao(()=>a("span",null,"Full Range",-1)),Tr={key:0},$r={key:1,class:"coin"},Sr={key:2,class:"coin"},Ar={key:3,class:"no-price"},Nr={alt:""},qr={alt:""},Lr={key:6,class:"position-tips"},Mr=["src"],Rr={class:"tips"},Ur={key:7,class:"position-tips"},Or=["src"],Br={class:"error"},Fr={key:8,class:"d3-chart-box"},jr={key:9,class:"day-7-price-range"},_r=ao(()=>a("i",null,null,-1)),Wr={class:"gray"},Hr={key:11,class:"create-pool-tips"},Er={key:1,class:"no-data"},Dr={key:0,src:pt,alt:""},zr={key:1,src:mt,alt:""},Xr={key:0,class:"icon","aria-hidden":"true"},Vr=ao(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),Kr=[Vr],Zr={class:"pc-network"},Gr={class:"new-right"},Jr={class:"deposit-title"},Qr={class:"card-container"},Yr={class:"card-item"},xr={class:"card-item"},es={key:0,class:"icon","aria-hidden":"true"},os=ao(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),ns=[os],ts={class:"h5-network"};function as(e,n,_,H,B,J){var ae,V,ne,_e,K,Ie,pe,Le,le,De,x,M,Io,S,io,No,qo,To,$o,Xo,eo,We,vo,po,Ze,Oe,Lo,jo,R,P,oo,Me,ke,l,s,on,nn,tn,Mo,Ro,an,Te,$e,Vo,Ko,ln,rn,sn,un,lo,mo,fo,Ge,_o,go,Wo,d,Je,So,q,bo,me,fe,Ho,Eo,Be,ro,so,Uo,Zo,A;const Q=At,te=va,E=Bt,Y=wa,ee=Ft,F=jt,ie=Aa,Pe=Ht,N=dt,xe=Dt,g=Ra,W=Qa,T=ii,k=ct,i=Zt,p=zi,O=Yt,X=xt,Ce=na,Ne=ta,de=Et,j=Nn("image");return r(),m("div",Vi,[ve(Q,{url:e.storeIndex.theme=="default"?"/pools":"/pool/list"},null,8,["url"]),ve(te,{"pool-info":e.poolInfo,onClearAll:e.clearAll,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClearAll","onClickRefresh"]),e.isPc?(r(),m("div",Ki,[a("div",Zi,[a("div",Gi,[a("div",Ji,[je(c(e.$t("common.selectPool"))+" ",1),ve(E,{placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.t("newAdd.poolWarning")),1)]),default:Ee(()=>[e.isSelfBuilt?(r(),m("div",Qi)):C("",!0)]),_:1})]),a("div",Yi,[ve(Y,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.logoURI:e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.symbol:e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b:e.poolInfo.token_a:e.createPoolFromCoin,onClick:n[0]||(n[0]=v=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ve(Y,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.logoURI:e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.symbol:e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a:e.poolInfo.token_b:e.createPoolToCoin,onClick:n[1]||(n[1]=v=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),a("div",{class:ge(["pool-fee",e.edit?"pool-fee-edit":""])},[a("div",{class:"pool-fee-header",onClick:n[2]||(n[2]=v=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[a("span",{class:ge(e.inputValue?"":"fee-span")},c(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(r(),m("svg",xi,ol)):C("",!0)]),e.edit?(r(),m("div",nl,[(r(!0),m(Ao,null,Yo(e.feeTierList,(v,to)=>{var Oo,Do,ze,Xe,Go;return r(),m("div",{key:to,class:ge(["fee-item",[e.inputValue&&e.inputValue==v.label?"fee-item-active":"",e.isCreatePool.includes(v.fee)&&e.$route.query.action?" pool-created":" pool-not-created",e.chainName!=="Aptos"&&!e.isCreatePool.includes(v.fee)&&!e.filterCreatePoolCoin[(Oo=e.fromCoin)==null?void 0:Oo.address]&&!e.filterCreatePoolCoin[(Do=e.toCoin)==null?void 0:Do.address]?"disabled":""]]),onClick:$n(Cn=>e.selectFee(v),["stop"])},[e.chainName!=="Aptos"&&!e.isCreatePool.includes(v.fee)&&!e.filterCreatePoolCoin[(ze=e.fromCoin)==null?void 0:ze.address]&&!e.filterCreatePoolCoin[(Xe=e.toCoin)==null?void 0:Xe.address]?(r(),m("svg",al,ll)):C("",!0),e.$route.query.action=="create-pool"?(r(),m("div",rl,[a("p",null,c(v.title),1),a("p",{class:ge(e.isCreatePool&&e.isCreatePool.includes(v.fee)?"text-default":"text-theme")},c(e.isCreatePool&&e.isCreatePool.includes(v.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(r(),m("div",sl,[a("p",{class:ge(e.isCreatePool&&e.isCreatePool.includes(v.fee)?"text-active":"text-default")},c(v.title),3),e.isCreatePool&&!e.isCreatePool.includes(v.fee)?(r(),m("p",ul,c(e.$t("newAdd.notCreated")),1)):C("",!0),e.isCreatePool&&e.isCreatePool.includes(v.fee)?(r(),m("p",dl,c(e.poolTvl&&e.poolTvl[v.fee]&&((Go=e.poolTvl[v.fee])==null?void 0:Go.rateText)),1)):C("",!0)])),a("span",null,c(v.text),1)],10,tl)}),128))])):C("",!0)],2),a("div",cl,c(e.$t("newAdd.depositAmounts")),1),a("div",vl,[a("div",pl,[ve(ee,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[3]||(n[3]=v=>e.fromCoinAmount=v),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[4]||(n[4]=v=>e.maxBtnSelect("fromCoin")),onOnHalf:n[5]||(n[5]=v=>e.halfBtnSelect("fromCoin")),onOnInput:n[6]||(n[6]=v=>{e.fromCoinAmount=v,e.fixedFromCoin=!0}),onOnSelect:n[7]||(n[7]=v=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&e.$route.query.action!=="create-pool"?(r(),ce(F,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),a("div",ml,[ve(ee,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[8]||(n[8]=v=>e.toCoinAmount=v),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[9]||(n[9]=v=>e.maxBtnSelect("toCoin")),onOnHalf:n[10]||(n[10]=v=>e.halfBtnSelect("toCoin")),onOnInput:n[11]||(n[11]=v=>{e.toCoinAmount=v,e.fixedFromCoin=!1}),onOnSelect:n[12]||(n[12]=v=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&e.$route.query.action!=="create-pool"?(r(),ce(F,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),((V=(ae=e.$route)==null?void 0:ae.query)==null?void 0:V.action)=="create-pool"&&(e.showToCoinLock||e.showFromCoinLock||!e.filterCreatePoolCoin[(ne=e.fromCoin)==null?void 0:ne.address]&&!e.filterCreatePoolCoin[(_e=e.toCoin)==null?void 0:_e.address])?(r(),ce(ie,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(r(),m("img",{key:1,class:"add",src:tt,alt:"",onClick:n[13]||(n[13]=(...v)=>e.toggle&&e.toggle(...v))})):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(r(),m("img",{key:2,class:"add",src:at,alt:"",onClick:n[14]||(n[14]=(...v)=>e.toggle&&e.toggle(...v))})):C("",!0)]),e.poolInfo?(r(),ce(Pe,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):C("",!0)]),ve(N,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:n[15]||(n[15]=v=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ee(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")&&e.wallet.connected?(r(),m("svg",fl,bl)):C("",!0),a("span",null,c(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",kl,[ve(xe)])]),a("div",hl,[e.isShowMask?(r(),m("div",Cl)):C("",!0),a("div",yl,[je(c((K=e.$route)!=null&&K.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(r(),ce(E,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.$t("newAdd.selectRangeTips")),1)]),default:Ee(()=>[wl]),_:1})):C("",!0)]),a("div",Pl,[!((pe=(Ie=e.$route)==null?void 0:Ie.query)!=null&&pe.action)&&e.poolInfo||(le=(Le=e.$route)==null?void 0:Le.query)!=null&&le.action?(r(),m(Ao,{key:0},[(x=(De=e.$route)==null?void 0:De.query)!=null&&x.action&&!e.poolInfo?(r(),ce(g,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):C("",!0),e.poolInfo?(r(),m("div",Il,[(r(!0),m(Ao,null,Yo(e.currentPriceTabList,v=>(r(),m("div",{key:v,class:ge(["price-item",{"price-item-active":v.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:to=>e.priceTab(v)},[ve(E,{placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.getPirceText(v.key)),1)]),default:Ee(()=>[je(" "+c(e.getPirceKey(v.key)),1)]),_:2},1024)],10,Tl))),128))])):C("",!0),(Io=(M=e.$route)==null?void 0:M.query)!=null&&Io.action&&!e.poolInfo?(r(),m("div",$l,c(e.$t("newAdd.createPoolInitialText")),1)):C("",!0),!e.poolInfo&&((io=(S=e.$route)==null?void 0:S.query)!=null&&io.action)?(r(),m("div",Sl,[a("div",null,c(e.$t("common.setPriceRange")),1),a("div",null,[a("div",{class:ge(["tab-item",e.isFullRange?"tab-item-active tab-item-farms-active":""]),onClick:n[16]||(n[16]=$n(v=>e.clickFullRange(),["stop"]))},[a("div",Al,[e.isFullRange&&e.chainName=="Sui"?(r(),m("img",Nl)):C("",!0)]),ql],2)])])):C("",!0),e.poolInfo||(qo=(No=e.$route)==null?void 0:No.query)!=null&&qo.action?(r(),m("div",{key:4,class:ge(["current-price",($o=(To=e.$route)==null?void 0:To.query)!=null&&$o.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(r(),m("span",Ll,c(e.$t("common.currentPrice")),1)):C("",!0),e.fromCoin&&e.toCoin&&e.direct?(r(),m("div",Ml,[a("span",null,c(e.$t("common.currentPrice")),1),je(" "+c(e.currentPrice===""?"--":("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Ue))(e.currentPrice,6)))+" "+c((Xo=e.toCoin)==null?void 0:Xo.symbol)+" per "+c((eo=e.fromCoin)==null?void 0:eo.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(r(),m("div",Rl,[a("span",null,c(e.$t("common.currentPrice")),1),je(" "+c(e.currentPriceReverse===""?"--":("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Ue))(e.currentPriceReverse,6)))+" "+c((We=e.toCoin)==null?void 0:We.symbol)+" per "+c((vo=e.fromCoin)==null?void 0:vo.symbol),1)])):(r(),m("div",Ul,"0.0")),e.fromCoin&&e.toCoin?(r(),m("div",{key:4,class:ge(e.poolInfo&&((po=e.poolInfo)!=null&&po.needReverse)||e.createPoolInfo&&((Ze=e.createPoolInfo)!=null&&Ze.needReverse)?"toggle reverse":"toggle")},[a("div",{class:ge(e.direct?"item active-item":"item"),onClick:n[17]||(n[17]=v=>e.direct?"":e.toggle())},[uo(a("img",Ol,null,512),[[j,e.getCoinIcon(e.direct?e.fromCoin:e.toCoin)]]),je(" "+c(e.direct?(Oe=e.fromCoin)==null?void 0:Oe.symbol:(Lo=e.toCoin)==null?void 0:Lo.symbol),1)],2),a("div",{class:ge(e.direct?"item ":"item active-item"),onClick:n[18]||(n[18]=v=>e.direct?e.toggle():"")},[uo(a("img",Bl,null,512),[[j,e.getCoinIcon(e.direct?e.toCoin:e.fromCoin)]]),je(" "+c(e.direct?(jo=e.toCoin)==null?void 0:jo.symbol:(R=e.fromCoin)==null?void 0:R.symbol),1)],2)],2)):C("",!0)],2)):C("",!0),e.poolInfo||(oo=(P=e.$route)==null?void 0:P.query)!=null&&oo.action?(r(),ce(W,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,"int-price":e.intPrice,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","int-price","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):C("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(r(),m("div",Fl,[uo(a("img",jl,null,512),[[j,("importIcon"in e?e.importIcon:Se(Ke))("/image/icon-tips@2x.png")]]),a("p",_l,c(e.$t("tips.positionTips")),1)])):C("",!0),e.positionError&&(e.poolInfo||(ke=(Me=e.$route)==null?void 0:Me.query)!=null&&ke.action)&&(Number(e.minPrice)||Number(e.maxPrice))?(r(),m("div",Wl,[uo(a("img",Hl,null,512),[[j,("importIcon"in e?e.importIcon:Se(Ke))("/image/icon-tips-error@2x.png")]]),a("p",El,c(e.$t("tips.positionError")),1)])):C("",!0),e.fromCoin&&e.toCoin&&e.poolInfo&&((l=e.poolInfo)!=null&&l.current_sqrt_price)?(r(),m("div",Dl,[e.fromCoin&&e.toCoin&&e.poolInfo?(r(),ce(T,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):C("",!0),e.chartLoading?(r(),ce(k,{key:1})):C("",!0)])):C("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(r(),m("div",zl,[Xl,a("span",Vl,c(e.aprRewardsTime)+" Price Range",1),a("span",null,c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Ue))(e.before7dContractPriceLowest,6)))+" - "+c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Ue))(e.before7dContractPriceHighest,6))),1)])):C("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(r(),ce(i,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):C("",!0),(on=(s=e.$route)==null?void 0:s.query)!=null&&on.action&&!e.poolInfo&&!e.showFromCoinLock&&!e.showToCoinLock?(r(),m("div",Kl,c(e.$t("newAdd.createPoolText")),1)):C("",!0),((tn=(nn=e.$route)==null?void 0:nn.query)==null?void 0:tn.action)=="create-pool"&&(e.showFromCoinLock||e.showToCoinLock)&&Number(e.maxPrice)>Number(e.minPrice)?(r(),m("div",Zl," To create a new pool, the initial price you set must be within your price range. ")):C("",!0)],64)):(r(),m("div",Gl,[e.storeIndex.theme=="default"?(r(),m("img",Jl)):(r(),m("img",Ql)),a("p",null,c(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&e.$route.query.action!=="create-pool"?(r(),ce(p,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):C("",!0)])])):C("",!0),e.isPc?C("",!0):(r(),m("div",Yl,[a("div",xl,[a("div",er,[a("div",or,[je(c(e.$t("common.selectPool"))+" ",1),ve(E,{placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.t("newAdd.poolWarning")),1)]),default:Ee(()=>[e.poolInfo&&e.isSelfBuilt?(r(),m("div",nr)):C("",!0)]),_:1})]),a("div",tr,[ve(Y,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:n[19]||(n[19]=v=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ve(Y,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:n[20]||(n[20]=v=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),a("div",{class:ge(["pool-fee",e.edit?"pool-fee-edit":""])},[a("div",{class:"pool-fee-header",onClick:n[21]||(n[21]=v=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[a("span",{class:ge(e.inputValue?"":"fee-span")},c(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(r(),m("svg",ar,lr)):C("",!0)]),e.edit?(r(),m("div",rr,[e.getPoolInfoSuccess?(r(!0),m(Ao,{key:1},Yo(e.feeTierList,(v,to)=>{var Oo;return r(),m("div",{key:to,class:ge(["fee-item",[e.inputValue&&e.inputValue==v.label?"fee-item-active":"",e.isCreatePool&&e.isCreatePool.length>0&&e.isCreatePool.includes(v.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:Do=>e.selectFee(v)},[e.$route.query.action=="create-pool"?(r(),m("div",ur,[a("p",null,c(v.title),1),a("p",{class:ge(e.isCreatePool.includes(v.fee)?"text-default":"text-theme")},c(e.isCreatePool.includes(v.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(r(),m("div",dr,[a("p",{class:ge(e.isCreatePool.includes(v.fee)?"text-active":"text-default")},c(v.title),3),e.isCreatePool&&!e.isCreatePool.includes(v.fee)?(r(),m("p",cr,c(e.$t("newAdd.notCreated")),1)):C("",!0),e.isCreatePool&&e.isCreatePool.includes(v.fee)?(r(),m("p",vr,c(e.poolTvl&&e.poolTvl[v.fee]&&((Oo=e.poolTvl[v.fee])==null?void 0:Oo.rateText)),1)):C("",!0)])),a("span",null,c(v.text),1)],10,sr)}),128)):(r(),ce(k,{key:0}))])):C("",!0)],2)]),a("div",pr,[e.isShowMask?(r(),m("div",mr)):C("",!0),a("div",fr,[je(c((Mo=e.$route)!=null&&Mo.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(r(),ce(E,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.$t("newAdd.selectRangeTips")),1)]),default:Ee(()=>[gr]),_:1})):C("",!0)]),a("div",br,[!((an=(Ro=e.$route)==null?void 0:Ro.query)!=null&&an.action)&&e.poolInfo||($e=(Te=e.$route)==null?void 0:Te.query)!=null&&$e.action?(r(),m(Ao,{key:0},[(Ko=(Vo=e.$route)==null?void 0:Vo.query)!=null&&Ko.action&&!e.poolInfo?(r(),ce(g,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):C("",!0),e.poolInfo?(r(),m("div",kr,[(r(!0),m(Ao,null,Yo(e.currentPriceTabList,v=>(r(),m("div",{key:v,class:ge(["price-item",{"price-item-active":v.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:to=>e.priceTab(v)},[ve(E,{placement:"bottom","arrow-point-at-center":""},{title:Ee(()=>[a("span",null,c(e.getPirceText(v.key)),1)]),default:Ee(()=>[je(" "+c(e.getPirceKey(v.key)),1)]),_:2},1024)],10,hr))),128))])):C("",!0),(rn=(ln=e.$route)==null?void 0:ln.query)!=null&&rn.action&&!e.poolInfo?(r(),m("div",Cr,c(e.$t("newAdd.createPoolInitialText")),1)):C("",!0),!e.poolInfo&&((un=(sn=e.$route)==null?void 0:sn.query)!=null&&un.action)?(r(),m("div",yr,[a("div",null,c(e.$t("common.setPriceRange")),1),a("div",null,[a("div",{class:ge(["tab-item",e.isFullRange?"tab-item-active tab-item-farms-active":""]),onClick:n[22]||(n[22]=$n(v=>e.clickFullRange(),["stop"]))},[a("div",wr,[e.isFullRange&&e.chainName=="Sui"?(r(),m("img",Pr)):C("",!0)]),Ir],2)])])):C("",!0),e.poolInfo||(mo=(lo=e.$route)==null?void 0:lo.query)!=null&&mo.action?(r(),m("div",{key:4,class:ge(["current-price",(Ge=(fo=e.$route)==null?void 0:fo.query)!=null&&Ge.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(r(),m("span",Tr,c(e.$t("common.currentPrice")),1)):C("",!0),e.fromCoin&&e.toCoin&&e.direct?(r(),m("div",$r,[a("span",null,c(e.$t("common.currentPrice")),1),je(" "+c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Ue))(e.currentPrice,6)))+" "+c((_o=e.toCoin)==null?void 0:_o.symbol)+" per "+c((go=e.fromCoin)==null?void 0:go.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(r(),m("div",Sr,[a("span",null,c(e.$t("common.currentPrice")),1),je(" "+c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Ue))(e.currentPriceReverse,6)))+" "+c((Wo=e.toCoin)==null?void 0:Wo.symbol)+" per "+c((d=e.fromCoin)==null?void 0:d.symbol),1)])):(r(),m("div",Ar,"0.0")),e.fromCoin&&e.toCoin?(r(),m("div",{key:4,class:ge(e.poolInfo&&((Je=e.poolInfo)!=null&&Je.needReverse)||e.createPoolInfo&&((So=e.createPoolInfo)!=null&&So.needReverse)?"toggle reverse":"toggle")},[a("div",{class:ge(e.direct?"item active-item":"item"),onClick:n[23]||(n[23]=v=>e.direct?"":e.toggle())},[uo(a("img",Nr,null,512),[[j,e.getCoinIcon(e.direct?e.fromCoin:e.toCoin)]]),je(" "+c(e.direct?(q=e.fromCoin)==null?void 0:q.symbol:(bo=e.toCoin)==null?void 0:bo.symbol),1)],2),a("div",{class:ge(e.direct?"item ":"item active-item"),onClick:n[24]||(n[24]=v=>e.direct?e.toggle():"")},[uo(a("img",qr,null,512),[[j,e.getCoinIcon(e.direct?e.toCoin:e.fromCoin)]]),je(" "+c(e.direct?(me=e.toCoin)==null?void 0:me.symbol:(fe=e.fromCoin)==null?void 0:fe.symbol),1)],2)],2)):C("",!0)],2)):C("",!0),e.poolInfo||(Eo=(Ho=e.$route)==null?void 0:Ho.query)!=null&&Eo.action?(r(),ce(W,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):C("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(r(),m("div",Lr,[a("img",{src:("importIcon"in e?e.importIcon:Se(Ke))("/image/icon-tips@2x.png"),alt:""},null,8,Mr),a("p",Rr,c(e.$t("tips.positionTips")),1)])):C("",!0),e.positionError&&(e.poolInfo||(ro=(Be=e.$route)==null?void 0:Be.query)!=null&&ro.action)?(r(),m("div",Ur,[a("img",{src:("importIcon"in e?e.importIcon:Se(Ke))("/image/icon-tips-error@2x.png"),alt:""},null,8,Or),a("p",Br,c(e.$t("tips.positionError")),1)])):C("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(r(),m("div",Fr,[e.fromCoin&&e.toCoin&&e.poolInfo?(r(),ce(T,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):C("",!0),e.chartLoading?(r(),ce(k,{key:1})):C("",!0)])):C("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(r(),m("div",jr,[_r,a("span",Wr,c(e.aprRewardsTime)+" Price Range",1),a("span",null,c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Ue))(e.before7dContractPriceLowest,6)))+" - "+c(("addCommom"in e?e.addCommom:Se(Ye))(("decimalUi"in e?e.decimalUi:Se(Ue))(e.before7dContractPriceHighest,6))),1)])):C("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(r(),ce(i,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):C("",!0),(Uo=(so=e.$route)==null?void 0:so.query)!=null&&Uo.action&&!e.poolInfo?(r(),m("div",Hr,c(e.$t("newAdd.createPoolText")),1)):C("",!0)],64)):(r(),m("div",Er,[e.storeIndex.theme=="default"?(r(),m("img",Dr)):(r(),m("img",zr)),a("p",null,c(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.isSelfBuilt?(r(),ce(p,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):C("",!0)]),ve(N,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:n[25]||(n[25]=v=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ee(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(r(),m("svg",Xr,Kr)):C("",!0),a("span",null,c(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",Zr,[ve(xe)])]),a("div",Gr,[a("div",Jr,c(e.$t("newAdd.depositAmounts")),1),a("div",Qr,[a("div",Yr,[ve(ee,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[26]||(n[26]=v=>e.fromCoinAmount=v),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[27]||(n[27]=v=>e.maxBtnSelect("fromCoin")),onOnHalf:n[28]||(n[28]=v=>e.halfBtnSelect("fromCoin")),onOnInput:n[29]||(n[29]=v=>{e.fromCoinAmount=v,e.fixedFromCoin=!0}),onOnSelect:n[30]||(n[30]=v=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(r(),ce(F,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),a("div",xr,[ve(ee,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[31]||(n[31]=v=>e.toCoinAmount=v),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[32]||(n[32]=v=>e.maxBtnSelect("toCoin")),onOnHalf:n[33]||(n[33]=v=>e.halfBtnSelect("toCoin")),onOnInput:n[34]||(n[34]=v=>{e.toCoinAmount=v,e.fixedFromCoin=!1}),onOnSelect:n[35]||(n[35]=v=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(r(),ce(F,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),(A=(Zo=e.$route)==null?void 0:Zo.query)!=null&&A.action&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(r(),ce(ie,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(r(),m("img",{key:1,class:"add",src:tt,alt:"",onClick:n[36]||(n[36]=(...v)=>e.toggle&&e.toggle(...v))})):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(r(),m("img",{key:2,class:"add",src:at,alt:"",onClick:n[37]||(n[37]=(...v)=>e.toggle&&e.toggle(...v))})):C("",!0)]),e.poolInfo||e.createPoolInfo?(r(),ce(Pe,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):C("",!0)])])),ve(N,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn h5-btn",onClick:n[38]||(n[38]=v=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ee(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")?(r(),m("svg",es,ns)):C("",!0),a("span",null,c(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",ts,[ve(xe)]),e.showCoinSelect?(r(),ce(O,{key:2,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,"is-create-pool-to-coin":e.isCreatePoolToCoin,"is-create-pool-from-coin":e.isCreatePoolFromCoin,onOnSelect:e.onCoinSelect,onOnClose:n[39]||(n[39]=v=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","is-create-pool-to-coin","is-create-pool-from-coin","onOnSelect"])):C("",!0),e.isViewDetail?(r(),ce(X,{key:3,"pool-info":e.poolInfo,onOnClose:n[40]||(n[40]=v=>e.isViewDetail=!1)},null,8,["pool-info"])):C("",!0),e.isCreateSuccess?(r(),ce(Ce,{key:4,onOnClose:n[41]||(n[41]=v=>e.isCreateSuccess=!1)})):C("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(r(),ce(Ne,{key:5,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:n[42]||(n[42]=v=>e.isShowTokenWarning=!1)},null,8,["from-coin","to-coin","onClose"])):C("",!0),e.isShowLiquidityModal?(r(),ce(de,{key:6,"pool-info":e.poolInfo||e.createPoolInfo,title:e.$route.query.action=="create-pool"?e.$t("newAdd.preview"):e.$t("button.addLiquidity"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":e.currentPriceTab,"min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direct,"is-increase":!1,onCreatePool:e.toCreatePool,onToAdd:e.toAdd,onOnClose:n[43]||(n[43]=v=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","current-price-tab","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onCreatePool","onToAdd"])):C("",!0)])}const Ks=Po(Xi,[["render",as],["__scopeId","data-v-bb88075e"]]);export{Ks as default};
