import{a as ne,r as h,ao as $e,ap as ke,L as ae,G as ie,N as ye,v as L,F as re,s as de,w as q,aq as be,i as Ce,H as Q,ar as Ie,Y as z,k as X,b as ue,o as a,e as r,f as s,h as E,t as i,a0 as D,a1 as N,q as O,l as T,m as K,y as U,B as we,p as ce,j as ve,x as Le,J as Se,as as Y,K as oe,C as te,a8 as le,at as Ae,S as Ve,c as Be,au as Te,a3 as Re}from"./entry.c1386fdc.js";/* empty css              */import{_ as J}from"./icon_on_2x.92294e56.js";import{p as Ke}from"./precision.ce0280e5.js";import{_ as Ee,a as Oe}from"./img-no-Positions_2x.3a4bda32.js";import"./index.cd77365e.js";const Pe=ne({props:{lItem:{type:Object,required:!0}},setup(e){const t=h(!1),I=$e(ke,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:P}=ae(),A=ie(),V=ye(),_=L(()=>V),f=h(!1);function $(m){const C=m.balance,j=Ie(C).div(Math.pow(10,m.decimals)).toString();return Q(j,m.decimals)}const g=m=>{f.value=!0,setTimeout(()=>{f.value=!1},2e3),console.log(A,"==>router"),console.log(m,"===>pool163"),A.push(`/deposit?tokena=${m.coinA.address}&tokenb=${m.coinB.address}&fee=${m.fee}`)},b=re(),d=L(()=>b),k=L(()=>d.value.newTokenObj&&e.lItem.coinA.address&&d.value.newTokenObj[e.lItem.coinA.address]&&d.value.newTokenObj[e.lItem.coinA.address].logoURI),l=L(()=>d.value.newTokenObj&&e.lItem.coinB.address&&d.value.newTokenObj[e.lItem.coinB.address]&&d.value.newTokenObj[e.lItem.coinB.address].logoURI),v=h([]),p=de(),w=L(()=>p);return q(()=>[d.value.addressLpTokens,d.value.newTokenObj,w.value.newTopPoolsObj],([m,C,j])=>{if(!z(m)&&!z(C)&&!z(d.value.RATES)&&!z(j)){const R=e.lItem.address&&m[e.lItem.address]&&m[e.lItem.address].rewarder_infos||[];console.log(R,"===>result");const F=[];R.forEach((B,H)=>{const M=C[B.coinAddress].decimals,Z=X(B.emissionsEveryDay/Math.pow(10,M),2),W=X(Number(Z)*d.value.RATES[C[B.coinAddress].name.toUpperCase()].price,2);F.push({...B,logoUrl:C[B.coinAddress].logoURI,day:Z,dayUSD:W,symbol:C[B.coinAddress].symbol,rewarders:e.lItem[`rewarders${H}`]})}),console.log(F,"===>mockArr"),v.value=F}},{immediate:!0}),console.log(e.lItem,"===>lItem"),{t:P,isShow:t,indicator:I,thousands:be,importIcon:Ce,router:A,wallet:_,addCommom:Q,getLpView:$,toAdd:g,fromCoinUrl:k,toCoinUrl:l,addLiquidity:f,rewarderInfo:v}}});const Ue=e=>(ce("data-v-3de57e48"),e=e(),ve(),e),qe={class:"pools-list-item"},De=Ue(()=>s("div",{class:"topBg"},null,-1)),Ne={class:"top"},je={class:"img-box"},Fe=["src"],ze=["src"],He={class:"coin-name"},Me={class:"symbol-label"},Ze={class:"apr"},Ge={class:"apr-hover"},Je={class:"apr-hover-top"},We={class:"bottom"},Ye={class:"induction"},Qe={class:"item"},Xe={class:"induction-text"},xe={class:"induction-value"},es={class:"item"},ss={class:"induction-text"},os={class:"induction-value"},ts={class:"item"},ls={class:"induction-text"},ns={class:"induction-value"};function as(e,t,I,P,A,V){var f,$,g,b,d,k,l,v,p;const _=we;return a(),r("div",qe,[De,s("div",Ne,[s("div",je,[(f=e.lItem)!=null&&f.coinA?(a(),r("img",{key:0,src:e.fromCoinUrl||e.importIcon(`/image/coins/${($=e.lItem)==null?void 0:$.coinA.symbol.toLowerCase()}.png`)},null,8,Fe)):E("",!0),(g=e.lItem)!=null&&g.coinB?(a(),r("img",{key:1,src:e.toCoinUrl||e.importIcon(`/image/coins/${(b=e.lItem)==null?void 0:b.coinB.symbol.toLowerCase()}.png`)},null,8,ze)):E("",!0)]),s("span",He,i((k=(d=e.lItem)==null?void 0:d.coinA)==null?void 0:k.symbol)+" - "+i((v=(l=e.lItem)==null?void 0:l.coinB)==null?void 0:v.symbol),1),s("div",Me,[(a(!0),r(D,null,N((p=e.lItem)==null?void 0:p.labels,(w,m)=>(a(),r("div",{key:m,class:O(["lable",w])},null,2))),128))]),s("div",Ze,[s("span",{onClick:t[0]||(t[0]=w=>e.isShow=!e.isShow)},i(e.addCommom(e.lItem.apr,2)),1),s("span",{onClick:t[1]||(t[1]=w=>e.isShow=!e.isShow)},i(e.$t("common.apr")),1),s("div",{class:O(["apr-hover-con",e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"])},[s("div",Ge,[s("div",Je,i(e.$t("tips.aprTipsTest")),1)])],2)])]),s("div",We,[s("div",Ye,[s("div",Qe,[s("div",Xe,i(e.$t("common.feeTier")),1),s("div",xe,i(e.lItem.fee*100)+"%",1)]),s("div",es,[s("div",ss,i(e.$t("common.liquidity")),1),s("div",os,"$"+i(e.addCommom(e.lItem.liqidity,2)),1)]),s("div",ts,[s("div",ls,i(e.$t("common.volume24H")),1),s("div",ns,"$"+i(e.addCommom(e.lItem.vol,2)),1)])]),T(_,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:t[2]||(t[2]=w=>e.toAdd(e.lItem))},{default:K(()=>[U(i(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const is=ue(Pe,[["render",as],["__scopeId","data-v-3de57e48"]]),rs=ne({setup(){const{t:e,locale:t}=ae(),I=ie(),P=h(!1),A=h(!1),V=h(!1),_=h("TVL"),f=h(["APR","VOL"]),$=h(!1),g=h(e("tab.all")),b=h([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),d=h([]),k=h(""),l=h(["pools"]),v=re(),p=de(),w=h(!0),m=h(""),C=L(()=>p),j=L(()=>p.theme),R=L(()=>v),F=L(()=>p.statsData),B=(o,n)=>n.liqidity-o.liqidity,H=(o,n)=>n.vol-o.vol,M=(o,n)=>n.aprNum-o.aprNum,Z=()=>{window.setInterval(()=>{p.getStatsData()},12e4)};Le(()=>{var n,c,y;const o=(y=(c=(n=I==null?void 0:I.currentRoute)==null?void 0:n.value)==null?void 0:c.query)==null?void 0:y.language;o&&me(o),Z(),p.getStatsData(),m.value=t.value});const{setLang:W}=p,me=o=>{W(o),t.value=o},pe=(o,n)=>o&&n?X(Ke.plus(Y(o),Y(n)),2)+"%":o,x=o=>{console.log(o,"list===>");let n=0;return o&&o.forEach(c=>{console.log(c,"===>ele"),n+=Y(String(c))}),String(n)},G=o=>{const n=[];o.forEach(y=>{const u=C.value.addressLpTokens[y.address];n.push({...y,liqidity:u?u.tvl_in_usd:"0.00000000001",vol:u?u.vol_in_usd_24h:"0",apr:u?u.apr_7day:"--",aprNum:u?u.apr_7day.substring(0,u.apr_7day.length-1):"0",rewarder_apr:x(u&&u.rewarder_apr)+"%",aprTotal:pe(u&&u.apr_7day,u&&x(u.rewarder_apr)),rewarders0:u&&u.rewarder_apr[0],rewarders1:u&&u.rewarder_apr[1],rewarders2:u&&u.rewarder_apr[2]})}),console.log(n,"===>result1111");let c=[];if(_.value=="APR"?c=n.sort(M):_.value=="VOL"?c=n.sort(H):c=n.sort(B),g.value!="All"){const y=[];c.forEach(u=>{u.labels.indexOf(g.value)!==-1&&y.push(u)}),d.value=y}else d.value=c;w.value=!1};q(k,o=>{var n=new RegExp("[\\u4E00-\\u9FFF]+","g");if(n.test(k.value)){k.value="";return}ee(k.value)}),q(()=>[R.value.poolConfigList,C.value.addressLpTokens],([o,n])=>{(o==null?void 0:o.length)>0&&!z(n)&&(console.log(o,"===>newValue"),G(o))},{immediate:!0,deep:!0});const ee=o=>{if(P.value=!0,o){G(R.value.poolConfigList);const n=d.value.filter(c=>c.symbol.toLowerCase().includes(o.toLowerCase()));d.value=n,P.value=!1}else G(R.value.poolConfigList)},he=()=>{w.value=!0,A.value=!0,se(""),p.getStatsData(),v.setPoolConfigList(),setTimeout(()=>{A.value=!1},1e3)},fe=o=>{const n=[];n.push(_.value),f.value.forEach((c,y)=>{c!=o&&n.push(c)}),f.value=n,_.value=o},ge=o=>{const n=[];b.value.forEach((c,y)=>{c==o?n[y]=g.value:n[y]=c}),b.value=n,g.value=o};q(()=>_.value,o=>{o&&(o=="APR"?d.value.sort(M):o=="VOL"?d.value.sort(H):d.value.sort(B))}),q(()=>g.value,o=>{if(G(R.value.poolConfigList),o!="All"){const n=[];d.value.forEach(c=>{c.labels.indexOf(o)!==-1&&n.push(c)}),d.value=n}}),q(()=>p.lang,o=>{m.value=o});const se=o=>{o=="label"?($.value=!$.value,V.value=!1):o=="select"?(V.value=!V.value,$.value=!1):(V.value=!1,$.value=!1)},_e=()=>{I&&I.push("/position")};return{config:L(()=>Se[C.value.chainName]),toPositionList:_e,t:e,router:I,loading:P,clickRefresh:he,refresh:A,updateLpList:ee,searchKey:k,current:l,addCommom:Q,list:d,theme:j,statsData:F,pools:R,select:V,selectValue:_,selectList:f,label:$,labelValue:g,labelList:b,changeSort:fe,changeSortLabel:ge,reviseValue:se,listLoading:w,languageValue:m}}});const S=e=>(ce("data-v-b554bed1"),e=e(),ve(),e),ds={class:"pools-list-container"},us=["href"],cs={class:"search-refresh"},vs={class:"my-position position-h5"},ms=["placeholder"],ps=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),hs=[ps],fs={key:0,class:"select-item"},gs=["onClick"],_s=S(()=>s("img",{src:J,alt:""},null,-1)),$s=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),ks=[$s],ys={key:0,class:"select-item"},bs=["onClick"],Cs=S(()=>s("img",{src:J,alt:""},null,-1)),Is=S(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),ws=[Is],Ls={class:"search-tab"},Ss={class:"my-position position-pc"},As=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Vs=[As],Bs={key:0,class:"select-item"},Ts=["onClick"],Rs=S(()=>s("img",{src:J,alt:""},null,-1)),Ks=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Es=[Ks],Os={key:0,class:"select-item"},Ps=["onClick"],Us=S(()=>s("img",{src:J,alt:""},null,-1)),qs=["placeholder"],Ds=S(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Ns=[Ds],js={class:"item item-left"},Fs={class:"value"},zs={class:"label"},Hs={class:"item item-right"},Ms={class:"value"},Zs={class:"label"},Gs={key:0,class:"loading-global"},Js={key:2,class:"no-data"},Ws={key:0,src:Ee},Ys={key:1,src:Oe};function Qs(e,t,I,P,A,V){const _=oe("mail-outlined"),f=Te,$=oe("appstore-outlined"),g=Ae,b=Ve,d=Re,k=is;return a(),r("div",ds,[s("div",{class:"pools-title",onClick:t[0]||(t[0]=l=>e.reviseValue(""))},[s("div",null,i(e.$t("common.concentratedPools")),1),s("a",{href:`${e.config.ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"position"},i(e.$t("common.ammPools")),9,us)]),s("div",cs,[s("div",vs,[s("div",{class:"search-input",onClick:t[4]||(t[4]=l=>e.reviseValue(""))},[te(s("input",{"onUpdate:modelValue":t[1]||(t[1]=l=>e.searchKey=l),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,ms),[[le,e.searchKey]]),e.searchKey?(a(),r("div",{key:0,class:"out-icon",onClick:t[2]||(t[2]=l=>e.searchKey="")})):E("",!0),s("div",{class:"search-icon",onClick:t[3]||(t[3]=l=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:t[5]||(t[5]=l=>e.reviseValue("label"))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(a(),r("svg",{"aria-hidden":"true",class:O(e.label?"show-icon icon":"icon")},hs,2)),e.label?(a(),r("div",fs,[(a(!0),r(D,null,N(e.labelList,(l,v)=>(a(),r("div",{key:v,class:"select-menu-item",onClick:p=>e.changeSortLabel(l)},i(l),9,gs))),128))])):E("",!0)]),s("div",{class:"search-select",onClick:t[6]||(t[6]=l=>e.reviseValue("select"))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[U(i(e.selectValue)+" ",1),_s]),(a(),r("svg",{"aria-hidden":"true",class:O(e.select?"show-icon icon":"icon")},ks,2)),e.select?(a(),r("div",ys,[(a(!0),r(D,null,N(e.selectList,(l,v)=>(a(),r("div",{key:v,class:"select-menu-item",onClick:p=>e.changeSort(l)},[U(i(l)+" ",1),Cs],8,bs))),128))])):E("",!0)]),(a(),r("svg",{"aria-hidden":"true",class:O(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:t[7]||(t[7]=(...l)=>e.clickRefresh&&e.clickRefresh(...l))},ws,2))]),s("div",Ls,[T(g,{selectedKeys:e.current,"onUpdate:selectedKeys":t[8]||(t[8]=l=>e.current=l),mode:"horizontal"},{default:K(()=>[T(f,{key:"pools"},{icon:K(()=>[T(_)]),default:K(()=>[U(" "+i(e.$t("menu.pools")),1)]),_:1}),T(f,{key:"position",onClick:e.toPositionList},{icon:K(()=>[T($)]),default:K(()=>[U(" "+i(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Ss,[s("div",{class:"search-select search-label",onClick:t[9]||(t[9]=l=>e.reviseValue("label"))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(a(),r("svg",{"aria-hidden":"true",class:O(e.label?"show-icon icon":"icon")},Vs,2)),e.label?(a(),r("div",Bs,[(a(!0),r(D,null,N(e.labelList,(l,v)=>(a(),r("div",{key:v,class:"select-menu-item",onClick:p=>e.changeSortLabel(l)},i(l),9,Ts))),128))])):E("",!0)]),s("div",{class:"search-select",onClick:t[10]||(t[10]=l=>e.reviseValue("select"))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[U(i(e.selectValue)+" ",1),Rs]),(a(),r("svg",{"aria-hidden":"true",class:O(e.select?"show-icon icon":"icon")},Es,2)),e.select?(a(),r("div",Os,[(a(!0),r(D,null,N(e.selectList,(l,v)=>(a(),r("div",{key:v,class:"select-menu-item",onClick:p=>e.changeSort(l)},[U(i(l)+" ",1),Us],8,Ps))),128))])):E("",!0)]),s("div",{class:"search-input",onClick:t[14]||(t[14]=l=>e.reviseValue(""))},[te(s("input",{"onUpdate:modelValue":t[11]||(t[11]=l=>e.searchKey=l),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,qs),[[le,e.searchKey]]),e.searchKey?(a(),r("div",{key:0,class:"out-icon",onClick:t[12]||(t[12]=l=>e.searchKey="")})):E("",!0),s("div",{class:"search-icon",onClick:t[13]||(t[13]=l=>e.updateLpList(e.searchKey))})]),(a(),r("svg",{"aria-hidden":"true",class:O(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:t[15]||(t[15]=(...l)=>e.clickRefresh&&e.clickRefresh(...l))},Ns,2))])]),s("div",{class:"tvl-vol",onClick:t[16]||(t[16]=l=>e.reviseValue(""))},[s("div",js,[T(b,{loading:e.listLoading,active:"",paragraph:!1},{default:K(()=>[s("div",Fs,"$ "+i(e.addCommom(e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",zs,i(e.$t("common.totalValueLocked")),1)]),s("div",Hs,[T(b,{loading:e.listLoading,active:"",paragraph:!1},{default:K(()=>[s("div",Ms,"$ "+i(e.addCommom(e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",Zs,i(e.$t("common.volume24H")),1)])]),e.listLoading?(a(),r("div",Gs,[T(d)])):e.list&&e.list.length>0?(a(),r("div",{key:1,class:"item-container",onClick:t[17]||(t[17]=l=>e.reviseValue(""))},[(a(!0),r(D,null,N(e.list,(l,v)=>(a(),Be(k,{key:v,"l-item":l},null,8,["l-item"]))),128))])):(a(),r("div",Js,[e.theme=="default"?(a(),r("img",Ws)):(a(),r("img",Ys)),s("span",null,i(e.$t("common.poolsNotFound")),1)]))])}const no=ue(rs,[["render",Qs],["__scopeId","data-v-b554bed1"]]);export{no as default};
