import{_ as oa}from"./back.4e02ce94.js";import{_ as ia}from"./refresh-icon.bd8ffc25.js";import{_ as ra,a as aa}from"./network-tips.d398f6e1.js";import{u as fn,a as ct,c as Dt,i as ze,D as E,f as sn,b as Fo,d as vt,e as Qe,g as ut,n as _o,h as ot,t as po,_ as rn,j as sa,s as ho,k as hn,p as yi}from"./import-icon.f1b8876f.js";import{a as rt,r as N,b as no,e as la,f as ae,w as Se,h as Eo,i as at,o as g,j as A,k as c,t as b,c as ke,l as L,m as Ae,p as Ot,q as Ft,u as me,s as oo,v as Ue,x as ye,y as $e,F as qt,z as nr,I as or,S as ir,B as io,A as ua,C as ca,D as bi,E as gn,G as rr,M as Bo,H as Do,J as ar}from"./entry.844dbd3c.js";import{_ as da,a as fa}from"./coin-select.62d0bef4.js";import{_ as sr,a as lr,b as ma}from"./add-liquidity.2bd120d4.js";/* empty css              *//* empty css              *//* empty css              */import{_ as pa}from"./apr-tab.ca20707c.js";import{_ as ha}from"./apr-tips.b39bc10e.js";/* empty css              */import{p as va}from"./precision.9d58cda5.js";import{_ as ga}from"./status-block.ba820254.js";import{_ as Ho,a as zo}from"./icon-arrow_2x.45808d19.js";import{_ as ur}from"./coin-pair-name.6f06fbd8.js";import{u as ya}from"./notifi.e7673ef3.js";import"./img-no-Positions_2x.c5174801.js";import"./c-switch.17837bd4.js";import"./index.52335ac0.js";const ba=rt({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const n=N(!1),o=N(null),i=N(0),r=N(20),a=fn(),l=ct(),s=N(!1);no(()=>{}),la(()=>{clearInterval(o.value)});const u=()=>{o.value=setInterval(()=>{var I;s.value||i.value<r.value&&(i.value+=1,i.value===r.value&&((I=e==null?void 0:e.poolInfo)!=null&&I.poolAddress&&a.updateCurrentPools(e.poolInfo.poolAddress,l.chainName),i.value=0))},1e3)},d=ae(()=>l.slippage),v=()=>{t.emit("clearAll")},f=()=>{i.value=0,t.emit("clickRefresh")};Se(()=>e.poolInfo,I=>{I&&!o.value&&u()},{immediate:!0});const $=Eo();return{clickRefresh:f,isShowSwapSetting:n,countdown:i,autoRefreshTime:r,slippage:d,clearAll:v,checkNullObj:Dt,router:$}}});const ka=e=>(Ot("data-v-b618315f"),e=e(),Ft(),e),wa={class:"title"},Ca={class:"left"},$a=ka(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),_a={class:"deposit-progress"};function Ia(e,t,n,o,i,r){var s,u;const a=ia,l=ra;return g(),A("div",wa,[c("div",Ca,[c("span",null,b(e.poolInfo?e.$t("common.concentratedLiquidity"):(u=(s=e.$router)==null?void 0:s.query)!=null&&u.action?e.$t("newAdd.createClmmPool"):e.$t("common.concentratedLiquidity")),1)]),c("div",{class:Ae(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[c("div",{class:"slippage-icon",onClick:t[0]||(t[0]=d=>e.isShowSwapSetting=!0)},[$a,c("span",null,b(e.slippage)+"%",1)]),c("div",_a,[e.poolInfo?(g(),ke(a,{key:0,loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])):L("",!0)])],2),e.isShowSwapSetting?(g(),ke(l,{key:0,onOnClose:t[1]||(t[1]=d=>e.isShowSwapSetting=!1)})):L("",!0)])}const Pa=at(ba,[["render",Ia],["__scopeId","data-v-b618315f"]]);const Aa=rt({props:{coinIcon:{type:String,default:""},coin:{type:Object,default:()=>({})}},setup(e){const t=ct(),n=ae(()=>t),o=N(""),i=N(""),r=N(""),a=fn(),l=ae(()=>a);return Se(()=>[e.coin,l.value.tokensObj],([s,u])=>{var d;s?(i.value=u&&u[s.address]&&((d=u[s.address])==null?void 0:d.labels),o.value=s.name,r.value=s.symbol):(i.value="",o.value="",r.value="")},{immediate:!0,deep:!0}),{store:n,importIcon:ze,coinName:o,coinLabels:i,coinSymbol:r}}}),Sa=e=>(Ot("data-v-f60c233a"),e=e(),Ft(),e),Na={class:"coin-block"},Ta=["src"],Ma={class:"coin-info"},Ra={class:"symbol"},La={key:0,class:"name"},qa=Sa(()=>c("div",null,[c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon_on"})])],-1));function Ua(e,t,n,o,i,r){return g(),A("div",Na,[c("div",null,[c("img",{src:e.coinIcon?e.coinIcon:e.store.theme=="default"?("importIcon"in e?e.importIcon:me(ze))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:me(ze))("/image/coins/sui-unknown.png")},null,8,Ta),c("div",Ma,[c("div",Ra,b(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinName?(g(),A("div",La,b(e.coinName)+" "+b(e.coinLabels?`(${e.coinLabels})`:""),1)):L("",!0)])]),qa])}const Oa=at(Aa,[["render",Ua],["__scopeId","data-v-f60c233a"]]),Fa=rt({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})}},setup(){const e=ct();return{storeIndex:ae(()=>e)}}});const Ea={class:"unilateral"},Ba={key:0,src:sr,alt:""},Da={key:1,src:lr,alt:""},Ha={key:2};function za(e,t,n,o,i,r){return g(),A("div",Ea,[c("div",null,[e.storeIndex.theme=="default"?(g(),A("img",Ba)):(g(),A("img",Da)),e.fromCoin&&e.toCoin&&e.poolInfo?(g(),A("p",Ha,b(e.$t("tips.marketprice")),1)):L("",!0)])])}const Xa=at(Fa,[["render",za],["__scopeId","data-v-d81a96c0"]]),ja=rt({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})},showfromCoinLock:{type:Boolean,default:!1},showtoCoinLock:{type:Boolean,default:!1}},setup(){const e=ct();return{storeIndex:ae(()=>e)}}});const Va={class:"create-pool-lock"},Wa={key:0,src:sr,alt:""},Ka={key:1,src:lr,alt:""};function Ya(e,t,n,o,i,r){return g(),A("div",Va,[c("div",null,[e.storeIndex.theme=="default"?(g(),A("img",Wa)):(g(),A("img",Ka))])])}const Ga=at(ja,[["render",Ya],["__scopeId","data-v-5d070e17"]]);E.config({precision:64,rounding:E.ROUND_DOWN,toExpNeg:-64,toExpPos:64});const Qa=rt({props:{minPrice:{type:String,default:""},maxPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},slippage:{type:Number,default:0},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""}},setup(e){const t=N(""),n=N(""),o=ct(),i=ae(()=>o),r=fn(),a=ae(()=>r),l=ae(()=>i.value.chainName?Fo(i.value.chainName):{}),s=oo(),u=async()=>{var H;if(!e.minPrice&&!e.maxPrice)return;const{TickUtil:f,TickMath:$,getNearestTickByTick:I}=l.value,oe=e.poolInfo.token_a.decimals,h=e.poolInfo.token_b.decimals;let S,C,y,m,w,R,ie,D=1,ee=1;const K=e.poolInfo.current_tick_index;let T=a.value.poolPriceConfigObj&&a.value.poolPriceConfigObj[e.poolInfo.address]&&a.value.poolPriceConfigObj[e.poolInfo.address].recommend_ranges||{};if(e.poolInfo.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&e.poolInfo.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?ie=!0:ie=!1,e.minPrice==="0"&&e.maxPrice==="∞"?(y=f.getMinIndex(e.poolInfo.tickSpacing),m=f.getMaxIndex(e.poolInfo.tickSpacing),$.tickIndexToSqrtPriceX64(y),$.tickIndexToSqrtPriceX64(m)):e.currentPriceTab=="custom"||(H=s==null?void 0:s.query)!=null&&H.action?(ie?(S=Number(e.minPrice),C=Number(e.maxPrice)):(S=1/Number(e.maxPrice),C=1/Number(e.minPrice)),w=$.priceToTickIndex(new E(S),oe,h),R=$.priceToTickIndex(new E(C),oe,h),S==0&&(w=-443630),y=I(w,Number(e.poolInfo.tickSpacing)),m=I(R,Number(e.poolInfo.tickSpacing)),$.priceToSqrtPriceX64(new E(S),oe,h),$.priceToSqrtPriceX64(new E(C),oe,h)):(y=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].lower,m=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].upper,$.tickIndexToSqrtPriceX64(y),$.tickIndexToSqrtPriceX64(m)),e.maxPrice==="∞"||K>y&&K<m){let se;if(e.fixedFromCoin){const fe=new E(1).mul(Math.pow(10,e.fromCoin.decimals)).toString();se=new vt(fe)}else{const fe=new E(1).mul(Math.pow(10,e.toCoin.decimals)).toString();se=new vt(fe)}const{tokenMaxA:G,tokenMaxB:Q}=await l.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:e.poolInfo.token_a,tokenB:e.poolInfo.token_b,lowerTick:y,upperTick:m,coinAmount:se,iscoinA:ie?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(e.slippage)/100,curSqrtPrice:new vt(e.poolInfo.current_sqrt_price)});ie?e.fixedFromCoin?ee=Number(Q)>0?Q:"":D=Number(G)>0?G:"":e.fixedFromCoin?ee=G:D=Q}else K>=m?ie?(ee=1,D=0):(D=1,ee=0):K<=y&&(ie?(ee=0,D=1):(ee=1,D=0));const te=D?Number(D):0,q=ee?Number(ee):0,Y=q+Number(ie?te*e.currentPrice:te*e.currentPriceReverse),Ce=((ie?e.currentPrice*te:e.currentPriceReverse*te)/Y*100).toFixed(0),X=(q/Y*100).toFixed(0);t.value=Ce,n.value=X};Se(()=>[e.poolInfo,e.minPrice,e.maxPrice],([f,$,I])=>{$&&I&&f&&!Dt(f)&&$!=="0"&&I!=="0"?u():(t.value="",n.value="")},{immediate:!0,deep:!0});let d={};Se(()=>a.value.RATES,f=>{f&&(d=f)},{immediate:!0});const v=ae(()=>{const f=sn(Number(e.fromCoinAmount)*Number(d&&d[e.fromCoin.address]&&d[e.fromCoin.address].price),2),$=sn(Number(e.toCoinAmount)*Number(d&&d[e.toCoin.address]&&d[e.toCoin.address].price),2);return f!=="--"&&$!=="--"?Number(f)+Number($):"--"});return{fromCoinRatio:t,toCoinRatio:n,totalAmount:v,fixD:sn}}});const Ja=e=>(Ot("data-v-cf60f26a"),e=e(),Ft(),e),Za={class:"deposit-ratio"},xa={class:"lebal"},es=Ja(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),ts={key:0,class:"text"},ns={key:1},os={key:0,class:"deposit-ratio totalAmount"},is={class:"lebal"},rs={class:"text"};function as(e,t,n,o,i,r){const a=nr;return g(),A(qt,null,[c("div",Za,[c("div",xa,[Ue(b(e.$t("newAdd.depositRatio"))+" ",1),ye(a,{placement:"bottom","arrow-point-at-center":""},{title:$e(()=>[c("span",null,b(e.$t("newAdd.depositRatioTips")),1)]),default:$e(()=>[es]),_:1})]),e.currentPriceTab!=="full range"?(g(),A("div",ts,b(e.fromCoinRatio!=="--"?e.fromCoinRatio+"%":"--")+" "+b(e.fromCoinRatio!=="--"?e.fromCoin&&e.fromCoin.symbol:"")+" / "+b(e.toCoinRatio!=="--"?e.toCoinRatio+"%":"--")+" "+b(e.toCoinRatio!=="--"?e.toCoin&&e.toCoin.symbol:""),1)):(g(),A("div",ns," 50% "+b(e.fromCoin&&e.fromCoin.symbol)+" / 50% "+b(e.toCoin&&e.toCoin.symbol),1))]),e.fromCoinAmount&&e.toCoinAmount?(g(),A("div",os,[c("div",is,b(e.$t("newAdd.totalAmount")),1),c("div",rs,"$"+b(("fixD"in e?e.fixD:me(sn))(e.totalAmount,2)),1)])):L("",!0)],64)}const ss=at(Qa,[["render",as],["__scopeId","data-v-cf60f26a"]]),ls=rt({props:{clickClear:{type:Boolean,default:!1},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},intPrice:{type:String,default:""}},setup(e,t){const n=N("");return{inpValue:n,changecurrentPrice:i=>{var a;const r=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(a=e.fromCoin)==null?void 0:a.decimals}})?).*$`);i.target.value=i.target.value.replace(r,"$1"),n.value=i.target.value,t.emit("changecurrentPrice",n.value)}}}});const us={class:"set-init-price"},cs={class:"init-price-tips"};function ds(e,t,n,o,i,r){var l,s,u,d;const a=or;return g(),A("div",us,[ye(a,{type:"text",placeholder:"0.0",value:e.intPrice,disabled:!((s=(l=e.$route)==null?void 0:l.query)!=null&&s.fee),onChange:e.changecurrentPrice},null,8,["value","disabled","onChange"]),c("div",cs,b((u=e.toCoin)==null?void 0:u.symbol)+" per "+b((d=e.fromCoin)==null?void 0:d.symbol),1)])}const fs=at(ls,[["render",ds],["__scopeId","data-v-8d2ae1a1"]]),ms=-443630;function ki(e,t){const n=ps(e),o=(n-ms)%t;return o>t/2?n-o+t:n-o}const cr=new E("1.0001");function ps(e){return e.log(cr).toDP(0,E.ROUND_HALF_UP).toNumber()}function wi(e){return cr.pow(e)}const hs=rt({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,t){const n=N(""),o=N("");let i=N(""),r=N("");const a=oo(),l=()=>{if(Number.isNaN(n.value)||Number(n.value)!==0&&!n.value||!e.poolInfo.tickSpacing)return;const f=ki(new E(n.value.toString()),Number(d.value.tickSpacing)),$=wi(f+Number(d.value.tickSpacing));if(e.pType=="Min"&&Number($.toString())>=Number(r.value.toString()))return;const I=$.toString();t.emit("onInput",I)},s=()=>{if(Number.isNaN(n.value)||!n.value||!e.poolInfo.tickSpacing)return;const f=ki(new E(n.value),Number(d.value.tickSpacing)),$=wi(f-Number(d.value.tickSpacing)),I=$.toString();e.pType=="Max"&&Number($)<=Number(i.value)||t.emit("onInput",I)},u=f=>{let $=f.toString().replace(/[^\d.]/g,"");const I=/^\d+(\.\d+)?$/;$.split(".").length>2&&!I.exec($)&&($=$.substr(0,$.length-1)),o.value=$,(Qe($,6)>0||String($)=="0")&&t.emit("onInput",$.toString())};Se(()=>e.defaultMinPrice,(f,$)=>{f!==$&&(i.value=e.defaultMinPrice)},{immediate:!0}),Se(()=>e.defaultMaxPrice,(f,$)=>{f!==$&&(r.value=e.defaultMaxPrice)},{immediate:!0}),Se(()=>[e.inputValue,a.query.action],([f])=>{if(f&&f!=="0"&&f!=="∞"){n.value=f;const I=f.toString().split(".")[1];o.value=f!=="0"&&f!=="∞"&&I&&I.length>6?Qe(f.toString(),6):f.toString()}else(f=="0"||f=="∞"||a.query.action)&&(o.value=f)},{immediate:!0});const d=N({});Se(()=>e.poolInfo,(f,$)=>{f&&(d.value=f)},{immediate:!0});const v=N("");return Se(()=>e.currentPriceTab,f=>{v.value=f},{immediate:!0}),{addPrice:l,minusPrice:s,oValue:o,changeValue:u,isDisabled:v,route:a}}});const vs={class:"set-price-item"},gs={class:"title"},ys={class:"input-box"},bs={class:"minus-btn"},ks=["disabled"],ws={class:"plus-btn"};function Cs(e,t,n,o,i,r){const a=or,l=ir;return g(),A("div",vs,[c("div",gs,b(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),ye(l,{loading:e.loading,active:"",paragraph:!1},{default:$e(()=>[c("div",ys,[c("a",bs,[c("div",{class:Ae(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),disabled:e.isDisabled!=="Custom",onClick:t[0]||(t[0]=(...s)=>e.minusPrice&&e.minusPrice(...s))},null,10,ks)]),ye(a,{id:"pValu",value:e.oValue,"onUpdate:value":t[1]||(t[1]=s=>e.oValue=s),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:t[2]||(t[2]=s=>e.changeValue(s.target.value))},null,8,["value","disabled"]),c("a",ws,[c("div",{class:Ae(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:t[3]||(t[3]=(...s)=>e.addPrice&&e.addPrice(...s))},null,2)])])]),_:1},8,["loading"]),c("p",{class:Ae(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},b(e.toCoin&&e.toCoin.symbol)+" per "+b(e.fromCoin&&e.fromCoin.symbol),3)])}const Ci=at(hs,[["render",Cs],["__scopeId","data-v-110de6cf"]]),$s=rt({props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,t){let n=N(""),o=N(""),i=N(),r=N(!1),a=N(!1);const l=N({}),s=ct(),u=ae(()=>s);no(()=>{n.value=e.min,o.value=e.max}),Se(()=>e.currentPriceTab,(h,S)=>{h!==S&&(i.value=e.currentPriceTab)},{immediate:!0}),Se(()=>e.min,(h,S)=>{h!==S&&(n.value=h)}),Se(()=>e.max,(h,S)=>{h!==S&&(o.value=h)}),Se(()=>e.poolInfo,(h,S)=>{h&&(l.value=h)},{immediate:!0});const d=N("");Se(()=>e.intPrice,h=>{d.value=h},{immediate:!0,deep:!0});const v=h=>{n.value=h,t.emit("onChangeMinPrice",h)},f=h=>{o.value=h,t.emit("onChangeMaxPrice",h)};Se(r,(h,S)=>{h!==S&&t.emit("onChangeFullRange",h)});const $=()=>{n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice,a.value=!1,r.value=!1},I=()=>{a.value=!1,n.value="0",o.value="∞"};return Se(r,(h,S)=>{h!==S&&t.emit("onChangeFullRange",h)}),{store:u,changeMinPrice:v,changeMaxPrice:f,importIcon:ze,resetPrice:$,changeShowUnderStand:()=>{r.value=!r.value,r.value?a.value=!0:$(),a.value||(n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice)},showUnderStand:a,minPrice:n,maxPrice:o,understand:I,isRadio:r,initPirce:d}}});const _s={class:"set-price"},Is={class:"card-container"},Ps={key:0,class:"card"},As=["src"],Ss={key:1,class:"understand"},Ns={class:"left"},Ts={class:"right"};function Ms(e,t,n,o,i,r){const a=Ci,l=Ci,s=io;return g(),A("div",_s,[c("div",Is,[e.showUnderStand?(g(),A("div",Ss,[c("div",Ns,[c("p",null,b(e.$t("common.lowerEfficiency")),1),c("p",null,b(e.$t("common.lowerEfficiencyTips")),1)]),c("div",Ts,[ye(s,{onClick:e.understand},{default:$e(()=>[Ue(b(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(g(),A("div",Ps,[ye(a,{value:e.minPrice,"onUpdate:value":t[0]||(t[0]=u=>e.minPrice=u),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),ye(l,{value:e.maxPrice,"onUpdate:value":t[1]||(t[1]=u=>e.maxPrice=u),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"]),c("img",{src:("importIcon"in e?e.importIcon:me(ze))("/image/lmg-line@2x.png"),alt:""},null,8,As)]))])])}const Rs=at($s,[["render",Ms],["__scopeId","data-v-01a6f14e"]]);function Dn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Ls(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function dr(e){let t,n,o;e.length!==2?(t=Dn,n=(l,s)=>Dn(e(l),s),o=(l,s)=>e(l)-s):(t=e===Dn||e===Ls?e:qs,n=e,o=e);function i(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const v=u+d>>>1;n(l[v],s)<0?u=v+1:d=v}while(u<d)}return u}function r(l,s,u=0,d=l.length){if(u<d){if(t(s,s)!==0)return d;do{const v=u+d>>>1;n(l[v],s)<=0?u=v+1:d=v}while(u<d)}return u}function a(l,s,u=0,d=l.length){const v=i(l,s,u,d-1);return v>u&&o(l[v-1],s)>-o(l[v],s)?v-1:v}return{left:i,center:a,right:r}}function qs(){return 0}function Us(e){return e===null?NaN:+e}const Os=dr(Dn),Fs=Os.right;dr(Us).center;const Es=Fs;class $i extends Map{constructor(t,n=Hs){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[o,i]of t)this.set(o,i)}get(t){return super.get(_i(this,t))}has(t){return super.has(_i(this,t))}set(t,n){return super.set(Bs(this,t),n)}delete(t){return super.delete(Ds(this,t))}}function _i({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):n}function Bs({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):(e.set(o,n),n)}function Ds({_intern:e,_key:t},n){const o=t(n);return e.has(o)&&(n=e.get(o),e.delete(o)),n}function Hs(e){return e!==null&&typeof e=="object"?e.valueOf():e}const zs=Math.sqrt(50),Xs=Math.sqrt(10),js=Math.sqrt(2);function Vn(e,t,n){const o=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),a=r>=zs?10:r>=Xs?5:r>=js?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?Vn(e,t,n*2):[l,s,u]}function Vs(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const o=t<e,[i,r,a]=o?Vn(t,e,n):Vn(e,t,n);if(!(r>=i))return[];const l=r-i+1,s=new Array(l);if(o)if(a<0)for(let u=0;u<l;++u)s[u]=(r-u)/-a;else for(let u=0;u<l;++u)s[u]=(r-u)*a;else if(a<0)for(let u=0;u<l;++u)s[u]=(i+u)/-a;else for(let u=0;u<l;++u)s[u]=(i+u)*a;return s}function Io(e,t,n){return t=+t,e=+e,n=+n,Vn(e,t,n)[2]}function Ws(e,t,n){t=+t,e=+e,n=+n;const o=t<e,i=o?Io(t,e,n):Io(e,t,n);return(o?-1:1)*(i<0?1/-i:i)}function Ks(e,t){let n;if(t===void 0)for(const o of e)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Ys(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var o=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(i);++o<i;)r[o]=e+o*n;return r}var Gs={value:()=>{}};function Xo(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Hn(n)}function Hn(e){this._=e}function Qs(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Hn.prototype=Xo.prototype={constructor:Hn,on:function(e,t){var n=this._,o=Qs(e+"",n),i,r=-1,a=o.length;if(arguments.length<2){for(;++r<a;)if((i=(e=o[r]).type)&&(i=Js(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<a;)if(i=(e=o[r]).type)n[i]=Ii(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ii(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Hn(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};function Js(e,t){for(var n=0,o=e.length,i;n<o;++n)if((i=e[n]).name===t)return i.value}function Ii(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=Gs,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Po="http://www.w3.org/1999/xhtml";const Pi={svg:"http://www.w3.org/2000/svg",xhtml:Po,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ro(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Pi.hasOwnProperty(t)?{space:Pi[t],local:e}:e}function Zs(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Po&&t.documentElement.namespaceURI===Po?t.createElement(e):t.createElementNS(n,e)}}function xs(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function fr(e){var t=ro(e);return(t.local?xs:Zs)(t)}function el(){}function jo(e){return e==null?el:function(){return this.querySelector(e)}}function tl(e){typeof e!="function"&&(e=jo(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=new Array(a),s,u,d=0;d<a;++d)(s=r[d])&&(u=e.call(s,s.__data__,d,r))&&("__data__"in s&&(u.__data__=s.__data__),l[d]=u);return new dt(o,this._parents)}function nl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ol(){return[]}function mr(e){return e==null?ol:function(){return this.querySelectorAll(e)}}function il(e){return function(){return nl(e.apply(this,arguments))}}function rl(e){typeof e=="function"?e=il(e):e=mr(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var a=t[r],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(o.push(e.call(s,s.__data__,u,a)),i.push(s));return new dt(o,i)}function pr(e){return function(){return this.matches(e)}}function hr(e){return function(t){return t.matches(e)}}var al=Array.prototype.find;function sl(e){return function(){return al.call(this.children,e)}}function ll(){return this.firstElementChild}function ul(e){return this.select(e==null?ll:sl(typeof e=="function"?e:hr(e)))}var cl=Array.prototype.filter;function dl(){return Array.from(this.children)}function fl(e){return function(){return cl.call(this.children,e)}}function ml(e){return this.selectAll(e==null?dl:fl(typeof e=="function"?e:hr(e)))}function pl(e){typeof e!="function"&&(e=pr(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=[],s,u=0;u<a;++u)(s=r[u])&&e.call(s,s.__data__,u,r)&&l.push(s);return new dt(o,this._parents)}function vr(e){return new Array(e.length)}function hl(){return new dt(this._enter||this._groups.map(vr),this._parents)}function Wn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Wn.prototype={constructor:Wn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function vl(e){return function(){return e}}function gl(e,t,n,o,i,r){for(var a=0,l,s=t.length,u=r.length;a<u;++a)(l=t[a])?(l.__data__=r[a],o[a]=l):n[a]=new Wn(e,r[a]);for(;a<s;++a)(l=t[a])&&(i[a]=l)}function yl(e,t,n,o,i,r,a){var l,s,u=new Map,d=t.length,v=r.length,f=new Array(d),$;for(l=0;l<d;++l)(s=t[l])&&(f[l]=$=a.call(s,s.__data__,l,t)+"",u.has($)?i[l]=s:u.set($,s));for(l=0;l<v;++l)$=a.call(e,r[l],l,r)+"",(s=u.get($))?(o[l]=s,s.__data__=r[l],u.delete($)):n[l]=new Wn(e,r[l]);for(l=0;l<d;++l)(s=t[l])&&u.get(f[l])===s&&(i[l]=s)}function bl(e){return e.__data__}function kl(e,t){if(!arguments.length)return Array.from(this,bl);var n=t?yl:gl,o=this._parents,i=this._groups;typeof e!="function"&&(e=vl(e));for(var r=i.length,a=new Array(r),l=new Array(r),s=new Array(r),u=0;u<r;++u){var d=o[u],v=i[u],f=v.length,$=wl(e.call(d,d&&d.__data__,u,o)),I=$.length,oe=l[u]=new Array(I),h=a[u]=new Array(I),S=s[u]=new Array(f);n(d,v,oe,h,S,$,t);for(var C=0,y=0,m,w;C<I;++C)if(m=oe[C]){for(C>=y&&(y=C+1);!(w=h[y])&&++y<I;);m._next=w||null}}return a=new dt(a,o),a._enter=l,a._exit=s,a}function wl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Cl(){return new dt(this._exit||this._groups.map(vr),this._parents)}function $l(e,t,n){var o=this.enter(),i=this,r=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function _l(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,a=Math.min(i,r),l=new Array(i),s=0;s<a;++s)for(var u=n[s],d=o[s],v=u.length,f=l[s]=new Array(v),$,I=0;I<v;++I)($=u[I]||d[I])&&(f[I]=$);for(;s<i;++s)l[s]=n[s];return new dt(l,this._parents)}function Il(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],i=o.length-1,r=o[i],a;--i>=0;)(a=o[i])&&(r&&a.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(a,r),r=a);return this}function Pl(e){e||(e=Al);function t(v,f){return v&&f?e(v.__data__,f.__data__):!v-!f}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a=n[r],l=a.length,s=i[r]=new Array(l),u,d=0;d<l;++d)(u=a[d])&&(s[d]=u);s.sort(t)}return new dt(i,this._parents).order()}function Al(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Sl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Nl(){return Array.from(this)}function Tl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null}function Ml(){let e=0;for(const t of this)++e;return e}function Rl(){return!this.node()}function Ll(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i=t[n],r=0,a=i.length,l;r<a;++r)(l=i[r])&&e.call(l,l.__data__,r,i);return this}function ql(e){return function(){this.removeAttribute(e)}}function Ul(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ol(e,t){return function(){this.setAttribute(e,t)}}function Fl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function El(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function Bl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function Dl(e,t){var n=ro(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?Ul:ql:typeof t=="function"?n.local?Bl:El:n.local?Fl:Ol)(n,t))}function gr(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Hl(e){return function(){this.style.removeProperty(e)}}function zl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Xl(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function jl(e,t,n){return arguments.length>1?this.each((t==null?Hl:typeof t=="function"?Xl:zl)(e,t,n??"")):un(this.node(),e)}function un(e,t){return e.style.getPropertyValue(t)||gr(e).getComputedStyle(e,null).getPropertyValue(t)}function Vl(e){return function(){delete this[e]}}function Wl(e,t){return function(){this[e]=t}}function Kl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Yl(e,t){return arguments.length>1?this.each((t==null?Vl:typeof t=="function"?Kl:Wl)(e,t)):this.node()[e]}function yr(e){return e.trim().split(/^|\s+/)}function Vo(e){return e.classList||new br(e)}function br(e){this._node=e,this._names=yr(e.getAttribute("class")||"")}br.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function kr(e,t){for(var n=Vo(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function wr(e,t){for(var n=Vo(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function Gl(e){return function(){kr(this,e)}}function Ql(e){return function(){wr(this,e)}}function Jl(e,t){return function(){(t.apply(this,arguments)?kr:wr)(this,e)}}function Zl(e,t){var n=yr(e+"");if(arguments.length<2){for(var o=Vo(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Jl:t?Gl:Ql)(n,t))}function xl(){this.textContent=""}function eu(e){return function(){this.textContent=e}}function tu(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function nu(e){return arguments.length?this.each(e==null?xl:(typeof e=="function"?tu:eu)(e)):this.node().textContent}function ou(){this.innerHTML=""}function iu(e){return function(){this.innerHTML=e}}function ru(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function au(e){return arguments.length?this.each(e==null?ou:(typeof e=="function"?ru:iu)(e)):this.node().innerHTML}function su(){this.nextSibling&&this.parentNode.appendChild(this)}function lu(){return this.each(su)}function uu(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function cu(){return this.each(uu)}function du(e){var t=typeof e=="function"?e:fr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function fu(){return null}function mu(e,t){var n=typeof e=="function"?e:fr(e),o=t==null?fu:typeof t=="function"?t:jo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function pu(){var e=this.parentNode;e&&e.removeChild(this)}function hu(){return this.each(pu)}function vu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function gu(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function yu(e){return this.select(e?gu:vu)}function bu(e){return arguments.length?this.property("__data__",e):this.node().__data__}function ku(e){return function(t){e.call(this,t,this.__data__)}}function wu(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Cu(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,i=t.length,r;n<i;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++o]=r;++o?t.length=o:delete this.__on}}}function $u(e,t,n){return function(){var o=this.__on,i,r=ku(t);if(o){for(var a=0,l=o.length;a<l;++a)if((i=o[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=t;return}}this.addEventListener(e.type,r,n),i={type:e.type,name:e.name,value:t,listener:r,options:n},o?o.push(i):this.__on=[i]}}function _u(e,t,n){var o=wu(e+""),i,r=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,d;s<u;++s)for(i=0,d=l[s];i<r;++i)if((a=o[i]).type===d.type&&a.name===d.name)return d.value}return}for(l=t?$u:Cu,i=0;i<r;++i)this.each(l(o[i],t,n));return this}function Cr(e,t,n){var o=gr(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Iu(e,t){return function(){return Cr(this,e,t)}}function Pu(e,t){return function(){return Cr(this,e,t.apply(this,arguments))}}function Au(e,t){return this.each((typeof t=="function"?Pu:Iu)(e,t))}function*Su(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length,a;i<r;++i)(a=o[i])&&(yield a)}var $r=[null];function dt(e,t){this._groups=e,this._parents=t}function _n(){return new dt([[document.documentElement]],$r)}function Nu(){return this}dt.prototype=_n.prototype={constructor:dt,select:tl,selectAll:rl,selectChild:ul,selectChildren:ml,filter:pl,data:kl,enter:hl,exit:Cl,join:$l,merge:_l,selection:Nu,order:Il,sort:Pl,call:Sl,nodes:Nl,node:Tl,size:Ml,empty:Rl,each:Ll,attr:Dl,style:jl,property:Yl,classed:Zl,text:nu,html:au,raise:lu,lower:cu,append:du,insert:mu,remove:hu,clone:yu,datum:bu,on:_u,dispatch:Au,[Symbol.iterator]:Su};function yt(e){return typeof e=="string"?new dt([[document.querySelector(e)]],[document.documentElement]):new dt([[e]],$r)}function Tu(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Ai(e,t){if(e=Tu(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const Ao={capture:!0,passive:!1};function So(e){e.preventDefault(),e.stopImmediatePropagation()}function Mu(e){var t=e.document.documentElement,n=yt(e).on("dragstart.drag",So,Ao);"onselectstart"in t?n.on("selectstart.drag",So,Ao):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ru(e,t){var n=e.document.documentElement,o=yt(e).on("dragstart.drag",null);t&&(o.on("click.drag",So,Ao),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Wo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _r(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function In(){}var wn=.7,Kn=1/wn,ln="\\s*([+-]?\\d+)\\s*",Cn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Lu=/^#([0-9a-f]{3,8})$/,qu=new RegExp(`^rgb\\(${ln},${ln},${ln}\\)$`),Uu=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),Ou=new RegExp(`^rgba\\(${ln},${ln},${ln},${Cn}\\)$`),Fu=new RegExp(`^rgba\\(${_t},${_t},${_t},${Cn}\\)$`),Eu=new RegExp(`^hsl\\(${Cn},${_t},${_t}\\)$`),Bu=new RegExp(`^hsla\\(${Cn},${_t},${_t},${Cn}\\)$`),Si={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Wo(In,Kt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ni,formatHex:Ni,formatHex8:Du,formatHsl:Hu,formatRgb:Ti,toString:Ti});function Ni(){return this.rgb().formatHex()}function Du(){return this.rgb().formatHex8()}function Hu(){return Ir(this).formatHsl()}function Ti(){return this.rgb().formatRgb()}function Kt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Lu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Mi(t):n===3?new it(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?On(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?On(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=qu.exec(e))?new it(t[1],t[2],t[3],1):(t=Uu.exec(e))?new it(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=Ou.exec(e))?On(t[1],t[2],t[3],t[4]):(t=Fu.exec(e))?On(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=Eu.exec(e))?qi(t[1],t[2]/100,t[3]/100,1):(t=Bu.exec(e))?qi(t[1],t[2]/100,t[3]/100,t[4]):Si.hasOwnProperty(e)?Mi(Si[e]):e==="transparent"?new it(NaN,NaN,NaN,0):null}function Mi(e){return new it(e>>16&255,e>>8&255,e&255,1)}function On(e,t,n,o){return o<=0&&(e=t=n=NaN),new it(e,t,n,o)}function zu(e){return e instanceof In||(e=Kt(e)),e?(e=e.rgb(),new it(e.r,e.g,e.b,e.opacity)):new it}function No(e,t,n,o){return arguments.length===1?zu(e):new it(e,t,n,o??1)}function it(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Wo(it,No,_r(In,{brighter(e){return e=e==null?Kn:Math.pow(Kn,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?wn:Math.pow(wn,e),new it(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new it(Wt(this.r),Wt(this.g),Wt(this.b),Yn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ri,formatHex:Ri,formatHex8:Xu,formatRgb:Li,toString:Li}));function Ri(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}`}function Xu(){return`#${Vt(this.r)}${Vt(this.g)}${Vt(this.b)}${Vt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Li(){const e=Yn(this.opacity);return`${e===1?"rgb(":"rgba("}${Wt(this.r)}, ${Wt(this.g)}, ${Wt(this.b)}${e===1?")":`, ${e})`}`}function Yn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Wt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vt(e){return e=Wt(e),(e<16?"0":"")+e.toString(16)}function qi(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new bt(e,t,n,o)}function Ir(e){if(e instanceof bt)return new bt(e.h,e.s,e.l,e.opacity);if(e instanceof In||(e=Kt(e)),!e)return new bt;if(e instanceof bt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),a=NaN,l=r-i,s=(r+i)/2;return l?(t===r?a=(n-o)/l+(n<o)*6:n===r?a=(o-t)/l+2:a=(t-n)/l+4,l/=s<.5?r+i:2-r-i,a*=60):l=s>0&&s<1?0:a,new bt(a,l,s,e.opacity)}function ju(e,t,n,o){return arguments.length===1?Ir(e):new bt(e,t,n,o??1)}function bt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Wo(bt,ju,_r(In,{brighter(e){return e=e==null?Kn:Math.pow(Kn,e),new bt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?wn:Math.pow(wn,e),new bt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new it(vo(e>=240?e-240:e+120,i,o),vo(e,i,o),vo(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new bt(Ui(this.h),Fn(this.s),Fn(this.l),Yn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Yn(this.opacity);return`${e===1?"hsl(":"hsla("}${Ui(this.h)}, ${Fn(this.s)*100}%, ${Fn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ui(e){return e=(e||0)%360,e<0?e+360:e}function Fn(e){return Math.max(0,Math.min(1,e||0))}function vo(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Ko=e=>()=>e;function Vu(e,t){return function(n){return e+n*t}}function Wu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function Ku(e){return(e=+e)==1?Pr:function(t,n){return n-t?Wu(t,n,e):Ko(isNaN(t)?n:t)}}function Pr(e,t){var n=t-e;return n?Vu(e,n):Ko(isNaN(e)?t:e)}const Gn=function e(t){var n=Ku(t);function o(i,r){var a=n((i=No(i)).r,(r=No(r)).r),l=n(i.g,r.g),s=n(i.b,r.b),u=Pr(i.opacity,r.opacity);return function(d){return i.r=a(d),i.g=l(d),i.b=s(d),i.opacity=u(d),i+""}}return o.gamma=e,o}(1);function Yu(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=e[i]*(1-r)+t[i]*r;return o}}function Gu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function Qu(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,i=new Array(o),r=new Array(n),a;for(a=0;a<o;++a)i[a]=ao(e[a],t[a]);for(;a<n;++a)r[a]=t[a];return function(l){for(a=0;a<o;++a)r[a]=i[a](l);return r}}function Ju(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function gt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Zu(e,t){var n={},o={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=ao(e[i],t[i]):o[i]=t[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var To=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,go=new RegExp(To.source,"g");function xu(e){return function(){return e}}function ec(e){return function(t){return e(t)+""}}function Ar(e,t){var n=To.lastIndex=go.lastIndex=0,o,i,r,a=-1,l=[],s=[];for(e=e+"",t=t+"";(o=To.exec(e))&&(i=go.exec(t));)(r=i.index)>n&&(r=t.slice(n,r),l[a]?l[a]+=r:l[++a]=r),(o=o[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:gt(o,i)})),n=go.lastIndex;return n<t.length&&(r=t.slice(n),l[a]?l[a]+=r:l[++a]=r),l.length<2?s[0]?ec(s[0].x):xu(t):(t=s.length,function(u){for(var d=0,v;d<t;++d)l[(v=s[d]).i]=v.x(u);return l.join("")})}function ao(e,t){var n=typeof t,o;return t==null||n==="boolean"?Ko(t):(n==="number"?gt:n==="string"?(o=Kt(t))?(t=o,Gn):Ar:t instanceof Kt?Gn:t instanceof Date?Ju:Gu(t)?Yu:Array.isArray(t)?Qu:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Zu:gt)(e,t)}function tc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Oi=180/Math.PI,Mo={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Sr(e,t,n,o,i,r){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,s/=l),e*o<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*Oi,skewX:Math.atan(s)*Oi,scaleX:a,scaleY:l}}var En;function nc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Mo:Sr(t.a,t.b,t.c,t.d,t.e,t.f)}function oc(e){return e==null||(En||(En=document.createElementNS("http://www.w3.org/2000/svg","g")),En.setAttribute("transform",e),!(e=En.transform.baseVal.consolidate()))?Mo:(e=e.matrix,Sr(e.a,e.b,e.c,e.d,e.e,e.f))}function Nr(e,t,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,d,v,f,$,I){if(u!==v||d!==f){var oe=$.push("translate(",null,t,null,n);I.push({i:oe-4,x:gt(u,v)},{i:oe-2,x:gt(d,f)})}else(v||f)&&$.push("translate("+v+t+f+n)}function a(u,d,v,f){u!==d?(u-d>180?d+=360:d-u>180&&(u+=360),f.push({i:v.push(i(v)+"rotate(",null,o)-2,x:gt(u,d)})):d&&v.push(i(v)+"rotate("+d+o)}function l(u,d,v,f){u!==d?f.push({i:v.push(i(v)+"skewX(",null,o)-2,x:gt(u,d)}):d&&v.push(i(v)+"skewX("+d+o)}function s(u,d,v,f,$,I){if(u!==v||d!==f){var oe=$.push(i($)+"scale(",null,",",null,")");I.push({i:oe-4,x:gt(u,v)},{i:oe-2,x:gt(d,f)})}else(v!==1||f!==1)&&$.push(i($)+"scale("+v+","+f+")")}return function(u,d){var v=[],f=[];return u=e(u),d=e(d),r(u.translateX,u.translateY,d.translateX,d.translateY,v,f),a(u.rotate,d.rotate,v,f),l(u.skewX,d.skewX,v,f),s(u.scaleX,u.scaleY,d.scaleX,d.scaleY,v,f),u=d=null,function($){for(var I=-1,oe=f.length,h;++I<oe;)v[(h=f[I]).i]=h.x($);return v.join("")}}}var ic=Nr(nc,"px, ","px)","deg)"),rc=Nr(oc,", ",")",")"),cn=0,yn=0,vn=0,Tr=1e3,Qn,bn,Jn=0,Yt=0,so=0,$n=typeof performance=="object"&&performance.now?performance:Date,Mr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Yo(){return Yt||(Mr(ac),Yt=$n.now()+so)}function ac(){Yt=0}function Zn(){this._call=this._time=this._next=null}Zn.prototype=Rr.prototype={constructor:Zn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Yo():+n)+(t==null?0:+t),!this._next&&bn!==this&&(bn?bn._next=this:Qn=this,bn=this),this._call=e,this._time=n,Ro()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ro())}};function Rr(e,t,n){var o=new Zn;return o.restart(e,t,n),o}function sc(){Yo(),++cn;for(var e=Qn,t;e;)(t=Yt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--cn}function Fi(){Yt=(Jn=$n.now())+so,cn=yn=0;try{sc()}finally{cn=0,uc(),Yt=0}}function lc(){var e=$n.now(),t=e-Jn;t>Tr&&(so-=t,Jn=e)}function uc(){for(var e,t=Qn,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Qn=n);bn=e,Ro(o)}function Ro(e){if(!cn){yn&&(yn=clearTimeout(yn));var t=e-Yt;t>24?(e<1/0&&(yn=setTimeout(Fi,e-$n.now()-so)),vn&&(vn=clearInterval(vn))):(vn||(Jn=$n.now(),vn=setInterval(lc,Tr)),cn=1,Mr(Fi))}}function Ei(e,t,n){var o=new Zn;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}var cc=Xo("start","end","cancel","interrupt"),dc=[],Lr=0,Bi=1,Lo=2,zn=3,Di=4,qo=5,Xn=6;function lo(e,t,n,o,i,r){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;fc(e,n,{name:t,index:o,group:i,on:cc,tween:dc,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:Lr})}function Go(e,t){var n=kt(e,t);if(n.state>Lr)throw new Error("too late; already scheduled");return n}function It(e,t){var n=kt(e,t);if(n.state>zn)throw new Error("too late; already running");return n}function kt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function fc(e,t,n){var o=e.__transition,i;o[t]=n,n.timer=Rr(r,0,n.time);function r(u){n.state=Bi,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var d,v,f,$;if(n.state!==Bi)return s();for(d in o)if($=o[d],$.name===n.name){if($.state===zn)return Ei(a);$.state===Di?($.state=Xn,$.timer.stop(),$.on.call("interrupt",e,e.__data__,$.index,$.group),delete o[d]):+d<t&&($.state=Xn,$.timer.stop(),$.on.call("cancel",e,e.__data__,$.index,$.group),delete o[d])}if(Ei(function(){n.state===zn&&(n.state=Di,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=Lo,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Lo){for(n.state=zn,i=new Array(f=n.tween.length),d=0,v=-1;d<f;++d)($=n.tween[d].value.call(e,e.__data__,n.index,n.group))&&(i[++v]=$);i.length=v+1}}function l(u){for(var d=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=qo,1),v=-1,f=i.length;++v<f;)i[v].call(e,d);n.state===qo&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=Xn,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Uo(e,t){var n=e.__transition,o,i,r=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){r=!1;continue}i=o.state>Lo&&o.state<qo,o.state=Xn,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}r&&delete e.__transition}}function mc(e){return this.each(function(){Uo(this,e)})}function pc(e,t){var n,o;return function(){var i=It(this,e),r=i.tween;if(r!==n){o=n=r;for(var a=0,l=o.length;a<l;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function hc(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=It(this,e),a=r.tween;if(a!==o){i=(o=a).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}r.tween=i}}function vc(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=kt(this.node(),n).tween,i=0,r=o.length,a;i<r;++i)if((a=o[i]).name===e)return a.value;return null}return this.each((t==null?pc:hc)(n,e,t))}function Qo(e,t,n){var o=e._id;return e.each(function(){var i=It(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return kt(i,o).value[t]}}function qr(e,t){var n;return(typeof t=="number"?gt:t instanceof Kt?Gn:(n=Kt(t))?(t=n,Gn):Ar)(e,t)}function gc(e){return function(){this.removeAttribute(e)}}function yc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bc(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}}function kc(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}function wc(e,t,n){var o,i,r;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l)))}}function Cc(e,t,n){var o,i,r;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l)))}}function $c(e,t){var n=ro(e),o=n==="transform"?rc:qr;return this.attrTween(e,typeof t=="function"?(n.local?Cc:wc)(n,o,Qo(this,"attr."+e,t)):t==null?(n.local?yc:gc)(n):(n.local?kc:bc)(n,o,t))}function _c(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Ic(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Pc(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Ic(e,r)),n}return i._value=t,i}function Ac(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&_c(e,r)),n}return i._value=t,i}function Sc(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=ro(e);return this.tween(n,(o.local?Pc:Ac)(o,t))}function Nc(e,t){return function(){Go(this,e).delay=+t.apply(this,arguments)}}function Tc(e,t){return t=+t,function(){Go(this,e).delay=t}}function Mc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Nc:Tc)(t,e)):kt(this.node(),t).delay}function Rc(e,t){return function(){It(this,e).duration=+t.apply(this,arguments)}}function Lc(e,t){return t=+t,function(){It(this,e).duration=t}}function qc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Rc:Lc)(t,e)):kt(this.node(),t).duration}function Uc(e,t){if(typeof t!="function")throw new Error;return function(){It(this,e).ease=t}}function Oc(e){var t=this._id;return arguments.length?this.each(Uc(t,e)):kt(this.node(),t).ease}function Fc(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;It(this,e).ease=n}}function Ec(e){if(typeof e!="function")throw new Error;return this.each(Fc(this._id,e))}function Bc(e){typeof e!="function"&&(e=pr(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=[],s,u=0;u<a;++u)(s=r[u])&&e.call(s,s.__data__,u,r)&&l.push(s);return new Ut(o,this._parents,this._name,this._id)}function Dc(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),a=new Array(o),l=0;l<r;++l)for(var s=t[l],u=n[l],d=s.length,v=a[l]=new Array(d),f,$=0;$<d;++$)(f=s[$]||u[$])&&(v[$]=f);for(;l<o;++l)a[l]=t[l];return new Ut(a,this._parents,this._name,this._id)}function Hc(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function zc(e,t,n){var o,i,r=Hc(t)?Go:It;return function(){var a=r(this,e),l=a.on;l!==o&&(i=(o=l).copy()).on(t,n),a.on=i}}function Xc(e,t){var n=this._id;return arguments.length<2?kt(this.node(),n).on.on(e):this.each(zc(n,e,t))}function jc(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Vc(){return this.on("end.remove",jc(this._id))}function Wc(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jo(e));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var l=o[a],s=l.length,u=r[a]=new Array(s),d,v,f=0;f<s;++f)(d=l[f])&&(v=e.call(d,d.__data__,f,l))&&("__data__"in d&&(v.__data__=d.__data__),u[f]=v,lo(u[f],t,n,f,u,kt(d,n)));return new Ut(r,this._parents,t,n)}function Kc(e){var t=this._name,n=this._id;typeof e!="function"&&(e=mr(e));for(var o=this._groups,i=o.length,r=[],a=[],l=0;l<i;++l)for(var s=o[l],u=s.length,d,v=0;v<u;++v)if(d=s[v]){for(var f=e.call(d,d.__data__,v,s),$,I=kt(d,n),oe=0,h=f.length;oe<h;++oe)($=f[oe])&&lo($,t,n,oe,f,I);r.push(f),a.push(d)}return new Ut(r,a,t,n)}var Yc=_n.prototype.constructor;function Gc(){return new Yc(this._groups,this._parents)}function Qc(e,t){var n,o,i;return function(){var r=un(this,e),a=(this.style.removeProperty(e),un(this,e));return r===a?null:r===n&&a===o?i:i=t(n=r,o=a)}}function Ur(e){return function(){this.style.removeProperty(e)}}function Jc(e,t,n){var o,i=n+"",r;return function(){var a=un(this,e);return a===i?null:a===o?r:r=t(o=a,n)}}function Zc(e,t,n){var o,i,r;return function(){var a=un(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),un(this,e))),a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l))}}function xc(e,t){var n,o,i,r="style."+t,a="end."+r,l;return function(){var s=It(this,e),u=s.on,d=s.value[r]==null?l||(l=Ur(t)):void 0;(u!==n||i!==d)&&(o=(n=u).copy()).on(a,i=d),s.on=o}}function ed(e,t,n){var o=(e+="")=="transform"?ic:qr;return t==null?this.styleTween(e,Qc(e,o)).on("end.style."+e,Ur(e)):typeof t=="function"?this.styleTween(e,Zc(e,o,Qo(this,"style."+e,t))).each(xc(this._id,e)):this.styleTween(e,Jc(e,o,t),n).on("end.style."+e,null)}function td(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function nd(e,t,n){var o,i;function r(){var a=t.apply(this,arguments);return a!==i&&(o=(i=a)&&td(e,a,n)),o}return r._value=t,r}function od(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,nd(e,t,n??""))}function id(e){return function(){this.textContent=e}}function rd(e){return function(){var t=e(this);this.textContent=t??""}}function ad(e){return this.tween("text",typeof e=="function"?rd(Qo(this,"text",e)):id(e==null?"":e+""))}function sd(e){return function(t){this.textContent=e.call(this,t)}}function ld(e){var t,n;function o(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&sd(i)),t}return o._value=e,o}function ud(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,ld(e))}function cd(){for(var e=this._name,t=this._id,n=Or(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var d=kt(s,t);lo(s,e,n,u,a,{time:d.time+d.delay+d.duration,delay:0,duration:d.duration,ease:d.ease})}return new Ut(o,this._parents,e,n)}function dd(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(r,a){var l={value:a},s={value:function(){--i===0&&r()}};n.each(function(){var u=It(this,o),d=u.on;d!==e&&(t=(e=d).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&r()})}var fd=0;function Ut(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function Or(){return++fd}var Rt=_n.prototype;Ut.prototype={constructor:Ut,select:Wc,selectAll:Kc,selectChild:Rt.selectChild,selectChildren:Rt.selectChildren,filter:Bc,merge:Dc,selection:Gc,transition:cd,call:Rt.call,nodes:Rt.nodes,node:Rt.node,size:Rt.size,empty:Rt.empty,each:Rt.each,on:Xc,attr:$c,attrTween:Sc,style:ed,styleTween:od,text:ad,textTween:ud,remove:Vc,tween:vc,delay:Mc,duration:qc,ease:Oc,easeVarying:Ec,end:dd,[Symbol.iterator]:Rt[Symbol.iterator]};function md(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var pd={time:null,delay:0,duration:250,ease:md};function hd(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function vd(e){var t,n;e instanceof Ut?(t=e._id,e=e._name):(t=Or(),(n=pd).time=Yo(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],l=a.length,s,u=0;u<l;++u)(s=a[u])&&lo(s,e,t,u,a,n||hd(s,t));return new Ut(o,this._parents,e,t)}_n.prototype.interrupt=mc;_n.prototype.transition=vd;const yo=e=>()=>e;function gd(e,{sourceEvent:t,target:n,selection:o,mode:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:o,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function yd(e){e.stopImmediatePropagation()}function bo(e){e.preventDefault(),e.stopImmediatePropagation()}var Hi={name:"drag"},ko={name:"space"},nn={name:"handle"},on={name:"center"};const{abs:zi,max:Ye,min:Ge}=Math;function Xi(e){return[+e[0],+e[1]]}function ji(e){return[Xi(e[0]),Xi(e[1])]}var jn={name:"x",handles:["w","e"].map(xn),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},wo={name:"y",handles:["n","s"].map(xn),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Lt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Vi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},Wi={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},bd={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},kd={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function xn(e){return{type:e}}function wd(e){return!e.ctrlKey&&!e.button}function Cd(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function $d(){return navigator.maxTouchPoints||"ontouchstart"in this}function Co(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function _d(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Id(){return Pd(jn)}function Pd(e){var t=Cd,n=wd,o=$d,i=!0,r=Xo("start","brush","end"),a=6,l;function s(h){var S=h.property("__brush",oe).selectAll(".overlay").data([xn("overlay")]);S.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Lt.overlay).merge(S).each(function(){var y=Co(this).extent;yt(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),h.selectAll(".selection").data([xn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Lt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var C=h.selectAll(".handle").data(e.handles,function(y){return y.type});C.exit().remove(),C.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return Lt[y.type]}),h.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",f).filter(o).on("touchstart.brush",f).on("touchmove.brush",$).on("touchend.brush touchcancel.brush",I).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(h,S,C){h.tween?h.on("start.brush",function(y){d(this,arguments).beforestart().start(y)}).on("interrupt.brush end.brush",function(y){d(this,arguments).end(y)}).tween("brush",function(){var y=this,m=y.__brush,w=d(y,arguments),R=m.selection,ie=e.input(typeof S=="function"?S.apply(this,arguments):S,m.extent),D=ao(R,ie);function ee(K){m.selection=K===1&&ie===null?null:D(K),u.call(y),w.brush()}return R!==null&&ie!==null?ee:ee(1)}):h.each(function(){var y=this,m=arguments,w=y.__brush,R=e.input(typeof S=="function"?S.apply(y,m):S,w.extent),ie=d(y,m).beforestart();Uo(y),w.selection=R===null?null:R,u.call(y),ie.start(C).brush(C).end(C)})},s.clear=function(h,S){s.move(h,null,S)};function u(){var h=yt(this),S=Co(this).selection;S?(h.selectAll(".selection").style("display",null).attr("x",S[0][0]).attr("y",S[0][1]).attr("width",S[1][0]-S[0][0]).attr("height",S[1][1]-S[0][1]),h.selectAll(".handle").style("display",null).attr("x",function(C){return C.type[C.type.length-1]==="e"?S[1][0]-a/2:S[0][0]-a/2}).attr("y",function(C){return C.type[0]==="s"?S[1][1]-a/2:S[0][1]-a/2}).attr("width",function(C){return C.type==="n"||C.type==="s"?S[1][0]-S[0][0]+a:a}).attr("height",function(C){return C.type==="e"||C.type==="w"?S[1][1]-S[0][1]+a:a})):h.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function d(h,S,C){var y=h.__brush.emitter;return y&&(!C||!y.clean)?y:new v(h,S,C)}function v(h,S,C){this.that=h,this.args=S,this.state=h.__brush,this.active=0,this.clean=C}v.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(h,S){return this.starting?(this.starting=!1,this.emit("start",h,S)):this.emit("brush",h),this},brush:function(h,S){return this.emit("brush",h,S),this},end:function(h,S){return--this.active===0&&(delete this.state.emitter,this.emit("end",h,S)),this},emit:function(h,S,C){var y=yt(this.that).datum();r.call(h,this.that,new gd(h,{sourceEvent:S,target:s,selection:e.output(this.state.selection),mode:C,dispatch:r}),y)}};function f(h){if(l&&!h.touches||!n.apply(this,arguments))return;var S=this,C=h.target.__data__.type,y=(i&&h.metaKey?C="overlay":C)==="selection"?Hi:i&&h.altKey?on:nn,m=e===wo?null:bd[C],w=e===jn?null:kd[C],R=Co(S),ie=R.extent,D=R.selection,ee=ie[0][0],K,T,te=ie[0][1],q,Y,Ce=ie[1][0],X,H,se=ie[1][1],G,Q,fe=0,_e=0,re,we=m&&w&&i&&h.shiftKey,F,wt,Le=Array.from(h.touches||[h],j=>{const le=j.identifier;return j=Ai(j,S),j.point0=j.slice(),j.identifier=le,j});Uo(S);var et=d(S,arguments,!0).beforestart();if(C==="overlay"){D&&(re=!0);const j=[Le[0],Le[1]||Le[0]];R.selection=D=[[K=e===wo?ee:Ge(j[0][0],j[1][0]),q=e===jn?te:Ge(j[0][1],j[1][1])],[X=e===wo?Ce:Ye(j[0][0],j[1][0]),G=e===jn?se:Ye(j[0][1],j[1][1])]],Le.length>1&&Fe(h)}else K=D[0][0],q=D[0][1],X=D[1][0],G=D[1][1];T=K,Y=q,H=X,Q=G;var Ct=yt(S).attr("pointer-events","none"),tt=Ct.selectAll(".overlay").attr("cursor",Lt[C]);if(h.touches)et.moved=je,et.ended=Ve;else{var Pt=yt(h.view).on("mousemove.brush",je,!0).on("mouseup.brush",Ve,!0);i&&Pt.on("keydown.brush",pt,!0).on("keyup.brush",Xe,!0),Mu(h.view)}u.call(S),et.start(h,y.name);function je(j){for(const le of j.changedTouches||[j])for(const ft of Le)ft.identifier===le.identifier&&(ft.cur=Ai(le,S));if(we&&!F&&!wt&&Le.length===1){const le=Le[0];zi(le.cur[0]-le[0])>zi(le.cur[1]-le[1])?wt=!0:F=!0}for(const le of Le)le.cur&&(le[0]=le.cur[0],le[1]=le.cur[1]);re=!0,bo(j),Fe(j)}function Fe(j){const le=Le[0],ft=le.point0;var z;switch(fe=le[0]-ft[0],_e=le[1]-ft[1],y){case ko:case Hi:{m&&(fe=Ye(ee-K,Ge(Ce-X,fe)),T=K+fe,H=X+fe),w&&(_e=Ye(te-q,Ge(se-G,_e)),Y=q+_e,Q=G+_e);break}case nn:{Le[1]?(m&&(T=Ye(ee,Ge(Ce,Le[0][0])),H=Ye(ee,Ge(Ce,Le[1][0])),m=1),w&&(Y=Ye(te,Ge(se,Le[0][1])),Q=Ye(te,Ge(se,Le[1][1])),w=1)):(m<0?(fe=Ye(ee-K,Ge(Ce-K,fe)),T=K+fe,H=X):m>0&&(fe=Ye(ee-X,Ge(Ce-X,fe)),T=K,H=X+fe),w<0?(_e=Ye(te-q,Ge(se-q,_e)),Y=q+_e,Q=G):w>0&&(_e=Ye(te-G,Ge(se-G,_e)),Y=q,Q=G+_e));break}case on:{m&&(T=Ye(ee,Ge(Ce,K-fe*m)),H=Ye(ee,Ge(Ce,X+fe*m))),w&&(Y=Ye(te,Ge(se,q-_e*w)),Q=Ye(te,Ge(se,G+_e*w)));break}}H<T&&(m*=-1,z=K,K=X,X=z,z=T,T=H,H=z,C in Vi&&tt.attr("cursor",Lt[C=Vi[C]])),Q<Y&&(w*=-1,z=q,q=G,G=z,z=Y,Y=Q,Q=z,C in Wi&&tt.attr("cursor",Lt[C=Wi[C]])),R.selection&&(D=R.selection),F&&(T=D[0][0],H=D[1][0]),wt&&(Y=D[0][1],Q=D[1][1]),(D[0][0]!==T||D[0][1]!==Y||D[1][0]!==H||D[1][1]!==Q)&&(R.selection=[[T,Y],[H,Q]],u.call(S),et.brush(j,y.name))}function Ve(j){if(yd(j),j.touches){if(j.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else Ru(j.view,re),Pt.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);Ct.attr("pointer-events","all"),tt.attr("cursor",Lt.overlay),R.selection&&(D=R.selection),_d(D)&&(R.selection=null,u.call(S)),et.end(j,y.name)}function pt(j){switch(j.keyCode){case 16:{we=m&&w;break}case 18:{y===nn&&(m&&(X=H-fe*m,K=T+fe*m),w&&(G=Q-_e*w,q=Y+_e*w),y=on,Fe(j));break}case 32:{(y===nn||y===on)&&(m<0?X=H-fe:m>0&&(K=T-fe),w<0?G=Q-_e:w>0&&(q=Y-_e),y=ko,tt.attr("cursor",Lt.selection),Fe(j));break}default:return}bo(j)}function Xe(j){switch(j.keyCode){case 16:{we&&(F=wt=we=!1,Fe(j));break}case 18:{y===on&&(m<0?X=H:m>0&&(K=T),w<0?G=Q:w>0&&(q=Y),y=nn,Fe(j));break}case 32:{y===ko&&(j.altKey?(m&&(X=H-fe*m,K=T+fe*m),w&&(G=Q-_e*w,q=Y+_e*w),y=on):(m<0?X=H:m>0&&(K=T),w<0?G=Q:w>0&&(q=Y),y=nn),tt.attr("cursor",Lt[C]),Fe(j));break}default:return}bo(j)}}function $(h){d(this,arguments).moved(h)}function I(h){d(this,arguments).ended(h)}function oe(){var h=this.__brush||{selection:null};return h.extent=ji(t.apply(this,arguments)),h.dim=e,h}return s.extent=function(h){return arguments.length?(t=typeof h=="function"?h:yo(ji(h)),s):t},s.filter=function(h){return arguments.length?(n=typeof h=="function"?h:yo(!!h),s):n},s.touchable=function(h){return arguments.length?(o=typeof h=="function"?h:yo(!!h),s):o},s.handleSize=function(h){return arguments.length?(a=+h,s):a},s.keyModifiers=function(h){return arguments.length?(i=!!h,s):i},s.on=function(){var h=r.on.apply(r,arguments);return h===r?s:h},s}function Ad(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function eo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,o=e.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+e.slice(n+1)]}function dn(e){return e=eo(Math.abs(e)),e?e[1]:NaN}function Sd(e,t){return function(n,o){for(var i=n.length,r=[],a=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>o&&(l=Math.max(1,o-s)),r.push(n.substring(i-=l,i+l)),!((s+=l+1)>o));)l=e[a=(a+1)%e.length];return r.reverse().join(t)}}function Nd(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Td=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function to(e){if(!(t=Td.exec(e)))throw new Error("invalid format: "+e);var t;return new Jo({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}to.prototype=Jo.prototype;function Jo(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Jo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Md(e){e:for(var t=e.length,n=1,o=-1,i;n<t;++n)switch(e[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+e[n])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(i+1):e}var Fr;function Rd(e,t){var n=eo(e,t);if(!n)return e+"";var o=n[0],i=n[1],r=i-(Fr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=o.length;return r===a?o:r>a?o+new Array(r-a+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+eo(e,Math.max(0,t+r-1))[0]}function Ki(e,t){var n=eo(e,t);if(!n)return e+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const Yi={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Ad,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ki(e*100,t),r:Ki,s:Rd,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Gi(e){return e}var Qi=Array.prototype.map,Ji=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Ld(e){var t=e.grouping===void 0||e.thousands===void 0?Gi:Sd(Qi.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?Gi:Nd(Qi.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(v){v=to(v);var f=v.fill,$=v.align,I=v.sign,oe=v.symbol,h=v.zero,S=v.width,C=v.comma,y=v.precision,m=v.trim,w=v.type;w==="n"?(C=!0,w="g"):Yi[w]||(y===void 0&&(y=12),m=!0,w="g"),(h||f==="0"&&$==="=")&&(h=!0,f="0",$="=");var R=oe==="$"?n:oe==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",ie=oe==="$"?o:/[%p]/.test(w)?a:"",D=Yi[w],ee=/[defgprs%]/.test(w);y=y===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function K(T){var te=R,q=ie,Y,Ce,X;if(w==="c")q=D(T)+q,T="";else{T=+T;var H=T<0||1/T<0;if(T=isNaN(T)?s:D(Math.abs(T),y),m&&(T=Md(T)),H&&+T==0&&I!=="+"&&(H=!1),te=(H?I==="("?I:l:I==="-"||I==="("?"":I)+te,q=(w==="s"?Ji[8+Fr/3]:"")+q+(H&&I==="("?")":""),ee){for(Y=-1,Ce=T.length;++Y<Ce;)if(X=T.charCodeAt(Y),48>X||X>57){q=(X===46?i+T.slice(Y+1):T.slice(Y))+q,T=T.slice(0,Y);break}}}C&&!h&&(T=t(T,1/0));var se=te.length+T.length+q.length,G=se<S?new Array(S-se+1).join(f):"";switch(C&&h&&(T=t(G+T,G.length?S-q.length:1/0),G=""),$){case"<":T=te+T+q+G;break;case"=":T=te+G+T+q;break;case"^":T=G.slice(0,se=G.length>>1)+te+T+q+G.slice(se);break;default:T=G+te+T+q;break}return r(T)}return K.toString=function(){return v+""},K}function d(v,f){var $=u((v=to(v),v.type="f",v)),I=Math.max(-8,Math.min(8,Math.floor(dn(f)/3)))*3,oe=Math.pow(10,-I),h=Ji[8+I/3];return function(S){return $(oe*S)+h}}return{format:u,formatPrefix:d}}var Bn,Er,Br;qd({thousands:",",grouping:[3],currency:["$",""]});function qd(e){return Bn=Ld(e),Er=Bn.format,Br=Bn.formatPrefix,Bn}function Ud(e){return Math.max(0,-dn(Math.abs(e)))}function Od(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(dn(t)/3)))*3-dn(Math.abs(e)))}function Fd(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,dn(t)-dn(e))+1}function Zo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Zi=Symbol("implicit");function Dr(){var e=new $i,t=[],n=[],o=Zi;function i(r){let a=e.get(r);if(a===void 0){if(o!==Zi)return o;e.set(r,a=t.push(r)-1)}return n[a%n.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new $i;for(const a of r)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(r){return arguments.length?(n=Array.from(r),i):n.slice()},i.unknown=function(r){return arguments.length?(o=r,i):o},i.copy=function(){return Dr(t,n).unknown(o)},Zo.apply(i,arguments),i}function Hr(){var e=Dr().unknown(void 0),t=e.domain,n=e.range,o=0,i=1,r,a,l=!1,s=0,u=0,d=.5;delete e.unknown;function v(){var f=t().length,$=i<o,I=$?i:o,oe=$?o:i;r=(oe-I)/Math.max(1,f-s+u*2),l&&(r=Math.floor(r)),I+=(oe-I-r*(f-s))*d,a=r*(1-s),l&&(I=Math.round(I),a=Math.round(a));var h=Ys(f).map(function(S){return I+r*S});return n($?h.reverse():h)}return e.domain=function(f){return arguments.length?(t(f),v()):t()},e.range=function(f){return arguments.length?([o,i]=f,o=+o,i=+i,v()):[o,i]},e.rangeRound=function(f){return[o,i]=f,o=+o,i=+i,l=!0,v()},e.bandwidth=function(){return a},e.step=function(){return r},e.round=function(f){return arguments.length?(l=!!f,v()):l},e.padding=function(f){return arguments.length?(s=Math.min(1,u=+f),v()):s},e.paddingInner=function(f){return arguments.length?(s=Math.min(1,f),v()):s},e.paddingOuter=function(f){return arguments.length?(u=+f,v()):u},e.align=function(f){return arguments.length?(d=Math.max(0,Math.min(1,f)),v()):d},e.copy=function(){return Hr(t(),[o,i]).round(l).paddingInner(s).paddingOuter(u).align(d)},Zo.apply(v(),arguments)}function Ed(e){return function(){return e}}function Bd(e){return+e}var xi=[0,1];function an(e){return e}function Oo(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Ed(isNaN(t)?NaN:.5)}function Dd(e,t){var n;return e>t&&(n=e,e=t,t=n),function(o){return Math.max(e,Math.min(t,o))}}function Hd(e,t,n){var o=e[0],i=e[1],r=t[0],a=t[1];return i<o?(o=Oo(i,o),r=n(a,r)):(o=Oo(o,i),r=n(r,a)),function(l){return r(o(l))}}function zd(e,t,n){var o=Math.min(e.length,t.length)-1,i=new Array(o),r=new Array(o),a=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<o;)i[a]=Oo(e[a],e[a+1]),r[a]=n(t[a],t[a+1]);return function(l){var s=Es(e,l,1,o)-1;return r[s](i[s](l))}}function Xd(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function jd(){var e=xi,t=xi,n=ao,o,i,r,a=an,l,s,u;function d(){var f=Math.min(e.length,t.length);return a!==an&&(a=Dd(e[0],e[f-1])),l=f>2?zd:Hd,s=u=null,v}function v(f){return f==null||isNaN(f=+f)?r:(s||(s=l(e.map(o),t,n)))(o(a(f)))}return v.invert=function(f){return a(i((u||(u=l(t,e.map(o),gt)))(f)))},v.domain=function(f){return arguments.length?(e=Array.from(f,Bd),d()):e.slice()},v.range=function(f){return arguments.length?(t=Array.from(f),d()):t.slice()},v.rangeRound=function(f){return t=Array.from(f),n=tc,d()},v.clamp=function(f){return arguments.length?(a=f?!0:an,d()):a!==an},v.interpolate=function(f){return arguments.length?(n=f,d()):n},v.unknown=function(f){return arguments.length?(r=f,v):r},function(f,$){return o=f,i=$,d()}}function Vd(){return jd()(an,an)}function Wd(e,t,n,o){var i=Ws(e,t,n),r;switch(o=to(o??",f"),o.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(r=Od(i,a))&&(o.precision=r),Br(o,a)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=Fd(i,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=Ud(i))&&(o.precision=r-(o.type==="%")*2);break}}return Er(o)}function Kd(e){var t=e.domain;return e.ticks=function(n){var o=t();return Vs(o[0],o[o.length-1],n??10)},e.tickFormat=function(n,o){var i=t();return Wd(i[0],i[i.length-1],n??10,o)},e.nice=function(n){n==null&&(n=10);var o=t(),i=0,r=o.length-1,a=o[i],l=o[r],s,u,d=10;for(l<a&&(u=a,a=l,l=u,u=i,i=r,r=u);d-- >0;){if(u=Io(a,l,n),u===s)return o[i]=a,o[r]=l,t(o);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function zr(){var e=Vd();return e.copy=function(){return Xd(e,zr())},Zo.apply(e,arguments),Kd(e)}function kn(e,t,n){this.k=e,this.x=t,this.y=n}kn.prototype={constructor:kn,scale:function(e){return e===1?this:new kn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new kn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};kn.prototype;function $o(e,t,n){const o=new E(10).pow(t-n);return new E(1.0001).pow(e).mul(o)}const Yd=rt({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,t){const n=N(1),o=N(""),i=N(""),r=ae(()=>{var m,w,R;return v.sqrtPriceX64ToPrice((m=e.poolInfo)==null?void 0:m.current_sqrt_price,(w=e.poolInfo)==null?void 0:w.coinA.decimals,(R=e.poolInfo)==null?void 0:R.coinB.decimals).toString()}),a=ae(()=>{let m=0;return e.direction?m=(Number(e.minPrice)/Number(r.value)-1)*100:m=(Number(e.minPrice)/Number(1/Number(r.value))-1)*100,m=m>0&&m<.1?.1:m,m=m<0&&m>-.1?-.1:m,m}),l=ae(()=>{let m=0;return e.direction?m=(Number(e.maxPrice)/Number(r.value)-1)*100:m=(Number(e.maxPrice)/Number(1/Number(r.value))-1)*100,m=m>0&&m<.1?.1:m,m=m<0&&m>-.1?-.1:m,m}),s=ct(),u=ae(()=>s),d=ae(()=>u.value.chainName?Fo(u.value.chainName):{}),{TickMath:v,getNearestTickByTick:f}=d.value,$=()=>{const m=n.value/2;n.value=m,h(e.poolInfo,m)},I=()=>{const m=n.value*2;n.value=m,h(e.poolInfo,m)},oe=(m=[])=>{let w=6;const R=Math.abs(Number(m[0])-Number(m[m.length-1]));return R>=6?w=0:R>=1?w=1:R>=.1?w=2:R>=.01?w=3:R>=.001?w=4:R>=1e-4?w=5:R>=1e-5?w=6:R>=1e-6?w=7:R>=1e-7&&(w=8),w},h=(m,w=1)=>{if(m&&m.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const R=Number(e.poolInfo.current_tick_index);let ie=R+100*w,D=R-100*w,ee,K;e.maxPrice==="∞"?K=0:e.direction?K=v.priceToTickIndex(new E(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):K=v.priceToTickIndex(new E(1/Number(e.minPrice)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals),e.minPrice==="0"?ee=0:e.direction?ee=v.priceToTickIndex(new E(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):ee=v.priceToTickIndex(new E(1/Number(e.maxPrice)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals);let T=0;if(R>=ee&&R<=K){const we=R-ee,F=K-R;T=Math.max(Math.abs(we),Math.abs(F))}else R<ee?T=Math.abs(K-R):T=Math.abs(R-ee);ie=R+T+100*w,D=R-T-100*w;const te=Number(m.liquidity)/Math.pow(10,6),q=e.tickList,Y=[],Ce=[];let X={};for(let we=0;we<q.length;we++)X=q[we],X.index<=R&&X.index>=D?Y.unshift(X):X.index>R&&X.index<=ie&&Ce.push(X);let H=Number(te);for(let we=0;we<Y.length;we++)Y[we].liquityAmount=H,H=H-Number(Y[we].liquidityNet.toString()/Math.pow(10,6));let se=Number(te);for(let we=0;we<Ce.length;we++)Ce[we].liquityAmount=se,se=se+Number(Ce[we].liquidityNet.toString()/Math.pow(10,6));let G=[];const Q=q&&q.length>0?{index:R,liquityAmount:Number(te)}:{index:R,liquityAmount:0};(Y.length>0||Ce.length>0)&&(G=[...Y.reverse(),Q,...Ce],e.direction||(G=G.reverse()));const fe=[];let _e=0,re=0;q.forEach(we=>{fe.push({...we,liquidityGross:we.liquidityGross.toString(),liquidityNet:we.liquidityNet.toString()}),_e+=we.liquidityNet.toNumber(),re+=we.liquidityGross.toNumber()}),C(G,D,ie,ee,K,R)}};let S=N(!1);no(()=>{document.body.clientWidth<750?S.value=!1:S.value=!0,window.onresize=()=>{document.body.clientWidth<750?S.value=!1:S.value=!0,h(e.poolInfo,n.value)}});const C=(m,w,R,ie,D,ee)=>{let K,T;e.direction?(K=e.before7dContractPriceLowest?v.priceToTickIndex(new E(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?v.priceToTickIndex(new E(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(K=e.before7dContractPriceLowest?v.priceToTickIndex(new E(1/Number(e.before7dContractPriceLowest)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?v.priceToTickIndex(new E(1/Number(e.before7dContractPriceHighest)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const te={top:30,right:35,bottom:20,left:55};let q,Y;S.value?(q=460-te.left-te.right,Y=205-te.top-te.bottom):(q=340-te.left-te.right,Y=205-te.top-te.bottom);const Ce=R-w,X=parseInt(String(Ce/4));let H=[w,w+X,w+2*X,R-X,R];const se=H[0]-(H[1]-H[0])/3,G=H[4]+(H[4]-H[3])/3,Q=q/(G-se);e.currentPriceTab==="full range"&&(H=[w,w+2*X,R]);const fe=H.map(z=>e.direction?$o(z,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():1/$o(z,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),_e=oe(fe);yt("#chart").selectAll("*").remove();const re=yt("#chart").attr("width",q+te.left+te.right).attr("height",Y+te.top+te.bottom).append("g").attr("transform",`translate(${te.left},${te.right})`),we=Ks(m,function(z){return Number(z.liquityAmount)})||0,F=zr().range([0,Y]).domain([we,0]);Hr().rangeRound([0,q]).padding(.1);const Le=re.append("g").attr("id","barsBox").selectAll("rect").data(m).enter().append("rect");u.value.theme=="default"?Le.attr("x",function(z,V){return V===0?0:e.direction?Math.abs(m[V-1].index-se)*Q:Math.abs(G-m[V-1].index)*Q}).attr("y",function(z,V){return V===0?0:e.direction?F(m[V-1].liquityAmount):F(z.liquityAmount)}).attr("width",function(z,V){return V===0&&m.length===1&&z.liquityAmount>0?q:V===0?0:e.direction?Math.abs(z.index-m[V-1].index)*Q:Math.abs(m[V-1].index-z.index)*Q}).attr("height",function(z,V){return V===0&&m.length===1&&z.liquityAmount>0?Y:V===0?0:e.direction?Y-F(m[V-1].liquityAmount):Y-F(z.liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):Le.attr("x",function(z,V){return V===0?0:e.direction?Math.abs(m[V-1].index-se)*Q:Math.abs(G-m[V-1].index)*Q}).attr("y",function(z,V){return V===0?0:e.direction?F(m[V-1].liquityAmount):F(z.liquityAmount)}).attr("width",function(z,V){return V===0&&m.length===1&&z.liquityAmount>0?q:V===0?0:e.direction?Math.abs(z.index-m[V-1].index)*Q:Math.abs(m[V-1].index-z.index)*Q}).attr("height",function(z,V){return V===0&&m.length===1&&z.liquityAmount>0?Y:V===0?0:e.direction?Y-F(m[V-1].liquityAmount):Y-F(z.liquityAmount)}).attr("fill","#407497").attr("class","bars");const et=re.append("g");et.append("line").attr("x1",0).attr("y1",155).attr("x2",q).attr("y2",155).attr("stroke-width",1);const Ct=et.append("g");let tt=0;if(e.direction){for(let z=0;z<H.length;z++){const V=Qe(fe[z],_e)||"0";fe.push(V);const P=Math.abs(H[z]-se)*Q;let _=0;for(let Oe=0;Oe<V.length;Oe++)V[Oe]==="1"?_+=4.02:V[Oe]==="."?_+=2.64:V[Oe]==="7"?_+=5.48:_+=6;Ct.append("text").text(V).attr("x",P-_/2).attr("y",170).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}tt=Math.abs(ee-se)*Q}else{for(let z=H.length-1;z>=0;z--){const V=ut(String(1/$o(H[z],e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),6)||"0";fe.push(V);const P=Math.abs(H[z]-G)*Q;let _=0;for(let Oe=0;Oe<V.length;Oe++)V[Oe]==="1"?_+=4.02:V[Oe]==="."?_+=2.64:V[Oe]==="7"?_+=5.48:_+=6;Ct.append("text").text(V).attr("x",P-_/2).attr("y",170).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}tt=Math.abs(ee-G)*Q}(u.value.theme=="default"?re.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):re.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+tt+", 0)");let je,Fe,Ve,pt;e.direction?(je=ie<se?-100:Math.abs(ie-se)*Q,Fe=D<se?-100:Math.abs(D-se)*Q,Ve=K<se?-100:Math.abs(K-se)*Q,pt=T<se?-100:Math.abs(T-se)*Q):(Fe=ie<se?-100:Math.abs(G-ie)*Q,je=D<se?-100:Math.abs(G-D)*Q,pt=K<se?-100:Math.abs(G-K)*Q,Ve=T<se?-100:Math.abs(G-T)*Q),e.minPrice==="0"&&(je=0),e.maxPrice==="∞"&&(Fe=q),S.value?o.value=q-je+60+"px":o.value=q-je+52+"px",i.value=Fe+74+"px",K&&Ve<q&&re.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Ve+", 0)"),T&&pt<q&&re.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+pt+", 0)");const Xe=re.append("g").attr("id","left-handle"),j=re.append("g").attr("id","right-handle");u.value.theme=="default"?(Xe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Xe.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),Xe.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),Xe.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),j.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),j.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),j.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),j.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(Xe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Xe.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),Xe.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),Xe.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),j.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),j.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),j.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),j.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),Xe.attr("transform","translate("+je+", 0)"),j.attr("transform","translate("+Fe+", 0)");const le=Id().extent([[0,0],[q,Y]]).handleSize(30).on("end",ft);re.append("g").attr("class","brush").call(le).call(le.move,[je,Fe]);function ft(z){if(!z.sourceEvent||!z.selection)return;Xe.attr("transform","translate("+z.selection[0]+", 0)"),j.attr("transform","translate("+z.selection[1]+", 0)"),S.value?o.value=q-z.selection[0]+60+"px":o.value=q-z.selection[0]+52+"px",i.value=z.selection[1]+74+"px";let V,P,_=0,Oe=0;e.direction?(_=f(z.selection[0]/Q+se,Number(e.poolInfo.tickSpacing)),V=v.tickIndexToPrice(_,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber(),Oe=f(z.selection[1]/Q+se,Number(e.poolInfo.tickSpacing)),P=v.tickIndexToPrice(Oe,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()):(Oe=f(G-z.selection[0]/Q,Number(e.poolInfo.tickSpacing)),V=1/v.tickIndexToPrice(Oe,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber(),_=f(G-z.selection[1]/Q,Number(e.poolInfo.tickSpacing)),P=1/v.tickIndexToPrice(_,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),t.emit("onChangeMinPrice",String(Qe(String(V),6))),t.emit("onChangeMaxPrice",String(Qe(String(P),6)))}u.value.theme=="default"?yt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):yt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};N(""),Se(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab],([m,w,R,ie])=>{m&&w&&R&&(R=="∞"||Number(R)>Number(w))&&h(m,n.value)},{immediate:!0});const y=N(!0);return Se(()=>e.chartLoading,(m,w)=>{m!==w&&(y.value=m)},{immediate:!0,deep:!0}),{store:u,loading:y,zoomOut:$,zoomIn:I,rangeSizeLower:a,rangeSizeUpper:l,rangeSizeLowerPosition:o,rangeSizeUpperPosition:i,decimalFormat:ut,numberformat:_o}}});const Gd=e=>(Ot("data-v-d8c077be"),e=e(),Ft(),e),Qd={class:"chart-box"},Jd={class:"chart"},Zd={class:"zoom"},xd=Gd(()=>c("svg",{id:"chart"},null,-1));function ef(e,t,n,o,i,r){return g(),A("div",Qd,[ua(c("div",Jd,[c("div",Zd,[c("div",{class:"amplification",onClick:t[0]||(t[0]=(...a)=>e.zoomOut&&e.zoomOut(...a))}),c("div",{class:"narrow",onClick:t[1]||(t[1]=(...a)=>e.zoomIn&&e.zoomIn(...a))})]),e.currentPriceTab!=="full range"?(g(),A("div",{key:0,class:"range-size range-size-lower",style:bi({right:e.rangeSizeLowerPosition})},b(("numberformat"in e?e.numberformat:me(_o))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):L("",!0),e.currentPriceTab!=="full range"?(g(),A("div",{key:1,class:"range-size range-size-upper",style:bi({left:e.rangeSizeUpperPosition})},b(("numberformat"in e?e.numberformat:me(_o))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):L("",!0),xd],512),[[ca,!e.loading]])])}const tf=at(Yd,[["render",ef],["__scopeId","data-v-d8c077be"]]),nf=rt({props:{poolInfo:{type:Object,default:()=>({})},aprRewardsParameter:{type:Number,default:30},label:{type:Boolean,default:!0}},setup(e,t){const n=N(""),o=N(""),i=N(""),r=ct(),a=ae(()=>r),l=fn(),s=ae(()=>l),u=(S,C)=>S&&C?sn(va.plus(po(S),po(C)),2)+"%":S,d=S=>{let C=0;return S&&S.forEach(y=>{C+=po(String(y))}),String(sn(String(C),2))},v=N([]),f=N([]),$=N(""),I=N(""),oe=N(!0);return Se(()=>[a.value.newTopPoolsObj,e.poolInfo,s.value.newTokenObj,e.aprRewardsParameter],async([S,C,y])=>{if(S&&C&&y){const m=S[C==null?void 0:C.poolAddress];if(m){n.value=m&&m.apr_7day,I.value=d(m&&m.rewarder_apr),$.value=u(m&&m.apr_7day,m&&d(m.rewarder_apr)),o.value=ot(m.tvl_in_usd,2),i.value=ot(m.vol_in_usd_24h,2);const w=C&&e.poolInfo.rewarder_infos||[],R=[];for(let D=0;D<w.length;D++){const ee=w[D];if(y[ee.coinAddress]){const K=y[ee.coinAddress].decimals,T=ut(ee.emissionsEveryDay/Math.pow(10,K),4),te=ut(Number(T)*s.value.RATES[ee.coinAddress].price,4);R.push({...ee,logoUrl:y[ee.coinAddress].logoURI,day:T,dayUSD:te,symbol:y[ee.coinAddress].symbol,rewarder_display:C&&C[`rewarder_display${D+1}`]?C[`rewarder_display${D+1}`]:!1})}}v.value=R.filter(D=>D.rewarder_display);const ie=[];R.forEach((D,ee)=>{y[D.coinAddress]&&ie.push({...D,symbol:y[D.coinAddress].symbol,rewarderApr:m.rewarder_apr[ee]})}),f.value=ie.filter(D=>D.rewarder_display)}oe.value=!1}},{immediate:!0,deep:!0}),{rewarderInfo:v,rewarderArr:f,rewardApr:$,rewardAprList:I,apr:n,liquidityTvl:o,vol24:i,addCommom:ot,reviseValue:()=>{t.emit("reviseValue")},loading:oe}}});const Xr=e=>(Ot("data-v-a7e0e0b8"),e=e(),Ft(),e),of={key:0,class:"pool-info"},rf=Xr(()=>c("use",{"xlink:href":"#icon-icon_on"},null,-1)),af=[rf],sf={key:0,class:"info-block-container"},lf={class:"info-block"},uf={class:"leabl"},cf={class:"text"},df={class:"apr-hover-content"},ff={class:"info-block"},mf={class:"leabl"},pf={class:"text"},hf={class:"info-block"},vf={class:"leabl"},gf={class:"text"},yf={class:"info-block"},bf={class:"leabl"},kf={class:"text"},wf={key:1,class:"pool-rewards-info"},Cf={class:"rewards-list-all"},$f=Xr(()=>c("div",{class:"icon-sign"},null,-1)),_f=["src"],If={class:"rewards-value"};function Pf(e,t,n,o,i,r){const a=ha,l=rr;return e.poolInfo?(g(),A("div",of,[e.loading?(g(),ke(l,{key:1})):(g(),A(qt,{key:0},[c("div",{class:Ae(e.label?"pool-info-border pool-info-title":"pool-info-title")},[Ue(b(e.$t("newAdd.poolInfo"))+" ",1),(g(),A("svg",{class:Ae(e.label?"show-icon icon":"icon"),"aria-hidden":"true",onClick:t[0]||(t[0]=s=>e.reviseValue())},af,2))],2),e.label?(g(),A("div",sf,[c("div",lf,[c("div",uf,b(e.$t("common.apr")),1),c("div",cf,[Ue(b(e.poolInfo.is_display_rewarder?("addCommom"in e?e.addCommom:me(ot))(e.rewardApr.substring(0,e.rewardApr.length-1),2):("addCommom"in e?e.addCommom:me(ot))(e.apr.substring(0,e.apr.length-1),2))+"% ",1),c("div",df,[ye(a,{"l-item":{apr:e.apr,aprTotal:e.rewardApr,rewarder_apr:e.rewardAprList,is_display_rewarder:e.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["l-item","rewarder-info"])])])]),c("div",ff,[c("div",mf,b(e.$t("common.liquidity")),1),c("div",pf,"$"+b(e.liquidityTvl),1)]),c("div",hf,[c("div",vf,b(e.$t("common.volume24h")),1),c("div",gf,"$"+b(e.vol24),1)]),c("div",yf,[c("div",bf,b(e.$t("newAdd.tickSpacing")),1),c("div",kf,b(e.poolInfo&&e.poolInfo.tick_spacing),1)])])):L("",!0),e.poolInfo.is_display_rewarder&&e.label&&e.rewarderInfo&&e.rewarderInfo.length>0?(g(),A("div",wf,[Ue(b("Farming Bonus")+" "),c("div",Cf,[(g(!0),A(qt,null,gn(e.rewarderInfo,s=>(g(),A("div",{key:s,class:Ae(["rewards-list",s.day==0?"rewards-none":""])},[$f,c("img",{src:s.logoUrl,alt:""},null,8,_f),c("div",If,[c("p",null,b(s.day)+" "+b(s.symbol)+" / "+b(e.$t("newAdd.day"))+" ",1)])],2))),128))])])):L("",!0)],64))])):L("",!0)}const Af=at(nf,[["render",Pf],["__scopeId","data-v-a7e0e0b8"]]),Sf=rt({components:{Modal:Bo},props:{poolInfo:{type:Object,required:!0}},setup(e){const t=N({}),n=ct(),o=ae(()=>n),i=ae(()=>o.value.chainName),r=ae(()=>rn[i.value]);let a=N(!0);const l=fn(),s=ae(()=>l),u=Eo(),d=ae(()=>e.poolInfo.needReverse);return Se(()=>s.value.currentPositionInfo,v=>{v&&(t.value=v)},{immediate:!0}),{addCommom:ot,router:u,pools:s,positionInfo:t,decimalFormat:ut,rateChange:a,config:r,importIcon:ze,store:o,chainName:i,checkNullObj:Dt,needReverse:d}}});const Pn=e=>(Ot("data-v-ca4c6997"),e=e(),Ft(),e),Nf=Pn(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Tf={class:"rejected-container"},Mf={class:"coin-pair"},Rf=Pn(()=>c("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Lf=[Rf],qf=["href"],Uf=Pn(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-jump"})],-1)),Of=[Uf],Ff=["href"],Ef=Pn(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-jump"})],-1)),Bf=[Ef],Df={class:"coin-pair"},Hf=["src"],zf=["src"],Xf={class:"fee"},jf={class:"status"},Vf={class:"min-and-max"},Wf={key:0},Kf={class:"text"},Yf={key:0,src:Ho,alt:""},Gf={key:1,src:zo,alt:""},Qf={class:"text"},Jf={key:1},Zf={class:"text"},xf={key:0,src:Ho,alt:""},em={key:1,src:zo,alt:""},tm={class:"text"},nm=Pn(()=>c("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),om=[nm];function im(e,t,n,o,i,r){const a=ir,l=ga,s=io,u=Do("Modal");return g(),ke(u,{visible:!0,class:"transiaction-rejected",centered:"",title:e.$t("newAdd.openPositionSuccessful"),width:"340px",footer:null,onCancel:t[3]||(t[3]=d=>e.$emit("onClose"))},{closeIcon:$e(()=>[Nf]),default:$e(()=>[c("div",Tf,[ye(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:$e(()=>[c("div",Mf,[Ue(b(e.positionInfo.tokenName)+" ",1),(g(),A("svg",{class:"icon","aria-hidden":"true",onClick:t[0]||(t[0]=d=>e.store.copy(e.positionInfo.nftHash))},Lf)),e.chainName==="Aptos"?(g(),A("a",{key:0,href:`${("config"in e?e.config:me(rn)).explorerUrl}/token/${e.positionInfo.nftHash}/0?network=${("config"in e?e.config:me(rn)).network}`,target:"_blank"},Of,8,qf)):(g(),A("a",{key:1,href:`${("config"in e?e.config:me(rn)).explorerUrl}/object/${e.positionInfo.pos_object_id}?network=${("config"in e?e.config:me(rn)).network}`,target:"_blank"},Bf,8,Ff))])]),_:1},8,["loading"]),c("div",{class:Ae(["left",`position-status-${e.positionInfo&&e.positionInfo.currentStatus&&e.positionInfo.currentStatus.toLowerCase()}`])},[ye(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:$e(()=>{var d,v,f,$,I,oe,h,S,C,y,m,w,R,ie,D,ee,K,T,te,q,Y,Ce,X,H;return[c("div",Df,[c("div",null,[c("img",{src:(e.needReverse?($=(f=e.positionInfo)==null?void 0:f.token_b)==null?void 0:$.logoURI:(v=(d=e.positionInfo)==null?void 0:d.token_a)==null?void 0:v.logoURI)||("importIcon"in e?e.importIcon:me(ze))(`/image/coins/${e.needReverse?(S=(h=e.positionInfo)==null?void 0:h.token_b)==null?void 0:S.symbol.toLowerCase():(oe=(I=e.positionInfo)==null?void 0:I.token_a)==null?void 0:oe.symbol.toLowerCase()}.png`)},null,8,Hf),c("img",{src:(e.needReverse?(w=(m=e.positionInfo)==null?void 0:m.token_a)==null?void 0:w.logoURI:(y=(C=e.positionInfo)==null?void 0:C.token_b)==null?void 0:y.logoURI)||("importIcon"in e?e.importIcon:me(ze))(`/image/coins/${e.needReverse?(ee=(D=e.positionInfo)==null?void 0:D.token_a)==null?void 0:ee.symbol.toLowerCase():(ie=(R=e.positionInfo)==null?void 0:R.token_b)==null?void 0:ie.symbol.toLowerCase()}.png`)},null,8,zf)]),c("span",null,b(e.needReverse?(q=(te=e.positionInfo)==null?void 0:te.token_b)==null?void 0:q.symbol:(T=(K=e.positionInfo)==null?void 0:K.token_a)==null?void 0:T.symbol)+" - "+b(e.needReverse?(H=(X=e.positionInfo)==null?void 0:X.token_a)==null?void 0:H.symbol:(Ce=(Y=e.positionInfo)==null?void 0:Y.token_b)==null?void 0:Ce.symbol),1)]),c("div",Xf,b(e.$t("common.fee"))+" "+b(e.positionInfo.fee*100)+"%",1)]}),_:1},8,["loading"])],2),c("div",jf,[ye(l,{"current-status":e.positionInfo.currentStatus||""},null,8,["current-status"])]),ye(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:$e(()=>{var d,v,f,$,I,oe,h,S;return[c("div",Vf,[(e.needReverse?!e.rateChange:e.rateChange)?(g(),A("div",Wf,[c("div",Kf,b(("addCommom"in e?e.addCommom:me(ot))(("decimalFormat"in e?e.decimalFormat:me(ut))(String(e.positionInfo&&e.positionInfo.minPrice),6),6)),1),e.store.theme=="default"?(g(),A("img",Yf)):(g(),A("img",Gf)),c("div",Qf,b(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:me(ot))(("decimalFormat"in e?e.decimalFormat:me(ut))(String(e.positionInfo&&e.positionInfo.maxPrice),6),6))+" "+b((v=(d=e.positionInfo)==null?void 0:d.token_b)==null?void 0:v.symbol)+" per "+b(($=(f=e.positionInfo)==null?void 0:f.token_a)==null?void 0:$.symbol),1)])):(g(),A("div",Jf,[c("div",Zf,b(("addCommom"in e?e.addCommom:me(ot))(("decimalFormat"in e?e.decimalFormat:me(ut))(String(1/Number(e.positionInfo&&e.positionInfo.maxPrice)),6),6)),1),e.store.theme=="default"?(g(),A("img",xf)):(g(),A("img",em)),c("div",tm,b(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:me(ot))(("decimalFormat"in e?e.decimalFormat:me(ut))(String(1/Number(e.positionInfo&&e.positionInfo.minPrice)),6),6))+" "+b((oe=(I=e.positionInfo)==null?void 0:I.token_a)==null?void 0:oe.symbol)+" per "+b((S=(h=e.positionInfo)==null?void 0:h.token_b)==null?void 0:S.symbol),1)])),(g(),A("svg",{class:"icon-change","aria-hidden":"true",onClick:t[1]||(t[1]=C=>e.rateChange=!e.rateChange)},om))])]}),_:1},8,["loading"])]),ye(s,{disabled:("checkNullObj"in e?e.checkNullObj:me(Dt))(e.positionInfo),onClick:t[2]||(t[2]=d=>e.router.push(`/position-detail?collect=${e.positionInfo.collectionName}&&token=${e.positionInfo.tokenName}&&address=${e.positionInfo.pool}&pos=${e.positionInfo.pos_object_id}`))},{default:$e(()=>[Ue(b(e.$t("newAdd.viewDetail")),1)]),_:1},8,["disabled"])]),_:1},8,["title"])}const rm=at(Sf,[["render",im],["__scopeId","data-v-ca4c6997"]]),am=rt({components:{Modal:Bo},setup(){const e=ct(),t=ae(()=>e);return{importIcon:ze,store:t}}}),sm=""+new URL("img-Creat-success_2x.b6f0a395.png",import.meta.url).href,lm=""+new URL("img-Creat-success.9734ad6f.png",import.meta.url).href;const um=e=>(Ot("data-v-d7a9ceb3"),e=e(),Ft(),e),cm=um(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),dm={class:"create-success-container"},fm={key:0,src:sm,alt:""},mm={key:1,src:lm,alt:""},pm={class:"waiting-title"};function hm(e,t,n,o,i,r){const a=Do("Modal");return g(),ke(a,{visible:!0,class:"",centered:"",title:"",width:"400px",footer:null,onCancel:t[0]||(t[0]=l=>e.$emit("onClose"))},{closeIcon:$e(()=>[cm]),default:$e(()=>[c("div",dm,[e.store.theme=="default"?(g(),A("img",fm)):(g(),A("img",mm)),c("p",pm,b(e.$t("newAdd.createPoolSuccessText")),1)])]),_:1})}const vm=at(am,[["render",hm],["__scopeId","data-v-d7a9ceb3"]]),gm=rt({components:{Modal:Bo,CoinPairName:ur},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},currentPrice:{type:String,default:""},needReverse:{type:Boolean,default:!1},direct:{type:Boolean,default:!0}},setup(e,t){const{t:n}=ar(),o=oo(),i=ct(),r=ae(()=>i);return{t:n,route:o,decimalFormat:ut,addCommom:ot,store:r,createPool:()=>{t.emit("createPool")},importIcon:ze}}});const ym=e=>(Ot("data-v-0d5b3e95"),e=e(),Ft(),e),bm=ym(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),km={class:"create-pool-content"},wm={class:"top"},Cm={class:"coin-pair-box"},$m={class:"induction info"},_m={class:"item"},Im={class:"induction-text"},Pm={class:"induction-value"},Am={class:"item"},Sm={class:"induction-text"},Nm={class:"induction-value"},Tm={class:"item"},Mm={class:"induction-text"},Rm={class:"induction-value"},Lm={class:"min-and-max"},qm={class:"text"},Um={key:0,src:Ho,alt:""},Om={key:1,src:zo,alt:""},Fm={class:"text"},Em={class:"deposit-amount"},Bm={class:"deposit-amount-title"},Dm={class:"bottom"},Hm=["src"],zm=["src"];function Xm(e,t,n,o,i,r){const a=ur,l=io,s=Do("Modal");return g(),ke(s,{width:"440px",visible:!0,footer:null,title:e.$t("newAdd.preview"),class:"add-liquidity-modal",onCancel:t[0]||(t[0]=u=>e.$emit("onClose"))},{closeIcon:$e(()=>[bm]),default:$e(()=>{var u,d;return[c("div",km,[c("div",wm,[c("div",Cm,[ye(a,{"from-coin":e.fromCoin,"to-coin":e.toCoin},null,8,["from-coin","to-coin"])]),c("div",$m,[c("div",_m,[c("span",Im,b(e.$t("common.feeTier")),1),c("span",Pm,b(((d=(u=e.route)==null?void 0:u.query)==null?void 0:d.fee)*100)+" %",1)]),c("div",Am,[c("span",Sm,b(e.$t("newAdd.initialPrice")),1),c("span",Nm,b(e.currentPrice)+" "+b((e.needReverse?!e.direct:e.direct)?e.toCoin.symbol:e.fromCoin.symbol)+" per "+b((e.needReverse?!e.direct:e.direct)?e.fromCoin.symbol:e.toCoin.symbol),1)]),c("div",Tm,[c("span",Mm,b(e.$t("newAdd.priceRange")),1),c("span",Rm,[c("div",Lm,[c("div",qm,b(("addCommom"in e?e.addCommom:me(ot))(("decimalFormat"in e?e.decimalFormat:me(ut))(e.minPrice,6),6)),1),e.store.theme=="default"?(g(),A("img",Um)):(g(),A("img",Om)),c("div",Fm,b(e.maxPrice&&String(e.maxPrice).indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:me(ot))(("decimalFormat"in e?e.decimalFormat:me(ut))(e.maxPrice,6),6)),1)])])])])]),c("div",Em,[c("div",Bm,b(e.$t("newAdd.depositAmount")),1),c("div",Dm,[c("div",null,[c("img",{src:e.fromCoin.logo_url?e.fromCoin.logo_url:e.store.theme=="default"?("importIcon"in e?e.importIcon:me(ze))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:me(ze))("/image/coins/sui-unknown.png")},null,8,Hm),c("p",null,b(e.fromCoinAmount?e.fromCoinAmount:0),1),c("span",null,b(e.fromCoin.symbol),1)]),c("div",null,[c("img",{src:e.toCoin.logo_url?e.toCoin.logo_url:e.store.theme=="default"?("importIcon"in e?e.importIcon:me(ze))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:me(ze))("/image/coins/sui-unknown.png")},null,8,zm),c("p",null,b(e.toCoinAmount?e.toCoinAmount:0),1),c("span",null,b(e.toCoin.symbol),1)])])])]),ye(l,{class:"big-btn liquidity-btn",onClick:e.createPool},{default:$e(()=>[Ue(b(e.$t("newAdd.createAndAddLiquidity")),1)]),_:1},8,["onClick"])]}),_:1},8,["title"])}const jm=at(gm,[["render",Xm],["__scopeId","data-v-0d5b3e95"]]),Vm={1e-4:2,5e-4:10,.002:60,.006:200},Wm={1e-4:2,5e-4:10,.0025:60,.01:200},Km=rt({setup(){let e=N(!1);const{t,locale:n}=ar(),o=sa(),i=ae(()=>o),r=ct(),a=N(0),l=N(!1),s=N(!1),u=N(!1),d=N("fromCoin"),v=N(""),f=N(""),$=N(!1),I=N(!0),oe=N(!1),h=N(!0),S=N(!1),C=N(""),y=N(""),m=N(""),w=N(""),R=N(""),ie=N(""),D=N(!1),ee=N(!1),K=N(!1),T=N(""),te=N(0),q=N(!0),Y=N(!1),Ce=N([]),X=N(""),H=N(30),se=N("30D"),G=N("Estimated APR"),Q=N([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),fe=N(!0),_e=ct(),re=ae(()=>_e),we=ae(()=>{var p;return!!((p=ne==null?void 0:ne.query)!=null&&p.action&&(!P.value||!_.value||!T.value))}),F=ae(()=>re.value.chainName?Fo(re.value.chainName):{}),wt=p=>{st.updateCurrentPools(ve.value.poolAddress,re.value.chainName),se.value=p.time,H.value=p.num},Le=()=>{fe.value=!fe.value},et=N([]),Ct=()=>{a.value=0,st.updateCurrentPools(ve.value.poolAddress,re.value.chainName),ht(),xo()},tt=ae(()=>Number(m.value)>0&&Number(w.value)>0&&Number(m.value)>Number(w.value)),Pt=p=>{oe.value=p,m.value="0",w.value="∞"},je=ae(()=>{if(J.value.poolConfigList&&P.value&&_.value){const p=J.value.poolConfigList.filter(U=>{var O,Z,x,ue;return U.token_a.address.toUpperCase()===((O=P.value.address)==null?void 0:O.toUpperCase())&&U.token_b.address.toUpperCase()===((Z=_.value.address)==null?void 0:Z.toUpperCase())||U.token_b.address.toUpperCase()===((x=P.value.address)==null?void 0:x.toUpperCase())&&U.token_a.address.toUpperCase()===((ue=_.value.address)==null?void 0:ue.toUpperCase())}),k=[];return p.forEach(U=>{k.push(Number(U.fee))}),k}}),Fe=ae(()=>[{label:.01+"% "+t("common.feeTier"),title:.01+"% ",fee:1e-4,text:t("newAdd.bestVeryStablePairs")},{label:.05+"% "+t("common.feeTier"),title:.05+"% ",fee:5e-4,text:t("newAdd.bestStablePairs")},re.value.chainName=="Aptos"?{label:.2+"% "+t("common.feeTier"),title:.2+"% ",fee:.002,text:t("newAdd.bestMostPairs")}:{label:.25+"% "+t("common.feeTier"),title:.25+"% ",fee:.0025,text:t("newAdd.bestMostPairs")},re.value.chainName=="Aptos"?{label:.6+"% "+t("common.feeTier"),title:.6+"% ",fee:.006,text:t("newAdd.besteExoticPairs")}:{label:"1% "+t("common.feeTier"),title:"1% ",fee:.01,text:t("newAdd.besteExoticPairs")}]),Ve=ae(()=>r.slippage),pt=ae(()=>!P.value||!_.value),Xe=ae(()=>{var p,k;return!!(!C.value&&!y.value||Number(C.value)>Number(De.value)||Number(y.value)>Number(Ze.value)||j.value!==t("button.addLiquidity")&&j.value!==t("newAdd.preview")||ve.value&&ve.value&&ve.value.is_pause||(p=ne==null?void 0:ne.query)!=null&&p.action&&!B.value&&!((k=B.value)!=null&&k.currentPrice))}),j=ae(()=>{var p;return ve.value&&ve.value.is_pause?"Pool Closed":!P.value||!_.value||pt.value?t("modal.selectTokenModalTitle"):ve.value?Number(C.value)>Number(De.value)?t("button.insufficientBalance",{name:P.value.symbol}):Number(y.value)>Number(Ze.value)?t("button.insufficientBalance",{name:_.value.symbol}):S.value?t("modal.selectTokenModalTitle"):!ve.value&&P.value&&_.value&&((p=ne==null?void 0:ne.query)==null?void 0:p.action)=="create-pool"?t("newAdd.preview"):w.value!=="∞"&&Number(m.value)>=Number(w.value)?t("newAdd.invalidRange"):!Number(C.value)&&!Number(y.value)?t("button.enterAmount"):t("button.addLiquidity"):t("button.poolNotFound")}),le=ae(()=>{var p,k,U;return!ve.value||Dt(re.value.addressHistTokens)||!re.value.addressHistTokens[(p=ve.value)==null?void 0:p.poolAddress]?null:Object.fromEntries((U=re.value.addressHistTokens[(k=ve.value)==null?void 0:k.poolAddress])==null?void 0:U.data.map(O=>[O.key,O.value]))}),ft=ae(()=>I.value?le.value&&Qe(Number(H.value==7?le.value.before_7_d_contract_price_lowest:H.value==24?le.value.before_24_h_contract_price_lowest:le.value.before_30_d_contract_price_lowest),6)||0:le.value&&Qe(1/Number(H.value==7?le.value.before_7_d_contract_price_highest:H.value==24?le.value.before_24_h_contract_price_highest:le.value.before_30_d_contract_price_highest),6)||0),z=ae(()=>I.value?le.value&&Qe(Number(H.value==7?le.value.before_7_d_contract_price_highest:H.value==24?le.value.before_24_h_contract_price_highest:le.value.before_30_d_contract_price_highest),6)||0:(le.value&&Qe(1/Number(H.value==7?le.value.before_7_d_contract_price_lowest:H.value==24?le.value.before_24_h_contract_price_lowest:le.value.before_30_d_contract_price_lowest),6))==1/0?0:le.value&&Qe(1/Number(H.value==7?le.value.before_7_d_contract_price_lowest:H.value==24?le.value.before_24_h_contract_price_lowest:le.value.before_30_d_contract_price_lowest),6)||0),V=Eo(),P=N(),_=N();no(()=>{document.body.clientWidth<750?(fe.value=!1,e.value=!1):(fe.value=!0,e.value=!0)});const Oe=p=>{p!==m.value&&(X.value="custom"),m.value=p},An=p=>{p!==w.value&&(X.value="custom"),w.value=p},Sn=()=>{var k;if(ne.query.action)I.value=!I.value,ti(Qe(1/B.value.currentPrice,(k=_==null?void 0:_.value)==null?void 0:k.decimals));else if(q.value=!0,q.value=!1,I.value=!I.value,m.value!==""&&w.value!==""&&m.value!=="0"&&w.value!=="∞"){const U=m.value,O=w.value;m.value=String(1/Number(O)),w.value=String(1/Number(U));const Z=R.value,x=ie.value;R.value=String(1/Number(x)),ie.value=String(1/Number(Z)),Y.value=!1}const p=P.value;P.value=_.value,_.value=p,h.value?C.value=y.value:y.value=C.value};Se([m,w],([p,k])=>{Number(p)!==0&&Number(k)!==0&&ht(),k!=="∞"&&Number(p)!==0&&Number(k)!==0&&Number(p)>=Number(k)?K.value=!0:K.value=!1});const Nn=p=>{var k,U,O,Z;d.value=p,p==="fromCoin"?(v.value=((k=_.value)==null?void 0:k.address)||"",f.value=((U=P.value)==null?void 0:U.address)||""):(v.value=((O=P.value)==null?void 0:O.address)||"",f.value=((Z=_.value)==null?void 0:Z.address)||""),$.value=!0},Ee=N(),Be=N(),Tn=p=>{S.value=!1,d.value==="fromCoin"?(_.value&&p.address.toLowerCase()===(_==null?void 0:_.value.address.toLowerCase())&&(_.value=null,Be.value=null,T.value=""),P.value=p,Ee.value=p):(P.value&&p.address.toLowerCase()===(P==null?void 0:P.value.address.toLowerCase())&&(P.value=null,Ee.value=null,T.value=""),_.value=p,Be.value=p),$.value=!1},Mn=p=>{p==="fromCoin"?(h.value=!0,re.value.chainName==="Aptos"?C.value=Number(De.value)>0?P.value.symbol=="APT"?new E(Number(De.value)).sub(new E(.1)).lt(new E(0))?"0":new E(Number(De.value)).sub(new E(.1)).toString():String(De.value):"":C.value=Number(De.value)>0?P.value.symbol=="SUI"?new E(Number(De.value)).sub(new E(1e-4)).lt(new E(0))?"0":new E(Number(De.value)).sub(new E(1e-4)).toString():String(De.value):""):(h.value=!1,re.value.chainName==="Aptos"?y.value=Number(Ze.value)>0?_.value.symbol=="APT"?new E(Number(Ze.value)).sub(new E(.1)).lt(new E(0))?"0":new E(Number(Ze.value)).sub(new E(.1)).toString():String(Ze.value):"":y.value=Number(Ze.value)>0?_.value.symbol=="SUI"?new E(Number(Ze.value)).sub(new E(1e-4)).lt(new E(0))?"0":new E(Number(Ze.value)).sub(new E(1e-4)).toString():String(Ze.value):"")},Rn=p=>{p==="fromCoin"?(h.value=!0,C.value=Number(De.value)>0?ho(new E(Number(De.value)).div(2).toString(),P.value.decimals).toString():""):(h.value=!1,y.value=Number(Ze.value)>0?ho(new E(Number(Ze.value)).div(2).toString(),_.value.decimals).toString():"")};Se(C,(p,k)=>{p==""&&h.value&&(y.value=""),p&&h.value&&ht()}),Se(y,(p,k)=>{p==""&&!h.value&&(C.value=""),p&&!h.value&&ht()});const Ln=()=>{P.value=null,_.value=null,m.value="0",w.value="0",C.value="",y.value="",S.value=!0,T.value="",D.value=!1,Ne.value=!0,Te.value=!0,q.value=!1},Gt=N(!1),{setIsShowSuccess:At,setIsShowRejected:St,setIsShowWaiting:Je,setTransactionDesc:Qt,setTransactionTxid:Nt,setPositiomNum:Jt}=r,ne=oo(),st=fn(),J=ae(()=>st);Se(()=>[J.value.tokens,J.value.chinaTokens],([p,k])=>{if(p&&k){const U=Object.fromEntries(p.concat(k).map(O=>[O.address,O]));ne&&ne.query&&ne.query.tokena?(P.value=hn(U,ne.query.tokena),Ee.value=hn(U,ne.query.tokena)):P.value=hn(U,"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDT"),ne&&ne.query&&ne.query.tokenb&&(_.value=hn(U,ne.query.tokenb),Be.value=hn(U,ne.query.tokenb))}},{immediate:!0});const Tt=N({}),Ne=N(!1),Te=N(!1),Zt=N(),xt=N(),We=N(),$t=N(),ht=async()=>{var nt,lt,Ke,He;if(!m.value&&!w.value)return!1;if(!C.value&&!y.value&&!m.value&&!w.value)return;const p=ve.value?ve.value:B.value;if(Dt(p))return;const{TickUtil:k,TickMath:U,getNearestTickByTick:O}=F.value,Z=p==null?void 0:p.token_a.decimals,x=p==null?void 0:p.token_b.decimals;let ue,pe,ce,de,he,ge,Re,Ie,be=p.current_tick_index,W;if(p.token_a.address.toLowerCase()===P.value.address.toLowerCase()&&p.token_b.address.toLowerCase()===_.value.address.toLowerCase()?W=!0:W=!1,m.value==="0"&&w.value==="∞"?(ce=k.getMinIndex(Number(p.tickSpacing)),de=k.getMaxIndex(Number(p.tickSpacing)),he=U.tickIndexToSqrtPriceX64(ce),ge=U.tickIndexToSqrtPriceX64(de)):X.value=="custom"||ne.query.action?(W?(ue=Number(m.value),pe=Number(w.value)):(ue=1/Number(w.value),pe=1/Number(m.value)),Re=ue==0?-443630:U.priceToTickIndex(new E(ue),Z,x),Ie=U.priceToTickIndex(new E(pe),Z,x),ce=O(Re,Number(p.tickSpacing)),de=O(Ie,Number(p.tickSpacing)),he=U.priceToSqrtPriceX64(new E(ue),Z,x),ge=U.priceToSqrtPriceX64(new E(pe),Z,x)):(ce=(nt=Bt.value[X.value])==null?void 0:nt.lower,de=(lt=Bt.value[X.value])==null?void 0:lt.upper,he=U.tickIndexToSqrtPriceX64(ce),ge=U.tickIndexToSqrtPriceX64(de)),w.value!=="∞"&&ce>=de){Ne.value=!0,C.value="",Te.value=!0,y.value="";return}if(w.value==="∞"||be>ce&&be<de){Ne.value=!1,Te.value=!1;let Pe;if(C.value||y.value){if(h.value){const Mt=new E(C.value).mul(Math.pow(10,P.value.decimals)).toString();Pe=new vt(Mt)}else{const Mt=new E(y.value).mul(Math.pow(10,_.value.decimals)).toString();Pe=new vt(Mt)}const{liquidityAmount:Me,tokenMaxA:qe,tokenMaxB:mt,tokenMaxAOrigin:zt,tokenMaxBOrigin:Xt}=F.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:p.token_a,tokenB:p.token_b,lowerTick:ce,upperTick:de,coinAmount:Pe,iscoinA:W?h.value:!h.value,roundUp:!0,slippage:Number(Ve.value)/100,curSqrtPrice:new vt(p.current_sqrt_price)});Tt.value={liquidityAmount:Me,tokenMaxA:qe,tokenMaxB:mt,tokenMaxAOrigin:zt,tokenMaxBOrigin:Xt},W?h.value?y.value=Number(mt)>0?mt:"":C.value=Number(qe)>0?qe:"":h.value?y.value=qe:C.value=mt}}else if(be>=de){if(W?C.value="":y.value="",Ne.value=W,Te.value=!W,C.value||y.value){let Pe;if(W){const Me=new E(y.value).mul(Math.pow(10,(Ke=_.value)==null?void 0:Ke.decimals)).toString();Pe=new vt(Me),Tt.value={liquidityAmount:F.value.estimateLiquidityForCoinB(he,ge,Pe),tokenMaxA:0,tokenMaxB:y.value}}else{const Me=new E(C.value).mul(Math.pow(10,(He=P.value)==null?void 0:He.decimals)).toString();Pe=new vt(Me),Tt.value={liquidityAmount:F.value.estimateLiquidityForCoinB(he,ge,Pe),tokenMaxA:0,tokenMaxB:C.value}}}}else if(be<=ce){if(Ne.value=!W,Te.value=W,W?y.value="":C.value="",C.value||y.value){let Pe;if(W){const Me=new E(C.value).mul(Math.pow(10,P.value.decimals)).toString();Pe=new vt(Me),Tt.value={liquidityAmount:F.value.estimateLiquidityForCoinA(he,ge,Pe),tokenMaxA:C.value,tokenMaxB:0}}else{const Me=new E(y.value).mul(Math.pow(10,_.value.decimals)).toString();Pe=new vt(Me),Tt.value={liquidityAmount:F.value.estimateLiquidityForCoinA(he,ge,Pe),tokenMaxA:y.value,tokenMaxB:0}}}}else Ne.value=!0,C.value="",Te.value=!0,y.value=""},Ht=N(0);Se(()=>ne.query,p=>{p&&p.fee&&(Ht.value=p.fee,T.value=Number(p.fee)*100+"% "+t("common.feeTier"))},{immediate:!0,deep:!0});const qn=ae(()=>{var Z,x,ue,pe,ce,de,he,ge,Re,Ie,be,W,nt,lt,Ke,He,Pe,Me,qe,mt,zt,Xt,Mt;const p=(Z=ne==null?void 0:ne.query)==null?void 0:Z.fee,k=(x=ne==null?void 0:ne.query)==null?void 0:x.tokena,U=(ue=ne==null?void 0:ne.query)==null?void 0:ue.tokenb;let O=null;for(let tn=0;tn<J.value.poolConfigList.length;tn++){const xe=J.value.poolConfigList[tn];!k||!U?O={}:p?(xe.token_a.address.toUpperCase()===((ce=(pe=P==null?void 0:P.value)==null?void 0:pe.address)==null?void 0:ce.toUpperCase())&&(xe.token_b.address.toUpperCase(),(he=(de=_==null?void 0:_.value)==null?void 0:de.address)==null||he.toUpperCase()),(xe.token_a.address.toUpperCase()===((Re=(ge=P==null?void 0:P.value)==null?void 0:ge.address)==null?void 0:Re.toUpperCase())&&xe.token_b.address.toUpperCase()===((be=(Ie=_==null?void 0:_.value)==null?void 0:Ie.address)==null?void 0:be.toUpperCase())||xe.token_b.address.toUpperCase()===((nt=(W=P==null?void 0:P.value)==null?void 0:W.address)==null?void 0:nt.toUpperCase())&&xe.token_a.address.toUpperCase()===((Ke=(lt=_==null?void 0:_.value)==null?void 0:lt.address)==null?void 0:Ke.toUpperCase()))&&(O=xe)):(xe.token_a.address.toUpperCase()===((Pe=(He=P==null?void 0:P.value)==null?void 0:He.address)==null?void 0:Pe.toUpperCase())&&xe.token_b.address.toUpperCase()===((qe=(Me=_==null?void 0:_.value)==null?void 0:Me.address)==null?void 0:qe.toUpperCase())||xe.token_b.address.toUpperCase()===((zt=(mt=P==null?void 0:P.value)==null?void 0:mt.address)==null?void 0:zt.toUpperCase())&&xe.token_a.address.toUpperCase()===((Mt=(Xt=_==null?void 0:_.value)==null?void 0:Xt.address)==null?void 0:Mt.toUpperCase()))&&(O=xe)}return O}),ve=ae(()=>{var k,U,O,Z,x,ue,pe,ce,de,he,ge,Re;const p=(k=ne==null?void 0:ne.query)==null?void 0:k.fee;if(J.value.newTokenObj&&P.value&&_.value){let Ie=null;if(p)for(const be in J.value.poolsObj){const W=J.value.poolsObj[be];(W.token_a.address.toUpperCase()===((O=(U=P==null?void 0:P.value)==null?void 0:U.address)==null?void 0:O.toUpperCase())&&W.token_b.address.toUpperCase()===((x=(Z=_==null?void 0:_.value)==null?void 0:Z.address)==null?void 0:x.toUpperCase())&&Number(W.fee)==Number(Ht.value)||W.token_b.address.toUpperCase()===((ue=P==null?void 0:P.value.address)==null?void 0:ue.toUpperCase())&&W.token_a.address.toUpperCase()===((ce=(pe=_==null?void 0:_.value)==null?void 0:pe.address)==null?void 0:ce.toUpperCase())&&Number(W.fee)==Number(Ht.value))&&(Ie=W)}if(!p||!Ie)for(const be in J.value.poolsObj){const W=J.value.poolsObj[be];(W.token_a.address.toUpperCase()===((de=P==null?void 0:P.value.address)==null?void 0:de.toUpperCase())&&W.token_b.address.toUpperCase()===((he=_.value.address)==null?void 0:he.toUpperCase())||W.token_b.address.toUpperCase()===((ge=P==null?void 0:P.value.address)==null?void 0:ge.toUpperCase())&&W.token_a.address.toUpperCase()===((Re=_.value.address)==null?void 0:Re.toUpperCase()))&&(Ie=W)}return Ie&&!Dt(Ie)?Ie:null}return null});Se(()=>[qn.value,ve.value,J.value.recommendRangesObj],(p,k)=>{var U,O,Z,x;p[0]&&!p[1]&&p[2]&&p[2][(U=p[0])==null?void 0:U.address]&&(!k||p[0]&&((O=p[0])==null?void 0:O.address)!==k[0]&&((Z=k[0])!=null&&Z.address))&&st.setSinglePool(p[0],p[2][(x=p[0])==null?void 0:x.address],re.value.chainName)},{immediate:!0});const Bt=N({}),Un=async(p,k)=>{if(p){const{TickMath:U,getNearestTickByTick:O}=F.value;k&&(q.value=!0),p.token_a.address.toLowerCase()===P.value.address.toLowerCase()&&p.token_b.address.toLowerCase()===_.value.address.toLowerCase()?I.value=!0:I.value=!1,Y.value=!0;const Z=p.token_a.decimals,x=p.token_b.decimals;Ne.value=!1,Te.value=!1,T.value=p.fee*100+"% "+t("common.feeTier");const ue=p.current_tick_index;We.value=U.sqrtPriceX64ToPrice(p.current_sqrt_price,Z,x).toString(),$t.value=String(1/We.value);const pe=await F.value.getTicks(p);if(Ce.value=pe?F.value.getTickDataFromUrlData(pe):[],k){let ce=J.value.poolPriceConfigObj&&J.value.poolPriceConfigObj[p.address]&&J.value.poolPriceConfigObj[p.address].recommend_ranges||{};const de=J.value.poolPriceConfigObj&&J.value.poolPriceConfigObj[p.address]&&J.value.poolPriceConfigObj[p.address].type||"",he=ue-Number(de=="unstable"?Number(p.tickSpacing)*2:Number(p.tickSpacing)*3),ge=ue+Number(de=="unstable"?Number(p.tickSpacing)*2:Number(p.tickSpacing)*3);ce["full range"]={lower:-443630,upper:443630},ce.custom={lower:he,upper:ge};const Re=[];for(let Ie in ce)Re.push({...ce[Ie],key:Ie});et.value=Re,de?p.isSelfBuilt?X.value="custom":de=="stable"?X.value="suggested":X.value="passive":X.value="custom",Bt.value=ce,ei({key:X.value,...ce[X.value]})}q.value=!1}else q.value=!1},mn=ae(()=>st.getPoolInfoSuccess),M=ae(()=>rn[re.value.chainName].hasCreatePool);Se(()=>ve.value,(p,k)=>{var U,O,Z,x,ue,pe,ce;p?((!k||p.poolAddress!==k.poolAddress||p.current_sqrt_price!==k.current_sqrt_price)&&Un(p,!k||p.poolAddress!==k.poolAddress),(U=ne==null?void 0:ne.query)!=null&&U.action&&V.push(`/deposit?poolAddress=${p==null?void 0:p.address}&tokena=${(O=P==null?void 0:P.value)==null?void 0:O.address}&tokenb=${(Z=_==null?void 0:_.value)==null?void 0:Z.address}&fee=${p==null?void 0:p.fee}`)):((x=ne==null?void 0:ne.query)==null?void 0:x.actions)=="new-position"||(M.value&&!p&&!((ue=ne==null?void 0:ne.query)!=null&&ue.action)&&mn.value?(T.value="",m.value="0",w.value="0",Ne.value=!1,Te.value=!1,q.value=!1,We.value="",$t.value="",V.push(`/deposit?action=create-pool&tokena=${(pe=P==null?void 0:P.value)==null?void 0:pe.address}&tokenb=${(ce=_==null?void 0:_.value)==null?void 0:ce.address}`)):(Ne.value=!1,Te.value=!1,q.value=!1,We.value="",$t.value=""))},{immediate:!0});const De=ae(()=>i.value.assets&&P.value&&i.value.assets[P.value.address]?yi(i.value.assets[P.value.address].balance,P.value.decimals):"0"),Ze=ae(()=>i.value.assets&&_.value&&i.value.assets[_.value.address]?yi(i.value.assets[_.value.address].balance,_.value.decimals):"0"),xo=async()=>{const p=await F.value.getTicks(ve.value),k=p?F.value.getTickDataFromUrlData(p):[];Ce.value=k},Wr=ya(),uo=ae(()=>J.value.currentPositionInfo),Kr=async p=>{var he,ge,Re,Ie,be,W,nt,lt;Gt.value=!1,J.value.currentPositionInfo={},Nt(""),Qt(t("tips.increaseLiquiditySuccess",{from:Ne.value?"":`${C.value} ${(he=P.value)==null?void 0:he.symbol}`,and:!Ne.value&&!Te.value?"and":"",to:Te.value?"":`${y.value} ${(ge=_.value)==null?void 0:ge.symbol}`})),Je(!0);const k=I.value?h.value:!h.value;let U,O,Z,x,ue,pe;const ce=ve.value.token_a.decimals,de=ve.value.token_b.decimals;m.value==="0"&&w.value==="∞"?(Z=F.value.TickUtil.getMinIndex(Number(ve.value.tickSpacing)),x=F.value.TickUtil.getMaxIndex(Number(ve.value.tickSpacing))):X.value=="custom"?(I.value?(U=Number(m.value),O=Number(w.value)):(U=1/Number(w.value),O=1/Number(m.value)),ue=U==0?-443630:F.value.TickMath.priceToTickIndex(new E(U),ce,de),pe=F.value.TickMath.priceToTickIndex(new E(O),ce,de),Z=F.value.getNearestTickByTick(ue,Number(ve.value.tickSpacing)),x=F.value.getNearestTickByTick(pe,Number(ve.value.tickSpacing))):(Z=Bt.value[X.value].lower,x=Bt.value[X.value].upper);try{const Ke=await F.value.getAddLiquidityTransactionPayload({pool:{poolAddress:ve.value.poolAddress,token_a:ve.value.token_a,token_b:ve.value.token_b},amount:h.value?C.value:y.value,fix_amount_a:k,tick_lower:Z,tick_upper:x,index:0,slippage:Number(Ve.value)/100,roundUp:!0});let He;if(re.value.chainName==="Aptos")He=await i.value.currentWallet.signAndSubmitTransaction(Ke);else{const Pe=await i.value.currentWallet.signAndExecuteTransactionBlock(Ke);He=F.value.handleTx(Pe)}if(He&&He.hash){Nt(He.hash),Je(!1),At(!0);const Pe={title:t("button.addLiquidity"),desc:t("tips.addLiquiditySuccessText",{from:Ne.value?"":`${C.value} ${(Re=P.value)==null?void 0:Re.symbol}`,and:!Ne.value&&!Te.value?"and":"",to:Te.value?"":`${y.value} ${(Ie=_.value)==null?void 0:Ie.symbol}`}),hash:He.hash,tit:"Position Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(be=P.value)==null?void 0:be.symbol}`,numa:Ne.value?"":`- ${C.value}`,logoa:J.value.tokensObj&&P.value&&P.value.address&&J.value.tokensObj[P.value.address]&&J.value.tokensObj[P.value.address].logoURI,tokenb:`${(W=_.value)==null?void 0:W.symbol}`,numb:Te.value?"":`- ${y.value}`,logob:J.value.tokensObj&&_.value&&_.value.address&&J.value.tokensObj[_.value.address]&&J.value.tokensObj[_.value.address].logoURI},text:`Deopsit ${Ne.value?"":`${C.value} ${(nt=P.value)==null?void 0:nt.symbol}`} ${!Ne.value&&!Te.value?"and":""} ${Te.value?"":`${y.value} ${(lt=_.value)==null?void 0:lt.symbol}`}`};re.value.chainName!=="Aptos"&&(Pe.res=He.res),F.value.showTransitionPending(Pe);const Me=await F.value.watchTransaction(Pe,!0);if(Me.status){if(At(!1),J.value.setCurrentPositionLoading(!0),re.value.chainName==="Aptos")await J.value.setCurrentPositionInfo(Me.nftInfo[0].data.id.creator,Me.nftInfo[0].data.id.collection,Me.nftInfo[0].data.name,re.value.chainName),p&&await Wr.subscribePosition({pool_address:uo.value.poolAddress,position_index:uo.value.index},uo.value.nftHash);else{const qe=Me.nftInfo;J.value.setCurrentPositionInfo(qe==null?void 0:qe.pool,"","",re.value.chainName,qe==null?void 0:qe.position)}s.value=!0,setTimeout(()=>{st.updateCurrentPools(ve.value.poolAddress,re.value.chainName),F.value.getAccount(i.value.address)},1e3),setTimeout(async()=>{xo()},3e3)}Jt()}else Je(!1),St(!0);C.value="",y.value=""}catch{C.value="",y.value="",Je(!1),St(!0)}},Yr=p=>{switch(p){case"active":return t("newAdd.activeTips");case"passive":return t("newAdd.passiveTips");case"full range":return t("newAdd.fullRangTips");case"suggested":return t("newAdd.suggestedTips");case"custom":return t("newAdd.customTips")}},Gr=p=>{switch(p){case"suggested":return t("newAdd.suggested");case"active":return t("newAdd.active");case"passive":return t("newAdd.conservative");case"full range":return t("newAdd.fullRange");case"custom":return t("newAdd.custom")}},ei=p=>{X.value=p.key.toLowerCase();const k=ve.value.token_a.decimals,U=ve.value.token_b.decimals,{lower:O,upper:Z}=p,x=F.value.TickMath.tickIndexToPrice(O,k,U).toString(),ue=F.value.TickMath.tickIndexToPrice(Z,k,U).toString();if(p.key=="full range"){Zt.value=O,xt.value=Z,Pt(!0),ht();return}I.value?(R.value=String(x),m.value=String(x),ie.value=String(ue),w.value=String(ue),Zt.value=O,xt.value=Z,ht()):(R.value=String(1/Number(ue)),m.value=String(1/Number(ue)),ie.value=String(1/Number(x)),w.value=String(1/Number(x)),Zt.value=F.value.TickMath.priceToTickIndex(new E(1/Number(ue)),k,U),xt.value=F.value.TickMath.priceToTickIndex(new E(1/Number(x)),k,U),ht())},Qr=ae(()=>J.value.newTokenObj&&P.value.address&&J.value.newTokenObj[P.value.address]&&J.value.newTokenObj[P.value.address].logoURI),Jr=ae(()=>J.value.newTokenObj&&_.value.address&&J.value.newTokenObj[_.value.address]&&J.value.newTokenObj[_.value.address].logoURI),Zr=()=>{var U,O,Z,x,ue,pe,ce,de;let p=null;const k=J.value.poolConfigList;for(let he=0;he<k.length;he++){const ge=k[he];if(ge.token_a.address.toUpperCase()===((O=(U=P==null?void 0:P.value)==null?void 0:U.address)==null?void 0:O.toUpperCase())&&ge.token_b.address.toUpperCase()===((x=(Z=_==null?void 0:_.value)==null?void 0:Z.address)==null?void 0:x.toUpperCase())||ge.token_b.address.toUpperCase()===((pe=(ue=P==null?void 0:P.value)==null?void 0:ue.address)==null?void 0:pe.toUpperCase())&&ge.token_a.address.toUpperCase()===((de=(ce=_==null?void 0:_.value)==null?void 0:ce.address)==null?void 0:de.toUpperCase())){p=ge;break}}return p},xr=p=>{var U,O,Z,x,ue,pe,ce,de,he;const k=Zr();k&&(Ee.value=k.needReverse?k==null?void 0:k.token_b:k==null?void 0:k.token_a,Be.value=k.needReverse?k==null?void 0:k.token_a:k==null?void 0:k.token_b,P.value=k.needReverse?k==null?void 0:k.token_b:k==null?void 0:k.token_a,_.value=k.needReverse?k==null?void 0:k.token_a:k==null?void 0:k.token_b,I.value=P.value.address===((U=k==null?void 0:k.token_a)==null?void 0:U.address)),je.value.includes(p.fee)?(T.value=p.label,Ht.value=p.fee,V.push(`/deposit?tokena=${k?k.needReverse?(Z=k==null?void 0:k.token_b)==null?void 0:Z.address:(O=k==null?void 0:k.token_a)==null?void 0:O.address:P.value.address}&tokenb=${k?k.needReverse?(ue=k==null?void 0:k.token_a)==null?void 0:ue.address:(x=k==null?void 0:k.token_b)==null?void 0:x.address:_.value.address}&fee=${p.fee}`),m.value="0",w.value="0"):(V.push(`/deposit?action=create-pool&tokena=${k?k.needReverse?(ce=k==null?void 0:k.token_b)==null?void 0:ce.address:(pe=k==null?void 0:k.token_a)==null?void 0:pe.address:P.value.address}&tokenb=${k?k.needReverse?(he=k==null?void 0:k.token_a)==null?void 0:he.address:(de=k==null?void 0:k.token_b)==null?void 0:de.address:_.value.address}&fee=${p.fee}`),k||(I.value=!0),ve.value&&(m.value="",w.value=""))},en=N(!1),ea=()=>{ve.value?Gt.value=!0:en.value=!0},B=N(null),co=N(""),fo=N(""),ti=p=>{var ue,pe,ce,de,he,ge,Re,Ie;p?(co.value=p,We.value=p,$t.value=p,fo.value=$t.value,q.value=!1):(co.value="",We.value="",$t.value="",fo.value="");let k=!1;const U=J.value.poolConfigList;let O=null;for(let be=0;be<U.length;be++){const W=U[be];if(W.token_a.address.toUpperCase()===((pe=(ue=Ee==null?void 0:Ee.value)==null?void 0:ue.address)==null?void 0:pe.toUpperCase())&&W.token_b.address.toUpperCase()===((de=(ce=Be==null?void 0:Be.value)==null?void 0:ce.address)==null?void 0:de.toUpperCase())){k=W.needReverse,O=W;break}else if(W.token_b.address.toUpperCase()===((ge=(he=Ee==null?void 0:Ee.value)==null?void 0:he.address)==null?void 0:ge.toUpperCase())&&W.token_a.address.toUpperCase()===((Ie=(Re=Be==null?void 0:Be.value)==null?void 0:Re.address)==null?void 0:Ie.toUpperCase())){k=W.needReverse,O=W;break}}const Z=I.value,x=re.value.chainName=="Aptos"?Vm:Wm;if(P.value&&_.value&&p){const be=O?O==null?void 0:O.token_a.decimals:Ee.value.decimals,W=O?O==null?void 0:O.token_b.decimals:Be.value.decimals,nt=p&&F.value.TickMath.priceToSqrtPriceX64(Z?new E(p):new E(1/p),be,W),lt=p&&F.value.TickMath.priceToSqrtPriceX64(new E(1/p),P.value.decimals,_.value.decimals),Ke=F.value.TickMath.priceToTickIndex(Z?new E(p):new E(1/p),be,W,x[ne.query.fee]),He=Ke-x[ne.query.fee]*5,Pe=Ke+x[ne.query.fee]*5,Me=F.value.TickMath.tickIndexToPrice(He,be,W).toString(),qe=F.value.TickMath.tickIndexToPrice(Pe,be,W).toString();Z?(m.value=Me,w.value=qe,R.value=Me,ie.value=qe):(m.value=String(1/qe),w.value=String(1/Me),R.value=String(1/qe),ie.value=String(1/Me));const mt={token_a:O?O.token_a:Ee.value,token_b:O?O.token_b:Be.value,isCreate:!0,tickSpacing:x[ne.query.fee],currentPrice:p,current_sqrt_price:nt,tick_lower:He,tick_upper:Pe,current_tick_index:Ke,currentPriceReverse:ut(String(1/p),6),reverse_current_sqrt_price:lt,needReverse:k};B.value=mt,ht()}else B.value=null,m.value="",w.value=""},ta=async()=>{var de,he,ge,Re;if(re.value.chainName!=="Aptos"){ni();return}en.value=!1;let p,k,U,O,Z,x;const ue=Ee.value.decimals,pe=Be.value.decimals;Nt(""),Qt(t("tips.increaseLiquiditySuccess",{from:Ne.value?"":`${C.value} ${(de=P.value)==null?void 0:de.symbol}`,and:!Ne.value&&!Te.value?"and":"",to:Te.value?"":`${y.value} ${(he=_.value)==null?void 0:he.symbol}`})),Je(!0),m.value==="0"&&w.value==="∞"?(U=F.value.TickUtil.getMinIndex(Number(B.value.tickSpacing)),O=F.value.TickUtil.getMaxIndex(Number(B.value.tickSpacing))):(I.value?(p=Number(m.value),k=Number(w.value)):(p=1/Number(w.value),k=1/Number(m.value)),Z=p==0?-443630:F.value.TickMath.priceToTickIndex(new E(p),ue,pe),x=F.value.TickMath.priceToTickIndex(new E(k),ue,pe),U=F.value.getNearestTickByTick(Z,Number(B.value.tickSpacing)),O=F.value.getNearestTickByTick(x,Number(B.value.tickSpacing)));const ce=I.value?h.value:!h.value;try{const Ie=await F.value.getCreatPoolTransactionPayload({coinTypeA:Ee.value.address,coinTypeB:Be.value.address,tick_spacing:Number(B.value.tickSpacing),initialize_sqrt_price:new vt(B.value.current_sqrt_price),uri:"",current_tick_index:B.value.current_tick_index,max_amount_a:I.value?C.value:y.value,max_amount_b:I.value?y.value:C.value,tick_lower:U,tick_upper:O,slippage:Number(Ve.value)/100,decimalsA:ue,decimalsB:pe,fix_amount_a:ce,liquidityInput:Tt.value});let be;if(re.value.chainName==="Aptos")be=await i.value.currentWallet.signAndSubmitTransaction(Ie);else{const W=await i.value.currentWallet.signAndExecuteTransactionBlock(Ie);be=F.value.handleTx(W)}if(be&&be.hash){Nt(be.hash),Je(!1),At(!0);const W={title:"Created pool",desc:"Pool created successfully ",hash:be.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(ge=P.value)==null?void 0:ge.symbol}`,numa:Ne.value?"":`- ${C.value}`,logoa:J.value.tokensObj&&P.value&&P.value.address&&J.value.tokensObj[P.value.address]&&J.value.tokensObj[P.value.address].logoURI,tokenb:`${(Re=_.value)==null?void 0:Re.symbol}`,numb:Te.value?"":`- ${y.value}`,logob:J.value.tokensObj&&_.value&&_.value.address&&J.value.tokensObj[_.value.address]&&J.value.tokensObj[_.value.address].logoURI},text:"Pool created successfully"};re.value.chainName!=="Aptos"&&(W.res=be.res),F.value.showTransitionPending(W),(await F.value.watchTransaction(W,!0)).status&&(At(!1),l.value=!0,setTimeout(()=>{st.setPoolConfigList(re.value.chainName),F.value.getAccount(i.value.address)},1e3)),Jt()}else Je(!1),St(!0);C.value="",y.value=""}catch{st.setPoolConfigList(re.value.chainName),en.value=!1,C.value="",y.value="",Je(!1),St(!0)}},ni=async()=>{var Ie,be,W,nt,lt,Ke,He,Pe,Me,qe,mt,zt,Xt,Mt,tn,xe,oi,ii,ri,ai,si,li,ui,ci,di,fi,mi,pi,hi,vi,gi;en.value=!1,Nt("");const p=Ne.value?"":`${C.value} ${(Ie=P.value)==null?void 0:Ie.symbol}`,k=Te.value?"":`${y.value} ${(be=_.value)==null?void 0:be.symbol}`;Qt(t("tips.increaseLiquiditySuccess",{from:B.value.needReverse&&I.value||!B.value.needReverse&&!I.value?p:k,and:!Ne.value&&!Te.value?"and":"",to:B.value.needReverse&&I.value||!B.value.needReverse&&!I.value?k:p})),Je(!0);let U=!1;F.value.getIsSortedSymbols(Ee.value.address,Be.value.address)&&(U=!0);let O="",Z="",x="",ue="",pe="",ce="",de=0,he=0,ge=!1,Re;if(U||(W=B==null?void 0:B.value)!=null&&W.needReverse){const jt=U&&!((nt=B==null?void 0:B.value)!=null&&nt.needReverse);O=jt?(Pe=(He=B==null?void 0:B.value)==null?void 0:He.token_b)==null?void 0:Pe.address:(Ke=(lt=B==null?void 0:B.value)==null?void 0:lt.token_a)==null?void 0:Ke.address,Z=jt?(zt=(mt=B==null?void 0:B.value)==null?void 0:mt.token_a)==null?void 0:zt.address:(qe=(Me=B==null?void 0:B.value)==null?void 0:Me.token_b)==null?void 0:qe.address,x=jt?(xe=(tn=B==null?void 0:B.value)==null?void 0:tn.token_b)==null?void 0:xe.decimals:(Mt=(Xt=B==null?void 0:B.value)==null?void 0:Xt.token_a)==null?void 0:Mt.decimals,ue=jt?(ai=(ri=B==null?void 0:B.value)==null?void 0:ri.token_a)==null?void 0:ai.decimals:(ii=(oi=B==null?void 0:B.value)==null?void 0:oi.token_b)==null?void 0:ii.decimals,(si=B==null?void 0:B.value)!=null&&si.needReverse?(pe=I.value?C.value:y.value,ce=I.value?y.value:C.value,de=I.value?Number(m.value):1/Number(w.value),he=I.value?Number(w.value):1/Number(m.value),ge=I.value?h.value:!h.value,Re=I.value?We.value:1/Number(We.value)):(pe=I.value?y.value:C.value,ce=I.value?C.value:y.value,de=I.value?1/Number(w.value):Number(m.value),he=I.value?1/Number(m.value):Number(w.value),ge=I.value?!h.value:h.value,Re=I.value?1/Number(We.value):We.value)}else O=(ui=(li=B==null?void 0:B.value)==null?void 0:li.token_a)==null?void 0:ui.address,Z=(di=(ci=B==null?void 0:B.value)==null?void 0:ci.token_b)==null?void 0:di.address,x=(mi=(fi=B==null?void 0:B.value)==null?void 0:fi.token_a)==null?void 0:mi.decimals,ue=(hi=(pi=B==null?void 0:B.value)==null?void 0:pi.token_b)==null?void 0:hi.decimals,pe=I.value?C.value:y.value,ce=I.value?y.value:C.value,de=I.value?Number(m.value):1/Number(w.value),he=I.value?Number(w.value):1/Number(m.value),ge=I.value?h.value:!h.value,Re=I.value?We.value:1/Number(We.value);try{const jt=await F.value.getCreatPoolTransactionPayload({coinTypeA:O,coinTypeB:Z,decimalsA:x,decimalsB:ue,amountA:pe,amountB:ce,minPrice:de,maxPrice:he,fix_amount_a:ge,tick_spacing:Number(B.value.tickSpacing),slippage:Number(Ve.value)/100,price:Re}),na=await i.value.currentWallet.signAndExecuteTransactionBlock(jt),pn=F.value.handleTx(na);if(pn&&pn.hash){Nt(pn.hash),Je(!1),At(!0);const mo={title:"Created pool",desc:"Pool created successfully ",hash:pn.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(vi=P.value)==null?void 0:vi.symbol}`,numa:Ne.value?"":`- ${C.value}`,logoa:J.value.tokensObj&&P.value&&P.value.address&&J.value.tokensObj[P.value.address]&&J.value.tokensObj[P.value.address].logoURI,tokenb:`${(gi=_.value)==null?void 0:gi.symbol}`,numb:Te.value?"":`- ${y.value}`,logob:J.value.tokensObj&&_.value&&_.value.address&&J.value.tokensObj[_.value.address]&&J.value.tokensObj[_.value.address].logoURI},text:"Pool created successfully"};re.value.chainName!=="Aptos"&&(mo.res=pn.res),F.value.showTransitionPending(mo),(await F.value.watchTransaction(mo,!0)).status&&(At(!1),l.value=!0,setTimeout(()=>{st.setPoolConfigList(re.value.chainName),F.value.getAccount(i.value.address)},1e3)),Jt()}else Je(!1),St(!0);C.value="",y.value=""}catch{en.value=!1,st.setPoolConfigList(re.value.chainName),C.value="",y.value="",Je(!1),St(!0)}};return{hasCreatePool:M,isCreateSuccess:l,intPriceReverse:fo,isShowMask:we,isPc:e,intPrice:co,createPoolToCoin:Be,createPoolFromCoin:Ee,getPoolInfoSuccess:mn,toCreatePool:ta,createPoolInfo:B,changecurrentPrice:ti,isShowCreatePoolModal:en,addOrCreate:ea,halfBtnSelect:Rn,selectFee:xr,isViewDetail:s,addCommom:ot,decimalUi:Qe,fromCoinUrl:Qr,toCoinUrl:Jr,t,wallet:i,toAdd:Kr,chartLoading:q,currentTick:te,tickList:Ce,poolInfo:ve,storeIndex:re,importIcon:ze,addLiquidityBtnText:j,slippage:Ve,countdown:a,loading:u,fromCoin:P,toCoin:_,openCoinSelect:Nn,onCoinSelect:Tn,existingCoins:v,lastSelectCoin:f,currentCoinKey:d,showCoinSelect:$,fromCoinAmount:C,toCoinAmount:y,maxBtnSelect:Mn,fixedFromCoin:h,isShowLiquidityModal:Gt,direct:I,toggle:Sn,edit:D,inputValue:T,feeTierList:Fe,minPrice:m,maxPrice:w,invalidPriceRange:tt,defaultMinPrice:R,defaultMaxPrice:ie,priceRangeChangeMin:Oe,priceRangeChangeMax:An,toFullRange:Pt,clearAll:Ln,clickClear:S,positionError:K,positionTips:ee,router:V,clickRefresh:Ct,fromCoinBlance:De,toCoinBlance:Ze,showToCoinLock:Te,showFromCoinLock:Ne,currentPriceReverse:$t,currentPrice:We,getPirceText:Yr,currentPriceTab:X,currentPriceTabList:et,getPirceKey:Gr,priceTab:ei,aprRewardsParameter:H,aprRewardsDateList:Q,aprTab:wt,reviseValue:Le,label:fe,aprTitle:G,isCreatePool:je,before7dContractPriceLowest:ft,before7dContractPriceHighest:z,aprRewardsTime:se,addLiquidityBtnDisabled:Xe,checkNullObj:Dt,sFixD:ho,toCreateSuiPool:ni}}}),er="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAJFBMVEVHcEwlW04mW04oXlEmW04SHx4jR0B2/9wQFBMVJyVk17szaV2jJaSaAAAABHRSTlMA8K8m/cUwkQAAAL5JREFUSMdjYMAKmBWFDBgIAUMXF2GCilQy2pyQ+Swu2EBHhyNIkgnIdMCjyCUUCMJgilxDMUFKRpsblBmCU9EUFxdPgooiU9ymElSEBEYVDR1FkaumElYUVp46qmjAFTGruE0lqMgQkaGnpYFAdvk2MJ2JpEgFUTQsL0cGVUiKRKCFDLGKiLKOKIdTGASjSYWWiogqMEYL1lFFWJoRTgYEFU0Bt6QIKEoBt6SwN43QWlJEKSKx4UZ+ExDUmAQAo9rc9CAs4WAAAAAASUVORK5CYII=",tr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTANNcARNcAdKcgEdMQRNcBM8V3bI/2Gq2ihWdudYHvAAAAAEdFJOUwDwryb9xTCRAAAAuklEQVRIx2NgwAqYFYUMGAgBw9BQYYKKVFPcgpD5rKHYgItLIEiSCcgMwKMIiFxcXGGKQlwwQWqKWxiU6YpTEdCEEIKKXFLDXAgrQjJ0VNHQUdRBhCK38pRRRQOuiFk1jLAiQ0SGdksDgczyaWA6BUmRKqJoaC9HBhVIikShhQyxioiyjiiHUxgEo0mFloqIKjBGC9ZRRViaEUEGBBW5gltSBBSFgltS2JtGaC0pohSR2HAjvwkIakwCANqYbmgtLE7YAAAAAElFTkSuQmCC",jr=""+new URL("img-no-data_2x.e925467a.png",import.meta.url).href,Vr=""+new URL("img-no-data_2x.8bc9afa2.png",import.meta.url).href;const Et=e=>(Ot("data-v-5cb3f8ec"),e=e(),Ft(),e),Ym={class:"pools-container"},Gm={key:0,class:"content pc-content"},Qm={class:"content-left"},Jm={class:"content-left-bg"},Zm={class:"content-left-title"},xm={key:0,class:"pool-warning"},ep={class:"coin-select"},tp={key:0,class:"icon","aria-hidden":"true"},np=Et(()=>c("use",{"xlink:href":"#icon-edit"},null,-1)),op=[np],ip={key:0,class:"fee-container"},rp=["onClick"],ap={key:0},sp={key:1},lp={class:"deposit-title"},up={class:"card-container"},cp={class:"card-item"},dp={class:"card-item"},fp={key:0,class:"icon","aria-hidden":"true"},mp=Et(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),pp=[mp],hp={class:"pc-network"},vp={class:"content-right"},gp={key:0,class:"initPrice-mask"},yp={class:"content-right-title"},bp=Et(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),kp={class:"content-right-bg"},wp={key:1,class:"price-tab"},Cp=["onClick"],$p={key:2,class:"create-pool-tips"},_p={key:3,class:"set-price-range"},Ip={key:0},Pp={key:1,class:"coin"},Ap={key:2,class:"coin"},Sp={key:3,class:"no-price"},Np=["src"],Tp=["src"],Mp={key:6,class:"position-tips"},Rp=["src"],Lp={class:"tips"},qp={key:7,class:"position-tips"},Up=["src"],Op={class:"error"},Fp={key:8,class:"d3-chart-box"},Ep={key:9,class:"day-7-price-range"},Bp=Et(()=>c("i",null,null,-1)),Dp={class:"gray"},Hp={key:11,class:"create-pool-tips"},zp={key:1,class:"no-data"},Xp={key:0,src:jr,alt:""},jp={key:1,src:Vr,alt:""},Vp={key:1,class:"content h5-content"},Wp={class:"content-left"},Kp={class:"content-left-bg"},Yp={class:"content-left-title"},Gp={key:0,class:"pool-warning"},Qp={class:"coin-select"},Jp={key:0,class:"icon","aria-hidden":"true"},Zp=Et(()=>c("use",{"xlink:href":"#icon-edit"},null,-1)),xp=[Zp],eh={key:0,class:"fee-container"},th=["onClick"],nh={key:0},oh={key:1},ih={class:"content-right"},rh={key:0,class:"initPrice-mask"},ah={class:"content-right-title"},sh=Et(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),lh={class:"content-right-bg"},uh={key:1,class:"price-tab"},ch=["onClick"],dh={key:2,class:"create-pool-tips"},fh={key:3,class:"set-price-range"},mh={key:0},ph={key:1,class:"coin"},hh={key:2,class:"coin"},vh={key:3,class:"no-price"},gh=["src"],yh=["src"],bh={key:6,class:"position-tips"},kh=["src"],wh={class:"tips"},Ch={key:7,class:"position-tips"},$h=["src"],_h={class:"error"},Ih={key:8,class:"d3-chart-box"},Ph={key:9,class:"day-7-price-range"},Ah=Et(()=>c("i",null,null,-1)),Sh={class:"gray"},Nh={key:11,class:"create-pool-tips"},Th={key:1,class:"no-data"},Mh={key:0,src:jr,alt:""},Rh={key:1,src:Vr,alt:""},Lh={key:0,class:"icon","aria-hidden":"true"},qh=Et(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),Uh=[qh],Oh={class:"pc-network"},Fh={class:"new-right"},Eh={class:"deposit-title"},Bh={class:"card-container"},Dh={class:"card-item"},Hh={class:"card-item"},zh={key:0,class:"icon","aria-hidden":"true"},Xh=Et(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),jh=[Xh],Vh={class:"h5-network"};function Wh(e,t,n,o,i,r){var T,te,q,Y,Ce,X,H,se,G,Q,fe,_e,re,we,F,wt,Le,et,Ct,tt,Pt,je,Fe,Ve,pt,Xe,j,le,ft,z,V,P,_,Oe,An,Sn,Nn,Ee,Be,Tn,Mn,Rn,Ln,Gt,At,St,Je,Qt,Nt,Jt,ne,st,J,Tt,Ne,Te,Zt,xt,We,$t,ht,Ht,qn,ve,Bt,Un,mn;const a=oa,l=Pa,s=nr,u=Oa,d=da,v=Xa,f=Ga,$=ss,I=io,oe=aa,h=fs,S=Rs,C=tf,y=rr,m=pa,w=Af,R=fa,ie=ma,D=rm,ee=vm,K=jm;return g(),A("div",Ym,[ye(a),ye(l,{"pool-info":e.poolInfo,onClearAll:e.clearAll,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClearAll","onClickRefresh"]),e.isPc?(g(),A("div",Gm,[c("div",Qm,[c("div",Jm,[c("div",Zm,[Ue(b(e.$t("common.selectPool"))+" ",1),ye(s,{placement:"bottom","arrow-point-at-center":""},{title:$e(()=>[c("span",null,b(e.t("newAdd.poolWarning")),1)]),default:$e(()=>[e.poolInfo&&e.poolInfo.isSelfBuilt?(g(),A("div",xm)):L("",!0)]),_:1})]),c("div",ep,[ye(u,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.logoURI:e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.symbol:e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b:e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[0]||(t[0]=M=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ye(u,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.logoURI:e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.symbol:e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a:e.poolInfo.token_b:e.createPoolToCoin,onClick:t[1]||(t[1]=M=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),c("div",{class:Ae(["pool-fee",e.edit?"pool-fee-edit":""])},[c("div",{class:"pool-fee-header",onClick:t[2]||(t[2]=M=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[c("span",{class:Ae(e.inputValue?"":"fee-span")},b(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(g(),A("svg",tp,op)):L("",!0)]),e.edit?(g(),A("div",ip,[(g(!0),A(qt,null,gn(e.feeTierList,(M,De)=>(g(),A("div",{key:De,class:Ae(["fee-item",[e.inputValue&&e.inputValue==M.label?"fee-item-active":"",e.isCreatePool&&e.isCreatePool.includes(M.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:Ze=>e.selectFee(M)},[e.$route.query.action=="create-pool"?(g(),A("div",ap,[c("p",null,b(M.title),1),c("p",{class:Ae(e.isCreatePool&&e.isCreatePool.includes(M.fee)?"text-default":"text-theme")},b(e.isCreatePool&&e.isCreatePool.includes(M.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(g(),A("div",sp,[c("p",{class:Ae(e.isCreatePool&&e.isCreatePool.includes(M.fee)?"text-active":"text-default")},b(M.title),3),c("p",null,b(e.isCreatePool&&e.isCreatePool.includes(M.fee)?"":e.$t("newAdd.notCreated")),1)])),c("span",null,b(M.text),1)],10,rp))),128))])):L("",!0)],2),c("div",lp,b(e.$t("newAdd.depositAmounts")),1),c("div",up,[c("div",cp,[ye(d,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=M=>e.fromCoinAmount=M),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[4]||(t[4]=M=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=M=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=M=>{e.fromCoinAmount=M,e.fixedFromCoin=!0}),onOnSelect:t[7]||(t[7]=M=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(g(),ke(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),c("div",dp,[ye(d,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=M=>e.toCoinAmount=M),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[9]||(t[9]=M=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=M=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=M=>{e.toCoinAmount=M,e.fixedFromCoin=!1}),onOnSelect:t[12]||(t[12]=M=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(g(),ke(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),(te=(T=e.$route)==null?void 0:T.query)!=null&&te.action&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(g(),ke(f,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(g(),A("img",{key:1,class:"add",src:er,alt:"",onClick:t[13]||(t[13]=(...M)=>e.toggle&&e.toggle(...M))})):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(g(),A("img",{key:2,class:"add",src:tr,alt:"",onClick:t[14]||(t[14]=(...M)=>e.toggle&&e.toggle(...M))})):L("",!0)]),e.poolInfo?(g(),ke($,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):L("",!0)]),ye(I,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[15]||(t[15]=M=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:$e(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(g(),A("svg",fp,pp)):L("",!0),c("span",null,b(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",hp,[ye(oe)])]),c("div",vp,[e.isShowMask?(g(),A("div",gp)):L("",!0),c("div",yp,[Ue(b(e.poolInfo?e.$t("newAdd.selectRange"):(Y=(q=e.$router)==null?void 0:q.query)!=null&&Y.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(g(),ke(s,{key:0,placement:"bottom","arrow-point-at-center":""},{title:$e(()=>[c("span",null,b(e.$t("newAdd.selectRangeTips")),1)]),default:$e(()=>[bp]),_:1})):L("",!0)]),c("div",kp,[!((X=(Ce=e.$route)==null?void 0:Ce.query)!=null&&X.action)&&e.poolInfo||(se=(H=e.$route)==null?void 0:H.query)!=null&&se.action?(g(),A(qt,{key:0},[(Q=(G=e.$route)==null?void 0:G.query)!=null&&Q.action&&!e.poolInfo?(g(),ke(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):L("",!0),e.poolInfo?(g(),A("div",wp,[(g(!0),A(qt,null,gn(e.currentPriceTabList,M=>(g(),A("div",{key:M,class:Ae(["price-item",{"price-item-active":M.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:De=>e.priceTab(M)},[ye(s,{placement:"bottom","arrow-point-at-center":""},{title:$e(()=>[c("span",null,b(e.getPirceText(M.key)),1)]),default:$e(()=>[Ue(" "+b(e.getPirceKey(M.key)),1)]),_:2},1024)],10,Cp))),128))])):L("",!0),(_e=(fe=e.$route)==null?void 0:fe.query)!=null&&_e.action&&!e.poolInfo?(g(),A("div",$p,b(e.$t("newAdd.createPoolInitialText")),1)):L("",!0),!e.poolInfo&&((we=(re=e.$route)==null?void 0:re.query)!=null&&we.action)?(g(),A("div",_p,b(e.$t("common.setPriceRange")),1)):L("",!0),e.poolInfo||(wt=(F=e.$route)==null?void 0:F.query)!=null&&wt.action?(g(),A("div",{key:4,class:Ae(["current-price",(et=(Le=e.$route)==null?void 0:Le.query)!=null&&et.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(g(),A("span",Ip,b(e.$t("common.currentPrice")),1)):L("",!0),e.fromCoin&&e.toCoin&&e.direct?(g(),A("div",Pp,[c("span",null,b(e.$t("common.currentPrice")),1),Ue(" "+b(("decimalUi"in e?e.decimalUi:me(Qe))(e.currentPrice,6))+" "+b((Ct=e.toCoin)==null?void 0:Ct.symbol)+" per "+b((tt=e.fromCoin)==null?void 0:tt.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(g(),A("div",Ap,[c("span",null,b(e.$t("common.currentPrice")),1),Ue(" "+b(("decimalUi"in e?e.decimalUi:me(Qe))(e.currentPriceReverse,6))+" "+b((Pt=e.toCoin)==null?void 0:Pt.symbol)+" per "+b((je=e.fromCoin)==null?void 0:je.symbol),1)])):(g(),A("div",Sp,"0.0")),e.fromCoin&&e.toCoin?(g(),A("div",{key:4,class:Ae(e.poolInfo&&((Fe=e.poolInfo)!=null&&Fe.needReverse)||e.createPoolInfo&&((Ve=e.createPoolInfo)!=null&&Ve.needReverse)?"toggle reverse":"toggle")},[c("div",{class:Ae(e.direct?"item active-item":"item"),onClick:t[16]||(t[16]=M=>e.direct?"":e.toggle())},[c("img",{src:e.direct?e.fromCoin.logoURI:e.toCoin.logoURI,alt:""},null,8,Np),Ue(" "+b(e.direct?(pt=e.fromCoin)==null?void 0:pt.symbol:(Xe=e.toCoin)==null?void 0:Xe.symbol),1)],2),c("div",{class:Ae(e.direct?"item ":"item active-item"),onClick:t[17]||(t[17]=M=>e.direct?e.toggle():"")},[c("img",{src:e.direct?e.toCoin.logoURI:e.fromCoin.logoURI,alt:""},null,8,Tp),Ue(" "+b(e.direct?(j=e.toCoin)==null?void 0:j.symbol:(le=e.fromCoin)==null?void 0:le.symbol),1)],2)],2)):L("",!0)],2)):L("",!0),e.poolInfo||(z=(ft=e.$route)==null?void 0:ft.query)!=null&&z.action?(g(),ke(S,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,"int-price":e.intPrice,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","int-price","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):L("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(g(),A("div",Mp,[c("img",{src:("importIcon"in e?e.importIcon:me(ze))("/image/icon-tips@2x.png"),alt:""},null,8,Rp),c("p",Lp,b(e.$t("tips.positionTips")),1)])):L("",!0),e.positionError&&(e.poolInfo||(P=(V=e.$route)==null?void 0:V.query)!=null&&P.action)?(g(),A("div",qp,[c("img",{src:("importIcon"in e?e.importIcon:me(ze))("/image/icon-tips-error@2x.png"),alt:""},null,8,Up),c("p",Op,b(e.$t("tips.positionError")),1)])):L("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(g(),A("div",Fp,[e.fromCoin&&e.toCoin&&e.poolInfo?(g(),ke(C,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):L("",!0),e.chartLoading?(g(),ke(y,{key:1})):L("",!0)])):L("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(g(),A("div",Ep,[Bp,c("span",Dp,b(e.aprRewardsTime)+" Price Range",1),c("span",null,b(e.before7dContractPriceLowest)+" - "+b(e.before7dContractPriceHighest),1)])):L("",!0),e.poolInfo&&!e.poolInfo.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.poolInfo.isSelfBuilt&&e.maxPrice=="∞"?(g(),ke(m,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):L("",!0),(Oe=(_=e.$route)==null?void 0:_.query)!=null&&Oe.action&&!e.poolInfo?(g(),A("div",Hp,b(e.$t("newAdd.createPoolText")),1)):L("",!0)],64)):(g(),A("div",zp,[e.storeIndex.theme=="default"?(g(),A("img",Xp)):(g(),A("img",jp)),c("p",null,b(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.poolInfo.isSelfBuilt?(g(),ke(w,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):L("",!0)])])):L("",!0),e.isPc?L("",!0):(g(),A("div",Vp,[c("div",Wp,[c("div",Kp,[c("div",Yp,[Ue(b(e.$t("common.selectPool"))+" ",1),ye(s,{placement:"bottom","arrow-point-at-center":""},{title:$e(()=>[c("span",null,b(e.t("newAdd.poolWarning")),1)]),default:$e(()=>[e.poolInfo&&e.poolInfo.isSelfBuilt?(g(),A("div",Gp)):L("",!0)]),_:1})]),c("div",Qp,[ye(u,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[18]||(t[18]=M=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ye(u,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:t[19]||(t[19]=M=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),c("div",{class:Ae(["pool-fee",e.edit?"pool-fee-edit":""])},[c("div",{class:"pool-fee-header",onClick:t[20]||(t[20]=M=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[c("span",{class:Ae(e.inputValue?"":"fee-span")},b(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(g(),A("svg",Jp,xp)):L("",!0)]),e.edit?(g(),A("div",eh,[e.getPoolInfoSuccess?(g(!0),A(qt,{key:1},gn(e.feeTierList,(M,De)=>(g(),A("div",{key:De,class:Ae(["fee-item",[e.inputValue&&e.inputValue==M.label?"fee-item-active":"",e.isCreatePool.includes(M.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:Ze=>e.selectFee(M)},[e.$route.query.action=="create-pool"?(g(),A("div",nh,[c("p",null,b(M.title),1),c("p",{class:Ae(e.isCreatePool.includes(M.fee)?"text-default":"text-theme")},b(e.isCreatePool.includes(M.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(g(),A("div",oh,[c("p",{class:Ae(e.isCreatePool.includes(M.fee)?"text-active":"text-default")},b(M.title),3),c("p",null,b(e.isCreatePool.includes(M.fee)?"":e.$t("newAdd.notCreated")),1)])),c("span",null,b(M.text),1)],10,th))),128)):(g(),ke(y,{key:0}))])):L("",!0)],2)]),c("div",ih,[e.isShowMask?(g(),A("div",rh)):L("",!0),c("div",ah,[Ue(b((An=e.$route)!=null&&An.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(g(),ke(s,{key:0,placement:"bottom","arrow-point-at-center":""},{title:$e(()=>[c("span",null,b(e.$t("newAdd.selectRangeTips")),1)]),default:$e(()=>[sh]),_:1})):L("",!0)]),c("div",lh,[!((Nn=(Sn=e.$route)==null?void 0:Sn.query)!=null&&Nn.action)&&e.poolInfo||(Be=(Ee=e.$route)==null?void 0:Ee.query)!=null&&Be.action?(g(),A(qt,{key:0},[(Mn=(Tn=e.$route)==null?void 0:Tn.query)!=null&&Mn.action&&!e.poolInfo?(g(),ke(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):L("",!0),e.poolInfo?(g(),A("div",uh,[(g(!0),A(qt,null,gn(e.currentPriceTabList,M=>(g(),A("div",{key:M,class:Ae(["price-item",{"price-item-active":M.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:De=>e.priceTab(M)},[ye(s,{placement:"bottom","arrow-point-at-center":""},{title:$e(()=>[c("span",null,b(e.getPirceText(M.key)),1)]),default:$e(()=>[Ue(" "+b(e.getPirceKey(M.key)),1)]),_:2},1024)],10,ch))),128))])):L("",!0),(Ln=(Rn=e.$route)==null?void 0:Rn.query)!=null&&Ln.action&&!e.poolInfo?(g(),A("div",dh,b(e.$t("newAdd.createPoolInitialText")),1)):L("",!0),!e.poolInfo&&((At=(Gt=e.$route)==null?void 0:Gt.query)!=null&&At.action)?(g(),A("div",fh,b(e.$t("common.setPriceRange")),1)):L("",!0),e.poolInfo||(Je=(St=e.$route)==null?void 0:St.query)!=null&&Je.action?(g(),A("div",{key:4,class:Ae(["current-price",(Nt=(Qt=e.$route)==null?void 0:Qt.query)!=null&&Nt.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(g(),A("span",mh,b(e.$t("common.currentPrice")),1)):L("",!0),e.fromCoin&&e.toCoin&&e.direct?(g(),A("div",ph,[c("span",null,b(e.$t("common.currentPrice")),1),Ue(" "+b(("decimalUi"in e?e.decimalUi:me(Qe))(e.currentPrice,6))+" "+b((Jt=e.toCoin)==null?void 0:Jt.symbol)+" per "+b((ne=e.fromCoin)==null?void 0:ne.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(g(),A("div",hh,[c("span",null,b(e.$t("common.currentPrice")),1),Ue(" "+b(("decimalUi"in e?e.decimalUi:me(Qe))(e.currentPriceReverse,6))+" "+b((st=e.toCoin)==null?void 0:st.symbol)+" per "+b((J=e.fromCoin)==null?void 0:J.symbol),1)])):(g(),A("div",vh,"0.0")),e.fromCoin&&e.toCoin?(g(),A("div",{key:4,class:Ae(e.poolInfo&&((Tt=e.poolInfo)!=null&&Tt.needReverse)||e.createPoolInfo&&((Ne=e.createPoolInfo)!=null&&Ne.needReverse)?"toggle reverse":"toggle")},[c("div",{class:Ae(e.direct?"item active-item":"item"),onClick:t[21]||(t[21]=M=>e.direct?"":e.toggle())},[c("img",{src:e.direct?e.fromCoin.logoURI:e.toCoin.logoURI,alt:""},null,8,gh),Ue(" "+b(e.direct?(Te=e.fromCoin)==null?void 0:Te.symbol:(Zt=e.toCoin)==null?void 0:Zt.symbol),1)],2),c("div",{class:Ae(e.direct?"item ":"item active-item"),onClick:t[22]||(t[22]=M=>e.direct?e.toggle():"")},[c("img",{src:e.direct?e.toCoin.logoURI:e.fromCoin.logoURI,alt:""},null,8,yh),Ue(" "+b(e.direct?(xt=e.toCoin)==null?void 0:xt.symbol:(We=e.fromCoin)==null?void 0:We.symbol),1)],2)],2)):L("",!0)],2)):L("",!0),e.poolInfo||(ht=($t=e.$route)==null?void 0:$t.query)!=null&&ht.action?(g(),ke(S,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):L("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(g(),A("div",bh,[c("img",{src:("importIcon"in e?e.importIcon:me(ze))("/image/icon-tips@2x.png"),alt:""},null,8,kh),c("p",wh,b(e.$t("tips.positionTips")),1)])):L("",!0),e.positionError&&(e.poolInfo||(qn=(Ht=e.$route)==null?void 0:Ht.query)!=null&&qn.action)?(g(),A("div",Ch,[c("img",{src:("importIcon"in e?e.importIcon:me(ze))("/image/icon-tips-error@2x.png"),alt:""},null,8,$h),c("p",_h,b(e.$t("tips.positionError")),1)])):L("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(g(),A("div",Ih,[e.fromCoin&&e.toCoin&&e.poolInfo?(g(),ke(C,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):L("",!0),e.chartLoading?(g(),ke(y,{key:1})):L("",!0)])):L("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(g(),A("div",Ph,[Ah,c("span",Sh,b(e.aprRewardsTime)+" Price Range",1),c("span",null,b(e.before7dContractPriceLowest)+" - "+b(e.before7dContractPriceHighest),1)])):L("",!0),e.poolInfo&&!e.poolInfo.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.poolInfo.isSelfBuilt&&e.maxPrice=="∞"?(g(),ke(m,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):L("",!0),(Bt=(ve=e.$route)==null?void 0:ve.query)!=null&&Bt.action&&!e.poolInfo?(g(),A("div",Nh,b(e.$t("newAdd.createPoolText")),1)):L("",!0)],64)):(g(),A("div",Th,[e.storeIndex.theme=="default"?(g(),A("img",Mh)):(g(),A("img",Rh)),c("p",null,b(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.poolInfo.isSelfBuilt?(g(),ke(w,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):L("",!0)]),ye(I,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[23]||(t[23]=M=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:$e(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(g(),A("svg",Lh,Uh)):L("",!0),c("span",null,b(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",Oh,[ye(oe)])]),c("div",Fh,[c("div",Eh,b(e.$t("newAdd.depositAmounts")),1),c("div",Bh,[c("div",Dh,[ye(d,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[24]||(t[24]=M=>e.fromCoinAmount=M),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[25]||(t[25]=M=>e.maxBtnSelect("fromCoin")),onOnHalf:t[26]||(t[26]=M=>e.halfBtnSelect("fromCoin")),onOnInput:t[27]||(t[27]=M=>{e.fromCoinAmount=M,e.fixedFromCoin=!0}),onOnSelect:t[28]||(t[28]=M=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(g(),ke(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),c("div",Hh,[ye(d,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[29]||(t[29]=M=>e.toCoinAmount=M),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[30]||(t[30]=M=>e.maxBtnSelect("toCoin")),onOnHalf:t[31]||(t[31]=M=>e.halfBtnSelect("toCoin")),onOnInput:t[32]||(t[32]=M=>{e.toCoinAmount=M,e.fixedFromCoin=!1}),onOnSelect:t[33]||(t[33]=M=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(g(),ke(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):L("",!0)]),(mn=(Un=e.$route)==null?void 0:Un.query)!=null&&mn.action&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(g(),ke(f,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(g(),A("img",{key:1,class:"add",src:er,alt:"",onClick:t[34]||(t[34]=(...M)=>e.toggle&&e.toggle(...M))})):L("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(g(),A("img",{key:2,class:"add",src:tr,alt:"",onClick:t[35]||(t[35]=(...M)=>e.toggle&&e.toggle(...M))})):L("",!0)]),e.poolInfo||e.createPoolInfo?(g(),ke($,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):L("",!0)])])),ye(I,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn h5-btn",onClick:t[36]||(t[36]=M=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:$e(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")?(g(),A("svg",zh,jh)):L("",!0),c("span",null,b(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",Vh,[ye(oe)]),e.showCoinSelect?(g(),ke(R,{key:2,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:t[37]||(t[37]=M=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):L("",!0),e.isShowLiquidityModal?(g(),ke(ie,{key:3,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"pool-info":e.poolInfo,"current-direct":e.direct,onToAdd:e.toAdd,onOnClose:t[38]||(t[38]=M=>e.isShowLiquidityModal=!1)},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","current-price-reverse","pool-info","current-direct","onToAdd"])):L("",!0),e.isViewDetail?(g(),ke(D,{key:4,"pool-info":e.poolInfo,onOnClose:t[39]||(t[39]=M=>e.isViewDetail=!1)},null,8,["pool-info"])):L("",!0),e.isCreateSuccess?(g(),ke(ee,{key:5,onOnClose:t[40]||(t[40]=M=>e.isCreateSuccess=!1)})):L("",!0),e.isShowCreatePoolModal&&e.fromCoin&&e.toCoin?(g(),ke(K,{key:6,"from-coin":e.createPoolFromCoin,"to-coin":e.createPoolToCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.createPoolInfo.currentPrice,"need-reverse":e.createPoolInfo.needReverse,direct:e.direct,onOnClose:t[41]||(t[41]=M=>e.isShowCreatePoolModal=!1),onCreatePool:e.toCreatePool},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","need-reverse","direct","onCreatePool"])):L("",!0)])}const hv=at(Km,[["render",Wh],["__scopeId","data-v-5cb3f8ec"]]);export{hv as default};
