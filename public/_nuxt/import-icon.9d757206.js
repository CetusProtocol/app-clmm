import{eV as Jf,T as wo,L as wt,U as wr,eW as i2,eQ as Qa,eX as Kg,eR as Zi,eS as Xg,f as lf,eY as tl,eZ as s2}from"./entry.94f2f2cc.js";const o2="pro",a2={pro:{Aptos:{liquidswapDeployer:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",faucetObjectId:"0x3cfe7b9f6106808a8178ebd2d5ae6656cd0ccec15d33e63fd857c180bde8da75",fetcher:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",clmmIntegrate:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",TokenDeployer:"0x4fb259302630bf727f1b489e0597131fe4d8ccba12074bb7fedba3886c008945",IntegerMate:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.mainnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"mainnet",networkTip:"Mainnet",api:"https://api.cetus.zone",accountAddress:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",accountPublicKey:"0x854923b882d2451730a11690f7da896e3b497e2a47b3383e86b62173bbc1414c",ammSite:"https://alpha.cetus.zone",newPositionAddress:"0x5b0b1c0d7a22fd7c59dedc00f906e9cb68033d13589a739b0d18cf25e317bdd4",fraphQLUrl:"https://indexer.mainnet.aptoslabs.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{cetusClmm:"0xbf09195a58b786c063b08e4fae2793c36ef65835",cetusIntegrate:"0x1b2735ee3950a730df1f91692bf98707f848198b",integerMate:"0x3a1a096b4d2598eb3958c91fc8787c3e62f40770",swapPartner:"0xa420bad83346a8cd05c98fff988d90ef8d149b4c",TokenDeployer:"0x7bfe88372b99abb54609b58fee652b97a162cbcf",faucetObjectId:"0x6740d70296035d0345bed636a820af129f6ed422",initEventConfig:{initFactoryEvent:{pools_id:"0xbaa9aaf9674c837bf2272f540d2ac35bf57f8398"},initPartnerEvent:{partners_id:"0x78a800ff634e7dcacff92819f2aae44a33ba0588"},initConfigEvent:{admin_cap_id:"0xa3ea3c2067ab535c0ef2721f8ec15d2777e6620e",global_config_id:"0xe6f7329ab2e1cd4f01de8a82f5980de545474022",protocol_fee_claim_cap_id:"0x72514fb34b8fc3fd4efc1e463937065127e81e77"}},tokenConfig:{coin_registry_id:"0x3f9f6609fc99440e41c7e178ff1250274170c889",pool_registry_id:"0x699cff0b7e44e565908b4acfa482022cfbfc16c1",coin_list_owner:"0x7634802da06a3a4c8e4aa8c425cfd83406670e34",pool_list_owner:"0xa4e177fe96f33a7ec7f2aa14ad5387cac7c7cc21"},rpcUrl:"https://fullnode.devnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"devnet",networkTip:"Devnet",api:"https://api-beta.cetus.zone",simulationAccount:"0x3f6cfdcf7bc19e86693d3d0f261f56b6e8caff0d",ammSite:"https://cetus-pre.netlify.app",newPositionAddress:"0x36df34fbf538e4e391f89dda3b4a07eeeec44d1c",currentChainTokenAddress:"0x2::sui::SUI"},Sui2:{cetusClmm:"0xbf09195a58b786c063b08e4fae2793c36ef65835",cetusIntegrate:"0x1b2735ee3950a730df1f91692bf98707f848198b",integerMate:"0x3a1a096b4d2598eb3958c91fc8787c3e62f40770",swapPartner:"0xa420bad83346a8cd05c98fff988d90ef8d149b4c",TokenDeployer:"0x7bfe88372b99abb54609b58fee652b97a162cbcf",faucetObjectId:"0x6740d70296035d0345bed636a820af129f6ed422",initEventConfig:{initFactoryEvent:{pools_id:"0xbaa9aaf9674c837bf2272f540d2ac35bf57f8398"},initPartnerEvent:{partners_id:"0x78a800ff634e7dcacff92819f2aae44a33ba0588"},initConfigEvent:{admin_cap_id:"0xa3ea3c2067ab535c0ef2721f8ec15d2777e6620e",global_config_id:"0xe6f7329ab2e1cd4f01de8a82f5980de545474022",protocol_fee_claim_cap_id:"0x72514fb34b8fc3fd4efc1e463937065127e81e77"}},tokenConfig:{coin_registry_id:"0x3f9f6609fc99440e41c7e178ff1250274170c889",pool_registry_id:"0x699cff0b7e44e565908b4acfa482022cfbfc16c1",coin_list_owner:"0x7634802da06a3a4c8e4aa8c425cfd83406670e34",pool_list_owner:"0xa4e177fe96f33a7ec7f2aa14ad5387cac7c7cc21"},rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",ammSite:"https://cetus-pre.netlify.app",api:"https://api-beta.cetus.zone",simulationAccount:"0x3f6cfdcf7bc19e86693d3d0f261f56b6e8caff0d",newPositionAddress:"0x36df34fbf538e4e391f89dda3b4a07eeeec44d1c",currentChainTokenAddress:"0x2::sui::SUI"}},pre:{Aptos:{liquidswapDeployer:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",faucetObjectId:"0x3cfe7b9f6106808a8178ebd2d5ae6656cd0ccec15d33e63fd857c180bde8da75",fetcher:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",clmmIntegrate:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",TokenDeployer:"0x66c2552af637bb5f659e1b5a4a90a98fca58f06409a64b807ca99e1808222d5b",IntegerMate:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.mainnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"mainnet",networkTip:"Mainnet",api:"https://api-beta.cetus.zone",accountAddress:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",accountPublicKey:"0x854923b882d2451730a11690f7da896e3b497e2a47b3383e86b62173bbc1414c",ammSite:"https://cetus-pre.netlify.app",newPositionAddress:"0x5b0b1c0d7a22fd7c59dedc00f906e9cb68033d13589a739b0d18cf25e317bdd4",fraphQLUrl:"https://indexer.mainnet.aptoslabs.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{cetusClmm:"0xbf09195a58b786c063b08e4fae2793c36ef65835",cetusIntegrate:"0x1b2735ee3950a730df1f91692bf98707f848198b",integerMate:"0x3a1a096b4d2598eb3958c91fc8787c3e62f40770",swapPartner:"0xa420bad83346a8cd05c98fff988d90ef8d149b4c",TokenDeployer:"0x7bfe88372b99abb54609b58fee652b97a162cbcf",faucetObjectId:"0x6740d70296035d0345bed636a820af129f6ed422",initEventConfig:{initFactoryEvent:{pools_id:"0xbaa9aaf9674c837bf2272f540d2ac35bf57f8398"},initPartnerEvent:{partners_id:"0x78a800ff634e7dcacff92819f2aae44a33ba0588"},initConfigEvent:{admin_cap_id:"0xa3ea3c2067ab535c0ef2721f8ec15d2777e6620e",global_config_id:"0xe6f7329ab2e1cd4f01de8a82f5980de545474022",protocol_fee_claim_cap_id:"0x72514fb34b8fc3fd4efc1e463937065127e81e77"}},tokenConfig:{coin_registry_id:"0x3f9f6609fc99440e41c7e178ff1250274170c889",pool_registry_id:"0x699cff0b7e44e565908b4acfa482022cfbfc16c1",coin_list_owner:"0x7634802da06a3a4c8e4aa8c425cfd83406670e34",pool_list_owner:"0xa4e177fe96f33a7ec7f2aa14ad5387cac7c7cc21"},rpcUrl:"https://fullnode.devnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"devnet",networkTip:"Devnet",api:"https://api-beta.cetus.zone",simulationAccount:"0x3f6cfdcf7bc19e86693d3d0f261f56b6e8caff0d",ammSite:"https://cetus-pre.netlify.app",newPositionAddress:"0x36df34fbf538e4e391f89dda3b4a07eeeec44d1c",currentChainTokenAddress:"0x2::sui::SUI"},Sui2:{cetusClmm:"0xbf09195a58b786c063b08e4fae2793c36ef65835",cetusIntegrate:"0x1b2735ee3950a730df1f91692bf98707f848198b",integerMate:"0x3a1a096b4d2598eb3958c91fc8787c3e62f40770",swapPartner:"0xa420bad83346a8cd05c98fff988d90ef8d149b4c",TokenDeployer:"0x7bfe88372b99abb54609b58fee652b97a162cbcf",faucetObjectId:"0x6740d70296035d0345bed636a820af129f6ed422",initEventConfig:{initFactoryEvent:{pools_id:"0xbaa9aaf9674c837bf2272f540d2ac35bf57f8398"},initPartnerEvent:{partners_id:"0x78a800ff634e7dcacff92819f2aae44a33ba0588"},initConfigEvent:{admin_cap_id:"0xa3ea3c2067ab535c0ef2721f8ec15d2777e6620e",global_config_id:"0xe6f7329ab2e1cd4f01de8a82f5980de545474022",protocol_fee_claim_cap_id:"0x72514fb34b8fc3fd4efc1e463937065127e81e77"}},tokenConfig:{coin_registry_id:"0x3f9f6609fc99440e41c7e178ff1250274170c889",pool_registry_id:"0x699cff0b7e44e565908b4acfa482022cfbfc16c1",coin_list_owner:"0x7634802da06a3a4c8e4aa8c425cfd83406670e34",pool_list_owner:"0xa4e177fe96f33a7ec7f2aa14ad5387cac7c7cc21"},rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",ammSite:"https://cetus-pre.netlify.app",api:"https://api-beta.cetus.zone",simulationAccount:"0x3f6cfdcf7bc19e86693d3d0f261f56b6e8caff0d",newPositionAddress:"0x36df34fbf538e4e391f89dda3b4a07eeeec44d1c",currentChainTokenAddress:"0x2::sui::SUI"}},test:{Aptos:{liquidswapDeployer:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",faucetObjectId:"0x3cfe7b9f6106808a8178ebd2d5ae6656cd0ccec15d33e63fd857c180bde8da75",fetcher:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",clmmIntegrate:"0xd58630ae0012aa3c6fa61d2a9038bb79382e022ff159bfe4ad78d9d5c72cb08d",TokenDeployer:"0xce854db9e3d7ae088359dbc54e2d425370c86a010b7656a272019abd9abf5b5a",IntegerMate:"0xa7f01413d33ba919441888637ca1607ca0ddcbfa3c0a9ddea64743aaa560e498",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.testnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"testnet",networkTip:"Testnet",api:"https://api.devcetus.com",accountAddress:"0x251dda55e5071be8c761c8a99d7af559ccb6ccc52ad3f945712d3ae8b87c35e0",accountPublicKey:"0x40b00ab4323dddef193e9fef41830a96456a8b875c4e5cb5a4e666d9a75fed51",ammSite:"https://test-cetus.netlify.app",newPositionAddress:"0x3904fc6d0dcb6e1937a6aced4597ec383afc752676d89f1d59b3d30b959fe161",fraphQLUrl:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{cetusClmm:"0x296e6ae7204fc10eaf8f08e4b4faf4ddd4ad001c",cetusIntegrate:"0x9cce89ed875c398dde64a5ccdfbebb6140b13b0f",integerMate:"0x3a1a096b4d2598eb3958c91fc8787c3e62f40770",swapPartner:"0x7a339a83046ba6b9cff5eda690177d7b9d5f734c",TokenDeployer:"0xad73800355e8dbc471d9854599064f0b539ce877",faucetObjectId:"0x6740d70296035d0345bed636a820af129f6ed422",initEventConfig:{initFactoryEvent:{pools_id:"0x526554aec8e229cc79f2a3e375813f6be92aabf8"},initPartnerEvent:{partners_id:"0x9bd1abed942c804d11a3ebb224fef4c8abda4dbb"},initConfigEvent:{admin_cap_id:"0x1b585be50405d80698ee1cffbde0e884944b64ce",global_config_id:"0x7b357faee524eda340b9924a828814eab7c107f7",protocol_fee_claim_cap_id:"0xfec3fa3d8176952d584213d9e286bbbb1717af02"}},tokenConfig:{coin_registry_id:"0x059e8292480b2d87179b6d67964a9f984b9f824c",pool_registry_id:"0x92f8beac8b3ead9c7a7c3b7d0b7ad08ad6edc1c8",coin_list_owner:"0xd29d3c6e3c72b140dc09d9afad6398580ab06735",pool_list_owner:"0xa0de2a711c0c89971761e70e956fcd4f4f6ba35b"},rpcUrl:"https://fullnode.devnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"devnet",networkTip:"Devnet",api:"https://api.devcetus.com",simulationAccount:"0x3f6cfdcf7bc19e86693d3d0f261f56b6e8caff0d",ammSite:"https://cetus-pre.netlify.app",newPositionAddress:"0xbd1a8bd64216a4b102dc45a926bde4eb212108ae",currentChainTokenAddress:"0x2::sui::SUI"},Sui2:{cetusClmm:"0x296e6ae7204fc10eaf8f08e4b4faf4ddd4ad001c",cetusIntegrate:"0x9cce89ed875c398dde64a5ccdfbebb6140b13b0f",integerMate:"0x3a1a096b4d2598eb3958c91fc8787c3e62f40770",swapPartner:"0xa420bad83346a8cd05c98fff988d90ef8d149b4c",TokenDeployer:"0x7bfe88372b99abb54609b58fee652b97a162cbcf",faucetObjectId:"0x6740d70296035d0345bed636a820af129f6ed422",initEventConfig:{initFactoryEvent:{pools_id:"0x526554aec8e229cc79f2a3e375813f6be92aabf8"},initPartnerEvent:{partners_id:"0x9bd1abed942c804d11a3ebb224fef4c8abda4dbb"},initConfigEvent:{admin_cap_id:"0x1b585be50405d80698ee1cffbde0e884944b64ce",global_config_id:"0x7b357faee524eda340b9924a828814eab7c107f7",protocol_fee_claim_cap_id:"0xfec3fa3d8176952d584213d9e286bbbb1717af02"}},tokenConfig:{coin_registry_id:"0x3f9f6609fc99440e41c7e178ff1250274170c889",pool_registry_id:"0x699cff0b7e44e565908b4acfa482022cfbfc16c1",coin_list_owner:"0x7634802da06a3a4c8e4aa8c425cfd83406670e34",pool_list_owner:"0xa4e177fe96f33a7ec7f2aa14ad5387cac7c7cc21"},rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",api:"https://api.devcetus.com",simulationAccount:"0x3f6cfdcf7bc19e86693d3d0f261f56b6e8caff0d",ammSite:"https://cetus-pre.netlify.app",newPositionAddress:"0xbd1a8bd64216a4b102dc45a926bde4eb212108ae",currentChainTokenAddress:"0x2::sui::SUI"}},dev:{Aptos:{liquidswapDeployer:"0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37",faucetObjectId:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29",fetcher:"0x3ac260dc3ba7d7173e5ad8ce9a5d0ee62184e95425343cfd287f6e53dc52a4bd",clmmIntegrate:"0x3ac260dc3ba7d7173e5ad8ce9a5d0ee62184e95425343cfd287f6e53dc52a4bd",TokenDeployer:"0xc50b243a7180dfad9afd7dff8451c7b16cf27a92b6816f521b1f3c6d0c5397e3",IntegerMate:"0x45ba3bca9e81591a852df423105ecf2978dc03a5c0223033669bb889656a94a8",Launchpad:"0x93d2c98e6f1d1cd3629a15d8af1848246e6a0337de28c19ff9fb8718f534175a",LaunchpadCrowdCoin:"0xd2f6e785a51318fe0f5198b6679bf7af5af3375bd005101e98cb97b615871688",rpcUrl:"https://fullnode.devnet.aptoslabs.com",explorerUrl:"https://explorer.aptoslabs.com",network:"devnet",networkTip:"Devnet",api:"https://api.devcetus.com",accountAddress:"0x251dda55e5071be8c761c8a99d7af559ccb6ccc52ad3f945712d3ae8b87c35e0",accountPublicKey:"0x40b00ab4323dddef193e9fef41830a96456a8b875c4e5cb5a4e666d9a75fed51",ammSite:"https://test-cetus.netlify.app",newPositionAddress:"0x3904fc6d0dcb6e1937a6aced4597ec383afc752676d89f1d59b3d30b959fe161",fraphQLUrl:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql",currentChainTokenAddress:"0x1::aptos_coin::AptosCoin"},Sui:{liquidswapDeployer:"0x2b8f54bf724fa62789299569210d6c94758dd636",globalPauseStatusObjectId:"0x877cd08c02a2faa110a020f4f203304b114d76d2",faucetObjectId:"0x61df0e8caaf7b241d137fdc97906e3ca6bd68cca",rpcUrl:"https://fullnode.testnet.sui.io",explorerUrl:"https://explorer.sui.io/",network:"testnet",networkTip:"Testnet",ammSite:"https://cetus-pre.netlify.app",api:"https://api.devcetus.zone",currentChainTokenAddress:"0x2::sui::SUI"}}},Ze={...a2[o2]},Ih=new i2,Zg=Jf("index",{state:()=>({slippage:localStorage.getItem("cetus-slippage")||"0.5",isShowSuccess:!1,isShowRejected:!1,isShowWaiting:!1,currentTransactionDesc:"",currentTransactionDescText:"",currentTransactionTxid:"",theme:"",chainName:"",positionNum:0,statsData:{},topPoolsList:[],topPoolsObj:{},newTopPoolsObj:{},topTokensList:[],topTokenObj:{},newtopTokenObj:{},lang:Ih.get("lang")||"en",addressLpTokens:{},addressHistTokens:{},transactionList:JSON.parse(localStorage.getItem("transactionList")||"[]")||[],newtransactionList:JSON.parse(localStorage.getItem("newtransactionList")||"[]")||[],newAddtransactionList:JSON.parse(localStorage.getItem("newAddtransactionList")||"[]")||[],isSelect:"",openMore:!1,openSwitchChain:!1,openSwitchLang:!1,openH5Icon:!1,isShowMore:!1}),actions:{copy(t){if(navigator.clipboard)navigator.clipboard.writeText(t);else{const n=document.createElement("input");n.readOnly=!0,document.body.appendChild(n),n.value=t,n.select(),document.execCommand("Copy"),document.body.removeChild(n)}const{$notify:e}=wo();e.success({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-icon-change1"})]),duration:4.5,message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:wr.global.t("tips.copySuccess")},null)]),class:"ant-notification-copy"})},setOpenMore(t){this.openMore=t},setOpenSwitchChain(t){this.openSwitchChain=t},setOpenSwitchLang(t){this.openSwitchLang=t},setOpenH5Icon(t){this.openH5Icon=t},setIsShowMore(t){this.isShowMore=t},setSlippage(t){this.slippage=t,localStorage.setItem("cetus-slippage",t)},setPositiomNum(){this.positionNum=this.positionNum+1},setTheme(t){this.theme=t,t=="default"?(this.chainName="Aptos",localStorage.setItem("chainName","Aptos")):t=="sui"?(this.chainName="Sui",localStorage.setItem("chainName","Sui")):t=="sui2"&&(this.chainName="Sui2",localStorage.setItem("chainName","Sui2"))},setIsShowSuccess(t){this.isShowSuccess=t},setIsShowRejected(t){this.isShowRejected=t},setIsShowWaiting(t){this.isShowWaiting=t},setTransactionDesc(t){this.currentTransactionDesc=t},setTransactionDescText(t){this.currentTransactionDescText=t},setTransactionTxid(t){this.currentTransactionTxid=t},async getStatsData(t){let e=[],n=[];const{data:r}=t=="Aptos"?await fetch(`${Ze[t||"Aptos"].api}/v2/swap/count`).then(o=>o.json()):await fetch(`${Ze[t||"Sui"].api}/v2/sui/swap/count`).then(o=>o.json()),i=t=="Aptos"?await fetch(`${Ze[t||"Aptos"].api}/v2/contract/price`).then(o=>o.json()):await fetch(`${Ze[t||"Sui"].api}/v2/sui/contract/price`).then(o=>o.json());n=Object.fromEntries(i.data.list.map(o=>[o.swap_account,o])),this.addressHistTokens=n,this.statsData=r;const s=[];if(r&&r.pools){for(let o=0;o<r.pools.length;o++){const a=r.pools[o],c=a.rewarder_apr[0]?Number(a.rewarder_apr[0].substring(0,a.rewarder_apr[0].length-1)):0,u=a.rewarder_apr[1]?Number(a.rewarder_apr[1].substring(0,a.rewarder_apr[1].length-1)):0,l=a.rewarder_apr[2]?Number(a.rewarder_apr[2].substring(0,a.rewarder_apr[2].length-1)):0,d=c+u+l;s.push({...a,aprNum:a?String(Number(a.apr_7day.substring(0,a.apr_7day.length-1))+d):"0",token_a_address:a.token_a_reserves=="SUI"?"0x2::sui::SUI":a.token_a_address,token_b_address:a.token_b_reserves=="SUI"?"0x2::sui::SUI":a.token_b_address})}this.topPoolsList=s,e=Object.fromEntries(r.pools.map(o=>[o.swap_account,o])),this.topPoolsObj=Object.fromEntries(r.pools.map(o=>[o.name,o])),this.newTopPoolsObj=Object.fromEntries(r.pools.map(o=>[o.swap_account,o]))}r&&r.tokens&&(this.topTokensList=r.tokens,this.addressLpTokens=e,this.topTokenObj=Object.fromEntries(r.tokens.map(o=>[o.name,o])),this.newtopTokenObj=Object.fromEntries(r.tokens.map(o=>[o.address,o])))},setLang(t){Ih.set("lang",t),this.lang=t},setTransactionList(t){this.newAddtransactionList.push(t),localStorage.setItem("newAddtransactionList",JSON.stringify(this.newAddtransactionList))},clearTransactionList(){const t=this.newAddtransactionList.filter(e=>e.chainName!==this.chainName);this.newAddtransactionList=t,localStorage.setItem("newAddtransactionList",t.length>0?JSON.stringify(t):"")},setIsSelect(t){this.isSelect=t}}});function Yg(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ts={},c2={get exports(){return ts},set exports(t){ts=t}};const u2={},Jg=Object.freeze(Object.defineProperty({__proto__:null,default:u2},Symbol.toStringTag,{value:"Module"})),Qf=Qa(Jg);(function(t){(function(e){var n=function(x){var P,U=new Float64Array(16);if(x)for(P=0;P<x.length;P++)U[P]=x[P];return U},r=function(){throw new Error("no PRNG")},i=new Uint8Array(16),s=new Uint8Array(32);s[0]=9;var o=n(),a=n([1]),c=n([56129,1]),u=n([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),l=n([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),d=n([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=n([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),y=n([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function b(x,P,U,g){x[P]=U>>24&255,x[P+1]=U>>16&255,x[P+2]=U>>8&255,x[P+3]=U&255,x[P+4]=g>>24&255,x[P+5]=g>>16&255,x[P+6]=g>>8&255,x[P+7]=g&255}function T(x,P,U,g,$){var te,ee=0;for(te=0;te<$;te++)ee|=x[P+te]^U[g+te];return(1&ee-1>>>8)-1}function k(x,P,U,g){return T(x,P,U,g,16)}function O(x,P,U,g){return T(x,P,U,g,32)}function B(x,P,U,g){for(var $=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,te=U[0]&255|(U[1]&255)<<8|(U[2]&255)<<16|(U[3]&255)<<24,ee=U[4]&255|(U[5]&255)<<8|(U[6]&255)<<16|(U[7]&255)<<24,ue=U[8]&255|(U[9]&255)<<8|(U[10]&255)<<16|(U[11]&255)<<24,_e=U[12]&255|(U[13]&255)<<8|(U[14]&255)<<16|(U[15]&255)<<24,Te=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,be=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,gt=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,Ie=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,Fe=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,Ge=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,Ye=U[16]&255|(U[17]&255)<<8|(U[18]&255)<<16|(U[19]&255)<<24,st=U[20]&255|(U[21]&255)<<8|(U[22]&255)<<16|(U[23]&255)<<24,Qe=U[24]&255|(U[25]&255)<<8|(U[26]&255)<<16|(U[27]&255)<<24,tt=U[28]&255|(U[29]&255)<<8|(U[30]&255)<<16|(U[31]&255)<<24,et=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,$e=$,He=te,Oe=ee,Me=ue,qe=_e,Re=Te,oe=be,ae=gt,ye=Ie,pe=Fe,ge=Ge,ve=Ye,Xe=st,yt=Qe,bt=tt,mt=et,G,Bt=0;Bt<20;Bt+=2)G=$e+Xe|0,qe^=G<<7|G>>>32-7,G=qe+$e|0,ye^=G<<9|G>>>32-9,G=ye+qe|0,Xe^=G<<13|G>>>32-13,G=Xe+ye|0,$e^=G<<18|G>>>32-18,G=Re+He|0,pe^=G<<7|G>>>32-7,G=pe+Re|0,yt^=G<<9|G>>>32-9,G=yt+pe|0,He^=G<<13|G>>>32-13,G=He+yt|0,Re^=G<<18|G>>>32-18,G=ge+oe|0,bt^=G<<7|G>>>32-7,G=bt+ge|0,Oe^=G<<9|G>>>32-9,G=Oe+bt|0,oe^=G<<13|G>>>32-13,G=oe+Oe|0,ge^=G<<18|G>>>32-18,G=mt+ve|0,Me^=G<<7|G>>>32-7,G=Me+mt|0,ae^=G<<9|G>>>32-9,G=ae+Me|0,ve^=G<<13|G>>>32-13,G=ve+ae|0,mt^=G<<18|G>>>32-18,G=$e+Me|0,He^=G<<7|G>>>32-7,G=He+$e|0,Oe^=G<<9|G>>>32-9,G=Oe+He|0,Me^=G<<13|G>>>32-13,G=Me+Oe|0,$e^=G<<18|G>>>32-18,G=Re+qe|0,oe^=G<<7|G>>>32-7,G=oe+Re|0,ae^=G<<9|G>>>32-9,G=ae+oe|0,qe^=G<<13|G>>>32-13,G=qe+ae|0,Re^=G<<18|G>>>32-18,G=ge+pe|0,ve^=G<<7|G>>>32-7,G=ve+ge|0,ye^=G<<9|G>>>32-9,G=ye+ve|0,pe^=G<<13|G>>>32-13,G=pe+ye|0,ge^=G<<18|G>>>32-18,G=mt+bt|0,Xe^=G<<7|G>>>32-7,G=Xe+mt|0,yt^=G<<9|G>>>32-9,G=yt+Xe|0,bt^=G<<13|G>>>32-13,G=bt+yt|0,mt^=G<<18|G>>>32-18;$e=$e+$|0,He=He+te|0,Oe=Oe+ee|0,Me=Me+ue|0,qe=qe+_e|0,Re=Re+Te|0,oe=oe+be|0,ae=ae+gt|0,ye=ye+Ie|0,pe=pe+Fe|0,ge=ge+Ge|0,ve=ve+Ye|0,Xe=Xe+st|0,yt=yt+Qe|0,bt=bt+tt|0,mt=mt+et|0,x[0]=$e>>>0&255,x[1]=$e>>>8&255,x[2]=$e>>>16&255,x[3]=$e>>>24&255,x[4]=He>>>0&255,x[5]=He>>>8&255,x[6]=He>>>16&255,x[7]=He>>>24&255,x[8]=Oe>>>0&255,x[9]=Oe>>>8&255,x[10]=Oe>>>16&255,x[11]=Oe>>>24&255,x[12]=Me>>>0&255,x[13]=Me>>>8&255,x[14]=Me>>>16&255,x[15]=Me>>>24&255,x[16]=qe>>>0&255,x[17]=qe>>>8&255,x[18]=qe>>>16&255,x[19]=qe>>>24&255,x[20]=Re>>>0&255,x[21]=Re>>>8&255,x[22]=Re>>>16&255,x[23]=Re>>>24&255,x[24]=oe>>>0&255,x[25]=oe>>>8&255,x[26]=oe>>>16&255,x[27]=oe>>>24&255,x[28]=ae>>>0&255,x[29]=ae>>>8&255,x[30]=ae>>>16&255,x[31]=ae>>>24&255,x[32]=ye>>>0&255,x[33]=ye>>>8&255,x[34]=ye>>>16&255,x[35]=ye>>>24&255,x[36]=pe>>>0&255,x[37]=pe>>>8&255,x[38]=pe>>>16&255,x[39]=pe>>>24&255,x[40]=ge>>>0&255,x[41]=ge>>>8&255,x[42]=ge>>>16&255,x[43]=ge>>>24&255,x[44]=ve>>>0&255,x[45]=ve>>>8&255,x[46]=ve>>>16&255,x[47]=ve>>>24&255,x[48]=Xe>>>0&255,x[49]=Xe>>>8&255,x[50]=Xe>>>16&255,x[51]=Xe>>>24&255,x[52]=yt>>>0&255,x[53]=yt>>>8&255,x[54]=yt>>>16&255,x[55]=yt>>>24&255,x[56]=bt>>>0&255,x[57]=bt>>>8&255,x[58]=bt>>>16&255,x[59]=bt>>>24&255,x[60]=mt>>>0&255,x[61]=mt>>>8&255,x[62]=mt>>>16&255,x[63]=mt>>>24&255}function v(x,P,U,g){for(var $=g[0]&255|(g[1]&255)<<8|(g[2]&255)<<16|(g[3]&255)<<24,te=U[0]&255|(U[1]&255)<<8|(U[2]&255)<<16|(U[3]&255)<<24,ee=U[4]&255|(U[5]&255)<<8|(U[6]&255)<<16|(U[7]&255)<<24,ue=U[8]&255|(U[9]&255)<<8|(U[10]&255)<<16|(U[11]&255)<<24,_e=U[12]&255|(U[13]&255)<<8|(U[14]&255)<<16|(U[15]&255)<<24,Te=g[4]&255|(g[5]&255)<<8|(g[6]&255)<<16|(g[7]&255)<<24,be=P[0]&255|(P[1]&255)<<8|(P[2]&255)<<16|(P[3]&255)<<24,gt=P[4]&255|(P[5]&255)<<8|(P[6]&255)<<16|(P[7]&255)<<24,Ie=P[8]&255|(P[9]&255)<<8|(P[10]&255)<<16|(P[11]&255)<<24,Fe=P[12]&255|(P[13]&255)<<8|(P[14]&255)<<16|(P[15]&255)<<24,Ge=g[8]&255|(g[9]&255)<<8|(g[10]&255)<<16|(g[11]&255)<<24,Ye=U[16]&255|(U[17]&255)<<8|(U[18]&255)<<16|(U[19]&255)<<24,st=U[20]&255|(U[21]&255)<<8|(U[22]&255)<<16|(U[23]&255)<<24,Qe=U[24]&255|(U[25]&255)<<8|(U[26]&255)<<16|(U[27]&255)<<24,tt=U[28]&255|(U[29]&255)<<8|(U[30]&255)<<16|(U[31]&255)<<24,et=g[12]&255|(g[13]&255)<<8|(g[14]&255)<<16|(g[15]&255)<<24,$e=$,He=te,Oe=ee,Me=ue,qe=_e,Re=Te,oe=be,ae=gt,ye=Ie,pe=Fe,ge=Ge,ve=Ye,Xe=st,yt=Qe,bt=tt,mt=et,G,Bt=0;Bt<20;Bt+=2)G=$e+Xe|0,qe^=G<<7|G>>>32-7,G=qe+$e|0,ye^=G<<9|G>>>32-9,G=ye+qe|0,Xe^=G<<13|G>>>32-13,G=Xe+ye|0,$e^=G<<18|G>>>32-18,G=Re+He|0,pe^=G<<7|G>>>32-7,G=pe+Re|0,yt^=G<<9|G>>>32-9,G=yt+pe|0,He^=G<<13|G>>>32-13,G=He+yt|0,Re^=G<<18|G>>>32-18,G=ge+oe|0,bt^=G<<7|G>>>32-7,G=bt+ge|0,Oe^=G<<9|G>>>32-9,G=Oe+bt|0,oe^=G<<13|G>>>32-13,G=oe+Oe|0,ge^=G<<18|G>>>32-18,G=mt+ve|0,Me^=G<<7|G>>>32-7,G=Me+mt|0,ae^=G<<9|G>>>32-9,G=ae+Me|0,ve^=G<<13|G>>>32-13,G=ve+ae|0,mt^=G<<18|G>>>32-18,G=$e+Me|0,He^=G<<7|G>>>32-7,G=He+$e|0,Oe^=G<<9|G>>>32-9,G=Oe+He|0,Me^=G<<13|G>>>32-13,G=Me+Oe|0,$e^=G<<18|G>>>32-18,G=Re+qe|0,oe^=G<<7|G>>>32-7,G=oe+Re|0,ae^=G<<9|G>>>32-9,G=ae+oe|0,qe^=G<<13|G>>>32-13,G=qe+ae|0,Re^=G<<18|G>>>32-18,G=ge+pe|0,ve^=G<<7|G>>>32-7,G=ve+ge|0,ye^=G<<9|G>>>32-9,G=ye+ve|0,pe^=G<<13|G>>>32-13,G=pe+ye|0,ge^=G<<18|G>>>32-18,G=mt+bt|0,Xe^=G<<7|G>>>32-7,G=Xe+mt|0,yt^=G<<9|G>>>32-9,G=yt+Xe|0,bt^=G<<13|G>>>32-13,G=bt+yt|0,mt^=G<<18|G>>>32-18;x[0]=$e>>>0&255,x[1]=$e>>>8&255,x[2]=$e>>>16&255,x[3]=$e>>>24&255,x[4]=Re>>>0&255,x[5]=Re>>>8&255,x[6]=Re>>>16&255,x[7]=Re>>>24&255,x[8]=ge>>>0&255,x[9]=ge>>>8&255,x[10]=ge>>>16&255,x[11]=ge>>>24&255,x[12]=mt>>>0&255,x[13]=mt>>>8&255,x[14]=mt>>>16&255,x[15]=mt>>>24&255,x[16]=oe>>>0&255,x[17]=oe>>>8&255,x[18]=oe>>>16&255,x[19]=oe>>>24&255,x[20]=ae>>>0&255,x[21]=ae>>>8&255,x[22]=ae>>>16&255,x[23]=ae>>>24&255,x[24]=ye>>>0&255,x[25]=ye>>>8&255,x[26]=ye>>>16&255,x[27]=ye>>>24&255,x[28]=pe>>>0&255,x[29]=pe>>>8&255,x[30]=pe>>>16&255,x[31]=pe>>>24&255}function _(x,P,U,g){B(x,P,U,g)}function S(x,P,U,g){v(x,P,U,g)}var M=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function F(x,P,U,g,$,te,ee){var ue=new Uint8Array(16),_e=new Uint8Array(64),Te,be;for(be=0;be<16;be++)ue[be]=0;for(be=0;be<8;be++)ue[be]=te[be];for(;$>=64;){for(_(_e,ue,ee,M),be=0;be<64;be++)x[P+be]=U[g+be]^_e[be];for(Te=1,be=8;be<16;be++)Te=Te+(ue[be]&255)|0,ue[be]=Te&255,Te>>>=8;$-=64,P+=64,g+=64}if($>0)for(_(_e,ue,ee,M),be=0;be<$;be++)x[P+be]=U[g+be]^_e[be];return 0}function W(x,P,U,g,$){var te=new Uint8Array(16),ee=new Uint8Array(64),ue,_e;for(_e=0;_e<16;_e++)te[_e]=0;for(_e=0;_e<8;_e++)te[_e]=g[_e];for(;U>=64;){for(_(ee,te,$,M),_e=0;_e<64;_e++)x[P+_e]=ee[_e];for(ue=1,_e=8;_e<16;_e++)ue=ue+(te[_e]&255)|0,te[_e]=ue&255,ue>>>=8;U-=64,P+=64}if(U>0)for(_(ee,te,$,M),_e=0;_e<U;_e++)x[P+_e]=ee[_e];return 0}function Y(x,P,U,g,$){var te=new Uint8Array(32);S(te,g,$,M);for(var ee=new Uint8Array(8),ue=0;ue<8;ue++)ee[ue]=g[ue+16];return W(x,P,U,ee,te)}function J(x,P,U,g,$,te,ee){var ue=new Uint8Array(32);S(ue,te,ee,M);for(var _e=new Uint8Array(8),Te=0;Te<8;Te++)_e[Te]=te[Te+16];return F(x,P,U,g,$,_e,ue)}var q=function(x){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var P,U,g,$,te,ee,ue,_e;P=x[0]&255|(x[1]&255)<<8,this.r[0]=P&8191,U=x[2]&255|(x[3]&255)<<8,this.r[1]=(P>>>13|U<<3)&8191,g=x[4]&255|(x[5]&255)<<8,this.r[2]=(U>>>10|g<<6)&7939,$=x[6]&255|(x[7]&255)<<8,this.r[3]=(g>>>7|$<<9)&8191,te=x[8]&255|(x[9]&255)<<8,this.r[4]=($>>>4|te<<12)&255,this.r[5]=te>>>1&8190,ee=x[10]&255|(x[11]&255)<<8,this.r[6]=(te>>>14|ee<<2)&8191,ue=x[12]&255|(x[13]&255)<<8,this.r[7]=(ee>>>11|ue<<5)&8065,_e=x[14]&255|(x[15]&255)<<8,this.r[8]=(ue>>>8|_e<<8)&8191,this.r[9]=_e>>>5&127,this.pad[0]=x[16]&255|(x[17]&255)<<8,this.pad[1]=x[18]&255|(x[19]&255)<<8,this.pad[2]=x[20]&255|(x[21]&255)<<8,this.pad[3]=x[22]&255|(x[23]&255)<<8,this.pad[4]=x[24]&255|(x[25]&255)<<8,this.pad[5]=x[26]&255|(x[27]&255)<<8,this.pad[6]=x[28]&255|(x[29]&255)<<8,this.pad[7]=x[30]&255|(x[31]&255)<<8};q.prototype.blocks=function(x,P,U){for(var g=this.fin?0:2048,$,te,ee,ue,_e,Te,be,gt,Ie,Fe,Ge,Ye,st,Qe,tt,et,$e,He,Oe,Me=this.h[0],qe=this.h[1],Re=this.h[2],oe=this.h[3],ae=this.h[4],ye=this.h[5],pe=this.h[6],ge=this.h[7],ve=this.h[8],Xe=this.h[9],yt=this.r[0],bt=this.r[1],mt=this.r[2],G=this.r[3],Bt=this.r[4],jt=this.r[5],Wt=this.r[6],xt=this.r[7],Lt=this.r[8],Ht=this.r[9];U>=16;)$=x[P+0]&255|(x[P+1]&255)<<8,Me+=$&8191,te=x[P+2]&255|(x[P+3]&255)<<8,qe+=($>>>13|te<<3)&8191,ee=x[P+4]&255|(x[P+5]&255)<<8,Re+=(te>>>10|ee<<6)&8191,ue=x[P+6]&255|(x[P+7]&255)<<8,oe+=(ee>>>7|ue<<9)&8191,_e=x[P+8]&255|(x[P+9]&255)<<8,ae+=(ue>>>4|_e<<12)&8191,ye+=_e>>>1&8191,Te=x[P+10]&255|(x[P+11]&255)<<8,pe+=(_e>>>14|Te<<2)&8191,be=x[P+12]&255|(x[P+13]&255)<<8,ge+=(Te>>>11|be<<5)&8191,gt=x[P+14]&255|(x[P+15]&255)<<8,ve+=(be>>>8|gt<<8)&8191,Xe+=gt>>>5|g,Ie=0,Fe=Ie,Fe+=Me*yt,Fe+=qe*(5*Ht),Fe+=Re*(5*Lt),Fe+=oe*(5*xt),Fe+=ae*(5*Wt),Ie=Fe>>>13,Fe&=8191,Fe+=ye*(5*jt),Fe+=pe*(5*Bt),Fe+=ge*(5*G),Fe+=ve*(5*mt),Fe+=Xe*(5*bt),Ie+=Fe>>>13,Fe&=8191,Ge=Ie,Ge+=Me*bt,Ge+=qe*yt,Ge+=Re*(5*Ht),Ge+=oe*(5*Lt),Ge+=ae*(5*xt),Ie=Ge>>>13,Ge&=8191,Ge+=ye*(5*Wt),Ge+=pe*(5*jt),Ge+=ge*(5*Bt),Ge+=ve*(5*G),Ge+=Xe*(5*mt),Ie+=Ge>>>13,Ge&=8191,Ye=Ie,Ye+=Me*mt,Ye+=qe*bt,Ye+=Re*yt,Ye+=oe*(5*Ht),Ye+=ae*(5*Lt),Ie=Ye>>>13,Ye&=8191,Ye+=ye*(5*xt),Ye+=pe*(5*Wt),Ye+=ge*(5*jt),Ye+=ve*(5*Bt),Ye+=Xe*(5*G),Ie+=Ye>>>13,Ye&=8191,st=Ie,st+=Me*G,st+=qe*mt,st+=Re*bt,st+=oe*yt,st+=ae*(5*Ht),Ie=st>>>13,st&=8191,st+=ye*(5*Lt),st+=pe*(5*xt),st+=ge*(5*Wt),st+=ve*(5*jt),st+=Xe*(5*Bt),Ie+=st>>>13,st&=8191,Qe=Ie,Qe+=Me*Bt,Qe+=qe*G,Qe+=Re*mt,Qe+=oe*bt,Qe+=ae*yt,Ie=Qe>>>13,Qe&=8191,Qe+=ye*(5*Ht),Qe+=pe*(5*Lt),Qe+=ge*(5*xt),Qe+=ve*(5*Wt),Qe+=Xe*(5*jt),Ie+=Qe>>>13,Qe&=8191,tt=Ie,tt+=Me*jt,tt+=qe*Bt,tt+=Re*G,tt+=oe*mt,tt+=ae*bt,Ie=tt>>>13,tt&=8191,tt+=ye*yt,tt+=pe*(5*Ht),tt+=ge*(5*Lt),tt+=ve*(5*xt),tt+=Xe*(5*Wt),Ie+=tt>>>13,tt&=8191,et=Ie,et+=Me*Wt,et+=qe*jt,et+=Re*Bt,et+=oe*G,et+=ae*mt,Ie=et>>>13,et&=8191,et+=ye*bt,et+=pe*yt,et+=ge*(5*Ht),et+=ve*(5*Lt),et+=Xe*(5*xt),Ie+=et>>>13,et&=8191,$e=Ie,$e+=Me*xt,$e+=qe*Wt,$e+=Re*jt,$e+=oe*Bt,$e+=ae*G,Ie=$e>>>13,$e&=8191,$e+=ye*mt,$e+=pe*bt,$e+=ge*yt,$e+=ve*(5*Ht),$e+=Xe*(5*Lt),Ie+=$e>>>13,$e&=8191,He=Ie,He+=Me*Lt,He+=qe*xt,He+=Re*Wt,He+=oe*jt,He+=ae*Bt,Ie=He>>>13,He&=8191,He+=ye*G,He+=pe*mt,He+=ge*bt,He+=ve*yt,He+=Xe*(5*Ht),Ie+=He>>>13,He&=8191,Oe=Ie,Oe+=Me*Ht,Oe+=qe*Lt,Oe+=Re*xt,Oe+=oe*Wt,Oe+=ae*jt,Ie=Oe>>>13,Oe&=8191,Oe+=ye*Bt,Oe+=pe*G,Oe+=ge*mt,Oe+=ve*bt,Oe+=Xe*yt,Ie+=Oe>>>13,Oe&=8191,Ie=(Ie<<2)+Ie|0,Ie=Ie+Fe|0,Fe=Ie&8191,Ie=Ie>>>13,Ge+=Ie,Me=Fe,qe=Ge,Re=Ye,oe=st,ae=Qe,ye=tt,pe=et,ge=$e,ve=He,Xe=Oe,P+=16,U-=16;this.h[0]=Me,this.h[1]=qe,this.h[2]=Re,this.h[3]=oe,this.h[4]=ae,this.h[5]=ye,this.h[6]=pe,this.h[7]=ge,this.h[8]=ve,this.h[9]=Xe},q.prototype.finish=function(x,P){var U=new Uint16Array(10),g,$,te,ee;if(this.leftover){for(ee=this.leftover,this.buffer[ee++]=1;ee<16;ee++)this.buffer[ee]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(g=this.h[1]>>>13,this.h[1]&=8191,ee=2;ee<10;ee++)this.h[ee]+=g,g=this.h[ee]>>>13,this.h[ee]&=8191;for(this.h[0]+=g*5,g=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=g,g=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=g,U[0]=this.h[0]+5,g=U[0]>>>13,U[0]&=8191,ee=1;ee<10;ee++)U[ee]=this.h[ee]+g,g=U[ee]>>>13,U[ee]&=8191;for(U[9]-=1<<13,$=(g^1)-1,ee=0;ee<10;ee++)U[ee]&=$;for($=~$,ee=0;ee<10;ee++)this.h[ee]=this.h[ee]&$|U[ee];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,te=this.h[0]+this.pad[0],this.h[0]=te&65535,ee=1;ee<8;ee++)te=(this.h[ee]+this.pad[ee]|0)+(te>>>16)|0,this.h[ee]=te&65535;x[P+0]=this.h[0]>>>0&255,x[P+1]=this.h[0]>>>8&255,x[P+2]=this.h[1]>>>0&255,x[P+3]=this.h[1]>>>8&255,x[P+4]=this.h[2]>>>0&255,x[P+5]=this.h[2]>>>8&255,x[P+6]=this.h[3]>>>0&255,x[P+7]=this.h[3]>>>8&255,x[P+8]=this.h[4]>>>0&255,x[P+9]=this.h[4]>>>8&255,x[P+10]=this.h[5]>>>0&255,x[P+11]=this.h[5]>>>8&255,x[P+12]=this.h[6]>>>0&255,x[P+13]=this.h[6]>>>8&255,x[P+14]=this.h[7]>>>0&255,x[P+15]=this.h[7]>>>8&255},q.prototype.update=function(x,P,U){var g,$;if(this.leftover){for($=16-this.leftover,$>U&&($=U),g=0;g<$;g++)this.buffer[this.leftover+g]=x[P+g];if(U-=$,P+=$,this.leftover+=$,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(U>=16&&($=U-U%16,this.blocks(x,P,$),P+=$,U-=$),U){for(g=0;g<U;g++)this.buffer[this.leftover+g]=x[P+g];this.leftover+=U}};function L(x,P,U,g,$,te){var ee=new q(te);return ee.update(U,g,$),ee.finish(x,P),0}function E(x,P,U,g,$,te){var ee=new Uint8Array(16);return L(ee,0,U,g,$,te),k(x,P,ee,0)}function f(x,P,U,g,$){var te;if(U<32)return-1;for(J(x,0,P,0,U,g,$),L(x,16,x,32,U-32,x),te=0;te<16;te++)x[te]=0;return 0}function p(x,P,U,g,$){var te,ee=new Uint8Array(32);if(U<32||(Y(ee,0,32,g,$),E(P,16,P,32,U-32,ee)!==0))return-1;for(J(x,0,P,0,U,g,$),te=0;te<32;te++)x[te]=0;return 0}function w(x,P){var U;for(U=0;U<16;U++)x[U]=P[U]|0}function R(x){var P,U,g=1;for(P=0;P<16;P++)U=x[P]+g+65535,g=Math.floor(U/65536),x[P]=U-g*65536;x[0]+=g-1+37*(g-1)}function N(x,P,U){for(var g,$=~(U-1),te=0;te<16;te++)g=$&(x[te]^P[te]),x[te]^=g,P[te]^=g}function H(x,P){var U,g,$,te=n(),ee=n();for(U=0;U<16;U++)ee[U]=P[U];for(R(ee),R(ee),R(ee),g=0;g<2;g++){for(te[0]=ee[0]-65517,U=1;U<15;U++)te[U]=ee[U]-65535-(te[U-1]>>16&1),te[U-1]&=65535;te[15]=ee[15]-32767-(te[14]>>16&1),$=te[15]>>16&1,te[14]&=65535,N(ee,te,1-$)}for(U=0;U<16;U++)x[2*U]=ee[U]&255,x[2*U+1]=ee[U]>>8}function K(x,P){var U=new Uint8Array(32),g=new Uint8Array(32);return H(U,x),H(g,P),O(U,0,g,0)}function C(x){var P=new Uint8Array(32);return H(P,x),P[0]&1}function m(x,P){var U;for(U=0;U<16;U++)x[U]=P[2*U]+(P[2*U+1]<<8);x[15]&=32767}function D(x,P,U){for(var g=0;g<16;g++)x[g]=P[g]+U[g]}function we(x,P,U){for(var g=0;g<16;g++)x[g]=P[g]-U[g]}function A(x,P,U){var g,$,te=0,ee=0,ue=0,_e=0,Te=0,be=0,gt=0,Ie=0,Fe=0,Ge=0,Ye=0,st=0,Qe=0,tt=0,et=0,$e=0,He=0,Oe=0,Me=0,qe=0,Re=0,oe=0,ae=0,ye=0,pe=0,ge=0,ve=0,Xe=0,yt=0,bt=0,mt=0,G=U[0],Bt=U[1],jt=U[2],Wt=U[3],xt=U[4],Lt=U[5],Ht=U[6],xn=U[7],sn=U[8],mn=U[9],wn=U[10],_n=U[11],kn=U[12],Xn=U[13],Zn=U[14],Yn=U[15];g=P[0],te+=g*G,ee+=g*Bt,ue+=g*jt,_e+=g*Wt,Te+=g*xt,be+=g*Lt,gt+=g*Ht,Ie+=g*xn,Fe+=g*sn,Ge+=g*mn,Ye+=g*wn,st+=g*_n,Qe+=g*kn,tt+=g*Xn,et+=g*Zn,$e+=g*Yn,g=P[1],ee+=g*G,ue+=g*Bt,_e+=g*jt,Te+=g*Wt,be+=g*xt,gt+=g*Lt,Ie+=g*Ht,Fe+=g*xn,Ge+=g*sn,Ye+=g*mn,st+=g*wn,Qe+=g*_n,tt+=g*kn,et+=g*Xn,$e+=g*Zn,He+=g*Yn,g=P[2],ue+=g*G,_e+=g*Bt,Te+=g*jt,be+=g*Wt,gt+=g*xt,Ie+=g*Lt,Fe+=g*Ht,Ge+=g*xn,Ye+=g*sn,st+=g*mn,Qe+=g*wn,tt+=g*_n,et+=g*kn,$e+=g*Xn,He+=g*Zn,Oe+=g*Yn,g=P[3],_e+=g*G,Te+=g*Bt,be+=g*jt,gt+=g*Wt,Ie+=g*xt,Fe+=g*Lt,Ge+=g*Ht,Ye+=g*xn,st+=g*sn,Qe+=g*mn,tt+=g*wn,et+=g*_n,$e+=g*kn,He+=g*Xn,Oe+=g*Zn,Me+=g*Yn,g=P[4],Te+=g*G,be+=g*Bt,gt+=g*jt,Ie+=g*Wt,Fe+=g*xt,Ge+=g*Lt,Ye+=g*Ht,st+=g*xn,Qe+=g*sn,tt+=g*mn,et+=g*wn,$e+=g*_n,He+=g*kn,Oe+=g*Xn,Me+=g*Zn,qe+=g*Yn,g=P[5],be+=g*G,gt+=g*Bt,Ie+=g*jt,Fe+=g*Wt,Ge+=g*xt,Ye+=g*Lt,st+=g*Ht,Qe+=g*xn,tt+=g*sn,et+=g*mn,$e+=g*wn,He+=g*_n,Oe+=g*kn,Me+=g*Xn,qe+=g*Zn,Re+=g*Yn,g=P[6],gt+=g*G,Ie+=g*Bt,Fe+=g*jt,Ge+=g*Wt,Ye+=g*xt,st+=g*Lt,Qe+=g*Ht,tt+=g*xn,et+=g*sn,$e+=g*mn,He+=g*wn,Oe+=g*_n,Me+=g*kn,qe+=g*Xn,Re+=g*Zn,oe+=g*Yn,g=P[7],Ie+=g*G,Fe+=g*Bt,Ge+=g*jt,Ye+=g*Wt,st+=g*xt,Qe+=g*Lt,tt+=g*Ht,et+=g*xn,$e+=g*sn,He+=g*mn,Oe+=g*wn,Me+=g*_n,qe+=g*kn,Re+=g*Xn,oe+=g*Zn,ae+=g*Yn,g=P[8],Fe+=g*G,Ge+=g*Bt,Ye+=g*jt,st+=g*Wt,Qe+=g*xt,tt+=g*Lt,et+=g*Ht,$e+=g*xn,He+=g*sn,Oe+=g*mn,Me+=g*wn,qe+=g*_n,Re+=g*kn,oe+=g*Xn,ae+=g*Zn,ye+=g*Yn,g=P[9],Ge+=g*G,Ye+=g*Bt,st+=g*jt,Qe+=g*Wt,tt+=g*xt,et+=g*Lt,$e+=g*Ht,He+=g*xn,Oe+=g*sn,Me+=g*mn,qe+=g*wn,Re+=g*_n,oe+=g*kn,ae+=g*Xn,ye+=g*Zn,pe+=g*Yn,g=P[10],Ye+=g*G,st+=g*Bt,Qe+=g*jt,tt+=g*Wt,et+=g*xt,$e+=g*Lt,He+=g*Ht,Oe+=g*xn,Me+=g*sn,qe+=g*mn,Re+=g*wn,oe+=g*_n,ae+=g*kn,ye+=g*Xn,pe+=g*Zn,ge+=g*Yn,g=P[11],st+=g*G,Qe+=g*Bt,tt+=g*jt,et+=g*Wt,$e+=g*xt,He+=g*Lt,Oe+=g*Ht,Me+=g*xn,qe+=g*sn,Re+=g*mn,oe+=g*wn,ae+=g*_n,ye+=g*kn,pe+=g*Xn,ge+=g*Zn,ve+=g*Yn,g=P[12],Qe+=g*G,tt+=g*Bt,et+=g*jt,$e+=g*Wt,He+=g*xt,Oe+=g*Lt,Me+=g*Ht,qe+=g*xn,Re+=g*sn,oe+=g*mn,ae+=g*wn,ye+=g*_n,pe+=g*kn,ge+=g*Xn,ve+=g*Zn,Xe+=g*Yn,g=P[13],tt+=g*G,et+=g*Bt,$e+=g*jt,He+=g*Wt,Oe+=g*xt,Me+=g*Lt,qe+=g*Ht,Re+=g*xn,oe+=g*sn,ae+=g*mn,ye+=g*wn,pe+=g*_n,ge+=g*kn,ve+=g*Xn,Xe+=g*Zn,yt+=g*Yn,g=P[14],et+=g*G,$e+=g*Bt,He+=g*jt,Oe+=g*Wt,Me+=g*xt,qe+=g*Lt,Re+=g*Ht,oe+=g*xn,ae+=g*sn,ye+=g*mn,pe+=g*wn,ge+=g*_n,ve+=g*kn,Xe+=g*Xn,yt+=g*Zn,bt+=g*Yn,g=P[15],$e+=g*G,He+=g*Bt,Oe+=g*jt,Me+=g*Wt,qe+=g*xt,Re+=g*Lt,oe+=g*Ht,ae+=g*xn,ye+=g*sn,pe+=g*mn,ge+=g*wn,ve+=g*_n,Xe+=g*kn,yt+=g*Xn,bt+=g*Zn,mt+=g*Yn,te+=38*He,ee+=38*Oe,ue+=38*Me,_e+=38*qe,Te+=38*Re,be+=38*oe,gt+=38*ae,Ie+=38*ye,Fe+=38*pe,Ge+=38*ge,Ye+=38*ve,st+=38*Xe,Qe+=38*yt,tt+=38*bt,et+=38*mt,$=1,g=te+$+65535,$=Math.floor(g/65536),te=g-$*65536,g=ee+$+65535,$=Math.floor(g/65536),ee=g-$*65536,g=ue+$+65535,$=Math.floor(g/65536),ue=g-$*65536,g=_e+$+65535,$=Math.floor(g/65536),_e=g-$*65536,g=Te+$+65535,$=Math.floor(g/65536),Te=g-$*65536,g=be+$+65535,$=Math.floor(g/65536),be=g-$*65536,g=gt+$+65535,$=Math.floor(g/65536),gt=g-$*65536,g=Ie+$+65535,$=Math.floor(g/65536),Ie=g-$*65536,g=Fe+$+65535,$=Math.floor(g/65536),Fe=g-$*65536,g=Ge+$+65535,$=Math.floor(g/65536),Ge=g-$*65536,g=Ye+$+65535,$=Math.floor(g/65536),Ye=g-$*65536,g=st+$+65535,$=Math.floor(g/65536),st=g-$*65536,g=Qe+$+65535,$=Math.floor(g/65536),Qe=g-$*65536,g=tt+$+65535,$=Math.floor(g/65536),tt=g-$*65536,g=et+$+65535,$=Math.floor(g/65536),et=g-$*65536,g=$e+$+65535,$=Math.floor(g/65536),$e=g-$*65536,te+=$-1+37*($-1),$=1,g=te+$+65535,$=Math.floor(g/65536),te=g-$*65536,g=ee+$+65535,$=Math.floor(g/65536),ee=g-$*65536,g=ue+$+65535,$=Math.floor(g/65536),ue=g-$*65536,g=_e+$+65535,$=Math.floor(g/65536),_e=g-$*65536,g=Te+$+65535,$=Math.floor(g/65536),Te=g-$*65536,g=be+$+65535,$=Math.floor(g/65536),be=g-$*65536,g=gt+$+65535,$=Math.floor(g/65536),gt=g-$*65536,g=Ie+$+65535,$=Math.floor(g/65536),Ie=g-$*65536,g=Fe+$+65535,$=Math.floor(g/65536),Fe=g-$*65536,g=Ge+$+65535,$=Math.floor(g/65536),Ge=g-$*65536,g=Ye+$+65535,$=Math.floor(g/65536),Ye=g-$*65536,g=st+$+65535,$=Math.floor(g/65536),st=g-$*65536,g=Qe+$+65535,$=Math.floor(g/65536),Qe=g-$*65536,g=tt+$+65535,$=Math.floor(g/65536),tt=g-$*65536,g=et+$+65535,$=Math.floor(g/65536),et=g-$*65536,g=$e+$+65535,$=Math.floor(g/65536),$e=g-$*65536,te+=$-1+37*($-1),x[0]=te,x[1]=ee,x[2]=ue,x[3]=_e,x[4]=Te,x[5]=be,x[6]=gt,x[7]=Ie,x[8]=Fe,x[9]=Ge,x[10]=Ye,x[11]=st,x[12]=Qe,x[13]=tt,x[14]=et,x[15]=$e}function ne(x,P){A(x,P,P)}function fe(x,P){var U=n(),g;for(g=0;g<16;g++)U[g]=P[g];for(g=253;g>=0;g--)ne(U,U),g!==2&&g!==4&&A(U,U,P);for(g=0;g<16;g++)x[g]=U[g]}function V(x,P){var U=n(),g;for(g=0;g<16;g++)U[g]=P[g];for(g=250;g>=0;g--)ne(U,U),g!==1&&A(U,U,P);for(g=0;g<16;g++)x[g]=U[g]}function z(x,P,U){var g=new Uint8Array(32),$=new Float64Array(80),te,ee,ue=n(),_e=n(),Te=n(),be=n(),gt=n(),Ie=n();for(ee=0;ee<31;ee++)g[ee]=P[ee];for(g[31]=P[31]&127|64,g[0]&=248,m($,U),ee=0;ee<16;ee++)_e[ee]=$[ee],be[ee]=ue[ee]=Te[ee]=0;for(ue[0]=be[0]=1,ee=254;ee>=0;--ee)te=g[ee>>>3]>>>(ee&7)&1,N(ue,_e,te),N(Te,be,te),D(gt,ue,Te),we(ue,ue,Te),D(Te,_e,be),we(_e,_e,be),ne(be,gt),ne(Ie,ue),A(ue,Te,ue),A(Te,_e,gt),D(gt,ue,Te),we(ue,ue,Te),ne(_e,ue),we(Te,be,Ie),A(ue,Te,c),D(ue,ue,be),A(Te,Te,ue),A(ue,be,Ie),A(be,_e,$),ne(_e,gt),N(ue,_e,te),N(Te,be,te);for(ee=0;ee<16;ee++)$[ee+16]=ue[ee],$[ee+32]=Te[ee],$[ee+48]=_e[ee],$[ee+64]=be[ee];var Fe=$.subarray(32),Ge=$.subarray(16);return fe(Fe,Fe),A(Ge,Ge,Fe),H(x,Ge),0}function X(x,P){return z(x,P,s)}function Z(x,P){return r(P,32),X(x,P)}function Q(x,P,U){var g=new Uint8Array(32);return z(g,U,P),S(x,i,g,M)}var se=f,ie=p;function de(x,P,U,g,$,te){var ee=new Uint8Array(32);return Q(ee,$,te),se(x,P,U,g,ee)}function Pe(x,P,U,g,$,te){var ee=new Uint8Array(32);return Q(ee,$,te),ie(x,P,U,g,ee)}var Ee=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Se(x,P,U,g){for(var $=new Int32Array(16),te=new Int32Array(16),ee,ue,_e,Te,be,gt,Ie,Fe,Ge,Ye,st,Qe,tt,et,$e,He,Oe,Me,qe,Re,oe,ae,ye,pe,ge,ve,Xe=x[0],yt=x[1],bt=x[2],mt=x[3],G=x[4],Bt=x[5],jt=x[6],Wt=x[7],xt=P[0],Lt=P[1],Ht=P[2],xn=P[3],sn=P[4],mn=P[5],wn=P[6],_n=P[7],kn=0;g>=128;){for(qe=0;qe<16;qe++)Re=8*qe+kn,$[qe]=U[Re+0]<<24|U[Re+1]<<16|U[Re+2]<<8|U[Re+3],te[qe]=U[Re+4]<<24|U[Re+5]<<16|U[Re+6]<<8|U[Re+7];for(qe=0;qe<80;qe++)if(ee=Xe,ue=yt,_e=bt,Te=mt,be=G,gt=Bt,Ie=jt,Fe=Wt,Ge=xt,Ye=Lt,st=Ht,Qe=xn,tt=sn,et=mn,$e=wn,He=_n,oe=Wt,ae=_n,ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=(G>>>14|sn<<32-14)^(G>>>18|sn<<32-18)^(sn>>>41-32|G<<32-(41-32)),ae=(sn>>>14|G<<32-14)^(sn>>>18|G<<32-18)^(G>>>41-32|sn<<32-(41-32)),ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,oe=G&Bt^~G&jt,ae=sn&mn^~sn&wn,ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,oe=Ee[qe*2],ae=Ee[qe*2+1],ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,oe=$[qe%16],ae=te[qe%16],ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,Oe=ge&65535|ve<<16,Me=ye&65535|pe<<16,oe=Oe,ae=Me,ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=(Xe>>>28|xt<<32-28)^(xt>>>34-32|Xe<<32-(34-32))^(xt>>>39-32|Xe<<32-(39-32)),ae=(xt>>>28|Xe<<32-28)^(Xe>>>34-32|xt<<32-(34-32))^(Xe>>>39-32|xt<<32-(39-32)),ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,oe=Xe&yt^Xe&bt^yt&bt,ae=xt&Lt^xt&Ht^Lt&Ht,ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,Fe=ge&65535|ve<<16,He=ye&65535|pe<<16,oe=Te,ae=Qe,ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=Oe,ae=Me,ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,Te=ge&65535|ve<<16,Qe=ye&65535|pe<<16,yt=ee,bt=ue,mt=_e,G=Te,Bt=be,jt=gt,Wt=Ie,Xe=Fe,Lt=Ge,Ht=Ye,xn=st,sn=Qe,mn=tt,wn=et,_n=$e,xt=He,qe%16===15)for(Re=0;Re<16;Re++)oe=$[Re],ae=te[Re],ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=$[(Re+9)%16],ae=te[(Re+9)%16],ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,Oe=$[(Re+1)%16],Me=te[(Re+1)%16],oe=(Oe>>>1|Me<<32-1)^(Oe>>>8|Me<<32-8)^Oe>>>7,ae=(Me>>>1|Oe<<32-1)^(Me>>>8|Oe<<32-8)^(Me>>>7|Oe<<32-7),ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,Oe=$[(Re+14)%16],Me=te[(Re+14)%16],oe=(Oe>>>19|Me<<32-19)^(Me>>>61-32|Oe<<32-(61-32))^Oe>>>6,ae=(Me>>>19|Oe<<32-19)^(Oe>>>61-32|Me<<32-(61-32))^(Me>>>6|Oe<<32-6),ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,$[Re]=ge&65535|ve<<16,te[Re]=ye&65535|pe<<16;oe=Xe,ae=xt,ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=x[0],ae=P[0],ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[0]=Xe=ge&65535|ve<<16,P[0]=xt=ye&65535|pe<<16,oe=yt,ae=Lt,ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=x[1],ae=P[1],ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[1]=yt=ge&65535|ve<<16,P[1]=Lt=ye&65535|pe<<16,oe=bt,ae=Ht,ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=x[2],ae=P[2],ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[2]=bt=ge&65535|ve<<16,P[2]=Ht=ye&65535|pe<<16,oe=mt,ae=xn,ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=x[3],ae=P[3],ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[3]=mt=ge&65535|ve<<16,P[3]=xn=ye&65535|pe<<16,oe=G,ae=sn,ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=x[4],ae=P[4],ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[4]=G=ge&65535|ve<<16,P[4]=sn=ye&65535|pe<<16,oe=Bt,ae=mn,ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=x[5],ae=P[5],ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[5]=Bt=ge&65535|ve<<16,P[5]=mn=ye&65535|pe<<16,oe=jt,ae=wn,ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=x[6],ae=P[6],ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[6]=jt=ge&65535|ve<<16,P[6]=wn=ye&65535|pe<<16,oe=Wt,ae=_n,ye=ae&65535,pe=ae>>>16,ge=oe&65535,ve=oe>>>16,oe=x[7],ae=P[7],ye+=ae&65535,pe+=ae>>>16,ge+=oe&65535,ve+=oe>>>16,pe+=ye>>>16,ge+=pe>>>16,ve+=ge>>>16,x[7]=Wt=ge&65535|ve<<16,P[7]=_n=ye&65535|pe<<16,kn+=128,g-=128}return g}function De(x,P,U){var g=new Int32Array(8),$=new Int32Array(8),te=new Uint8Array(256),ee,ue=U;for(g[0]=1779033703,g[1]=3144134277,g[2]=1013904242,g[3]=2773480762,g[4]=1359893119,g[5]=2600822924,g[6]=528734635,g[7]=1541459225,$[0]=4089235720,$[1]=2227873595,$[2]=4271175723,$[3]=1595750129,$[4]=2917565137,$[5]=725511199,$[6]=4215389547,$[7]=327033209,Se(g,$,P,U),U%=128,ee=0;ee<U;ee++)te[ee]=P[ue-U+ee];for(te[U]=128,U=256-128*(U<112?1:0),te[U-9]=0,b(te,U-8,ue/536870912|0,ue<<3),Se(g,$,te,U),ee=0;ee<8;ee++)b(x,8*ee,g[ee],$[ee]);return 0}function ke(x,P){var U=n(),g=n(),$=n(),te=n(),ee=n(),ue=n(),_e=n(),Te=n(),be=n();we(U,x[1],x[0]),we(be,P[1],P[0]),A(U,U,be),D(g,x[0],x[1]),D(be,P[0],P[1]),A(g,g,be),A($,x[3],P[3]),A($,$,l),A(te,x[2],P[2]),D(te,te,te),we(ee,g,U),we(ue,te,$),D(_e,te,$),D(Te,g,U),A(x[0],ee,ue),A(x[1],Te,_e),A(x[2],_e,ue),A(x[3],ee,Te)}function Ce(x,P,U){var g;for(g=0;g<4;g++)N(x[g],P[g],U)}function Ke(x,P){var U=n(),g=n(),$=n();fe($,P[2]),A(U,P[0],$),A(g,P[1],$),H(x,g),x[31]^=C(U)<<7}function Ue(x,P,U){var g,$;for(w(x[0],o),w(x[1],a),w(x[2],a),w(x[3],o),$=255;$>=0;--$)g=U[$/8|0]>>($&7)&1,Ce(x,P,g),ke(P,x),ke(x,x),Ce(x,P,g)}function Be(x,P){var U=[n(),n(),n(),n()];w(U[0],d),w(U[1],h),w(U[2],a),A(U[3],d,h),Ue(x,U,P)}function ct(x,P,U){var g=new Uint8Array(64),$=[n(),n(),n(),n()],te;for(U||r(P,32),De(g,P,32),g[0]&=248,g[31]&=127,g[31]|=64,Be($,g),Ke(x,$),te=0;te<32;te++)P[te+32]=x[te];return 0}var ze=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function Ve(x,P){var U,g,$,te;for(g=63;g>=32;--g){for(U=0,$=g-32,te=g-12;$<te;++$)P[$]+=U-16*P[g]*ze[$-(g-32)],U=Math.floor((P[$]+128)/256),P[$]-=U*256;P[$]+=U,P[g]=0}for(U=0,$=0;$<32;$++)P[$]+=U-(P[31]>>4)*ze[$],U=P[$]>>8,P[$]&=255;for($=0;$<32;$++)P[$]-=U*ze[$];for(g=0;g<32;g++)P[g+1]+=P[g]>>8,x[g]=P[g]&255}function Zt(x){var P=new Float64Array(64),U;for(U=0;U<64;U++)P[U]=x[U];for(U=0;U<64;U++)x[U]=0;Ve(x,P)}function rt(x,P,U,g){var $=new Uint8Array(64),te=new Uint8Array(64),ee=new Uint8Array(64),ue,_e,Te=new Float64Array(64),be=[n(),n(),n(),n()];De($,g,32),$[0]&=248,$[31]&=127,$[31]|=64;var gt=U+64;for(ue=0;ue<U;ue++)x[64+ue]=P[ue];for(ue=0;ue<32;ue++)x[32+ue]=$[32+ue];for(De(ee,x.subarray(32),U+32),Zt(ee),Be(be,ee),Ke(x,be),ue=32;ue<64;ue++)x[ue]=g[ue];for(De(te,x,U+64),Zt(te),ue=0;ue<64;ue++)Te[ue]=0;for(ue=0;ue<32;ue++)Te[ue]=ee[ue];for(ue=0;ue<32;ue++)for(_e=0;_e<32;_e++)Te[ue+_e]+=te[ue]*$[_e];return Ve(x.subarray(32),Te),gt}function Ot(x,P){var U=n(),g=n(),$=n(),te=n(),ee=n(),ue=n(),_e=n();return w(x[2],a),m(x[1],P),ne($,x[1]),A(te,$,u),we($,$,x[2]),D(te,x[2],te),ne(ee,te),ne(ue,ee),A(_e,ue,ee),A(U,_e,$),A(U,U,te),V(U,U),A(U,U,$),A(U,U,te),A(U,U,te),A(x[0],U,te),ne(g,x[0]),A(g,g,te),K(g,$)&&A(x[0],x[0],y),ne(g,x[0]),A(g,g,te),K(g,$)?-1:(C(x[0])===P[31]>>7&&we(x[0],o,x[0]),A(x[3],x[0],x[1]),0)}function Nn(x,P,U,g){var $,te=new Uint8Array(32),ee=new Uint8Array(64),ue=[n(),n(),n(),n()],_e=[n(),n(),n(),n()];if(U<64||Ot(_e,g))return-1;for($=0;$<U;$++)x[$]=P[$];for($=0;$<32;$++)x[$+32]=g[$];if(De(ee,x,U),Zt(ee),Ue(ue,_e,ee),Be(_e,P.subarray(32)),ke(ue,_e),Ke(te,ue),U-=64,O(P,0,te,0)){for($=0;$<U;$++)x[$]=0;return-1}for($=0;$<U;$++)x[$]=P[$+64];return U}var Dt=32,zt=24,Kn=32,Mt=16,Pt=32,Rr=32,Vt=32,Kt=32,Gr=32,on=zt,an=Kn,pi=Mt,qt=64,Ft=32,lr=64,nn=32,rn=64;e.lowlevel={crypto_core_hsalsa20:S,crypto_stream_xor:J,crypto_stream:Y,crypto_stream_salsa20_xor:F,crypto_stream_salsa20:W,crypto_onetimeauth:L,crypto_onetimeauth_verify:E,crypto_verify_16:k,crypto_verify_32:O,crypto_secretbox:f,crypto_secretbox_open:p,crypto_scalarmult:z,crypto_scalarmult_base:X,crypto_box_beforenm:Q,crypto_box_afternm:se,crypto_box:de,crypto_box_open:Pe,crypto_box_keypair:Z,crypto_hash:De,crypto_sign:rt,crypto_sign_keypair:ct,crypto_sign_open:Nn,crypto_secretbox_KEYBYTES:Dt,crypto_secretbox_NONCEBYTES:zt,crypto_secretbox_ZEROBYTES:Kn,crypto_secretbox_BOXZEROBYTES:Mt,crypto_scalarmult_BYTES:Pt,crypto_scalarmult_SCALARBYTES:Rr,crypto_box_PUBLICKEYBYTES:Vt,crypto_box_SECRETKEYBYTES:Kt,crypto_box_BEFORENMBYTES:Gr,crypto_box_NONCEBYTES:on,crypto_box_ZEROBYTES:an,crypto_box_BOXZEROBYTES:pi,crypto_sign_BYTES:qt,crypto_sign_PUBLICKEYBYTES:Ft,crypto_sign_SECRETKEYBYTES:lr,crypto_sign_SEEDBYTES:nn,crypto_hash_BYTES:rn,gf:n,D:u,L:ze,pack25519:H,unpack25519:m,M:A,A:D,S:ne,Z:we,pow2523:V,add:ke,set25519:w,modL:Ve,scalarmult:Ue,scalarbase:Be};function ri(x,P){if(x.length!==Dt)throw new Error("bad key size");if(P.length!==zt)throw new Error("bad nonce size")}function cn(x,P){if(x.length!==Vt)throw new Error("bad public key size");if(P.length!==Kt)throw new Error("bad secret key size")}function kt(){for(var x=0;x<arguments.length;x++)if(!(arguments[x]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function ii(x){for(var P=0;P<x.length;P++)x[P]=0}e.randomBytes=function(x){var P=new Uint8Array(x);return r(P,x),P},e.secretbox=function(x,P,U){kt(x,P,U),ri(U,P);for(var g=new Uint8Array(Kn+x.length),$=new Uint8Array(g.length),te=0;te<x.length;te++)g[te+Kn]=x[te];return f($,g,g.length,P,U),$.subarray(Mt)},e.secretbox.open=function(x,P,U){kt(x,P,U),ri(U,P);for(var g=new Uint8Array(Mt+x.length),$=new Uint8Array(g.length),te=0;te<x.length;te++)g[te+Mt]=x[te];return g.length<32||p($,g,g.length,P,U)!==0?null:$.subarray(Kn)},e.secretbox.keyLength=Dt,e.secretbox.nonceLength=zt,e.secretbox.overheadLength=Mt,e.scalarMult=function(x,P){if(kt(x,P),x.length!==Rr)throw new Error("bad n size");if(P.length!==Pt)throw new Error("bad p size");var U=new Uint8Array(Pt);return z(U,x,P),U},e.scalarMult.base=function(x){if(kt(x),x.length!==Rr)throw new Error("bad n size");var P=new Uint8Array(Pt);return X(P,x),P},e.scalarMult.scalarLength=Rr,e.scalarMult.groupElementLength=Pt,e.box=function(x,P,U,g){var $=e.box.before(U,g);return e.secretbox(x,P,$)},e.box.before=function(x,P){kt(x,P),cn(x,P);var U=new Uint8Array(Gr);return Q(U,x,P),U},e.box.after=e.secretbox,e.box.open=function(x,P,U,g){var $=e.box.before(U,g);return e.secretbox.open(x,P,$)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var x=new Uint8Array(Vt),P=new Uint8Array(Kt);return Z(x,P),{publicKey:x,secretKey:P}},e.box.keyPair.fromSecretKey=function(x){if(kt(x),x.length!==Kt)throw new Error("bad secret key size");var P=new Uint8Array(Vt);return X(P,x),{publicKey:P,secretKey:new Uint8Array(x)}},e.box.publicKeyLength=Vt,e.box.secretKeyLength=Kt,e.box.sharedKeyLength=Gr,e.box.nonceLength=on,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(x,P){if(kt(x,P),P.length!==lr)throw new Error("bad secret key size");var U=new Uint8Array(qt+x.length);return rt(U,x,x.length,P),U},e.sign.open=function(x,P){if(kt(x,P),P.length!==Ft)throw new Error("bad public key size");var U=new Uint8Array(x.length),g=Nn(U,x,x.length,P);if(g<0)return null;for(var $=new Uint8Array(g),te=0;te<$.length;te++)$[te]=U[te];return $},e.sign.detached=function(x,P){for(var U=e.sign(x,P),g=new Uint8Array(qt),$=0;$<g.length;$++)g[$]=U[$];return g},e.sign.detached.verify=function(x,P,U){if(kt(x,P,U),P.length!==qt)throw new Error("bad signature size");if(U.length!==Ft)throw new Error("bad public key size");var g=new Uint8Array(qt+x.length),$=new Uint8Array(qt+x.length),te;for(te=0;te<qt;te++)g[te]=P[te];for(te=0;te<x.length;te++)g[te+qt]=x[te];return Nn($,g,g.length,U)>=0},e.sign.keyPair=function(){var x=new Uint8Array(Ft),P=new Uint8Array(lr);return ct(x,P),{publicKey:x,secretKey:P}},e.sign.keyPair.fromSecretKey=function(x){if(kt(x),x.length!==lr)throw new Error("bad secret key size");for(var P=new Uint8Array(Ft),U=0;U<P.length;U++)P[U]=x[32+U];return{publicKey:P,secretKey:new Uint8Array(x)}},e.sign.keyPair.fromSeed=function(x){if(kt(x),x.length!==nn)throw new Error("bad seed size");for(var P=new Uint8Array(Ft),U=new Uint8Array(lr),g=0;g<32;g++)U[g]=x[g];return ct(P,U,!0),{publicKey:P,secretKey:U}},e.sign.publicKeyLength=Ft,e.sign.secretKeyLength=lr,e.sign.seedLength=nn,e.sign.signatureLength=qt,e.hash=function(x){kt(x);var P=new Uint8Array(rn);return De(P,x,x.length),P},e.hash.hashLength=rn,e.verify=function(x,P){return kt(x,P),x.length===0||P.length===0||x.length!==P.length?!1:T(x,0,P,0,x.length)===0},e.setPRNG=function(x){r=x},function(){var x=typeof self<"u"?self.crypto||self.msCrypto:null;if(x&&x.getRandomValues){var P=65536;e.setPRNG(function(U,g){var $,te=new Uint8Array(g);for($=0;$<g;$+=P)x.getRandomValues(te.subarray($,$+Math.min(g-$,P)));for($=0;$<g;$++)U[$]=te[$];ii(te)})}else typeof Yg<"u"&&(x=Qf,x&&x.randomBytes&&e.setPRNG(function(U,g){var $,te=x.randomBytes(g);for($=0;$<g;$++)U[$]=te[$];ii(te)}))}()})(t.exports?t.exports:self.nacl=self.nacl||{})})(c2);var _r={},$n={};Object.defineProperty($n,"__esModule",{value:!0});$n.output=$n.exists=$n.hash=$n.bytes=$n.bool=$n.number=void 0;function _u(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}$n.number=_u;function Qg(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}$n.bool=Qg;function e0(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}$n.bytes=e0;function ey(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_u(t.outputLen),_u(t.blockLen)}$n.hash=ey;function ty(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}$n.exists=ty;function ny(t,e){e0(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}$n.output=ny;const l2={number:_u,bool:Qg,bytes:e0,hash:ey,exists:ty,output:ny};$n.default=l2;var Po={},ry={},$s={},nl={};Object.defineProperty(nl,"__esModule",{value:!0});nl.crypto=void 0;nl.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=nl,n=_=>new Uint8Array(_.buffer,_.byteOffset,_.byteLength);t.u8=n;const r=_=>new Uint32Array(_.buffer,_.byteOffset,Math.floor(_.byteLength/4));t.u32=r;const i=_=>new DataView(_.buffer,_.byteOffset,_.byteLength);t.createView=i;const s=(_,S)=>_<<32-S|_>>>S;if(t.rotr=s,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(_,S)=>S.toString(16).padStart(2,"0"));function a(_){if(!(_ instanceof Uint8Array))throw new Error("Uint8Array expected");let S="";for(let M=0;M<_.length;M++)S+=o[_[M]];return S}t.bytesToHex=a;function c(_){if(typeof _!="string")throw new TypeError("hexToBytes: expected string, got "+typeof _);if(_.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const S=new Uint8Array(_.length/2);for(let M=0;M<S.length;M++){const F=M*2,W=_.slice(F,F+2),Y=Number.parseInt(W,16);if(Number.isNaN(Y)||Y<0)throw new Error("Invalid byte sequence");S[M]=Y}return S}t.hexToBytes=c;const u=async()=>{};t.nextTick=u;async function l(_,S,M){let F=Date.now();for(let W=0;W<_;W++){M(W);const Y=Date.now()-F;Y>=0&&Y<S||(await(0,t.nextTick)(),F+=Y)}}t.asyncLoop=l;function d(_){if(typeof _!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof _}`);return new TextEncoder().encode(_)}t.utf8ToBytes=d;function h(_){if(typeof _=="string"&&(_=d(_)),!(_ instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof _})`);return _}t.toBytes=h;function y(..._){if(!_.every(F=>F instanceof Uint8Array))throw new Error("Uint8Array list expected");if(_.length===1)return _[0];const S=_.reduce((F,W)=>F+W.length,0),M=new Uint8Array(S);for(let F=0,W=0;F<_.length;F++){const Y=_[F];M.set(Y,W),W+=Y.length}return M}t.concatBytes=y;class b{clone(){return this._cloneInto()}}t.Hash=b;const T=_=>Object.prototype.toString.call(_)==="[object Object]"&&_.constructor===Object;function k(_,S){if(S!==void 0&&(typeof S!="object"||!T(S)))throw new TypeError("Options should be object or undefined");return Object.assign(_,S)}t.checkOpts=k;function O(_){const S=F=>_().update(h(F)).digest(),M=_();return S.outputLen=M.outputLen,S.blockLen=M.blockLen,S.create=()=>_(),S}t.wrapConstructor=O;function B(_){const S=(F,W)=>_(W).update(h(F)).digest(),M=_({});return S.outputLen=M.outputLen,S.blockLen=M.blockLen,S.create=F=>_(F),S}t.wrapConstructorWithOpts=B;function v(_=32){if(e.crypto.web)return e.crypto.web.getRandomValues(new Uint8Array(_));if(e.crypto.node)return new Uint8Array(e.crypto.node.randomBytes(_).buffer);throw new Error("The environment doesn't have randomBytes function")}t.randomBytes=v})($s);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const e=$n,n=$s;class r extends n.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,e.default.hash(o);const c=(0,n.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let d=0;d<l.length;d++)l[d]^=54;this.iHash.update(l),this.oHash=o.create();for(let d=0;d<l.length;d++)l[d]^=106;this.oHash.update(l),l.fill(0)}update(o){return e.default.exists(this),this.iHash.update(o),this}digestInto(o){e.default.exists(this),e.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:d,outputLen:h}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=d,o.outputLen=h,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i=(s,o,a)=>new r(s,o).update(a).digest();t.hmac=i,t.hmac.create=(s,o)=>new r(s,o)})(ry);Object.defineProperty(Po,"__esModule",{value:!0});Po.pbkdf2Async=Po.pbkdf2=void 0;const Bc=$n,d2=ry,_o=$s;function iy(t,e,n,r){Bc.default.hash(t);const i=(0,_o.checkOpts)({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Bc.default.number(s),Bc.default.number(o),Bc.default.number(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,_o.toBytes)(e),u=(0,_o.toBytes)(n),l=new Uint8Array(o),d=d2.hmac.create(t,c),h=d._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:d,PRFSalt:h}}function sy(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function f2(t,e,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=iy(t,e,n,r);let u;const l=new Uint8Array(4),d=(0,_o.createView)(l),h=new Uint8Array(a.outputLen);for(let y=1,b=0;b<s;y++,b+=a.outputLen){const T=o.subarray(b,b+a.outputLen);d.setInt32(0,y,!1),(u=c._cloneInto(u)).update(l).digestInto(h),T.set(h.subarray(0,T.length));for(let k=1;k<i;k++){a._cloneInto(u).update(h).digestInto(h);for(let O=0;O<T.length;O++)T[O]^=h[O]}}return sy(a,c,o,u,h)}Po.pbkdf2=f2;async function h2(t,e,n,r){const{c:i,dkLen:s,asyncTick:o,DK:a,PRF:c,PRFSalt:u}=iy(t,e,n,r);let l;const d=new Uint8Array(4),h=(0,_o.createView)(d),y=new Uint8Array(c.outputLen);for(let b=1,T=0;T<s;b++,T+=c.outputLen){const k=a.subarray(T,T+c.outputLen);h.setInt32(0,b,!1),(l=u._cloneInto(l)).update(d).digestInto(y),k.set(y.subarray(0,k.length)),await(0,_o.asyncLoop)(i-1,o,O=>{c._cloneInto(l).update(y).digestInto(y);for(let B=0;B<k.length;B++)k[B]^=y[B]})}return sy(c,u,a,l,y)}Po.pbkdf2Async=h2;var Uo={},ec={};Object.defineProperty(ec,"__esModule",{value:!0});ec.SHA2=void 0;const wd=$n,ba=$s;function p2(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let g2=class extends ba.Hash{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,ba.createView)(this.buffer)}update(e){wd.default.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=(0,ba.toBytes)(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=(0,ba.createView)(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){wd.default.exists(this),wd.default.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;p2(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=(0,ba.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};ec.SHA2=g2;Object.defineProperty(Uo,"__esModule",{value:!0});Uo.sha224=Uo.sha256=void 0;const y2=ec,Or=$s,m2=(t,e,n)=>t&e^~t&n,w2=(t,e,n)=>t&e^t&n^e&n,_2=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ei=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ki=new Uint32Array(64);let oy=class extends y2.SHA2{constructor(){super(64,32,8,!1),this.A=Ei[0]|0,this.B=Ei[1]|0,this.C=Ei[2]|0,this.D=Ei[3]|0,this.E=Ei[4]|0,this.F=Ei[5]|0,this.G=Ei[6]|0,this.H=Ei[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ki[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ki[d-15],y=ki[d-2],b=(0,Or.rotr)(h,7)^(0,Or.rotr)(h,18)^h>>>3,T=(0,Or.rotr)(y,17)^(0,Or.rotr)(y,19)^y>>>10;ki[d]=T+ki[d-7]+b+ki[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const h=(0,Or.rotr)(a,6)^(0,Or.rotr)(a,11)^(0,Or.rotr)(a,25),y=l+h+m2(a,c,u)+_2[d]+ki[d]|0,T=((0,Or.rotr)(r,2)^(0,Or.rotr)(r,13)^(0,Or.rotr)(r,22))+w2(r,i,s)|0;l=u,u=c,c=a,a=o+y|0,o=s,s=i,i=r,r=y+T|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){ki.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},b2=class extends oy{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Uo.sha256=(0,Or.wrapConstructor)(()=>new oy);Uo.sha224=(0,Or.wrapConstructor)(()=>new b2);var Hr={},ay={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const e=BigInt(2**32-1),n=BigInt(32);function r(J,q=!1){return q?{h:Number(J&e),l:Number(J>>n&e)}:{h:Number(J>>n&e)|0,l:Number(J&e)|0}}t.fromBig=r;function i(J,q=!1){let L=new Uint32Array(J.length),E=new Uint32Array(J.length);for(let f=0;f<J.length;f++){const{h:p,l:w}=r(J[f],q);[L[f],E[f]]=[p,w]}return[L,E]}t.split=i;const s=(J,q)=>BigInt(J>>>0)<<n|BigInt(q>>>0);t.toBig=s;const o=(J,q,L)=>J>>>L,a=(J,q,L)=>J<<32-L|q>>>L,c=(J,q,L)=>J>>>L|q<<32-L,u=(J,q,L)=>J<<32-L|q>>>L,l=(J,q,L)=>J<<64-L|q>>>L-32,d=(J,q,L)=>J>>>L-32|q<<64-L,h=(J,q)=>q,y=(J,q)=>J,b=(J,q,L)=>J<<L|q>>>32-L,T=(J,q,L)=>q<<L|J>>>32-L,k=(J,q,L)=>q<<L-32|J>>>64-L,O=(J,q,L)=>J<<L-32|q>>>64-L;function B(J,q,L,E){const f=(q>>>0)+(E>>>0);return{h:J+L+(f/2**32|0)|0,l:f|0}}t.add=B;const v=(J,q,L)=>(J>>>0)+(q>>>0)+(L>>>0),_=(J,q,L,E)=>q+L+E+(J/2**32|0)|0,S=(J,q,L,E)=>(J>>>0)+(q>>>0)+(L>>>0)+(E>>>0),M=(J,q,L,E,f)=>q+L+E+f+(J/2**32|0)|0,F=(J,q,L,E,f)=>(J>>>0)+(q>>>0)+(L>>>0)+(E>>>0)+(f>>>0),W=(J,q,L,E,f,p)=>q+L+E+f+p+(J/2**32|0)|0,Y={fromBig:r,split:i,toBig:t.toBig,shrSH:o,shrSL:a,rotrSH:c,rotrSL:u,rotrBH:l,rotrBL:d,rotr32H:h,rotr32L:y,rotlSH:b,rotlSL:T,rotlBH:k,rotlBL:O,add:B,add3L:v,add3H:_,add4L:S,add4H:M,add5H:W,add5L:F};t.default=Y})(ay);Object.defineProperty(Hr,"__esModule",{value:!0});Hr.sha384=Hr.sha512_256=Hr.sha512_224=Hr.sha512=Hr.SHA512=void 0;const v2=ec,St=ay,rl=$s,[x2,S2]=St.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Bi=new Uint32Array(80),Ri=new Uint32Array(80);let tc=class extends v2.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:y,Gl:b,Hh:T,Hl:k}=this;return[e,n,r,i,s,o,a,c,u,l,d,h,y,b,T,k]}set(e,n,r,i,s,o,a,c,u,l,d,h,y,b,T,k){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=y|0,this.Gl=b|0,this.Hh=T|0,this.Hl=k|0}process(e,n){for(let v=0;v<16;v++,n+=4)Bi[v]=e.getUint32(n),Ri[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const _=Bi[v-15]|0,S=Ri[v-15]|0,M=St.default.rotrSH(_,S,1)^St.default.rotrSH(_,S,8)^St.default.shrSH(_,S,7),F=St.default.rotrSL(_,S,1)^St.default.rotrSL(_,S,8)^St.default.shrSL(_,S,7),W=Bi[v-2]|0,Y=Ri[v-2]|0,J=St.default.rotrSH(W,Y,19)^St.default.rotrBH(W,Y,61)^St.default.shrSH(W,Y,6),q=St.default.rotrSL(W,Y,19)^St.default.rotrBL(W,Y,61)^St.default.shrSL(W,Y,6),L=St.default.add4L(F,q,Ri[v-7],Ri[v-16]),E=St.default.add4H(L,M,J,Bi[v-7],Bi[v-16]);Bi[v]=E|0,Ri[v]=L|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:y,Fl:b,Gh:T,Gl:k,Hh:O,Hl:B}=this;for(let v=0;v<80;v++){const _=St.default.rotrSH(d,h,14)^St.default.rotrSH(d,h,18)^St.default.rotrBH(d,h,41),S=St.default.rotrSL(d,h,14)^St.default.rotrSL(d,h,18)^St.default.rotrBL(d,h,41),M=d&y^~d&T,F=h&b^~h&k,W=St.default.add5L(B,S,F,S2[v],Ri[v]),Y=St.default.add5H(W,O,_,M,x2[v],Bi[v]),J=W|0,q=St.default.rotrSH(r,i,28)^St.default.rotrBH(r,i,34)^St.default.rotrBH(r,i,39),L=St.default.rotrSL(r,i,28)^St.default.rotrBL(r,i,34)^St.default.rotrBL(r,i,39),E=r&s^r&a^s&a,f=i&o^i&c^o&c;O=T|0,B=k|0,T=y|0,k=b|0,y=d|0,b=h|0,{h:d,l:h}=St.default.add(u|0,l|0,Y|0,J|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const p=St.default.add3L(J,L,f);r=St.default.add3H(p,Y,q,E),i=p|0}({h:r,l:i}=St.default.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=St.default.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=St.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=St.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=St.default.add(this.Eh|0,this.El|0,d|0,h|0),{h:y,l:b}=St.default.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:T,l:k}=St.default.add(this.Gh|0,this.Gl|0,T|0,k|0),{h:O,l:B}=St.default.add(this.Hh|0,this.Hl|0,O|0,B|0),this.set(r,i,s,o,a,c,u,l,d,h,y,b,T,k,O,B)}roundClean(){Bi.fill(0),Ri.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};Hr.SHA512=tc;let T2=class extends tc{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},A2=class extends tc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},E2=class extends tc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};Hr.sha512=(0,rl.wrapConstructor)(()=>new tc);Hr.sha512_224=(0,rl.wrapConstructor)(()=>new T2);Hr.sha512_256=(0,rl.wrapConstructor)(()=>new A2);Hr.sha384=(0,rl.wrapConstructor)(()=>new E2);var nc={};(function(t){/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.bytes=t.stringToBytes=t.str=t.bytesToString=t.hex=t.utf8=t.bech32m=t.bech32=t.base58check=t.base58xmr=t.base58xrp=t.base58flickr=t.base58=t.base64url=t.base64=t.base32crockford=t.base32hex=t.base32=t.base16=t.utils=t.assertNumber=void 0;function e(q){if(!Number.isSafeInteger(q))throw new Error(`Wrong integer: ${q}`)}t.assertNumber=e;function n(...q){const L=(p,w)=>R=>p(w(R)),E=Array.from(q).reverse().reduce((p,w)=>p?L(p,w.encode):w.encode,void 0),f=q.reduce((p,w)=>p?L(p,w.decode):w.decode,void 0);return{encode:E,decode:f}}function r(q){return{encode:L=>{if(!Array.isArray(L)||L.length&&typeof L[0]!="number")throw new Error("alphabet.encode input should be an array of numbers");return L.map(E=>{if(e(E),E<0||E>=q.length)throw new Error(`Digit index outside alphabet: ${E} (alphabet: ${q.length})`);return q[E]})},decode:L=>{if(!Array.isArray(L)||L.length&&typeof L[0]!="string")throw new Error("alphabet.decode input should be array of strings");return L.map(E=>{if(typeof E!="string")throw new Error(`alphabet.decode: not string element=${E}`);const f=q.indexOf(E);if(f===-1)throw new Error(`Unknown letter: "${E}". Allowed: ${q}`);return f})}}}function i(q=""){if(typeof q!="string")throw new Error("join separator should be string");return{encode:L=>{if(!Array.isArray(L)||L.length&&typeof L[0]!="string")throw new Error("join.encode input should be array of strings");for(let E of L)if(typeof E!="string")throw new Error(`join.encode: non-string input=${E}`);return L.join(q)},decode:L=>{if(typeof L!="string")throw new Error("join.decode input should be string");return L.split(q)}}}function s(q,L="="){if(e(q),typeof L!="string")throw new Error("padding chr should be string");return{encode(E){if(!Array.isArray(E)||E.length&&typeof E[0]!="string")throw new Error("padding.encode input should be array of strings");for(let f of E)if(typeof f!="string")throw new Error(`padding.encode: non-string input=${f}`);for(;E.length*q%8;)E.push(L);return E},decode(E){if(!Array.isArray(E)||E.length&&typeof E[0]!="string")throw new Error("padding.encode input should be array of strings");for(let p of E)if(typeof p!="string")throw new Error(`padding.decode: non-string input=${p}`);let f=E.length;if(f*q%8)throw new Error("Invalid padding: string should have whole number of bytes");for(;f>0&&E[f-1]===L;f--)if(!((f-1)*q%8))throw new Error("Invalid padding: string has too much padding");return E.slice(0,f)}}}function o(q){if(typeof q!="function")throw new Error("normalize fn should be function");return{encode:L=>L,decode:L=>q(L)}}function a(q,L,E){if(L<2)throw new Error(`convertRadix: wrong from=${L}, base cannot be less than 2`);if(E<2)throw new Error(`convertRadix: wrong to=${E}, base cannot be less than 2`);if(!Array.isArray(q))throw new Error("convertRadix: data should be array");if(!q.length)return[];let f=0;const p=[],w=Array.from(q);for(w.forEach(R=>{if(e(R),R<0||R>=L)throw new Error(`Wrong integer: ${R}`)});;){let R=0,N=!0;for(let H=f;H<w.length;H++){const K=w[H],C=L*R+K;if(!Number.isSafeInteger(C)||L*R/L!==R||C-K!==L*R)throw new Error("convertRadix: carry overflow");if(R=C%E,w[H]=Math.floor(C/E),!Number.isSafeInteger(w[H])||w[H]*E+R!==C)throw new Error("convertRadix: carry overflow");if(N)w[H]?N=!1:f=H;else continue}if(p.push(R),N)break}for(let R=0;R<q.length-1&&q[R]===0;R++)p.push(0);return p.reverse()}const c=(q,L)=>L?c(L,q%L):q,u=(q,L)=>q+(L-c(q,L));function l(q,L,E,f){if(!Array.isArray(q))throw new Error("convertRadix2: data should be array");if(L<=0||L>32)throw new Error(`convertRadix2: wrong from=${L}`);if(E<=0||E>32)throw new Error(`convertRadix2: wrong to=${E}`);if(u(L,E)>32)throw new Error(`convertRadix2: carry overflow from=${L} to=${E} carryBits=${u(L,E)}`);let p=0,w=0;const R=2**E-1,N=[];for(const H of q){if(e(H),H>=2**L)throw new Error(`convertRadix2: invalid data word=${H} from=${L}`);if(p=p<<L|H,w+L>32)throw new Error(`convertRadix2: carry overflow pos=${w} from=${L}`);for(w+=L;w>=E;w-=E)N.push((p>>w-E&R)>>>0);p&=2**w-1}if(p=p<<E-w&R,!f&&w>=L)throw new Error("Excess padding");if(!f&&p)throw new Error(`Non-zero padding: ${p}`);return f&&w>0&&N.push(p>>>0),N}function d(q){return e(q),{encode:L=>{if(!(L instanceof Uint8Array))throw new Error("radix.encode input should be Uint8Array");return a(Array.from(L),2**8,q)},decode:L=>{if(!Array.isArray(L)||L.length&&typeof L[0]!="number")throw new Error("radix.decode input should be array of strings");return Uint8Array.from(a(L,q,2**8))}}}function h(q,L=!1){if(e(q),q<=0||q>32)throw new Error("radix2: bits should be in (0..32]");if(u(8,q)>32||u(q,8)>32)throw new Error("radix2: carry overflow");return{encode:E=>{if(!(E instanceof Uint8Array))throw new Error("radix2.encode input should be Uint8Array");return l(Array.from(E),8,q,!L)},decode:E=>{if(!Array.isArray(E)||E.length&&typeof E[0]!="number")throw new Error("radix2.decode input should be array of strings");return Uint8Array.from(l(E,q,8,L))}}}function y(q){if(typeof q!="function")throw new Error("unsafeWrapper fn should be function");return function(...L){try{return q.apply(null,L)}catch{}}}function b(q,L){if(e(q),typeof L!="function")throw new Error("checksum fn should be function");return{encode(E){if(!(E instanceof Uint8Array))throw new Error("checksum.encode: input should be Uint8Array");const f=L(E).slice(0,q),p=new Uint8Array(E.length+q);return p.set(E),p.set(f,E.length),p},decode(E){if(!(E instanceof Uint8Array))throw new Error("checksum.decode: input should be Uint8Array");const f=E.slice(0,-q),p=L(f).slice(0,q),w=E.slice(-q);for(let R=0;R<q;R++)if(p[R]!==w[R])throw new Error("Invalid checksum");return f}}}t.utils={alphabet:r,chain:n,checksum:b,radix:d,radix2:h,join:i,padding:s},t.base16=n(h(4),r("0123456789ABCDEF"),i("")),t.base32=n(h(5),r("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),s(5),i("")),t.base32hex=n(h(5),r("0123456789ABCDEFGHIJKLMNOPQRSTUV"),s(5),i("")),t.base32crockford=n(h(5),r("0123456789ABCDEFGHJKMNPQRSTVWXYZ"),i(""),o(q=>q.toUpperCase().replace(/O/g,"0").replace(/[IL]/g,"1"))),t.base64=n(h(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),s(6),i("")),t.base64url=n(h(6),r("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"),s(6),i(""));const T=q=>n(d(58),r(q),i(""));t.base58=T("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),t.base58flickr=T("123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"),t.base58xrp=T("rpshnaf39wBUDNEGHJKLM4PQRST7VWXYZ2bcdeCg65jkm8oFqi1tuvAxyz");const k=[0,2,3,5,6,7,9,10,11];t.base58xmr={encode(q){let L="";for(let E=0;E<q.length;E+=8){const f=q.subarray(E,E+8);L+=t.base58.encode(f).padStart(k[f.length],"1")}return L},decode(q){let L=[];for(let E=0;E<q.length;E+=11){const f=q.slice(E,E+11),p=k.indexOf(f.length),w=t.base58.decode(f);for(let R=0;R<w.length-p;R++)if(w[R]!==0)throw new Error("base58xmr: wrong padding");L=L.concat(Array.from(w.slice(w.length-p)))}return Uint8Array.from(L)}};const O=q=>n(b(4,L=>q(q(L))),t.base58);t.base58check=O;const B=n(r("qpzry9x8gf2tvdw0s3jn54khce6mua7l"),i("")),v=[996825010,642813549,513874426,1027748829,705979059];function _(q){const L=q>>25;let E=(q&33554431)<<5;for(let f=0;f<v.length;f++)(L>>f&1)===1&&(E^=v[f]);return E}function S(q,L,E=1){const f=q.length;let p=1;for(let w=0;w<f;w++){const R=q.charCodeAt(w);if(R<33||R>126)throw new Error(`Invalid prefix (${q})`);p=_(p)^R>>5}p=_(p);for(let w=0;w<f;w++)p=_(p)^q.charCodeAt(w)&31;for(let w of L)p=_(p)^w;for(let w=0;w<6;w++)p=_(p);return p^=E,B.encode(l([p%2**30],30,5,!1))}function M(q){const L=q==="bech32"?1:734539939,E=h(5),f=E.decode,p=E.encode,w=y(f);function R(C,m,D=90){if(typeof C!="string")throw new Error(`bech32.encode prefix should be string, not ${typeof C}`);if(!Array.isArray(m)||m.length&&typeof m[0]!="number")throw new Error(`bech32.encode words should be array of numbers, not ${typeof m}`);const we=C.length+7+m.length;if(D!==!1&&we>D)throw new TypeError(`Length ${we} exceeds limit ${D}`);return C=C.toLowerCase(),`${C}1${B.encode(m)}${S(C,m,L)}`}function N(C,m=90){if(typeof C!="string")throw new Error(`bech32.decode input should be string, not ${typeof C}`);if(C.length<8||m!==!1&&C.length>m)throw new TypeError(`Wrong string length: ${C.length} (${C}). Expected (8..${m})`);const D=C.toLowerCase();if(C!==D&&C!==C.toUpperCase())throw new Error("String must be lowercase or uppercase");C=D;const we=C.lastIndexOf("1");if(we===0||we===-1)throw new Error('Letter "1" must be present between prefix and data only');const A=C.slice(0,we),ne=C.slice(we+1);if(ne.length<6)throw new Error("Data must be at least 6 characters long");const fe=B.decode(ne).slice(0,-6),V=S(A,fe,L);if(!ne.endsWith(V))throw new Error(`Invalid checksum in ${C}: expected "${V}"`);return{prefix:A,words:fe}}const H=y(N);function K(C){const{prefix:m,words:D}=N(C,!1);return{prefix:m,words:D,bytes:f(D)}}return{encode:R,decode:N,decodeToBytes:K,decodeUnsafe:H,fromWords:f,fromWordsUnsafe:w,toWords:p}}t.bech32=M("bech32"),t.bech32m=M("bech32m"),t.utf8={encode:q=>new TextDecoder().decode(q),decode:q=>new TextEncoder().encode(q)},t.hex=n(h(4),r("0123456789abcdef"),i(""),o(q=>{if(typeof q!="string"||q.length%2)throw new TypeError(`hex.decode: expected string, got ${typeof q} with length ${q.length}`);return q.toLowerCase()}));const F={utf8:t.utf8,hex:t.hex,base16:t.base16,base32:t.base32,base64:t.base64,base64url:t.base64url,base58:t.base58,base58xmr:t.base58xmr},W=`Invalid encoding type. Available types: ${Object.keys(F).join(", ")}`,Y=(q,L)=>{if(typeof q!="string"||!F.hasOwnProperty(q))throw new TypeError(W);if(!(L instanceof Uint8Array))throw new TypeError("bytesToString() expects Uint8Array");return F[q].encode(L)};t.bytesToString=Y,t.str=t.bytesToString;const J=(q,L)=>{if(!F.hasOwnProperty(q))throw new TypeError(W);if(typeof L!="string")throw new TypeError("stringToBytes() expects string");return F[q].decode(L)};t.stringToBytes=J,t.bytes=t.stringToBytes})(nc);Object.defineProperty(_r,"__esModule",{value:!0});var cy=_r.mnemonicToSeedSync=_r.mnemonicToSeed=_r.validateMnemonic=_r.entropyToMnemonic=_r.mnemonicToEntropy=_r.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const uy=$n,ly=Po,k2=Uo,dy=Hr,B2=$s,Rc=nc,R2=t=>t[0]==="";function fy(t){if(typeof t!="string")throw new TypeError(`Invalid mnemonic type: ${typeof t}`);return t.normalize("NFKD")}function t0(t){const e=fy(t),n=e.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:n}}function hy(t){uy.default.bytes(t,16,20,24,28,32)}function I2(t,e=128){if(uy.default.number(e),e%32!==0||e>256)throw new TypeError("Invalid entropy");return yy((0,B2.randomBytes)(e/8),t)}_r.generateMnemonic=I2;const P2=t=>{const e=8-t.length/4;return new Uint8Array([(0,k2.sha256)(t)[0]>>e<<e])};function py(t){if(!Array.isArray(t)||t.length!==2**11||typeof t[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return t.forEach(e=>{if(typeof e!="string")throw new Error(`Wordlist: non-string element: ${e}`)}),Rc.utils.chain(Rc.utils.checksum(1,P2),Rc.utils.radix2(11,!0),Rc.utils.alphabet(t))}function gy(t,e){const{words:n}=t0(t),r=py(e).decode(n);return hy(r),r}_r.mnemonicToEntropy=gy;function yy(t,e){return hy(t),py(e).encode(t).join(R2(e)?"":" ")}_r.entropyToMnemonic=yy;function U2(t,e){try{gy(t,e)}catch{return!1}return!0}_r.validateMnemonic=U2;const my=t=>fy(`mnemonic${t}`);function O2(t,e=""){return(0,ly.pbkdf2Async)(dy.sha512,t0(t).nfkd,my(e),{c:2048,dkLen:64})}_r.mnemonicToSeed=O2;function C2(t,e=""){return(0,ly.pbkdf2)(dy.sha512,t0(t).nfkd,my(e),{c:2048,dkLen:64})}cy=_r.mnemonicToSeedSync=C2;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const $2=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),_d=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),M2=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!M2)throw new Error("Non little-endian hardware is not supported");const q2=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function wy(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=q2[t[n]];return e}function _y(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,i=t.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}function N2(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function rc(t){if(typeof t=="string"&&(t=N2(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}let n0=class{clone(){return this._cloneInto()}};function il(t){const e=r=>t().update(rc(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function D2(t){const e=(r,i)=>t(i).update(rc(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function df(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function L2(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function by(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function H2(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");df(t.outputLen),df(t.blockLen)}function z2(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function F2(t,e){by(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const br={number:df,bool:L2,bytes:by,hash:H2,exists:z2,output:F2},Ic=BigInt(2**32-1),ff=BigInt(32);function vy(t,e=!1){return e?{h:Number(t&Ic),l:Number(t>>ff&Ic)}:{h:Number(t>>ff&Ic)|0,l:Number(t&Ic)|0}}function j2(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=vy(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const W2=(t,e)=>BigInt(t>>>0)<<ff|BigInt(e>>>0),G2=(t,e,n)=>t>>>n,V2=(t,e,n)=>t<<32-n|e>>>n,K2=(t,e,n)=>t>>>n|e<<32-n,X2=(t,e,n)=>t<<32-n|e>>>n,Z2=(t,e,n)=>t<<64-n|e>>>n-32,Y2=(t,e,n)=>t>>>n-32|e<<64-n,J2=(t,e)=>e,Q2=(t,e)=>t,eb=(t,e,n)=>t<<n|e>>>32-n,tb=(t,e,n)=>e<<n|t>>>32-n,nb=(t,e,n)=>e<<n-32|t>>>64-n,rb=(t,e,n)=>t<<n-32|e>>>64-n;function ib(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const sb=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),ob=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,ab=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),cb=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,ub=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),lb=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,ut={fromBig:vy,split:j2,toBig:W2,shrSH:G2,shrSL:V2,rotrSH:K2,rotrSL:X2,rotrBH:Z2,rotrBL:Y2,rotr32H:J2,rotr32L:Q2,rotlSH:eb,rotlSL:tb,rotlBH:nb,rotlBL:rb,add:ib,add3L:sb,add3H:ob,add4L:ab,add4H:cb,add5H:lb,add5L:ub},[xy,Sy,Ty]=[[],[],[]],db=BigInt(0),va=BigInt(1),fb=BigInt(2),hb=BigInt(7),pb=BigInt(256),gb=BigInt(113);for(let t=0,e=va,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],xy.push(2*(5*r+n)),Sy.push((t+1)*(t+2)/2%64);let i=db;for(let s=0;s<7;s++)e=(e<<va^(e>>hb)*gb)%pb,e&fb&&(i^=va<<(va<<BigInt(s))-va);Ty.push(i)}const[yb,mb]=ut.split(Ty,!0),Ph=(t,e,n)=>n>32?ut.rotlBH(t,e,n):ut.rotlSH(t,e,n),Uh=(t,e,n)=>n>32?ut.rotlBL(t,e,n):ut.rotlSL(t,e,n);function wb(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],d=Ph(u,l,1)^n[a],h=Uh(u,l,1)^n[a+1];for(let y=0;y<50;y+=10)t[o+y]^=d,t[o+y+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Sy[o],c=Ph(i,s,a),u=Uh(i,s,a),l=xy[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=yb[r],t[1]^=mb[r]}n.fill(0)}let Ay=class Ey extends n0{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,br.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=$2(this.state)}keccak(){wb(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){br.exists(this);const{blockLen:n,state:r}=this;e=rc(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){br.exists(this,!1),br.bytes(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return br.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(br.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Ey(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const ls=(t,e,n)=>il(()=>new Ay(e,t,n));ls(6,144,224/8);const Oo=ls(6,136,256/8);ls(6,104,384/8);ls(6,72,512/8);ls(1,144,224/8);ls(1,136,256/8);ls(1,104,384/8);ls(1,72,512/8);const ky=(t,e,n)=>D2((r={})=>new Ay(e,t,r.dkLen===void 0?n:r.dkLen,!0));ky(31,168,128/8);ky(31,136,256/8);let By=class extends n0{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,br.hash(e);const r=rc(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return br.exists(this),this.iHash.update(e),this}digestInto(e){br.exists(this),br.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const r0=(t,e,n)=>new By(t,e).update(n).digest();r0.create=(t,e)=>new By(t,e);function _b(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let bb=class extends n0{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=_d(this.buffer)}update(e){br.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=rc(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=_d(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){br.exists(this),br.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let c=o;c<i;c++)n[c]=0;_b(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=_d(e);this.get().forEach((c,u)=>a.setUint32(4*u,c,s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const[vb,xb]=ut.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ii=new Uint32Array(80),Pi=new Uint32Array(80);let i0=class extends bb{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:y,Gl:b,Hh:T,Hl:k}=this;return[e,n,r,i,s,o,a,c,u,l,d,h,y,b,T,k]}set(e,n,r,i,s,o,a,c,u,l,d,h,y,b,T,k){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=y|0,this.Gl=b|0,this.Hh=T|0,this.Hl=k|0}process(e,n){for(let v=0;v<16;v++,n+=4)Ii[v]=e.getUint32(n),Pi[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const _=Ii[v-15]|0,S=Pi[v-15]|0,M=ut.rotrSH(_,S,1)^ut.rotrSH(_,S,8)^ut.shrSH(_,S,7),F=ut.rotrSL(_,S,1)^ut.rotrSL(_,S,8)^ut.shrSL(_,S,7),W=Ii[v-2]|0,Y=Pi[v-2]|0,J=ut.rotrSH(W,Y,19)^ut.rotrBH(W,Y,61)^ut.shrSH(W,Y,6),q=ut.rotrSL(W,Y,19)^ut.rotrBL(W,Y,61)^ut.shrSL(W,Y,6),L=ut.add4L(F,q,Pi[v-7],Pi[v-16]),E=ut.add4H(L,M,J,Ii[v-7],Ii[v-16]);Ii[v]=E|0,Pi[v]=L|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:y,Fl:b,Gh:T,Gl:k,Hh:O,Hl:B}=this;for(let v=0;v<80;v++){const _=ut.rotrSH(d,h,14)^ut.rotrSH(d,h,18)^ut.rotrBH(d,h,41),S=ut.rotrSL(d,h,14)^ut.rotrSL(d,h,18)^ut.rotrBL(d,h,41),M=d&y^~d&T,F=h&b^~h&k,W=ut.add5L(B,S,F,xb[v],Pi[v]),Y=ut.add5H(W,O,_,M,vb[v],Ii[v]),J=W|0,q=ut.rotrSH(r,i,28)^ut.rotrBH(r,i,34)^ut.rotrBH(r,i,39),L=ut.rotrSL(r,i,28)^ut.rotrBL(r,i,34)^ut.rotrBL(r,i,39),E=r&s^r&a^s&a,f=i&o^i&c^o&c;O=T|0,B=k|0,T=y|0,k=b|0,y=d|0,b=h|0,{h:d,l:h}=ut.add(u|0,l|0,Y|0,J|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const p=ut.add3L(J,L,f);r=ut.add3H(p,Y,q,E),i=p|0}({h:r,l:i}=ut.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=ut.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=ut.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=ut.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=ut.add(this.Eh|0,this.El|0,d|0,h|0),{h:y,l:b}=ut.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:T,l:k}=ut.add(this.Gh|0,this.Gl|0,T|0,k|0),{h:O,l:B}=ut.add(this.Hh|0,this.Hl|0,O|0,B|0),this.set(r,i,s,o,a,c,u,l,d,h,y,b,T,k,O,B)}roundClean(){Ii.fill(0),Pi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},Sb=class extends i0{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},Tb=class extends i0{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};const Ry=il(()=>new i0);il(()=>new Sb);il(()=>new Tb);var hf={},Ab={get exports(){return hf},set exports(t){hf=t}},bu={},Eb={get exports(){return bu},set exports(t){bu=t}},Iy=function(e,n){return function(){for(var i=new Array(arguments.length),s=0;s<i.length;s++)i[s]=arguments[s];return e.apply(n,i)}},kb=Iy,s0=Object.prototype.toString,o0=function(t){return function(e){var n=s0.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())}}(Object.create(null));function Ms(t){return t=t.toLowerCase(),function(n){return o0(n)===t}}function a0(t){return Array.isArray(t)}function vu(t){return typeof t>"u"}function Bb(t){return t!==null&&!vu(t)&&t.constructor!==null&&!vu(t.constructor)&&typeof t.constructor.isBuffer=="function"&&t.constructor.isBuffer(t)}var Py=Ms("ArrayBuffer");function Rb(t){var e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&Py(t.buffer),e}function Ib(t){return typeof t=="string"}function Pb(t){return typeof t=="number"}function Uy(t){return t!==null&&typeof t=="object"}function nu(t){if(o0(t)!=="object")return!1;var e=Object.getPrototypeOf(t);return e===null||e===Object.prototype}var Ub=Ms("Date"),Ob=Ms("File"),Cb=Ms("Blob"),$b=Ms("FileList");function c0(t){return s0.call(t)==="[object Function]"}function Mb(t){return Uy(t)&&c0(t.pipe)}function qb(t){var e="[object FormData]";return t&&(typeof FormData=="function"&&t instanceof FormData||s0.call(t)===e||c0(t.toString)&&t.toString()===e)}var Nb=Ms("URLSearchParams");function Db(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function Lb(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function u0(t,e){if(!(t===null||typeof t>"u"))if(typeof t!="object"&&(t=[t]),a0(t))for(var n=0,r=t.length;n<r;n++)e.call(null,t[n],n,t);else for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.call(null,t[i],i,t)}function pf(){var t={};function e(i,s){nu(t[s])&&nu(i)?t[s]=pf(t[s],i):nu(i)?t[s]=pf({},i):a0(i)?t[s]=i.slice():t[s]=i}for(var n=0,r=arguments.length;n<r;n++)u0(arguments[n],e);return t}function Hb(t,e,n){return u0(e,function(i,s){n&&typeof i=="function"?t[s]=kb(i,n):t[s]=i}),t}function zb(t){return t.charCodeAt(0)===65279&&(t=t.slice(1)),t}function Fb(t,e,n,r){t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,n&&Object.assign(t.prototype,n)}function jb(t,e,n){var r,i,s,o={};e=e||{};do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)s=r[i],o[s]||(e[s]=t[s],o[s]=!0);t=Object.getPrototypeOf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e}function Wb(t,e,n){t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;var r=t.indexOf(e,n);return r!==-1&&r===n}function Gb(t){if(!t)return null;var e=t.length;if(vu(e))return null;for(var n=new Array(e);e-- >0;)n[e]=t[e];return n}var Vb=function(t){return function(e){return t&&e instanceof t}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),Vn={isArray:a0,isArrayBuffer:Py,isBuffer:Bb,isFormData:qb,isArrayBufferView:Rb,isString:Ib,isNumber:Pb,isObject:Uy,isPlainObject:nu,isUndefined:vu,isDate:Ub,isFile:Ob,isBlob:Cb,isFunction:c0,isStream:Mb,isURLSearchParams:Nb,isStandardBrowserEnv:Lb,forEach:u0,merge:pf,extend:Hb,trim:Db,stripBOM:zb,inherits:Fb,toFlatObject:jb,kindOf:o0,kindOfTest:Ms,endsWith:Wb,toArray:Gb,isTypedArray:Vb,isFileList:$b},Js=Vn;function Oh(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var Oy=function(e,n,r){if(!n)return e;var i;if(r)i=r(n);else if(Js.isURLSearchParams(n))i=n.toString();else{var s=[];Js.forEach(n,function(c,u){c===null||typeof c>"u"||(Js.isArray(c)?u=u+"[]":c=[c],Js.forEach(c,function(d){Js.isDate(d)?d=d.toISOString():Js.isObject(d)&&(d=JSON.stringify(d)),s.push(Oh(u)+"="+Oh(d))}))}),i=s.join("&")}if(i){var o=e.indexOf("#");o!==-1&&(e=e.slice(0,o)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e},Kb=Vn;function sl(){this.handlers=[]}sl.prototype.use=function(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1};sl.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)};sl.prototype.forEach=function(e){Kb.forEach(this.handlers,function(r){r!==null&&e(r)})};var Xb=sl,Zb=Vn,Yb=function(e,n){Zb.forEach(e,function(i,s){s!==n&&s.toUpperCase()===n.toUpperCase()&&(e[n]=i,delete e[s])})},Cy=Vn;function Co(t,e,n,r,i){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Cy.inherits(Co,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var $y=Co.prototype,My={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(t){My[t]={value:t}});Object.defineProperties(Co,My);Object.defineProperty($y,"isAxiosError",{value:!0});Co.from=function(t,e,n,r,i,s){var o=Object.create($y);return Cy.toFlatObject(t,o,function(c){return c!==Error.prototype}),Co.call(o,t.message,e,n,r,i),o.name=t.name,s&&Object.assign(o,s),o};var ra=Co,qy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Vr=Vn;function Jb(t,e){e=e||new FormData;var n=[];function r(s){return s===null?"":Vr.isDate(s)?s.toISOString():Vr.isArrayBuffer(s)||Vr.isTypedArray(s)?typeof Blob=="function"?new Blob([s]):Buffer.from(s):s}function i(s,o){if(Vr.isPlainObject(s)||Vr.isArray(s)){if(n.indexOf(s)!==-1)throw Error("Circular reference detected in "+o);n.push(s),Vr.forEach(s,function(c,u){if(!Vr.isUndefined(c)){var l=o?o+"."+u:u,d;if(c&&!o&&typeof c=="object"){if(Vr.endsWith(u,"{}"))c=JSON.stringify(c);else if(Vr.endsWith(u,"[]")&&(d=Vr.toArray(c))){d.forEach(function(h){!Vr.isUndefined(h)&&e.append(l,r(h))});return}}i(c,l)}}),n.pop()}else e.append(o,r(s))}return i(t),e}var Ny=Jb,bd,Ch;function Qb(){if(Ch)return bd;Ch=1;var t=ra;return bd=function(n,r,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?n(i):r(new t("Request failed with status code "+i.status,[t.ERR_BAD_REQUEST,t.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},bd}var vd,$h;function ev(){if($h)return vd;$h=1;var t=Vn;return vd=t.isStandardBrowserEnv()?function(){return{write:function(r,i,s,o,a,c){var u=[];u.push(r+"="+encodeURIComponent(i)),t.isNumber(s)&&u.push("expires="+new Date(s).toGMTString()),t.isString(o)&&u.push("path="+o),t.isString(a)&&u.push("domain="+a),c===!0&&u.push("secure"),document.cookie=u.join("; ")},read:function(r){var i=document.cookie.match(new RegExp("(^|;\\s*)("+r+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(r){this.write(r,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),vd}var tv=function(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)},nv=function(e,n){return n?e.replace(/\/+$/,"")+"/"+n.replace(/^\/+/,""):e},rv=tv,iv=nv,Dy=function(e,n){return e&&!rv(n)?iv(e,n):n},xd,Mh;function sv(){if(Mh)return xd;Mh=1;var t=Vn,e=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return xd=function(r){var i={},s,o,a;return r&&t.forEach(r.split(`
`),function(u){if(a=u.indexOf(":"),s=t.trim(u.substr(0,a)).toLowerCase(),o=t.trim(u.substr(a+1)),s){if(i[s]&&e.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},xd}var Sd,qh;function ov(){if(qh)return Sd;qh=1;var t=Vn;return Sd=t.isStandardBrowserEnv()?function(){var n=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a"),i;function s(o){var a=o;return n&&(r.setAttribute("href",a),a=r.href),r.setAttribute("href",a),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:r.pathname.charAt(0)==="/"?r.pathname:"/"+r.pathname}}return i=s(window.location.href),function(a){var c=t.isString(a)?s(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),Sd}var Td,Nh;function ol(){if(Nh)return Td;Nh=1;var t=ra,e=Vn;function n(r){t.call(this,r??"canceled",t.ERR_CANCELED),this.name="CanceledError"}return e.inherits(n,t,{__CANCEL__:!0}),Td=n,Td}var Ad,Dh;function av(){return Dh||(Dh=1,Ad=function(e){var n=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return n&&n[1]||""}),Ad}var Ed,Lh;function Hh(){if(Lh)return Ed;Lh=1;var t=Vn,e=Qb(),n=ev(),r=Oy,i=Dy,s=sv(),o=ov(),a=qy,c=ra,u=ol(),l=av();return Ed=function(h){return new Promise(function(b,T){var k=h.data,O=h.headers,B=h.responseType,v;function _(){h.cancelToken&&h.cancelToken.unsubscribe(v),h.signal&&h.signal.removeEventListener("abort",v)}t.isFormData(k)&&t.isStandardBrowserEnv()&&delete O["Content-Type"];var S=new XMLHttpRequest;if(h.auth){var M=h.auth.username||"",F=h.auth.password?unescape(encodeURIComponent(h.auth.password)):"";O.Authorization="Basic "+btoa(M+":"+F)}var W=i(h.baseURL,h.url);S.open(h.method.toUpperCase(),r(W,h.params,h.paramsSerializer),!0),S.timeout=h.timeout;function Y(){if(S){var L="getAllResponseHeaders"in S?s(S.getAllResponseHeaders()):null,E=!B||B==="text"||B==="json"?S.responseText:S.response,f={data:E,status:S.status,statusText:S.statusText,headers:L,config:h,request:S};e(function(w){b(w),_()},function(w){T(w),_()},f),S=null}}if("onloadend"in S?S.onloadend=Y:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(Y)},S.onabort=function(){S&&(T(new c("Request aborted",c.ECONNABORTED,h,S)),S=null)},S.onerror=function(){T(new c("Network Error",c.ERR_NETWORK,h,S,S)),S=null},S.ontimeout=function(){var E=h.timeout?"timeout of "+h.timeout+"ms exceeded":"timeout exceeded",f=h.transitional||a;h.timeoutErrorMessage&&(E=h.timeoutErrorMessage),T(new c(E,f.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,h,S)),S=null},t.isStandardBrowserEnv()){var J=(h.withCredentials||o(W))&&h.xsrfCookieName?n.read(h.xsrfCookieName):void 0;J&&(O[h.xsrfHeaderName]=J)}"setRequestHeader"in S&&t.forEach(O,function(E,f){typeof k>"u"&&f.toLowerCase()==="content-type"?delete O[f]:S.setRequestHeader(f,E)}),t.isUndefined(h.withCredentials)||(S.withCredentials=!!h.withCredentials),B&&B!=="json"&&(S.responseType=h.responseType),typeof h.onDownloadProgress=="function"&&S.addEventListener("progress",h.onDownloadProgress),typeof h.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",h.onUploadProgress),(h.cancelToken||h.signal)&&(v=function(L){S&&(T(!L||L&&L.type?new u:L),S.abort(),S=null)},h.cancelToken&&h.cancelToken.subscribe(v),h.signal&&(h.signal.aborted?v():h.signal.addEventListener("abort",v))),k||(k=null);var q=l(W);if(q&&["http","https","file"].indexOf(q)===-1){T(new c("Unsupported protocol "+q+":",c.ERR_BAD_REQUEST,h));return}S.send(k)})},Ed}var kd,zh;function cv(){return zh||(zh=1,kd=null),kd}var On=Vn,Fh=Yb,jh=ra,uv=qy,lv=Ny,dv={"Content-Type":"application/x-www-form-urlencoded"};function Wh(t,e){!On.isUndefined(t)&&On.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function fv(){var t;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(t=Hh()),t}function hv(t,e,n){if(On.isString(t))try{return(e||JSON.parse)(t),On.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}var al={transitional:uv,adapter:fv(),transformRequest:[function(e,n){if(Fh(n,"Accept"),Fh(n,"Content-Type"),On.isFormData(e)||On.isArrayBuffer(e)||On.isBuffer(e)||On.isStream(e)||On.isFile(e)||On.isBlob(e))return e;if(On.isArrayBufferView(e))return e.buffer;if(On.isURLSearchParams(e))return Wh(n,"application/x-www-form-urlencoded;charset=utf-8"),e.toString();var r=On.isObject(e),i=n&&n["Content-Type"],s;if((s=On.isFileList(e))||r&&i==="multipart/form-data"){var o=this.env&&this.env.FormData;return lv(s?{"files[]":e}:e,o&&new o)}else if(r||i==="application/json")return Wh(n,"application/json"),hv(e);return e}],transformResponse:[function(e){var n=this.transitional||al.transitional,r=n&&n.silentJSONParsing,i=n&&n.forcedJSONParsing,s=!r&&this.responseType==="json";if(s||i&&On.isString(e)&&e.length)try{return JSON.parse(e)}catch(o){if(s)throw o.name==="SyntaxError"?jh.from(o,jh.ERR_BAD_RESPONSE,this,null,this.response):o}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:cv()},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};On.forEach(["delete","get","head"],function(e){al.headers[e]={}});On.forEach(["post","put","patch"],function(e){al.headers[e]=On.merge(dv)});var l0=al,pv=Vn,gv=l0,yv=function(e,n,r){var i=this||gv;return pv.forEach(r,function(o){e=o.call(i,e,n)}),e},Bd,Gh;function Ly(){return Gh||(Gh=1,Bd=function(e){return!!(e&&e.__CANCEL__)}),Bd}var Vh=Vn,Rd=yv,mv=Ly(),wv=l0,_v=ol();function Id(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new _v}var bv=function(e){Id(e),e.headers=e.headers||{},e.data=Rd.call(e,e.data,e.headers,e.transformRequest),e.headers=Vh.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),Vh.forEach(["delete","get","head","post","put","patch","common"],function(i){delete e.headers[i]});var n=e.adapter||wv.adapter;return n(e).then(function(i){return Id(e),i.data=Rd.call(e,i.data,i.headers,e.transformResponse),i},function(i){return mv(i)||(Id(e),i&&i.response&&(i.response.data=Rd.call(e,i.response.data,i.response.headers,e.transformResponse))),Promise.reject(i)})},gr=Vn,Hy=function(e,n){n=n||{};var r={};function i(l,d){return gr.isPlainObject(l)&&gr.isPlainObject(d)?gr.merge(l,d):gr.isPlainObject(d)?gr.merge({},d):gr.isArray(d)?d.slice():d}function s(l){if(gr.isUndefined(n[l])){if(!gr.isUndefined(e[l]))return i(void 0,e[l])}else return i(e[l],n[l])}function o(l){if(!gr.isUndefined(n[l]))return i(void 0,n[l])}function a(l){if(gr.isUndefined(n[l])){if(!gr.isUndefined(e[l]))return i(void 0,e[l])}else return i(void 0,n[l])}function c(l){if(l in n)return i(e[l],n[l]);if(l in e)return i(void 0,e[l])}var u={url:o,method:o,data:o,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:c};return gr.forEach(Object.keys(e).concat(Object.keys(n)),function(d){var h=u[d]||s,y=h(d);gr.isUndefined(y)&&h!==c||(r[d]=y)}),r},Pd,Kh;function zy(){return Kh||(Kh=1,Pd={version:"0.27.2"}),Pd}var vv=zy().version,Wi=ra,d0={};["object","boolean","number","function","string","symbol"].forEach(function(t,e){d0[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});var Xh={};d0.transitional=function(e,n,r){function i(s,o){return"[Axios v"+vv+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return function(s,o,a){if(e===!1)throw new Wi(i(o," has been removed"+(n?" in "+n:"")),Wi.ERR_DEPRECATED);return n&&!Xh[o]&&(Xh[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};function xv(t,e,n){if(typeof t!="object")throw new Wi("options must be an object",Wi.ERR_BAD_OPTION_VALUE);for(var r=Object.keys(t),i=r.length;i-- >0;){var s=r[i],o=e[s];if(o){var a=t[s],c=a===void 0||o(a,s,t);if(c!==!0)throw new Wi("option "+s+" must be "+c,Wi.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new Wi("Unknown option "+s,Wi.ERR_BAD_OPTION)}}var Sv={assertOptions:xv,validators:d0},Fy=Vn,Tv=Oy,Zh=Xb,Yh=bv,cl=Hy,Av=Dy,jy=Sv,Qs=jy.validators;function $o(t){this.defaults=t,this.interceptors={request:new Zh,response:new Zh}}$o.prototype.request=function(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=cl(this.defaults,n),n.method?n.method=n.method.toLowerCase():this.defaults.method?n.method=this.defaults.method.toLowerCase():n.method="get";var r=n.transitional;r!==void 0&&jy.assertOptions(r,{silentJSONParsing:Qs.transitional(Qs.boolean),forcedJSONParsing:Qs.transitional(Qs.boolean),clarifyTimeoutError:Qs.transitional(Qs.boolean)},!1);var i=[],s=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(n)===!1||(s=s&&y.synchronous,i.unshift(y.fulfilled,y.rejected))});var o=[];this.interceptors.response.forEach(function(y){o.push(y.fulfilled,y.rejected)});var a;if(!s){var c=[Yh,void 0];for(Array.prototype.unshift.apply(c,i),c=c.concat(o),a=Promise.resolve(n);c.length;)a=a.then(c.shift(),c.shift());return a}for(var u=n;i.length;){var l=i.shift(),d=i.shift();try{u=l(u)}catch(h){d(h);break}}try{a=Yh(u)}catch(h){return Promise.reject(h)}for(;o.length;)a=a.then(o.shift(),o.shift());return a};$o.prototype.getUri=function(e){e=cl(this.defaults,e);var n=Av(e.baseURL,e.url);return Tv(n,e.params,e.paramsSerializer)};Fy.forEach(["delete","get","head","options"],function(e){$o.prototype[e]=function(n,r){return this.request(cl(r||{},{method:e,url:n,data:(r||{}).data}))}});Fy.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(cl(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}$o.prototype[e]=n(),$o.prototype[e+"Form"]=n(!0)});var Ev=$o,Ud,Jh;function kv(){if(Jh)return Ud;Jh=1;var t=ol();function e(n){if(typeof n!="function")throw new TypeError("executor must be a function.");var r;this.promise=new Promise(function(o){r=o});var i=this;this.promise.then(function(s){if(i._listeners){var o,a=i._listeners.length;for(o=0;o<a;o++)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(c){i.subscribe(c),o=c}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},n(function(o){i.reason||(i.reason=new t(o),r(i.reason))})}return e.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},e.prototype.subscribe=function(r){if(this.reason){r(this.reason);return}this._listeners?this._listeners.push(r):this._listeners=[r]},e.prototype.unsubscribe=function(r){if(this._listeners){var i=this._listeners.indexOf(r);i!==-1&&this._listeners.splice(i,1)}},e.source=function(){var r,i=new e(function(o){r=o});return{token:i,cancel:r}},Ud=e,Ud}var Od,Qh;function Bv(){return Qh||(Qh=1,Od=function(e){return function(r){return e.apply(null,r)}}),Od}var Cd,ep;function Rv(){if(ep)return Cd;ep=1;var t=Vn;return Cd=function(n){return t.isObject(n)&&n.isAxiosError===!0},Cd}var tp=Vn,Iv=Iy,ru=Ev,Pv=Hy,Uv=l0;function Wy(t){var e=new ru(t),n=Iv(ru.prototype.request,e);return tp.extend(n,ru.prototype,e),tp.extend(n,e),n.create=function(i){return Wy(Pv(t,i))},n}var fr=Wy(Uv);fr.Axios=ru;fr.CanceledError=ol();fr.CancelToken=kv();fr.isCancel=Ly();fr.VERSION=zy().version;fr.toFormData=Ny;fr.AxiosError=ra;fr.Cancel=fr.CanceledError;fr.all=function(e){return Promise.all(e)};fr.spread=Bv();fr.isAxiosError=Rv();Eb.exports=fr;bu.default=fr;(function(t){t.exports=bu})(Ab);const Yr=Kg(hf);var ul=typeof self=="object"?self.FormData:window.FormData,Gy=Object.defineProperty,Ov=Object.getOwnPropertyDescriptor,ll=(t,e)=>{for(var n in e)Gy(t,n,{get:e[n],enumerable:!0})},en=(t,e,n,r)=>{for(var i=r>1?void 0:r?Ov(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(r?o(e,n,i):o(i))||i);return r&&i&&Gy(e,n,i),i},Cv=/^m(\/[0-9]+')+$/,Vy=t=>t.replace("'",""),$v="ed25519 seed",Mv=2147483648,qv=t=>{const n=r0.create(Ry,$v).update(_y(t)).digest(),r=n.slice(0,32),i=n.slice(32);return{key:r,chainCode:i}},Nv=({key:t,chainCode:e},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const i=new Uint8Array(r),s=new Uint8Array([0]),o=new Uint8Array([...s,...t,...i]),a=r0.create(Ry,e).update(o).digest(),c=a.slice(0,32),u=a.slice(32);return{key:c,chainCode:u}},Dv=t=>Cv.test(t)?!t.split("/").slice(1).map(Vy).some(Number.isNaN):!1,Ky=(t,e,n=Mv)=>{if(!Dv(t))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=qv(e);return t.split("/").slice(1).map(Vy).map(o=>parseInt(o,10)).reduce((o,a)=>Nv(o,a+n),{key:r,chainCode:i})};async function Lv(t){return new Promise(e=>{setTimeout(e,t)})}var np="/v1";function Hv(t){let e=`${t}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith(np)||(e=`${e}${np}`),e}var Xy=2e5,Zy=20,Yy=20,gf="0x1::aptos_coin::AptosCoin";function dl(t){let e,n,r;return typeof t=="object"?(e=t.hashFunction,n=t.ttlMs,r=t.tags):e=t,(i,s,o)=>{if(o.value!=null)o.value=rp(o.value,e,n,r);else if(o.get!=null)o.get=rp(o.get,e,n,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function zv(t,e){return dl({ttlMs:t,hashFunction:e})}var iu=new Map;function Fv(t){const e=new Set;for(const n of t){const r=iu.get(n);if(r)for(const i of r)e.has(i)||(i.clear(),e.add(i))}return e.size}function rp(t,e,n=0,r){const i=Symbol("__memoized_map__");return function(...s){let o;const a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const c=a[i];if(Array.isArray(r))for(const u of r)iu.has(u)?iu.get(u).push(c):iu.set(u,[c]);if(e||s.length>0||n>0){let u;e===!0?u=s.map(h=>h.toString()).join("!"):e?u=e.apply(a,s):u=s[0];const l=`${u}__timestamp`;let d=!1;if(n>0)if(!c.has(l))d=!0;else{const h=c.get(l);d=Date.now()-h>n}c.has(u)&&!d?o=c.get(u):(o=t.apply(a,s),c.set(u,o),n>0&&c.set(l,Date.now()))}else{const u=a;c.has(u)?o=c.get(u):(o=t.apply(a,s),c.set(u,o))}return o}}var _t=class{static fromBuffer(e){return _t.fromUint8Array(e)}static fromUint8Array(e){return new _t(wy(e))}static ensure(e){return typeof e=="string"?new _t(e):e}constructor(e){e.startsWith("0x")?this.hexString=e:this.hexString=`0x${e}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(_y(this.noPrefix()))}};async function ip(t,e,n,r){var i;const s=[];let o;for(;;){const a=await t(_t.ensure(e).hex(),(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString(),o,n);if(o=a.__headers["x-aptos-cursor"],delete a.__headers,s.push(...a),o==null)break}return s}var jv={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},Wv={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},Jy=(t=>(t.MAINNET="mainnet",t.TESTNET="testnet",t.DEVNET="devnet",t))(Jy||{}),Gt={};ll(Gt,{AccountAddress:()=>gn,AccountAuthenticator:()=>Na,AccountAuthenticatorEd25519:()=>p0,AccountAuthenticatorMultiEd25519:()=>g0,ArgumentABI:()=>dc,AuthenticationKey:()=>Rs,ChainId:()=>ml,ChangeSet:()=>r6,Ed25519PublicKey:()=>Nr,Ed25519Signature:()=>ui,EntryFunction:()=>xs,EntryFunctionABI:()=>Lo,Identifier:()=>ar,Module:()=>t1,ModuleId:()=>Bs,MultiAgentRawTransaction:()=>gl,MultiEd25519PublicKey:()=>ic,MultiEd25519Signature:()=>fl,MultiSig:()=>w0,MultiSigTransactionPayload:()=>m0,RawTransaction:()=>ca,RawTransactionWithData:()=>n1,RotationProofChallenge:()=>s6,Script:()=>oc,ScriptABI:()=>Tl,SignedTransaction:()=>ac,StructTag:()=>Mo,Transaction:()=>r1,TransactionArgument:()=>ti,TransactionArgumentAddress:()=>No,TransactionArgumentBool:()=>Sl,TransactionArgumentU128:()=>vl,TransactionArgumentU16:()=>_l,TransactionArgumentU256:()=>xl,TransactionArgumentU32:()=>bl,TransactionArgumentU64:()=>qo,TransactionArgumentU8:()=>wl,TransactionArgumentU8Vector:()=>Do,TransactionAuthenticator:()=>sc,TransactionAuthenticatorEd25519:()=>hl,TransactionAuthenticatorMultiAgent:()=>h0,TransactionAuthenticatorMultiEd25519:()=>pl,TransactionPayload:()=>cc,TransactionPayloadEntryFunction:()=>yl,TransactionPayloadMultisig:()=>_0,TransactionPayloadScript:()=>uc,TransactionScriptABI:()=>Al,TypeArgumentABI:()=>lc,TypeTag:()=>Wn,TypeTagAddress:()=>Hs,TypeTagBool:()=>Ns,TypeTagSigner:()=>y0,TypeTagStruct:()=>zs,TypeTagU128:()=>Ls,TypeTagU16:()=>ia,TypeTagU256:()=>oa,TypeTagU32:()=>sa,TypeTagU64:()=>Ds,TypeTagU8:()=>bi,TypeTagVector:()=>aa,UserTransaction:()=>b0,WriteSet:()=>i6});var Qy={};ll(Qy,{Deserializer:()=>f0,Serializer:()=>bn,bcsSerializeBool:()=>e6,bcsSerializeBytes:()=>to,bcsSerializeFixedBytes:()=>n6,bcsSerializeStr:()=>t6,bcsSerializeU128:()=>Qv,bcsSerializeU16:()=>Yv,bcsSerializeU32:()=>Jv,bcsSerializeU8:()=>yf,bcsSerializeUint64:()=>Zv,bcsToBytes:()=>Si,deserializeVector:()=>jr,serializeVector:()=>kr,serializeVectorWithFunc:()=>Xv});var Gv=2**8-1,Vv=2**16-1,qa=2**32-1,Ua=BigInt(2**64)-BigInt(1),e1=BigInt(2**128)-BigInt(1),Kv=BigInt(2**256)-BigInt(1),bn=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(e){for(;this.buffer.byteLength<this.offset+e;){const n=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(n).set(new Uint8Array(this.buffer)),this.buffer=n}}serialize(e){this.ensureBufferWillHandleSize(e.length),new Uint8Array(this.buffer,this.offset).set(e),this.offset+=e.length}serializeWithFunction(e,n,r){this.ensureBufferWillHandleSize(n);const i=new DataView(this.buffer,this.offset);e.apply(i,[0,r,!0]),this.offset+=n}serializeStr(e){const n=new TextEncoder;this.serializeBytes(n.encode(e))}serializeBytes(e){this.serializeU32AsUleb128(e.length),this.serialize(e)}serializeFixedBytes(e){this.serialize(e)}serializeBool(e){if(typeof e!="boolean")throw new Error("Value needs to be a boolean");const n=e?1:0;this.serialize(new Uint8Array([n]))}serializeU8(e){this.serialize(new Uint8Array([e]))}serializeU16(e){this.serializeWithFunction(DataView.prototype.setUint16,2,e)}serializeU32(e){this.serializeWithFunction(DataView.prototype.setUint32,4,e)}serializeU64(e){const n=BigInt(e.toString())&BigInt(qa),r=BigInt(e.toString())>>BigInt(32);this.serializeU32(Number(n)),this.serializeU32(Number(r))}serializeU128(e){const n=BigInt(e.toString())&Ua,r=BigInt(e.toString())>>BigInt(64);this.serializeU64(n),this.serializeU64(r)}serializeU256(e){const n=BigInt(e.toString())&e1,r=BigInt(e.toString())>>BigInt(128);this.serializeU128(n),this.serializeU128(r)}serializeU32AsUleb128(e){let n=e;const r=[];for(;n>>>7;)r.push(n&127|128),n>>>=7;r.push(n),this.serialize(new Uint8Array(r))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};en([qs(0,Gv)],bn.prototype,"serializeU8",1);en([qs(0,Vv)],bn.prototype,"serializeU16",1);en([qs(0,qa)],bn.prototype,"serializeU32",1);en([qs(BigInt(0),Ua)],bn.prototype,"serializeU64",1);en([qs(BigInt(0),e1)],bn.prototype,"serializeU128",1);en([qs(BigInt(0),Kv)],bn.prototype,"serializeU256",1);en([qs(0,qa)],bn.prototype,"serializeU32AsUleb128",1);function qs(t,e,n){return(r,i,s)=>{const o=s.value;return s.value=function(c){const u=BigInt(c.toString());if(u>BigInt(e.toString())||u<BigInt(t.toString()))throw new Error(n||"Value is out of range");o.apply(this,[c])},s}}var f0=class{constructor(e){this.buffer=new ArrayBuffer(e.length),new Uint8Array(this.buffer).set(e,0),this.offset=0}read(e){if(this.offset+e>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const n=this.buffer.slice(this.offset,this.offset+e);return this.offset+=e,n}deserializeStr(){const e=this.deserializeBytes();return new TextDecoder().decode(e)}deserializeBytes(){const e=this.deserializeUleb128AsU32();return new Uint8Array(this.read(e))}deserializeFixedBytes(e){return new Uint8Array(this.read(e))}deserializeBool(){const e=new Uint8Array(this.read(1))[0];if(e!==1&&e!==0)throw new Error("Invalid boolean value");return e===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const e=this.deserializeU32(),n=this.deserializeU32();return BigInt(BigInt(n)<<BigInt(32)|BigInt(e))}deserializeU128(){const e=this.deserializeU64(),n=this.deserializeU64();return BigInt(n<<BigInt(64)|e)}deserializeU256(){const e=this.deserializeU128(),n=this.deserializeU128();return BigInt(n<<BigInt(128)|e)}deserializeUleb128AsU32(){let e=BigInt(0),n=0;for(;e<qa;){const r=this.deserializeU8();if(e|=BigInt(r&127)<<BigInt(n),!(r&128))break;n+=7}if(e>qa)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(e)}};function kr(t,e){e.serializeU32AsUleb128(t.length),t.forEach(n=>{n.serialize(e)})}function Xv(t,e){const n=new bn;n.serializeU32AsUleb128(t.length);const r=n[e];return t.forEach(i=>{r.call(n,i)}),n.getBytes()}function jr(t,e){const n=t.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push(e.deserialize(t));return r}function Si(t){const e=new bn;return t.serialize(e),e.getBytes()}function Zv(t){const e=new bn;return e.serializeU64(t),e.getBytes()}function yf(t){const e=new bn;return e.serializeU8(t),e.getBytes()}function Yv(t){const e=new bn;return e.serializeU16(t),e.getBytes()}function Jv(t){const e=new bn;return e.serializeU32(t),e.getBytes()}function Qv(t){const e=new bn;return e.serializeU128(t),e.getBytes()}function e6(t){const e=new bn;return e.serializeBool(t),e.getBytes()}function t6(t){const e=new bn;return e.serializeStr(t),e.getBytes()}function to(t){const e=new bn;return e.serializeBytes(t),e.getBytes()}function n6(t){const e=new bn;return e.serializeFixedBytes(t),e.getBytes()}var Cr=class{constructor(e){if(e.length!==Cr.LENGTH)throw new Error("Expected address of length 32");this.address=e}static fromHex(e){let n=_t.ensure(e);n.noPrefix().length%2!==0&&(n=new _t(`0${n.noPrefix()}`));const r=n.toUint8Array();if(r.length>Cr.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(r.length===Cr.LENGTH)return new Cr(r);const i=new Uint8Array(Cr.LENGTH);return i.set(r,Cr.LENGTH-r.length),new Cr(i)}static isValid(e){if(e==="")return!1;let n=_t.ensure(e);return n.noPrefix().length%2!==0&&(n=new _t(`0${n.noPrefix()}`)),n.toUint8Array().length<=Cr.LENGTH}toHexString(){return _t.fromUint8Array(this.address).hex()}serialize(e){e.serializeFixedBytes(this.address)}static deserialize(e){return new Cr(e.deserializeFixedBytes(Cr.LENGTH))}},gn=Cr;gn.LENGTH=32;gn.CORE_CODE_ADDRESS=Cr.fromHex("0x1");var su=class{constructor(e){if(e.length!==su.LENGTH)throw new Error(`Ed25519PublicKey length should be ${su.LENGTH}`);this.value=e}toBytes(){return this.value}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const n=e.deserializeBytes();return new su(n)}},Nr=su;Nr.LENGTH=32;var ou=class{constructor(e){if(this.value=e,e.length!==ou.LENGTH)throw new Error(`Ed25519Signature length should be ${ou.LENGTH}`)}serialize(e){e.serializeBytes(this.value)}static deserialize(e){const n=e.deserializeBytes();return new ou(n)}},ui=ou;ui.LENGTH=64;var mf=32,ic=class{constructor(e,n){if(this.public_keys=e,this.threshold=n,n>mf)throw new Error(`"threshold" cannot be larger than ${mf}`)}toBytes(){const e=new Uint8Array(this.public_keys.length*Nr.LENGTH+1);return this.public_keys.forEach((n,r)=>{e.set(n.value,r*Nr.LENGTH)}),e[this.public_keys.length*Nr.LENGTH]=this.threshold,e}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const n=e.deserializeBytes(),r=n[n.length-1],i=[];for(let s=0;s<n.length-1;s+=Nr.LENGTH){const o=s;i.push(new Nr(n.subarray(o,o+Nr.LENGTH)))}return new ic(i,r)}},Ea=class{constructor(e,n){if(this.signatures=e,this.bitmap=n,n.length!==Ea.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Ea.BITMAP_LEN}`)}toBytes(){const e=new Uint8Array(this.signatures.length*ui.LENGTH+Ea.BITMAP_LEN);return this.signatures.forEach((n,r)=>{e.set(n.value,r*ui.LENGTH)}),e.set(this.bitmap,this.signatures.length*ui.LENGTH),e}static createBitmap(e){const r=new Uint8Array([0,0,0,0]),i=new Set;return e.forEach(s=>{if(s>=mf)throw new Error(`Invalid bit value ${s}.`);if(i.has(s))throw new Error("Duplicated bits detected.");i.add(s);const o=Math.floor(s/8);let a=r[o];a|=128>>s%8,r[o]=a}),r}serialize(e){e.serializeBytes(this.toBytes())}static deserialize(e){const n=e.deserializeBytes(),r=n.subarray(n.length-4),i=[];for(let s=0;s<n.length-r.length;s+=ui.LENGTH){const o=s;i.push(new ui(n.subarray(o,o+ui.LENGTH)))}return new Ea(i,r)}},fl=Ea;fl.BITMAP_LEN=4;var sc=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return hl.load(e);case 1:return pl.load(e);case 2:return h0.load(e);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${n}`)}}},hl=class extends sc{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=Nr.deserialize(e),r=ui.deserialize(e);return new hl(n,r)}},pl=class extends sc{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=ic.deserialize(e),r=fl.deserialize(e);return new pl(n,r)}},h0=class extends sc{constructor(e,n,r){super(),this.sender=e,this.secondary_signer_addresses=n,this.secondary_signers=r}serialize(e){e.serializeU32AsUleb128(2),this.sender.serialize(e),kr(this.secondary_signer_addresses,e),kr(this.secondary_signers,e)}static load(e){const n=Na.deserialize(e),r=jr(e,gn),i=jr(e,Na);return new h0(n,r,i)}},Na=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return p0.load(e);case 1:return g0.load(e);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${n}`)}}},p0=class extends Na{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(0),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=Nr.deserialize(e),r=ui.deserialize(e);return new p0(n,r)}},g0=class extends Na{constructor(e,n){super(),this.public_key=e,this.signature=n}serialize(e){e.serializeU32AsUleb128(1),this.public_key.serialize(e),this.signature.serialize(e)}static load(e){const n=ic.deserialize(e),r=fl.deserialize(e);return new g0(n,r)}},ar=class{constructor(e){this.value=e}serialize(e){e.serializeStr(this.value)}static deserialize(e){const n=e.deserializeStr();return new ar(n)}},Wn=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return Ns.load(e);case 1:return bi.load(e);case 2:return Ds.load(e);case 3:return Ls.load(e);case 4:return Hs.load(e);case 5:return y0.load(e);case 6:return aa.load(e);case 7:return zs.load(e);case 8:return ia.load(e);case 9:return sa.load(e);case 10:return oa.load(e);default:throw new Error(`Unknown variant index for TypeTag: ${n}`)}}},Ns=class extends Wn{serialize(e){e.serializeU32AsUleb128(0)}static load(e){return new Ns}},bi=class extends Wn{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new bi}},ia=class extends Wn{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new ia}},sa=class extends Wn{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new sa}},Ds=class extends Wn{serialize(e){e.serializeU32AsUleb128(2)}static load(e){return new Ds}},Ls=class extends Wn{serialize(e){e.serializeU32AsUleb128(3)}static load(e){return new Ls}},oa=class extends Wn{serialize(e){e.serializeU32AsUleb128(1)}static load(e){return new oa}},Hs=class extends Wn{serialize(e){e.serializeU32AsUleb128(4)}static load(e){return new Hs}},y0=class extends Wn{serialize(e){e.serializeU32AsUleb128(5)}static load(e){return new y0}},aa=class extends Wn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),this.value.serialize(e)}static load(e){const n=Wn.deserialize(e);return new aa(n)}},zs=class extends Wn{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),this.value.serialize(e)}static load(e){const n=Mo.deserialize(e);return new zs(n)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===gn.fromHex("0x1").toHexString()}},Mo=class{constructor(e,n,r,i){this.address=e,this.module_name=n,this.name=r,this.type_args=i}static fromString(e){if(e.includes("<"))throw new Error("Not implemented");const n=e.split("::");if(n.length!==3)throw new Error("Invalid struct tag string literal.");return new Mo(gn.fromHex(n[0]),new ar(n[1]),new ar(n[2]),[])}serialize(e){this.address.serialize(e),this.module_name.serialize(e),this.name.serialize(e),kr(this.type_args,e)}static deserialize(e){const n=gn.deserialize(e),r=ar.deserialize(e),i=ar.deserialize(e),s=jr(e,Wn);return new Mo(n,r,i,s)}},ca=class{constructor(e,n,r,i,s,o,a){this.sender=e,this.sequence_number=n,this.payload=r,this.max_gas_amount=i,this.gas_unit_price=s,this.expiration_timestamp_secs=o,this.chain_id=a}serialize(e){this.sender.serialize(e),e.serializeU64(this.sequence_number),this.payload.serialize(e),e.serializeU64(this.max_gas_amount),e.serializeU64(this.gas_unit_price),e.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(e)}static deserialize(e){const n=gn.deserialize(e),r=e.deserializeU64(),i=cc.deserialize(e),s=e.deserializeU64(),o=e.deserializeU64(),a=e.deserializeU64(),c=ml.deserialize(e);return new ca(n,r,i,s,o,a,c)}},oc=class{constructor(e,n,r){this.code=e,this.ty_args=n,this.args=r}serialize(e){e.serializeBytes(this.code),kr(this.ty_args,e),kr(this.args,e)}static deserialize(e){const n=e.deserializeBytes(),r=jr(e,Wn),i=jr(e,ti);return new oc(n,r,i)}},xs=class{constructor(e,n,r,i){this.module_name=e,this.function_name=n,this.ty_args=r,this.args=i}static natural(e,n,r,i){return new xs(Bs.fromStr(e),new ar(n),r,i)}static natual(e,n,r,i){return xs.natural(e,n,r,i)}serialize(e){this.module_name.serialize(e),this.function_name.serialize(e),kr(this.ty_args,e),e.serializeU32AsUleb128(this.args.length),this.args.forEach(n=>{e.serializeBytes(n)})}static deserialize(e){const n=Bs.deserialize(e),r=ar.deserialize(e),i=jr(e,Wn),s=e.deserializeUleb128AsU32(),o=[];for(let c=0;c<s;c+=1)o.push(e.deserializeBytes());const a=o;return new xs(n,r,i,a)}},m0=class{constructor(e){this.transaction_payload=e}serialize(e){e.serializeU32AsUleb128(0),this.transaction_payload.serialize(e)}static deserialize(e){return new m0(xs.deserialize(e))}},w0=class{constructor(e,n){this.multisig_address=e,this.transaction_payload=n}serialize(e){this.multisig_address.serialize(e),this.transaction_payload===void 0?e.serializeBool(!1):(e.serializeBool(!0),this.transaction_payload.serialize(e))}static deserialize(e){const n=gn.deserialize(e),r=e.deserializeBool();let i;return r&&(i=m0.deserialize(e)),new w0(n,i)}},t1=class{constructor(e){this.code=e}serialize(e){e.serializeBytes(this.code)}static deserialize(e){const n=e.deserializeBytes();return new t1(n)}},Bs=class{constructor(e,n){this.address=e,this.name=n}static fromStr(e){const n=e.split("::");if(n.length!==2)throw new Error("Invalid module id.");return new Bs(gn.fromHex(new _t(n[0])),new ar(n[1]))}serialize(e){this.address.serialize(e),this.name.serialize(e)}static deserialize(e){const n=gn.deserialize(e),r=ar.deserialize(e);return new Bs(n,r)}},r6=class{serialize(e){throw new Error("Not implemented.")}static deserialize(e){throw new Error("Not implemented.")}},i6=class{serialize(e){throw new Error("Not implmented.")}static deserialize(e){throw new Error("Not implmented.")}},ac=class{constructor(e,n){this.raw_txn=e,this.authenticator=n}serialize(e){this.raw_txn.serialize(e),this.authenticator.serialize(e)}static deserialize(e){const n=ca.deserialize(e),r=sc.deserialize(e);return new ac(n,r)}},n1=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return gl.load(e);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${n}`)}}},gl=class extends n1{constructor(e,n){super(),this.raw_txn=e,this.secondary_signer_addresses=n}serialize(e){e.serializeU32AsUleb128(0),this.raw_txn.serialize(e),kr(this.secondary_signer_addresses,e)}static load(e){const n=ca.deserialize(e),r=jr(e,gn);return new gl(n,r)}},cc=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return uc.load(e);case 2:return yl.load(e);case 3:return _0.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${n}`)}}},uc=class extends cc{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){const n=oc.deserialize(e);return new uc(n)}},yl=class extends cc{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),this.value.serialize(e)}static load(e){const n=xs.deserialize(e);return new yl(n)}},_0=class extends cc{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const n=w0.deserialize(e);return new _0(n)}},ml=class{constructor(e){this.value=e}serialize(e){e.serializeU8(this.value)}static deserialize(e){const n=e.deserializeU8();return new ml(n)}},ti=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return wl.load(e);case 1:return qo.load(e);case 2:return vl.load(e);case 3:return No.load(e);case 4:return Do.load(e);case 5:return Sl.load(e);case 6:return _l.load(e);case 7:return bl.load(e);case 8:return xl.load(e);default:throw new Error(`Unknown variant index for TransactionArgument: ${n}`)}}},wl=class extends ti{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(0),e.serializeU8(this.value)}static load(e){const n=e.deserializeU8();return new wl(n)}},_l=class extends ti{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(6),e.serializeU16(this.value)}static load(e){const n=e.deserializeU16();return new _l(n)}},bl=class extends ti{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(7),e.serializeU32(this.value)}static load(e){const n=e.deserializeU32();return new bl(n)}},qo=class extends ti{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(1),e.serializeU64(this.value)}static load(e){const n=e.deserializeU64();return new qo(n)}},vl=class extends ti{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(2),e.serializeU128(this.value)}static load(e){const n=e.deserializeU128();return new vl(n)}},xl=class extends ti{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(8),e.serializeU256(this.value)}static load(e){const n=e.deserializeU256();return new xl(n)}},No=class extends ti{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(3),this.value.serialize(e)}static load(e){const n=gn.deserialize(e);return new No(n)}},Do=class extends ti{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(4),e.serializeBytes(this.value)}static load(e){const n=e.deserializeBytes();return new Do(n)}},Sl=class extends ti{constructor(e){super(),this.value=e}serialize(e){e.serializeU32AsUleb128(5),e.serializeBool(this.value)}static load(e){const n=e.deserializeBool();return new Sl(n)}},r1=class{getHashSalt(){const e=Oo.create();return e.update("APTOS::Transaction"),e.digest()}static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return b0.load(e);default:throw new Error(`Unknown variant index for Transaction: ${n}`)}}},b0=class extends r1{constructor(e){super(),this.value=e}hash(){const e=Oo.create();return e.update(this.getHashSalt()),e.update(Si(this)),e.digest()}serialize(e){e.serializeU32AsUleb128(0),this.value.serialize(e)}static load(e){return new b0(ac.deserialize(e))}},lc=class{constructor(e){this.name=e}serialize(e){e.serializeStr(this.name)}static deserialize(e){const n=e.deserializeStr();return new lc(n)}},dc=class{constructor(e,n){this.name=e,this.type_tag=n}serialize(e){e.serializeStr(this.name),this.type_tag.serialize(e)}static deserialize(e){const n=e.deserializeStr(),r=Wn.deserialize(e);return new dc(n,r)}},Tl=class{static deserialize(e){const n=e.deserializeUleb128AsU32();switch(n){case 0:return Al.load(e);case 1:return Lo.load(e);default:throw new Error(`Unknown variant index for TransactionPayload: ${n}`)}}},Al=class extends Tl{constructor(e,n,r,i,s){super(),this.name=e,this.doc=n,this.code=r,this.ty_args=i,this.args=s}serialize(e){e.serializeU32AsUleb128(0),e.serializeStr(this.name),e.serializeStr(this.doc),e.serializeBytes(this.code),kr(this.ty_args,e),kr(this.args,e)}static load(e){const n=e.deserializeStr(),r=e.deserializeStr(),i=e.deserializeBytes(),s=jr(e,lc),o=jr(e,dc);return new Al(n,r,i,s,o)}},Lo=class extends Tl{constructor(e,n,r,i,s){super(),this.name=e,this.module_name=n,this.doc=r,this.ty_args=i,this.args=s}serialize(e){e.serializeU32AsUleb128(1),e.serializeStr(this.name),this.module_name.serialize(e),e.serializeStr(this.doc),kr(this.ty_args,e),kr(this.args,e)}static load(e){const n=e.deserializeStr(),r=Bs.deserialize(e),i=e.deserializeStr(),s=jr(e,lc),o=jr(e,dc);return new Lo(n,r,i,s,o)}},no=class{constructor(e){if(e.length!==no.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=e}static fromMultiEd25519PublicKey(e){const n=e.toBytes(),r=new Uint8Array(n.length+1);r.set(n),r.set([no.MULTI_ED25519_SCHEME],n.length);const i=Oo.create();return i.update(r),new no(i.digest())}static fromEd25519PublicKey(e){const n=e.value,r=new Uint8Array(n.length+1);r.set(n),r.set([no.ED25519_SCHEME],n.length);const i=Oo.create();return i.update(r),new no(i.digest())}derivedAddress(){return _t.fromUint8Array(this.bytes)}},Rs=no;Rs.LENGTH=32;Rs.MULTI_ED25519_SCHEME=1;Rs.ED25519_SCHEME=0;Rs.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var s6=class{constructor(e,n,r,i,s,o,a){this.accountAddress=e,this.moduleName=n,this.structName=r,this.sequenceNumber=i,this.originator=s,this.currentAuthKey=o,this.newPublicKey=a}serialize(e){this.accountAddress.serialize(e),e.serializeStr(this.moduleName),e.serializeStr(this.structName),e.serializeU64(this.sequenceNumber),this.originator.serialize(e),this.currentAuthKey.serialize(e),e.serializeBytes(this.newPublicKey)}},au=class{static fromAptosAccountObject(e){return new au(_t.ensure(e.privateKeyHex).toUint8Array(),e.address)}static fromDerivePath(e,n){if(!au.isValidPath(e))throw new Error("Invalid derivation path");const r=n.trim().split(/\s+/).map(s=>s.toLowerCase()).join(" "),{key:i}=Ky(e,wy(cy(r)));return new au(i)}constructor(e,n){e?this.signingKey=ts.sign.keyPair.fromSeed(e.slice(0,32)):this.signingKey=ts.sign.keyPair(),this.accountAddress=_t.ensure(n||this.authKey().hex())}address(){return this.accountAddress}authKey(){const e=new Nr(this.signingKey.publicKey);return Rs.fromEd25519PublicKey(e).derivedAddress()}static getResourceAccountAddress(e,n){const r=Si(gn.fromHex(e)),i=new Uint8Array([...r,...n,Rs.DERIVE_RESOURCE_ACCOUNT_SCHEME]),s=Oo.create();return s.update(i),_t.fromUint8Array(s.digest())}pubKey(){return _t.fromUint8Array(this.signingKey.publicKey)}signBuffer(e){const n=ts.sign(e,this.signingKey.secretKey);return _t.fromUint8Array(n.slice(0,64))}signHexString(e){const n=_t.ensure(e).toUint8Array();return this.signBuffer(n)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:_t.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},Ho=au;Ho.isValidPath=t=>!!/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(t);en([dl()],Ho.prototype,"authKey",1);function yi(t){return t instanceof Ho?t.address():_t.ensure(t)}var o6=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,a6=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,c6=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${o6}
${a6}`,u6=`
    query getIndexerLedgerInfo {
  ledger_infos {
    chain_id
  }
}
    `,l6=`
    query getTokenActivities($idHash: String!) {
  token_activities(where: {token_data_id_hash: {_eq: $idHash}}) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,v0=class{constructor(e){this.endpoint=e}async queryIndexer(e){const{data:n}=await Yr.post(this.endpoint,e);if(n.errors)throw new Error(`Indexer data error ${JSON.stringify(n.errors,null," ")}`);return n.data}async getIndexerLedgerInfo(){const e={query:u6};return this.queryIndexer(e)}async getAccountNFTs(e,n){const r={query:c6,variables:{address:e,offset:n==null?void 0:n.offset,limit:n==null?void 0:n.limit}};return this.queryIndexer(r)}async getTokenActivities(e){const n={query:l6,variables:{idHash:e}};return this.queryIndexer(n)}},i1={};ll(i1,{$AccountData:()=>A6,$AccountSignature:()=>E6,$AccountSignature_Ed25519Signature:()=>k6,$AccountSignature_MultiEd25519Signature:()=>B6,$Address:()=>R6,$AptosError:()=>I6,$AptosErrorCode:()=>P6,$Block:()=>U6,$BlockMetadataTransaction:()=>O6,$DecodedTableData:()=>C6,$DeleteModule:()=>M6,$DeleteResource:()=>q6,$DeleteTableItem:()=>N6,$DeletedTableData:()=>$6,$DirectWriteSet:()=>D6,$Ed25519Signature:()=>L6,$EncodeSubmissionRequest:()=>H6,$EntryFunctionId:()=>z6,$EntryFunctionPayload:()=>F6,$Event:()=>j6,$EventGuid:()=>W6,$GasEstimation:()=>G6,$GenesisPayload:()=>V6,$GenesisPayload_WriteSetPayload:()=>K6,$GenesisTransaction:()=>X6,$HashValue:()=>Z6,$HealthCheckSuccess:()=>Y6,$HexEncodedBytes:()=>J6,$IdentifierWrapper:()=>Q6,$IndexResponse:()=>ex,$ModuleBundlePayload:()=>tx,$MoveAbility:()=>nx,$MoveFunction:()=>rx,$MoveFunctionGenericTypeParam:()=>ix,$MoveFunctionVisibility:()=>sx,$MoveModule:()=>ox,$MoveModuleBytecode:()=>ax,$MoveModuleId:()=>cx,$MoveResource:()=>ux,$MoveScriptBytecode:()=>lx,$MoveStruct:()=>dx,$MoveStructField:()=>fx,$MoveStructGenericTypeParam:()=>hx,$MoveStructTag:()=>px,$MoveStructValue:()=>gx,$MoveType:()=>yx,$MoveValue:()=>mx,$MultiAgentSignature:()=>wx,$MultiEd25519Signature:()=>_x,$MultisigPayload:()=>bx,$MultisigTransactionPayload:()=>vx,$PendingTransaction:()=>xx,$RawTableItemRequest:()=>Sx,$RoleType:()=>Tx,$ScriptPayload:()=>Ax,$ScriptWriteSet:()=>Ex,$StateCheckpointTransaction:()=>kx,$StateKeyWrapper:()=>Bx,$SubmitTransactionRequest:()=>Rx,$TableItemRequest:()=>Ix,$Transaction:()=>Px,$TransactionPayload:()=>qx,$TransactionPayload_EntryFunctionPayload:()=>Nx,$TransactionPayload_ModuleBundlePayload:()=>Dx,$TransactionPayload_MultisigPayload:()=>Lx,$TransactionPayload_ScriptPayload:()=>Hx,$TransactionSignature:()=>jx,$TransactionSignature_Ed25519Signature:()=>Wx,$TransactionSignature_MultiAgentSignature:()=>Gx,$TransactionSignature_MultiEd25519Signature:()=>Vx,$Transaction_BlockMetadataTransaction:()=>Ux,$Transaction_GenesisTransaction:()=>Ox,$Transaction_PendingTransaction:()=>Cx,$Transaction_StateCheckpointTransaction:()=>$x,$Transaction_UserTransaction:()=>Mx,$TransactionsBatchSingleSubmissionFailure:()=>zx,$TransactionsBatchSubmissionResult:()=>Fx,$U128:()=>Kx,$U256:()=>Xx,$U64:()=>Zx,$UserTransaction:()=>Yx,$VersionedEvent:()=>Jx,$ViewRequest:()=>Qx,$WriteModule:()=>e3,$WriteResource:()=>t3,$WriteSet:()=>n3,$WriteSetChange:()=>s3,$WriteSetChange_DeleteModule:()=>o3,$WriteSetChange_DeleteResource:()=>a3,$WriteSetChange_DeleteTableItem:()=>c3,$WriteSetChange_WriteModule:()=>u3,$WriteSetChange_WriteResource:()=>l3,$WriteSetChange_WriteTableItem:()=>d3,$WriteSetPayload:()=>f3,$WriteSet_DirectWriteSet:()=>r3,$WriteSet_ScriptWriteSet:()=>i3,$WriteTableItem:()=>h3,AccountsService:()=>f1,ApiError:()=>Da,AptosErrorCode:()=>b1,AptosGeneratedClient:()=>_1,BaseHttpRequest:()=>s1,BlocksService:()=>h1,CancelError:()=>o1,CancelablePromise:()=>a1,EventsService:()=>p1,GeneralService:()=>g1,MoveFunctionVisibility:()=>v1,OpenAPI:()=>T6,RoleType:()=>x1,TablesService:()=>y1,TransactionsService:()=>m1,ViewService:()=>w1});var s1=class{constructor(e){this.config=e}},Da=class extends Error{constructor(e,n,r){super(r),this.name="ApiError",this.url=n.url,this.status=n.status,this.statusText=n.statusText,this.body=n.body,this.request=e}},o1=class extends Error{constructor(e){super(e),this.name="CancelError"}get isCancelled(){return!0}},a1=class{constructor(e){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((n,r)=>{this._resolve=n,this._reject=r;const i=a=>{var c;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(c=this._resolve)==null||c.call(this,a))},s=a=>{var c;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(c=this._reject)==null||c.call(this,a))},o=a=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(a)};return Object.defineProperty(o,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(o,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(o,"isCancelled",{get:()=>this._isCancelled}),e(i,s,o)})}then(e,n){return this._promise.then(e,n)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(){var e;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const n of this._cancelHandlers)n()}catch(n){console.warn("Cancellation threw an error",n);return}this._cancelHandlers.length=0,(e=this._reject)==null||e.call(this,new o1("Request aborted"))}}get isCancelled(){return this._isCancelled}},c1=class{constructor(e=new Map){this.jar=e}setCookie(e,n){var r;const i=e.origin.toLowerCase();this.jar.has(i)||this.jar.set(i,[]);const s=c1.parse(n);this.jar.set(i,[...((r=this.jar.get(i))==null?void 0:r.filter(o=>o.name!==s.name))||[],s])}getCookies(e){var n;const r=e.origin.toLowerCase();return this.jar.get(r)?((n=this.jar.get(r))==null?void 0:n.filter(i=>!i.expires||i.expires>new Date))||[]:[]}static parse(e){if(typeof e!="string")throw new Error("argument str must be a string");const n=e.split(";").map(i=>i.trim());let r;if(n.length>0){const[i,s]=n[0].split("=");if(!i||!s)throw new Error("Invalid cookie");r={name:i,value:s}}else throw new Error("Invalid cookie");return n.slice(1).forEach(i=>{const[s,o]=i.split("=");if(!s.trim())throw new Error("Invalid cookie");const a=s.toLowerCase(),c=(o==null?void 0:o.charAt(0))==="'"||(o==null?void 0:o.charAt(0))==='"'?o==null?void 0:o.slice(1,-1):o;if(a==="expires"&&(r.expires=new Date(c)),a==="path"&&(r.path=c),a==="samesite"){if(c!=="Lax"&&c!=="None"&&c!=="Strict")throw new Error("Invalid cookie SameSite value");r.sameSite=c}a==="secure"&&(r.secure=!0)}),r}},u1=new c1;Yr.interceptors.response.use(t=>(Array.isArray(t.headers["set-cookie"])&&t.headers["set-cookie"].forEach(e=>{u1.setCookie(new URL(t.config.url),e)}),t));Yr.interceptors.request.use(function(t){const e=u1.getCookies(new URL(t.url));return(e==null?void 0:e.length)>0&&t.headers&&(t.headers.cookie=e.map(n=>`${n.name}=${n.value}`).join("; ")),t});var x0=t=>t!=null,El=t=>typeof t=="string",$d=t=>El(t)&&t!=="",l1=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),d6=t=>t instanceof ul,f6=t=>t>=200&&t<300,h6=t=>btoa(t),p6=t=>{const e=[],n=(i,s)=>{e.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},r=(i,s)=>{x0(s)&&(Array.isArray(s)?s.forEach(o=>{r(i,o)}):typeof s=="object"?Object.entries(s).forEach(([o,a])=>{r(`${i}[${o}]`,a)}):n(i,s))};return Object.entries(t).forEach(([i,s])=>{r(i,s)}),e.length>0?`?${e.join("&")}`:""},g6=(t,e)=>{const n=t.ENCODE_PATH||encodeURI,r=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(s,o)=>{var a;return(a=e.path)!=null&&a.hasOwnProperty(o)?n(String(e.path[o])):s}),i=`${t.BASE}${r}`;return e.query?`${i}${p6(e.query)}`:i},y6=t=>{if(t.formData){const e=new ul,n=(r,i)=>{El(i)||l1(i)?e.append(r,i):e.append(r,JSON.stringify(i))};return Object.entries(t.formData).filter(([r,i])=>x0(i)).forEach(([r,i])=>{Array.isArray(i)?i.forEach(s=>n(r,s)):n(r,i)}),e}},Pc=async(t,e)=>typeof e=="function"?e(t):e,m6=async(t,e,n)=>{const r=await Pc(e,t.TOKEN),i=await Pc(e,t.USERNAME),s=await Pc(e,t.PASSWORD),o=await Pc(e,t.HEADERS),a=typeof(n==null?void 0:n.getHeaders)=="function"&&(n==null?void 0:n.getHeaders())||{},c=Object.entries({Accept:"application/json",...o,...e.headers,...a}).filter(([u,l])=>x0(l)).reduce((u,[l,d])=>({...u,[l]:String(d)}),{});if($d(r)&&(c.Authorization=`Bearer ${r}`),$d(i)&&$d(s)){const u=h6(`${i}:${s}`);c.Authorization=`Basic ${u}`}return e.body&&(e.mediaType?c["Content-Type"]=e.mediaType:l1(e.body)?c["Content-Type"]=e.body.type||"application/octet-stream":El(e.body)?c["Content-Type"]="text/plain":d6(e.body)||(c["Content-Type"]="application/json")),c},w6=t=>{if(t.body)return t.body},_6=async(t,e,n,r,i,s,o)=>{const a=Yr.CancelToken.source(),c={url:n,headers:s,data:r??i,method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:a.token};Object.keys(t.HEADERS||{}).filter(l=>l.toLowerCase()==="accept").map(l=>t.HEADERS[l]).includes("application/x-bcs")&&(c.responseType="arraybuffer"),o(()=>a.cancel("The user aborted a request."));try{return await Yr.request(c)}catch(l){const d=l;if(d.response)return d.response;throw l}},b6=(t,e)=>{if(e){const n=t.headers[e];if(El(n))return n}},v6=t=>{if(t.status!==204)return t.data},x6=(t,e)=>{const r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(r)throw new Da(t,e,r);if(!e.ok)throw new Da(t,e,"Generic Error")},S6=(t,e)=>new a1(async(n,r,i)=>{try{const s=g6(t,e),o=y6(e),a=w6(e),c=await m6(t,e,o);if(!i.isCancelled){const u=await _6(t,e,s,a,o,c,i),l=v6(u),d=b6(u,e.responseHeader),h={url:s,ok:f6(u.status),status:u.status,statusText:u.statusText,body:d??l};x6(e,h);const y=h.body;try{y.__headers=u.headers}catch{}n(y)}}catch(s){r(s)}}),d1=class extends s1{constructor(e){super(e)}request(e){return S6(this.config,e)}},f1=class{constructor(e){this.httpRequest=e}getAccount(e,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:e},query:{ledger_version:n}})}getAccountResources(e,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:e},query:{ledger_version:n,start:r,limit:i}})}getAccountModules(e,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:e},query:{ledger_version:n,start:r,limit:i}})}getAccountResource(e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:e,resource_type:n},query:{ledger_version:r}})}getAccountModule(e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:e,module_name:n},query:{ledger_version:r}})}},h1=class{constructor(e){this.httpRequest=e}getBlockByHeight(e,n){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:e},query:{with_transactions:n}})}getBlockByVersion(e,n){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:e},query:{with_transactions:n}})}},p1=class{constructor(e){this.httpRequest=e}getEventsByCreationNumber(e,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:e,creation_number:n},query:{start:r,limit:i}})}getEventsByEventHandle(e,n,r,i,s){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:e,event_handle:n,field_name:r},query:{start:i,limit:s}})}},g1=class{constructor(e){this.httpRequest=e}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(e){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:e}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},y1=class{constructor(e){this.httpRequest=e}getTableItem(e,n,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:e},query:{ledger_version:r},body:n,mediaType:"application/json"})}getRawTableItem(e,n,r){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:e},query:{ledger_version:r},body:n,mediaType:"application/json"})}},m1=class{constructor(e){this.httpRequest=e}getTransactions(e,n){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:e,limit:n}})}submitTransaction(e){return this.httpRequest.request({method:"POST",url:"/transactions",body:e,mediaType:"application/json"})}getTransactionByHash(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:e}})}getTransactionByVersion(e){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:e}})}getAccountTransactions(e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:e},query:{start:n,limit:r}})}submitBatchTransactions(e){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:e,mediaType:"application/json"})}simulateTransaction(e,n,r,i){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:n,estimate_gas_unit_price:r,estimate_prioritized_gas_unit_price:i},body:e,mediaType:"application/json"})}encodeSubmission(e){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:e,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},w1=class{constructor(e){this.httpRequest=e}view(e,n){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:n},body:e,mediaType:"application/json"})}},_1=class{constructor(e,n=d1){var r,i,s,o;this.request=new n({BASE:(r=e==null?void 0:e.BASE)!=null?r:"/v1",VERSION:(i=e==null?void 0:e.VERSION)!=null?i:"1.2.0",WITH_CREDENTIALS:(s=e==null?void 0:e.WITH_CREDENTIALS)!=null?s:!1,CREDENTIALS:(o=e==null?void 0:e.CREDENTIALS)!=null?o:"include",TOKEN:e==null?void 0:e.TOKEN,USERNAME:e==null?void 0:e.USERNAME,PASSWORD:e==null?void 0:e.PASSWORD,HEADERS:e==null?void 0:e.HEADERS,ENCODE_PATH:e==null?void 0:e.ENCODE_PATH}),this.accounts=new f1(this.request),this.blocks=new h1(this.request),this.events=new p1(this.request),this.general=new g1(this.request),this.tables=new y1(this.request),this.transactions=new m1(this.request),this.view=new w1(this.request)}},T6={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},b1=(t=>(t.ACCOUNT_NOT_FOUND="account_not_found",t.RESOURCE_NOT_FOUND="resource_not_found",t.MODULE_NOT_FOUND="module_not_found",t.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",t.VERSION_NOT_FOUND="version_not_found",t.TRANSACTION_NOT_FOUND="transaction_not_found",t.TABLE_ITEM_NOT_FOUND="table_item_not_found",t.BLOCK_NOT_FOUND="block_not_found",t.VERSION_PRUNED="version_pruned",t.BLOCK_PRUNED="block_pruned",t.INVALID_INPUT="invalid_input",t.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",t.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",t.VM_ERROR="vm_error",t.HEALTH_CHECK_FAILED="health_check_failed",t.MEMPOOL_IS_FULL="mempool_is_full",t.INTERNAL_ERROR="internal_error",t.WEB_FRAMEWORK_ERROR="web_framework_error",t.BCS_NOT_SUPPORTED="bcs_not_supported",t.API_DISABLED="api_disabled",t))(b1||{}),v1=(t=>(t.PRIVATE="private",t.PUBLIC="public",t.FRIEND="friend",t))(v1||{}),x1=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(x1||{}),A6={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},E6={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},k6={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},B6={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},R6={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},I6={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},P6={type:"Enum"},U6={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},O6={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},C6={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},$6={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},M6={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},q6={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},N6={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},D6={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},L6={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},H6={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},z6={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},F6={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},j6={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},W6={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},G6={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},V6={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},K6={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},X6={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},Z6={type:"string"},Y6={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},J6={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},Q6={type:"string"},ex={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},tx={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},nx={type:"string"},rx={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},ix={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},sx={type:"Enum"},ox={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},ax={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},cx={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},ux={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},lx={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},dx={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},fx={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},hx={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},px={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},gx={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},yx={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},mx={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},wx={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},_x={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},bx={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},vx={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},xx={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},Sx={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},Tx={type:"Enum"},Ax={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},Ex={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},kx={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Bx={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},Rx={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},Ix={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},Px={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},Ux={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},Ox={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},Cx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},$x={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},Mx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},qx={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},Nx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},Dx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},Lx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},Hx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},zx={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},Fx={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},jx={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},Wx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},Gx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},Vx={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},Kx={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},Xx={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},Zx={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},Yx={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},Jx={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},Qx={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},e3={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},t3={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},n3={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},r3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},i3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},s3={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},o3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},a3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},c3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},u3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},l3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},d3={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},f3={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},h3={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}},p3=new Mo(gn.fromHex("0x1"),new ar("string"),new ar("String"),[]);function kl(t,e,n){if(!(e!=null&&e.includes(typeof t)))throw new Error(n||`Invalid arg: ${t} type should be ${e instanceof Array?e.join(" or "):e}`)}function hs(t){throw new Error(t)}function sp(t){return!!t.match(/\s/)}function op(t){return!!t.match(/[_A-Za-z0-9]/g)}function g3(t,e){const n=t[e];if(n===":"){if(t.slice(e,e+2)==="::")return[["COLON","::"],2];hs("Unrecognized token.")}else{if(n==="<")return[["LT","<"],1];if(n===">")return[["GT",">"],1];if(n===",")return[["COMMA",","],1];if(sp(n)){let r="";for(let i=e;i<t.length;i+=1){const s=t[i];if(sp(s))r=`${r}${s}`;else break}return[["SPACE",r],r.length]}else if(op(n)){let r="";for(let i=e;i<t.length;i+=1){const s=t[i];if(op(s))r=`${r}${s}`;else break}return[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function y3(t){let e=0;const n=[];for(;e<t.length;){const[r,i]=g3(t,e);r[0]!=="SPACE"&&n.push(r),e+=i}return n}var Bl=class{constructor(e){this.tokens=y3(e)}consume(e){const n=this.tokens.shift();(!n||n[1]!==e)&&hs("Invalid type tag.")}parseCommaList(e,n){const r=[];for(this.tokens.length<=0&&hs("Invalid type tag.");this.tokens[0][1]!==e&&(r.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===e||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===e&&n)));)this.tokens.length<=0&&hs("Invalid type tag.");return r}parseTypeTag(){this.tokens.length===0&&hs("Invalid type tag.");const[e,n]=this.tokens.shift();if(n==="u8")return new bi;if(n==="u16")return new ia;if(n==="u32")return new sa;if(n==="u64")return new Ds;if(n==="u128")return new Ls;if(n==="u256")return new oa;if(n==="bool")return new Ns;if(n==="address")return new Hs;if(n==="vector"){this.consume("<");const r=this.parseTypeTag();return this.consume(">"),new aa(r)}if(e==="IDENT"&&(n.startsWith("0x")||n.startsWith("0X"))){const r=n;this.consume("::");const[i,s]=this.tokens.shift();i!=="IDENT"&&hs("Invalid type tag."),this.consume("::");const[o,a]=this.tokens.shift();o!=="IDENT"&&hs("Invalid type tag.");let c=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),c=this.parseCommaList(">",!0),this.consume(">"));const u=new Mo(gn.fromHex(r),new ar(s),new ar(a),c);return new zs(u)}throw new Error("Invalid type tag.")}};function S1(t){if(kl(t,["boolean","string"]),typeof t=="boolean")return t;if(t==="true")return!0;if(t==="false")return!1;throw new Error("Invalid boolean string.")}function bo(t){if(kl(t,["number","string"]),typeof t=="number")return t;const e=Number.parseInt(t,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function vo(t){return kl(t,["number","bigint","string"]),BigInt(t)}function S0(t,e,n){if(e instanceof Ns){n.serializeBool(S1(t));return}if(e instanceof bi){n.serializeU8(bo(t));return}if(e instanceof ia){n.serializeU16(bo(t));return}if(e instanceof sa){n.serializeU32(bo(t));return}if(e instanceof Ds){n.serializeU64(vo(t));return}if(e instanceof Ls){n.serializeU128(vo(t));return}if(e instanceof oa){n.serializeU256(vo(t));return}if(e instanceof Hs){let r;if(typeof t=="string"||t instanceof _t)r=gn.fromHex(t);else if(t instanceof gn)r=t;else throw new Error("Invalid account address.");r.serialize(n);return}if(e instanceof aa){if(e.value instanceof bi){if(t instanceof Uint8Array){n.serializeBytes(t);return}if(typeof t=="string"){n.serializeStr(t);return}}if(!Array.isArray(t))throw new Error("Invalid vector args.");n.serializeU32AsUleb128(t.length),t.forEach(r=>S0(r,e.value,n));return}if(e instanceof zs){const{address:r,module_name:i,name:s}=e.value;if(`${_t.fromUint8Array(r.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");kl(t,["string"]),n.serializeStr(t);return}throw new Error("Unsupported arg type.")}function m3(t,e){if(e instanceof Ns)return new Sl(S1(t));if(e instanceof bi)return new wl(bo(t));if(e instanceof ia)return new _l(bo(t));if(e instanceof sa)return new bl(bo(t));if(e instanceof Ds)return new qo(vo(t));if(e instanceof Ls)return new vl(vo(t));if(e instanceof oa)return new xl(vo(t));if(e instanceof Hs){let n;if(typeof t=="string"||t instanceof _t)n=gn.fromHex(t);else if(t instanceof gn)n=t;else throw new Error("Invalid account address.");return new No(n)}if(e instanceof aa&&e.value instanceof bi){if(!(t instanceof Uint8Array))throw new Error(`${t} should be an instance of Uint8Array`);return new Do(t)}throw new Error("Unknown type for TransactionArgument.")}var w3="APTOS::RawTransaction",_3="APTOS::RawTransactionWithData",Is=class{constructor(e,n){this.rawTxnBuilder=n,this.signingFunction=e}build(e,n,r){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(e,n,r)}static getSigningMessage(e){const n=Oo.create();if(e instanceof ca)n.update(w3);else if(e instanceof gl)n.update(_3);else throw new Error("Unknown transaction type.");const r=n.digest(),i=Si(e),s=new Uint8Array(r.length+i.length);return s.set(r),s.set(i,r.length),s}},cu=class extends Is{constructor(e,n,r){super(e,r),this.publicKey=n}rawToSigned(e){const n=Is.getSigningMessage(e),r=this.signingFunction(n),i=new hl(new Nr(this.publicKey),r);return new ac(e,i)}sign(e){return Si(this.rawToSigned(e))}},T1=class extends Is{constructor(e,n){super(e),this.publicKey=n}rawToSigned(e){const n=Is.getSigningMessage(e),r=this.signingFunction(n),i=new pl(this.publicKey,r);return new ac(e,i)}sign(e){return Si(this.rawToSigned(e))}},xu=class{constructor(e,n){this.abiMap=new Map,e.forEach(r=>{const i=new f0(r),s=Tl.deserialize(i);let o;if(s instanceof Lo){const a=s,{address:c,name:u}=a.module_name;o=`${_t.fromUint8Array(c.address).toShortString()}::${u.value}::${a.name}`}else o=s.name;if(this.abiMap.has(o))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(o,s)}),this.builderConfig={maxGasAmount:BigInt(Xy),expSecFromNow:Zy,...n}}static toBCSArgs(e,n){if(e.length!==n.length)throw new Error("Wrong number of args provided.");return n.map((r,i)=>{const s=new bn;return S0(r,e[i].type_tag,s),s.getBytes()})}static toTransactionArguments(e,n){if(e.length!==n.length)throw new Error("Wrong number of args provided.");return n.map((r,i)=>m3(r,e[i].type_tag))}setSequenceNumber(e){this.builderConfig.sequenceNumber=BigInt(e)}buildTransactionPayload(e,n,r){const i=n.map(a=>new Bl(a).parseTypeTag());let s;if(!this.abiMap.has(e))throw new Error(`Cannot find function: ${e}`);const o=this.abiMap.get(e);if(o instanceof Lo){const a=o,c=xu.toBCSArgs(a.args,r);s=new yl(new xs(a.module_name,new ar(a.name),i,c))}else if(o instanceof Al){const a=o,c=xu.toTransactionArguments(a.args,r);s=new uc(new oc(a.code,i,c))}else throw new Error("Unknown ABI format.");return s}build(e,n,r){const{sender:i,sequenceNumber:s,gasUnitPrice:o,maxGasAmount:a,expSecFromNow:c,chainId:u}=this.builderConfig;if(!o)throw new Error("No gasUnitPrice provided.");const l=i instanceof gn?i:gn.fromHex(i),d=BigInt(Math.floor(Date.now()/1e3)+Number(c)),h=this.buildTransactionPayload(e,n,r);if(h)return new ca(l,BigInt(s),h,BigInt(a),BigInt(o),d,new ml(Number(u)));throw new Error("Invalid ABI.")}},sr=class{constructor(e,n){this.aptosClient=e,this.builderConfig=n}async fetchABI(e){const r=(await this.aptosClient.getAccountModules(e)).map(s=>s.abi).flatMap(s=>s.exposed_functions.filter(o=>o.is_entry).map(o=>({fullName:`${s.address}::${s.name}::${o.name}`,...o}))),i=new Map;return r.forEach(s=>{i.set(s.fullName,s)}),i}async build(e,n,r){if(e=(_=>_.replace(/^0[xX]0*/g,"0x"))(e),e.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[o,a]=e.split("::"),c=await this.fetchABI(o);if(!c.has(e))throw new Error(`${e} doesn't exist.`);const u=c.get(e),d=u.params.filter(_=>_!=="signer"&&_!=="&signer").map((_,S)=>new dc(`var${S}`,new Bl(_).parseTypeTag())),h=new Lo(u.name,Bs.fromStr(`${o}::${a}`),"",u.generic_type_params.map((_,S)=>new lc(`${S}`)),d),{sender:y,...b}=this.builderConfig,T=y instanceof gn?_t.fromUint8Array(y.address):y,[{sequence_number:k},O,{gas_estimate:B}]=await Promise.all([b!=null&&b.sequenceNumber?Promise.resolve({sequence_number:b==null?void 0:b.sequenceNumber}):this.aptosClient.getAccount(T),b!=null&&b.chainId?Promise.resolve(b==null?void 0:b.chainId):this.aptosClient.getChainId(),b!=null&&b.gasUnitPrice?Promise.resolve({gas_estimate:b==null?void 0:b.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new xu([Si(h)],{sender:y,sequenceNumber:k,chainId:O,gasUnitPrice:BigInt(B),...b}).build(e,n,r)}};en([zv(10*60*1e3)],sr.prototype,"fetchABI",1);var ka=class{constructor(e,n,r=!1){if(!e)throw new Error("Node URL cannot be empty.");const i=n==null?{}:{...n};r?this.nodeUrl=e:this.nodeUrl=Hv(e),i.BASE=this.nodeUrl,(n==null?void 0:n.WITH_CREDENTIALS)===!1?i.WITH_CREDENTIALS=!1:i.WITH_CREDENTIALS=!0,this.client=new _1(i)}async getAccount(e){return this.client.accounts.getAccount(_t.ensure(e).hex())}async getAccountTransactions(e,n){var r;return this.client.transactions.getAccountTransactions(_t.ensure(e).hex(),(r=n==null?void 0:n.start)==null?void 0:r.toString(),n==null?void 0:n.limit)}async getAccountModules(e,n){const r=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await ip(r,e,1e3,n)}async getAccountModule(e,n,r){var i;return this.client.accounts.getAccountModule(_t.ensure(e).hex(),n,(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString())}async getAccountResources(e,n){const r=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await ip(r,e,9999,n)}async getAccountResource(e,n,r){var i;return this.client.accounts.getAccountResource(_t.ensure(e).hex(),n,(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString())}static generateBCSTransaction(e,n){return new cu(i=>{const s=e.signBuffer(i);return new Gt.Ed25519Signature(s.toUint8Array())},e.pubKey().toUint8Array()).sign(n)}static generateBCSSimulation(e,n){return new cu(i=>{const s=new Uint8Array(64);return new Gt.Ed25519Signature(s)},e.pubKey().toUint8Array()).sign(n)}async generateTransaction(e,n,r){const i={sender:e};if(r!=null&&r.sequence_number&&(i.sequenceNumber=r.sequence_number),r!=null&&r.gas_unit_price&&(i.gasUnitPrice=r.gas_unit_price),r!=null&&r.max_gas_amount&&(i.maxGasAmount=r.max_gas_amount),r!=null&&r.expiration_timestamp_secs){const o=Number.parseInt(r.expiration_timestamp_secs,10);i.expSecFromNow=o-Math.floor(Date.now()/1e3)}return new sr(this,i).build(n.function,n.type_arguments,n.arguments)}async signTransaction(e,n){return Promise.resolve(ka.generateBCSTransaction(e,n))}async getEventsByCreationNumber(e,n,r){var i;return this.client.events.getEventsByCreationNumber(_t.ensure(e).hex(),n.toString(),(i=r==null?void 0:r.start)==null?void 0:i.toString(),r==null?void 0:r.limit)}async getEventsByEventHandle(e,n,r,i){var s;return this.client.events.getEventsByEventHandle(_t.ensure(e).hex(),n,r,(s=i==null?void 0:i.start)==null?void 0:s.toString(),i==null?void 0:i.limit)}async submitTransaction(e){return this.submitSignedBCSTransaction(e)}async simulateTransaction(e,n,r){let i;return e instanceof Ho?i=ka.generateBCSSimulation(e,n):e instanceof ic?i=new T1(()=>{const{threshold:o}=e,a=[],c=[];for(let l=0;l<o;l+=1)a.push(l),c.push(new Gt.Ed25519Signature(new Uint8Array(64)));const u=Gt.MultiEd25519Signature.createBitmap(a);return new Gt.MultiEd25519Signature(c,u)},e).sign(n):i=new cu(()=>{const o=new Uint8Array(64);return new Gt.Ed25519Signature(o)},e.toBytes()).sign(n),this.submitBCSSimulation(i,r)}async submitSignedBCSTransaction(e){return this.client.request.request({url:"/transactions",method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(e,n){var r,i,s;const o={estimate_gas_unit_price:(r=n==null?void 0:n.estimateGasUnitPrice)!=null?r:!1,estimate_max_gas_amount:(i=n==null?void 0:n.estimateMaxGasAmount)!=null?i:!1,estimate_prioritized_gas_unit_price:(s=n==null?void 0:n.estimatePrioritizedGasUnitPrice)!=null?s:!1};return this.client.request.request({url:"/transactions/simulate",query:o,method:"POST",body:e,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(e){var n;return this.client.transactions.getTransactions((n=e==null?void 0:e.start)==null?void 0:n.toString(),e==null?void 0:e.limit)}async getTransactionByHash(e){return this.client.transactions.getTransactionByHash(e)}async getTransactionByVersion(e){return this.client.transactions.getTransactionByVersion(e.toString())}async transactionPending(e){try{return(await this.client.transactions.getTransactionByHash(e)).type==="pending_transaction"}catch(n){if((n==null?void 0:n.status)===404)return!0;throw n}}async waitForTransactionWithResult(e,n){var r,i;const s=(r=n==null?void 0:n.timeoutSecs)!=null?r:Yy,o=(i=n==null?void 0:n.checkSuccess)!=null?i:!1;let a=!0,c=0,u;for(;a&&!(c>=s);){try{if(u=await this.client.transactions.getTransactionByHash(e),a=u.type==="pending_transaction",!a)break}catch(l){const d=l instanceof Da,h=d&&l.status!==404&&l.status>=400&&l.status<500;if(!d||h)throw l}await Lv(1e3),c+=1}if(u===void 0)throw new Error(`Waiting for transaction ${e} failed`);if(a)throw new E1(`Waiting for transaction ${e} timed out after ${s} seconds`,u);if(!o)return u;if(!(u!=null&&u.success))throw new k1(`Transaction ${e} committed to the blockchain but execution failed`,u);return u}async waitForTransaction(e,n){await this.waitForTransactionWithResult(e,n)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(e,n,r){var i;return await this.client.tables.getTableItem(e,n,(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString())}async generateRawTransaction(e,n,r){const[{sequence_number:i},s,{gas_estimate:o}]=await Promise.all([this.getAccount(e),this.getChainId(),r!=null&&r.gasUnitPrice?Promise.resolve({gas_estimate:r.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:a,gasUnitPrice:c,expireTimestamp:u}={maxGasAmount:BigInt(Xy),gasUnitPrice:BigInt(o),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+Zy),...r};return new Gt.RawTransaction(Gt.AccountAddress.fromHex(e),BigInt(i),n,a,c,u,new Gt.ChainId(s))}async generateSignSubmitTransaction(e,n,r){const i=await this.generateRawTransaction(e.address(),n,r),s=ka.generateBCSTransaction(e,i);return(await this.submitSignedBCSTransaction(s)).hash}async publishPackage(e,n,r,i){const s=new bn;kr(r,s);const o=new Gt.TransactionPayloadEntryFunction(Gt.EntryFunction.natural("0x1::code","publish_package_txn",[],[to(n),s.getBytes()]));return this.generateSignSubmitTransaction(e,o,i)}async generateSignSubmitWaitForTransaction(e,n,r){const i=await this.generateSignSubmitTransaction(e,n,r);return this.waitForTransactionWithResult(i,r)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(e){const n=`0x1::coin::CoinStore<${gf}>`,[{gas_estimate:r},i]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(e)]),s=i.find(a=>a.type===n);return BigInt(s.data.coin.value)/BigInt(r)}async rotateAuthKeyEd25519(e,n,r){const{sequence_number:i,authentication_key:s}=await this.getAccount(e.address()),o=new Ho(n),a=new Gt.RotationProofChallenge(Gt.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(i),Gt.AccountAddress.fromHex(e.address()),new Gt.AccountAddress(new _t(s).toUint8Array()),o.pubKey().toUint8Array()),c=_t.fromUint8Array(Si(a)),u=e.signHexString(c),l=o.signHexString(c),d=new Gt.TransactionPayloadEntryFunction(Gt.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[yf(0),to(e.pubKey().toUint8Array()),yf(0),to(o.pubKey().toUint8Array()),to(u.toUint8Array()),to(l.toUint8Array())])),h=await this.generateRawTransaction(e.address(),d,r),y=ka.generateBCSTransaction(e,h);return this.submitSignedBCSTransaction(y)}async lookupOriginalAddress(e){const n=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:r}}=n.data,i=await this.getTableItem(r,{key_type:"address",value_type:"address",key:_t.ensure(e).hex()});return new _t(i)}async getBlockByHeight(e,n){return this.client.blocks.getBlockByHeight(e,n)}async getBlockByVersion(e,n){return this.client.blocks.getBlockByVersion(e,n)}async view(e,n){return this.client.view.view(e,n)}clearCache(e){Fv(e)}},Ct=ka;en([An],Ct.prototype,"getAccount",1);en([An],Ct.prototype,"getAccountTransactions",1);en([An],Ct.prototype,"getAccountModules",1);en([An],Ct.prototype,"getAccountModule",1);en([An],Ct.prototype,"getAccountResources",1);en([An],Ct.prototype,"getAccountResource",1);en([An],Ct.prototype,"getEventsByCreationNumber",1);en([An],Ct.prototype,"getEventsByEventHandle",1);en([An],Ct.prototype,"submitSignedBCSTransaction",1);en([An],Ct.prototype,"submitBCSSimulation",1);en([An],Ct.prototype,"getTransactions",1);en([An],Ct.prototype,"getTransactionByHash",1);en([An],Ct.prototype,"getTransactionByVersion",1);en([An],Ct.prototype,"getLedgerInfo",1);en([dl()],Ct.prototype,"getChainId",1);en([An],Ct.prototype,"getTableItem",1);en([An,dl({ttlMs:5*60*1e3,tags:["gas_estimates"]})],Ct.prototype,"estimateGasPrice",1);en([An],Ct.prototype,"estimateMaxGasAmount",1);en([An],Ct.prototype,"getBlockByHeight",1);en([An],Ct.prototype,"getBlockByVersion",1);en([An],Ct.prototype,"view",1);var A1=class extends Error{constructor(e,n,r,i){super(n),this.status=e,this.message=n,this.errorCode=r,this.vmErrorCode=i}},E1=class extends Error{constructor(e,n){super(e),this.lastSubmittedTransaction=n}},k1=class extends Error{constructor(e,n){super(e),this.transaction=n}};function An(t,e,n){const r=n.value;return n.value=async function(...s){var o,a;try{return await r.apply(this,[...s])}catch(c){throw c instanceof Da?new A1(c.status,JSON.stringify({message:c.message,...c.body}),(o=c.body)==null?void 0:o.error_code,(a=c.body)==null?void 0:a.vm_error_code):c}},n}var T0=class{constructor(e,n,r=!1){let i=null,s=null;if(typeof e=="object"&&b3(e)?(i=e.fullnodeUrl,s=e.indexerUrl):(i=Wv[e],s=jv[e]),!i||!s)throw new Error("network is not provided");this.aptosClient=new Ct(i,n,r),this.indexerClient=new v0(s)}};function B1(t,e,n){Object.getOwnPropertyNames(e.prototype).forEach(r=>{const i=Object.getOwnPropertyDescriptor(e.prototype,r);i&&(i.value=function(...s){return this[n][r](...s)},Object.defineProperty(t.prototype,r,i))})}B1(T0,Ct,"aptosClient");B1(T0,v0,"indexerClient");function b3(t){return t.fullnodeUrl!==void 0&&typeof t.fullnodeUrl=="string"&&t.indexerUrl!==void 0&&typeof t.indexerUrl=="string"}var v3="a11ceb0b0500000006010004020408030c0a05161d073339086c400000010100020700010307000104030100010504020007060c0508000800030503010801000405080008000304060c0801050306737472696e6705746f6b656e06537472696e6707546f6b656e4964136372656174655f746f6b656e5f69645f726177087472616e73666572000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000010c0b010b020b030b0411000c070b000b070b050b06110102",R1=class{constructor(e,n){this.type=e,this.value=n}},A0=class{constructor(){this.data={}}setProperty(e,n){this.data[e]=n}};function I1(t){let e;return t==="string"||t==="String"?e=new zs(p3):e=new Bl(t).parseTypeTag(),e}function P1(t,e){if(t.length!==e.length)throw new Error("Length of property values and types not match");const n=new Array;return e.forEach((r,i)=>{try{const s=I1(r),o=new bn;S0(t[i],s,o),n.push(o.getBytes())}catch{n.push(new TextEncoder().encode(t[i]))}}),n}function E0(t){const e=t.map.data,n=new A0;return e.forEach(r=>{const{key:i}=r,s=r.value.value,o=r.value.type,a=I1(o),c=U1(a,s),u=new R1(o,c);n.setProperty(i,u)}),n}function U1(t,e){const n=new f0(new _t(e).toUint8Array());let r="";return t instanceof bi?r=n.deserializeU8().toString():t instanceof Ds?r=n.deserializeU64().toString():t instanceof Ls?r=n.deserializeU128().toString():t instanceof Ns?r=n.deserializeBool()?"true":"false":t instanceof Hs?r=_t.fromUint8Array(n.deserializeFixedBytes(32)).hex():t instanceof zs&&t.isStringTypeTag()?r=n.deserializeStr():r=e,r}var O1={};ll(O1,{PropertyMap:()=>A0,PropertyValue:()=>R1,Token:()=>$1,TokenData:()=>C1});var C1=class{constructor(e,n,r,i,s,o,a,c){this.collection=e,this.description=n,this.name=r,this.maximum=i,this.supply=s,this.uri=o,this.default_properties=E0(a),this.mutability_config=c}},$1=class{constructor(e,n,r){this.id=e,this.amount=n,this.token_properties=E0(r)}},x3=class{constructor(e){this.aptosClient=e}async createCollection(e,n,r,i,s=Ua,o){const c=await new sr(this.aptosClient,{sender:e.address(),...o}).build("0x3::token::create_collection_script",[],[n,r,i,s,[!1,!1,!1]]),u=Ct.generateBCSTransaction(e,c);return(await this.aptosClient.submitSignedBCSTransaction(u)).hash}async createToken(e,n,r,i,s,o,a=Ua,c=e.address(),u=0,l=0,d=[],h=[],y=[],b){const k=await new sr(this.aptosClient,{sender:e.address(),...b}).build("0x3::token::create_token_script",[],[n,r,i,s,a,o,c,u,l,[!1,!1,!1,!1,!1],d,P1(h,y),y]),O=Ct.generateBCSTransaction(e,k);return(await this.aptosClient.submitSignedBCSTransaction(O)).hash}async createTokenWithMutabilityConfig(e,n,r,i,s,o,a=Ua,c=e.address(),u=0,l=0,d=[],h=[],y=[],b=[!1,!1,!1,!1,!1],T){const O=await new sr(this.aptosClient,{sender:e.address(),...T}).build("0x3::token::create_token_script",[],[n,r,i,s,a,o,c,u,l,b,d,h,y]),B=Ct.generateBCSTransaction(e,O);return(await this.aptosClient.submitSignedBCSTransaction(B)).hash}async offerToken(e,n,r,i,s,o,a=0,c){const l=await new sr(this.aptosClient,{sender:e.address(),...c}).build("0x3::token_transfers::offer_script",[],[n,r,i,s,a,o]),d=Ct.generateBCSTransaction(e,l);return(await this.aptosClient.submitSignedBCSTransaction(d)).hash}async claimToken(e,n,r,i,s,o=0,a){const u=await new sr(this.aptosClient,{sender:e.address(),...a}).build("0x3::token_transfers::claim_script",[],[n,r,i,s,o]),l=Ct.generateBCSTransaction(e,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async cancelTokenOffer(e,n,r,i,s,o=0,a){const u=await new sr(this.aptosClient,{sender:e.address(),...a}).build("0x3::token_transfers::cancel_offer_script",[],[n,r,i,s,o]),l=Ct.generateBCSTransaction(e,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async directTransferToken(e,n,r,i,s,o,a=0,c){const l=await new sr(this.aptosClient,{sender:e.address(),...c}).build("0x3::token::direct_transfer_script",[],[r,i,s,a,o]),d=new Gt.MultiAgentRawTransaction(l,[Gt.AccountAddress.fromHex(n.address())]),h=new Gt.Ed25519Signature(e.signBuffer(Is.getSigningMessage(d)).toUint8Array()),y=new Gt.AccountAuthenticatorEd25519(new Gt.Ed25519PublicKey(e.signingKey.publicKey),h),b=new Gt.Ed25519Signature(n.signBuffer(Is.getSigningMessage(d)).toUint8Array()),T=new Gt.AccountAuthenticatorEd25519(new Gt.Ed25519PublicKey(n.signingKey.publicKey),b),k=new Gt.TransactionAuthenticatorMultiAgent(y,[Gt.AccountAddress.fromHex(n.address())],[T]),O=Si(new Gt.SignedTransaction(l,k));return(await this.aptosClient.submitSignedBCSTransaction(O)).hash}async optInTokenTransfer(e,n,r){const s=await new sr(this.aptosClient,{sender:e.address(),...r}).build("0x3::token::opt_in_direct_transfer",[],[n]),o=Ct.generateBCSTransaction(e,s);return(await this.aptosClient.submitSignedBCSTransaction(o)).hash}async transferWithOptIn(e,n,r,i,s,o,a,c){const u=new uc(new oc(new _t(v3).toUint8Array(),[],[new No(Gt.AccountAddress.fromHex(n)),new Do(new TextEncoder().encode(r)),new Do(new TextEncoder().encode(i)),new qo(BigInt(s)),new No(Gt.AccountAddress.fromHex(o)),new qo(BigInt(a))]));return this.aptosClient.generateSignSubmitTransaction(e,u,c)}async burnByCreator(e,n,r,i,s,o,a){const u=await new sr(this.aptosClient,{sender:e.address(),...a}).build("0x3::token::burn_by_creator",[],[n,r,i,s,o]),l=Ct.generateBCSTransaction(e,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async burnByOwner(e,n,r,i,s,o,a){const u=await new sr(this.aptosClient,{sender:e.address(),...a}).build("0x3::token::burn",[],[n,r,i,s,o]),l=Ct.generateBCSTransaction(e,u);return(await this.aptosClient.submitSignedBCSTransaction(l)).hash}async mutateTokenProperties(e,n,r,i,s,o,a,c,u,l,d){const y=await new sr(this.aptosClient,{sender:e.address(),...d}).build("0x3::token::mutate_token_properties",[],[n,r,i,s,o,a,c,u,l]),b=Ct.generateBCSTransaction(e,y);return(await this.aptosClient.submitSignedBCSTransaction(b)).hash}async getCollectionData(e,n){const i=(await this.aptosClient.getAccountResources(e)).find(c=>c.type==="0x3::token::Collections"),{handle:s}=i.data.collection_data,o={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:n};return await this.aptosClient.getTableItem(s,o)}async getTokenData(e,n,r){const i=e instanceof _t?e.hex():e,s=await this.aptosClient.getAccountResource(i,"0x3::token::Collections"),{handle:o}=s.data.token_data,c={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:i,collection:n,name:r}},u=await this.aptosClient.getTableItem(o,c);return new C1(u.collection,u.description,u.name,u.maximum,u.supply,u.uri,u.default_properties,u.mutability_config)}async getToken(e,n,r,i="0"){const s={creator:e instanceof _t?e.hex():e,collection:n,name:r};return this.getTokenForAccount(e,{token_data_id:s,property_version:i})}async getTokenForAccount(e,n){const r=await this.aptosClient.getAccountResource(e instanceof _t?e.hex():e,"0x3::token::TokenStore"),{handle:i}=r.data.tokens,s={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:n};try{const o=await this.aptosClient.getTableItem(i,s);return new $1(o.id,o.amount,o.token_properties)}catch(o){return(o==null?void 0:o.status)===404?{id:n,amount:"0",token_properties:new A0}:o}}},S3=class{constructor(t){this.aptosClient=t}async transfer(t,e,n,r){var i;const s=(i=r==null?void 0:r.coinType)!=null?i:gf,o=r!=null&&r.createReceiverIfMissing?"0x1::aptos_account::transfer":"0x1::coin::transfer",a=r!=null&&r.createReceiverIfMissing?[]:[s],c=yi(e),l=await new sr(this.aptosClient,{sender:t.address(),...r}).build(o,a,[c,n]),d=Ct.generateBCSTransaction(t,l);return(await this.aptosClient.submitSignedBCSTransaction(d)).hash}async checkBalance(t,e){var n;const i=`0x1::coin::CoinStore<${(n=e==null?void 0:e.coinType)!=null?n:gf}>`,s=yi(t),o=await this.aptosClient.getAccountResource(s,i);return BigInt(o.data.coin.value)}},T3=class extends Ct{constructor(t,e,n){var r,i,s;if(super(t,n),!e)throw new Error("Faucet URL cannot be empty.");this.faucetRequester=new d1({BASE:e,VERSION:(r=n==null?void 0:n.VERSION)!=null?r:"0.1.0",WITH_CREDENTIALS:(i=n==null?void 0:n.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=n==null?void 0:n.CREDENTIALS)!=null?s:"include",TOKEN:n==null?void 0:n.TOKEN,USERNAME:n==null?void 0:n.USERNAME,PASSWORD:n==null?void 0:n.PASSWORD,HEADERS:n==null?void 0:n.HEADERS,ENCODE_PATH:n==null?void 0:n.ENCODE_PATH})}async fundAccount(t,e,n=Yy){const r=await this.faucetRequester.request({method:"POST",url:"/mint",query:{address:_t.ensure(t).noPrefix(),amount:e}}),i=[];for(let s=0;s<r.length;s+=1){const o=r[s];i.push(this.waitForTransaction(o,{timeoutSecs:n}))}return await Promise.all(i),r}};const HO=Object.freeze(Object.defineProperty({__proto__:null,ApiError:A1,AptosAccount:Ho,AptosClient:Ct,BCS:Qy,CoinClient:S3,FailedTransactionError:k1,FaucetClient:T3,HexString:_t,IndexerClient:v0,Network:Jy,Provider:T0,TokenClient:x3,TokenTypes:O1,TransactionBuilder:Is,TransactionBuilderABI:xu,TransactionBuilderEd25519:cu,TransactionBuilderMultiEd25519:T1,TransactionBuilderRemoteABI:sr,TxnBuilderTypes:Gt,TypeTagParser:Bl,Types:i1,WaitForTransactionError:E1,derivePath:Ky,deserializePropertyMap:E0,deserializeValueBasedOnTypeTag:U1,getAddressFromAccountOrAddress:yi,getPropertyValueRaw:P1},Symbol.toStringTag,{value:"Module"}));var vr={},Mn={};Object.defineProperty(Mn,"__esModule",{value:!0});Mn.output=Mn.exists=Mn.hash=Mn.bytes=Mn.bool=Mn.number=void 0;function Su(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Mn.number=Su;function M1(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Mn.bool=M1;function k0(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Mn.bytes=k0;function q1(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Su(t.outputLen),Su(t.blockLen)}Mn.hash=q1;function N1(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Mn.exists=N1;function D1(t,e){k0(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Mn.output=D1;const A3={number:Su,bool:M1,bytes:k0,hash:q1,exists:N1,output:D1};Mn.default=A3;var zo={},L1={},Fs={},Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});Rl.crypto=void 0;Rl.crypto={node:void 0,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0};(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=Rl,n=_=>new Uint8Array(_.buffer,_.byteOffset,_.byteLength);t.u8=n;const r=_=>new Uint32Array(_.buffer,_.byteOffset,Math.floor(_.byteLength/4));t.u32=r;const i=_=>new DataView(_.buffer,_.byteOffset,_.byteLength);t.createView=i;const s=(_,S)=>_<<32-S|_>>>S;if(t.rotr=s,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(_,S)=>S.toString(16).padStart(2,"0"));function a(_){if(!(_ instanceof Uint8Array))throw new Error("Uint8Array expected");let S="";for(let M=0;M<_.length;M++)S+=o[_[M]];return S}t.bytesToHex=a;function c(_){if(typeof _!="string")throw new TypeError("hexToBytes: expected string, got "+typeof _);if(_.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const S=new Uint8Array(_.length/2);for(let M=0;M<S.length;M++){const F=M*2,W=_.slice(F,F+2),Y=Number.parseInt(W,16);if(Number.isNaN(Y)||Y<0)throw new Error("Invalid byte sequence");S[M]=Y}return S}t.hexToBytes=c;const u=async()=>{};t.nextTick=u;async function l(_,S,M){let F=Date.now();for(let W=0;W<_;W++){M(W);const Y=Date.now()-F;Y>=0&&Y<S||(await(0,t.nextTick)(),F+=Y)}}t.asyncLoop=l;function d(_){if(typeof _!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof _}`);return new TextEncoder().encode(_)}t.utf8ToBytes=d;function h(_){if(typeof _=="string"&&(_=d(_)),!(_ instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof _})`);return _}t.toBytes=h;function y(..._){if(!_.every(F=>F instanceof Uint8Array))throw new Error("Uint8Array list expected");if(_.length===1)return _[0];const S=_.reduce((F,W)=>F+W.length,0),M=new Uint8Array(S);for(let F=0,W=0;F<_.length;F++){const Y=_[F];M.set(Y,W),W+=Y.length}return M}t.concatBytes=y;class b{clone(){return this._cloneInto()}}t.Hash=b;const T=_=>Object.prototype.toString.call(_)==="[object Object]"&&_.constructor===Object;function k(_,S){if(S!==void 0&&(typeof S!="object"||!T(S)))throw new TypeError("Options should be object or undefined");return Object.assign(_,S)}t.checkOpts=k;function O(_){const S=F=>_().update(h(F)).digest(),M=_();return S.outputLen=M.outputLen,S.blockLen=M.blockLen,S.create=()=>_(),S}t.wrapConstructor=O;function B(_){const S=(F,W)=>_(W).update(h(F)).digest(),M=_({});return S.outputLen=M.outputLen,S.blockLen=M.blockLen,S.create=F=>_(F),S}t.wrapConstructorWithOpts=B;function v(_=32){if(e.crypto.web)return e.crypto.web.getRandomValues(new Uint8Array(_));if(e.crypto.node)return new Uint8Array(e.crypto.node.randomBytes(_).buffer);throw new Error("The environment doesn't have randomBytes function")}t.randomBytes=v})(Fs);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const e=Mn,n=Fs;class r extends n.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,e.default.hash(o);const c=(0,n.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let d=0;d<l.length;d++)l[d]^=54;this.iHash.update(l),this.oHash=o.create();for(let d=0;d<l.length;d++)l[d]^=106;this.oHash.update(l),l.fill(0)}update(o){return e.default.exists(this),this.iHash.update(o),this}digestInto(o){e.default.exists(this),e.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:d,outputLen:h}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=d,o.outputLen=h,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i=(s,o,a)=>new r(s,o).update(a).digest();t.hmac=i,t.hmac.create=(s,o)=>new r(s,o)})(L1);Object.defineProperty(zo,"__esModule",{value:!0});zo.pbkdf2Async=zo.pbkdf2=void 0;const Uc=Mn,E3=L1,xo=Fs;function H1(t,e,n,r){Uc.default.hash(t);const i=(0,xo.checkOpts)({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Uc.default.number(s),Uc.default.number(o),Uc.default.number(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,xo.toBytes)(e),u=(0,xo.toBytes)(n),l=new Uint8Array(o),d=E3.hmac.create(t,c),h=d._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:d,PRFSalt:h}}function z1(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function k3(t,e,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=H1(t,e,n,r);let u;const l=new Uint8Array(4),d=(0,xo.createView)(l),h=new Uint8Array(a.outputLen);for(let y=1,b=0;b<s;y++,b+=a.outputLen){const T=o.subarray(b,b+a.outputLen);d.setInt32(0,y,!1),(u=c._cloneInto(u)).update(l).digestInto(h),T.set(h.subarray(0,T.length));for(let k=1;k<i;k++){a._cloneInto(u).update(h).digestInto(h);for(let O=0;O<T.length;O++)T[O]^=h[O]}}return z1(a,c,o,u,h)}zo.pbkdf2=k3;async function B3(t,e,n,r){const{c:i,dkLen:s,asyncTick:o,DK:a,PRF:c,PRFSalt:u}=H1(t,e,n,r);let l;const d=new Uint8Array(4),h=(0,xo.createView)(d),y=new Uint8Array(c.outputLen);for(let b=1,T=0;T<s;b++,T+=c.outputLen){const k=a.subarray(T,T+c.outputLen);h.setInt32(0,b,!1),(l=u._cloneInto(l)).update(d).digestInto(y),k.set(y.subarray(0,k.length)),await(0,xo.asyncLoop)(i-1,o,O=>{c._cloneInto(l).update(y).digestInto(y);for(let B=0;B<k.length;B++)k[B]^=y[B]})}return z1(c,u,a,l,y)}zo.pbkdf2Async=B3;var Fo={},fc={};Object.defineProperty(fc,"__esModule",{value:!0});fc.SHA2=void 0;const Md=Mn,xa=Fs;function R3(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let I3=class extends xa.Hash{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=(0,xa.createView)(this.buffer)}update(e){Md.default.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=(0,xa.toBytes)(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=(0,xa.createView)(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Md.default.exists(this),Md.default.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;R3(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=(0,xa.createView)(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};fc.SHA2=I3;Object.defineProperty(Fo,"__esModule",{value:!0});Fo.sha224=Fo.sha256=void 0;const P3=fc,$r=Fs,U3=(t,e,n)=>t&e^~t&n,O3=(t,e,n)=>t&e^t&n^e&n,C3=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ui=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Oi=new Uint32Array(64);let F1=class extends P3.SHA2{constructor(){super(64,32,8,!1),this.A=Ui[0]|0,this.B=Ui[1]|0,this.C=Ui[2]|0,this.D=Ui[3]|0,this.E=Ui[4]|0,this.F=Ui[5]|0,this.G=Ui[6]|0,this.H=Ui[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Oi[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Oi[d-15],y=Oi[d-2],b=(0,$r.rotr)(h,7)^(0,$r.rotr)(h,18)^h>>>3,T=(0,$r.rotr)(y,17)^(0,$r.rotr)(y,19)^y>>>10;Oi[d]=T+Oi[d-7]+b+Oi[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const h=(0,$r.rotr)(a,6)^(0,$r.rotr)(a,11)^(0,$r.rotr)(a,25),y=l+h+U3(a,c,u)+C3[d]+Oi[d]|0,T=((0,$r.rotr)(r,2)^(0,$r.rotr)(r,13)^(0,$r.rotr)(r,22))+O3(r,i,s)|0;l=u,u=c,c=a,a=o+y|0,o=s,s=i,i=r,r=y+T|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){Oi.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}},$3=class extends F1{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}};Fo.sha256=(0,$r.wrapConstructor)(()=>new F1);Fo.sha224=(0,$r.wrapConstructor)(()=>new $3);var zr={},j1={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.add=t.toBig=t.split=t.fromBig=void 0;const e=BigInt(2**32-1),n=BigInt(32);function r(J,q=!1){return q?{h:Number(J&e),l:Number(J>>n&e)}:{h:Number(J>>n&e)|0,l:Number(J&e)|0}}t.fromBig=r;function i(J,q=!1){let L=new Uint32Array(J.length),E=new Uint32Array(J.length);for(let f=0;f<J.length;f++){const{h:p,l:w}=r(J[f],q);[L[f],E[f]]=[p,w]}return[L,E]}t.split=i;const s=(J,q)=>BigInt(J>>>0)<<n|BigInt(q>>>0);t.toBig=s;const o=(J,q,L)=>J>>>L,a=(J,q,L)=>J<<32-L|q>>>L,c=(J,q,L)=>J>>>L|q<<32-L,u=(J,q,L)=>J<<32-L|q>>>L,l=(J,q,L)=>J<<64-L|q>>>L-32,d=(J,q,L)=>J>>>L-32|q<<64-L,h=(J,q)=>q,y=(J,q)=>J,b=(J,q,L)=>J<<L|q>>>32-L,T=(J,q,L)=>q<<L|J>>>32-L,k=(J,q,L)=>q<<L-32|J>>>64-L,O=(J,q,L)=>J<<L-32|q>>>64-L;function B(J,q,L,E){const f=(q>>>0)+(E>>>0);return{h:J+L+(f/2**32|0)|0,l:f|0}}t.add=B;const v=(J,q,L)=>(J>>>0)+(q>>>0)+(L>>>0),_=(J,q,L,E)=>q+L+E+(J/2**32|0)|0,S=(J,q,L,E)=>(J>>>0)+(q>>>0)+(L>>>0)+(E>>>0),M=(J,q,L,E,f)=>q+L+E+f+(J/2**32|0)|0,F=(J,q,L,E,f)=>(J>>>0)+(q>>>0)+(L>>>0)+(E>>>0)+(f>>>0),W=(J,q,L,E,f,p)=>q+L+E+f+p+(J/2**32|0)|0,Y={fromBig:r,split:i,toBig:t.toBig,shrSH:o,shrSL:a,rotrSH:c,rotrSL:u,rotrBH:l,rotrBL:d,rotr32H:h,rotr32L:y,rotlSH:b,rotlSL:T,rotlBH:k,rotlBL:O,add:B,add3L:v,add3H:_,add4L:S,add4H:M,add5H:W,add5L:F};t.default=Y})(j1);Object.defineProperty(zr,"__esModule",{value:!0});zr.sha384=zr.sha512_256=zr.sha512_224=zr.sha512=zr.SHA512=void 0;const M3=fc,Tt=j1,Il=Fs,[q3,N3]=Tt.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Ci=new Uint32Array(80),$i=new Uint32Array(80);let hc=class extends M3.SHA2{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:y,Gl:b,Hh:T,Hl:k}=this;return[e,n,r,i,s,o,a,c,u,l,d,h,y,b,T,k]}set(e,n,r,i,s,o,a,c,u,l,d,h,y,b,T,k){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=y|0,this.Gl=b|0,this.Hh=T|0,this.Hl=k|0}process(e,n){for(let v=0;v<16;v++,n+=4)Ci[v]=e.getUint32(n),$i[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const _=Ci[v-15]|0,S=$i[v-15]|0,M=Tt.default.rotrSH(_,S,1)^Tt.default.rotrSH(_,S,8)^Tt.default.shrSH(_,S,7),F=Tt.default.rotrSL(_,S,1)^Tt.default.rotrSL(_,S,8)^Tt.default.shrSL(_,S,7),W=Ci[v-2]|0,Y=$i[v-2]|0,J=Tt.default.rotrSH(W,Y,19)^Tt.default.rotrBH(W,Y,61)^Tt.default.shrSH(W,Y,6),q=Tt.default.rotrSL(W,Y,19)^Tt.default.rotrBL(W,Y,61)^Tt.default.shrSL(W,Y,6),L=Tt.default.add4L(F,q,$i[v-7],$i[v-16]),E=Tt.default.add4H(L,M,J,Ci[v-7],Ci[v-16]);Ci[v]=E|0,$i[v]=L|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:y,Fl:b,Gh:T,Gl:k,Hh:O,Hl:B}=this;for(let v=0;v<80;v++){const _=Tt.default.rotrSH(d,h,14)^Tt.default.rotrSH(d,h,18)^Tt.default.rotrBH(d,h,41),S=Tt.default.rotrSL(d,h,14)^Tt.default.rotrSL(d,h,18)^Tt.default.rotrBL(d,h,41),M=d&y^~d&T,F=h&b^~h&k,W=Tt.default.add5L(B,S,F,N3[v],$i[v]),Y=Tt.default.add5H(W,O,_,M,q3[v],Ci[v]),J=W|0,q=Tt.default.rotrSH(r,i,28)^Tt.default.rotrBH(r,i,34)^Tt.default.rotrBH(r,i,39),L=Tt.default.rotrSL(r,i,28)^Tt.default.rotrBL(r,i,34)^Tt.default.rotrBL(r,i,39),E=r&s^r&a^s&a,f=i&o^i&c^o&c;O=T|0,B=k|0,T=y|0,k=b|0,y=d|0,b=h|0,{h:d,l:h}=Tt.default.add(u|0,l|0,Y|0,J|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const p=Tt.default.add3L(J,L,f);r=Tt.default.add3H(p,Y,q,E),i=p|0}({h:r,l:i}=Tt.default.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Tt.default.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Tt.default.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=Tt.default.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=Tt.default.add(this.Eh|0,this.El|0,d|0,h|0),{h:y,l:b}=Tt.default.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:T,l:k}=Tt.default.add(this.Gh|0,this.Gl|0,T|0,k|0),{h:O,l:B}=Tt.default.add(this.Hh|0,this.Hl|0,O|0,B|0),this.set(r,i,s,o,a,c,u,l,d,h,y,b,T,k,O,B)}roundClean(){Ci.fill(0),$i.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};zr.SHA512=hc;let D3=class extends hc{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}},L3=class extends hc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},H3=class extends hc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};zr.sha512=(0,Il.wrapConstructor)(()=>new hc);zr.sha512_224=(0,Il.wrapConstructor)(()=>new D3);zr.sha512_256=(0,Il.wrapConstructor)(()=>new L3);zr.sha384=(0,Il.wrapConstructor)(()=>new H3);Object.defineProperty(vr,"__esModule",{value:!0});var W1=vr.mnemonicToSeedSync=vr.mnemonicToSeed=vr.validateMnemonic=vr.entropyToMnemonic=vr.mnemonicToEntropy=vr.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const G1=Mn,V1=zo,z3=Fo,K1=zr,F3=Fs,Oc=nc,j3=t=>t[0]==="";function X1(t){if(typeof t!="string")throw new TypeError(`Invalid mnemonic type: ${typeof t}`);return t.normalize("NFKD")}function B0(t){const e=X1(t),n=e.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:n}}function Z1(t){G1.default.bytes(t,16,20,24,28,32)}function W3(t,e=128){if(G1.default.number(e),e%32!==0||e>256)throw new TypeError("Invalid entropy");return Q1((0,F3.randomBytes)(e/8),t)}vr.generateMnemonic=W3;const G3=t=>{const e=8-t.length/4;return new Uint8Array([(0,z3.sha256)(t)[0]>>e<<e])};function Y1(t){if(!Array.isArray(t)||t.length!==2**11||typeof t[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return t.forEach(e=>{if(typeof e!="string")throw new Error(`Wordlist: non-string element: ${e}`)}),Oc.utils.chain(Oc.utils.checksum(1,G3),Oc.utils.radix2(11,!0),Oc.utils.alphabet(t))}function J1(t,e){const{words:n}=B0(t),r=Y1(e).decode(n);return Z1(r),r}vr.mnemonicToEntropy=J1;function Q1(t,e){return Z1(t),Y1(e).encode(t).join(j3(e)?"":" ")}vr.entropyToMnemonic=Q1;function V3(t,e){try{J1(t,e)}catch{return!1}return!0}vr.validateMnemonic=V3;const em=t=>X1(`mnemonic${t}`);function K3(t,e=""){return(0,V1.pbkdf2Async)(K1.sha512,B0(t).nfkd,em(e),{c:2048,dkLen:64})}vr.mnemonicToSeed=K3;function X3(t,e=""){return(0,V1.pbkdf2)(K1.sha512,B0(t).nfkd,em(e),{c:2048,dkLen:64})}W1=vr.mnemonicToSeedSync=X3;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Z3=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),qd=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Y3=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Y3)throw new Error("Non little-endian hardware is not supported");const J3=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function tm(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=J3[t[n]];return e}function nm(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,i=t.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}function Q3(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function pc(t){if(typeof t=="string"&&(t=Q3(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}let R0=class{clone(){return this._cloneInto()}};function Pl(t){const e=r=>t().update(pc(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function e4(t){const e=(r,i)=>t(i).update(pc(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}function wf(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function t4(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function rm(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function n4(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");wf(t.outputLen),wf(t.blockLen)}function r4(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function i4(t,e){rm(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const xr={number:wf,bool:t4,bytes:rm,hash:n4,exists:r4,output:i4},Cc=BigInt(2**32-1),_f=BigInt(32);function im(t,e=!1){return e?{h:Number(t&Cc),l:Number(t>>_f&Cc)}:{h:Number(t>>_f&Cc)|0,l:Number(t&Cc)|0}}function s4(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=im(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const o4=(t,e)=>BigInt(t>>>0)<<_f|BigInt(e>>>0),a4=(t,e,n)=>t>>>n,c4=(t,e,n)=>t<<32-n|e>>>n,u4=(t,e,n)=>t>>>n|e<<32-n,l4=(t,e,n)=>t<<32-n|e>>>n,d4=(t,e,n)=>t<<64-n|e>>>n-32,f4=(t,e,n)=>t>>>n-32|e<<64-n,h4=(t,e)=>e,p4=(t,e)=>t,g4=(t,e,n)=>t<<n|e>>>32-n,y4=(t,e,n)=>e<<n|t>>>32-n,m4=(t,e,n)=>e<<n-32|t>>>64-n,w4=(t,e,n)=>t<<n-32|e>>>64-n;function _4(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const b4=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),v4=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,x4=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),S4=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,T4=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),A4=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,lt={fromBig:im,split:s4,toBig:o4,shrSH:a4,shrSL:c4,rotrSH:u4,rotrSL:l4,rotrBH:d4,rotrBL:f4,rotr32H:h4,rotr32L:p4,rotlSH:g4,rotlSL:y4,rotlBH:m4,rotlBL:w4,add:_4,add3L:b4,add3H:v4,add4L:x4,add4H:S4,add5H:A4,add5L:T4},[sm,om,am]=[[],[],[]],E4=BigInt(0),Sa=BigInt(1),k4=BigInt(2),B4=BigInt(7),R4=BigInt(256),I4=BigInt(113);for(let t=0,e=Sa,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],sm.push(2*(5*r+n)),om.push((t+1)*(t+2)/2%64);let i=E4;for(let s=0;s<7;s++)e=(e<<Sa^(e>>B4)*I4)%R4,e&k4&&(i^=Sa<<(Sa<<BigInt(s))-Sa);am.push(i)}const[P4,U4]=lt.split(am,!0),ap=(t,e,n)=>n>32?lt.rotlBH(t,e,n):lt.rotlSH(t,e,n),cp=(t,e,n)=>n>32?lt.rotlBL(t,e,n):lt.rotlSL(t,e,n);function O4(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,u=n[c],l=n[c+1],d=ap(u,l,1)^n[a],h=cp(u,l,1)^n[a+1];for(let y=0;y<50;y+=10)t[o+y]^=d,t[o+y+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=om[o],c=ap(i,s,a),u=cp(i,s,a),l=sm[o];i=t[l],s=t[l+1],t[l]=c,t[l+1]=u}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=P4[r],t[1]^=U4[r]}n.fill(0)}class Ul extends R0{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,xr.number(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=Z3(this.state)}keccak(){O4(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){xr.exists(this);const{blockLen:n,state:r}=this;e=pc(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){xr.exists(this,!1),xr.bytes(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return xr.number(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(xr.output(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Ul(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const ds=(t,e,n)=>Pl(()=>new Ul(e,t,n));ds(6,144,224/8);const jo=ds(6,136,256/8);ds(6,104,384/8);ds(6,72,512/8);ds(1,144,224/8);ds(1,136,256/8);ds(1,104,384/8);ds(1,72,512/8);const cm=(t,e,n)=>e4((r={})=>new Ul(e,t,r.dkLen===void 0?n:r.dkLen,!0));cm(31,168,128/8);cm(31,136,256/8);let um=class extends R0{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,xr.hash(e);const r=pc(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return xr.exists(this),this.iHash.update(e),this}digestInto(e){xr.exists(this),xr.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const I0=(t,e,n)=>new um(t,e).update(n).digest();I0.create=(t,e)=>new um(t,e);function C4(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}let $4=class extends R0{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=qd(this.buffer)}update(e){xr.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=pc(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=qd(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xr.exists(this),xr.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let c=o;c<i;c++)n[c]=0;C4(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=qd(e);this.get().forEach((c,u)=>a.setUint32(4*u,c,s))}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const[M4,q4]=lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Mi=new Uint32Array(80),qi=new Uint32Array(80);let P0=class extends $4{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:y,Gl:b,Hh:T,Hl:k}=this;return[e,n,r,i,s,o,a,c,u,l,d,h,y,b,T,k]}set(e,n,r,i,s,o,a,c,u,l,d,h,y,b,T,k){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=y|0,this.Gl=b|0,this.Hh=T|0,this.Hl=k|0}process(e,n){for(let v=0;v<16;v++,n+=4)Mi[v]=e.getUint32(n),qi[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const _=Mi[v-15]|0,S=qi[v-15]|0,M=lt.rotrSH(_,S,1)^lt.rotrSH(_,S,8)^lt.shrSH(_,S,7),F=lt.rotrSL(_,S,1)^lt.rotrSL(_,S,8)^lt.shrSL(_,S,7),W=Mi[v-2]|0,Y=qi[v-2]|0,J=lt.rotrSH(W,Y,19)^lt.rotrBH(W,Y,61)^lt.shrSH(W,Y,6),q=lt.rotrSL(W,Y,19)^lt.rotrBL(W,Y,61)^lt.shrSL(W,Y,6),L=lt.add4L(F,q,qi[v-7],qi[v-16]),E=lt.add4H(L,M,J,Mi[v-7],Mi[v-16]);Mi[v]=E|0,qi[v]=L|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:y,Fl:b,Gh:T,Gl:k,Hh:O,Hl:B}=this;for(let v=0;v<80;v++){const _=lt.rotrSH(d,h,14)^lt.rotrSH(d,h,18)^lt.rotrBH(d,h,41),S=lt.rotrSL(d,h,14)^lt.rotrSL(d,h,18)^lt.rotrBL(d,h,41),M=d&y^~d&T,F=h&b^~h&k,W=lt.add5L(B,S,F,q4[v],qi[v]),Y=lt.add5H(W,O,_,M,M4[v],Mi[v]),J=W|0,q=lt.rotrSH(r,i,28)^lt.rotrBH(r,i,34)^lt.rotrBH(r,i,39),L=lt.rotrSL(r,i,28)^lt.rotrBL(r,i,34)^lt.rotrBL(r,i,39),E=r&s^r&a^s&a,f=i&o^i&c^o&c;O=T|0,B=k|0,T=y|0,k=b|0,y=d|0,b=h|0,{h:d,l:h}=lt.add(u|0,l|0,Y|0,J|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const p=lt.add3L(J,L,f);r=lt.add3H(p,Y,q,E),i=p|0}({h:r,l:i}=lt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=lt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=lt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=lt.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=lt.add(this.Eh|0,this.El|0,d|0,h|0),{h:y,l:b}=lt.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:T,l:k}=lt.add(this.Gh|0,this.Gl|0,T|0,k|0),{h:O,l:B}=lt.add(this.Hh|0,this.Hl|0,O|0,B|0),this.set(r,i,s,o,a,c,u,l,d,h,y,b,T,k,O,B)}roundClean(){Mi.fill(0),qi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},N4=class extends P0{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}},D4=class extends P0{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}};const lm=Pl(()=>new P0);Pl(()=>new N4);Pl(()=>new D4);var dm=Object.defineProperty,L4=Object.getOwnPropertyDescriptor,Ol=(t,e)=>{for(var n in e)dm(t,n,{get:e[n],enumerable:!0})},tn=(t,e,n,r)=>{for(var i=r>1?void 0:r?L4(e,n):e,s=t.length-1,o;s>=0;s--)(o=t[s])&&(i=(r?o(e,n,i):o(i))||i);return r&&i&&dm(e,n,i),i},H4=/^m(\/[0-9]+')+$/,fm=t=>t.replace("'",""),z4="ed25519 seed",F4=2147483648,j4=t=>{const n=I0.create(lm,z4).update(nm(t)).digest(),r=n.slice(0,32),i=n.slice(32);return{key:r,chainCode:i}},W4=({key:t,chainCode:e},n)=>{const r=new ArrayBuffer(4);new DataView(r).setUint32(0,n);const i=new Uint8Array(r),s=new Uint8Array([0]),o=new Uint8Array([...s,...t,...i]),a=I0.create(lm,e).update(o).digest(),c=a.slice(0,32),u=a.slice(32);return{key:c,chainCode:u}},G4=t=>H4.test(t)?!t.split("/").slice(1).map(fm).some(Number.isNaN):!1,V4=(t,e,n=F4)=>{if(!G4(t))throw new Error("Invalid derivation path");const{key:r,chainCode:i}=j4(e);return t.split("/").slice(1).map(fm).map(o=>parseInt(o,10)).reduce((o,a)=>W4(o,a+n),{key:r,chainCode:i})},ft=class{static fromBuffer(t){return ft.fromUint8Array(t)}static fromUint8Array(t){return new ft(tm(t))}static ensure(t){return typeof t=="string"?new ft(t):t}constructor(t){t.startsWith("0x")?this.hexString=t:this.hexString=`0x${t}`}hex(){return this.hexString}noPrefix(){return this.hexString.slice(2)}toString(){return this.hex()}toShortString(){return`0x${this.hexString.replace(/^0x0*/,"")}`}toUint8Array(){return Uint8Array.from(nm(this.noPrefix()))}};async function K4(t){return new Promise(e=>{setTimeout(e,t)})}var up="/v1";function X4(t){let e=`${t}`;return e.endsWith("/")&&(e=e.substring(0,e.length-1)),e.endsWith(up)||(e=`${e}${up}`),e}var hm=2e5,pm=20,Z4=20,Y4="0x1::aptos_coin::AptosCoin";function Cl(t){let e,n,r;return typeof t=="object"?(e=t.hashFunction,n=t.ttlMs,r=t.tags):e=t,(i,s,o)=>{if(o.value!=null)o.value=lp(o.value,e,n,r);else if(o.get!=null)o.get=lp(o.get,e,n,r);else throw new Error("Only put a Memoize() decorator on a method or get accessor.")}}function J4(t,e){return Cl({ttlMs:t,hashFunction:e})}var uu=new Map;function Q4(t){const e=new Set;for(const n of t){const r=uu.get(n);if(r)for(const i of r)e.has(i)||(i.clear(),e.add(i))}return e.size}function lp(t,e,n=0,r){const i=Symbol("__memoized_map__");return function(...s){let o;const a=this;a.hasOwnProperty(i)||Object.defineProperty(a,i,{configurable:!1,enumerable:!1,writable:!1,value:new Map});const c=a[i];if(Array.isArray(r))for(const u of r)uu.has(u)?uu.get(u).push(c):uu.set(u,[c]);if(e||s.length>0||n>0){let u;e===!0?u=s.map(h=>h.toString()).join("!"):e?u=e.apply(a,s):u=s[0];const l=`${u}__timestamp`;let d=!1;if(n>0)if(!c.has(l))d=!0;else{const h=c.get(l);d=Date.now()-h>n}c.has(u)&&!d?o=c.get(u):(o=t.apply(a,s),c.set(u,o),n>0&&c.set(l,Date.now()))}else{const u=a;c.has(u)?o=c.get(u):(o=t.apply(a,s),c.set(u,o))}return o}}async function dp(t,e,n,r){var i;const s=[];let o;for(;;){const a=await t(ft.ensure(e).hex(),(i=r==null?void 0:r.ledgerVersion)==null?void 0:i.toString(),o,n);if(o=a.__headers["x-aptos-cursor"],delete a.__headers,s.push(...a),o==null)break}return s}var eS={mainnet:"https://indexer.mainnet.aptoslabs.com/v1/graphql",testnet:"https://indexer-testnet.staging.gcp.aptosdev.com/v1/graphql",devnet:"https://indexer-devnet.staging.gcp.aptosdev.com/v1/graphql"},tS={mainnet:"https://fullnode.mainnet.aptoslabs.com/v1",testnet:"https://fullnode.testnet.aptoslabs.com/v1",devnet:"https://fullnode.devnet.aptoslabs.com/v1"},j={};Ol(j,{AccountAddress:()=>yn,AccountAuthenticator:()=>Ha,AccountAuthenticatorEd25519:()=>C0,AccountAuthenticatorMultiEd25519:()=>$0,ArgumentABI:()=>xc,AuthenticationKey:()=>Us,ChainId:()=>Ll,ChangeSet:()=>hS,Ed25519PublicKey:()=>Dr,Ed25519Signature:()=>li,EntryFunction:()=>Ss,EntryFunctionABI:()=>Xo,Identifier:()=>cr,Module:()=>ym,ModuleId:()=>Ps,MultiAgentRawTransaction:()=>Nl,MultiEd25519PublicKey:()=>gc,MultiEd25519Signature:()=>$l,MultiSig:()=>N0,MultiSigTransactionPayload:()=>q0,RawTransaction:()=>ha,RawTransactionWithData:()=>mm,RotationProofChallenge:()=>gS,Script:()=>mc,ScriptABI:()=>Vl,SignedTransaction:()=>wc,StructTag:()=>Wo,Transaction:()=>wm,TransactionArgument:()=>ni,TransactionArgumentAddress:()=>Vo,TransactionArgumentBool:()=>Gl,TransactionArgumentU128:()=>jl,TransactionArgumentU16:()=>zl,TransactionArgumentU256:()=>Wl,TransactionArgumentU32:()=>Fl,TransactionArgumentU64:()=>Go,TransactionArgumentU8:()=>Hl,TransactionArgumentU8Vector:()=>Ko,TransactionAuthenticator:()=>yc,TransactionAuthenticatorEd25519:()=>Ml,TransactionAuthenticatorMultiAgent:()=>O0,TransactionAuthenticatorMultiEd25519:()=>ql,TransactionPayload:()=>_c,TransactionPayloadEntryFunction:()=>Dl,TransactionPayloadMultisig:()=>D0,TransactionPayloadScript:()=>bc,TransactionScriptABI:()=>Kl,TypeArgumentABI:()=>vc,TypeTag:()=>Gn,TypeTagAddress:()=>Ks,TypeTagBool:()=>Ws,TypeTagSigner:()=>M0,TypeTagStruct:()=>Xs,TypeTagU128:()=>Vs,TypeTagU16:()=>ua,TypeTagU256:()=>da,TypeTagU32:()=>la,TypeTagU64:()=>Gs,TypeTagU8:()=>vi,TypeTagVector:()=>fa,UserTransaction:()=>L0,WriteSet:()=>pS});var ce={};Ol(ce,{Deserializer:()=>U0,Serializer:()=>vn,bcsSerializeBool:()=>lS,bcsSerializeBytes:()=>ro,bcsSerializeFixedBytes:()=>fS,bcsSerializeStr:()=>dS,bcsSerializeU128:()=>uS,bcsSerializeU16:()=>aS,bcsSerializeU32:()=>cS,bcsSerializeU8:()=>bf,bcsSerializeUint64:()=>oS,bcsToBytes:()=>Ti,deserializeVector:()=>Wr,serializeVector:()=>Br,serializeVectorWithFunc:()=>sS});var nS=2**8-1,rS=2**16-1,La=2**32-1,Oa=BigInt(2**64)-BigInt(1),gm=BigInt(2**128)-BigInt(1),iS=BigInt(2**256)-BigInt(1),vn=class{constructor(){this.buffer=new ArrayBuffer(64),this.offset=0}ensureBufferWillHandleSize(t){for(;this.buffer.byteLength<this.offset+t;){const e=new ArrayBuffer(this.buffer.byteLength*2);new Uint8Array(e).set(new Uint8Array(this.buffer)),this.buffer=e}}serialize(t){this.ensureBufferWillHandleSize(t.length),new Uint8Array(this.buffer,this.offset).set(t),this.offset+=t.length}serializeWithFunction(t,e,n){this.ensureBufferWillHandleSize(e);const r=new DataView(this.buffer,this.offset);t.apply(r,[0,n,!0]),this.offset+=e}serializeStr(t){const e=new TextEncoder;this.serializeBytes(e.encode(t))}serializeBytes(t){this.serializeU32AsUleb128(t.length),this.serialize(t)}serializeFixedBytes(t){this.serialize(t)}serializeBool(t){if(typeof t!="boolean")throw new Error("Value needs to be a boolean");const e=t?1:0;this.serialize(new Uint8Array([e]))}serializeU8(t){this.serialize(new Uint8Array([t]))}serializeU16(t){this.serializeWithFunction(DataView.prototype.setUint16,2,t)}serializeU32(t){this.serializeWithFunction(DataView.prototype.setUint32,4,t)}serializeU64(t){const e=BigInt(t.toString())&BigInt(La),n=BigInt(t.toString())>>BigInt(32);this.serializeU32(Number(e)),this.serializeU32(Number(n))}serializeU128(t){const e=BigInt(t.toString())&Oa,n=BigInt(t.toString())>>BigInt(64);this.serializeU64(e),this.serializeU64(n)}serializeU256(t){const e=BigInt(t.toString())&gm,n=BigInt(t.toString())>>BigInt(128);this.serializeU128(e),this.serializeU128(n)}serializeU32AsUleb128(t){let e=t;const n=[];for(;e>>>7;)n.push(e&127|128),e>>>=7;n.push(e),this.serialize(new Uint8Array(n))}getBytes(){return new Uint8Array(this.buffer).slice(0,this.offset)}};tn([js(0,nS)],vn.prototype,"serializeU8",1);tn([js(0,rS)],vn.prototype,"serializeU16",1);tn([js(0,La)],vn.prototype,"serializeU32",1);tn([js(BigInt(0),Oa)],vn.prototype,"serializeU64",1);tn([js(BigInt(0),gm)],vn.prototype,"serializeU128",1);tn([js(BigInt(0),iS)],vn.prototype,"serializeU256",1);tn([js(0,La)],vn.prototype,"serializeU32AsUleb128",1);function js(t,e,n){return(r,i,s)=>{const o=s.value;return s.value=function(c){const u=BigInt(c.toString());if(u>BigInt(e.toString())||u<BigInt(t.toString()))throw new Error(n||"Value is out of range");o.apply(this,[c])},s}}var U0=class{constructor(t){this.buffer=new ArrayBuffer(t.length),new Uint8Array(this.buffer).set(t,0),this.offset=0}read(t){if(this.offset+t>this.buffer.byteLength)throw new Error("Reached to the end of buffer");const e=this.buffer.slice(this.offset,this.offset+t);return this.offset+=t,e}deserializeStr(){const t=this.deserializeBytes();return new TextDecoder().decode(t)}deserializeBytes(){const t=this.deserializeUleb128AsU32();return new Uint8Array(this.read(t))}deserializeFixedBytes(t){return new Uint8Array(this.read(t))}deserializeBool(){const t=new Uint8Array(this.read(1))[0];if(t!==1&&t!==0)throw new Error("Invalid boolean value");return t===1}deserializeU8(){return new DataView(this.read(1)).getUint8(0)}deserializeU16(){return new DataView(this.read(2)).getUint16(0,!0)}deserializeU32(){return new DataView(this.read(4)).getUint32(0,!0)}deserializeU64(){const t=this.deserializeU32(),e=this.deserializeU32();return BigInt(BigInt(e)<<BigInt(32)|BigInt(t))}deserializeU128(){const t=this.deserializeU64(),e=this.deserializeU64();return BigInt(e<<BigInt(64)|t)}deserializeU256(){const t=this.deserializeU128(),e=this.deserializeU128();return BigInt(e<<BigInt(128)|t)}deserializeUleb128AsU32(){let t=BigInt(0),e=0;for(;t<La;){const n=this.deserializeU8();if(t|=BigInt(n&127)<<BigInt(e),!(n&128))break;e+=7}if(t>La)throw new Error("Overflow while parsing uleb128-encoded uint32 value");return Number(t)}};function Br(t,e){e.serializeU32AsUleb128(t.length),t.forEach(n=>{n.serialize(e)})}function sS(t,e){const n=new vn;n.serializeU32AsUleb128(t.length);const r=n[e];return t.forEach(i=>{r.call(n,i)}),n.getBytes()}function Wr(t,e){const n=t.deserializeUleb128AsU32(),r=[];for(let i=0;i<n;i+=1)r.push(e.deserialize(t));return r}function Ti(t){const e=new vn;return t.serialize(e),e.getBytes()}function oS(t){const e=new vn;return e.serializeU64(t),e.getBytes()}function bf(t){const e=new vn;return e.serializeU8(t),e.getBytes()}function aS(t){const e=new vn;return e.serializeU16(t),e.getBytes()}function cS(t){const e=new vn;return e.serializeU32(t),e.getBytes()}function uS(t){const e=new vn;return e.serializeU128(t),e.getBytes()}function lS(t){const e=new vn;return e.serializeBool(t),e.getBytes()}function dS(t){const e=new vn;return e.serializeStr(t),e.getBytes()}function ro(t){const e=new vn;return e.serializeBytes(t),e.getBytes()}function fS(t){const e=new vn;return e.serializeFixedBytes(t),e.getBytes()}var Mr=class{constructor(t){if(t.length!==Mr.LENGTH)throw new Error("Expected address of length 32");this.address=t}static fromHex(t){let e=ft.ensure(t);e.noPrefix().length%2!==0&&(e=new ft(`0${e.noPrefix()}`));const n=e.toUint8Array();if(n.length>Mr.LENGTH)throw new Error("Hex string is too long. Address's length is 32 bytes.");if(n.length===Mr.LENGTH)return new Mr(n);const r=new Uint8Array(Mr.LENGTH);return r.set(n,Mr.LENGTH-n.length),new Mr(r)}static isValid(t){if(t==="")return!1;let e=ft.ensure(t);return e.noPrefix().length%2!==0&&(e=new ft(`0${e.noPrefix()}`)),e.toUint8Array().length<=Mr.LENGTH}toHexString(){return ft.fromUint8Array(this.address).hex()}serialize(t){t.serializeFixedBytes(this.address)}static deserialize(t){return new Mr(t.deserializeFixedBytes(Mr.LENGTH))}},yn=Mr;yn.LENGTH=32;yn.CORE_CODE_ADDRESS=Mr.fromHex("0x1");var lu=class{constructor(t){if(t.length!==lu.LENGTH)throw new Error(`Ed25519PublicKey length should be ${lu.LENGTH}`);this.value=t}toBytes(){return this.value}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new lu(e)}},Dr=lu;Dr.LENGTH=32;var du=class{constructor(t){if(this.value=t,t.length!==du.LENGTH)throw new Error(`Ed25519Signature length should be ${du.LENGTH}`)}serialize(t){t.serializeBytes(this.value)}static deserialize(t){const e=t.deserializeBytes();return new du(e)}},li=du;li.LENGTH=64;var vf=32,gc=class{constructor(t,e){if(this.public_keys=t,this.threshold=e,e>vf)throw new Error(`"threshold" cannot be larger than ${vf}`)}toBytes(){const t=new Uint8Array(this.public_keys.length*Dr.LENGTH+1);return this.public_keys.forEach((e,n)=>{t.set(e.value,n*Dr.LENGTH)}),t[this.public_keys.length*Dr.LENGTH]=this.threshold,t}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),n=e[e.length-1],r=[];for(let i=0;i<e.length-1;i+=Dr.LENGTH){const s=i;r.push(new Dr(e.subarray(s,s+Dr.LENGTH)))}return new gc(r,n)}},Ba=class{constructor(t,e){if(this.signatures=t,this.bitmap=e,e.length!==Ba.BITMAP_LEN)throw new Error(`"bitmap" length should be ${Ba.BITMAP_LEN}`)}toBytes(){const t=new Uint8Array(this.signatures.length*li.LENGTH+Ba.BITMAP_LEN);return this.signatures.forEach((e,n)=>{t.set(e.value,n*li.LENGTH)}),t.set(this.bitmap,this.signatures.length*li.LENGTH),t}static createBitmap(t){const n=new Uint8Array([0,0,0,0]),r=new Set;return t.forEach(i=>{if(i>=vf)throw new Error(`Invalid bit value ${i}.`);if(r.has(i))throw new Error("Duplicated bits detected.");r.add(i);const s=Math.floor(i/8);let o=n[s];o|=128>>i%8,n[s]=o}),n}serialize(t){t.serializeBytes(this.toBytes())}static deserialize(t){const e=t.deserializeBytes(),n=e.subarray(e.length-4),r=[];for(let i=0;i<e.length-n.length;i+=li.LENGTH){const s=i;r.push(new li(e.subarray(s,s+li.LENGTH)))}return new Ba(r,n)}},$l=Ba;$l.BITMAP_LEN=4;var yc=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Ml.load(t);case 1:return ql.load(t);case 2:return O0.load(t);default:throw new Error(`Unknown variant index for TransactionAuthenticator: ${e}`)}}},Ml=class extends yc{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Dr.deserialize(t),n=li.deserialize(t);return new Ml(e,n)}},ql=class extends yc{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=gc.deserialize(t),n=$l.deserialize(t);return new ql(e,n)}},O0=class extends yc{constructor(t,e,n){super(),this.sender=t,this.secondary_signer_addresses=e,this.secondary_signers=n}serialize(t){t.serializeU32AsUleb128(2),this.sender.serialize(t),Br(this.secondary_signer_addresses,t),Br(this.secondary_signers,t)}static load(t){const e=Ha.deserialize(t),n=Wr(t,yn),r=Wr(t,Ha);return new O0(e,n,r)}},Ha=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return C0.load(t);case 1:return $0.load(t);default:throw new Error(`Unknown variant index for AccountAuthenticator: ${e}`)}}},C0=class extends Ha{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(0),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=Dr.deserialize(t),n=li.deserialize(t);return new C0(e,n)}},$0=class extends Ha{constructor(t,e){super(),this.public_key=t,this.signature=e}serialize(t){t.serializeU32AsUleb128(1),this.public_key.serialize(t),this.signature.serialize(t)}static load(t){const e=gc.deserialize(t),n=$l.deserialize(t);return new $0(e,n)}},cr=class{constructor(t){this.value=t}serialize(t){t.serializeStr(this.value)}static deserialize(t){const e=t.deserializeStr();return new cr(e)}},Gn=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Ws.load(t);case 1:return vi.load(t);case 2:return Gs.load(t);case 3:return Vs.load(t);case 4:return Ks.load(t);case 5:return M0.load(t);case 6:return fa.load(t);case 7:return Xs.load(t);case 8:return ua.load(t);case 9:return la.load(t);case 10:return da.load(t);default:throw new Error(`Unknown variant index for TypeTag: ${e}`)}}},Ws=class extends Gn{serialize(t){t.serializeU32AsUleb128(0)}static load(t){return new Ws}},vi=class extends Gn{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new vi}},ua=class extends Gn{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new ua}},la=class extends Gn{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new la}},Gs=class extends Gn{serialize(t){t.serializeU32AsUleb128(2)}static load(t){return new Gs}},Vs=class extends Gn{serialize(t){t.serializeU32AsUleb128(3)}static load(t){return new Vs}},da=class extends Gn{serialize(t){t.serializeU32AsUleb128(1)}static load(t){return new da}},Ks=class extends Gn{serialize(t){t.serializeU32AsUleb128(4)}static load(t){return new Ks}},M0=class extends Gn{serialize(t){t.serializeU32AsUleb128(5)}static load(t){return new M0}},fa=class extends Gn{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),this.value.serialize(t)}static load(t){const e=Gn.deserialize(t);return new fa(e)}},Xs=class extends Gn{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),this.value.serialize(t)}static load(t){const e=Wo.deserialize(t);return new Xs(e)}isStringTypeTag(){return this.value.module_name.value==="string"&&this.value.name.value==="String"&&this.value.address.toHexString()===yn.fromHex("0x1").toHexString()}},Wo=class{constructor(t,e,n,r){this.address=t,this.module_name=e,this.name=n,this.type_args=r}static fromString(t){if(t.includes("<"))throw new Error("Not implemented");const e=t.split("::");if(e.length!==3)throw new Error("Invalid struct tag string literal.");return new Wo(yn.fromHex(e[0]),new cr(e[1]),new cr(e[2]),[])}serialize(t){this.address.serialize(t),this.module_name.serialize(t),this.name.serialize(t),Br(this.type_args,t)}static deserialize(t){const e=yn.deserialize(t),n=cr.deserialize(t),r=cr.deserialize(t),i=Wr(t,Gn);return new Wo(e,n,r,i)}},ha=class{constructor(t,e,n,r,i,s,o){this.sender=t,this.sequence_number=e,this.payload=n,this.max_gas_amount=r,this.gas_unit_price=i,this.expiration_timestamp_secs=s,this.chain_id=o}serialize(t){this.sender.serialize(t),t.serializeU64(this.sequence_number),this.payload.serialize(t),t.serializeU64(this.max_gas_amount),t.serializeU64(this.gas_unit_price),t.serializeU64(this.expiration_timestamp_secs),this.chain_id.serialize(t)}static deserialize(t){const e=yn.deserialize(t),n=t.deserializeU64(),r=_c.deserialize(t),i=t.deserializeU64(),s=t.deserializeU64(),o=t.deserializeU64(),a=Ll.deserialize(t);return new ha(e,n,r,i,s,o,a)}},mc=class{constructor(t,e,n){this.code=t,this.ty_args=e,this.args=n}serialize(t){t.serializeBytes(this.code),Br(this.ty_args,t),Br(this.args,t)}static deserialize(t){const e=t.deserializeBytes(),n=Wr(t,Gn),r=Wr(t,ni);return new mc(e,n,r)}},Ss=class{constructor(t,e,n,r){this.module_name=t,this.function_name=e,this.ty_args=n,this.args=r}static natural(t,e,n,r){return new Ss(Ps.fromStr(t),new cr(e),n,r)}static natual(t,e,n,r){return Ss.natural(t,e,n,r)}serialize(t){this.module_name.serialize(t),this.function_name.serialize(t),Br(this.ty_args,t),t.serializeU32AsUleb128(this.args.length),this.args.forEach(e=>{t.serializeBytes(e)})}static deserialize(t){const e=Ps.deserialize(t),n=cr.deserialize(t),r=Wr(t,Gn),i=t.deserializeUleb128AsU32(),s=[];for(let a=0;a<i;a+=1)s.push(t.deserializeBytes());const o=s;return new Ss(e,n,r,o)}},q0=class{constructor(t){this.transaction_payload=t}serialize(t){t.serializeU32AsUleb128(0),this.transaction_payload.serialize(t)}static deserialize(t){return new q0(Ss.deserialize(t))}},N0=class{constructor(t,e){this.multisig_address=t,this.transaction_payload=e}serialize(t){this.multisig_address.serialize(t),this.transaction_payload===void 0?t.serializeBool(!1):(t.serializeBool(!0),this.transaction_payload.serialize(t))}static deserialize(t){const e=yn.deserialize(t),n=t.deserializeBool();let r;return n&&(r=q0.deserialize(t)),new N0(e,r)}},ym=class{constructor(t){this.code=t}serialize(t){t.serializeBytes(this.code)}static deserialize(t){const e=t.deserializeBytes();return new ym(e)}},Ps=class{constructor(t,e){this.address=t,this.name=e}static fromStr(t){const e=t.split("::");if(e.length!==2)throw new Error("Invalid module id.");return new Ps(yn.fromHex(new ft(e[0])),new cr(e[1]))}serialize(t){this.address.serialize(t),this.name.serialize(t)}static deserialize(t){const e=yn.deserialize(t),n=cr.deserialize(t);return new Ps(e,n)}},hS=class{serialize(t){throw new Error("Not implemented.")}static deserialize(t){throw new Error("Not implemented.")}},pS=class{serialize(t){throw new Error("Not implmented.")}static deserialize(t){throw new Error("Not implmented.")}},wc=class{constructor(t,e){this.raw_txn=t,this.authenticator=e}serialize(t){this.raw_txn.serialize(t),this.authenticator.serialize(t)}static deserialize(t){const e=ha.deserialize(t),n=yc.deserialize(t);return new wc(e,n)}},mm=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Nl.load(t);default:throw new Error(`Unknown variant index for RawTransactionWithData: ${e}`)}}},Nl=class extends mm{constructor(t,e){super(),this.raw_txn=t,this.secondary_signer_addresses=e}serialize(t){t.serializeU32AsUleb128(0),this.raw_txn.serialize(t),Br(this.secondary_signer_addresses,t)}static load(t){const e=ha.deserialize(t),n=Wr(t,yn);return new Nl(e,n)}},_c=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return bc.load(t);case 2:return Dl.load(t);case 3:return D0.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},bc=class extends _c{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){const e=mc.deserialize(t);return new bc(e)}},Dl=class extends _c{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),this.value.serialize(t)}static load(t){const e=Ss.deserialize(t);return new Dl(e)}},D0=class extends _c{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=N0.deserialize(t);return new D0(e)}},Ll=class{constructor(t){this.value=t}serialize(t){t.serializeU8(this.value)}static deserialize(t){const e=t.deserializeU8();return new Ll(e)}},ni=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Hl.load(t);case 1:return Go.load(t);case 2:return jl.load(t);case 3:return Vo.load(t);case 4:return Ko.load(t);case 5:return Gl.load(t);case 6:return zl.load(t);case 7:return Fl.load(t);case 8:return Wl.load(t);default:throw new Error(`Unknown variant index for TransactionArgument: ${e}`)}}},Hl=class extends ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(0),t.serializeU8(this.value)}static load(t){const e=t.deserializeU8();return new Hl(e)}},zl=class extends ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(6),t.serializeU16(this.value)}static load(t){const e=t.deserializeU16();return new zl(e)}},Fl=class extends ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(7),t.serializeU32(this.value)}static load(t){const e=t.deserializeU32();return new Fl(e)}},Go=class extends ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(1),t.serializeU64(this.value)}static load(t){const e=t.deserializeU64();return new Go(e)}},jl=class extends ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(2),t.serializeU128(this.value)}static load(t){const e=t.deserializeU128();return new jl(e)}},Wl=class extends ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(8),t.serializeU256(this.value)}static load(t){const e=t.deserializeU256();return new Wl(e)}},Vo=class extends ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(3),this.value.serialize(t)}static load(t){const e=yn.deserialize(t);return new Vo(e)}},Ko=class extends ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(4),t.serializeBytes(this.value)}static load(t){const e=t.deserializeBytes();return new Ko(e)}},Gl=class extends ni{constructor(t){super(),this.value=t}serialize(t){t.serializeU32AsUleb128(5),t.serializeBool(this.value)}static load(t){const e=t.deserializeBool();return new Gl(e)}},wm=class{getHashSalt(){const t=jo.create();return t.update("APTOS::Transaction"),t.digest()}static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return L0.load(t);default:throw new Error(`Unknown variant index for Transaction: ${e}`)}}},L0=class extends wm{constructor(t){super(),this.value=t}hash(){const t=jo.create();return t.update(this.getHashSalt()),t.update(Ti(this)),t.digest()}serialize(t){t.serializeU32AsUleb128(0),this.value.serialize(t)}static load(t){return new L0(wc.deserialize(t))}},vc=class{constructor(t){this.name=t}serialize(t){t.serializeStr(this.name)}static deserialize(t){const e=t.deserializeStr();return new vc(e)}},xc=class{constructor(t,e){this.name=t,this.type_tag=e}serialize(t){t.serializeStr(this.name),this.type_tag.serialize(t)}static deserialize(t){const e=t.deserializeStr(),n=Gn.deserialize(t);return new xc(e,n)}},Vl=class{static deserialize(t){const e=t.deserializeUleb128AsU32();switch(e){case 0:return Kl.load(t);case 1:return Xo.load(t);default:throw new Error(`Unknown variant index for TransactionPayload: ${e}`)}}},Kl=class extends Vl{constructor(t,e,n,r,i){super(),this.name=t,this.doc=e,this.code=n,this.ty_args=r,this.args=i}serialize(t){t.serializeU32AsUleb128(0),t.serializeStr(this.name),t.serializeStr(this.doc),t.serializeBytes(this.code),Br(this.ty_args,t),Br(this.args,t)}static load(t){const e=t.deserializeStr(),n=t.deserializeStr(),r=t.deserializeBytes(),i=Wr(t,vc),s=Wr(t,xc);return new Kl(e,n,r,i,s)}},Xo=class extends Vl{constructor(t,e,n,r,i){super(),this.name=t,this.module_name=e,this.doc=n,this.ty_args=r,this.args=i}serialize(t){t.serializeU32AsUleb128(1),t.serializeStr(this.name),this.module_name.serialize(t),t.serializeStr(this.doc),Br(this.ty_args,t),Br(this.args,t)}static load(t){const e=t.deserializeStr(),n=Ps.deserialize(t),r=t.deserializeStr(),i=Wr(t,vc),s=Wr(t,xc);return new Xo(e,n,r,i,s)}},io=class{constructor(t){if(t.length!==io.LENGTH)throw new Error("Expected a byte array of length 32");this.bytes=t}static fromMultiEd25519PublicKey(t){const e=t.toBytes(),n=new Uint8Array(e.length+1);n.set(e),n.set([io.MULTI_ED25519_SCHEME],e.length);const r=jo.create();return r.update(n),new io(r.digest())}static fromEd25519PublicKey(t){const e=t.value,n=new Uint8Array(e.length+1);n.set(e),n.set([io.ED25519_SCHEME],e.length);const r=jo.create();return r.update(n),new io(r.digest())}derivedAddress(){return ft.fromUint8Array(this.bytes)}},Us=io;Us.LENGTH=32;Us.MULTI_ED25519_SCHEME=1;Us.ED25519_SCHEME=0;Us.DERIVE_RESOURCE_ACCOUNT_SCHEME=255;var gS=class{constructor(t,e,n,r,i,s,o){this.accountAddress=t,this.moduleName=e,this.structName=n,this.sequenceNumber=r,this.originator=i,this.currentAuthKey=s,this.newPublicKey=o}serialize(t){this.accountAddress.serialize(t),t.serializeStr(this.moduleName),t.serializeStr(this.structName),t.serializeU64(this.sequenceNumber),this.originator.serialize(t),this.currentAuthKey.serialize(t),t.serializeBytes(this.newPublicKey)}},fu=class{static fromAptosAccountObject(t){return new fu(ft.ensure(t.privateKeyHex).toUint8Array(),t.address)}static fromDerivePath(t,e){if(!fu.isValidPath(t))throw new Error("Invalid derivation path");const n=e.trim().split(/\s+/).map(i=>i.toLowerCase()).join(" "),{key:r}=V4(t,tm(W1(n)));return new fu(r)}constructor(t,e){t?this.signingKey=ts.sign.keyPair.fromSeed(t.slice(0,32)):this.signingKey=ts.sign.keyPair(),this.accountAddress=ft.ensure(e||this.authKey().hex())}address(){return this.accountAddress}authKey(){const t=new Dr(this.signingKey.publicKey);return Us.fromEd25519PublicKey(t).derivedAddress()}static getResourceAccountAddress(t,e){const n=Ti(yn.fromHex(t)),r=new Uint8Array([...n,...e,Us.DERIVE_RESOURCE_ACCOUNT_SCHEME]),i=jo.create();return i.update(r),ft.fromUint8Array(i.digest())}pubKey(){return ft.fromUint8Array(this.signingKey.publicKey)}signBuffer(t){const e=ts.sign(t,this.signingKey.secretKey);return ft.fromUint8Array(e.slice(0,64))}signHexString(t){const e=ft.ensure(t).toUint8Array();return this.signBuffer(e)}toPrivateKeyObject(){return{address:this.address().hex(),publicKeyHex:this.pubKey().hex(),privateKeyHex:ft.fromUint8Array(this.signingKey.secretKey.slice(0,32)).hex()}}},za=fu;za.isValidPath=t=>!!/^m\/44'\/637'\/[0-9]+'\/[0-9]+'\/[0-9]+'+$/.test(t);tn([Cl()],za.prototype,"authKey",1);function Tu(t){return t instanceof za?t.address():ft.ensure(t)}var yS=`
    fragment TokenDataFields on current_token_datas {
  creator_address
  collection_name
  description
  metadata_uri
  name
  token_data_id_hash
  collection_data_id_hash
}
    `,mS=`
    fragment CollectionDataFields on current_collection_datas {
  metadata_uri
  supply
  description
  collection_name
  collection_data_id_hash
  table_handle
  creator_address
}
    `,wS=`
    query getAccountCurrentTokens($address: String!, $offset: Int, $limit: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $address}, amount: {_gt: 0}}
    order_by: [{last_transaction_version: desc}, {creator_address: asc}, {collection_name: asc}, {name: asc}]
    offset: $offset
    limit: $limit
  ) {
    amount
    current_token_data {
      ...TokenDataFields
    }
    current_collection_data {
      ...CollectionDataFields
    }
    last_transaction_version
    property_version
  }
}
    ${yS}
${mS}`,_S=`
    query getTokenActivities($idHash: String!) {
  token_activities(where: {token_data_id_hash: {_eq: $idHash}}) {
    creator_address
    collection_name
    name
    token_data_id_hash
    collection_data_id_hash
    from_address
    to_address
    transaction_version
    transaction_timestamp
    property_version
    transfer_type
    event_sequence_number
    token_amount
  }
}
    `,_m=class{constructor(t){this.endpoint=t}async queryIndexer(t){const{data:e}=await Yr.post(this.endpoint,t);if(e.errors)throw new Error(`Indexer data error ${e.errors}`);return e.data}async getAccountNFTs(t,e){const n={query:wS,variables:{address:t,offset:e==null?void 0:e.offset,limit:e==null?void 0:e.limit}};return this.queryIndexer(n)}async getTokenActivities(t){const e={query:_S,variables:{idHash:t}};return this.queryIndexer(e)}},bS={};Ol(bS,{$AccountData:()=>MS,$AccountSignature:()=>qS,$AccountSignature_Ed25519Signature:()=>NS,$AccountSignature_MultiEd25519Signature:()=>DS,$Address:()=>LS,$AptosError:()=>HS,$AptosErrorCode:()=>zS,$Block:()=>FS,$BlockMetadataTransaction:()=>jS,$DecodedTableData:()=>WS,$DeleteModule:()=>VS,$DeleteResource:()=>KS,$DeleteTableItem:()=>XS,$DeletedTableData:()=>GS,$DirectWriteSet:()=>ZS,$Ed25519Signature:()=>YS,$EncodeSubmissionRequest:()=>JS,$EntryFunctionId:()=>QS,$EntryFunctionPayload:()=>e5,$Event:()=>t5,$EventGuid:()=>n5,$GasEstimation:()=>r5,$GenesisPayload:()=>i5,$GenesisPayload_WriteSetPayload:()=>s5,$GenesisTransaction:()=>o5,$HashValue:()=>a5,$HealthCheckSuccess:()=>c5,$HexEncodedBytes:()=>u5,$IdentifierWrapper:()=>l5,$IndexResponse:()=>d5,$ModuleBundlePayload:()=>f5,$MoveAbility:()=>h5,$MoveFunction:()=>p5,$MoveFunctionGenericTypeParam:()=>g5,$MoveFunctionVisibility:()=>y5,$MoveModule:()=>m5,$MoveModuleBytecode:()=>w5,$MoveModuleId:()=>_5,$MoveResource:()=>b5,$MoveScriptBytecode:()=>v5,$MoveStruct:()=>x5,$MoveStructField:()=>S5,$MoveStructGenericTypeParam:()=>T5,$MoveStructTag:()=>A5,$MoveStructValue:()=>E5,$MoveType:()=>k5,$MoveValue:()=>B5,$MultiAgentSignature:()=>R5,$MultiEd25519Signature:()=>I5,$MultisigPayload:()=>P5,$MultisigTransactionPayload:()=>U5,$PendingTransaction:()=>O5,$RawTableItemRequest:()=>C5,$RoleType:()=>$5,$ScriptPayload:()=>M5,$ScriptWriteSet:()=>q5,$StateCheckpointTransaction:()=>N5,$StateKeyWrapper:()=>D5,$SubmitTransactionRequest:()=>L5,$TableItemRequest:()=>H5,$Transaction:()=>z5,$TransactionPayload:()=>K5,$TransactionPayload_EntryFunctionPayload:()=>X5,$TransactionPayload_ModuleBundlePayload:()=>Z5,$TransactionPayload_MultisigPayload:()=>Y5,$TransactionPayload_ScriptPayload:()=>J5,$TransactionSignature:()=>t8,$TransactionSignature_Ed25519Signature:()=>n8,$TransactionSignature_MultiAgentSignature:()=>r8,$TransactionSignature_MultiEd25519Signature:()=>i8,$Transaction_BlockMetadataTransaction:()=>F5,$Transaction_GenesisTransaction:()=>j5,$Transaction_PendingTransaction:()=>W5,$Transaction_StateCheckpointTransaction:()=>G5,$Transaction_UserTransaction:()=>V5,$TransactionsBatchSingleSubmissionFailure:()=>Q5,$TransactionsBatchSubmissionResult:()=>e8,$U128:()=>s8,$U256:()=>o8,$U64:()=>a8,$UserTransaction:()=>c8,$VersionedEvent:()=>u8,$ViewRequest:()=>l8,$WriteModule:()=>d8,$WriteResource:()=>f8,$WriteSet:()=>h8,$WriteSetChange:()=>y8,$WriteSetChange_DeleteModule:()=>m8,$WriteSetChange_DeleteResource:()=>w8,$WriteSetChange_DeleteTableItem:()=>_8,$WriteSetChange_WriteModule:()=>b8,$WriteSetChange_WriteResource:()=>v8,$WriteSetChange_WriteTableItem:()=>x8,$WriteSetPayload:()=>S8,$WriteSet_DirectWriteSet:()=>p8,$WriteSet_ScriptWriteSet:()=>g8,$WriteTableItem:()=>T8,AccountsService:()=>Em,ApiError:()=>Fa,AptosErrorCode:()=>Cm,AptosGeneratedClient:()=>Om,BaseHttpRequest:()=>bm,BlocksService:()=>km,CancelError:()=>vm,CancelablePromise:()=>xm,EventsService:()=>Bm,GeneralService:()=>Rm,MoveFunctionVisibility:()=>$m,OpenAPI:()=>$S,RoleType:()=>Mm,TablesService:()=>Im,TransactionsService:()=>Pm,ViewService:()=>Um});var bm=class{constructor(t){this.config=t}},Fa=class extends Error{constructor(t,e,n){super(n),this.name="ApiError",this.url=e.url,this.status=e.status,this.statusText=e.statusText,this.body=e.body,this.request=t}},vm=class extends Error{constructor(t){super(t),this.name="CancelError"}get isCancelled(){return!0}},xm=class{constructor(t){this._isResolved=!1,this._isRejected=!1,this._isCancelled=!1,this._cancelHandlers=[],this._promise=new Promise((e,n)=>{this._resolve=e,this._reject=n;const r=o=>{var a;this._isResolved||this._isRejected||this._isCancelled||(this._isResolved=!0,(a=this._resolve)==null||a.call(this,o))},i=o=>{var a;this._isResolved||this._isRejected||this._isCancelled||(this._isRejected=!0,(a=this._reject)==null||a.call(this,o))},s=o=>{this._isResolved||this._isRejected||this._isCancelled||this._cancelHandlers.push(o)};return Object.defineProperty(s,"isResolved",{get:()=>this._isResolved}),Object.defineProperty(s,"isRejected",{get:()=>this._isRejected}),Object.defineProperty(s,"isCancelled",{get:()=>this._isCancelled}),t(r,i,s)})}then(t,e){return this._promise.then(t,e)}catch(t){return this._promise.catch(t)}finally(t){return this._promise.finally(t)}cancel(){var t;if(!(this._isResolved||this._isRejected||this._isCancelled)){if(this._isCancelled=!0,this._cancelHandlers.length)try{for(const e of this._cancelHandlers)e()}catch(e){console.warn("Cancellation threw an error",e);return}this._cancelHandlers.length=0,(t=this._reject)==null||t.call(this,new vm("Request aborted"))}}get isCancelled(){return this._isCancelled}},Sm=class{constructor(t=new Map){this.jar=t}setCookie(t,e){var n;const r=t.origin.toLowerCase();this.jar.has(r)||this.jar.set(r,[]);const i=Sm.parse(e);this.jar.set(r,[...((n=this.jar.get(r))==null?void 0:n.filter(s=>s.name!==i.name))||[],i])}getCookies(t){var e;const n=t.origin.toLowerCase();return this.jar.get(n)?((e=this.jar.get(n))==null?void 0:e.filter(r=>!r.expires||r.expires>new Date))||[]:[]}static parse(t){if(typeof t!="string")throw new Error("argument str must be a string");const e=t.split(";").map(r=>r.trim());let n;if(e.length>0){const[r,i]=e[0].split("=");if(!r||!i)throw new Error("Invalid cookie");n={name:r,value:i}}else throw new Error("Invalid cookie");return e.slice(1).forEach(r=>{const[i,s]=r.split("=");if(!i.trim())throw new Error("Invalid cookie");const o=i.toLowerCase(),a=(s==null?void 0:s.charAt(0))==="'"||(s==null?void 0:s.charAt(0))==='"'?s==null?void 0:s.slice(1,-1):s;if(o==="expires"&&(n.expires=new Date(a)),o==="path"&&(n.path=a),o==="samesite"){if(a!=="Lax"&&a!=="None"&&a!=="Strict")throw new Error("Invalid cookie SameSite value");n.sameSite=a}o==="secure"&&(n.secure=!0)}),n}},Tm=new Sm;Yr.interceptors.response.use(t=>(Array.isArray(t.headers["set-cookie"])&&t.headers["set-cookie"].forEach(e=>{Tm.setCookie(new URL(t.config.url),e)}),t));Yr.interceptors.request.use(function(t){const e=Tm.getCookies(new URL(t.url));return(e==null?void 0:e.length)>0&&t.headers&&(t.headers.cookie=e.map(n=>`${n.name}=${n.value}`).join("; ")),t});var H0=t=>t!=null,Xl=t=>typeof t=="string",Nd=t=>Xl(t)&&t!=="",Am=t=>typeof t=="object"&&typeof t.type=="string"&&typeof t.stream=="function"&&typeof t.arrayBuffer=="function"&&typeof t.constructor=="function"&&typeof t.constructor.name=="string"&&/^(Blob|File)$/.test(t.constructor.name)&&/^(Blob|File)$/.test(t[Symbol.toStringTag]),vS=t=>t instanceof ul,xS=t=>t>=200&&t<300,SS=t=>btoa(t),TS=t=>{const e=[],n=(i,s)=>{e.push(`${encodeURIComponent(i)}=${encodeURIComponent(String(s))}`)},r=(i,s)=>{H0(s)&&(Array.isArray(s)?s.forEach(o=>{r(i,o)}):typeof s=="object"?Object.entries(s).forEach(([o,a])=>{r(`${i}[${o}]`,a)}):n(i,s))};return Object.entries(t).forEach(([i,s])=>{r(i,s)}),e.length>0?`?${e.join("&")}`:""},AS=(t,e)=>{const n=t.ENCODE_PATH||encodeURI,r=e.url.replace("{api-version}",t.VERSION).replace(/{(.*?)}/g,(s,o)=>{var a;return(a=e.path)!=null&&a.hasOwnProperty(o)?n(String(e.path[o])):s}),i=`${t.BASE}${r}`;return e.query?`${i}${TS(e.query)}`:i},ES=t=>{if(t.formData){const e=new ul,n=(r,i)=>{Xl(i)||Am(i)?e.append(r,i):e.append(r,JSON.stringify(i))};return Object.entries(t.formData).filter(([r,i])=>H0(i)).forEach(([r,i])=>{Array.isArray(i)?i.forEach(s=>n(r,s)):n(r,i)}),e}},$c=async(t,e)=>typeof e=="function"?e(t):e,kS=async(t,e,n)=>{const r=await $c(e,t.TOKEN),i=await $c(e,t.USERNAME),s=await $c(e,t.PASSWORD),o=await $c(e,t.HEADERS),a=typeof(n==null?void 0:n.getHeaders)=="function"&&(n==null?void 0:n.getHeaders())||{},c=Object.entries({Accept:"application/json",...o,...e.headers,...a}).filter(([u,l])=>H0(l)).reduce((u,[l,d])=>({...u,[l]:String(d)}),{});if(Nd(r)&&(c.Authorization=`Bearer ${r}`),Nd(i)&&Nd(s)){const u=SS(`${i}:${s}`);c.Authorization=`Basic ${u}`}return e.body&&(e.mediaType?c["Content-Type"]=e.mediaType:Am(e.body)?c["Content-Type"]=e.body.type||"application/octet-stream":Xl(e.body)?c["Content-Type"]="text/plain":vS(e.body)||(c["Content-Type"]="application/json")),c},BS=t=>{if(t.body)return t.body},RS=async(t,e,n,r,i,s,o)=>{const a=Yr.CancelToken.source(),c={url:n,headers:s,data:r??i,method:e.method,withCredentials:t.WITH_CREDENTIALS,cancelToken:a.token};Object.keys(t.HEADERS||{}).filter(l=>l.toLowerCase()==="accept").map(l=>t.HEADERS[l]).includes("application/x-bcs")&&(c.responseType="arraybuffer"),o(()=>a.cancel("The user aborted a request."));try{return await Yr.request(c)}catch(l){const d=l;if(d.response)return d.response;throw l}},IS=(t,e)=>{if(e){const n=t.headers[e];if(Xl(n))return n}},PS=t=>{if(t.status!==204)return t.data},US=(t,e)=>{const r={400:"Bad Request",401:"Unauthorized",403:"Forbidden",404:"Not Found",429:"Too Many Requests",500:"Internal Server Error",502:"Bad Gateway",503:"Service Unavailable",...t.errors}[e.status];if(r)throw new Fa(t,e,r);if(!e.ok)throw new Fa(t,e,"Generic Error")},OS=(t,e)=>new xm(async(n,r,i)=>{try{const s=AS(t,e),o=ES(e),a=BS(e),c=await kS(t,e,o);if(!i.isCancelled){const u=await RS(t,e,s,a,o,c,i),l=PS(u),d=IS(u,e.responseHeader),h={url:s,ok:xS(u.status),status:u.status,statusText:u.statusText,body:d??l};US(e,h);const y=h.body;try{y.__headers=u.headers}catch{}n(y)}}catch(s){r(s)}}),CS=class extends bm{constructor(t){super(t)}request(t){return OS(this.config,t)}},Em=class{constructor(t){this.httpRequest=t}getAccount(t,e){return this.httpRequest.request({method:"GET",url:"/accounts/{address}",path:{address:t},query:{ledger_version:e}})}getAccountResources(t,e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resources",path:{address:t},query:{ledger_version:e,start:n,limit:r}})}getAccountModules(t,e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/modules",path:{address:t},query:{ledger_version:e,start:n,limit:r}})}getAccountResource(t,e,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/resource/{resource_type}",path:{address:t,resource_type:e},query:{ledger_version:n}})}getAccountModule(t,e,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/module/{module_name}",path:{address:t,module_name:e},query:{ledger_version:n}})}},km=class{constructor(t){this.httpRequest=t}getBlockByHeight(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_height/{block_height}",path:{block_height:t},query:{with_transactions:e}})}getBlockByVersion(t,e){return this.httpRequest.request({method:"GET",url:"/blocks/by_version/{version}",path:{version:t},query:{with_transactions:e}})}},Bm=class{constructor(t){this.httpRequest=t}getEventsByCreationNumber(t,e,n,r){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{creation_number}",path:{address:t,creation_number:e},query:{start:n,limit:r}})}getEventsByEventHandle(t,e,n,r,i){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/events/{event_handle}/{field_name}",path:{address:t,event_handle:e,field_name:n},query:{start:r,limit:i}})}},Rm=class{constructor(t){this.httpRequest=t}spec(){return this.httpRequest.request({method:"GET",url:"/spec"})}healthy(t){return this.httpRequest.request({method:"GET",url:"/-/healthy",query:{duration_secs:t}})}getLedgerInfo(){return this.httpRequest.request({method:"GET",url:"/"})}},Im=class{constructor(t){this.httpRequest=t}getTableItem(t,e,n){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/item",path:{table_handle:t},query:{ledger_version:n},body:e,mediaType:"application/json"})}getRawTableItem(t,e,n){return this.httpRequest.request({method:"POST",url:"/tables/{table_handle}/raw_item",path:{table_handle:t},query:{ledger_version:n},body:e,mediaType:"application/json"})}},Pm=class{constructor(t){this.httpRequest=t}getTransactions(t,e){return this.httpRequest.request({method:"GET",url:"/transactions",query:{start:t,limit:e}})}submitTransaction(t){return this.httpRequest.request({method:"POST",url:"/transactions",body:t,mediaType:"application/json"})}getTransactionByHash(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_hash/{txn_hash}",path:{txn_hash:t}})}getTransactionByVersion(t){return this.httpRequest.request({method:"GET",url:"/transactions/by_version/{txn_version}",path:{txn_version:t}})}getAccountTransactions(t,e,n){return this.httpRequest.request({method:"GET",url:"/accounts/{address}/transactions",path:{address:t},query:{start:e,limit:n}})}submitBatchTransactions(t){return this.httpRequest.request({method:"POST",url:"/transactions/batch",body:t,mediaType:"application/json"})}simulateTransaction(t,e,n,r){return this.httpRequest.request({method:"POST",url:"/transactions/simulate",query:{estimate_max_gas_amount:e,estimate_gas_unit_price:n,estimate_prioritized_gas_unit_price:r},body:t,mediaType:"application/json"})}encodeSubmission(t){return this.httpRequest.request({method:"POST",url:"/transactions/encode_submission",body:t,mediaType:"application/json"})}estimateGasPrice(){return this.httpRequest.request({method:"GET",url:"/estimate_gas_price"})}},Um=class{constructor(t){this.httpRequest=t}view(t,e){return this.httpRequest.request({method:"POST",url:"/view",query:{ledger_version:e},body:t,mediaType:"application/json"})}},Om=class{constructor(t,e=CS){var n,r,i,s;this.request=new e({BASE:(n=t==null?void 0:t.BASE)!=null?n:"/v1",VERSION:(r=t==null?void 0:t.VERSION)!=null?r:"1.2.0",WITH_CREDENTIALS:(i=t==null?void 0:t.WITH_CREDENTIALS)!=null?i:!1,CREDENTIALS:(s=t==null?void 0:t.CREDENTIALS)!=null?s:"include",TOKEN:t==null?void 0:t.TOKEN,USERNAME:t==null?void 0:t.USERNAME,PASSWORD:t==null?void 0:t.PASSWORD,HEADERS:t==null?void 0:t.HEADERS,ENCODE_PATH:t==null?void 0:t.ENCODE_PATH}),this.accounts=new Em(this.request),this.blocks=new km(this.request),this.events=new Bm(this.request),this.general=new Rm(this.request),this.tables=new Im(this.request),this.transactions=new Pm(this.request),this.view=new Um(this.request)}},$S={BASE:"/v1",VERSION:"1.2.0",WITH_CREDENTIALS:!1,CREDENTIALS:"include",TOKEN:void 0,USERNAME:void 0,PASSWORD:void 0,HEADERS:void 0,ENCODE_PATH:void 0},Cm=(t=>(t.ACCOUNT_NOT_FOUND="account_not_found",t.RESOURCE_NOT_FOUND="resource_not_found",t.MODULE_NOT_FOUND="module_not_found",t.STRUCT_FIELD_NOT_FOUND="struct_field_not_found",t.VERSION_NOT_FOUND="version_not_found",t.TRANSACTION_NOT_FOUND="transaction_not_found",t.TABLE_ITEM_NOT_FOUND="table_item_not_found",t.BLOCK_NOT_FOUND="block_not_found",t.VERSION_PRUNED="version_pruned",t.BLOCK_PRUNED="block_pruned",t.INVALID_INPUT="invalid_input",t.INVALID_TRANSACTION_UPDATE="invalid_transaction_update",t.SEQUENCE_NUMBER_TOO_OLD="sequence_number_too_old",t.VM_ERROR="vm_error",t.HEALTH_CHECK_FAILED="health_check_failed",t.MEMPOOL_IS_FULL="mempool_is_full",t.INTERNAL_ERROR="internal_error",t.WEB_FRAMEWORK_ERROR="web_framework_error",t.BCS_NOT_SUPPORTED="bcs_not_supported",t.API_DISABLED="api_disabled",t))(Cm||{}),$m=(t=>(t.PRIVATE="private",t.PUBLIC="public",t.FRIEND="friend",t))($m||{}),Mm=(t=>(t.VALIDATOR="validator",t.FULL_NODE="full_node",t))(Mm||{}),MS={description:`Account data

    A simplified version of the onchain Account resource`,properties:{sequence_number:{type:"U64",isRequired:!0},authentication_key:{type:"HexEncodedBytes",isRequired:!0}}},qS={type:"one-of",description:`Account signature scheme

    The account signature scheme allows you to have two types of accounts:

    1. A single Ed25519 key account, one private key
    2. A k-of-n multi-Ed25519 key account, multiple private keys, such that k-of-n must sign a transaction.`,contains:[{type:"AccountSignature_Ed25519Signature"},{type:"AccountSignature_MultiEd25519Signature"}]},NS={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},DS={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},LS={type:"string",description:`A hex encoded 32 byte Aptos account address.

    This is represented in a string as a 64 character hex string, sometimes
    shortened by stripping leading 0s, and adding a 0x.

    For example, address 0x0000000000000000000000000000000000000000000000000000000000000001 is represented as 0x1.
    `,format:"hex"},HS={description:`This is the generic struct we use for all API errors, it contains a string
    message and an Aptos API specific error code.`,properties:{message:{type:"string",description:"A message describing the error",isRequired:!0},error_code:{type:"AptosErrorCode",isRequired:!0},vm_error_code:{type:"number",description:"A code providing VM error details when submitting transactions to the VM",format:"uint64"}}},zS={type:"Enum"},FS={description:`A Block with or without transactions

    This contains the information about a transactions along with
    associated transactions if requested`,properties:{block_height:{type:"U64",isRequired:!0},block_hash:{type:"HashValue",isRequired:!0},block_timestamp:{type:"U64",isRequired:!0},first_version:{type:"U64",isRequired:!0},last_version:{type:"U64",isRequired:!0},transactions:{type:"array",contains:{type:"Transaction"}}}},jS={description:`A block metadata transaction

    This signifies the beginning of a block, and contains information
    about the specific block`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},id:{type:"HashValue",isRequired:!0},epoch:{type:"U64",isRequired:!0},round:{type:"U64",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0},previous_block_votes_bitvec:{type:"array",contains:{type:"number",format:"uint8"},isRequired:!0},proposer:{type:"Address",isRequired:!0},failed_proposer_indices:{type:"array",contains:{type:"number",format:"uint32"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},WS={description:"Decoded table data",properties:{key:{description:"Key of table in JSON",properties:{},isRequired:!0},key_type:{type:"string",description:"Type of key",isRequired:!0},value:{description:"Value of table in JSON",properties:{},isRequired:!0},value_type:{type:"string",description:"Type of value",isRequired:!0}}},GS={description:"Deleted table data",properties:{key:{description:"Deleted key",properties:{},isRequired:!0},key_type:{type:"string",description:"Deleted key type",isRequired:!0}}},VS={description:"Delete a module",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},module:{type:"MoveModuleId",isRequired:!0}}},KS={description:"Delete a resource",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},resource:{type:"MoveStructTag",isRequired:!0}}},XS={description:"Delete a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DeletedTableData"}}},ZS={properties:{changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},YS={description:"A single Ed25519 signature",properties:{public_key:{type:"HexEncodedBytes",isRequired:!0},signature:{type:"HexEncodedBytes",isRequired:!0}}},JS={description:"Request to encode a submission",properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},secondary_signers:{type:"array",contains:{type:"Address"}}}},QS={type:"string",description:"Entry function id is string representation of a entry function defined on-chain.\n\n    Format: `{address}::{module name}::{function name}`\n\n    Both `module name` and `function name` are case-sensitive.\n    "},e5={description:"Payload which runs a single entry function",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},t5={description:"An event from a transaction",properties:{guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},n5={properties:{creation_number:{type:"U64",isRequired:!0},account_address:{type:"Address",isRequired:!0}}},r5={description:"Struct holding the outputs of the estimate gas API",properties:{deprioritized_gas_estimate:{type:"number",description:"The deprioritized estimate for the gas unit price",format:"uint64"},gas_estimate:{type:"number",description:"The current estimate for the gas unit price",isRequired:!0,format:"uint64"},prioritized_gas_estimate:{type:"number",description:"The prioritized estimate for the gas unit price",format:"uint64"}}},i5={type:"one-of",description:"The writeset payload of the Genesis transaction",contains:[{type:"GenesisPayload_WriteSetPayload"}]},s5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteSetPayload"}]},o5={description:`The genesis transaction

    This only occurs at the genesis transaction (version 0)`,properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},payload:{type:"GenesisPayload",isRequired:!0},events:{type:"array",contains:{type:"Event"},isRequired:!0}}},a5={type:"string"},c5={description:"Representation of a successful healthcheck",properties:{message:{type:"string",isRequired:!0}}},u5={type:"string",description:"All bytes (Vec<u8>) data is represented as hex-encoded string prefixed with `0x` and fulfilled with\n    two hex digits per byte.\n\n    Unlike the `Address` type, HexEncodedBytes will not trim any zeros.\n    ",format:"hex"},l5={type:"string"},d5={description:`The struct holding all data returned to the client by the
    index endpoint (i.e., GET "/").  Only for responding in JSON`,properties:{chain_id:{type:"number",description:"Chain ID of the current chain",isRequired:!0,format:"uint8"},epoch:{type:"U64",isRequired:!0},ledger_version:{type:"U64",isRequired:!0},oldest_ledger_version:{type:"U64",isRequired:!0},ledger_timestamp:{type:"U64",isRequired:!0},node_role:{type:"RoleType",isRequired:!0},oldest_block_height:{type:"U64",isRequired:!0},block_height:{type:"U64",isRequired:!0},git_hash:{type:"string",description:`Git hash of the build of the API endpoint.  Can be used to determine the exact
            software version used by the API endpoint.`}}},f5={properties:{modules:{type:"array",contains:{type:"MoveModuleBytecode"},isRequired:!0}}},h5={type:"string"},p5={description:"Move function",properties:{name:{type:"IdentifierWrapper",isRequired:!0},visibility:{type:"MoveFunctionVisibility",isRequired:!0},is_entry:{type:"boolean",description:"Whether the function can be called as an entry function directly in a transaction",isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveFunctionGenericTypeParam"},isRequired:!0},params:{type:"array",contains:{type:"MoveType"},isRequired:!0},return:{type:"array",contains:{type:"MoveType"},isRequired:!0}}},g5={description:"Move function generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},y5={type:"Enum"},m5={description:"A Move module",properties:{address:{type:"Address",isRequired:!0},name:{type:"IdentifierWrapper",isRequired:!0},friends:{type:"array",contains:{type:"MoveModuleId"},isRequired:!0},exposed_functions:{type:"array",contains:{type:"MoveFunction"},isRequired:!0},structs:{type:"array",contains:{type:"MoveStruct"},isRequired:!0}}},w5={description:"Move module bytecode along with it's ABI",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveModule"}}},_5={type:"string",description:`Move module id is a string representation of Move module.

    Format: \`{address}::{module name}\`

    \`address\` should be hex-encoded 32 byte account address that is prefixed with \`0x\`.

    Module name is case-sensitive.
    `},b5={description:"A parsed Move resource",properties:{type:{type:"MoveStructTag",isRequired:!0},data:{type:"MoveStructValue",isRequired:!0}}},v5={description:"Move script bytecode",properties:{bytecode:{type:"HexEncodedBytes",isRequired:!0},abi:{type:"MoveFunction"}}},x5={description:"A move struct",properties:{name:{type:"IdentifierWrapper",isRequired:!0},is_native:{type:"boolean",description:"Whether the struct is a native struct of Move",isRequired:!0},abilities:{type:"array",contains:{type:"MoveAbility"},isRequired:!0},generic_type_params:{type:"array",contains:{type:"MoveStructGenericTypeParam"},isRequired:!0},fields:{type:"array",contains:{type:"MoveStructField"},isRequired:!0}}},S5={description:"Move struct field",properties:{name:{type:"IdentifierWrapper",isRequired:!0},type:{type:"MoveType",isRequired:!0}}},T5={description:"Move generic type param",properties:{constraints:{type:"array",contains:{type:"MoveAbility"},isRequired:!0}}},A5={type:"string",description:"String representation of a MoveStructTag (on-chain Move struct type). This exists so you\n    can specify MoveStructTags as path / query parameters, e.g. for get_events_by_event_handle.\n\n    It is a combination of:\n    1. `move_module_address`, `module_name` and `struct_name`, all joined by `::`\n    2. `struct generic type parameters` joined by `, `\n\n    Examples:\n     * `0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>`\n     * `0x1::account::Account`\n\n    Note:\n    1. Empty chars should be ignored when comparing 2 struct tag ids.\n    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).\n\n    See [doc](https://aptos.dev/concepts/accounts) for more details.\n    ",pattern:"^0x[0-9a-zA-Z:_<>]+$"},E5={description:'This is a JSON representation of some data within an account resource. More specifically,\n    it is a map of strings to arbitrary JSON values / objects, where the keys are top level\n    fields within the given resource.\n\n    To clarify, you might query for 0x1::account::Account and see the example data.\n\n    Move `bool` type value is serialized into `boolean`.\n\n    Move `u8`, `u16` and `u32` type value is serialized into `integer`.\n\n    Move `u64`, `u128` and `u256` type value is serialized into `string`.\n\n    Move `address` type value (32 byte Aptos account address) is serialized into a HexEncodedBytes string.\n    For example:\n    - `0x1`\n    - `0x1668f6be25668c1a17cd8caf6b8d2f25`\n\n    Move `vector` type value is serialized into `array`, except `vector<u8>` which is serialized into a\n    HexEncodedBytes string with `0x` prefix.\n    For example:\n    - `vector<u64>{255, 255}` => `["255", "255"]`\n    - `vector<u8>{255, 255}` => `0xffff`\n\n    Move `struct` type value is serialized into `object` that looks like this (except some Move stdlib types, see the following section):\n    ```json\n    {\n        field1_name: field1_value,\n        field2_name: field2_value,\n        ......\n    }\n    ```\n\n    For example:\n    `{ "created": "0xa550c18", "role_id": "0" }`\n\n     **Special serialization for Move stdlib types**:\n    - [0x1::string::String](https://github.com/aptos-labs/aptos-core/blob/main/language/move-stdlib/docs/ascii.md)\n    is serialized into `string`. For example, struct value `0x1::string::String{bytes: b"Hello World!"}`\n    is serialized as `"Hello World!"` in JSON.\n    ',properties:{}},k5={type:"string",description:`String representation of an on-chain Move type tag that is exposed in transaction payload.
    Values:
    - bool
    - u8
    - u16
    - u32
    - u64
    - u128
    - u256
    - address
    - signer
    - vector: \`vector<{non-reference MoveTypeId}>\`
    - struct: \`{address}::{module_name}::{struct_name}::<{generic types}>\`

    Vector type value examples:
    - \`vector<u8>\`
    - \`vector<vector<u64>>\`
    - \`vector<0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>>\`

    Struct type value examples:
    - \`0x1::coin::CoinStore<0x1::aptos_coin::AptosCoin>
    - \`0x1::account::Account\`

    Note:
    1. Empty chars should be ignored when comparing 2 struct tag ids.
    2. When used in an URL path, should be encoded by url-encoding (AKA percent-encoding).
    `,pattern:"^(bool|u8|u64|u128|address|signer|vector<.+>|0x[0-9a-zA-Z:_<, >]+)$"},B5={type:"any-of",description:"An enum of the possible Move value types",contains:[{type:"number",format:"uint8"},{type:"number",format:"uint16"},{type:"number",format:"uint32"},{type:"U64"},{type:"U128"},{type:"U256"},{type:"boolean"},{type:"Address"},{type:"array",contains:{type:"MoveValue"}},{type:"HexEncodedBytes"},{type:"MoveStructValue"},{type:"string"}]},R5={description:`Multi agent signature for multi agent transactions

    This allows you to have transactions across multiple accounts`,properties:{sender:{type:"AccountSignature",isRequired:!0},secondary_signer_addresses:{type:"array",contains:{type:"Address"},isRequired:!0},secondary_signers:{type:"array",contains:{type:"AccountSignature"},isRequired:!0}}},I5={description:`A Ed25519 multi-sig signature

    This allows k-of-n signing for a transaction`,properties:{public_keys:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},signatures:{type:"array",contains:{type:"HexEncodedBytes"},isRequired:!0},threshold:{type:"number",description:"The number of signatures required for a successful transaction",isRequired:!0,format:"uint8"},bitmap:{type:"HexEncodedBytes",isRequired:!0}}},P5={description:`A multisig transaction that allows an owner of a multisig account to execute a pre-approved
    transaction as the multisig account.`,properties:{multisig_address:{type:"Address",isRequired:!0},transaction_payload:{type:"MultisigTransactionPayload"}}},U5={type:"any-of",contains:[{type:"EntryFunctionPayload"}]},O5={description:"A transaction waiting in mempool",properties:{hash:{type:"HashValue",isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"}}},C5={description:"Table Item request for the GetTableItemRaw API",properties:{key:{type:"HexEncodedBytes",isRequired:!0}}},$5={type:"Enum"},M5={description:"Payload which runs a script that can run multiple functions",properties:{code:{type:"MoveScriptBytecode",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},q5={properties:{execute_as:{type:"Address",isRequired:!0},script:{type:"ScriptPayload",isRequired:!0}}},N5={description:"A state checkpoint transaction",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},D5={type:"string",description:`Representation of a StateKey as a hex string. This is used for cursor based pagination.
    `},L5={description:`A request to submit a transaction

    This requires a transaction and a signature of it`,properties:{sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature",isRequired:!0}}},H5={description:"Table Item request for the GetTableItem API",properties:{key_type:{type:"MoveType",isRequired:!0},value_type:{type:"MoveType",isRequired:!0},key:{description:"The value of the table item's key",properties:{},isRequired:!0}}},z5={type:"one-of",description:"Enum of the different types of transactions in Aptos",contains:[{type:"Transaction_PendingTransaction"},{type:"Transaction_UserTransaction"},{type:"Transaction_GenesisTransaction"},{type:"Transaction_BlockMetadataTransaction"},{type:"Transaction_StateCheckpointTransaction"}]},F5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"BlockMetadataTransaction"}]},j5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"GenesisTransaction"}]},W5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"PendingTransaction"}]},G5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"StateCheckpointTransaction"}]},V5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"UserTransaction"}]},K5={type:"one-of",description:"An enum of the possible transaction payloads",contains:[{type:"TransactionPayload_EntryFunctionPayload"},{type:"TransactionPayload_ScriptPayload"},{type:"TransactionPayload_ModuleBundlePayload"},{type:"TransactionPayload_MultisigPayload"}]},X5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"EntryFunctionPayload"}]},Z5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ModuleBundlePayload"}]},Y5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultisigPayload"}]},J5={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptPayload"}]},Q5={description:"Information telling which batch submission transactions failed",properties:{error:{type:"AptosError",isRequired:!0},transaction_index:{type:"number",description:"The index of which transaction failed, same as submission order",isRequired:!0,format:"uint64"}}},e8={description:`Batch transaction submission result

    Tells which transactions failed`,properties:{transaction_failures:{type:"array",contains:{type:"TransactionsBatchSingleSubmissionFailure"},isRequired:!0}}},t8={type:"one-of",description:"An enum representing the different transaction signatures available",contains:[{type:"TransactionSignature_Ed25519Signature"},{type:"TransactionSignature_MultiEd25519Signature"},{type:"TransactionSignature_MultiAgentSignature"}]},n8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"Ed25519Signature"}]},r8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiAgentSignature"}]},i8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"MultiEd25519Signature"}]},s8={type:"string",description:`A string containing a 128-bit unsigned integer.

    We represent u128 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u128s in JSON natively.
    `,format:"uint128"},o8={type:"string",description:`A string containing a 256-bit unsigned integer.

    We represent u256 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u256s in JSON natively.
    `,format:"uint256"},a8={type:"string",description:`A string containing a 64-bit unsigned integer.

    We represent u64 values as a string to ensure compatibility with languages such
    as JavaScript that do not parse u64s in JSON natively.
    `,format:"uint64"},c8={description:"A transaction submitted by a user to change the state of the blockchain",properties:{version:{type:"U64",isRequired:!0},hash:{type:"HashValue",isRequired:!0},state_change_hash:{type:"HashValue",isRequired:!0},event_root_hash:{type:"HashValue",isRequired:!0},state_checkpoint_hash:{type:"HashValue"},gas_used:{type:"U64",isRequired:!0},success:{type:"boolean",description:"Whether the transaction was successful",isRequired:!0},vm_status:{type:"string",description:"The VM status of the transaction, can tell useful information in a failure",isRequired:!0},accumulator_root_hash:{type:"HashValue",isRequired:!0},changes:{type:"array",contains:{type:"WriteSetChange"},isRequired:!0},sender:{type:"Address",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},max_gas_amount:{type:"U64",isRequired:!0},gas_unit_price:{type:"U64",isRequired:!0},expiration_timestamp_secs:{type:"U64",isRequired:!0},payload:{type:"TransactionPayload",isRequired:!0},signature:{type:"TransactionSignature"},events:{type:"array",contains:{type:"Event"},isRequired:!0},timestamp:{type:"U64",isRequired:!0}}},u8={description:"An event from a transaction with a version",properties:{version:{type:"U64",isRequired:!0},guid:{type:"EventGuid",isRequired:!0},sequence_number:{type:"U64",isRequired:!0},type:{type:"MoveType",isRequired:!0},data:{description:"The JSON representation of the event",properties:{},isRequired:!0}}},l8={description:"View request for the Move View Function API",properties:{function:{type:"EntryFunctionId",isRequired:!0},type_arguments:{type:"array",contains:{type:"MoveType"},isRequired:!0},arguments:{type:"array",contains:{properties:{}},isRequired:!0}}},d8={description:"Write a new module or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveModuleBytecode",isRequired:!0}}},f8={description:"Write a resource or update an existing one",properties:{address:{type:"Address",isRequired:!0},state_key_hash:{type:"string",description:"State key hash",isRequired:!0},data:{type:"MoveResource",isRequired:!0}}},h8={type:"one-of",description:"The associated writeset with a payload",contains:[{type:"WriteSet_ScriptWriteSet"},{type:"WriteSet_DirectWriteSet"}]},p8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DirectWriteSet"}]},g8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"ScriptWriteSet"}]},y8={type:"one-of",description:"A final state change of a transaction on a resource or module",contains:[{type:"WriteSetChange_DeleteModule"},{type:"WriteSetChange_DeleteResource"},{type:"WriteSetChange_DeleteTableItem"},{type:"WriteSetChange_WriteModule"},{type:"WriteSetChange_WriteResource"},{type:"WriteSetChange_WriteTableItem"}]},m8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteModule"}]},w8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteResource"}]},_8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"DeleteTableItem"}]},b8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteModule"}]},v8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteResource"}]},x8={type:"all-of",contains:[{properties:{type:{type:"string",isRequired:!0}}},{type:"WriteTableItem"}]},S8={description:"A writeset payload, used only for genesis",properties:{write_set:{type:"WriteSet",isRequired:!0}}},T8={description:"Change set to write a table item",properties:{state_key_hash:{type:"string",isRequired:!0},handle:{type:"HexEncodedBytes",isRequired:!0},key:{type:"HexEncodedBytes",isRequired:!0},value:{type:"HexEncodedBytes",isRequired:!0},data:{type:"DecodedTableData"}}},A8=new Wo(yn.fromHex("0x1"),new cr("string"),new cr("String"),[]);function Zl(t,e,n){if(!(e!=null&&e.includes(typeof t)))throw new Error(n||`Invalid arg: ${t} type should be ${e instanceof Array?e.join(" or "):e}`)}function ps(t){throw new Error(t)}function fp(t){return!!t.match(/\s/)}function hp(t){return!!t.match(/[_A-Za-z0-9]/g)}function E8(t,e){const n=t[e];if(n===":"){if(t.slice(e,e+2)==="::")return[["COLON","::"],2];ps("Unrecognized token.")}else{if(n==="<")return[["LT","<"],1];if(n===">")return[["GT",">"],1];if(n===",")return[["COMMA",","],1];if(fp(n)){let r="";for(let i=e;i<t.length;i+=1){const s=t[i];if(fp(s))r=`${r}${s}`;else break}return[["SPACE",r],r.length]}else if(hp(n)){let r="";for(let i=e;i<t.length;i+=1){const s=t[i];if(hp(s))r=`${r}${s}`;else break}return[["IDENT",r],r.length]}}throw new Error("Unrecognized token.")}function k8(t){let e=0;const n=[];for(;e<t.length;){const[r,i]=E8(t,e);r[0]!=="SPACE"&&n.push(r),e+=i}return n}var Yl=class{constructor(t){this.tokens=k8(t)}consume(t){const e=this.tokens.shift();(!e||e[1]!==t)&&ps("Invalid type tag.")}parseCommaList(t,e){const n=[];for(this.tokens.length<=0&&ps("Invalid type tag.");this.tokens[0][1]!==t&&(n.push(this.parseTypeTag()),!(this.tokens.length>0&&this.tokens[0][1]===t||(this.consume(","),this.tokens.length>0&&this.tokens[0][1]===t&&e)));)this.tokens.length<=0&&ps("Invalid type tag.");return n}parseTypeTag(){this.tokens.length===0&&ps("Invalid type tag.");const[t,e]=this.tokens.shift();if(e==="u8")return new vi;if(e==="u16")return new ua;if(e==="u32")return new la;if(e==="u64")return new Gs;if(e==="u128")return new Vs;if(e==="u256")return new da;if(e==="bool")return new Ws;if(e==="address")return new Ks;if(e==="vector"){this.consume("<");const n=this.parseTypeTag();return this.consume(">"),new fa(n)}if(t==="IDENT"&&(e.startsWith("0x")||e.startsWith("0X"))){const n=e;this.consume("::");const[r,i]=this.tokens.shift();r!=="IDENT"&&ps("Invalid type tag."),this.consume("::");const[s,o]=this.tokens.shift();s!=="IDENT"&&ps("Invalid type tag.");let a=[];this.tokens.length>0&&this.tokens[0][1]==="<"&&(this.consume("<"),a=this.parseCommaList(">",!0),this.consume(">"));const c=new Wo(yn.fromHex(n),new cr(i),new cr(o),a);return new Xs(c)}throw new Error("Invalid type tag.")}};function qm(t){if(Zl(t,["boolean","string"]),typeof t=="boolean")return t;if(t==="true")return!0;if(t==="false")return!1;throw new Error("Invalid boolean string.")}function So(t){if(Zl(t,["number","string"]),typeof t=="number")return t;const e=Number.parseInt(t,10);if(Number.isNaN(e))throw new Error("Invalid number string.");return e}function To(t){return Zl(t,["number","bigint","string"]),BigInt(t)}function z0(t,e,n){if(e instanceof Ws){n.serializeBool(qm(t));return}if(e instanceof vi){n.serializeU8(So(t));return}if(e instanceof ua){n.serializeU16(So(t));return}if(e instanceof la){n.serializeU32(So(t));return}if(e instanceof Gs){n.serializeU64(To(t));return}if(e instanceof Vs){n.serializeU128(To(t));return}if(e instanceof da){n.serializeU256(To(t));return}if(e instanceof Ks){let r;if(typeof t=="string"||t instanceof ft)r=yn.fromHex(t);else if(t instanceof yn)r=t;else throw new Error("Invalid account address.");r.serialize(n);return}if(e instanceof fa){if(e.value instanceof vi){if(t instanceof Uint8Array){n.serializeBytes(t);return}if(typeof t=="string"){n.serializeStr(t);return}}if(!Array.isArray(t))throw new Error("Invalid vector args.");n.serializeU32AsUleb128(t.length),t.forEach(r=>z0(r,e.value,n));return}if(e instanceof Xs){const{address:r,module_name:i,name:s}=e.value;if(`${ft.fromUint8Array(r.address).toShortString()}::${i.value}::${s.value}`!="0x1::string::String")throw new Error("The only supported struct arg is of type 0x1::string::String");Zl(t,["string"]),n.serializeStr(t);return}throw new Error("Unsupported arg type.")}function B8(t,e){if(e instanceof Ws)return new Gl(qm(t));if(e instanceof vi)return new Hl(So(t));if(e instanceof ua)return new zl(So(t));if(e instanceof la)return new Fl(So(t));if(e instanceof Gs)return new Go(To(t));if(e instanceof Vs)return new jl(To(t));if(e instanceof da)return new Wl(To(t));if(e instanceof Ks){let n;if(typeof t=="string"||t instanceof ft)n=yn.fromHex(t);else if(t instanceof yn)n=t;else throw new Error("Invalid account address.");return new Vo(n)}if(e instanceof fa&&e.value instanceof vi){if(!(t instanceof Uint8Array))throw new Error(`${t} should be an instance of Uint8Array`);return new Ko(t)}throw new Error("Unknown type for TransactionArgument.")}var R8="APTOS::RawTransaction",I8="APTOS::RawTransactionWithData",Zo=class{constructor(t,e){this.rawTxnBuilder=e,this.signingFunction=t}build(t,e,n){if(!this.rawTxnBuilder)throw new Error("this.rawTxnBuilder doesn't exist.");return this.rawTxnBuilder.build(t,e,n)}static getSigningMessage(t){const e=jo.create();if(t instanceof ha)e.update(R8);else if(t instanceof Nl)e.update(I8);else throw new Error("Unknown transaction type.");const n=e.digest(),r=Ti(t),i=new Uint8Array(n.length+r.length);return i.set(n),i.set(r,n.length),i}},hu=class extends Zo{constructor(t,e,n){super(t,n),this.publicKey=e}rawToSigned(t){const e=Zo.getSigningMessage(t),n=this.signingFunction(e),r=new Ml(new Dr(this.publicKey),n);return new wc(t,r)}sign(t){return Ti(this.rawToSigned(t))}},P8=class extends Zo{constructor(t,e){super(t),this.publicKey=e}rawToSigned(t){const e=Zo.getSigningMessage(t),n=this.signingFunction(e),r=new ql(this.publicKey,n);return new wc(t,r)}sign(t){return Ti(this.rawToSigned(t))}},Au=class{constructor(t,e){this.abiMap=new Map,t.forEach(n=>{const r=new U0(n),i=Vl.deserialize(r);let s;if(i instanceof Xo){const o=i,{address:a,name:c}=o.module_name;s=`${ft.fromUint8Array(a.address).toShortString()}::${c.value}::${o.name}`}else s=i.name;if(this.abiMap.has(s))throw new Error("Found conflicting ABI interfaces");this.abiMap.set(s,i)}),this.builderConfig={maxGasAmount:BigInt(hm),expSecFromNow:pm,...e}}static toBCSArgs(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((n,r)=>{const i=new vn;return z0(n,t[r].type_tag,i),i.getBytes()})}static toTransactionArguments(t,e){if(t.length!==e.length)throw new Error("Wrong number of args provided.");return e.map((n,r)=>B8(n,t[r].type_tag))}setSequenceNumber(t){this.builderConfig.sequenceNumber=BigInt(t)}buildTransactionPayload(t,e,n){const r=e.map(o=>new Yl(o).parseTypeTag());let i;if(!this.abiMap.has(t))throw new Error(`Cannot find function: ${t}`);const s=this.abiMap.get(t);if(s instanceof Xo){const o=s,a=Au.toBCSArgs(o.args,n);i=new Dl(new Ss(o.module_name,new cr(o.name),r,a))}else if(s instanceof Kl){const o=s,a=Au.toTransactionArguments(o.args,n);i=new bc(new mc(o.code,r,a))}else throw new Error("Unknown ABI format.");return i}build(t,e,n){const{sender:r,sequenceNumber:i,gasUnitPrice:s,maxGasAmount:o,expSecFromNow:a,chainId:c}=this.builderConfig;if(!s)throw new Error("No gasUnitPrice provided.");const u=r instanceof yn?r:yn.fromHex(r),l=BigInt(Math.floor(Date.now()/1e3)+Number(a)),d=this.buildTransactionPayload(t,e,n);if(d)return new ha(u,BigInt(i),d,BigInt(o),BigInt(s),l,new Ll(Number(c)));throw new Error("Invalid ABI.")}},Nm=class{constructor(t,e){this.aptosClient=t,this.builderConfig=e}async fetchABI(t){const n=(await this.aptosClient.getAccountModules(t)).map(i=>i.abi).flatMap(i=>i.exposed_functions.filter(s=>s.is_entry).map(s=>({fullName:`${i.address}::${i.name}::${s.name}`,...s}))),r=new Map;return n.forEach(i=>{r.set(i.fullName,i)}),r}async build(t,e,n){if(t=(v=>v.replace(/^0[xX]0*/g,"0x"))(t),t.split("::").length!==3)throw new Error("'func' needs to be a fully qualified function name in format <address>::<module>::<function>, e.g. 0x1::coins::transfer");const[s,o]=t.split("::"),a=await this.fetchABI(s);if(!a.has(t))throw new Error(`${t} doesn't exist.`);const c=a.get(t),l=c.params.filter(v=>v!=="signer"&&v!=="&signer").map((v,_)=>new xc(`var${_}`,new Yl(v).parseTypeTag())),d=new Xo(c.name,Ps.fromStr(`${s}::${o}`),"",c.generic_type_params.map((v,_)=>new vc(`${_}`)),l),{sender:h,...y}=this.builderConfig,b=h instanceof yn?ft.fromUint8Array(h.address):h,[{sequence_number:T},k,{gas_estimate:O}]=await Promise.all([y!=null&&y.sequenceNumber?Promise.resolve({sequence_number:y==null?void 0:y.sequenceNumber}):this.aptosClient.getAccount(b),y!=null&&y.chainId?Promise.resolve(y==null?void 0:y.chainId):this.aptosClient.getChainId(),y!=null&&y.gasUnitPrice?Promise.resolve({gas_estimate:y==null?void 0:y.gasUnitPrice}):this.aptosClient.estimateGasPrice()]);return new Au([Ti(d)],{sender:h,sequenceNumber:T,chainId:k,gasUnitPrice:BigInt(O),...y}).build(t,e,n)}};tn([J4(10*60*1e3)],Nm.prototype,"fetchABI",1);var Ra=class{constructor(t,e,n=!1){if(!t)throw new Error("Node URL cannot be empty.");const r=e==null?{}:{...e};n?this.nodeUrl=t:this.nodeUrl=X4(t),r.BASE=this.nodeUrl,(e==null?void 0:e.WITH_CREDENTIALS)===!1?r.WITH_CREDENTIALS=!1:r.WITH_CREDENTIALS=!0,this.client=new Om(r)}async getAccount(t){return this.client.accounts.getAccount(ft.ensure(t).hex())}async getAccountTransactions(t,e){var n;return this.client.transactions.getAccountTransactions(ft.ensure(t).hex(),(n=e==null?void 0:e.start)==null?void 0:n.toString(),e==null?void 0:e.limit)}async getAccountModules(t,e){const n=this.client.accounts.getAccountModules.bind({httpRequest:this.client.request});return await dp(n,t,1e3,e)}async getAccountModule(t,e,n){var r;return this.client.accounts.getAccountModule(ft.ensure(t).hex(),e,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}async getAccountResources(t,e){const n=this.client.accounts.getAccountResources.bind({httpRequest:this.client.request});return await dp(n,t,9999,e)}async getAccountResource(t,e,n){var r;return this.client.accounts.getAccountResource(ft.ensure(t).hex(),e,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}static generateBCSTransaction(t,e){return new hu(r=>{const i=t.signBuffer(r);return new j.Ed25519Signature(i.toUint8Array())},t.pubKey().toUint8Array()).sign(e)}static generateBCSSimulation(t,e){return new hu(r=>{const i=new Uint8Array(64);return new j.Ed25519Signature(i)},t.pubKey().toUint8Array()).sign(e)}async generateTransaction(t,e,n){const r={sender:t};if(n!=null&&n.sequence_number&&(r.sequenceNumber=n.sequence_number),n!=null&&n.gas_unit_price&&(r.gasUnitPrice=n.gas_unit_price),n!=null&&n.max_gas_amount&&(r.maxGasAmount=n.max_gas_amount),n!=null&&n.expiration_timestamp_secs){const s=Number.parseInt(n.expiration_timestamp_secs,10);r.expSecFromNow=s-Math.floor(Date.now()/1e3)}return new Nm(this,r).build(e.function,e.type_arguments,e.arguments)}async signTransaction(t,e){return Promise.resolve(Ra.generateBCSTransaction(t,e))}async getEventsByCreationNumber(t,e,n){var r;return this.client.events.getEventsByCreationNumber(ft.ensure(t).hex(),e.toString(),(r=n==null?void 0:n.start)==null?void 0:r.toString(),n==null?void 0:n.limit)}async getEventsByEventHandle(t,e,n,r){var i;return this.client.events.getEventsByEventHandle(ft.ensure(t).hex(),e,n,(i=r==null?void 0:r.start)==null?void 0:i.toString(),r==null?void 0:r.limit)}async submitTransaction(t){return this.submitSignedBCSTransaction(t)}async simulateTransaction(t,e,n){let r;return t instanceof za?r=Ra.generateBCSSimulation(t,e):t instanceof gc?r=new P8(()=>{const{threshold:s}=t,o=[],a=[];for(let u=0;u<s;u+=1)o.push(u),a.push(new j.Ed25519Signature(new Uint8Array(64)));const c=j.MultiEd25519Signature.createBitmap(o);return new j.MultiEd25519Signature(a,c)},t).sign(e):r=new hu(()=>{const s=new Uint8Array(64);return new j.Ed25519Signature(s)},t.toBytes()).sign(e),this.submitBCSSimulation(r,n)}async submitSignedBCSTransaction(t){return this.client.request.request({url:"/transactions",method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async submitBCSSimulation(t,e){var n,r,i;const s={estimate_gas_unit_price:(n=e==null?void 0:e.estimateGasUnitPrice)!=null?n:!1,estimate_max_gas_amount:(r=e==null?void 0:e.estimateMaxGasAmount)!=null?r:!1,estimate_prioritized_gas_unit_price:(i=e==null?void 0:e.estimatePrioritizedGasUnitPrice)!=null?i:!1};return this.client.request.request({url:"/transactions/simulate",query:s,method:"POST",body:t,mediaType:"application/x.aptos.signed_transaction+bcs"})}async getTransactions(t){var e;return this.client.transactions.getTransactions((e=t==null?void 0:t.start)==null?void 0:e.toString(),t==null?void 0:t.limit)}async getTransactionByHash(t){return this.client.transactions.getTransactionByHash(t)}async getTransactionByVersion(t){return this.client.transactions.getTransactionByVersion(t.toString())}async transactionPending(t){try{return(await this.client.transactions.getTransactionByHash(t)).type==="pending_transaction"}catch(e){if((e==null?void 0:e.status)===404)return!0;throw e}}async waitForTransactionWithResult(t,e){var n,r;const i=(n=e==null?void 0:e.timeoutSecs)!=null?n:Z4,s=(r=e==null?void 0:e.checkSuccess)!=null?r:!1;let o=!0,a=0,c;for(;o&&!(a>=i);){try{if(c=await this.client.transactions.getTransactionByHash(t),o=c.type==="pending_transaction",!o)break}catch(u){const l=u instanceof Fa,d=l&&u.status!==404&&u.status>=400&&u.status<500;if(!l||d)throw u}await K4(1e3),a+=1}if(c===void 0)throw new Error(`Waiting for transaction ${t} failed`);if(o)throw new O8(`Waiting for transaction ${t} timed out after ${i} seconds`,c);if(!s)return c;if(!(c!=null&&c.success))throw new C8(`Transaction ${t} committed to the blockchain but execution failed`,c);return c}async waitForTransaction(t,e){await this.waitForTransactionWithResult(t,e)}async getLedgerInfo(){return this.client.general.getLedgerInfo()}async getChainId(){return(await this.getLedgerInfo()).chain_id}async getTableItem(t,e,n){var r;return await this.client.tables.getTableItem(t,e,(r=n==null?void 0:n.ledgerVersion)==null?void 0:r.toString())}async generateRawTransaction(t,e,n){const[{sequence_number:r},i,{gas_estimate:s}]=await Promise.all([this.getAccount(t),this.getChainId(),n!=null&&n.gasUnitPrice?Promise.resolve({gas_estimate:n.gasUnitPrice}):this.estimateGasPrice()]),{maxGasAmount:o,gasUnitPrice:a,expireTimestamp:c}={maxGasAmount:BigInt(hm),gasUnitPrice:BigInt(s),expireTimestamp:BigInt(Math.floor(Date.now()/1e3)+pm),...n};return new j.RawTransaction(j.AccountAddress.fromHex(t),BigInt(r),e,o,a,c,new j.ChainId(i))}async generateSignSubmitTransaction(t,e,n){const r=await this.generateRawTransaction(t.address(),e,n),i=Ra.generateBCSTransaction(t,r);return(await this.submitSignedBCSTransaction(i)).hash}async publishPackage(t,e,n,r){const i=new vn;Br(n,i);const s=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural("0x1::code","publish_package_txn",[],[ro(e),i.getBytes()]));return this.generateSignSubmitTransaction(t,s,r)}async generateSignSubmitWaitForTransaction(t,e,n){const r=await this.generateSignSubmitTransaction(t,e,n);return this.waitForTransactionWithResult(r,n)}async estimateGasPrice(){return this.client.transactions.estimateGasPrice()}async estimateMaxGasAmount(t){const e=`0x1::coin::CoinStore<${Y4}>`,[{gas_estimate:n},r]=await Promise.all([this.estimateGasPrice(),this.getAccountResources(t)]),i=r.find(o=>o.type===e);return BigInt(i.data.coin.value)/BigInt(n)}async rotateAuthKeyEd25519(t,e,n){const{sequence_number:r,authentication_key:i}=await this.getAccount(t.address()),s=new za(e),o=new j.RotationProofChallenge(j.AccountAddress.CORE_CODE_ADDRESS,"account","RotationProofChallenge",BigInt(r),j.AccountAddress.fromHex(t.address()),new j.AccountAddress(new ft(i).toUint8Array()),s.pubKey().toUint8Array()),a=ft.fromUint8Array(Ti(o)),c=t.signHexString(a),u=s.signHexString(a),l=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural("0x1::account","rotate_authentication_key",[],[bf(0),ro(t.pubKey().toUint8Array()),bf(0),ro(s.pubKey().toUint8Array()),ro(c.toUint8Array()),ro(u.toUint8Array())])),d=await this.generateRawTransaction(t.address(),l,n),h=Ra.generateBCSTransaction(t,d);return this.submitSignedBCSTransaction(h)}async lookupOriginalAddress(t){const e=await this.getAccountResource("0x1","0x1::account::OriginatingAddress"),{address_map:{handle:n}}=e.data,r=await this.getTableItem(n,{key_type:"address",value_type:"address",key:ft.ensure(t).hex()});return new ft(r)}async getBlockByHeight(t,e){return this.client.blocks.getBlockByHeight(t,e)}async getBlockByVersion(t,e){return this.client.blocks.getBlockByVersion(t,e)}async view(t,e){return this.client.view.view(t,e)}clearCache(t){Q4(t)}},Qt=Ra;tn([En],Qt.prototype,"getAccount",1);tn([En],Qt.prototype,"getAccountTransactions",1);tn([En],Qt.prototype,"getAccountModules",1);tn([En],Qt.prototype,"getAccountModule",1);tn([En],Qt.prototype,"getAccountResources",1);tn([En],Qt.prototype,"getAccountResource",1);tn([En],Qt.prototype,"getEventsByCreationNumber",1);tn([En],Qt.prototype,"getEventsByEventHandle",1);tn([En],Qt.prototype,"submitSignedBCSTransaction",1);tn([En],Qt.prototype,"submitBCSSimulation",1);tn([En],Qt.prototype,"getTransactions",1);tn([En],Qt.prototype,"getTransactionByHash",1);tn([En],Qt.prototype,"getTransactionByVersion",1);tn([En],Qt.prototype,"getLedgerInfo",1);tn([Cl()],Qt.prototype,"getChainId",1);tn([En],Qt.prototype,"getTableItem",1);tn([En,Cl({ttlMs:5*60*1e3,tags:["gas_estimates"]})],Qt.prototype,"estimateGasPrice",1);tn([En],Qt.prototype,"estimateMaxGasAmount",1);tn([En],Qt.prototype,"getBlockByHeight",1);tn([En],Qt.prototype,"getBlockByVersion",1);tn([En],Qt.prototype,"view",1);var U8=class extends Error{constructor(t,e,n,r){super(e),this.status=t,this.message=e,this.errorCode=n,this.vmErrorCode=r}},O8=class extends Error{constructor(t,e){super(t),this.lastSubmittedTransaction=e}},C8=class extends Error{constructor(t,e){super(t),this.transaction=e}};function En(t,e,n){const r=n.value;return n.value=async function(...s){var o,a;try{return await r.apply(this,[...s])}catch(c){throw c instanceof Fa?new U8(c.status,JSON.stringify({message:c.message,...c.body}),(o=c.body)==null?void 0:o.error_code,(a=c.body)==null?void 0:a.vm_error_code):c}},n}var Dm=class{constructor(e,n,r=!1){let i=null,s=null;if(typeof e=="object"&&$8(e)?(i=e.fullnodeUrl,s=e.indexerUrl):(i=tS[e],s=eS[e]),!i||!s)throw new Error("network is not provided");this.aptosClient=new Qt(i,n,r),this.indexerClient=new _m(s)}};function Lm(t,e,n){Object.getOwnPropertyNames(e.prototype).forEach(r=>{const i=Object.getOwnPropertyDescriptor(e.prototype,r);i&&(i.value=function(...s){return this[n][r](...s)},Object.defineProperty(t.prototype,r,i))})}Lm(Dm,Qt,"aptosClient");Lm(Dm,_m,"indexerClient");function $8(t){return t.fullnodeUrl!==void 0&&typeof t.fullnodeUrl=="string"&&t.indexerUrl!==void 0&&typeof t.indexerUrl=="string"}var M8="a11ceb0b0500000006010004020408030c0a05161d073339086c400000010100020700010307000104030100010504020007060c0508000800030503010801000405080008000304060c0801050306737472696e6705746f6b656e06537472696e6707546f6b656e4964136372656174655f746f6b656e5f69645f726177087472616e73666572000000000000000000000000000000000000000000000000000000000000000100000000000000000000000000000000000000000000000000000000000000030000010c0b010b020b030b0411000c070b000b070b050b06110102",q8=["01186372656174655F636F6C6C656374696F6E5F736372697074000000000000000000000000000000000000000000000000000000000000000305746F6B656E3020637265617465206120656D70747920746F6B656E20636F6C6C656374696F6E207769746820706172616D65746572730005046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000B6465736372697074696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000375726907000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700076D6178696D756D020E6D75746174655F73657474696E670600","01136372656174655F746F6B656E5F736372697074000000000000000000000000000000000000000000000000000000000000000305746F6B656E1D2063726561746520746F6B656E20776974682072617720696E70757473000D0A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000B6465736372697074696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000762616C616E636502076D6178696D756D020375726907000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E670015726F79616C74795F70617965655F61646472657373041A726F79616C74795F706F696E74735F64656E6F6D696E61746F720218726F79616C74795F706F696E74735F6E756D657261746F72020E6D75746174655F73657474696E6706000D70726F70657274795F6B6579730607000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67000F70726F70657274795F76616C7565730606010E70726F70657274795F74797065730607000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700","01166469726563745f7472616e736665725f736372697074000000000000000000000000000000000000000000000000000000000000000305746f6b656e0000051063726561746f72735f61646472657373040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402","010C6F666665725F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E7366657273000006087265636569766572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E0206616D6F756E7402","010C636C61696D5F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E73666572730000050673656E646572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E02","011363616E63656C5F6F666665725F73637269707400000000000000000000000000000000000000000000000000000000000000030F746F6B656E5F7472616E7366657273000005087265636569766572040763726561746F72040A636F6C6C656374696F6E07000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E6700046E616D6507000000000000000000000000000000000000000000000000000000000000000106737472696E6706537472696E67001070726F70657274795F76657273696F6E02","01176d75746174655f746f6b656e5f70726f70657274696573000000000000000000000000000000000000000000000000000000000000000305746f6b656eba02206d75746174652074686520746f6b656e2070726f706572747920616e64207361766520746865206e65772070726f706572747920696e20546f6b656e53746f72650a2069662074686520746f6b656e2070726f70657274795f76657273696f6e20697320302c2077652077696c6c206372656174652061206e65772070726f70657274795f76657273696f6e2070657220746f6b656e20746f2067656e65726174652061206e657720746f6b656e5f69642070657220746f6b656e0a2069662074686520746f6b656e2070726f70657274795f76657273696f6e206973206e6f7420302c2077652077696c6c206a75737420757064617465207468652070726f70657274794d617020616e642075736520746865206578697374696e6720746f6b656e5f6964202870726f70657274795f76657273696f6e2900090b746f6b656e5f6f776e6572040763726561746f72040f636f6c6c656374696f6e5f6e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67000a746f6b656e5f6e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e670016746f6b656e5f70726f70657274795f76657273696f6e0206616d6f756e7402046b6579730607000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67000676616c7565730606010574797065730607000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700","01166f70745f696e5f6469726563745f7472616e73666572000000000000000000000000000000000000000000000000000000000000000305746f6b656e000001066f70745f696e00","01046275726e000000000000000000000000000000000000000000000000000000000000000305746f6b656e20204275726e206120746f6b656e2062792074686520746f6b656e206f776e657200051063726561746f72735f61646472657373040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402","010f6275726e5f62795f63726561746f72000000000000000000000000000000000000000000000000000000000000000305746f6b656e6a204275726e206120746f6b656e2062792063726561746f72207768656e2074686520746f6b656e2773204255524e41424c455f42595f43524541544f5220697320747275650a2054686520746f6b656e206973206f776e65642061742061646472657373206f776e65720005056f776e6572040a636f6c6c656374696f6e07000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e6700046e616d6507000000000000000000000000000000000000000000000000000000000000000106737472696e6706537472696e67001070726f70657274795f76657273696f6e0206616d6f756e7402"],Hm=class{constructor(t,e){this.type=t,this.value=e}},F0=class{constructor(){this.data={}}setProperty(t,e){this.data[t]=e}};function zm(t){let e;return t==="string"||t==="String"?e=new Xs(A8):e=new Yl(t).parseTypeTag(),e}function N8(t,e){if(t.length!==e.length)throw new Error("Length of property values and types not match");const n=new Array;return e.forEach((r,i)=>{try{const s=zm(r),o=new vn;z0(t[i],s,o),n.push(o.getBytes())}catch{n.push(new TextEncoder().encode(t[i]))}}),n}function Fm(t){const e=t.map.data,n=new F0;return e.forEach(r=>{const{key:i}=r,s=r.value.value,o=r.value.type,a=zm(o),c=D8(a,s),u=new Hm(o,c);n.setProperty(i,u)}),n}function D8(t,e){const n=new U0(new ft(e).toUint8Array());let r="";return t instanceof vi?r=n.deserializeU8().toString():t instanceof Gs?r=n.deserializeU64().toString():t instanceof Vs?r=n.deserializeU128().toString():t instanceof Ws?r=n.deserializeBool()?"true":"false":t instanceof Ks?r=ft.fromUint8Array(n.deserializeFixedBytes(32)).hex():t instanceof Xs&&t.isStringTypeTag()?r=n.deserializeStr():r=e,r}var L8={};Ol(L8,{PropertyMap:()=>F0,PropertyValue:()=>Hm,Token:()=>Wm,TokenData:()=>jm});var jm=class{constructor(t,e,n,r,i,s,o,a){this.collection=t,this.description=e,this.name=n,this.maximum=r,this.supply=i,this.uri=s,this.default_properties=Fm(o),this.mutability_config=a}},Wm=class{constructor(t,e,n){this.id=t,this.amount=e,this.token_properties=Fm(n)}},H8=class{constructor(t){this.aptosClient=t,this.transactionBuilder=new Au(q8.map(e=>new ft(e).toUint8Array()))}async createCollection(t,e,n,r,i=Oa,s){const o=this.transactionBuilder.buildTransactionPayload("0x3::token::create_collection_script",[],[e,n,r,i,[!1,!1,!1]]);return this.aptosClient.generateSignSubmitTransaction(t,o,s)}async createToken(t,e,n,r,i,s,o=Oa,a=t.address(),c=0,u=0,l=[],d=[],h=[],y){const b=this.transactionBuilder.buildTransactionPayload("0x3::token::create_token_script",[],[e,n,r,i,o,s,a,c,u,[!1,!1,!1,!1,!1],l,N8(d,h),h]);return this.aptosClient.generateSignSubmitTransaction(t,b,y)}async createTokenWithMutabilityConfig(t,e,n,r,i,s,o=Oa,a=t.address(),c=0,u=0,l=[],d=[],h=[],y=[!1,!1,!1,!1,!1],b){const T=this.transactionBuilder.buildTransactionPayload("0x3::token::create_token_script",[],[e,n,r,i,o,s,a,c,u,y,l,d,h]);return this.aptosClient.generateSignSubmitTransaction(t,T,b)}async offerToken(t,e,n,r,i,s,o=0,a){const c=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::offer_script",[],[e,n,r,i,o,s]);return this.aptosClient.generateSignSubmitTransaction(t,c,a)}async claimToken(t,e,n,r,i,s=0,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::claim_script",[],[e,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(t,a,o)}async cancelTokenOffer(t,e,n,r,i,s=0,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token_transfers::cancel_offer_script",[],[e,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(t,a,o)}async directTransferToken(t,e,n,r,i,s,o=0,a){const c=this.transactionBuilder.buildTransactionPayload("0x3::token::direct_transfer_script",[],[n,r,i,o,s]),u=await this.aptosClient.generateRawTransaction(t.address(),c,a),l=new j.MultiAgentRawTransaction(u,[j.AccountAddress.fromHex(e.address())]),d=new j.Ed25519Signature(t.signBuffer(Zo.getSigningMessage(l)).toUint8Array()),h=new j.AccountAuthenticatorEd25519(new j.Ed25519PublicKey(t.signingKey.publicKey),d),y=new j.Ed25519Signature(e.signBuffer(Zo.getSigningMessage(l)).toUint8Array()),b=new j.AccountAuthenticatorEd25519(new j.Ed25519PublicKey(e.signingKey.publicKey),y),T=new j.TransactionAuthenticatorMultiAgent(h,[j.AccountAddress.fromHex(e.address())],[b]),k=Ti(new j.SignedTransaction(u,T));return(await this.aptosClient.submitSignedBCSTransaction(k)).hash}async optInTokenTransfer(t,e,n){const r=this.transactionBuilder.buildTransactionPayload("0x3::token::opt_in_direct_transfer",[],[e]);return this.aptosClient.generateSignSubmitTransaction(t,r,n)}async transferWithOptIn(t,e,n,r,i,s,o,a){const c=new bc(new mc(new ft(M8).toUint8Array(),[],[new Vo(j.AccountAddress.fromHex(e)),new Ko(new TextEncoder().encode(n)),new Ko(new TextEncoder().encode(r)),new Go(BigInt(i)),new Vo(j.AccountAddress.fromHex(s)),new Go(BigInt(o))]));return this.aptosClient.generateSignSubmitTransaction(t,c,a)}async burnByCreator(t,e,n,r,i,s,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token::burn_by_creator",[],[e,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(t,a,o)}async burnByOwner(t,e,n,r,i,s,o){const a=this.transactionBuilder.buildTransactionPayload("0x3::token::burn",[],[e,n,r,i,s]);return this.aptosClient.generateSignSubmitTransaction(t,a,o)}async mutateTokenProperties(t,e,n,r,i,s,o,a,c,u,l){const d=this.transactionBuilder.buildTransactionPayload("0x3::token::mutate_token_properties",[],[e,n,r,i,s,o,a,c,u]);return this.aptosClient.generateSignSubmitTransaction(t,d,l)}async getCollectionData(t,e){const r=(await this.aptosClient.getAccountResources(t)).find(a=>a.type==="0x3::token::Collections"),{handle:i}=r.data.collection_data,s={key_type:"0x1::string::String",value_type:"0x3::token::CollectionData",key:e};return await this.aptosClient.getTableItem(i,s)}async getTokenData(t,e,n){const r=t instanceof ft?t.hex():t,i=await this.aptosClient.getAccountResource(r,"0x3::token::Collections"),{handle:s}=i.data.token_data,a={key_type:"0x3::token::TokenDataId",value_type:"0x3::token::TokenData",key:{creator:r,collection:e,name:n}},c=await this.aptosClient.getTableItem(s,a);return new jm(c.collection,c.description,c.name,c.maximum,c.supply,c.uri,c.default_properties,c.mutability_config)}async getToken(t,e,n,r="0"){const i={creator:t instanceof ft?t.hex():t,collection:e,name:n};return this.getTokenForAccount(t,{token_data_id:i,property_version:r})}async getTokenForAccount(t,e){const n=await this.aptosClient.getAccountResource(t instanceof ft?t.hex():t,"0x3::token::TokenStore"),{handle:r}=n.data.tokens,i={key_type:"0x3::token::TokenId",value_type:"0x3::token::Token",key:e};try{const s=await this.aptosClient.getTableItem(r,i);return new Wm(s.id,s.amount,s.token_properties)}catch(s){return(s==null?void 0:s.status)===404?{id:e,amount:"0",token_properties:new F0}:s}}},I={},z8={get exports(){return I},set exports(t){I=t}};(function(t){(function(e,n){function r(E,f){if(!E)throw new Error(f||"Assertion failed")}function i(E,f){E.super_=f;var p=function(){};p.prototype=f.prototype,E.prototype=new p,E.prototype.constructor=E}function s(E,f,p){if(s.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((f==="le"||f==="be")&&(p=f,f=10),this._init(E||0,f||10,p||"be"))}typeof e=="object"?e.exports=s:n.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=Qf.Buffer}catch{}s.isBN=function(f){return f instanceof s?!0:f!==null&&typeof f=="object"&&f.constructor.wordSize===s.wordSize&&Array.isArray(f.words)},s.max=function(f,p){return f.cmp(p)>0?f:p},s.min=function(f,p){return f.cmp(p)<0?f:p},s.prototype._init=function(f,p,w){if(typeof f=="number")return this._initNumber(f,p,w);if(typeof f=="object")return this._initArray(f,p,w);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),f=f.toString().replace(/\s+/g,"");var R=0;f[0]==="-"&&(R++,this.negative=1),R<f.length&&(p===16?this._parseHex(f,R,w):(this._parseBase(f,p,R),w==="le"&&this._initArray(this.toArray(),p,w)))},s.prototype._initNumber=function(f,p,w){f<0&&(this.negative=1,f=-f),f<67108864?(this.words=[f&67108863],this.length=1):f<4503599627370496?(this.words=[f&67108863,f/67108864&67108863],this.length=2):(r(f<9007199254740992),this.words=[f&67108863,f/67108864&67108863,1],this.length=3),w==="le"&&this._initArray(this.toArray(),p,w)},s.prototype._initArray=function(f,p,w){if(r(typeof f.length=="number"),f.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(f.length/3),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var N,H,K=0;if(w==="be")for(R=f.length-1,N=0;R>=0;R-=3)H=f[R]|f[R-1]<<8|f[R-2]<<16,this.words[N]|=H<<K&67108863,this.words[N+1]=H>>>26-K&67108863,K+=24,K>=26&&(K-=26,N++);else if(w==="le")for(R=0,N=0;R<f.length;R+=3)H=f[R]|f[R+1]<<8|f[R+2]<<16,this.words[N]|=H<<K&67108863,this.words[N+1]=H>>>26-K&67108863,K+=24,K>=26&&(K-=26,N++);return this._strip()};function a(E,f){var p=E.charCodeAt(f);if(p>=48&&p<=57)return p-48;if(p>=65&&p<=70)return p-55;if(p>=97&&p<=102)return p-87;r(!1,"Invalid character in "+E)}function c(E,f,p){var w=a(E,p);return p-1>=f&&(w|=a(E,p-1)<<4),w}s.prototype._parseHex=function(f,p,w){this.length=Math.ceil((f.length-p)/6),this.words=new Array(this.length);for(var R=0;R<this.length;R++)this.words[R]=0;var N=0,H=0,K;if(w==="be")for(R=f.length-1;R>=p;R-=2)K=c(f,p,R)<<N,this.words[H]|=K&67108863,N>=18?(N-=18,H+=1,this.words[H]|=K>>>26):N+=8;else{var C=f.length-p;for(R=C%2===0?p+1:p;R<f.length;R+=2)K=c(f,p,R)<<N,this.words[H]|=K&67108863,N>=18?(N-=18,H+=1,this.words[H]|=K>>>26):N+=8}this._strip()};function u(E,f,p,w){for(var R=0,N=0,H=Math.min(E.length,p),K=f;K<H;K++){var C=E.charCodeAt(K)-48;R*=w,C>=49?N=C-49+10:C>=17?N=C-17+10:N=C,r(C>=0&&N<w,"Invalid character"),R+=N}return R}s.prototype._parseBase=function(f,p,w){this.words=[0],this.length=1;for(var R=0,N=1;N<=67108863;N*=p)R++;R--,N=N/p|0;for(var H=f.length-w,K=H%R,C=Math.min(H,H-K)+w,m=0,D=w;D<C;D+=R)m=u(f,D,D+R,p),this.imuln(N),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(K!==0){var we=1;for(m=u(f,D,f.length,p),D=0;D<K;D++)we*=p;this.imuln(we),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}this._strip()},s.prototype.copy=function(f){f.words=new Array(this.length);for(var p=0;p<this.length;p++)f.words[p]=this.words[p];f.length=this.length,f.negative=this.negative,f.red=this.red};function l(E,f){E.words=f.words,E.length=f.length,E.negative=f.negative,E.red=f.red}if(s.prototype._move=function(f){l(f,this)},s.prototype.clone=function(){var f=new s(null);return this.copy(f),f},s.prototype._expand=function(f){for(;this.length<f;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=d}catch{s.prototype.inspect=d}else s.prototype.inspect=d;function d(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(f,p){f=f||10,p=p|0||1;var w;if(f===16||f==="hex"){w="";for(var R=0,N=0,H=0;H<this.length;H++){var K=this.words[H],C=((K<<R|N)&16777215).toString(16);N=K>>>24-R&16777215,R+=2,R>=26&&(R-=26,H--),N!==0||H!==this.length-1?w=h[6-C.length]+C+w:w=C+w}for(N!==0&&(w=N.toString(16)+w);w.length%p!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}if(f===(f|0)&&f>=2&&f<=36){var m=y[f],D=b[f];w="";var we=this.clone();for(we.negative=0;!we.isZero();){var A=we.modrn(D).toString(f);we=we.idivn(D),we.isZero()?w=A+w:w=h[m-A.length]+A+w}for(this.isZero()&&(w="0"+w);w.length%p!==0;)w="0"+w;return this.negative!==0&&(w="-"+w),w}r(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var f=this.words[0];return this.length===2?f+=this.words[1]*67108864:this.length===3&&this.words[2]===1?f+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-f:f},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(f,p){return this.toArrayLike(o,f,p)}),s.prototype.toArray=function(f,p){return this.toArrayLike(Array,f,p)};var T=function(f,p){return f.allocUnsafe?f.allocUnsafe(p):new f(p)};s.prototype.toArrayLike=function(f,p,w){this._strip();var R=this.byteLength(),N=w||Math.max(1,R);r(R<=N,"byte array longer than desired length"),r(N>0,"Requested array length <= 0");var H=T(f,N),K=p==="le"?"LE":"BE";return this["_toArrayLike"+K](H,R),H},s.prototype._toArrayLikeLE=function(f,p){for(var w=0,R=0,N=0,H=0;N<this.length;N++){var K=this.words[N]<<H|R;f[w++]=K&255,w<f.length&&(f[w++]=K>>8&255),w<f.length&&(f[w++]=K>>16&255),H===6?(w<f.length&&(f[w++]=K>>24&255),R=0,H=0):(R=K>>>24,H+=2)}if(w<f.length)for(f[w++]=R;w<f.length;)f[w++]=0},s.prototype._toArrayLikeBE=function(f,p){for(var w=f.length-1,R=0,N=0,H=0;N<this.length;N++){var K=this.words[N]<<H|R;f[w--]=K&255,w>=0&&(f[w--]=K>>8&255),w>=0&&(f[w--]=K>>16&255),H===6?(w>=0&&(f[w--]=K>>24&255),R=0,H=0):(R=K>>>24,H+=2)}if(w>=0)for(f[w--]=R;w>=0;)f[w--]=0},Math.clz32?s.prototype._countBits=function(f){return 32-Math.clz32(f)}:s.prototype._countBits=function(f){var p=f,w=0;return p>=4096&&(w+=13,p>>>=13),p>=64&&(w+=7,p>>>=7),p>=8&&(w+=4,p>>>=4),p>=2&&(w+=2,p>>>=2),w+p},s.prototype._zeroBits=function(f){if(f===0)return 26;var p=f,w=0;return p&8191||(w+=13,p>>>=13),p&127||(w+=7,p>>>=7),p&15||(w+=4,p>>>=4),p&3||(w+=2,p>>>=2),p&1||w++,w},s.prototype.bitLength=function(){var f=this.words[this.length-1],p=this._countBits(f);return(this.length-1)*26+p};function k(E){for(var f=new Array(E.bitLength()),p=0;p<f.length;p++){var w=p/26|0,R=p%26;f[p]=E.words[w]>>>R&1}return f}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var f=0,p=0;p<this.length;p++){var w=this._zeroBits(this.words[p]);if(f+=w,w!==26)break}return f},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(f){return this.negative!==0?this.abs().inotn(f).iaddn(1):this.clone()},s.prototype.fromTwos=function(f){return this.testn(f-1)?this.notn(f).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(f){for(;this.length<f.length;)this.words[this.length++]=0;for(var p=0;p<f.length;p++)this.words[p]=this.words[p]|f.words[p];return this._strip()},s.prototype.ior=function(f){return r((this.negative|f.negative)===0),this.iuor(f)},s.prototype.or=function(f){return this.length>f.length?this.clone().ior(f):f.clone().ior(this)},s.prototype.uor=function(f){return this.length>f.length?this.clone().iuor(f):f.clone().iuor(this)},s.prototype.iuand=function(f){var p;this.length>f.length?p=f:p=this;for(var w=0;w<p.length;w++)this.words[w]=this.words[w]&f.words[w];return this.length=p.length,this._strip()},s.prototype.iand=function(f){return r((this.negative|f.negative)===0),this.iuand(f)},s.prototype.and=function(f){return this.length>f.length?this.clone().iand(f):f.clone().iand(this)},s.prototype.uand=function(f){return this.length>f.length?this.clone().iuand(f):f.clone().iuand(this)},s.prototype.iuxor=function(f){var p,w;this.length>f.length?(p=this,w=f):(p=f,w=this);for(var R=0;R<w.length;R++)this.words[R]=p.words[R]^w.words[R];if(this!==p)for(;R<p.length;R++)this.words[R]=p.words[R];return this.length=p.length,this._strip()},s.prototype.ixor=function(f){return r((this.negative|f.negative)===0),this.iuxor(f)},s.prototype.xor=function(f){return this.length>f.length?this.clone().ixor(f):f.clone().ixor(this)},s.prototype.uxor=function(f){return this.length>f.length?this.clone().iuxor(f):f.clone().iuxor(this)},s.prototype.inotn=function(f){r(typeof f=="number"&&f>=0);var p=Math.ceil(f/26)|0,w=f%26;this._expand(p),w>0&&p--;for(var R=0;R<p;R++)this.words[R]=~this.words[R]&67108863;return w>0&&(this.words[R]=~this.words[R]&67108863>>26-w),this._strip()},s.prototype.notn=function(f){return this.clone().inotn(f)},s.prototype.setn=function(f,p){r(typeof f=="number"&&f>=0);var w=f/26|0,R=f%26;return this._expand(w+1),p?this.words[w]=this.words[w]|1<<R:this.words[w]=this.words[w]&~(1<<R),this._strip()},s.prototype.iadd=function(f){var p;if(this.negative!==0&&f.negative===0)return this.negative=0,p=this.isub(f),this.negative^=1,this._normSign();if(this.negative===0&&f.negative!==0)return f.negative=0,p=this.isub(f),f.negative=1,p._normSign();var w,R;this.length>f.length?(w=this,R=f):(w=f,R=this);for(var N=0,H=0;H<R.length;H++)p=(w.words[H]|0)+(R.words[H]|0)+N,this.words[H]=p&67108863,N=p>>>26;for(;N!==0&&H<w.length;H++)p=(w.words[H]|0)+N,this.words[H]=p&67108863,N=p>>>26;if(this.length=w.length,N!==0)this.words[this.length]=N,this.length++;else if(w!==this)for(;H<w.length;H++)this.words[H]=w.words[H];return this},s.prototype.add=function(f){var p;return f.negative!==0&&this.negative===0?(f.negative=0,p=this.sub(f),f.negative^=1,p):f.negative===0&&this.negative!==0?(this.negative=0,p=f.sub(this),this.negative=1,p):this.length>f.length?this.clone().iadd(f):f.clone().iadd(this)},s.prototype.isub=function(f){if(f.negative!==0){f.negative=0;var p=this.iadd(f);return f.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(f),this.negative=1,this._normSign();var w=this.cmp(f);if(w===0)return this.negative=0,this.length=1,this.words[0]=0,this;var R,N;w>0?(R=this,N=f):(R=f,N=this);for(var H=0,K=0;K<N.length;K++)p=(R.words[K]|0)-(N.words[K]|0)+H,H=p>>26,this.words[K]=p&67108863;for(;H!==0&&K<R.length;K++)p=(R.words[K]|0)+H,H=p>>26,this.words[K]=p&67108863;if(H===0&&K<R.length&&R!==this)for(;K<R.length;K++)this.words[K]=R.words[K];return this.length=Math.max(this.length,K),R!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(f){return this.clone().isub(f)};function O(E,f,p){p.negative=f.negative^E.negative;var w=E.length+f.length|0;p.length=w,w=w-1|0;var R=E.words[0]|0,N=f.words[0]|0,H=R*N,K=H&67108863,C=H/67108864|0;p.words[0]=K;for(var m=1;m<w;m++){for(var D=C>>>26,we=C&67108863,A=Math.min(m,f.length-1),ne=Math.max(0,m-E.length+1);ne<=A;ne++){var fe=m-ne|0;R=E.words[fe]|0,N=f.words[ne]|0,H=R*N+we,D+=H/67108864|0,we=H&67108863}p.words[m]=we|0,C=D|0}return C!==0?p.words[m]=C|0:p.length--,p._strip()}var B=function(f,p,w){var R=f.words,N=p.words,H=w.words,K=0,C,m,D,we=R[0]|0,A=we&8191,ne=we>>>13,fe=R[1]|0,V=fe&8191,z=fe>>>13,X=R[2]|0,Z=X&8191,Q=X>>>13,se=R[3]|0,ie=se&8191,de=se>>>13,Pe=R[4]|0,Ee=Pe&8191,Se=Pe>>>13,De=R[5]|0,ke=De&8191,Ce=De>>>13,Ke=R[6]|0,Ue=Ke&8191,Be=Ke>>>13,ct=R[7]|0,ze=ct&8191,Ve=ct>>>13,Zt=R[8]|0,rt=Zt&8191,Ot=Zt>>>13,Nn=R[9]|0,Dt=Nn&8191,zt=Nn>>>13,Kn=N[0]|0,Mt=Kn&8191,Pt=Kn>>>13,Rr=N[1]|0,Vt=Rr&8191,Kt=Rr>>>13,Gr=N[2]|0,on=Gr&8191,an=Gr>>>13,pi=N[3]|0,qt=pi&8191,Ft=pi>>>13,lr=N[4]|0,nn=lr&8191,rn=lr>>>13,ri=N[5]|0,cn=ri&8191,kt=ri>>>13,ii=N[6]|0,x=ii&8191,P=ii>>>13,U=N[7]|0,g=U&8191,$=U>>>13,te=N[8]|0,ee=te&8191,ue=te>>>13,_e=N[9]|0,Te=_e&8191,be=_e>>>13;w.negative=f.negative^p.negative,w.length=19,C=Math.imul(A,Mt),m=Math.imul(A,Pt),m=m+Math.imul(ne,Mt)|0,D=Math.imul(ne,Pt);var gt=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(gt>>>26)|0,gt&=67108863,C=Math.imul(V,Mt),m=Math.imul(V,Pt),m=m+Math.imul(z,Mt)|0,D=Math.imul(z,Pt),C=C+Math.imul(A,Vt)|0,m=m+Math.imul(A,Kt)|0,m=m+Math.imul(ne,Vt)|0,D=D+Math.imul(ne,Kt)|0;var Ie=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,C=Math.imul(Z,Mt),m=Math.imul(Z,Pt),m=m+Math.imul(Q,Mt)|0,D=Math.imul(Q,Pt),C=C+Math.imul(V,Vt)|0,m=m+Math.imul(V,Kt)|0,m=m+Math.imul(z,Vt)|0,D=D+Math.imul(z,Kt)|0,C=C+Math.imul(A,on)|0,m=m+Math.imul(A,an)|0,m=m+Math.imul(ne,on)|0,D=D+Math.imul(ne,an)|0;var Fe=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(Fe>>>26)|0,Fe&=67108863,C=Math.imul(ie,Mt),m=Math.imul(ie,Pt),m=m+Math.imul(de,Mt)|0,D=Math.imul(de,Pt),C=C+Math.imul(Z,Vt)|0,m=m+Math.imul(Z,Kt)|0,m=m+Math.imul(Q,Vt)|0,D=D+Math.imul(Q,Kt)|0,C=C+Math.imul(V,on)|0,m=m+Math.imul(V,an)|0,m=m+Math.imul(z,on)|0,D=D+Math.imul(z,an)|0,C=C+Math.imul(A,qt)|0,m=m+Math.imul(A,Ft)|0,m=m+Math.imul(ne,qt)|0,D=D+Math.imul(ne,Ft)|0;var Ge=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,C=Math.imul(Ee,Mt),m=Math.imul(Ee,Pt),m=m+Math.imul(Se,Mt)|0,D=Math.imul(Se,Pt),C=C+Math.imul(ie,Vt)|0,m=m+Math.imul(ie,Kt)|0,m=m+Math.imul(de,Vt)|0,D=D+Math.imul(de,Kt)|0,C=C+Math.imul(Z,on)|0,m=m+Math.imul(Z,an)|0,m=m+Math.imul(Q,on)|0,D=D+Math.imul(Q,an)|0,C=C+Math.imul(V,qt)|0,m=m+Math.imul(V,Ft)|0,m=m+Math.imul(z,qt)|0,D=D+Math.imul(z,Ft)|0,C=C+Math.imul(A,nn)|0,m=m+Math.imul(A,rn)|0,m=m+Math.imul(ne,nn)|0,D=D+Math.imul(ne,rn)|0;var Ye=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(Ye>>>26)|0,Ye&=67108863,C=Math.imul(ke,Mt),m=Math.imul(ke,Pt),m=m+Math.imul(Ce,Mt)|0,D=Math.imul(Ce,Pt),C=C+Math.imul(Ee,Vt)|0,m=m+Math.imul(Ee,Kt)|0,m=m+Math.imul(Se,Vt)|0,D=D+Math.imul(Se,Kt)|0,C=C+Math.imul(ie,on)|0,m=m+Math.imul(ie,an)|0,m=m+Math.imul(de,on)|0,D=D+Math.imul(de,an)|0,C=C+Math.imul(Z,qt)|0,m=m+Math.imul(Z,Ft)|0,m=m+Math.imul(Q,qt)|0,D=D+Math.imul(Q,Ft)|0,C=C+Math.imul(V,nn)|0,m=m+Math.imul(V,rn)|0,m=m+Math.imul(z,nn)|0,D=D+Math.imul(z,rn)|0,C=C+Math.imul(A,cn)|0,m=m+Math.imul(A,kt)|0,m=m+Math.imul(ne,cn)|0,D=D+Math.imul(ne,kt)|0;var st=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(st>>>26)|0,st&=67108863,C=Math.imul(Ue,Mt),m=Math.imul(Ue,Pt),m=m+Math.imul(Be,Mt)|0,D=Math.imul(Be,Pt),C=C+Math.imul(ke,Vt)|0,m=m+Math.imul(ke,Kt)|0,m=m+Math.imul(Ce,Vt)|0,D=D+Math.imul(Ce,Kt)|0,C=C+Math.imul(Ee,on)|0,m=m+Math.imul(Ee,an)|0,m=m+Math.imul(Se,on)|0,D=D+Math.imul(Se,an)|0,C=C+Math.imul(ie,qt)|0,m=m+Math.imul(ie,Ft)|0,m=m+Math.imul(de,qt)|0,D=D+Math.imul(de,Ft)|0,C=C+Math.imul(Z,nn)|0,m=m+Math.imul(Z,rn)|0,m=m+Math.imul(Q,nn)|0,D=D+Math.imul(Q,rn)|0,C=C+Math.imul(V,cn)|0,m=m+Math.imul(V,kt)|0,m=m+Math.imul(z,cn)|0,D=D+Math.imul(z,kt)|0,C=C+Math.imul(A,x)|0,m=m+Math.imul(A,P)|0,m=m+Math.imul(ne,x)|0,D=D+Math.imul(ne,P)|0;var Qe=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(Qe>>>26)|0,Qe&=67108863,C=Math.imul(ze,Mt),m=Math.imul(ze,Pt),m=m+Math.imul(Ve,Mt)|0,D=Math.imul(Ve,Pt),C=C+Math.imul(Ue,Vt)|0,m=m+Math.imul(Ue,Kt)|0,m=m+Math.imul(Be,Vt)|0,D=D+Math.imul(Be,Kt)|0,C=C+Math.imul(ke,on)|0,m=m+Math.imul(ke,an)|0,m=m+Math.imul(Ce,on)|0,D=D+Math.imul(Ce,an)|0,C=C+Math.imul(Ee,qt)|0,m=m+Math.imul(Ee,Ft)|0,m=m+Math.imul(Se,qt)|0,D=D+Math.imul(Se,Ft)|0,C=C+Math.imul(ie,nn)|0,m=m+Math.imul(ie,rn)|0,m=m+Math.imul(de,nn)|0,D=D+Math.imul(de,rn)|0,C=C+Math.imul(Z,cn)|0,m=m+Math.imul(Z,kt)|0,m=m+Math.imul(Q,cn)|0,D=D+Math.imul(Q,kt)|0,C=C+Math.imul(V,x)|0,m=m+Math.imul(V,P)|0,m=m+Math.imul(z,x)|0,D=D+Math.imul(z,P)|0,C=C+Math.imul(A,g)|0,m=m+Math.imul(A,$)|0,m=m+Math.imul(ne,g)|0,D=D+Math.imul(ne,$)|0;var tt=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(tt>>>26)|0,tt&=67108863,C=Math.imul(rt,Mt),m=Math.imul(rt,Pt),m=m+Math.imul(Ot,Mt)|0,D=Math.imul(Ot,Pt),C=C+Math.imul(ze,Vt)|0,m=m+Math.imul(ze,Kt)|0,m=m+Math.imul(Ve,Vt)|0,D=D+Math.imul(Ve,Kt)|0,C=C+Math.imul(Ue,on)|0,m=m+Math.imul(Ue,an)|0,m=m+Math.imul(Be,on)|0,D=D+Math.imul(Be,an)|0,C=C+Math.imul(ke,qt)|0,m=m+Math.imul(ke,Ft)|0,m=m+Math.imul(Ce,qt)|0,D=D+Math.imul(Ce,Ft)|0,C=C+Math.imul(Ee,nn)|0,m=m+Math.imul(Ee,rn)|0,m=m+Math.imul(Se,nn)|0,D=D+Math.imul(Se,rn)|0,C=C+Math.imul(ie,cn)|0,m=m+Math.imul(ie,kt)|0,m=m+Math.imul(de,cn)|0,D=D+Math.imul(de,kt)|0,C=C+Math.imul(Z,x)|0,m=m+Math.imul(Z,P)|0,m=m+Math.imul(Q,x)|0,D=D+Math.imul(Q,P)|0,C=C+Math.imul(V,g)|0,m=m+Math.imul(V,$)|0,m=m+Math.imul(z,g)|0,D=D+Math.imul(z,$)|0,C=C+Math.imul(A,ee)|0,m=m+Math.imul(A,ue)|0,m=m+Math.imul(ne,ee)|0,D=D+Math.imul(ne,ue)|0;var et=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(et>>>26)|0,et&=67108863,C=Math.imul(Dt,Mt),m=Math.imul(Dt,Pt),m=m+Math.imul(zt,Mt)|0,D=Math.imul(zt,Pt),C=C+Math.imul(rt,Vt)|0,m=m+Math.imul(rt,Kt)|0,m=m+Math.imul(Ot,Vt)|0,D=D+Math.imul(Ot,Kt)|0,C=C+Math.imul(ze,on)|0,m=m+Math.imul(ze,an)|0,m=m+Math.imul(Ve,on)|0,D=D+Math.imul(Ve,an)|0,C=C+Math.imul(Ue,qt)|0,m=m+Math.imul(Ue,Ft)|0,m=m+Math.imul(Be,qt)|0,D=D+Math.imul(Be,Ft)|0,C=C+Math.imul(ke,nn)|0,m=m+Math.imul(ke,rn)|0,m=m+Math.imul(Ce,nn)|0,D=D+Math.imul(Ce,rn)|0,C=C+Math.imul(Ee,cn)|0,m=m+Math.imul(Ee,kt)|0,m=m+Math.imul(Se,cn)|0,D=D+Math.imul(Se,kt)|0,C=C+Math.imul(ie,x)|0,m=m+Math.imul(ie,P)|0,m=m+Math.imul(de,x)|0,D=D+Math.imul(de,P)|0,C=C+Math.imul(Z,g)|0,m=m+Math.imul(Z,$)|0,m=m+Math.imul(Q,g)|0,D=D+Math.imul(Q,$)|0,C=C+Math.imul(V,ee)|0,m=m+Math.imul(V,ue)|0,m=m+Math.imul(z,ee)|0,D=D+Math.imul(z,ue)|0,C=C+Math.imul(A,Te)|0,m=m+Math.imul(A,be)|0,m=m+Math.imul(ne,Te)|0,D=D+Math.imul(ne,be)|0;var $e=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+($e>>>26)|0,$e&=67108863,C=Math.imul(Dt,Vt),m=Math.imul(Dt,Kt),m=m+Math.imul(zt,Vt)|0,D=Math.imul(zt,Kt),C=C+Math.imul(rt,on)|0,m=m+Math.imul(rt,an)|0,m=m+Math.imul(Ot,on)|0,D=D+Math.imul(Ot,an)|0,C=C+Math.imul(ze,qt)|0,m=m+Math.imul(ze,Ft)|0,m=m+Math.imul(Ve,qt)|0,D=D+Math.imul(Ve,Ft)|0,C=C+Math.imul(Ue,nn)|0,m=m+Math.imul(Ue,rn)|0,m=m+Math.imul(Be,nn)|0,D=D+Math.imul(Be,rn)|0,C=C+Math.imul(ke,cn)|0,m=m+Math.imul(ke,kt)|0,m=m+Math.imul(Ce,cn)|0,D=D+Math.imul(Ce,kt)|0,C=C+Math.imul(Ee,x)|0,m=m+Math.imul(Ee,P)|0,m=m+Math.imul(Se,x)|0,D=D+Math.imul(Se,P)|0,C=C+Math.imul(ie,g)|0,m=m+Math.imul(ie,$)|0,m=m+Math.imul(de,g)|0,D=D+Math.imul(de,$)|0,C=C+Math.imul(Z,ee)|0,m=m+Math.imul(Z,ue)|0,m=m+Math.imul(Q,ee)|0,D=D+Math.imul(Q,ue)|0,C=C+Math.imul(V,Te)|0,m=m+Math.imul(V,be)|0,m=m+Math.imul(z,Te)|0,D=D+Math.imul(z,be)|0;var He=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(He>>>26)|0,He&=67108863,C=Math.imul(Dt,on),m=Math.imul(Dt,an),m=m+Math.imul(zt,on)|0,D=Math.imul(zt,an),C=C+Math.imul(rt,qt)|0,m=m+Math.imul(rt,Ft)|0,m=m+Math.imul(Ot,qt)|0,D=D+Math.imul(Ot,Ft)|0,C=C+Math.imul(ze,nn)|0,m=m+Math.imul(ze,rn)|0,m=m+Math.imul(Ve,nn)|0,D=D+Math.imul(Ve,rn)|0,C=C+Math.imul(Ue,cn)|0,m=m+Math.imul(Ue,kt)|0,m=m+Math.imul(Be,cn)|0,D=D+Math.imul(Be,kt)|0,C=C+Math.imul(ke,x)|0,m=m+Math.imul(ke,P)|0,m=m+Math.imul(Ce,x)|0,D=D+Math.imul(Ce,P)|0,C=C+Math.imul(Ee,g)|0,m=m+Math.imul(Ee,$)|0,m=m+Math.imul(Se,g)|0,D=D+Math.imul(Se,$)|0,C=C+Math.imul(ie,ee)|0,m=m+Math.imul(ie,ue)|0,m=m+Math.imul(de,ee)|0,D=D+Math.imul(de,ue)|0,C=C+Math.imul(Z,Te)|0,m=m+Math.imul(Z,be)|0,m=m+Math.imul(Q,Te)|0,D=D+Math.imul(Q,be)|0;var Oe=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(Oe>>>26)|0,Oe&=67108863,C=Math.imul(Dt,qt),m=Math.imul(Dt,Ft),m=m+Math.imul(zt,qt)|0,D=Math.imul(zt,Ft),C=C+Math.imul(rt,nn)|0,m=m+Math.imul(rt,rn)|0,m=m+Math.imul(Ot,nn)|0,D=D+Math.imul(Ot,rn)|0,C=C+Math.imul(ze,cn)|0,m=m+Math.imul(ze,kt)|0,m=m+Math.imul(Ve,cn)|0,D=D+Math.imul(Ve,kt)|0,C=C+Math.imul(Ue,x)|0,m=m+Math.imul(Ue,P)|0,m=m+Math.imul(Be,x)|0,D=D+Math.imul(Be,P)|0,C=C+Math.imul(ke,g)|0,m=m+Math.imul(ke,$)|0,m=m+Math.imul(Ce,g)|0,D=D+Math.imul(Ce,$)|0,C=C+Math.imul(Ee,ee)|0,m=m+Math.imul(Ee,ue)|0,m=m+Math.imul(Se,ee)|0,D=D+Math.imul(Se,ue)|0,C=C+Math.imul(ie,Te)|0,m=m+Math.imul(ie,be)|0,m=m+Math.imul(de,Te)|0,D=D+Math.imul(de,be)|0;var Me=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(Me>>>26)|0,Me&=67108863,C=Math.imul(Dt,nn),m=Math.imul(Dt,rn),m=m+Math.imul(zt,nn)|0,D=Math.imul(zt,rn),C=C+Math.imul(rt,cn)|0,m=m+Math.imul(rt,kt)|0,m=m+Math.imul(Ot,cn)|0,D=D+Math.imul(Ot,kt)|0,C=C+Math.imul(ze,x)|0,m=m+Math.imul(ze,P)|0,m=m+Math.imul(Ve,x)|0,D=D+Math.imul(Ve,P)|0,C=C+Math.imul(Ue,g)|0,m=m+Math.imul(Ue,$)|0,m=m+Math.imul(Be,g)|0,D=D+Math.imul(Be,$)|0,C=C+Math.imul(ke,ee)|0,m=m+Math.imul(ke,ue)|0,m=m+Math.imul(Ce,ee)|0,D=D+Math.imul(Ce,ue)|0,C=C+Math.imul(Ee,Te)|0,m=m+Math.imul(Ee,be)|0,m=m+Math.imul(Se,Te)|0,D=D+Math.imul(Se,be)|0;var qe=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(qe>>>26)|0,qe&=67108863,C=Math.imul(Dt,cn),m=Math.imul(Dt,kt),m=m+Math.imul(zt,cn)|0,D=Math.imul(zt,kt),C=C+Math.imul(rt,x)|0,m=m+Math.imul(rt,P)|0,m=m+Math.imul(Ot,x)|0,D=D+Math.imul(Ot,P)|0,C=C+Math.imul(ze,g)|0,m=m+Math.imul(ze,$)|0,m=m+Math.imul(Ve,g)|0,D=D+Math.imul(Ve,$)|0,C=C+Math.imul(Ue,ee)|0,m=m+Math.imul(Ue,ue)|0,m=m+Math.imul(Be,ee)|0,D=D+Math.imul(Be,ue)|0,C=C+Math.imul(ke,Te)|0,m=m+Math.imul(ke,be)|0,m=m+Math.imul(Ce,Te)|0,D=D+Math.imul(Ce,be)|0;var Re=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(Re>>>26)|0,Re&=67108863,C=Math.imul(Dt,x),m=Math.imul(Dt,P),m=m+Math.imul(zt,x)|0,D=Math.imul(zt,P),C=C+Math.imul(rt,g)|0,m=m+Math.imul(rt,$)|0,m=m+Math.imul(Ot,g)|0,D=D+Math.imul(Ot,$)|0,C=C+Math.imul(ze,ee)|0,m=m+Math.imul(ze,ue)|0,m=m+Math.imul(Ve,ee)|0,D=D+Math.imul(Ve,ue)|0,C=C+Math.imul(Ue,Te)|0,m=m+Math.imul(Ue,be)|0,m=m+Math.imul(Be,Te)|0,D=D+Math.imul(Be,be)|0;var oe=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(oe>>>26)|0,oe&=67108863,C=Math.imul(Dt,g),m=Math.imul(Dt,$),m=m+Math.imul(zt,g)|0,D=Math.imul(zt,$),C=C+Math.imul(rt,ee)|0,m=m+Math.imul(rt,ue)|0,m=m+Math.imul(Ot,ee)|0,D=D+Math.imul(Ot,ue)|0,C=C+Math.imul(ze,Te)|0,m=m+Math.imul(ze,be)|0,m=m+Math.imul(Ve,Te)|0,D=D+Math.imul(Ve,be)|0;var ae=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(ae>>>26)|0,ae&=67108863,C=Math.imul(Dt,ee),m=Math.imul(Dt,ue),m=m+Math.imul(zt,ee)|0,D=Math.imul(zt,ue),C=C+Math.imul(rt,Te)|0,m=m+Math.imul(rt,be)|0,m=m+Math.imul(Ot,Te)|0,D=D+Math.imul(Ot,be)|0;var ye=(K+C|0)+((m&8191)<<13)|0;K=(D+(m>>>13)|0)+(ye>>>26)|0,ye&=67108863,C=Math.imul(Dt,Te),m=Math.imul(Dt,be),m=m+Math.imul(zt,Te)|0,D=Math.imul(zt,be);var pe=(K+C|0)+((m&8191)<<13)|0;return K=(D+(m>>>13)|0)+(pe>>>26)|0,pe&=67108863,H[0]=gt,H[1]=Ie,H[2]=Fe,H[3]=Ge,H[4]=Ye,H[5]=st,H[6]=Qe,H[7]=tt,H[8]=et,H[9]=$e,H[10]=He,H[11]=Oe,H[12]=Me,H[13]=qe,H[14]=Re,H[15]=oe,H[16]=ae,H[17]=ye,H[18]=pe,K!==0&&(H[19]=K,w.length++),w};Math.imul||(B=O);function v(E,f,p){p.negative=f.negative^E.negative,p.length=E.length+f.length;for(var w=0,R=0,N=0;N<p.length-1;N++){var H=R;R=0;for(var K=w&67108863,C=Math.min(N,f.length-1),m=Math.max(0,N-E.length+1);m<=C;m++){var D=N-m,we=E.words[D]|0,A=f.words[m]|0,ne=we*A,fe=ne&67108863;H=H+(ne/67108864|0)|0,fe=fe+K|0,K=fe&67108863,H=H+(fe>>>26)|0,R+=H>>>26,H&=67108863}p.words[N]=K,w=H,H=R}return w!==0?p.words[N]=w:p.length--,p._strip()}function _(E,f,p){return v(E,f,p)}s.prototype.mulTo=function(f,p){var w,R=this.length+f.length;return this.length===10&&f.length===10?w=B(this,f,p):R<63?w=O(this,f,p):R<1024?w=v(this,f,p):w=_(this,f,p),w},s.prototype.mul=function(f){var p=new s(null);return p.words=new Array(this.length+f.length),this.mulTo(f,p)},s.prototype.mulf=function(f){var p=new s(null);return p.words=new Array(this.length+f.length),_(this,f,p)},s.prototype.imul=function(f){return this.clone().mulTo(f,this)},s.prototype.imuln=function(f){var p=f<0;p&&(f=-f),r(typeof f=="number"),r(f<67108864);for(var w=0,R=0;R<this.length;R++){var N=(this.words[R]|0)*f,H=(N&67108863)+(w&67108863);w>>=26,w+=N/67108864|0,w+=H>>>26,this.words[R]=H&67108863}return w!==0&&(this.words[R]=w,this.length++),p?this.ineg():this},s.prototype.muln=function(f){return this.clone().imuln(f)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(f){var p=k(f);if(p.length===0)return new s(1);for(var w=this,R=0;R<p.length&&p[R]===0;R++,w=w.sqr());if(++R<p.length)for(var N=w.sqr();R<p.length;R++,N=N.sqr())p[R]!==0&&(w=w.mul(N));return w},s.prototype.iushln=function(f){r(typeof f=="number"&&f>=0);var p=f%26,w=(f-p)/26,R=67108863>>>26-p<<26-p,N;if(p!==0){var H=0;for(N=0;N<this.length;N++){var K=this.words[N]&R,C=(this.words[N]|0)-K<<p;this.words[N]=C|H,H=K>>>26-p}H&&(this.words[N]=H,this.length++)}if(w!==0){for(N=this.length-1;N>=0;N--)this.words[N+w]=this.words[N];for(N=0;N<w;N++)this.words[N]=0;this.length+=w}return this._strip()},s.prototype.ishln=function(f){return r(this.negative===0),this.iushln(f)},s.prototype.iushrn=function(f,p,w){r(typeof f=="number"&&f>=0);var R;p?R=(p-p%26)/26:R=0;var N=f%26,H=Math.min((f-N)/26,this.length),K=67108863^67108863>>>N<<N,C=w;if(R-=H,R=Math.max(0,R),C){for(var m=0;m<H;m++)C.words[m]=this.words[m];C.length=H}if(H!==0)if(this.length>H)for(this.length-=H,m=0;m<this.length;m++)this.words[m]=this.words[m+H];else this.words[0]=0,this.length=1;var D=0;for(m=this.length-1;m>=0&&(D!==0||m>=R);m--){var we=this.words[m]|0;this.words[m]=D<<26-N|we>>>N,D=we&K}return C&&D!==0&&(C.words[C.length++]=D),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(f,p,w){return r(this.negative===0),this.iushrn(f,p,w)},s.prototype.shln=function(f){return this.clone().ishln(f)},s.prototype.ushln=function(f){return this.clone().iushln(f)},s.prototype.shrn=function(f){return this.clone().ishrn(f)},s.prototype.ushrn=function(f){return this.clone().iushrn(f)},s.prototype.testn=function(f){r(typeof f=="number"&&f>=0);var p=f%26,w=(f-p)/26,R=1<<p;if(this.length<=w)return!1;var N=this.words[w];return!!(N&R)},s.prototype.imaskn=function(f){r(typeof f=="number"&&f>=0);var p=f%26,w=(f-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=w)return this;if(p!==0&&w++,this.length=Math.min(w,this.length),p!==0){var R=67108863^67108863>>>p<<p;this.words[this.length-1]&=R}return this._strip()},s.prototype.maskn=function(f){return this.clone().imaskn(f)},s.prototype.iaddn=function(f){return r(typeof f=="number"),r(f<67108864),f<0?this.isubn(-f):this.negative!==0?this.length===1&&(this.words[0]|0)<=f?(this.words[0]=f-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(f),this.negative=1,this):this._iaddn(f)},s.prototype._iaddn=function(f){this.words[0]+=f;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},s.prototype.isubn=function(f){if(r(typeof f=="number"),r(f<67108864),f<0)return this.iaddn(-f);if(this.negative!==0)return this.negative=0,this.iaddn(f),this.negative=1,this;if(this.words[0]-=f,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this._strip()},s.prototype.addn=function(f){return this.clone().iaddn(f)},s.prototype.subn=function(f){return this.clone().isubn(f)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(f,p,w){var R=f.length+w,N;this._expand(R);var H,K=0;for(N=0;N<f.length;N++){H=(this.words[N+w]|0)+K;var C=(f.words[N]|0)*p;H-=C&67108863,K=(H>>26)-(C/67108864|0),this.words[N+w]=H&67108863}for(;N<this.length-w;N++)H=(this.words[N+w]|0)+K,K=H>>26,this.words[N+w]=H&67108863;if(K===0)return this._strip();for(r(K===-1),K=0,N=0;N<this.length;N++)H=-(this.words[N]|0)+K,K=H>>26,this.words[N]=H&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(f,p){var w=this.length-f.length,R=this.clone(),N=f,H=N.words[N.length-1]|0,K=this._countBits(H);w=26-K,w!==0&&(N=N.ushln(w),R.iushln(w),H=N.words[N.length-1]|0);var C=R.length-N.length,m;if(p!=="mod"){m=new s(null),m.length=C+1,m.words=new Array(m.length);for(var D=0;D<m.length;D++)m.words[D]=0}var we=R.clone()._ishlnsubmul(N,1,C);we.negative===0&&(R=we,m&&(m.words[C]=1));for(var A=C-1;A>=0;A--){var ne=(R.words[N.length+A]|0)*67108864+(R.words[N.length+A-1]|0);for(ne=Math.min(ne/H|0,67108863),R._ishlnsubmul(N,ne,A);R.negative!==0;)ne--,R.negative=0,R._ishlnsubmul(N,1,A),R.isZero()||(R.negative^=1);m&&(m.words[A]=ne)}return m&&m._strip(),R._strip(),p!=="div"&&w!==0&&R.iushrn(w),{div:m||null,mod:R}},s.prototype.divmod=function(f,p,w){if(r(!f.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var R,N,H;return this.negative!==0&&f.negative===0?(H=this.neg().divmod(f,p),p!=="mod"&&(R=H.div.neg()),p!=="div"&&(N=H.mod.neg(),w&&N.negative!==0&&N.iadd(f)),{div:R,mod:N}):this.negative===0&&f.negative!==0?(H=this.divmod(f.neg(),p),p!=="mod"&&(R=H.div.neg()),{div:R,mod:H.mod}):this.negative&f.negative?(H=this.neg().divmod(f.neg(),p),p!=="div"&&(N=H.mod.neg(),w&&N.negative!==0&&N.isub(f)),{div:H.div,mod:N}):f.length>this.length||this.cmp(f)<0?{div:new s(0),mod:this}:f.length===1?p==="div"?{div:this.divn(f.words[0]),mod:null}:p==="mod"?{div:null,mod:new s(this.modrn(f.words[0]))}:{div:this.divn(f.words[0]),mod:new s(this.modrn(f.words[0]))}:this._wordDiv(f,p)},s.prototype.div=function(f){return this.divmod(f,"div",!1).div},s.prototype.mod=function(f){return this.divmod(f,"mod",!1).mod},s.prototype.umod=function(f){return this.divmod(f,"mod",!0).mod},s.prototype.divRound=function(f){var p=this.divmod(f);if(p.mod.isZero())return p.div;var w=p.div.negative!==0?p.mod.isub(f):p.mod,R=f.ushrn(1),N=f.andln(1),H=w.cmp(R);return H<0||N===1&&H===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},s.prototype.modrn=function(f){var p=f<0;p&&(f=-f),r(f<=67108863);for(var w=(1<<26)%f,R=0,N=this.length-1;N>=0;N--)R=(w*R+(this.words[N]|0))%f;return p?-R:R},s.prototype.modn=function(f){return this.modrn(f)},s.prototype.idivn=function(f){var p=f<0;p&&(f=-f),r(f<=67108863);for(var w=0,R=this.length-1;R>=0;R--){var N=(this.words[R]|0)+w*67108864;this.words[R]=N/f|0,w=N%f}return this._strip(),p?this.ineg():this},s.prototype.divn=function(f){return this.clone().idivn(f)},s.prototype.egcd=function(f){r(f.negative===0),r(!f.isZero());var p=this,w=f.clone();p.negative!==0?p=p.umod(f):p=p.clone();for(var R=new s(1),N=new s(0),H=new s(0),K=new s(1),C=0;p.isEven()&&w.isEven();)p.iushrn(1),w.iushrn(1),++C;for(var m=w.clone(),D=p.clone();!p.isZero();){for(var we=0,A=1;!(p.words[0]&A)&&we<26;++we,A<<=1);if(we>0)for(p.iushrn(we);we-- >0;)(R.isOdd()||N.isOdd())&&(R.iadd(m),N.isub(D)),R.iushrn(1),N.iushrn(1);for(var ne=0,fe=1;!(w.words[0]&fe)&&ne<26;++ne,fe<<=1);if(ne>0)for(w.iushrn(ne);ne-- >0;)(H.isOdd()||K.isOdd())&&(H.iadd(m),K.isub(D)),H.iushrn(1),K.iushrn(1);p.cmp(w)>=0?(p.isub(w),R.isub(H),N.isub(K)):(w.isub(p),H.isub(R),K.isub(N))}return{a:H,b:K,gcd:w.iushln(C)}},s.prototype._invmp=function(f){r(f.negative===0),r(!f.isZero());var p=this,w=f.clone();p.negative!==0?p=p.umod(f):p=p.clone();for(var R=new s(1),N=new s(0),H=w.clone();p.cmpn(1)>0&&w.cmpn(1)>0;){for(var K=0,C=1;!(p.words[0]&C)&&K<26;++K,C<<=1);if(K>0)for(p.iushrn(K);K-- >0;)R.isOdd()&&R.iadd(H),R.iushrn(1);for(var m=0,D=1;!(w.words[0]&D)&&m<26;++m,D<<=1);if(m>0)for(w.iushrn(m);m-- >0;)N.isOdd()&&N.iadd(H),N.iushrn(1);p.cmp(w)>=0?(p.isub(w),R.isub(N)):(w.isub(p),N.isub(R))}var we;return p.cmpn(1)===0?we=R:we=N,we.cmpn(0)<0&&we.iadd(f),we},s.prototype.gcd=function(f){if(this.isZero())return f.abs();if(f.isZero())return this.abs();var p=this.clone(),w=f.clone();p.negative=0,w.negative=0;for(var R=0;p.isEven()&&w.isEven();R++)p.iushrn(1),w.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;w.isEven();)w.iushrn(1);var N=p.cmp(w);if(N<0){var H=p;p=w,w=H}else if(N===0||w.cmpn(1)===0)break;p.isub(w)}while(!0);return w.iushln(R)},s.prototype.invm=function(f){return this.egcd(f).a.umod(f)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(f){return this.words[0]&f},s.prototype.bincn=function(f){r(typeof f=="number");var p=f%26,w=(f-p)/26,R=1<<p;if(this.length<=w)return this._expand(w+1),this.words[w]|=R,this;for(var N=R,H=w;N!==0&&H<this.length;H++){var K=this.words[H]|0;K+=N,N=K>>>26,K&=67108863,this.words[H]=K}return N!==0&&(this.words[H]=N,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(f){var p=f<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this._strip();var w;if(this.length>1)w=1;else{p&&(f=-f),r(f<=67108863,"Number is too big");var R=this.words[0]|0;w=R===f?0:R<f?-1:1}return this.negative!==0?-w|0:w},s.prototype.cmp=function(f){if(this.negative!==0&&f.negative===0)return-1;if(this.negative===0&&f.negative!==0)return 1;var p=this.ucmp(f);return this.negative!==0?-p|0:p},s.prototype.ucmp=function(f){if(this.length>f.length)return 1;if(this.length<f.length)return-1;for(var p=0,w=this.length-1;w>=0;w--){var R=this.words[w]|0,N=f.words[w]|0;if(R!==N){R<N?p=-1:R>N&&(p=1);break}}return p},s.prototype.gtn=function(f){return this.cmpn(f)===1},s.prototype.gt=function(f){return this.cmp(f)===1},s.prototype.gten=function(f){return this.cmpn(f)>=0},s.prototype.gte=function(f){return this.cmp(f)>=0},s.prototype.ltn=function(f){return this.cmpn(f)===-1},s.prototype.lt=function(f){return this.cmp(f)===-1},s.prototype.lten=function(f){return this.cmpn(f)<=0},s.prototype.lte=function(f){return this.cmp(f)<=0},s.prototype.eqn=function(f){return this.cmpn(f)===0},s.prototype.eq=function(f){return this.cmp(f)===0},s.red=function(f){return new q(f)},s.prototype.toRed=function(f){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),f.convertTo(this)._forceRed(f)},s.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(f){return this.red=f,this},s.prototype.forceRed=function(f){return r(!this.red,"Already a number in reduction context"),this._forceRed(f)},s.prototype.redAdd=function(f){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,f)},s.prototype.redIAdd=function(f){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,f)},s.prototype.redSub=function(f){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,f)},s.prototype.redISub=function(f){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,f)},s.prototype.redShl=function(f){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,f)},s.prototype.redMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.mul(this,f)},s.prototype.redIMul=function(f){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,f),this.red.imul(this,f)},s.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(f){return r(this.red&&!f.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,f)};var S={k256:null,p224:null,p192:null,p25519:null};function M(E,f){this.name=E,this.p=new s(f,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}M.prototype._tmp=function(){var f=new s(null);return f.words=new Array(Math.ceil(this.n/13)),f},M.prototype.ireduce=function(f){var p=f,w;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),w=p.bitLength();while(w>this.n);var R=w<this.n?-1:p.ucmp(this.p);return R===0?(p.words[0]=0,p.length=1):R>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},M.prototype.split=function(f,p){f.iushrn(this.n,0,p)},M.prototype.imulK=function(f){return f.imul(this.k)};function F(){M.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,M),F.prototype.split=function(f,p){for(var w=4194303,R=Math.min(f.length,9),N=0;N<R;N++)p.words[N]=f.words[N];if(p.length=R,f.length<=9){f.words[0]=0,f.length=1;return}var H=f.words[9];for(p.words[p.length++]=H&w,N=10;N<f.length;N++){var K=f.words[N]|0;f.words[N-10]=(K&w)<<4|H>>>22,H=K}H>>>=22,f.words[N-10]=H,H===0&&f.length>10?f.length-=10:f.length-=9},F.prototype.imulK=function(f){f.words[f.length]=0,f.words[f.length+1]=0,f.length+=2;for(var p=0,w=0;w<f.length;w++){var R=f.words[w]|0;p+=R*977,f.words[w]=p&67108863,p=R*64+(p/67108864|0)}return f.words[f.length-1]===0&&(f.length--,f.words[f.length-1]===0&&f.length--),f};function W(){M.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(W,M);function Y(){M.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(Y,M);function J(){M.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(J,M),J.prototype.imulK=function(f){for(var p=0,w=0;w<f.length;w++){var R=(f.words[w]|0)*19+p,N=R&67108863;R>>>=26,f.words[w]=N,p=R}return p!==0&&(f.words[f.length++]=p),f},s._prime=function(f){if(S[f])return S[f];var p;if(f==="k256")p=new F;else if(f==="p224")p=new W;else if(f==="p192")p=new Y;else if(f==="p25519")p=new J;else throw new Error("Unknown prime "+f);return S[f]=p,p};function q(E){if(typeof E=="string"){var f=s._prime(E);this.m=f.p,this.prime=f}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}q.prototype._verify1=function(f){r(f.negative===0,"red works only with positives"),r(f.red,"red works only with red numbers")},q.prototype._verify2=function(f,p){r((f.negative|p.negative)===0,"red works only with positives"),r(f.red&&f.red===p.red,"red works only with red numbers")},q.prototype.imod=function(f){return this.prime?this.prime.ireduce(f)._forceRed(this):(l(f,f.umod(this.m)._forceRed(this)),f)},q.prototype.neg=function(f){return f.isZero()?f.clone():this.m.sub(f)._forceRed(this)},q.prototype.add=function(f,p){this._verify2(f,p);var w=f.add(p);return w.cmp(this.m)>=0&&w.isub(this.m),w._forceRed(this)},q.prototype.iadd=function(f,p){this._verify2(f,p);var w=f.iadd(p);return w.cmp(this.m)>=0&&w.isub(this.m),w},q.prototype.sub=function(f,p){this._verify2(f,p);var w=f.sub(p);return w.cmpn(0)<0&&w.iadd(this.m),w._forceRed(this)},q.prototype.isub=function(f,p){this._verify2(f,p);var w=f.isub(p);return w.cmpn(0)<0&&w.iadd(this.m),w},q.prototype.shl=function(f,p){return this._verify1(f),this.imod(f.ushln(p))},q.prototype.imul=function(f,p){return this._verify2(f,p),this.imod(f.imul(p))},q.prototype.mul=function(f,p){return this._verify2(f,p),this.imod(f.mul(p))},q.prototype.isqr=function(f){return this.imul(f,f.clone())},q.prototype.sqr=function(f){return this.mul(f,f)},q.prototype.sqrt=function(f){if(f.isZero())return f.clone();var p=this.m.andln(3);if(r(p%2===1),p===3){var w=this.m.add(new s(1)).iushrn(2);return this.pow(f,w)}for(var R=this.m.subn(1),N=0;!R.isZero()&&R.andln(1)===0;)N++,R.iushrn(1);r(!R.isZero());var H=new s(1).toRed(this),K=H.redNeg(),C=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new s(2*m*m).toRed(this);this.pow(m,C).cmp(K)!==0;)m.redIAdd(K);for(var D=this.pow(m,R),we=this.pow(f,R.addn(1).iushrn(1)),A=this.pow(f,R),ne=N;A.cmp(H)!==0;){for(var fe=A,V=0;fe.cmp(H)!==0;V++)fe=fe.redSqr();r(V<ne);var z=this.pow(D,new s(1).iushln(ne-V-1));we=we.redMul(z),D=z.redSqr(),A=A.redMul(D),ne=V}return we},q.prototype.invm=function(f){var p=f._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},q.prototype.pow=function(f,p){if(p.isZero())return new s(1).toRed(this);if(p.cmpn(1)===0)return f.clone();var w=4,R=new Array(1<<w);R[0]=new s(1).toRed(this),R[1]=f;for(var N=2;N<R.length;N++)R[N]=this.mul(R[N-1],f);var H=R[0],K=0,C=0,m=p.bitLength()%26;for(m===0&&(m=26),N=p.length-1;N>=0;N--){for(var D=p.words[N],we=m-1;we>=0;we--){var A=D>>we&1;if(H!==R[0]&&(H=this.sqr(H)),A===0&&K===0){C=0;continue}K<<=1,K|=A,C++,!(C!==w&&(N!==0||we!==0))&&(H=this.mul(H,R[K]),C=0,K=0)}m=26}return H},q.prototype.convertTo=function(f){var p=f.umod(this.m);return p===f?p.clone():p},q.prototype.convertFrom=function(f){var p=f.clone();return p.red=null,p},s.mont=function(f){return new L(f)};function L(E){q.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(L,q),L.prototype.convertTo=function(f){return this.imod(f.ushln(this.shift))},L.prototype.convertFrom=function(f){var p=this.imod(f.mul(this.rinv));return p.red=null,p},L.prototype.imul=function(f,p){if(f.isZero()||p.isZero())return f.words[0]=0,f.length=1,f;var w=f.imul(p),R=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=w.isub(R).iushrn(this.shift),H=N;return N.cmp(this.m)>=0?H=N.isub(this.m):N.cmpn(0)<0&&(H=N.iadd(this.m)),H._forceRed(this)},L.prototype.mul=function(f,p){if(f.isZero()||p.isZero())return new s(0)._forceRed(this);var w=f.mul(p),R=w.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),N=w.isub(R).iushrn(this.shift),H=N;return N.cmp(this.m)>=0?H=N.isub(this.m):N.cmpn(0)<0&&(H=N.iadd(this.m)),H._forceRed(this)},L.prototype.invm=function(f){var p=this.imod(f._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(t,Zi)})(z8);/*!
 *  decimal.js v10.4.3
 *  An arbitrary-precision Decimal type for JavaScript.
 *  https://github.com/MikeMcl/decimal.js
 *  Copyright (c) 2022 Michael Mclaughlin <M8ch88l@gmail.com>
 *  MIT Licence
 */var ao=9e15,fs=1e9,xf="0123456789abcdef",Eu="2.3025850929940456840179914546843642076011014886287729760333279009675726096773524802359972050895982983419677840422862486334095254650828067566662873690987816894829072083255546808437998948262331985283935053089653777326288461633662222876982198867465436674744042432743651550489343149393914796194044002221051017141748003688084012647080685567743216228355220114804663715659121373450747856947683463616792101806445070648000277502684916746550586856935673420670581136429224554405758925724208241314695689016758940256776311356919292033376587141660230105703089634572075440370847469940168269282808481184289314848524948644871927809676271275775397027668605952496716674183485704422507197965004714951050492214776567636938662976979522110718264549734772662425709429322582798502585509785265383207606726317164309505995087807523710333101197857547331541421808427543863591778117054309827482385045648019095610299291824318237525357709750539565187697510374970888692180205189339507238539205144634197265287286965110862571492198849978748873771345686209167058",ku="3.1415926535897932384626433832795028841971693993751058209749445923078164062862089986280348253421170679821480865132823066470938446095505822317253594081284811174502841027019385211055596446229489549303819644288109756659334461284756482337867831652712019091456485669234603486104543266482133936072602491412737245870066063155881748815209209628292540917153643678925903600113305305488204665213841469519415116094330572703657595919530921861173819326117931051185480744623799627495673518857527248912279381830119491298336733624406566430860213949463952247371907021798609437027705392171762931767523846748184676694051320005681271452635608277857713427577896091736371787214684409012249534301465495853710507922796892589235420199561121290219608640344181598136297747713099605187072113499999983729780499510597317328160963185950244594553469083026425223082533446850352619311881710100031378387528865875332083814206171776691473035982534904287554687311595628638823537875937519577818577805321712268066130019278766111959092164201989380952572010654858632789",Sf={precision:20,rounding:4,modulo:1,toExpNeg:-7,toExpPos:21,minE:-ao,maxE:ao,crypto:!1},Gm,wi,at=!0,Jl="[DecimalError] ",ss=Jl+"Invalid argument: ",Vm=Jl+"Precision limit exceeded",Km=Jl+"crypto unavailable",Xm="[object Decimal]",ir=Math.floor,Bn=Math.pow,F8=/^0b([01]+(\.[01]*)?|\.[01]+)(p[+-]?\d+)?$/i,j8=/^0x([0-9a-f]+(\.[0-9a-f]*)?|\.[0-9a-f]+)(p[+-]?\d+)?$/i,W8=/^0o([0-7]+(\.[0-7]*)?|\.[0-7]+)(p[+-]?\d+)?$/i,Zm=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Zr=1e7,Je=7,G8=9007199254740991,V8=Eu.length-1,Tf=ku.length-1,me={toStringTag:Xm};me.absoluteValue=me.abs=function(){var t=new this.constructor(this);return t.s<0&&(t.s=1),We(t)};me.ceil=function(){return We(new this.constructor(this),this.e+1,2)};me.clampedTo=me.clamp=function(t,e){var n,r=this,i=r.constructor;if(t=new i(t),e=new i(e),!t.s||!e.s)return new i(NaN);if(t.gt(e))throw Error(ss+e);return n=r.cmp(t),n<0?t:r.cmp(e)>0?e:new i(r)};me.comparedTo=me.cmp=function(t){var e,n,r,i,s=this,o=s.d,a=(t=new s.constructor(t)).d,c=s.s,u=t.s;if(!o||!a)return!c||!u?NaN:c!==u?c:o===a?0:!o^c<0?1:-1;if(!o[0]||!a[0])return o[0]?c:a[0]?-u:0;if(c!==u)return c;if(s.e!==t.e)return s.e>t.e^c<0?1:-1;for(r=o.length,i=a.length,e=0,n=r<i?r:i;e<n;++e)if(o[e]!==a[e])return o[e]>a[e]^c<0?1:-1;return r===i?0:r>i^c<0?1:-1};me.cosine=me.cos=function(){var t,e,n=this,r=n.constructor;return n.d?n.d[0]?(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Je,r.rounding=1,n=K8(r,tw(r,n)),r.precision=t,r.rounding=e,We(wi==2||wi==3?n.neg():n,t,e,!0)):new r(1):new r(NaN)};me.cubeRoot=me.cbrt=function(){var t,e,n,r,i,s,o,a,c,u,l=this,d=l.constructor;if(!l.isFinite()||l.isZero())return new d(l);for(at=!1,s=l.s*Bn(l.s*l,1/3),!s||Math.abs(s)==1/0?(n=jn(l.d),t=l.e,(s=(t-n.length+1)%3)&&(n+=s==1||s==-2?"0":"00"),s=Bn(n,1/3),t=ir((t+1)/3)-(t%3==(t<0?-1:2)),s==1/0?n="5e"+t:(n=s.toExponential(),n=n.slice(0,n.indexOf("e")+1)+t),r=new d(n),r.s=l.s):r=new d(s.toString()),o=(t=d.precision)+3;;)if(a=r,c=a.times(a).times(a),u=c.plus(l),r=un(u.plus(l).times(a),u.plus(c),o+2,1),jn(a.d).slice(0,o)===(n=jn(r.d)).slice(0,o))if(n=n.slice(o-3,o+1),n=="9999"||!i&&n=="4999"){if(!i&&(We(a,t+1,0),a.times(a).times(a).eq(l))){r=a;break}o+=4,i=1}else{(!+n||!+n.slice(1)&&n.charAt(0)=="5")&&(We(r,t+1,1),e=!r.times(r).times(r).eq(l));break}return at=!0,We(r,t,d.rounding,e)};me.decimalPlaces=me.dp=function(){var t,e=this.d,n=NaN;if(e){if(t=e.length-1,n=(t-ir(this.e/Je))*Je,t=e[t],t)for(;t%10==0;t/=10)n--;n<0&&(n=0)}return n};me.dividedBy=me.div=function(t){return un(this,new this.constructor(t))};me.dividedToIntegerBy=me.divToInt=function(t){var e=this,n=e.constructor;return We(un(e,new n(t),0,1,1),n.precision,n.rounding)};me.equals=me.eq=function(t){return this.cmp(t)===0};me.floor=function(){return We(new this.constructor(this),this.e+1,3)};me.greaterThan=me.gt=function(t){return this.cmp(t)>0};me.greaterThanOrEqualTo=me.gte=function(t){var e=this.cmp(t);return e==1||e===0};me.hyperbolicCosine=me.cosh=function(){var t,e,n,r,i,s=this,o=s.constructor,a=new o(1);if(!s.isFinite())return new o(s.s?1/0:NaN);if(s.isZero())return a;n=o.precision,r=o.rounding,o.precision=n+Math.max(s.e,s.sd())+4,o.rounding=1,i=s.d.length,i<32?(t=Math.ceil(i/3),e=(1/ed(4,t)).toString()):(t=16,e="2.3283064365386962890625e-10"),s=Yo(o,1,s.times(e),new o(1),!0);for(var c,u=t,l=new o(8);u--;)c=s.times(s),s=a.minus(c.times(l.minus(c.times(l))));return We(s,o.precision=n,o.rounding=r,!0)};me.hyperbolicSine=me.sinh=function(){var t,e,n,r,i=this,s=i.constructor;if(!i.isFinite()||i.isZero())return new s(i);if(e=s.precision,n=s.rounding,s.precision=e+Math.max(i.e,i.sd())+4,s.rounding=1,r=i.d.length,r<3)i=Yo(s,2,i,i,!0);else{t=1.4*Math.sqrt(r),t=t>16?16:t|0,i=i.times(1/ed(5,t)),i=Yo(s,2,i,i,!0);for(var o,a=new s(5),c=new s(16),u=new s(20);t--;)o=i.times(i),i=i.times(a.plus(o.times(c.times(o).plus(u))))}return s.precision=e,s.rounding=n,We(i,e,n,!0)};me.hyperbolicTangent=me.tanh=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+7,r.rounding=1,un(n.sinh(),n.cosh(),r.precision=t,r.rounding=e)):new r(n.s)};me.inverseCosine=me.acos=function(){var t,e=this,n=e.constructor,r=e.abs().cmp(1),i=n.precision,s=n.rounding;return r!==-1?r===0?e.isNeg()?Xr(n,i,s):new n(0):new n(NaN):e.isZero()?Xr(n,i+4,s).times(.5):(n.precision=i+6,n.rounding=1,e=e.asin(),t=Xr(n,i+4,s).times(.5),n.precision=i,n.rounding=s,t.minus(e))};me.inverseHyperbolicCosine=me.acosh=function(){var t,e,n=this,r=n.constructor;return n.lte(1)?new r(n.eq(1)?0:NaN):n.isFinite()?(t=r.precision,e=r.rounding,r.precision=t+Math.max(Math.abs(n.e),n.sd())+4,r.rounding=1,at=!1,n=n.times(n).minus(1).sqrt().plus(n),at=!0,r.precision=t,r.rounding=e,n.ln()):new r(n)};me.inverseHyperbolicSine=me.asinh=function(){var t,e,n=this,r=n.constructor;return!n.isFinite()||n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+2*Math.max(Math.abs(n.e),n.sd())+6,r.rounding=1,at=!1,n=n.times(n).plus(1).sqrt().plus(n),at=!0,r.precision=t,r.rounding=e,n.ln())};me.inverseHyperbolicTangent=me.atanh=function(){var t,e,n,r,i=this,s=i.constructor;return i.isFinite()?i.e>=0?new s(i.abs().eq(1)?i.s/0:i.isZero()?i:NaN):(t=s.precision,e=s.rounding,r=i.sd(),Math.max(r,t)<2*-i.e-1?We(new s(i),t,e,!0):(s.precision=n=r-i.e,i=un(i.plus(1),new s(1).minus(i),n+t,1),s.precision=t+4,s.rounding=1,i=i.ln(),s.precision=t,s.rounding=e,i.times(.5))):new s(NaN)};me.inverseSine=me.asin=function(){var t,e,n,r,i=this,s=i.constructor;return i.isZero()?new s(i):(e=i.abs().cmp(1),n=s.precision,r=s.rounding,e!==-1?e===0?(t=Xr(s,n+4,r).times(.5),t.s=i.s,t):new s(NaN):(s.precision=n+6,s.rounding=1,i=i.div(new s(1).minus(i.times(i)).sqrt().plus(1)).atan(),s.precision=n,s.rounding=r,i.times(2)))};me.inverseTangent=me.atan=function(){var t,e,n,r,i,s,o,a,c,u=this,l=u.constructor,d=l.precision,h=l.rounding;if(u.isFinite()){if(u.isZero())return new l(u);if(u.abs().eq(1)&&d+4<=Tf)return o=Xr(l,d+4,h).times(.25),o.s=u.s,o}else{if(!u.s)return new l(NaN);if(d+4<=Tf)return o=Xr(l,d+4,h).times(.5),o.s=u.s,o}for(l.precision=a=d+10,l.rounding=1,n=Math.min(28,a/Je+2|0),t=n;t;--t)u=u.div(u.times(u).plus(1).sqrt().plus(1));for(at=!1,e=Math.ceil(a/Je),r=1,c=u.times(u),o=new l(u),i=u;t!==-1;)if(i=i.times(c),s=o.minus(i.div(r+=2)),i=i.times(c),o=s.plus(i.div(r+=2)),o.d[e]!==void 0)for(t=e;o.d[t]===s.d[t]&&t--;);return n&&(o=o.times(2<<n-1)),at=!0,We(o,l.precision=d,l.rounding=h,!0)};me.isFinite=function(){return!!this.d};me.isInteger=me.isInt=function(){return!!this.d&&ir(this.e/Je)>this.d.length-2};me.isNaN=function(){return!this.s};me.isNegative=me.isNeg=function(){return this.s<0};me.isPositive=me.isPos=function(){return this.s>0};me.isZero=function(){return!!this.d&&this.d[0]===0};me.lessThan=me.lt=function(t){return this.cmp(t)<0};me.lessThanOrEqualTo=me.lte=function(t){return this.cmp(t)<1};me.logarithm=me.log=function(t){var e,n,r,i,s,o,a,c,u=this,l=u.constructor,d=l.precision,h=l.rounding,y=5;if(t==null)t=new l(10),e=!0;else{if(t=new l(t),n=t.d,t.s<0||!n||!n[0]||t.eq(1))return new l(NaN);e=t.eq(10)}if(n=u.d,u.s<0||!n||!n[0]||u.eq(1))return new l(n&&!n[0]?-1/0:u.s!=1?NaN:n?0:1/0);if(e)if(n.length>1)s=!0;else{for(i=n[0];i%10===0;)i/=10;s=i!==1}if(at=!1,a=d+y,o=Yi(u,a),r=e?Bu(l,a+10):Yi(t,a),c=un(o,r,a,1),ja(c.d,i=d,h))do if(a+=10,o=Yi(u,a),r=e?Bu(l,a+10):Yi(t,a),c=un(o,r,a,1),!s){+jn(c.d).slice(i+1,i+15)+1==1e14&&(c=We(c,d+1,0));break}while(ja(c.d,i+=10,h));return at=!0,We(c,d,h)};me.minus=me.sub=function(t){var e,n,r,i,s,o,a,c,u,l,d,h,y=this,b=y.constructor;if(t=new b(t),!y.d||!t.d)return!y.s||!t.s?t=new b(NaN):y.d?t.s=-t.s:t=new b(t.d||y.s!==t.s?y:NaN),t;if(y.s!=t.s)return t.s=-t.s,y.plus(t);if(u=y.d,h=t.d,a=b.precision,c=b.rounding,!u[0]||!h[0]){if(h[0])t.s=-t.s;else if(u[0])t=new b(y);else return new b(c===3?-0:0);return at?We(t,a,c):t}if(n=ir(t.e/Je),l=ir(y.e/Je),u=u.slice(),s=l-n,s){for(d=s<0,d?(e=u,s=-s,o=h.length):(e=h,n=l,o=u.length),r=Math.max(Math.ceil(a/Je),o)+2,s>r&&(s=r,e.length=1),e.reverse(),r=s;r--;)e.push(0);e.reverse()}else{for(r=u.length,o=h.length,d=r<o,d&&(o=r),r=0;r<o;r++)if(u[r]!=h[r]){d=u[r]<h[r];break}s=0}for(d&&(e=u,u=h,h=e,t.s=-t.s),o=u.length,r=h.length-o;r>0;--r)u[o++]=0;for(r=h.length;r>s;){if(u[--r]<h[r]){for(i=r;i&&u[--i]===0;)u[i]=Zr-1;--u[i],u[r]+=Zr}u[r]-=h[r]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--n;return u[0]?(t.d=u,t.e=Ql(u,n),at?We(t,a,c):t):new b(c===3?-0:0)};me.modulo=me.mod=function(t){var e,n=this,r=n.constructor;return t=new r(t),!n.d||!t.s||t.d&&!t.d[0]?new r(NaN):!t.d||n.d&&!n.d[0]?We(new r(n),r.precision,r.rounding):(at=!1,r.modulo==9?(e=un(n,t.abs(),0,3,1),e.s*=t.s):e=un(n,t,0,r.modulo,1),e=e.times(t),at=!0,n.minus(e))};me.naturalExponential=me.exp=function(){return Af(this)};me.naturalLogarithm=me.ln=function(){return Yi(this)};me.negated=me.neg=function(){var t=new this.constructor(this);return t.s=-t.s,We(t)};me.plus=me.add=function(t){var e,n,r,i,s,o,a,c,u,l,d=this,h=d.constructor;if(t=new h(t),!d.d||!t.d)return!d.s||!t.s?t=new h(NaN):d.d||(t=new h(t.d||d.s===t.s?d:NaN)),t;if(d.s!=t.s)return t.s=-t.s,d.minus(t);if(u=d.d,l=t.d,a=h.precision,c=h.rounding,!u[0]||!l[0])return l[0]||(t=new h(d)),at?We(t,a,c):t;if(s=ir(d.e/Je),r=ir(t.e/Je),u=u.slice(),i=s-r,i){for(i<0?(n=u,i=-i,o=l.length):(n=l,r=s,o=u.length),s=Math.ceil(a/Je),o=s>o?s+1:o+1,i>o&&(i=o,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(o=u.length,i=l.length,o-i<0&&(i=o,n=l,l=u,u=n),e=0;i;)e=(u[--i]=u[i]+l[i]+e)/Zr|0,u[i]%=Zr;for(e&&(u.unshift(e),++r),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=Ql(u,r),at?We(t,a,c):t};me.precision=me.sd=function(t){var e,n=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(ss+t);return n.d?(e=Ym(n.d),t&&n.e+1>e&&(e=n.e+1)):e=NaN,e};me.round=function(){var t=this,e=t.constructor;return We(new e(t),t.e+1,e.rounding)};me.sine=me.sin=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+Math.max(n.e,n.sd())+Je,r.rounding=1,n=Z8(r,tw(r,n)),r.precision=t,r.rounding=e,We(wi>2?n.neg():n,t,e,!0)):new r(NaN)};me.squareRoot=me.sqrt=function(){var t,e,n,r,i,s,o=this,a=o.d,c=o.e,u=o.s,l=o.constructor;if(u!==1||!a||!a[0])return new l(!u||u<0&&(!a||a[0])?NaN:a?o:1/0);for(at=!1,u=Math.sqrt(+o),u==0||u==1/0?(e=jn(a),(e.length+c)%2==0&&(e+="0"),u=Math.sqrt(e),c=ir((c+1)/2)-(c<0||c%2),u==1/0?e="5e"+c:(e=u.toExponential(),e=e.slice(0,e.indexOf("e")+1)+c),r=new l(e)):r=new l(u.toString()),n=(c=l.precision)+3;;)if(s=r,r=s.plus(un(o,s,n+2,1)).times(.5),jn(s.d).slice(0,n)===(e=jn(r.d)).slice(0,n))if(e=e.slice(n-3,n+1),e=="9999"||!i&&e=="4999"){if(!i&&(We(s,c+1,0),s.times(s).eq(o))){r=s;break}n+=4,i=1}else{(!+e||!+e.slice(1)&&e.charAt(0)=="5")&&(We(r,c+1,1),t=!r.times(r).eq(o));break}return at=!0,We(r,c,l.rounding,t)};me.tangent=me.tan=function(){var t,e,n=this,r=n.constructor;return n.isFinite()?n.isZero()?new r(n):(t=r.precision,e=r.rounding,r.precision=t+10,r.rounding=1,n=n.sin(),n.s=1,n=un(n,new r(1).minus(n.times(n)).sqrt(),t+10,0),r.precision=t,r.rounding=e,We(wi==2||wi==4?n.neg():n,t,e,!0)):new r(NaN)};me.times=me.mul=function(t){var e,n,r,i,s,o,a,c,u,l=this,d=l.constructor,h=l.d,y=(t=new d(t)).d;if(t.s*=l.s,!h||!h[0]||!y||!y[0])return new d(!t.s||h&&!h[0]&&!y||y&&!y[0]&&!h?NaN:!h||!y?t.s/0:t.s*0);for(n=ir(l.e/Je)+ir(t.e/Je),c=h.length,u=y.length,c<u&&(s=h,h=y,y=s,o=c,c=u,u=o),s=[],o=c+u,r=o;r--;)s.push(0);for(r=u;--r>=0;){for(e=0,i=c+r;i>r;)a=s[i]+y[r]*h[i-r-1]+e,s[i--]=a%Zr|0,e=a/Zr|0;s[i]=(s[i]+e)%Zr|0}for(;!s[--o];)s.pop();return e?++n:s.shift(),t.d=s,t.e=Ql(s,n),at?We(t,d.precision,d.rounding):t};me.toBinary=function(t,e){return j0(this,2,t,e)};me.toDecimalPlaces=me.toDP=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(hr(t,0,fs),e===void 0?e=r.rounding:hr(e,0,8),We(n,t+n.e+1,e))};me.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=fi(r,!0):(hr(t,0,fs),e===void 0?e=i.rounding:hr(e,0,8),r=We(new i(r),t+1,e),n=fi(r,!0,t+1)),r.isNeg()&&!r.isZero()?"-"+n:n};me.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?n=fi(i):(hr(t,0,fs),e===void 0?e=s.rounding:hr(e,0,8),r=We(new s(i),t+i.e+1,e),n=fi(r,!1,t+r.e+1)),i.isNeg()&&!i.isZero()?"-"+n:n};me.toFraction=function(t){var e,n,r,i,s,o,a,c,u,l,d,h,y=this,b=y.d,T=y.constructor;if(!b)return new T(y);if(u=n=new T(1),r=c=new T(0),e=new T(r),s=e.e=Ym(b)-y.e-1,o=s%Je,e.d[0]=Bn(10,o<0?Je+o:o),t==null)t=s>0?e:u;else{if(a=new T(t),!a.isInt()||a.lt(u))throw Error(ss+a);t=a.gt(e)?s>0?e:u:a}for(at=!1,a=new T(jn(b)),l=T.precision,T.precision=s=b.length*Je*2;d=un(a,e,0,1,1),i=n.plus(d.times(r)),i.cmp(t)!=1;)n=r,r=i,i=u,u=c.plus(d.times(i)),c=i,i=e,e=a.minus(d.times(i)),a=i;return i=un(t.minus(n),r,0,1,1),c=c.plus(i.times(u)),n=n.plus(i.times(r)),c.s=u.s=y.s,h=un(u,r,s,1).minus(y).abs().cmp(un(c,n,s,1).minus(y).abs())<1?[u,r]:[c,n],T.precision=l,at=!0,h};me.toHexadecimal=me.toHex=function(t,e){return j0(this,16,t,e)};me.toNearest=function(t,e){var n=this,r=n.constructor;if(n=new r(n),t==null){if(!n.d)return n;t=new r(1),e=r.rounding}else{if(t=new r(t),e===void 0?e=r.rounding:hr(e,0,8),!n.d)return t.s?n:t;if(!t.d)return t.s&&(t.s=n.s),t}return t.d[0]?(at=!1,n=un(n,t,0,e,1).times(t),at=!0,We(n)):(t.s=n.s,n=t),n};me.toNumber=function(){return+this};me.toOctal=function(t,e){return j0(this,8,t,e)};me.toPower=me.pow=function(t){var e,n,r,i,s,o,a=this,c=a.constructor,u=+(t=new c(t));if(!a.d||!t.d||!a.d[0]||!t.d[0])return new c(Bn(+a,u));if(a=new c(a),a.eq(1))return a;if(r=c.precision,s=c.rounding,t.eq(1))return We(a,r,s);if(e=ir(t.e/Je),e>=t.d.length-1&&(n=u<0?-u:u)<=G8)return i=Jm(c,a,n,r),t.s<0?new c(1).div(i):We(i,r,s);if(o=a.s,o<0){if(e<t.d.length-1)return new c(NaN);if(t.d[e]&1||(o=1),a.e==0&&a.d[0]==1&&a.d.length==1)return a.s=o,a}return n=Bn(+a,u),e=n==0||!isFinite(n)?ir(u*(Math.log("0."+jn(a.d))/Math.LN10+a.e+1)):new c(n+"").e,e>c.maxE+1||e<c.minE-1?new c(e>0?o/0:0):(at=!1,c.rounding=a.s=1,n=Math.min(12,(e+"").length),i=Af(t.times(Yi(a,r+n)),r),i.d&&(i=We(i,r+5,1),ja(i.d,r,s)&&(e=r+10,i=We(Af(t.times(Yi(a,e+n)),e),e+5,1),+jn(i.d).slice(r+1,r+15)+1==1e14&&(i=We(i,r+1,0)))),i.s=o,at=!0,c.rounding=s,We(i,r,s))};me.toPrecision=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=fi(r,r.e<=i.toExpNeg||r.e>=i.toExpPos):(hr(t,1,fs),e===void 0?e=i.rounding:hr(e,0,8),r=We(new i(r),t,e),n=fi(r,t<=r.e||r.e<=i.toExpNeg,t)),r.isNeg()&&!r.isZero()?"-"+n:n};me.toSignificantDigits=me.toSD=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(hr(t,1,fs),e===void 0?e=r.rounding:hr(e,0,8)),We(new r(n),t,e)};me.toString=function(){var t=this,e=t.constructor,n=fi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()&&!t.isZero()?"-"+n:n};me.truncated=me.trunc=function(){return We(new this.constructor(this),this.e+1,1)};me.valueOf=me.toJSON=function(){var t=this,e=t.constructor,n=fi(t,t.e<=e.toExpNeg||t.e>=e.toExpPos);return t.isNeg()?"-"+n:n};function jn(t){var e,n,r,i=t.length-1,s="",o=t[0];if(i>0){for(s+=o,e=1;e<i;e++)r=t[e]+"",n=Je-r.length,n&&(s+=Gi(n)),s+=r;o=t[e],r=o+"",n=Je-r.length,n&&(s+=Gi(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}function hr(t,e,n){if(t!==~~t||t<e||t>n)throw Error(ss+t)}function ja(t,e,n,r){var i,s,o,a;for(s=t[0];s>=10;s/=10)--e;return--e<0?(e+=Je,i=0):(i=Math.ceil((e+1)/Je),e%=Je),s=Bn(10,Je-e),a=t[i]%s|0,r==null?e<3?(e==0?a=a/100|0:e==1&&(a=a/10|0),o=n<4&&a==99999||n>3&&a==49999||a==5e4||a==0):o=(n<4&&a+1==s||n>3&&a+1==s/2)&&(t[i+1]/s/100|0)==Bn(10,e-2)-1||(a==s/2||a==0)&&(t[i+1]/s/100|0)==0:e<4?(e==0?a=a/1e3|0:e==1?a=a/100|0:e==2&&(a=a/10|0),o=(r||n<4)&&a==9999||!r&&n>3&&a==4999):o=((r||n<4)&&a+1==s||!r&&n>3&&a+1==s/2)&&(t[i+1]/s/1e3|0)==Bn(10,e-3)-1,o}function pu(t,e,n){for(var r,i=[0],s,o=0,a=t.length;o<a;){for(s=i.length;s--;)i[s]*=e;for(i[0]+=xf.indexOf(t.charAt(o++)),r=0;r<i.length;r++)i[r]>n-1&&(i[r+1]===void 0&&(i[r+1]=0),i[r+1]+=i[r]/n|0,i[r]%=n)}return i.reverse()}function K8(t,e){var n,r,i;if(e.isZero())return e;r=e.d.length,r<32?(n=Math.ceil(r/3),i=(1/ed(4,n)).toString()):(n=16,i="2.3283064365386962890625e-10"),t.precision+=n,e=Yo(t,1,e.times(i),new t(1));for(var s=n;s--;){var o=e.times(e);e=o.times(o).minus(o).times(8).plus(1)}return t.precision-=n,e}var un=function(){function t(r,i,s){var o,a=0,c=r.length;for(r=r.slice();c--;)o=r[c]*i+a,r[c]=o%s|0,a=o/s|0;return a&&r.unshift(a),r}function e(r,i,s,o){var a,c;if(s!=o)c=s>o?1:-1;else for(a=c=0;a<s;a++)if(r[a]!=i[a]){c=r[a]>i[a]?1:-1;break}return c}function n(r,i,s,o){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*o+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o,a,c){var u,l,d,h,y,b,T,k,O,B,v,_,S,M,F,W,Y,J,q,L,E=r.constructor,f=r.s==i.s?1:-1,p=r.d,w=i.d;if(!p||!p[0]||!w||!w[0])return new E(!r.s||!i.s||(p?w&&p[0]==w[0]:!w)?NaN:p&&p[0]==0||!w?f*0:f/0);for(c?(y=1,l=r.e-i.e):(c=Zr,y=Je,l=ir(r.e/y)-ir(i.e/y)),q=w.length,Y=p.length,O=new E(f),B=O.d=[],d=0;w[d]==(p[d]||0);d++);if(w[d]>(p[d]||0)&&l--,s==null?(M=s=E.precision,o=E.rounding):a?M=s+(r.e-i.e)+1:M=s,M<0)B.push(1),b=!0;else{if(M=M/y+2|0,d=0,q==1){for(h=0,w=w[0],M++;(d<Y||h)&&M--;d++)F=h*c+(p[d]||0),B[d]=F/w|0,h=F%w|0;b=h||d<Y}else{for(h=c/(w[0]+1)|0,h>1&&(w=t(w,h,c),p=t(p,h,c),q=w.length,Y=p.length),W=q,v=p.slice(0,q),_=v.length;_<q;)v[_++]=0;L=w.slice(),L.unshift(0),J=w[0],w[1]>=c/2&&++J;do h=0,u=e(w,v,q,_),u<0?(S=v[0],q!=_&&(S=S*c+(v[1]||0)),h=S/J|0,h>1?(h>=c&&(h=c-1),T=t(w,h,c),k=T.length,_=v.length,u=e(T,v,k,_),u==1&&(h--,n(T,q<k?L:w,k,c))):(h==0&&(u=h=1),T=w.slice()),k=T.length,k<_&&T.unshift(0),n(v,T,_,c),u==-1&&(_=v.length,u=e(w,v,q,_),u<1&&(h++,n(v,q<_?L:w,_,c))),_=v.length):u===0&&(h++,v=[0]),B[d++]=h,u&&v[0]?v[_++]=p[W]||0:(v=[p[W]],_=1);while((W++<Y||v[0]!==void 0)&&M--);b=v[0]!==void 0}B[0]||B.shift()}if(y==1)O.e=l,Gm=b;else{for(d=1,h=B[0];h>=10;h/=10)d++;O.e=d+l*y-1,We(O,a?s+O.e+1:s,o,b)}return O}}();function We(t,e,n,r){var i,s,o,a,c,u,l,d,h,y=t.constructor;e:if(e!=null){if(d=t.d,!d)return t;for(i=1,a=d[0];a>=10;a/=10)i++;if(s=e-i,s<0)s+=Je,o=e,l=d[h=0],c=l/Bn(10,i-o-1)%10|0;else if(h=Math.ceil((s+1)/Je),a=d.length,h>=a)if(r){for(;a++<=h;)d.push(0);l=c=0,i=1,s%=Je,o=s-Je+1}else break e;else{for(l=a=d[h],i=1;a>=10;a/=10)i++;s%=Je,o=s-Je+i,c=o<0?0:l/Bn(10,i-o-1)%10|0}if(r=r||e<0||d[h+1]!==void 0||(o<0?l:l%Bn(10,i-o-1)),u=n<4?(c||r)&&(n==0||n==(t.s<0?3:2)):c>5||c==5&&(n==4||r||n==6&&(s>0?o>0?l/Bn(10,i-o):0:d[h-1])%10&1||n==(t.s<0?8:7)),e<1||!d[0])return d.length=0,u?(e-=t.e+1,d[0]=Bn(10,(Je-e%Je)%Je),t.e=-e||0):d[0]=t.e=0,t;if(s==0?(d.length=h,a=1,h--):(d.length=h+1,a=Bn(10,Je-s),d[h]=o>0?(l/Bn(10,i-o)%Bn(10,o)|0)*a:0),u)for(;;)if(h==0){for(s=1,o=d[0];o>=10;o/=10)s++;for(o=d[0]+=a,a=1;o>=10;o/=10)a++;s!=a&&(t.e++,d[0]==Zr&&(d[0]=1));break}else{if(d[h]+=a,d[h]!=Zr)break;d[h--]=0,a=1}for(s=d.length;d[--s]===0;)d.pop()}return at&&(t.e>y.maxE?(t.d=null,t.e=NaN):t.e<y.minE&&(t.e=0,t.d=[0])),t}function fi(t,e,n){if(!t.isFinite())return ew(t);var r,i=t.e,s=jn(t.d),o=s.length;return e?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+Gi(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(t.e<0?"e":"e+")+t.e):i<0?(s="0."+Gi(-i-1)+s,n&&(r=n-o)>0&&(s+=Gi(r))):i>=o?(s+=Gi(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+Gi(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=Gi(r))),s}function Ql(t,e){var n=t[0];for(e*=Je;n>=10;n/=10)e++;return e}function Bu(t,e,n){if(e>V8)throw at=!0,n&&(t.precision=n),Error(Vm);return We(new t(Eu),e,1,!0)}function Xr(t,e,n){if(e>Tf)throw Error(Vm);return We(new t(ku),e,n,!0)}function Ym(t){var e=t.length-1,n=e*Je+1;if(e=t[e],e){for(;e%10==0;e/=10)n--;for(e=t[0];e>=10;e/=10)n++}return n}function Gi(t){for(var e="";t--;)e+="0";return e}function Jm(t,e,n,r){var i,s=new t(1),o=Math.ceil(r/Je+4);for(at=!1;;){if(n%2&&(s=s.times(e),gp(s.d,o)&&(i=!0)),n=ir(n/2),n===0){n=s.d.length-1,i&&s.d[n]===0&&++s.d[n];break}e=e.times(e),gp(e.d,o)}return at=!0,s}function pp(t){return t.d[t.d.length-1]&1}function Qm(t,e,n){for(var r,i=new t(e[0]),s=0;++s<e.length;)if(r=new t(e[s]),r.s)i[n](r)&&(i=r);else{i=r;break}return i}function Af(t,e){var n,r,i,s,o,a,c,u=0,l=0,d=0,h=t.constructor,y=h.rounding,b=h.precision;if(!t.d||!t.d[0]||t.e>17)return new h(t.d?t.d[0]?t.s<0?0:1/0:1:t.s?t.s<0?0:t:0/0);for(e==null?(at=!1,c=b):c=e,a=new h(.03125);t.e>-2;)t=t.times(a),d+=5;for(r=Math.log(Bn(2,d))/Math.LN10*2+5|0,c+=r,n=s=o=new h(1),h.precision=c;;){if(s=We(s.times(t),c,1),n=n.times(++l),a=o.plus(un(s,n,c,1)),jn(a.d).slice(0,c)===jn(o.d).slice(0,c)){for(i=d;i--;)o=We(o.times(o),c,1);if(e==null)if(u<3&&ja(o.d,c-r,y,u))h.precision=c+=10,n=s=a=new h(1),l=0,u++;else return We(o,h.precision=b,y,at=!0);else return h.precision=b,o}o=a}}function Yi(t,e){var n,r,i,s,o,a,c,u,l,d,h,y=1,b=10,T=t,k=T.d,O=T.constructor,B=O.rounding,v=O.precision;if(T.s<0||!k||!k[0]||!T.e&&k[0]==1&&k.length==1)return new O(k&&!k[0]?-1/0:T.s!=1?NaN:k?0:T);if(e==null?(at=!1,l=v):l=e,O.precision=l+=b,n=jn(k),r=n.charAt(0),Math.abs(s=T.e)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)T=T.times(t),n=jn(T.d),r=n.charAt(0),y++;s=T.e,r>1?(T=new O("0."+n),s++):T=new O(r+"."+n.slice(1))}else return u=Bu(O,l+2,v).times(s+""),T=Yi(new O(r+"."+n.slice(1)),l-b).plus(u),O.precision=v,e==null?We(T,v,B,at=!0):T;for(d=T,c=o=T=un(T.minus(1),T.plus(1),l,1),h=We(T.times(T),l,1),i=3;;){if(o=We(o.times(h),l,1),u=c.plus(un(o,new O(i),l,1)),jn(u.d).slice(0,l)===jn(c.d).slice(0,l))if(c=c.times(2),s!==0&&(c=c.plus(Bu(O,l+2,v).times(s+""))),c=un(c,new O(y),l,1),e==null)if(ja(c.d,l-b,B,a))O.precision=l+=b,u=o=T=un(d.minus(1),d.plus(1),l,1),h=We(T.times(T),l,1),i=a=1;else return We(c,O.precision=v,B,at=!0);else return O.precision=v,c;c=u,i+=2}}function ew(t){return String(t.s*t.s/0)}function Ef(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;r++);for(i=e.length;e.charCodeAt(i-1)===48;--i);if(e=e.slice(r,i),e){if(i-=r,t.e=n=n-r-1,t.d=[],r=(n+1)%Je,n<0&&(r+=Je),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Je;r<i;)t.d.push(+e.slice(r,r+=Je));e=e.slice(r),r=Je-e.length}else r-=i;for(;r--;)e+="0";t.d.push(+e),at&&(t.e>t.constructor.maxE?(t.d=null,t.e=NaN):t.e<t.constructor.minE&&(t.e=0,t.d=[0]))}else t.e=0,t.d=[0];return t}function X8(t,e){var n,r,i,s,o,a,c,u,l;if(e.indexOf("_")>-1){if(e=e.replace(/(\d)_(?=\d)/g,"$1"),Zm.test(e))return Ef(t,e)}else if(e==="Infinity"||e==="NaN")return+e||(t.s=NaN),t.e=NaN,t.d=null,t;if(j8.test(e))n=16,e=e.toLowerCase();else if(F8.test(e))n=2;else if(W8.test(e))n=8;else throw Error(ss+e);for(s=e.search(/p/i),s>0?(c=+e.slice(s+1),e=e.substring(2,s)):e=e.slice(2),s=e.indexOf("."),o=s>=0,r=t.constructor,o&&(e=e.replace(".",""),a=e.length,s=a-s,i=Jm(r,new r(n),s,s*2)),u=pu(e,n,Zr),l=u.length-1,s=l;u[s]===0;--s)u.pop();return s<0?new r(t.s*0):(t.e=Ql(u,l),t.d=u,at=!1,o&&(t=un(t,i,a*4)),c&&(t=t.times(Math.abs(c)<54?Bn(2,c):je.pow(2,c))),at=!0,t)}function Z8(t,e){var n,r=e.d.length;if(r<3)return e.isZero()?e:Yo(t,2,e,e);n=1.4*Math.sqrt(r),n=n>16?16:n|0,e=e.times(1/ed(5,n)),e=Yo(t,2,e,e);for(var i,s=new t(5),o=new t(16),a=new t(20);n--;)i=e.times(e),e=e.times(s.plus(i.times(o.times(i).minus(a))));return e}function Yo(t,e,n,r,i){var s,o,a,c,u=t.precision,l=Math.ceil(u/Je);for(at=!1,c=n.times(n),a=new t(r);;){if(o=un(a.times(c),new t(e++*e++),u,1),a=i?r.plus(o):r.minus(o),r=un(o.times(c),new t(e++*e++),u,1),o=a.plus(r),o.d[l]!==void 0){for(s=l;o.d[s]===a.d[s]&&s--;);if(s==-1)break}s=a,a=r,r=o,o=s}return at=!0,o.d.length=l+1,o}function ed(t,e){for(var n=t;--e;)n*=t;return n}function tw(t,e){var n,r=e.s<0,i=Xr(t,t.precision,1),s=i.times(.5);if(e=e.abs(),e.lte(s))return wi=r?4:1,e;if(n=e.divToInt(i),n.isZero())wi=r?3:2;else{if(e=e.minus(n.times(i)),e.lte(s))return wi=pp(n)?r?2:3:r?4:1,e;wi=pp(n)?r?1:4:r?3:2}return e.minus(i).abs()}function j0(t,e,n,r){var i,s,o,a,c,u,l,d,h,y=t.constructor,b=n!==void 0;if(b?(hr(n,1,fs),r===void 0?r=y.rounding:hr(r,0,8)):(n=y.precision,r=y.rounding),!t.isFinite())l=ew(t);else{for(l=fi(t),o=l.indexOf("."),b?(i=2,e==16?n=n*4-3:e==8&&(n=n*3-2)):i=e,o>=0&&(l=l.replace(".",""),h=new y(1),h.e=l.length-o,h.d=pu(fi(h),10,i),h.e=h.d.length),d=pu(l,10,i),s=c=d.length;d[--c]==0;)d.pop();if(!d[0])l=b?"0p+0":"0";else{if(o<0?s--:(t=new y(t),t.d=d,t.e=s,t=un(t,h,n,r,0,i),d=t.d,s=t.e,u=Gm),o=d[n],a=i/2,u=u||d[n+1]!==void 0,u=r<4?(o!==void 0||u)&&(r===0||r===(t.s<0?3:2)):o>a||o===a&&(r===4||u||r===6&&d[n-1]&1||r===(t.s<0?8:7)),d.length=n,u)for(;++d[--n]>i-1;)d[n]=0,n||(++s,d.unshift(1));for(c=d.length;!d[c-1];--c);for(o=0,l="";o<c;o++)l+=xf.charAt(d[o]);if(b){if(c>1)if(e==16||e==8){for(o=e==16?4:3,--c;c%o;c++)l+="0";for(d=pu(l,i,e),c=d.length;!d[c-1];--c);for(o=1,l="1.";o<c;o++)l+=xf.charAt(d[o])}else l=l.charAt(0)+"."+l.slice(1);l=l+(s<0?"p":"p+")+s}else if(s<0){for(;++s;)l="0"+l;l="0."+l}else if(++s>c)for(s-=c;s--;)l+="0";else s<c&&(l=l.slice(0,s)+"."+l.slice(s))}l=(e==16?"0x":e==2?"0b":e==8?"0o":"")+l}return t.s<0?"-"+l:l}function gp(t,e){if(t.length>e)return t.length=e,!0}function Y8(t){return new this(t).abs()}function J8(t){return new this(t).acos()}function Q8(t){return new this(t).acosh()}function eT(t,e){return new this(t).plus(e)}function tT(t){return new this(t).asin()}function nT(t){return new this(t).asinh()}function rT(t){return new this(t).atan()}function iT(t){return new this(t).atanh()}function sT(t,e){t=new this(t),e=new this(e);var n,r=this.precision,i=this.rounding,s=r+4;return!t.s||!e.s?n=new this(NaN):!t.d&&!e.d?(n=Xr(this,s,1).times(e.s>0?.25:.75),n.s=t.s):!e.d||t.isZero()?(n=e.s<0?Xr(this,r,i):new this(0),n.s=t.s):!t.d||e.isZero()?(n=Xr(this,s,1).times(.5),n.s=t.s):e.s<0?(this.precision=s,this.rounding=1,n=this.atan(un(t,e,s,1)),e=Xr(this,s,1),this.precision=r,this.rounding=i,n=t.s<0?n.minus(e):n.plus(e)):n=this.atan(un(t,e,s,1)),n}function oT(t){return new this(t).cbrt()}function aT(t){return We(t=new this(t),t.e+1,2)}function cT(t,e,n){return new this(t).clamp(e,n)}function uT(t){if(!t||typeof t!="object")throw Error(Jl+"Object expected");var e,n,r,i=t.defaults===!0,s=["precision",1,fs,"rounding",0,8,"toExpNeg",-ao,0,"toExpPos",0,ao,"maxE",0,ao,"minE",-ao,0,"modulo",0,9];for(e=0;e<s.length;e+=3)if(n=s[e],i&&(this[n]=Sf[n]),(r=t[n])!==void 0)if(ir(r)===r&&r>=s[e+1]&&r<=s[e+2])this[n]=r;else throw Error(ss+n+": "+r);if(n="crypto",i&&(this[n]=Sf[n]),(r=t[n])!==void 0)if(r===!0||r===!1||r===0||r===1)if(r)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))this[n]=!0;else throw Error(Km);else this[n]=!1;else throw Error(ss+n+": "+r);return this}function lT(t){return new this(t).cos()}function dT(t){return new this(t).cosh()}function nw(t){var e,n,r;function i(s){var o,a,c,u=this;if(!(u instanceof i))return new i(s);if(u.constructor=i,yp(s)){u.s=s.s,at?!s.d||s.e>i.maxE?(u.e=NaN,u.d=null):s.e<i.minE?(u.e=0,u.d=[0]):(u.e=s.e,u.d=s.d.slice()):(u.e=s.e,u.d=s.d?s.d.slice():s.d);return}if(c=typeof s,c==="number"){if(s===0){u.s=1/s<0?-1:1,u.e=0,u.d=[0];return}if(s<0?(s=-s,u.s=-1):u.s=1,s===~~s&&s<1e7){for(o=0,a=s;a>=10;a/=10)o++;at?o>i.maxE?(u.e=NaN,u.d=null):o<i.minE?(u.e=0,u.d=[0]):(u.e=o,u.d=[s]):(u.e=o,u.d=[s]);return}else if(s*0!==0){s||(u.s=NaN),u.e=NaN,u.d=null;return}return Ef(u,s.toString())}else if(c!=="string")throw Error(ss+s);return(a=s.charCodeAt(0))===45?(s=s.slice(1),u.s=-1):(a===43&&(s=s.slice(1)),u.s=1),Zm.test(s)?Ef(u,s):X8(u,s)}if(i.prototype=me,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.EUCLID=9,i.config=i.set=uT,i.clone=nw,i.isDecimal=yp,i.abs=Y8,i.acos=J8,i.acosh=Q8,i.add=eT,i.asin=tT,i.asinh=nT,i.atan=rT,i.atanh=iT,i.atan2=sT,i.cbrt=oT,i.ceil=aT,i.clamp=cT,i.cos=lT,i.cosh=dT,i.div=fT,i.exp=hT,i.floor=pT,i.hypot=gT,i.ln=yT,i.log=mT,i.log10=_T,i.log2=wT,i.max=bT,i.min=vT,i.mod=xT,i.mul=ST,i.pow=TT,i.random=AT,i.round=ET,i.sign=kT,i.sin=BT,i.sinh=RT,i.sqrt=IT,i.sub=PT,i.sum=UT,i.tan=OT,i.tanh=CT,i.trunc=$T,t===void 0&&(t={}),t&&t.defaults!==!0)for(r=["precision","rounding","toExpNeg","toExpPos","maxE","minE","modulo","crypto"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function fT(t,e){return new this(t).div(e)}function hT(t){return new this(t).exp()}function pT(t){return We(t=new this(t),t.e+1,3)}function gT(){var t,e,n=new this(0);for(at=!1,t=0;t<arguments.length;)if(e=new this(arguments[t++]),e.d)n.d&&(n=n.plus(e.times(e)));else{if(e.s)return at=!0,new this(1/0);n=e}return at=!0,n.sqrt()}function yp(t){return t instanceof je||t&&t.toStringTag===Xm||!1}function yT(t){return new this(t).ln()}function mT(t,e){return new this(t).log(e)}function wT(t){return new this(t).log(2)}function _T(t){return new this(t).log(10)}function bT(){return Qm(this,arguments,"lt")}function vT(){return Qm(this,arguments,"gt")}function xT(t,e){return new this(t).mod(e)}function ST(t,e){return new this(t).mul(e)}function TT(t,e){return new this(t).pow(e)}function AT(t){var e,n,r,i,s=0,o=new this(1),a=[];if(t===void 0?t=this.precision:hr(t,1,fs),r=Math.ceil(t/Je),this.crypto)if(crypto.getRandomValues)for(e=crypto.getRandomValues(new Uint32Array(r));s<r;)i=e[s],i>=429e7?e[s]=crypto.getRandomValues(new Uint32Array(1))[0]:a[s++]=i%1e7;else if(crypto.randomBytes){for(e=crypto.randomBytes(r*=4);s<r;)i=e[s]+(e[s+1]<<8)+(e[s+2]<<16)+((e[s+3]&127)<<24),i>=214e7?crypto.randomBytes(4).copy(e,s):(a.push(i%1e7),s+=4);s=r/4}else throw Error(Km);else for(;s<r;)a[s++]=Math.random()*1e7|0;for(r=a[--s],t%=Je,r&&t&&(i=Bn(10,Je-t),a[s]=(r/i|0)*i);a[s]===0;s--)a.pop();if(s<0)n=0,a=[0];else{for(n=-1;a[0]===0;n-=Je)a.shift();for(r=1,i=a[0];i>=10;i/=10)r++;r<Je&&(n-=Je-r)}return o.e=n,o.d=a,o}function ET(t){return We(t=new this(t),t.e+1,this.rounding)}function kT(t){return t=new this(t),t.d?t.d[0]?t.s:0*t.s:t.s||NaN}function BT(t){return new this(t).sin()}function RT(t){return new this(t).sinh()}function IT(t){return new this(t).sqrt()}function PT(t,e){return new this(t).sub(e)}function UT(){var t=0,e=arguments,n=new this(e[t]);for(at=!1;n.s&&++t<e.length;)n=n.plus(e[t]);return at=!0,We(n,this.precision,this.rounding)}function OT(t){return new this(t).tan()}function CT(t){return new this(t).tanh()}function $T(t){return We(t=new this(t),t.e+1,1)}me[Symbol.for("nodejs.util.inspect.custom")]=me.toString;me[Symbol.toStringTag]="Decimal";var je=me.constructor=nw(Sf);Eu=new je(Eu);ku=new je(ku);var MT=!0,Dd="Invariant failed";function gu(t,e){if(!t){if(MT)throw new Error(Dd);var n=typeof e=="function"?e():e,r=n?"".concat(Dd,": ").concat(n):Dd;throw new Error(r)}}const rw="3.7.5",qT=rw,NT=typeof atob=="function",DT=typeof btoa=="function",pa=typeof Buffer=="function",mp=typeof TextDecoder=="function"?new TextDecoder:void 0,wp=typeof TextEncoder=="function"?new TextEncoder:void 0,LT="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Ia=Array.prototype.slice.call(LT),Mc=(t=>{let e={};return t.forEach((n,r)=>e[n]=r),e})(Ia),HT=/^(?:[A-Za-z\d+\/]{4})*?(?:[A-Za-z\d+\/]{2}(?:==)?|[A-Za-z\d+\/]{3}=?)?$/,Hn=String.fromCharCode.bind(String),_p=typeof Uint8Array.from=="function"?Uint8Array.from.bind(Uint8Array):t=>new Uint8Array(Array.prototype.slice.call(t,0)),iw=t=>t.replace(/=/g,"").replace(/[+\/]/g,e=>e=="+"?"-":"_"),sw=t=>t.replace(/[^A-Za-z0-9\+\/]/g,""),ow=t=>{let e,n,r,i,s="";const o=t.length%3;for(let a=0;a<t.length;){if((n=t.charCodeAt(a++))>255||(r=t.charCodeAt(a++))>255||(i=t.charCodeAt(a++))>255)throw new TypeError("invalid character found");e=n<<16|r<<8|i,s+=Ia[e>>18&63]+Ia[e>>12&63]+Ia[e>>6&63]+Ia[e&63]}return o?s.slice(0,o-3)+"===".substring(o):s},W0=DT?t=>btoa(t):pa?t=>Buffer.from(t,"binary").toString("base64"):ow,kf=pa?t=>Buffer.from(t).toString("base64"):t=>{let n=[];for(let r=0,i=t.length;r<i;r+=4096)n.push(Hn.apply(null,t.subarray(r,r+4096)));return W0(n.join(""))},yu=(t,e=!1)=>e?iw(kf(t)):kf(t),zT=t=>{if(t.length<2){var e=t.charCodeAt(0);return e<128?t:e<2048?Hn(192|e>>>6)+Hn(128|e&63):Hn(224|e>>>12&15)+Hn(128|e>>>6&63)+Hn(128|e&63)}else{var e=65536+(t.charCodeAt(0)-55296)*1024+(t.charCodeAt(1)-56320);return Hn(240|e>>>18&7)+Hn(128|e>>>12&63)+Hn(128|e>>>6&63)+Hn(128|e&63)}},FT=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,aw=t=>t.replace(FT,zT),bp=pa?t=>Buffer.from(t,"utf8").toString("base64"):wp?t=>kf(wp.encode(t)):t=>W0(aw(t)),Ao=(t,e=!1)=>e?iw(bp(t)):bp(t),vp=t=>Ao(t,!0),jT=/[\xC0-\xDF][\x80-\xBF]|[\xE0-\xEF][\x80-\xBF]{2}|[\xF0-\xF7][\x80-\xBF]{3}/g,WT=t=>{switch(t.length){case 4:var e=(7&t.charCodeAt(0))<<18|(63&t.charCodeAt(1))<<12|(63&t.charCodeAt(2))<<6|63&t.charCodeAt(3),n=e-65536;return Hn((n>>>10)+55296)+Hn((n&1023)+56320);case 3:return Hn((15&t.charCodeAt(0))<<12|(63&t.charCodeAt(1))<<6|63&t.charCodeAt(2));default:return Hn((31&t.charCodeAt(0))<<6|63&t.charCodeAt(1))}},cw=t=>t.replace(jT,WT),uw=t=>{if(t=t.replace(/\s+/g,""),!HT.test(t))throw new TypeError("malformed base64.");t+="==".slice(2-(t.length&3));let e,n="",r,i;for(let s=0;s<t.length;)e=Mc[t.charAt(s++)]<<18|Mc[t.charAt(s++)]<<12|(r=Mc[t.charAt(s++)])<<6|(i=Mc[t.charAt(s++)]),n+=r===64?Hn(e>>16&255):i===64?Hn(e>>16&255,e>>8&255):Hn(e>>16&255,e>>8&255,e&255);return n},G0=NT?t=>atob(sw(t)):pa?t=>Buffer.from(t,"base64").toString("binary"):uw,lw=pa?t=>_p(Buffer.from(t,"base64")):t=>_p(G0(t).split("").map(e=>e.charCodeAt(0))),dw=t=>lw(fw(t)),GT=pa?t=>Buffer.from(t,"base64").toString("utf8"):mp?t=>mp.decode(lw(t)):t=>cw(G0(t)),fw=t=>sw(t.replace(/[-_]/g,e=>e=="-"?"+":"/")),Bf=t=>GT(fw(t)),VT=t=>{if(typeof t!="string")return!1;const e=t.replace(/\s+/g,"").replace(/={0,2}$/,"");return!/[^\s0-9a-zA-Z\+/]/.test(e)||!/[^\s0-9a-zA-Z\-_]/.test(e)},hw=t=>({value:t,enumerable:!1,writable:!0,configurable:!0}),pw=function(){const t=(e,n)=>Object.defineProperty(String.prototype,e,hw(n));t("fromBase64",function(){return Bf(this)}),t("toBase64",function(e){return Ao(this,e)}),t("toBase64URI",function(){return Ao(this,!0)}),t("toBase64URL",function(){return Ao(this,!0)}),t("toUint8Array",function(){return dw(this)})},gw=function(){const t=(e,n)=>Object.defineProperty(Uint8Array.prototype,e,hw(n));t("toBase64",function(e){return yu(this,e)}),t("toBase64URI",function(){return yu(this,!0)}),t("toBase64URL",function(){return yu(this,!0)})},KT=()=>{pw(),gw()},Rf={version:rw,VERSION:qT,atob:G0,atobPolyfill:uw,btoa:W0,btoaPolyfill:ow,fromBase64:Bf,toBase64:Ao,encode:Ao,encodeURI:vp,encodeURL:vp,utob:aw,btou:cw,decode:Bf,isValid:VT,fromUint8Array:yu,toUint8Array:dw,extendString:pw,extendUint8Array:gw,extendBuiltins:KT};var Vi;(function(t){t[t.EQUAL=0]="EQUAL",t[t.GREATER=1]="GREATER",t[t.LESS=-1]="LESS"})(Vi||(Vi={}));var XT=function(){function t(e){this.compare=e||t.defaultCompareFunction}return t.defaultCompareFunction=function(e,n){return e===n?Vi.EQUAL:e<n?Vi.LESS:Vi.GREATER},t.prototype.equal=function(e,n){return this.compare(e,n)===Vi.EQUAL},t.prototype.lessThan=function(e,n){return this.compare(e,n)===Vi.LESS},t.prototype.greaterThan=function(e,n){return this.compare(e,n)===Vi.GREATER},t.prototype.lessThanOrEqual=function(e,n){return this.lessThan(e,n)||this.equal(e,n)},t.prototype.greaterThanOrEqual=function(e,n){return this.greaterThan(e,n)||this.equal(e,n)},t.prototype.reverse=function(){var e=this.compare;this.compare=function(n,r){return e(r,n)}},t}(),xp=function(){function t(e){this.value=e,this.next=null}return t}(),Sp=function(){function t(e){this.value=e,this.next=null,this.prev=null}return t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var If=function(t,e){return If=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},If(t,e)};function ga(t,e){If(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}function Wa(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function ZT(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function Jr(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ZT(arguments[e]));return t}var YT="obfuse error occur";function Ru(t,e){if(!t)throw new Error("[linked-list] "+(e||YT))}var JT=-1,yw=function(){function t(){for(var e=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];this._head=null,this._tail=null,this._length=0,this.compare=new XT,n.length>0&&n.forEach(function(i){e.append(i)})}return Object.defineProperty(t.prototype,"head",{get:function(){return this._head?this._head.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tail",{get:function(){return this._tail?this._tail.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loopLength",{get:function(){var e=!1,n=1;if(!this._head)return 0;for(var r=this._head,i=this._head;i.next&&i.next.next;)if(i=i.next.next,r=r.next,r===i){e=!0;break}if(e){for(i=i.next;r!==i;)n++,i=i.next;return n}else return 0},enumerable:!0,configurable:!0}),t.prototype.getNode=function(e){var n=this._length;Ru(n>0&&e>=0&&e<n,"[linked-list] index "+e+" out of scope of list, which length is "+n);for(var r=this._head,i=0;i<e;)r=r.next,i++;return r},t.prototype.get=function(e){var n=this.getNode(e);return n?n.value:null},t.prototype.find=function(e){var n=e.value,r=e.callback;if(!this._head)return null;for(var i=this._head;i;){if(r&&r(i.value)||n!==void 0&&this.compare.equal(i.value,n))return i;i=i.next}return null},t.prototype.indexOf=function(e){if(!this._head)return JT;for(var n=this._head,r=-1;n.next;){if(r++,this.compare.equal(n.value,e))return r;n=n.next}return n===this._tail&&this.compare.equal(n.value,e)&&(r+=1),r},t.prototype.first=function(e){Ru(e>=0,"[linked-list] param 'num' ("+e+") should not less than 0");for(var n=this.iterator(),r=[],i=Math.min(e,this.length),s=0;s<i;s++){var o=n.next();r.push(o.value)}return r},t.prototype.toArray=function(){return Jr(this)},t.prototype.isEmpty=function(){return this._head===null},t.prototype.iterator=function(){var e;return Wa(this,function(n){switch(n.label){case 0:e=this._head,n.label=1;case 1:return e?[4,e.value]:[3,3];case 2:return n.sent(),e=e.next,[3,1];case 3:return[2]}})},t.prototype[Symbol.iterator]=function(){return this.iterator()},t}(),Ga=function(t){ga(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(this,Jr(n))||this}return e.prototype.append=function(n){var r=new xp(n);return this._tail?(this._tail.next=r,this._tail=r):this._head=this._tail=r,this._length++,!0},e.prototype.prepend=function(n){var r=new xp(n);return this._head?(r.next=this._head,this._head=r):this._head=this._tail=r,this._length++,!0},e.prototype.remove=function(n){var r=this._head;if(r){if(this.compare.equal(r.value,n))return r.next?(this._head=r.next,r.next=null):this._head=this._tail=null,this._length--,n;for(var i=r;;){if(this.compare.equal(r.value,n))return r.next?i.next=r.next:(this._tail=i,this._tail.next=null),r.next=null,this._length--,n;if(r.next)i=r,r=r.next;else return}}},e.prototype.removeHead=function(){var n=this._head;if(n)return this._head.next?(this._head=n.next,n.next=null):(this._head=null,this._tail=null),this._length--,n.value},e.prototype.removeTail=function(){var n=this._tail;if(n){if(!this._head.next)this._head=null,this._tail=null;else{for(var r=this._head;r.next!==n;)r=r.next;r.next=null,this._tail=r}return this._length--,n.value}},e.prototype.reverse=function(){if(this._head){var n=this._head,r=null,i;for(this._tail=this._head;n!==null;)i=n.next,n.next=r,r=n,n=i;this._head=r}},e.prototype.clone=function(){var n=this.toArray();return new(e.bind.apply(e,Jr([void 0],n)))},e}(yw),QT=function(t){ga(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,Jr(n))||this;return i.cyclization(),i}return e.prototype.iterator=function(){var n;return Wa(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,n===this._head&&(n=null),[3,1];case 3:return[2]}})},e.prototype.circleIterator=function(){var n;return Wa(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,[3,1];case 3:return[2]}})},e.prototype[Symbol.iterator]=function(){return this.iterator()},e.prototype.mapToNormalListFn=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.breakCircle();var s=t.prototype[n].apply(this,r);return this.cyclization(),s},e.prototype.getNode=function(n){return this.mapToNormalListFn("getNode",n)},e.prototype.append=function(n){return this.mapToNormalListFn("append",n)},e.prototype.prepend=function(n){return this.mapToNormalListFn("prepend",n)},e.prototype.find=function(n){return this.mapToNormalListFn("find",n)},e.prototype.indexOf=function(n){return this.mapToNormalListFn("indexOf",n)},e.prototype.remove=function(n){return this.mapToNormalListFn("remove",n)},e.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},e.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},e.prototype.first=function(n){Ru(n>=0,"[linked-list] param 'num' ("+n+") should not less than 0");for(var r=this.circleIterator(),i=[],s=0;s<n;s++){var o=r.next();i.push(o.value)}return i},e.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},e.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},e}(Ga);(function(t){ga(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,Jr(n))||this;return i.cyclization(),i}return e.prototype.breakCircle=function(){this._tail&&this._tail.next===this._head&&(this._tail.next=null)},e.prototype.cyclization=function(){this._tail&&this._tail.next===null&&(this._tail.next=this._head)},e.prototype.clone=function(){var n=this.toArray();return new(e.bind.apply(e,Jr([void 0],n)))},e})(QT);var eA=function(t){ga(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return t.apply(this,Jr(n))||this}return e.prototype.append=function(n){var r=new Sp(n);return this._tail?(this._tail.next=r,r.prev=this._tail,this._tail=r):this._head=this._tail=r,this._length++,!0},e.prototype.prepend=function(n){var r=new Sp(n);return this._head?(r.next=this._head,this._head.prev=r,this._head=r):this._head=this._tail=r,this._length++,!0},e.prototype.remove=function(n){var r=this._head;if(r){if(this.compare.equal(r.value,n))return r.next?(this._head=r.next,this._head.prev=null,r.next=r.prev=null):this._head=this._tail=null,this._length--,n;for(;;){if(this.compare.equal(r.value,n))return r.next?(r.prev.next=r.next,r.next.prev=r.prev,r.next=r.prev=null):(r.prev.next=null,this._tail=r.prev,r.next=r.prev=null),this._length--,r.value;if(r.next)r=r.next;else return}}},e.prototype.removeHead=function(){var n=this._head;if(n)return this._head.next?(n.next.prev=null,this._head=n.next,n.next=null):(this._head=null,this._tail=null),this._length--,n.value},e.prototype.removeTail=function(){var n=this._tail;if(n)return this._head.next?(n.prev.next=null,this._tail=n.prev,n.next=n.prev=null):(this._head=null,this._tail=null),this._length--,n.value},e.prototype.reverse=function(){if(this._head){var n=this._head,r=null,i;for(this._tail=this._head;n!==null;)i=n.next,n.next=r,n.prev=i,r=n,n=i;this._head=r}},e.prototype.clone=function(){var n=this.toArray();return new(e.bind.apply(e,Jr([void 0],n)))},e}(yw),tA=function(t){ga(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,Jr(n))||this;return i.cyclization(),i}return e.prototype.iterator=function(){var n;return Wa(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,n===this._head&&(n=null),[3,1];case 3:return[2]}})},e.prototype.circleIterator=function(){var n;return Wa(this,function(r){switch(r.label){case 0:n=this._head,r.label=1;case 1:return n?[4,n.value]:[3,3];case 2:return r.sent(),n=n.next,[3,1];case 3:return[2]}})},e.prototype[Symbol.iterator]=function(){return this.iterator()},e.prototype.mapToNormalListFn=function(n){for(var r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];this.breakCircle();var s=t.prototype[n].apply(this,r);return this.cyclization(),s},e.prototype.getNode=function(n){return this.mapToNormalListFn("getNode",n)},e.prototype.append=function(n){return this.mapToNormalListFn("append",n)},e.prototype.prepend=function(n){return this.mapToNormalListFn("prepend",n)},e.prototype.find=function(n){return this.mapToNormalListFn("find",n)},e.prototype.indexOf=function(n){return this.mapToNormalListFn("indexOf",n)},e.prototype.remove=function(n){return this.mapToNormalListFn("remove",n)},e.prototype.removeHead=function(){return this.mapToNormalListFn("removeHead")},e.prototype.removeTail=function(){return this.mapToNormalListFn("removeTail")},e.prototype.first=function(n){Ru(n>=0,"[linked-list] param 'num' ("+n+") should not less than 0");for(var r=this.circleIterator(),i=[],s=0;s<n;s++){var o=r.next();i.push(o.value)}return i},e.prototype.toArray=function(){return this.mapToNormalListFn("toArray")},e.prototype.reverse=function(){return this.mapToNormalListFn("reverse")},e}(eA);(function(t){ga(e,t);function e(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var i=t.apply(this,Jr(n))||this;return i.cyclization(),i}return e.prototype.breakCircle=function(){this._tail&&this._head&&this._tail.next===this._head&&(this._tail.next=null,this._head.prev=null)},e.prototype.cyclization=function(){this._head&&this._tail&&this._tail.next===null&&(this._tail.next=this._head,this._head.prev=this._tail)},e.prototype.clone=function(){var n=this.toArray();return new(e.bind.apply(e,Jr([void 0],n)))},e})(tA);/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function nA(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function rA(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(nA(arguments[e]));return t}var iA=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.queue=new(Ga.bind.apply(Ga,rA([void 0],e)))}return Object.defineProperty(t.prototype,"length",{get:function(){return this.queue.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"peek",{get:function(){return this.queue.head},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return this.queue.isEmpty()},t.prototype.enqueue=function(e){return this.queue.append(e)},t.prototype.dequeue=function(){var e=this.queue.removeHead();return typeof e<"u"?e:void 0},t.prototype.toArray=function(){return this.queue.toArray()},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function sA(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function oA(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(sA(arguments[e]));return t}var Ld=function(){function t(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.stack=new(Ga.bind.apply(Ga,oA([void 0],e)))}return Object.defineProperty(t.prototype,"length",{get:function(){return this.stack.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"peek",{get:function(){return this.stack.tail},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return this.stack.isEmpty()},t.prototype.push=function(e){return this.stack.append(e)},t.prototype.pop=function(){var e=this.stack.removeTail();return typeof e<"u"?e:void 0},t.prototype.popBottom=function(){var e=this.stack.removeHead();return typeof e<"u"?e:void 0},t.prototype.toArray=function(){return this.stack.toArray()},t}(),mw=function(){function t(e,n,r){r===void 0&&(r=0),this.startVertex=e,this.endVertex=n,this.weight=r}return t.prototype.getKey=function(){var e=this.startVertex.getKey(),n=this.endVertex.getKey();return e+"_"+n},t.prototype.reverse=function(){var e=this.startVertex;return this.startVertex=this.endVertex,this.endVertex=e,this},t.prototype.clone=function(){return new t(this.startVertex,this.endVertex,this.weight)},t.prototype.toString=function(){return this.getKey()},t}();function Pf(t,e,n){if(n===void 0&&(n="ss-graph"),!t)throw new Error((n?"["+n+"]":"")+" Invariant failed: "+e)}function aA(t,e){e===void 0&&(e=!0);var n=typeof t<"u"&&t!==null;return e?n&&t!=="undefined"&&t!=="null":n}var Iu=function(){function t(e){Pf(aA(e),"Graph vertex must have a value"),this.value=e,this.edges=new Map}return t.prototype.addEdge=function(e){return this.edges.set(e.getKey(),e),this},t.prototype.deleteEdge=function(e){this.edges.delete(e.getKey())},t.prototype.getNeighbors=function(){var e=this,n=this.getEdges(),r=function(i){return i.startVertex===e?i.endVertex:i.startVertex};return n.map(r)},t.prototype.getEdges=function(){return Array.from(this.edges.values())},t.prototype.getDegree=function(){return this.getEdges().length},t.prototype.hasEdge=function(e){var n=this.getEdges().find(function(r){return r===e});return!!n},t.prototype.hasNeighbor=function(e){var n=this.getEdges().find(function(r){return r.startVertex===e||r.endVertex===e});return!!n},t.prototype.findEdge=function(e){var n=function(i){return i.startVertex===e||i.endVertex===e},r=this.getEdges().find(n);return r||null},t.prototype.getKey=function(){return this.value},t.prototype.deleteAllEdges=function(){var e=this;return this.getEdges().forEach(function(n){return e.deleteEdge(n)}),this},t.prototype.toString=function(e){return e?e(this.value):""+this.value},t}();/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Hd(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(u){return function(l){return c([u,l])}}function c(u){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){n.label=u[1];break}if(u[0]===6&&n.label<s[1]){n.label=s[1],s=u;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(u);break}s[2]&&n.ops.pop(),n.trys.pop();continue}u=e.call(t,n)}catch(l){u=[6,l],i=0}finally{r=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function Tp(t,e,n,r){if(t){e.push(t),r.set(t.getKey(),!0);var i=t.getNeighbors().filter(function(s){return!r.get(s.getKey())});n.push(i)}}function Ap(t,e,n){var r=t.pop();r&&n.set(r.getKey(),!1),e.pop()}var ww=function(){function t(e){e===void 0&&(e=!1),this.vertices={},this.edges={},this.isDirected=e}return t.prototype.addVertex=function(e){return this.vertices[e.getKey()]=e,this},t.prototype.getVertexByKey=function(e){return this.vertices[e]},t.prototype.getNeighbors=function(e){return e.getNeighbors()},t.prototype.getAllVertices=function(){return Object.values(this.vertices)},t.prototype.getAllEdges=function(){return Object.values(this.edges)},t.prototype.addEdge=function(e,n){if(n===void 0&&(n=!1),this.edges[e.getKey()]){if(n)return this;Pf(!1,"Edge has already been added before")}var r=this.getVertexByKey(e.startVertex.getKey()),i=this.getVertexByKey(e.endVertex.getKey());if(r||(this.addVertex(e.startVertex),r=this.getVertexByKey(e.startVertex.getKey())),i||(this.addVertex(e.endVertex),i=this.getVertexByKey(e.endVertex.getKey())),this.edges[e.getKey()]=e,this.isDirected)r.addEdge(e);else{r.addEdge(e);var s=e.clone();i.addEdge(s.reverse())}return this},t.prototype.deleteEdge=function(e,n){if(n===void 0&&(n=!1),!this.edges[e.getKey()]){if(n)return this;Pf(!1,"Edge not found in graph")}delete this.edges[e.getKey()];var r=this.getVertexByKey(e.startVertex.getKey()),i=this.getVertexByKey(e.endVertex.getKey());return r.deleteEdge(e),i.deleteEdge(e),this},t.prototype.findEdge=function(e,n){var r=this.getVertexByKey(e.getKey());return r?r.findEdge(n):null},t.prototype.getWeight=function(){return this.getAllEdges().reduce(function(e,n){return e+n.weight},0)},t.prototype.reverse=function(){var e=this;return this.getAllEdges().forEach(function(n){e.deleteEdge(n),n.reverse(),e.addEdge(n)}),this},t.prototype.getVerticesIndices=function(){var e={};return this.getAllVertices().forEach(function(n,r){e[n.getKey()]=r}),e},t.prototype.getAdjacencyMatrix=function(){var e=this,n=this.getAllVertices(),r=this.getVerticesIndices(),i=Array(n.length).fill(null).map(function(){return Array(n.length).fill(1/0)});return n.forEach(function(s,o){s.getNeighbors().forEach(function(a){var c=r[a.getKey()],u=e.findEdge(s,a);u&&(i[o][c]=u.weight)})}),i},t.prototype.toString=function(){return Object.keys(this.vertices).toString()},t.prototype.bfs=function(e){var n,r,i;return Hd(this,function(s){switch(s.label){case 0:n=new Map,r=new iA,r.enqueue(e),s.label=1;case 1:return r.isEmpty()?[3,4]:(i=r.dequeue(),i&&!n.has(i.getKey())?[4,i]:[3,3]);case 2:s.sent(),n.set(i.getKey(),i),i.getNeighbors().forEach(function(o){return r.enqueue(o)}),s.label=3;case 3:return[3,1];case 4:return[2]}})},t.prototype.dfs=function(e){var n,r,i;return Hd(this,function(s){switch(s.label){case 0:n=new Map,r=new Ld,r.push(e),s.label=1;case 1:return r.isEmpty()?[3,4]:(i=r.pop(),i&&!n.has(i.getKey())?[4,i]:[3,3]);case 2:s.sent(),n.set(i.getKey(),i),i.getNeighbors().forEach(function(o){return r.push(o)}),s.label=3;case 3:return[3,1];case 4:return[2]}})},t.prototype.findAllPath=function(e,n){var r,i,s,o,a,c,u;return Hd(this,function(l){switch(l.label){case 0:return r=[],e!==n?[3,2]:(r.push(e),[4,r]);case 1:return l.sent(),[2];case 2:i=new Map,s=new Ld,o=new Ld,Tp(e,s,o,i),l.label=3;case 3:if(s.isEmpty())return[3,6];if(a=o.pop(),a&&a.length)c=a.shift(),o.push(a),c&&Tp(c,s,o,i);else return o.push(a),Ap(s,o,i),[3,3];u=s.peek;debugger;return u!==n?[3,5]:[4,s.toArray()];case 4:l.sent(),Ap(s,o,i),l.label=5;case 5:return[3,3];case 6:return[2]}})},t}();je.config({precision:64,rounding:je.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var or=je,Ln=class extends Error{constructor(e,n){super(e),this.message=e,this.errorCode=n}static isClmmpoolsErrorCode(e,n){return e instanceof Ln&&e.errorCode===n}},Ne=new I(0),ns=new I(1),td=new I(2);td.pow(new I(128));var Va=td.pow(new I(64)).sub(ns),cA=td.pow(new I(128)).sub(ns),ot=class{static toX64_BN(e){return e.mul(new I(2).pow(new I(64)))}static toX64_Decimal(e){return e.mul(or.pow(2,64))}static toX64(e){return new I(e.mul(or.pow(2,64)).floor().toFixed())}static fromX64(e){return new or(e.toString()).mul(or.pow(2,-64))}static fromX64_Decimal(e){return e.mul(or.pow(2,-64))}static fromX64_BN(e){return e.div(new I(2).pow(new I(64)))}static shiftRightRoundUp(e){let n=e.shrn(64);return e.mod(Va).gt(Ne)&&(n=n.add(ns)),n}static divRoundUp(e,n){return e.mod(n).eq(Ne)?e.div(n):e.div(n).add(new I(1))}static subUnderflowU128(e,n){return e.lt(n)?e.sub(n).add(cA):e.sub(n)}static checkUnsignedSub(e,n){const r=e.sub(n);if(r.isNeg())throw new Ln("Unsigned integer sub overflow","UnsignedIntegerOverflow");return r}static checkMul(e,n,r){const i=e.mul(n);if(this.isOverflow(i,r))throw new Ln("Multiplication overflow","MultiplicationOverflow");return i}static checkMulDivFloor(e,n,r,i){if(r.eq(Ne))throw new Ln("Devide by zero","DivideByZero");const s=e.mul(n).div(r);if(this.isOverflow(s,i))throw new Ln("Multiplication div overflow","MulDivOverflow");return s}static checkMulDivCeil(e,n,r,i){if(r.eq(Ne))throw new Ln("Devide by zero","DivideByZero");const s=e.mul(n).add(r.sub(ns)).div(r);if(this.isOverflow(s,i))throw new Ln("Multiplication div overflow","MulDivOverflow");return s}static checkMulDivRound(e,n,r,i){if(r.eq(Ne))throw new Ln("Devide by zero","DivideByZero");const s=e.mul(n.add(r.shrn(1))).div(r);if(this.isOverflow(s,i))throw new Ln("Multiplication div overflow","MulDivOverflow");return s}static checkMulShiftRight(e,n,r,i){const s=e.mul(n).div(new I(2).pow(new I(r)));if(this.isOverflow(s,i))throw new Ln("Multiplication shift right overflow","MulShiftRightOverflow");return s}static checkMulShiftRight64RoundUpIf(e,n,r,i){const s=e.mul(n),a=i&&s.and(Va).gt(Ne)?s.shrn(64).add(ns):s.shrn(64);if(this.isOverflow(a,r))throw new Ln("Multiplication shift right overflow","MulShiftRightOverflow");return a}static checkMulShiftLeft(e,n,r,i){const s=e.mul(n).shln(r);if(this.isOverflow(s,i))throw new Ln("Multiplication shift left overflow","MulShiftLeftOverflow");return s}static checkDivRoundUpIf(e,n,r){if(n.eq(Ne))throw new Ln("Devide by zero","DivideByZero");return r?this.divRoundUp(e,n):e.div(n)}static isOverflow(e,n){return e.gte(td.pow(new I(n)))}};function Uf(t){return{coinA:t.coinTypeA,coinB:t.coinTypeB,currentSqrtPrice:new I(t.current_sqrt_price),currentTickIndex:t.current_tick_index,feeGrowthGlobalA:new I(t.fee_growth_global_a),feeGrowthGlobalB:new I(t.fee_growth_global_b),feeProtocolCoinA:new I(t.fee_protocol_coin_a),feeProtocolCoinB:new I(t.fee_protocol_coin_b),feeRate:t.fee_rate,liquidity:new I(t.liquidity),tickIndexes:[],tickSpacing:Number(t.tickSpacing),ticks:[],collection_name:t.collectionName}}function uA(t){const e=new I(t);return e.lt(Ne)?{bits:e.neg().xor(new I(2).pow(new I(64)).sub(new I(1))).add(new I(1)).toString()}:{bits:e.toString()}}var _w="0x1::coin::CoinInfo",bw="0x1::coin::CoinStore",Ep="0x3::token::TokenStore",lA="0x3::token::WithdrawEvent",dA="PoolLiquidityCoin",ws="clmm_router",vw="factory",xw="Pools",fA="pool",hA="Pool",pA="crowdsale",gA="CrowdsalePool",yA="fairlaunch",mA="FairlaunchPool",si="cetus_script",Sw="cscoin",Tw="liquidity",Of="scripts";function wA(t){return t.startsWith("0x")?`${t.slice(2)}`:t}function di(t){let e="";const n=wA(t),r=n.length/2;for(let i=0;i<r;i++)e+=String.fromCharCode(parseInt(n.substr(i*2,2),16));return _A(e)}function _A(t){let e,n,r,i,s,o;for(e="",r=t.length,n=0;n<r;)switch(i=t.charCodeAt(n++),i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(n-1);break;case 12:case 13:s=t.charCodeAt(n++),e+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=t.charCodeAt(n++),o=t.charCodeAt(n++),e+=String.fromCharCode((i&15)<<12|(s&63)<<6|(o&63)<<0);break}return e}var bA=/^0x1::coin::CoinStore<(.+)>$/;function dt(t,...e){const n=Array.isArray(e[e.length-1])?e.pop():[];let i=[t,...e].filter(Boolean).join("::");return n&&n.length&&(i+=`<${n.join(", ")}>`),i}function kp(t){return dt(ft.fromUint8Array(t.value.address.address).hex(),t.value.module_name.value,t.value.name.value,[])}function vA(t){const e=t.value.type_args[0],n=t.value.type_args[1],r=kp(e),i=kp(n),s=dt(ft.fromUint8Array(t.value.address.address).hex(),t.value.module_name.value,t.value.name.value,[r,i]);return{coinA:r,coinB:i,lpAddress:s}}function V0(t){var e;let n=t.replace(/\s/g,"");const r=n.match(/(<.+>)$/),i=(e=r==null?void 0:r[0])==null?void 0:e.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(i)return n=n.slice(0,n.indexOf("<")),{...V0(n),type_arguments:[...i]};const s=n.split("::");return{full_address:n,address:s[0],module:s[1],name:s[2],type_arguments:[]}}function Bp(t){const e=t.match(bA);return e?e[1]:""}function xA(t){return`${bw}<${t}>`}function SA(t){return`${_w}<${t}>`}var nd=class{constructor(e,n=0){this.overdueTime=n,this.value=e}getCacheData(){return this.value===null?null:this.overdueTime===0?this.value:Date.parse(new Date().toString())>this.overdueTime?(this.value=null,null):this.value}},Rp=443636,Ip=-443636,rd="79226673515401279992447579055",id="4295048016",co=new I(1e6),Pu=class{static getDefaultSqrtPriceLimit(e){return new I(e?id:rd)}static getDefaultOtherAmountThreshold(e){return e?Ne:Va}},Uu=class{constructor(t,e){this.toString=()=>`${this.numerator.toString()}/${this.denominator.toString()}`,this.numerator=t,this.denominator=e}static fromDecimal(t){return Uu.fromFraction(t.toDecimalPlaces(1).mul(10).toNumber(),1e3)}static fromFraction(t,e){const n=typeof t=="number"?new I(t.toString()):t,r=typeof e=="number"?new I(e.toString()):e;return new Uu(n,r)}},TA=14,AA="59543866431248",EA="184467440737095516",kA="15793534762490258745";function BA(t,e,n){const r=t.toTwos(n).shln(e);return r.imaskn(n+1),r.fromTwos(n)}function Rt(t,e,n){const r=t.toTwos(n).shrn(e);return r.imaskn(n-e+1),r.fromTwos(n-e)}function RA(t){let e;return t&1?e=new I("79232123823359799118286999567"):e=new I("79228162514264337593543950336"),t&2&&(e=Rt(e.mul(new I("79236085330515764027303304731")),96,256)),t&4&&(e=Rt(e.mul(new I("79244008939048815603706035061")),96,256)),t&8&&(e=Rt(e.mul(new I("79259858533276714757314932305")),96,256)),t&16&&(e=Rt(e.mul(new I("79291567232598584799939703904")),96,256)),t&32&&(e=Rt(e.mul(new I("79355022692464371645785046466")),96,256)),t&64&&(e=Rt(e.mul(new I("79482085999252804386437311141")),96,256)),t&128&&(e=Rt(e.mul(new I("79736823300114093921829183326")),96,256)),t&256&&(e=Rt(e.mul(new I("80248749790819932309965073892")),96,256)),t&512&&(e=Rt(e.mul(new I("81282483887344747381513967011")),96,256)),t&1024&&(e=Rt(e.mul(new I("83390072131320151908154831281")),96,256)),t&2048&&(e=Rt(e.mul(new I("87770609709833776024991924138")),96,256)),t&4096&&(e=Rt(e.mul(new I("97234110755111693312479820773")),96,256)),t&8192&&(e=Rt(e.mul(new I("119332217159966728226237229890")),96,256)),t&16384&&(e=Rt(e.mul(new I("179736315981702064433883588727")),96,256)),t&32768&&(e=Rt(e.mul(new I("407748233172238350107850275304")),96,256)),t&65536&&(e=Rt(e.mul(new I("2098478828474011932436660412517")),96,256)),t&131072&&(e=Rt(e.mul(new I("55581415166113811149459800483533")),96,256)),t&262144&&(e=Rt(e.mul(new I("38992368544603139932233054999993551")),96,256)),Rt(e,32,256)}function IA(t){const e=Math.abs(t);let n;return e&1?n=new I("18445821805675392311"):n=new I("18446744073709551616"),e&2&&(n=Rt(n.mul(new I("18444899583751176498")),64,256)),e&4&&(n=Rt(n.mul(new I("18443055278223354162")),64,256)),e&8&&(n=Rt(n.mul(new I("18439367220385604838")),64,256)),e&16&&(n=Rt(n.mul(new I("18431993317065449817")),64,256)),e&32&&(n=Rt(n.mul(new I("18417254355718160513")),64,256)),e&64&&(n=Rt(n.mul(new I("18387811781193591352")),64,256)),e&128&&(n=Rt(n.mul(new I("18329067761203520168")),64,256)),e&256&&(n=Rt(n.mul(new I("18212142134806087854")),64,256)),e&512&&(n=Rt(n.mul(new I("17980523815641551639")),64,256)),e&1024&&(n=Rt(n.mul(new I("17526086738831147013")),64,256)),e&2048&&(n=Rt(n.mul(new I("16651378430235024244")),64,256)),e&4096&&(n=Rt(n.mul(new I("15030750278693429944")),64,256)),e&8192&&(n=Rt(n.mul(new I("12247334978882834399")),64,256)),e&16384&&(n=Rt(n.mul(new I("8131365268884726200")),64,256)),e&32768&&(n=Rt(n.mul(new I("3584323654723342297")),64,256)),e&65536&&(n=Rt(n.mul(new I("696457651847595233")),64,256)),e&131072&&(n=Rt(n.mul(new I("26294789957452057")),64,256)),e&262144&&(n=Rt(n.mul(new I("37481735321082")),64,256)),n}var $t=class{static priceToSqrtPriceX64(e,n,r){return ot.toX64(e.mul(or.pow(10,r-n)).sqrt())}static sqrtPriceX64ToPrice(e,n,r){return ot.fromX64(e).pow(2).mul(or.pow(10,n-r))}static tickIndexToSqrtPriceX64(e){return e>0?new I(RA(e)):new I(IA(e))}static sqrtPriceX64ToTickIndex(e){if(e.gt(new I(rd))||e.lt(new I(id)))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");const n=e.bitLength()-1,r=new I(n-64),i=BA(r,32,128);let s=new I("8000000000000000","hex"),o=0,a=new I(0),c=n>=64?e.shrn(n-63):e.shln(63-n);for(;s.gt(new I(0))&&o<TA;){c=c.mul(c);const T=c.shrn(127);c=c.shrn(63+T.toNumber()),a=a.add(s.mul(T)),s=s.shrn(1),o+=1}const u=a.shrn(32),d=i.add(u).mul(new I(AA)),h=Rt(d.sub(new I(EA)),64,128).toNumber(),y=Rt(d.add(new I(kA)),64,128).toNumber();return h===y?h:$t.tickIndexToSqrtPriceX64(y).lte(e)?y:h}static tickIndexToPrice(e,n,r){return $t.sqrtPriceX64ToPrice($t.tickIndexToSqrtPriceX64(e),n,r)}static priceToTickIndex(e,n,r){return $t.sqrtPriceX64ToTickIndex($t.priceToSqrtPriceX64(e,n,r))}static priceToInitializableTickIndex(e,n,r,i){return $t.getInitializableTickIndex($t.priceToTickIndex(e,n,r),i)}static getInitializableTickIndex(e,n){return e-e%n}static getNextInitializableTickIndex(e,n){return $t.getInitializableTickIndex(e,n)+n}static getPrevInitializableTickIndex(e,n){return $t.getInitializableTickIndex(e,n)-n}};function Aw(t){const e=[];for(const n of t){const r={index:Number(BigInt.asIntN(64,BigInt(n.index.bits)).toString()),sqrtPrice:new I(n.sqrt_price),liquidityNet:new I(BigInt.asIntN(64,BigInt(n.liquidity_net.bits)).toString()),liquidityGross:new I(n.liquidity_gross),feeGrowthOutsideA:new I(n.fee_growth_outside_a),feeGrowthOutsideB:new I(n.fee_growth_outside_b),rewardersGrowthOutside:[new I(n.rewarders_growth_outside[0]),new I(n.rewarders_growth_outside[1]),new I(n.rewarders_growth_outside[2])]};e.push(r)}return e}function PA(t,e,n,r){const i=t.gt(e)?t.sub(e):e.sub(t),s=n.mul(i).shln(64),o=t.mul(e),a=s.div(o),c=s.mod(o);return r&&!c.eq(Ne)?a.add(new I(1)):a}function Ew(t,e,n,r){if(n.eq(Ne))return t;const i=ot.checkMulShiftLeft(t,e,64,256),s=e.shln(64),o=ot.checkMul(t,n,256);if(!r&&s.lte(o))throw new Ln("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product","DivideByZero");const a=r?ot.checkDivRoundUpIf(i,s.add(o),!0):ot.checkDivRoundUpIf(i,s.sub(o),!0);if(a.lt(new I(id)))throw new Ln("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price","CoinAmountMinSubceeded ");if(a.gt(new I(rd)))throw new Ln("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price","CoinAmountMaxExceeded");return a}function kw(t,e,n,r){const i=ot.checkDivRoundUpIf(n.shln(64),e,!r),s=r?t.add(i):t.sub(i);if(s.lt(new I(id))||s.gt(new I(rd)))throw new Ln("getNextSqrtPriceAUp - Next sqrt price out of bounds","SqrtPriceOutOfBounds");return s}function UA(t,e,n,r){return r?Ew(t,e,n,!0):kw(t,e,n,!0)}function OA(t,e,n,r){return r?kw(t,e,n,!1):Ew(t,e,n,!1)}function Pp(t,e,n,r){const i=t.gt(e)?t.sub(e):e.sub(t);if(n.eq(Ne)||i.eq(Ne))return Ne;let s;if(r){const o=n.mul(i).shln(64),a=e.mul(t),c=o.div(a);s=o.mod(a).eq(Ne)?c:c.add(ns)}else{const o=n.mul(i);s=o.and(Va).gt(Ne)?o.shrn(64).add(ns):o.shrn(64)}return s}function Up(t,e,n,r){const i=t.gt(e)?t.sub(e):e.sub(t);if(n.eq(Ne)||i.eq(Ne))return Ne;let s;if(r){const o=n.mul(i);s=o.and(Va).gt(Ne)?o.shrn(64).add(ns):o.shrn(64)}else{const o=n.mul(i).shln(64),a=e.mul(t);s=o.div(a)}return s}function Bw(t,e,n,r,i,s){if(n===Ne)return{amountIn:Ne,amountOut:Ne,nextSqrtPrice:e,feeAmount:Ne};const o=t.gte(e);let a,c,u,l;if(s){const d=ot.checkMulDivFloor(r,ot.checkUnsignedSub(co,i),co,64),h=Pp(t,e,n,o);h.gt(d)?(a=d,l=ot.checkUnsignedSub(r,d),u=UA(t,n,d,o)):(a=h,l=ot.checkMulDivCeil(a,i,co.sub(i),64),u=e),c=Up(t,u,n,o)}else{const d=Up(t,e,n,o);d.gt(r)?(c=r,u=OA(t,n,r,o)):(c=d,u=e),a=Pp(t,u,n,o),l=ot.checkMulDivCeil(a,i,co.sub(i),64)}return{amountIn:a,amountOut:c,nextSqrtPrice:u,feeAmount:l}}function CA(t,e,n,r,i){let s=n,o=r.liquidity,{currentSqrtPrice:a}=r;const c={amountIn:Ne,amountOut:Ne,feeAmount:Ne,refAmount:Ne,nextSqrtPrice:Ne,crossTickNum:0};let u,l;const d=Pu.getDefaultSqrtPriceLimit(t);for(const h of i){if(t){if(r.currentTickIndex<h.index)continue}else if(r.currentTickIndex>h.index)continue;if(h===null)continue;t&&d.gt(h.sqrtPrice)||!t&&d.lt(h.sqrtPrice)?u=d:u=h.sqrtPrice;const y=Bw(a,u,o,s,new I(r.feeRate),e);if(y.amountIn.eq(Ne)||(s=e?s.sub(y.amountIn.add(y.feeAmount)):s.sub(y.amountOut)),c.amountIn=c.amountIn.add(y.amountIn),c.amountOut=c.amountOut.add(y.amountOut),c.feeAmount=c.feeAmount.add(y.feeAmount),y.nextSqrtPrice.eq(h.sqrtPrice)?(l=t?h.liquidityNet.mul(new I(-1)):h.liquidityNet,o=l.gt(Ne)?o.add(l):o.sub(l.abs()),a=h.sqrtPrice):a=y.nextSqrtPrice,c.crossTickNum+=1,s.eq(Ne))break}return c.amountIn=c.amountIn.add(c.feeAmount),c.nextSqrtPrice=a,c}function uo(t,e,n){const r=I.min(t,e),i=I.max(t,e),s=ot.fromX64_BN(n.mul(i).mul(r)),o=i.sub(r);return s.div(o)}function lo(t,e,n){const r=I.min(t,e),s=I.max(t,e).sub(r);return n.shln(64).div(s)}var gs=class{constructor(){}static getFeeRate(e){return Uu.fromFraction(e,1e6)}static updateFeeRate(e,n,r,i,s){const o=ot.checkMulDivCeil(n,new I(i),co,64),a=r===0?Ne:ot.checkMulDivFloor(n,new I(r),co,64),c=n.mul(o).mul(a);if(s?e.feeProtocolCoinA=e.feeProtocolCoinA.add(o):e.feeProtocolCoinB=e.feeProtocolCoinB.add(o),c.eq(Ne)||e.liquidity.eq(Ne))return{refFee:a,clmm:e};const u=c.shln(64).div(e.liquidity);return s?e.feeGrowthGlobalA=e.feeGrowthGlobalA.add(u):e.feeGrowthGlobalB=e.feeGrowthGlobalB.add(u),{refFee:a,clmm:e}}static getProtocolFeeRate(e){return Uu.fromFraction(e,1e4)}static getCoinAmountFromLiquidity(e,n,r,i,s){const o=new or(e.toString()),a=new or(n.toString()),c=new or(r.toString()),u=new or(i.toString());let l,d;return n.lt(r)?(l=ot.toX64_Decimal(o).mul(u.sub(c)).div(c.mul(u)),d=new or(0)):n.lt(i)?(l=ot.toX64_Decimal(o).mul(u.sub(a)).div(a.mul(u)),d=ot.fromX64_Decimal(o.mul(a.sub(c)))):(l=new or(0),d=ot.fromX64_Decimal(o.mul(u.sub(c)))),s?{coinA:new I(l.ceil().toString()),coinB:new I(d.ceil().toString())}:{coinA:new I(l.floor().toString()),coinB:new I(d.floor().toString())}}static estimateLiquidityFromcoinAmounts(e,n,r,i){if(n>r)throw new Error("lower tick cannot be greater than lower tick");const s=$t.sqrtPriceX64ToTickIndex(e),o=$t.tickIndexToSqrtPriceX64(n),a=$t.tickIndexToSqrtPriceX64(r);if(s<n)return uo(o,a,i.coinA);if(s>=r)return lo(a,o,i.coinB);const c=uo(e,a,i.coinA),u=lo(e,o,i.coinB);return I.min(c,u)}static estLiquidityAndcoinAmountFromOneAmounts(e,n,r,i,s,o,a){const c=$t.sqrtPriceX64ToTickIndex(a),u=$t.tickIndexToSqrtPriceX64(e),l=$t.tickIndexToSqrtPriceX64(n);let d;if(c<=e){if(!i)throw new Error("lower tick cannot calculate liquidity by coinB");d=uo(u,l,r)}else if(c>=n){if(i)throw new Error("upper tick cannot calculate liquidity by coinA");d=lo(l,u,r)}else i?d=uo(a,l,r):d=lo(a,u,r);const h=gs.getCoinAmountFromLiquidity(d,a,u,l,s),y=h.coinA.mul(new I(1+o)),b=h.coinB.mul(new I(1+o));return{tokenMaxA:y,tokenMaxB:b,liquidityAmount:d}}},$A=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async fetchAccountResource(e,n,r=0){let i=this._cache[e+n];if(i!=null&&i.getCacheData())return i.value;const s=await this.sdk.Resources.fetchAccountResource(e,n);return i=new nd(s,r),this._cache[e+n]=i,s}calculateRates(e){const{currentPool:n}=e,r=Uf(n);let i;e.a2b?i=e.swapTicks.sort((h,y)=>y.index-h.index):i=e.swapTicks.sort((h,y)=>h.index-y.index);const s=CA(e.a2b,e.byAmountIn,e.amount,r,i);let o=!1;e.byAmountIn?o=s.amountIn.lt(e.amount):o=s.amountOut.lt(e.amount);const a=Pu.getDefaultSqrtPriceLimit(e.a2b);e.a2b&&s.nextSqrtPrice.lt(a)&&(o=!0),!e.a2b&&s.nextSqrtPrice.gt(a)&&(o=!0);let c=0;s.crossTickNum>6&&s.crossTickNum<40&&(c=22e3*(s.crossTickNum-6)),s.crossTickNum>40&&(o=!0);const u=$t.sqrtPriceX64ToPrice(r.currentSqrtPrice,e.decimalsA,e.decimalsB).toNumber(),l=$t.sqrtPriceX64ToPrice(s.nextSqrtPrice,e.decimalsA,e.decimalsB).toNumber(),d=Math.abs(u-l)/u*100;return{estimatedAmountIn:s.amountIn,estimatedAmountOut:s.amountOut,estimatedEndSqrtPrice:s.nextSqrtPrice,estimatedFeeAmount:s.feeAmount,isExceed:o,extraComputeLimit:c,amount:e.amount,aToB:e.a2b,byAmountIn:e.byAmountIn,priceImpactPct:d}}transformSwapData(e){const{modules:n}=this._sdk.sdkOptions.networkOptions,r=e.filter(o=>o.type!=="write_resource"?!1:o.data.type===`${n.ClmmIntegrate}::calculator::CalculatedSwapResult`);return r.length===0?[]:r[0].data.data.data||[]}async preswap(e){const{modules:n,simulationAccount:r}=this.sdk.sdkOptions.networkOptions,i=new Qt(this.sdk.sdkOptions.rpcUrl),s=`${n.ClmmIntegrate}::scripts`,o="calculate_swap_result",a=[new j.TypeTagStruct(j.StructTag.fromString(e.pool.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.pool.coinTypeB))],c=[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool.poolAddress)),ce.bcsSerializeBool(e.a2b),ce.bcsSerializeBool(e.by_amount_in),ce.bcsSerializeUint64(BigInt(e.amount))],u=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,a,c)),l=Tu(r.address),d=await i.generateRawTransaction(l,u),h=Tu(r.pubkey),y=new j.Ed25519PublicKey(h.toUint8Array()),b=await i.simulateTransaction(y,d),T=this.transformSwapData(b[0].changes),k=$t.sqrtPriceX64ToPrice(new I(e.pool.current_sqrt_price),e.decimalsA,e.decimalsB).toNumber(),O=$t.sqrtPriceX64ToPrice(new I(T.after_sqrt_price),e.decimalsA,e.decimalsB).toNumber(),B=Math.abs(k-O)/k*100;return{estimatedAmountIn:T.amount_in&&T.fee_amount?new I(T.amount_in).add(new I(T.fee_amount)).toString():"",estimatedAmountOut:T.amount_out,estimatedEndSqrtPrice:T.after_sqrt_price,estimatedFeeAmount:T.fee_amount,isExceed:T.is_exceed,amount:e.amount,aToB:e.a2b,byAmountIn:e.by_amount_in,priceImpactPct:B}}createSwapTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${ws}`,s="swap",o=Pu.getDefaultSqrtPriceLimit(e.a_to_b);if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB))],l=[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool_addr)),ce.bcsSerializeBool(e.a_to_b),ce.bcsSerializeBool(e.by_amount_in),ce.bcsSerializeUint64(BigInt(e.amount)),ce.bcsSerializeUint64(BigInt(e.amount_limit)),ce.bcsSerializeU128(BigInt(o.toString())),ce.bcsSerializeStr(e.partner)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const a=[e.pool_addr,e.a_to_b,e.by_amount_in,e.amount,e.amount_limit,o.toString(),e.partner],c=[e.coinTypeA,e.coinTypeB];return{type:"entry_function_payload",function:dt(i,s),type_arguments:c,arguments:a}}},MA=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}createAddLiquidityTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=!("delta_liquidity"in e),s=`${r.LiquidswapDeployer}::${ws}`,o=i?"add_liquidity_fix_token":"add_liquidity";if(n){const d=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB))],h=i?[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool)),ce.bcsSerializeUint64(Number(e.amount_a)),ce.bcsSerializeUint64(Number(e.amount_b)),ce.bcsSerializeBool(e.fix_amount_a),ce.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_lower))),ce.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_upper))),ce.bcsSerializeBool(e.is_open),ce.bcsSerializeUint64(e.index)]:[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool)),ce.bcsSerializeU128(e.delta_liquidity.toNumber()),ce.bcsSerializeUint64(Number(e.max_amount_a)),ce.bcsSerializeUint64(Number(e.max_amount_b)),ce.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_lower))),ce.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_upper))),ce.bcsSerializeBool(e.is_open),ce.bcsSerializeUint64(e.index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,d,h))}const a=BigInt.asUintN(64,BigInt(e.tick_lower)).toString(),c=BigInt.asUintN(64,BigInt(e.tick_upper)).toString(),u=i?[e.pool,e.amount_a,e.amount_b,e.fix_amount_a,a,c,e.is_open,e.index]:[e.pool,e.delta_liquidity.toString(),String(e.max_amount_a),String(e.max_amount_b),a,c,e.is_open,e.index],l=[e.coinTypeA,e.coinTypeB];return{type:"entry_function_payload",function:dt(s,o),type_arguments:l,arguments:u}}removeLiquidityTransactionPayload(e,n=!1){gu(e.delta_liquidity.gtn(0),"ZERO_LIQUIDITY");const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${ws}`,s=`${r.ClmmIntegrate}::${Tw}`,o=["remove_liquidity","remove_all_liquidity","remove_all_liquidity_for_two","remove_all_liquidity_for_three"];let a,c,u=[];if(e.rewards_num===0){if(n){const l=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB))],d=[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool)),ce.bcsSerializeU128(e.delta_liquidity.toNumber()),ce.bcsSerializeUint64(e.min_amount_a),ce.bcsSerializeUint64(e.min_amount_b),ce.bcsSerializeUint64(e.pos_index),ce.bcsSerializeBool(e.is_close)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,o[0],l,d))}a=dt(i,o[0]),c=[e.coinTypeA,e.coinTypeB],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}else if(e.rewards_num===1){if(n){const l=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeC))],d=[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool)),ce.bcsSerializeU128(e.delta_liquidity.toNumber()),ce.bcsSerializeUint64(e.min_amount_a),ce.bcsSerializeUint64(e.min_amount_b),ce.bcsSerializeUint64(e.pos_index),ce.bcsSerializeBool(e.is_close)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o[1],l,d))}a=dt(s,o[1]),c=[e.coinTypeA,e.coinTypeB,e.coinTypeC],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}else if(e.rewards_num===2){if(n){const l=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeC)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeD))],d=[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool)),ce.bcsSerializeU128(e.delta_liquidity.toNumber()),ce.bcsSerializeUint64(e.min_amount_a),ce.bcsSerializeUint64(e.min_amount_b),ce.bcsSerializeUint64(e.pos_index),ce.bcsSerializeBool(e.is_close)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o[2],l,d))}a=dt(s,o[2]),c=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}else{if(n){const l=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeC)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeD)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeE))],d=[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool)),ce.bcsSerializeU128(e.delta_liquidity.toNumber()),ce.bcsSerializeUint64(e.min_amount_a),ce.bcsSerializeUint64(e.min_amount_b),ce.bcsSerializeUint64(e.pos_index),ce.bcsSerializeBool(e.is_close)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o[3],l,d))}a=dt(s,o[3]),c=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD,e.coinTypeE],u=[e.pool,e.delta_liquidity.toNumber(),e.min_amount_a,e.min_amount_b,e.pos_index,e.is_close]}return{type:"entry_function_payload",function:a,type_arguments:c,arguments:u}}closePositionTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${ws}`,s="close_position";if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB))],l=[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool_address)),ce.bcsSerializeUint64(e.pos_index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const o=dt(i,s),a=[e.coinTypeA,e.coinTypeB],c=[e.pool_address,e.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}collectFeeTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${ws}`,s="collect_fee";if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB))],l=[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool)),ce.bcsSerializeUint64(e.pos_index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const o=dt(i,s),a=[e.coinTypeA,e.coinTypeB],c=[e.pool,e.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}};function ht(t){return or.isDecimal(t)?t:new or(t===void 0?0:t)}function Rw(t){return ht(10).pow(ht(t).abs())}function qA(t){return t!=null&&t!==""&&!isNaN(Number(t.toString()))}function Op(t){return t.isAxiosError,t}function NA(t){let e="";const r=new Yl(t).parseTypeTag().value.type_args;if(r.length>0){const i=r[0];i.value.name.value===dA||i.value.name.value===Sw?e=vA(i).lpAddress:e=dt(ft.fromUint8Array(i.value.address.address).toShortString(),i.value.module_name.value,i.value.name.value,[])}return e}var DA=5*60*1e3,oi=24*60*60*1e3;function Cp(t){return Date.parse(new Date().toString())+t}var LA=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getPoolImmutablesResource(e=!1){const n=this._sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer,r=`${n}_getMmutablesPools`,i=this.getCacheData(r);let s;if(!e&&i!=null)s=i;else{const a=dt(n,vw,xw),c=await this.fetchAccountResource(n,a);s=JSON.parse(JSON.stringify(c==null?void 0:c.data.data)),this.updateCache(r,s,oi)}return s.data}buildPoolImmutables(e,n,r){const i=r.key,s=dt(i.coin_type_a.account_address,di(i.coin_type_a.module_name),di(i.coin_type_a.struct_name)),o=dt(i.coin_type_b.account_address,di(i.coin_type_b.module_name),di(i.coin_type_b.struct_name)),a=dt(dt(n,fA,hA),[s,o]);return{coinTypeA:s,coinTypeB:o,poolType:a,poolAddress:e,tickSpacing:i.tick_spacing}}async getPoolImmutables(e=[],n=0,r=100,i=!0){const s=this._sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer,o=[],a=await this.getPoolImmutablesResource(i),c=e.length>0;for(let u=0;u<a.length;u+=1){const l=a[u],d=l.value;if(!(c&&!e.includes(d))){if(!c){const h=Number(u);if(h<n||h>=n+r)continue}o.push(this.buildPoolImmutables(d,s,l))}}return o}async getPools(e=[],n=0,r=100){const i=[],s=(await this.sdk.getGlobalConfig()).is_pause,o=await this.getPoolImmutables(e,n,r,!1);for(let a=0;a<o.length;a+=1){const c=o[a],u=await this.getPoolState(c.poolAddress,c.poolType,s),l={...c,...u};i.push(l);const d=`${c.poolAddress}_pool`;this.updateCache(d,l,oi)}return i}async getPool(e,n=!0){const r=`${e}_pool`,i=this.getCacheData(r);let s;if(i!==null&&!n&&(s=i),s==null)return(await this.getPools([e]))[0];const o=(await this.sdk.getGlobalConfig(!0)).is_pause,a=await this.getPoolState(e,s.poolType,o),c={...s,...a};return this.updateCache(r,c,oi),c}async getPoolState(e,n,r,i=!0){const s=`${e}_${n}getPool`;if(!i){const d=this.getCacheData(s);if(d!==null)return d}const o=await this.fetchAccountResource(e,n),a=JSON.parse(JSON.stringify(o==null?void 0:o.data)),c=a.rewarder_infos,u=[];c.forEach(d=>{const h=dt(d.coin_type.account_address,di(d.coin_type.module_name),di(d.coin_type.struct_name)),y=ot.fromX64(new I(d.emissions_per_second)),b=Math.floor(y.toNumber()*60*60*24);u.push({...d,coinAddress:h,emissionsEveryDay:b})});const l={coinAmountA:a.coin_a.value,coinAmountB:a.coin_b.value,current_sqrt_price:a.current_sqrt_price,current_tick_index:Number(BigInt.asIntN(64,BigInt(a.current_tick_index.bits)).toString()),fee_growth_global_a:a.fee_growth_global_a,fee_growth_global_b:a.fee_growth_global_b,fee_protocol_coin_a:a.fee_protocol_coin_a,fee_protocol_coin_b:a.fee_protocol_coin_b,fee_rate:a.fee_rate,liquidity:a.liquidity,index:a.index,positionIndex:a.position_index,tick_indexes_handle:a.tick_indexes.handle,ticks_handle:a.ticks.handle,positions_handle:a.positions.handle,collectionName:a.collection_name,uri:a.uri,is_pause:r||a.is_pause,rewarder_infos:u,rewarder_last_updated_time:a.rewarder_last_updated_time};return this.updateCache(s,l,oi),l}async getTickDataByIndex(e,n){const r=await this._sdk.client.getTableItem(e,{key_type:`${this.sdk.sdkOptions.networkOptions.modules.IntegerMate}::i64::I64`,value_type:`${this.sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer}::pool::Tick`,key:uA(n)}),i=JSON.parse(JSON.stringify(r));return{index:i.index,sqrtPrice:i.sqrt_price,liquidityGross:i.liquidity_gross,liquidityNet:i.liquidity_net,feeGrowthOutsideA:i.fee_growth_outside_a,feeGrowthOutsideB:i.fee_growth_outside_b,rewardersGrowthOutside:i.rewarders_growth_outside}}async getPoolLowerAndUpperTicks(e,n){const r=[],i=[],s=n.ticks_handle,o=await this.sdk.Resources.getPositionList(e,[n]);for(const a of o){const c=await this.sdk.Resources.getTickDataByIndex(s,a.tick_lower_index),u=await this.sdk.Resources.getTickDataByIndex(s,a.tick_upper_index);r.push(c),i.push(u)}return[r,i]}async getPositionInfoByIndex(e,n){const r=await this._sdk.client.getTableItem(e,{key_type:"u64",value_type:`${this.sdk.sdkOptions.networkOptions.modules.LiquidswapDeployer}::pool::Position`,key:n.toString()}),i=JSON.parse(JSON.stringify(r));return{name:"",pool:i.pool,liquidity:i.liquidity,tick_lower_index:BigInt.asIntN(64,BigInt(i.tick_lower_index.bits)).toString(),tick_upper_index:BigInt.asIntN(64,BigInt(i.tick_upper_index.bits)).toString(),fee_growth_inside_a:i.fee_growth_inside_a,fee_growth_inside_b:i.fee_growth_inside_b,fee_owed_a:i.fee_owed_a,fee_owed_b:i.fee_owed_b,reward_amount_owed_0:i.rewarder_infos[0].amount_owed,reward_amount_owed_1:i.rewarder_infos[1].amount_owed,reward_amount_owed_2:i.rewarder_infos[2].amount_owed,reward_growth_inside_0:i.rewarder_infos[0].growth_inside,reward_growth_inside_1:i.rewarder_infos[1].growth_inside,reward_growth_inside_2:i.rewarder_infos[2].growth_inside,index:n}}createPositionName(e,n){return`Cetus LP | Pool${e}-${n}`}async getPositionInfo(e,n,r=!0){if(qA(n)){const i=await this.getPositionInfoByIndex(e.positions_handle,Number(n));return i.name=this.createPositionName(e.index,i.index),i}return this.getPositionInfoByTokenName(e.poolAddress,e.positions_handle,e.collectionName,n,r)}async getPositionIndex(e,n,r,i=!1){const s=`${e}_${n}_${r}_getPositionIndex`;if(!i){const c=this.getCacheData(s);if(c!==null)return c}const o=await this._sdk.tokenClient.getTokenData(e,n,r),a=JSON.parse(JSON.stringify(o)).default_properties.data.index.value;return this.updateCache(s,a,oi),a}async getPositionInfoByTokenName(e,n,r,i,s=!0){const o=`${e}_${r}_${i}_getPositionInfo`;if(!s){const u=this.getCacheData(o);if(u!==null)return u}const a=await this.getPositionIndex(e,r,i,!1),c=await this.getPositionInfoByIndex(n,a);return c.name=i,this.updateCache(o,c,oi),c}async getGlobalConfig(e,n=!0){const r=`${e}_getGlobalConfig`;if(!n){const a=this.getCacheData(r);if(a!==null)return a}const i=await this.fetchAccountResource(e,dt(e,"config","GlobalConfig")),s=JSON.parse(JSON.stringify(i)).data,o={protocol_fee_rate:s.protocol_fee_rate,is_pause:s.is_pause};return this.updateCache(r,o,oi),o}async getSpecifyCoinInfos(e){const n=[];for(const r of e){const i=`${r}_getCoinInfos`,s=this.getCacheData(i);if(s!==null)n.push(s);else{const o=V0(r).address,a=await this._sdk.Resources.fetchAccountResource(o,SA(r));if(a!=null){const c={coinAddress:r,...a.data};n.push(c),this.updateCache(i,c,oi)}}}return n}async getCoinInfos(e,n=!0){const r=`${e}_getCoinInfos`;if(!n){const o=this.getCacheData(r);if(o!==null)return o}const i=await this.fetchAccountResources(e),s=[];return i==null||i.forEach(o=>{if(o.type.startsWith(_w)){const a=NA(o.type);a.length>0&&s.push({coinAddress:a,...o.data})}}),this.updateCache(r,s,oi),s}async getCoinStores(e,n=!0){const r=`${e}_getCoinStores`;if(!n){const o=this.getCacheData(r);if(o!==null)return o}const i=await this.fetchAccountResources(e),s=[];return i==null||i.forEach(o=>{if(o.type.startsWith(bw)){const a=Bp(o.type);a.length>0&&s.push({coinAddress:a,...o.data})}}),this.updateCache(r,s,oi),s}async getCoinStore(e,n){const r=await this.fetchAccountResource(e,xA(n));if(r){const i=Bp(r.type);if(i.length>0)return{coinAddress:i,...r.data}}return null}async getPositionList(e,n){const r=[];if(n.length===0)return[];const i=await this.getFilterTokenEvent(e);for(let s=0;s<i.length;s++){const o=i[s];try{for(const a of n)if(o.creator===a.poolAddress){const c=await this.getPositionInfoByTokenName(o.creator,a.positions_handle,o.collection,o.name);c.pool.length>0&&r.push({...o,...c})}}catch(a){console.log(a)}}return r}async getCollectionList(e){return await this.getFilterTokenEvent(e)}async getFilterTokenEvent(e){const n=[],r=[];let i=[];try{i=await this._sdk.client.getEventsByEventHandle(e,Ep,"deposit_events")}catch(o){console.log(o)}i.forEach(o=>{n.push({key:`${o.data.id.token_data_id.creator}_${o.data.id.token_data_id.name}`,creator:o.data.id.token_data_id.creator,name:o.data.id.token_data_id.name,collection:o.data.id.token_data_id.collection,count:0})});let s=[];try{s=await this._sdk.client.getEventsByEventHandle(e,Ep,"withdraw_events")}catch(o){console.log(o)}return s.forEach(o=>{if(o.type===lA){for(const a of n)if(a.count===0&&a.key===`${o.data.id.token_data_id.creator}_${o.data.id.token_data_id.name}`){a.count-=1;break}}}),n.forEach(o=>{o.count===0&&r.push({...o})}),r}async fetchAccountResource(e,n){var r;try{return await this._sdk.client.getAccountResource(e,n)}catch(i){if(Op(i)&&((r=i.response)==null?void 0:r.status)===404)return null;throw i}}async fetchAccountResources(e){var n;try{return await this._sdk.client.getAccountResources(e)}catch(r){if(Op(r)&&((n=r.response)==null?void 0:n.status)===404)return null;throw r}}updateCache(e,n,r=DA){let i=this._cache[e];i?(i.overdueTime=Cp(r),i.value=n):i=new nd(n,Cp(r)),this._cache[e]=i}getCacheData(e){const n=this._cache[e];return n!==void 0&&n.getCacheData()?n.value:null}},HA=class{constructor(e){this._sdk=e}get sdk(){return this._sdk}creatPoolTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=e.delta_liquidity.gt(Ne),s=i?`${r.LiquidswapDeployer}::${Tw}`:`${r.LiquidswapDeployer}::${ws}`,o=i?"create_and_add_liquidity":"create_pool";if(n){const l=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB))],d=i?[ce.bcsSerializeUint64(e.tick_spacing),ce.bcsSerializeU128(BigInt(e.initialize_sqrt_price.toString())),ce.bcsSerializeStr(e.uri),ce.bcsSerializeU128(BigInt(e.delta_liquidity.toString())),ce.bcsSerializeUint64(BigInt(e.max_amount_a.toString())),ce.bcsSerializeUint64(BigInt(e.max_amount_b.toString())),ce.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_lower))),ce.bcsSerializeUint64(BigInt.asUintN(64,BigInt(e.tick_upper)))]:[ce.bcsSerializeUint64(e.tick_spacing),ce.bcsSerializeU128(BigInt(e.initialize_sqrt_price.toString())),ce.bcsSerializeStr(e.uri)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,l,d))}const a=dt(s,o),c=[e.coinTypeA,e.coinTypeB],u=i?[e.tick_spacing.toString(),e.initialize_sqrt_price.toString(),e.uri.toString(),e.delta_liquidity.toString(),e.max_amount_a.toString(),e.max_amount_b.toString(),BigInt.asUintN(64,BigInt(e.tick_lower)).toString(),BigInt.asUintN(64,BigInt(e.tick_upper)).toString()]:[e.tick_spacing.toString(),e.initialize_sqrt_price.toString(),e.uri.toString()];return{type:"entry_function_payload",function:a,type_arguments:c,arguments:u}}};new I(365);new I(24);new I(3600);new I(.5);function zA(t,e,n,r,i,s){const o=new je(t.toString()).div(new je(10**n)),a=new je(e.toString()).div(new je(10**r));return o.mul(i).add(a.mul(s))}function FA(t,e,n,r,i,s,o,a,c,u,l,d,h,y,b,T,k,O,B,v,_,S,M,F){const W=new je(d),Y=new je(h),J=new je(T),q=new je(k),L=new je(O),E=new je(B),f=new je(v),p=new je(_),w=new je(S),R=new je(M),N=new je(F),H=$t.tickIndexToSqrtPriceX64(e),K=$t.tickIndexToSqrtPriceX64(n),C=ot.toX64_Decimal(ot.fromX64(H)).round(),m=ot.toX64_Decimal(ot.fromX64(K)).round(),D=ot.toX64_Decimal(ot.fromX64(r)).round();let we;const A=W.mul(new je(10**s)).mul(m.mul(C)).div(m.sub(C)).round(),ne=Y.mul(new je(10**o)).div(m.sub(C)).round();t<e?we=A:t>n?we=ne:we=je.min(A,ne);const fe=we.mul(D.sub(C)),z=we.mul(m.sub(D)).div(D.mul(m)).div(new je(10**s)).mul(f).add(fe.div(new je(10**o).mul(p))),X=zA(y,b,s,o,f,p),Z=z.div(X),Q=we.eq(new je(0))?new je(0):new je(l/1e4).mul(J).mul(new je(we.toString()).div(new je(i.toString()).add(new je(we.toString())))).div(z),se=Z.eq(new je(0))?new je(0):Z.mul(new je(36500/7)).div(z),ie=q.div(new je(10**a)).mul(w).mul(se),de=L.div(new je(10**c)).mul(R).mul(se),Pe=E.div(new je(10**u)).mul(N).mul(se);return{feeAPR:Q,posRewarder0APR:ie,posRewarder1APR:de,posRewarder2APR:Pe}}function jA(t,e,n,r){const i=Math.max(t,n),o=Math.min(e,r)-i,a=e-t,c=r-n,u=new je(a.toString()),l=new je(c.toString()),d=new je(o.toString());let h=new je("0");return o<0?h=new je("0"):a===o?h=l.div(d):c===o?h=d.div(u):h=d.mul(d).div(l).div(u),h}function WA(t){const{clmmpool:e,position:n,tickLower:r,tickUpper:i}=t,{current_tick_index:s,fee_growth_global_a:o,fee_growth_global_b:a}=e;console.log({currentTickIndex:s,feeGrowthGlobalAX64:o,feeGrowthGlobalBX64:a});const{tick_lower_index:c,tick_upper_index:u,liquidity:l,fee_owed_a:d,fee_owed_b:h,fee_growth_inside_a:y,fee_growth_inside_b:b}=n,{feeGrowthOutsideA:T,feeGrowthOutsideB:k}=r,{feeGrowthOutsideA:O,feeGrowthOutsideB:B}=i;let v=null,_=null;s<Number(c)?(v=ot.subUnderflowU128(new I(o),new I(T)),_=ot.subUnderflowU128(new I(a),new I(k))):(v=T,_=k);let S=null,M=null;s<Number(u)?(S=O,M=B):(S=ot.subUnderflowU128(new I(o),new I(O)),M=ot.subUnderflowU128(new I(a),new I(B)));const F=ot.subUnderflowU128(ot.subUnderflowU128(new I(o),new I(v)),new I(S)),W=ot.subUnderflowU128(ot.subUnderflowU128(new I(a),new I(_)),new I(M)),Y=ot.subUnderflowU128(new I(F),new I(y)).mul(new I(l)).shrn(64),J=ot.subUnderflowU128(new I(W),new I(b)).mul(new I(l)).shrn(64),q=new I(ht(d).add(ht(Y.toString())).toString()),L=new I(ht(h).add(ht(J.toString())).toString());return{feeOwedA:q,feeOwedB:L}}function GA(t){if(t){const e={};return t.maxGasAmount&&(e.maxGasAmount=BigInt(t.maxGasAmount)),t.gasUnitPrice&&(e.gasUnitPrice=BigInt(t.gasUnitPrice)),t.expireTimestamp&&(e.expireTimestamp=BigInt(t.expireTimestamp)),e}}function VA(t,e){return new hu(r=>{const i=new Uint8Array(64);return new j.Ed25519Signature(i)},t.toUint8Array()).sign(e)}function KA(t){if(t){const e={};return t.maxGasAmount&&(e.max_gas_amount=t.maxGasAmount.toString()),t.gasUnitPrice&&(e.gas_unit_price=t.gasUnitPrice.toString()),t.expireTimestamp&&(e.expiration_timestamp_secs=t.expireTimestamp.toString()),e}}async function XA(t,e,n,r,i=!0){if(n instanceof j.TransactionPayload){const l=await t.generateRawTransaction(e.address,n,GA(r)),d=VA(e.pubkey,l),h=await t.submitBCSSimulation(d);return i&&console.log(h[0]),h[0]}const s=n,o=await t.generateTransaction(e.address,s,KA(r)),a={type:"ed25519_signature",public_key:e.pubkey.hex(),signature:ft.fromUint8Array(new Uint8Array(64)).hex()},c={sender:e.address.hex(),sequence_number:o.sequence_number.toString(),max_gas_amount:o.max_gas_amount.toString(),gas_unit_price:o.gas_unit_price.toString(),expiration_timestamp_secs:o.expiration_timestamp_secs.toString(),payload:s,signature:a},u=await t.client.transactions.simulateTransaction(c);return i&&console.log(u[0]),u[0]}async function qc(t,e,n,r){return XA(t,e,n,r,!1)}function $p(t,e){const n=new ce.Serializer;n.serializeU32AsUleb128(t.length);const r=n[e];return t.forEach(i=>{n.serializeU32AsUleb128(i.length),i.forEach(s=>{r.call(n,s)})}),n.getBytes()}function ZA(t){const e=new ce.Serializer;return e.serializeU32AsUleb128(t.length),t.forEach(n=>{e.serializeU32AsUleb128(n.length),n.forEach(r=>{r.serialize(e)})}),e.getBytes()}function YA(t){const e=new ce.Serializer;return e.serializeU32AsUleb128(t.length),t.forEach(n=>{n.serialize(e)}),e.getBytes()}var Ni=1e9,JA=5*60*1e3,Nc=24*60*60*1e3;function Mp(t){return Date.parse(new Date().toString())+t}var QA=class{constructor(t){this._cache={},this._sdk=t}get sdk(){return this._sdk}async getPoolImmutablesResource(t=!1){const e=this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,n=`${e}_getMmutablesPools`,r=this.getCacheData(n);let i;if(!t&&r!=null)i=r;else{const s=dt(e,vw,xw),o=await this._sdk.Resources.fetchAccountResource(e,s);i=JSON.parse(JSON.stringify(o==null?void 0:o.data)),this.updateCache(n,i,Nc)}return i}async getLaunchpadPools(t=[],e=0,n=100,r=null,i=!1){const s=this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,o=[],c=(await this.getPoolImmutablesResource(i)).data.data,u=t.length>0;for(let l=0;l<c.length;l+=1){const d=c[l],{pool_address:h,creater_address:y,pool_type:b}=d.value;if(r==="fixed_price"&&b!==0||r==="fair_launch"&&b===0||u&&!t.includes(h))continue;if(!u){const F=Number(l);if(F<e||F>=e+n)continue}const T=d.key,k=dt(T.coin_raise.account_address,di(T.coin_raise.module_name),di(T.coin_raise.struct_name)),O=dt(T.coin_sale.account_address,di(T.coin_sale.module_name),di(T.coin_sale.struct_name)),B=Kr.buildLaunchpadPoolType(b===0,s,O,k),v={coin_type_sale:O,coin_type_raise:k,pool_type:B,pool_address:h,creator:y,pool_mode:b===0?"fixed_price":"fair_launch"},_=await this.getLaunchpadPoolState(v.pool_address,v.pool_type,v.pool_mode),S={...v,..._};await this.calculateLaunchpadPoolField(S),o.push(S);const M=`${h}_pool`;this.updateCache(M,S,Nc)}return o}async getLaunchpadPool(t,e=!0){const n=`${t}_pool`,r=this.getCacheData(n);let i;if(r!==null&&!e&&(i=r),i==null)return(await this.getLaunchpadPools([t]))[0];const s=await this.getLaunchpadPoolState(t,i.pool_type,i.pool_mode),o={...i,...s};return await this.calculateLaunchpadPoolField(o),this.updateCache(n,o,Nc),o}async getSpecifyCoinDecimals(t){const e={};(await this._sdk.Token.getSpecifyTokenListByCache(t)).forEach(s=>{e[s.address]=s.decimals});const r=t.filter(s=>e[s]===void 0);return(await this._sdk.Resources.getSpecifyCoinInfos(r)).forEach(s=>{e[s.coinAddress]=Number(s.decimals)}),e}async calculateLaunchpadPoolField(t){const e=await this.getSpecifyCoinDecimals([t.coin_type_sale,t.coin_type_raise]),n=Number(e[t.coin_type_sale]),r=Number(e[t.coin_type_raise]);if(t.initialize_price=Kr.priceFixToReal(t.initialize_price,n,r),Kr.isFixedPricePool(t))t.raise_total=Kr.raiseTotalAmount(t,n,r);else{t.raise_total=Kr.raiseTotalAmount(t,n,r);const s=ht(t.raise_coin_amount).div(ht(10).pow(ht(r))),o=ht(t.sale_total).div(ht(10).pow(ht(n)));o.toNumber()>0?t.price=s.div(o).toNumber():t.price=0}return Kr.updatePoolStaus(t),!0}async getLaunchpadPoolState(t,e,n,r=!0){const i=`${t}_${e}_getLaunchpadPoolState`;if(!r){const c=this.getCacheData(i);if(c!==null)return c}const s=await this._sdk.Resources.fetchAccountResource(t,e),o=JSON.parse(JSON.stringify(s==null?void 0:s.data)),a=Kr.buildLaunchpadFixedPoolState(n,o);return this.updateCache(i,a,Nc),a}async getOwnerLaunchpadCoins(t){const e=await this._sdk.Resources.getCoinStores(t),n=[];return e.forEach(r=>{const i=V0(r.coinAddress);i.module===Sw&&n.push({coin_type_sale:i.type_arguments[0],coin_type_raise:i.type_arguments[1],coin_address:r.coinAddress,balance:Number(r.coin.value)})}),n}async getSimplePosition(t){const e=await this._sdk.Resources.fetchAccountResource(t,dt(this._sdk.sdkOptions.networkOptions.launchpad.cetusLaunchpad,"clmmProxy","LockedPosition")),n=JSON.parse(JSON.stringify(e==null?void 0:e.data));return{position_name:n.token_id.token_data_id.name,collection:n.token_id.token_data_id.collection,creator:n.token_id.token_data_id.creator,unlock_time:n.unlock_time,is_redeem:n.is_redeem}}async hasPoolWhitelist(t){const{launchpad:e}=this._sdk.sdkOptions.networkOptions,n={handle:"",exist:!1};try{const r=await this._sdk.Resources.fetchAccountResource(t,dt(e.cetusLaunchpad,"whitelist","Whitelist")),i=JSON.parse(JSON.stringify(r==null?void 0:r.data));return n.exist=Number(i.users.length)>0,n.handle=i.users.inner.handle,n}catch(r){console.log(r)}return n}async inPoolWhitelist(t,e){if(!e.exist)return!1;try{return await this._sdk.client.getTableItem(e.handle,{key_type:"address",value_type:"u8",key:t}),!0}catch(n){console.log(n)}return!1}buildLaunchpadCoinType(t,e){return dt(this._sdk.sdkOptions.networkOptions.launchpad.crowdCoin,"cscoin","CS",[t,e])}creatPoolTransactionPayload(t,e=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r="is_admin"in t,i=`${n.cetusLaunchpad}::${si}`,s=r?t.is_admin?"create_crowdsale_pool_authority":"create_crowdsale_pool":"create_fairlaunch_pool",o=Kr.priceRealToFix(t.initialize_price,t.sale_decimals,t.raise_decimals);console.log("fixPrice:",o);const a=$t.priceToSqrtPriceX64(ht(t.initialize_price),t.sale_decimals,t.raise_decimals).toString();return r?Kr.buildCreatCrowdsalePoolPayload(t,a,o,i,s,e):Kr.buildCreatFairlaunchPoolPayload(t,a,o,i,s,e)}updatePoolTransactionPayload(t,e=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="update_pool";if(e){const c=[new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_raise))],u=[ce.bcsToBytes(j.AccountAddress.fromHex(t.pool_addr)),ce.bcsSerializeUint64(t.start_time),ce.bcsSerializeUint64(t.liquidity_rate*100),ce.bcsSerializeUint64(t.activity_duration),ce.bcsSerializeUint64(t.calmdown_duraction),ce.bcsSerializeUint64(t.settle_duration),ce.bcsSerializeUint64(t.locked_duration)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[t.coin_type_sale,t.coin_type_raise],a=[t.pool_addr,t.start_time,t.liquidity_rate*100,t.activity_duration,t.calmdown_duraction,t.settle_duration,t.locked_duration];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}purchaseTransactionPayload(t,e=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="purchase";if(e){const c=[new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_raise))],u=[ce.bcsToBytes(j.AccountAddress.fromHex(t.pool_addr)),ce.bcsSerializeUint64(t.raise_amount_in)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[t.coin_type_sale,t.coin_type_raise],a=[t.pool_addr,t.raise_amount_in];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}revokeTransactionPayload(t,e=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="revoke";if(e){const c=[new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_raise))],u=[ce.bcsToBytes(j.AccountAddress.fromHex(t.pool_addr)),ce.bcsSerializeUint64(t.cs_coin_amount)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[t.coin_type_sale,t.coin_type_raise],a=[t.pool_addr,t.cs_coin_amount];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}settleTransactionPayload(t,e=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i=t.pool_mode==="fixed_price",s=i?"crowd_sale_settle":"fair_launch_settle";if(e){const c=[new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_raise))];return i?new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,s,c,[])):new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,s,c,[ce.bcsSerializeU128(BigInt(t.initialize_sqrt_price))]))}const o=dt(r,s),a=[t.coin_type_sale,t.coin_type_raise];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:i?[]:[t.initialize_sqrt_price]}}claimTransactionPayload(t,e=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="claim";if(e){const c=[new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_raise))],u=[ce.bcsToBytes(j.AccountAddress.fromHex(t.pool_addr)),ce.bcsSerializeUint64(t.cs_coin_amount)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[t.coin_type_sale,t.coin_type_raise],a=[t.pool_addr,t.cs_coin_amount];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}claimFeeTransactionPayload(t,e=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="claim_fee";if(e){const c=[new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_raise))],u=[ce.bcsToBytes(j.AccountAddress.fromHex(t.pool_addr))];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[t.coin_type_sale,t.coin_type_raise],a=[t.pool_addr];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}withdrawTransactionPayload(t,e=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i=t.is_withdraw_sale?"withdraw_sale":"withdraw_raise";if(e){const c=[new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_raise))],u=[ce.bcsToBytes(j.AccountAddress.fromHex(t.pool_addr))];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[t.coin_type_sale,t.coin_type_raise],a=[t.pool_addr];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}redeemPositionTransactionPayload(t,e=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i="redeem_position";if(e){const a=[new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_raise))];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,a,[]))}const s=dt(r,i),o=[t.coin_type_sale,t.coin_type_raise];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:[]}}userToWhitelistTransactionPayload(t,e=!1){const{launchpad:n}=this.sdk.sdkOptions.networkOptions,r=`${n.cetusLaunchpad}::${si}`,i=t.isAdd?"add_user_to_whitelist":"remove_user_from_whitelist";if(e){const c=[new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_raise))],u=[ce.bcsToBytes(j.AccountAddress.fromHex(t.user_addr))];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,c,u))}const s=dt(r,i),o=[t.coin_type_sale,t.coin_type_raise],a=[t.user_addr];return{type:"entry_function_payload",function:s,type_arguments:o,arguments:a}}updateCache(t,e,n=JA){let r=this._cache[t];r?(r.overdueTime=Mp(n),r.value=e):r=new nd(e,Mp(n)),this._cache[t]=r}getCacheData(t){const e=this._cache[t];return e!==void 0&&e.getCacheData()?e.value:null}};function eE(t,e,n,r){const i=t.shln(64),s=n.sub(e);return r?ot.divRoundUp(i,s):i.div(s)}var Kr=class{static minSettlePurchaseAmount(t){return ht(t.sale_total).mul(t.initialize_price).mul(t.least_raise_rate).toNumber()}static get_sale_liquidity_amount(t,e,n,r,i,s){const o=Cf.getMinIndex(t),a=Cf.getMaxIndex(t),c=this.priceRealToFix(r,i,s),u=new I(e*c*n),l=new I($t.priceToSqrtPriceX64(ht(c),0,0).toString()),d=eE(u,$t.tickIndexToSqrtPriceX64(o),l,!1);return PA(l,$t.tickIndexToSqrtPriceX64(a),d,!0).toString()}static raiseTotalAmount(t,e,n){const r=ht(e-n).abs().toNumber();return e>n?Number(ht(t.sale_total).mul(t.initialize_price).div(ht(10).pow(ht(r))).toString()):Number(ht(t.sale_total).mul(t.initialize_price).mul(ht(10).pow(ht(r))).toString())}static priceRealToFix(t,e,n){const r=ht(e-n).toNumber();return Number(ht(t).div(ht(10).pow(ht(r))).toString())}static priceFixToReal(t,e,n){const r=ht(e-n).toNumber();return Number(ht(t).mul(ht(10).pow(ht(r))).toString())}static buildLaunchpadPoolType(t,e,n,r){return t?dt(dt(e,pA,gA),[n,r]):dt(dt(e,yA,mA),[n,r])}static isFixedPricePool(t){return t.pool_mode==="fixed_price"}static getFairLaunchSettleSqrtPrice(t,e,n){if(t.pool_status!=="Settle")throw new Error("The pool is not in settle ");const r=$t.priceToSqrtPriceX64(ht(t.price),e,n).toString();return console.log("sqrtPrice: ",r.toString()),r.toString()}static async updatePoolStaus(t){const e=Kr.isFixedPricePool(t),n=Number(ht(Date.now()/1e3).toFixed(0));if(t.end_activity_time=Number(t.start_activity_time)+Number(t.activity_duration),e)if(t.end_settle_time=Number(t.end_activity_time)+Number(t.settle_duration),t.is_settle)t.pool_status="Ended";else if(n<Number(t.start_activity_time))t.pool_status="Upcoming";else if(n>=t.start_activity_time&&n<t.end_activity_time)t.pool_status="Live";else if(n>=t.end_activity_time&&n<t.end_settle_time){const r=t.raise_coin_amount,i=ht(t.raise_total).mul(ht(t.least_raise_rate)).toNumber();r<i?t.pool_status="Failed":t.pool_status="Settle"}else t.pool_status="Failed";else if(t.end_calm_down_time=Number(t.end_activity_time)+Number(t.calmdown_duration),t.end_settle_time=Number(t.end_calm_down_time)+Number(t.settle_duration),t.is_settle)t.pool_status="Ended";else if(n<Number(t.start_activity_time))t.pool_status="Upcoming";else if(n>=t.start_activity_time&&n<t.end_activity_time)t.pool_status="Live";else if(n>=t.end_activity_time&&n<t.end_calm_down_time)t.pool_status="Calmdown";else if(n>=t.end_calm_down_time&&n<t.end_settle_time){const r=t.raise_coin_amount,i=ht(t.raise_total).mul(ht(t.least_raise_rate)).toNumber();r<i?t.pool_status="Failed":t.pool_status="Settle"}else t.pool_status="Failed";return!0}static buildLaunchpadFixedPoolState(t,e){return t==="fixed_price"?{sale_coin_amount:e.sale_coin.value,raise_coin_amount:e.raise_coin.value,activity_duration:e.activity_duration,clmm_pool_address:e.clmm_pool_address,cs_burn_cap:e.cs_burn_cap.dummy_field,cs_mint_cap:e.cs_mint_cap.dummy_field,fee_amount:e.fee_amount,fee_rate:e.fee_rate,initialize_price:Number(e.initialize_price)/Ni,initialize_sqrt_price:BigInt(e.initialize_sqrt_price),is_settle:e.is_settle,least_raise_rate:Number(e.least_raise_rate)/100,liquidity_rate:Number(e.liquidity_rate)/100,locked_duration:e.locked_duration,sale_total:e.sale_total,raise_total:0,settle_duration:e.settle_duration,start_activity_time:e.start_time,unused_raise:e.unused_raise,unused_sale:e.unused_sale,has_whiteList:e.has_white_list,pool_status:"Upcoming",end_activity_time:0,end_settle_time:0}:{price:0,sale_coin_amount:0,raise_coin_amount:e.raise_coin.value,sale_total:e.sale_coin.value,raise_total:0,calmdown_duration:e.calmdown_duration,initialize_price:Number(e.price)/Ni,activity_duration:e.activity_duration,clmm_pool_address:e.clmm_pool_address,cs_burn_cap:e.cs_burn_cap.dummy_field,cs_mint_cap:e.cs_mint_cap.dummy_field,fee_amount:e.fee_amount,fee_rate:e.fee_rate,is_settle:e.is_settle,least_raise_rate:Number(e.least_raise_amount)/100,liquidity_rate:Number(e.liquidity_rate)/100,locked_duration:e.locked_duration,settle_duration:e.settle_duration,start_activity_time:e.start_time,has_whiteList:e.has_white_list,pool_status:"Upcoming",end_activity_time:0,end_calm_down_time:0,end_settle_time:0}}static buildCreatCrowdsalePoolPayload(t,e,n,r,i,s=!1){if(s){const u=[new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_raise))],l=t.is_admin?[ce.bcsSerializeU128(n*Ni),ce.bcsSerializeU128(BigInt(e)),ce.bcsSerializeUint64(t.tick_spacing),ce.bcsSerializeUint64(t.sale_total),ce.bcsSerializeUint64(t.start_time),ce.bcsSerializeUint64(t.least_raise_rate*100),ce.bcsSerializeUint64(t.activity_duration),ce.bcsSerializeUint64(t.settle_duration),ce.bcsSerializeUint64(t.locked_duration),ce.bcsSerializeU8(0)]:[ce.bcsSerializeU128(n*Ni),ce.bcsSerializeU128(BigInt(e)),ce.bcsSerializeUint64(t.tick_spacing),ce.bcsSerializeUint64(t.sale_total),ce.bcsSerializeUint64(t.start_time),ce.bcsSerializeUint64(t.least_raise_rate*100),ce.bcsSerializeUint64(t.liquidity_rate*100),ce.bcsSerializeUint64(t.activity_duration),ce.bcsSerializeUint64(t.settle_duration),ce.bcsSerializeUint64(t.locked_duration),ce.bcsSerializeU8(0)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,u,l))}const o=dt(r,i),a=[t.coin_type_sale,t.coin_type_raise],c=t.is_admin?[n*Ni,e,t.tick_spacing,t.sale_total,t.start_time,t.least_raise_rate*100,t.activity_duration,t.settle_duration,t.locked_duration,0]:[n*Ni,e,t.tick_spacing,t.sale_total,t.start_time,t.least_raise_rate*100,t.liquidity_rate*100,t.activity_duration,t.settle_duration,t.locked_duration,0];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}static buildCreatFairlaunchPoolPayload(t,e,n,r,i,s=!1){if(s){const u=[new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_sale)),new j.TypeTagStruct(j.StructTag.fromString(t.coin_type_raise))],l=[ce.bcsSerializeU128(n*Ni),ce.bcsSerializeU128(BigInt(e)),ce.bcsSerializeUint64(t.tick_spacing),ce.bcsSerializeUint64(t.sale_total),ce.bcsSerializeUint64(t.start_time),ce.bcsSerializeUint64(t.least_raise_rate*100),ce.bcsSerializeUint64(t.liquidity_rate*100),ce.bcsSerializeUint64(t.activity_duration),ce.bcsSerializeUint64(t.calmdown_duraction),ce.bcsSerializeUint64(t.settle_duration),ce.bcsSerializeUint64(t.locked_duration)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(r,i,u,l))}const o=dt(r,i),a=[t.coin_type_sale,t.coin_type_raise],c=[n*Ni,e,t.tick_spacing,t.sale_total,t.start_time,t.liquidity_rate*100,ce.bcsSerializeUint64(t.least_raise_rate*100),t.activity_duration,t.calmdown_duraction,t.settle_duration,t.locked_duration];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}};function tE(t){let e;switch(t){case 0:e=5;break;case 1:e=10;break;case 2:e=20;break;case 3:e=25;break;default:e=1}const n=100/e+1,r=new Array(n);for(let i=0;i<n;i+=1)r[i]=i*e;return r}function mu(t,e){const n=tE(e),r=new Array(n.length),i=t.divn(100);return n.forEach((s,o)=>{r[o]=i.muln(s)}),r}function nE(t,e,n,r){for(let i=e;i<t;i+=1)n.amountInArray[i]=n.amountInArray[i].add(r.amountIn),n.amountOutArray[i]=n.amountOutArray[i].add(r.amountOut),n.feeAmountArray[i]=n.feeAmountArray[i].add(r.feeAmount);return n}function rE(t,e,n,r,i){let s=new I(r.liquidity),{currentSqrtPrice:o}=r,a={amountInArray:[],amountOutArray:[],feeAmountArray:[],refAmountArray:[],nextSqrtPriceArray:[],crossTickNumArray:[]};n.forEach(()=>{a.amountInArray.push(Ne),a.amountOutArray.push(Ne),a.feeAmountArray.push(Ne),a.refAmountArray.push(Ne),a.nextSqrtPriceArray.push(Ne),a.crossTickNumArray.push(0)});let c,u;const l=Pu.getDefaultSqrtPriceLimit(t),d=n.length;let h=n[1],y=1,b=0,T;t?T=i.sort((k,O)=>O.index-k.index):T=i.sort((k,O)=>k.index-O.index);for(const k of T){if(b+=1,t){if(r.currentTickIndex<k.index)continue}else if(r.currentTickIndex>k.index)continue;if(k===null)continue;t&&l.gt(k.sqrtPrice)||!t&&l.lt(k.sqrtPrice)?c=l:c=k.sqrtPrice;let O={amountIn:Ne,amountOut:Ne,nextSqrtPrice:Ne,feeAmount:Ne};const B=o,v=s;let _=h,S=y;for(let M=y;M<d;M+=1){const F=Bw(o,c,s,h,new I(r.feeRate),e);if(O=F,F.amountIn.eq(Ne)||(h=e?h.sub(F.amountIn.add(F.feeAmount)):h.sub(F.amountOut)),h.eq(Ne))a.amountInArray[M]=a.amountInArray[M].add(F.amountIn),a.amountOutArray[M]=a.amountOutArray[M].add(F.amountOut),a.feeAmountArray[M]=a.feeAmountArray[M].add(F.feeAmount),F.nextSqrtPrice.eq(k.sqrtPrice)?(u=t?k.liquidityNet.mul(new I(-1)):k.liquidityNet,s=u.gt(Ne)?s.add(u):s.sub(u.abs()),o=k.sqrtPrice):o=F.nextSqrtPrice,a.crossTickNumArray[M]+=1,a.amountInArray[M]=a.amountInArray[M].add(a.feeAmountArray[M]),a.nextSqrtPriceArray[M]=o,s=v,o=B,a.crossTickNumArray[M]=b,h=_.add(n[1].muln(M-S+1)),y+=1;else{a=nE(d,M,a,F),_=h,S=y;break}}if(y===d)break;O.nextSqrtPrice.eq(k.sqrtPrice)?(u=t?k.liquidityNet.mul(new I(-1)):k.liquidityNet,s=u.gt(Ne)?s.add(u):s.sub(u.abs()),o=k.sqrtPrice):o=O.nextSqrtPrice;for(let M=y;M<d;M+=1)a.crossTickNumArray[M]+=1}return a}var iE=class{constructor(t,e,n,r,i,s){this.minSplitUnit=e,this.a2b=r,this.byAmountIn=i,this.clmmpool=n,this.ticks=s,this.amountArray=[],this.createSplitSwapParams=this.createSplitSwapParams.bind(this),this.createSplitSwapParams(t,e),this.splitSwapResult={amountInArray:[],amountOutArray:[],feeAmountArray:[],refAmountArray:[],nextSqrtPriceArray:[],crossTickNumArray:[]},this.computeSwap=this.computeSwap.bind(this),this.getSplitSwapResult=this.getSplitSwapResult.bind(this)}createSplitSwapParams(t,e){const n=mu(t,e);this.amountArray=n}computeSwap(){this.splitSwapResult=rE(this.a2b,this.byAmountIn,this.amountArray,this.clmmpool,this.ticks)}getSplitSwapResult(){return this.splitSwapResult}},Cf=class{static getMinIndex(e){return Ip+Math.abs(Ip)%e}static getMaxIndex(e){return Rp-Rp%e}};function sE(t,e){const n=Math.abs(t)%e;return t>0?n>e/2?t+e-n:t-n:n>e/2?t-e+n:t+n}function oE(t,e,n,r,i,s){const o=t.rewarder_infos,a=[];for(let c=0;c<o.length;c+=1){let u=s[c];e!==null&&(t.current_tick_index<r?u=s[c].sub(new I(e.rewardersGrowthOutside[c])):u=e.rewardersGrowthOutside[c]);let l=new I(0);n!==null&&(t.current_tick_index>=i?l=s[c].sub(new I(n.rewardersGrowthOutside[c])):l=n.rewardersGrowthOutside[c]);const d=ot.subUnderflowU128(ot.subUnderflowU128(new I(s[c]),new I(u)),new I(l));a.push(d)}return a}var aE=class{constructor(e){this._sdk=e,this.growthGlobal=[Ne,Ne,Ne]}get sdk(){return this._sdk}async listRewarderInfosFromClmmpool(e){const n=await this.sdk.Resources.getPool(e),r=[];for(const i of n.rewarder_infos)r.push(i);return r}async emissionsEveryDay(e){const n=await this.listRewarderInfosFromClmmpool(e);if(!n)return null;const r=[];for(const i of n){const s=ot.fromX64(new I(i.emissions_per_second));r.push({emissions:Math.floor(s.toNumber()*60*60*24),coin_address:i.coinAddress})}return r}async collectRewarderAmount(e,n){const r=await this.sdk.Resources.getPositionInfo(e,n);return r?{reward_amount_owed_0:r.reward_amount_owed_0,reward_amount_owed_1:r.reward_amount_owed_1,reward_amount_owed_2:r.reward_amount_owed_2}:null}async updatePoolRewarder(e,n){const r=await this.sdk.Resources.getPool(e),i=r.rewarder_last_updated_time;if(r.rewarder_last_updated_time=n,r.liquidity===0||n.eq(i))return r;const s=n.div(new I(1e3)).sub(new I(i)).add(new I(15)),o=r.rewarder_infos;for(let a=0;a<o.length;a+=1){const c=o[a],u=ot.checkMulDivFloor(s,new I(c.emissions_per_second),new I(r.liquidity),128);this.growthGlobal[a]=new I(c.growth_global).add(new I(u))}return r}async posRewardersAmount(e,n,r,i){const s=Date.parse(new Date().toString()),o=await this.updatePoolRewarder(e,new I(s)),a=await this.sdk.Resources.getPositionInfo(o,n),c=parseInt(a.tick_lower_index,10),u=parseInt(a.tick_upper_index,10),l=oE(o,r,i,c,u,this.growthGlobal),d=[],h=[];if(l.length>0){const y=ot.subUnderflowU128(l[0],new I(a.reward_growth_inside_0)),b=ot.checkMulShiftRight(new I(a.liquidity),y,64,256);d.push(l[0]),h.push({amount_owed:new I(a.reward_amount_owed_0).add(b),coin_address:o.rewarder_infos[0].coinAddress})}if(l.length>1){const y=ot.subUnderflowU128(l[1],new I(a.reward_growth_inside_1)),b=ot.checkMulShiftRight(new I(a.liquidity),y,64,256);d.push(l[1]),h.push({amount_owed:new I(a.reward_amount_owed_1).add(b),coin_address:o.rewarder_infos[1].coinAddress})}if(l.length>2){const y=ot.subUnderflowU128(l[2],new I(a.reward_growth_inside_2)),b=ot.checkMulShiftRight(new I(a.liquidity),y,64,256);d.push(l[2]),h.push({amount_owed:new I(a.reward_amount_owed_2).add(b),coin_address:o.rewarder_infos[2].coinAddress})}return h}async poolRewardersAmount(e,n,r,i){const s=Date.parse(new Date().toString()),o=await this.updatePoolRewarder(n,new I(s)),a=await this.sdk.Resources.getPositionList(e,[o]),c=[Ne,Ne,Ne];for(let u=0;u<a.length;u+=1){const l=await this.posRewardersAmount(n,a[u],r[u],i[u]);for(let d=0;d<3;d+=1)c[d]=c[d].add(l[d].amount_owed)}return c}collectPosRewarderTransactionPayload(e,n=!1){const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.LiquidswapDeployer}::${ws}`,s="collect_rewarder";if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeC))],l=[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool_address)),ce.bcsSerializeU8(e.index),ce.bcsSerializeUint64(e.pos_index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const o=dt(i,s),a=[e.coinTypeA,e.coinTypeB,e.coinTypeC],c=[e.pool_address,e.index,e.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}collectPoolRewarderTransactionPayload(e,n=!1){if(e.rewarder_nums===1){const s={pool_address:e.pool_address,index:0,pos_index:e.pos_index,coinTypeA:e.coinTypeA,coinTypeB:e.coinTypeB,coinTypeC:e.coinTypeC};return this.collectPosRewarderTransactionPayload(s,n)}const{modules:r}=this.sdk.sdkOptions.networkOptions,i=`${r.ClmmIntegrate}::${Of}`;if(e.rewarder_nums===2){const s="collect_rewarder_for_two";if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeC)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeD))],l=[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool_address)),ce.bcsSerializeUint64(e.pos_index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const o=dt(i,s),a=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD],c=[e.pool_address,e.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}if(e.rewarder_nums===3){const s="collect_rewarder_for_three";if(n){const u=[new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeB)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeC)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeD)),new j.TypeTagStruct(j.StructTag.fromString(e.coinTypeE))],l=[ce.bcsToBytes(j.AccountAddress.fromHex(e.pool_address)),ce.bcsSerializeUint64(e.pos_index)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,u,l))}const o=dt(i,s),a=[e.coinTypeA,e.coinTypeB,e.coinTypeC,e.coinTypeD,e.coinTypeE],c=[e.pool_address,e.pos_index];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}}},cE=5*60*1e3,Dc=24*60*60*1e3;function qp(t){return Date.parse(new Date().toString())+t}var uE=class{constructor(e){this._cache={},this._sdk=e}get sdk(){return this._sdk}async getOwnerTokenList(e,n,r=!1){const i="getAllRegisteredTokenList";if(!r){const d=this.getCacheData(i);if(d!==null)return d}const{modules:s}=this._sdk.sdkOptions.networkOptions,o=`${s.TokenDeployer}::coin_list`,a="fetch_full_list",c=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(o,a,[],[ce.bcsToBytes(j.AccountAddress.fromHex(n))])),u=await qc(new Qt(this.sdk.sdkOptions.rpcUrl),e,c),l=this.transformTokenData(u.changes);return this.updateCache(i,l,Dc),l}async getTokenListByCoinType(e,n=0,r=20){const{fraphQLUrl:i}=this._sdk.sdkOptions;if(!i)throw Error("The fraphQLUrl is not configured in the SDK");const s={query:`query MyQuery {
  coin_infos(
  limit: ${r}, offset: ${n},  order_by: {name: desc}, where: {  coin_type: {_regex: "${e}"}}
  ) {
    coin_type
    symbol
    name
    decimals
    creator_address
    coin_type_hash
  }
}
`,variables:null,operationName:"MyQuery"},o=await Yr.post(i,s),a=[];return o.data.data.coin_infos.forEach(c=>{a.push({address:c.coin_type,symbol:c.symbol,official_symbol:c.symbol,decimals:c.decimals,name:c.name,coingecko_id:"",project_url:"",logo_url:""})}),a}async getSpecifyTokenListByCache(e){const n="getAllRegisteredTokenList",r=this.getCacheData(n),i=[];if(r!==null){const s=r;for(const o of e)for(const a of s)if(o===a.address){i.push(a);continue}}return i}async getAllRegisteredTokenList(e,n=!1){const r="getAllRegisteredTokenList";if(!n){const d=this.getCacheData(r);if(d!==null)return d}const{modules:i}=this._sdk.sdkOptions.networkOptions,s=`${i.TokenDeployer}::coin_list`,o="fetch_all_registered_coin_info",a=new Qt(this.sdk.sdkOptions.rpcUrl),c=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,[],[])),u=await qc(a,e,c),l=this.transformTokenData(u.changes);return this.updateCache(r,l,Dc),l}transformTokenData(e){const n=[],{modules:r}=this._sdk.sdkOptions.networkOptions,i=e.filter(a=>a.type!=="write_resource"?!1:a.data.type===`${r.TokenDeployer}::coin_list::CoinList<${r.TokenDeployer}::coin_list::CoinInfo>`);if(i.length===0)return n;const o=i[0].data.data;return"full_list"in o&&o.full_list.value_list.forEach(a=>{const c={...a},u=a.extensions.data;for(const l of u){if(l.key==="labels")try{l.value=JSON.parse(decodeURIComponent(Rf.decode(l.value)))}catch{}c[l.key]=l.value}n.push(c)}),n}async getAllRegisteredPoolList(e,n=!1){const r="getAllRegisteredPoolList";if(!n){const d=this.getCacheData(r);if(d!==null)return d}const{modules:i}=this._sdk.sdkOptions.networkOptions,s=`${i.TokenDeployer}::lp_list`,o="fetch_all_registered_coin_info",a=new Qt(this.sdk.sdkOptions.rpcUrl),c=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,[],[])),u=await qc(a,e,c),l=this.transformPoolData(u.changes);return this.updateCache(r,l,Dc),l}async getOwnerPoolList(e,n,r=!1){const i="getAllRegisteredPoolList";if(!r){const d=this.getCacheData(i);if(d!==null)return d}const{modules:s}=this._sdk.sdkOptions.networkOptions,o=`${s.TokenDeployer}::lp_list`,a="fetch_full_list",c=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(o,a,[],[ce.bcsToBytes(j.AccountAddress.fromHex(n))])),u=await qc(new Qt(this.sdk.sdkOptions.rpcUrl),e,c),l=this.transformPoolData(u.changes);return this.updateCache(i,l,Dc),l}transformPoolData(e){const n=[],{modules:r}=this._sdk.sdkOptions.networkOptions,i=e.filter(a=>a.type!=="write_resource"?!1:a.data.type===`${r.TokenDeployer}::lp_list::PoolList<${r.TokenDeployer}::lp_list::PoolInfo>`);if(i.length===0)return n;const o=i[0].data.data;return"full_list"in o&&o.full_list.value_list.forEach(a=>{const c={...a},u=a.extensions.data;for(const l of u){if(l.key==="labels")try{l.value=JSON.parse(decodeURIComponent(Rf.decode(l.value)))}catch{}c[l.key]=l.value}n.push(c)}),n}async getOwnerWarpPoolList(e,n,r=!1){const i=await this.getOwnerTokenList(n,e,r),s=await this.getOwnerPoolList(n,e,r),o=[];for(const a of s){for(const c of i)c.address===a.coin_a_address&&(a.coinA=c),c.address===a.coin_b_address&&(a.coinB=c);o.push(a)}return o}async getWarpPoolList(e,n=!1){const r=await this.getAllRegisteredTokenList(e,n),i=await this.getAllRegisteredPoolList(e,n),s=[];for(const o of i){for(const a of r)a.address===o.coin_a_address&&(o.coinA=a),a.address===o.coin_b_address&&(o.coinB=a);s.push(o)}return s}updateCache(e,n,r=cE){let i=this._cache[e];i?(i.overdueTime=qp(r),i.value=n):i=new nd(n,qp(r)),this._cache[e]=i}getCacheData(e){const n=this._cache[e];return n!==void 0&&n.getCacheData()?n.value:null}},lE=60,dn={maxAmountOut:Ne,path:[]};function Np(t,e){return{pair:`${t.toUpperCase()}-${e.toUpperCase()}`,reversePair:`${e.toUpperCase()}-${t.toUpperCase()}`}}function dE(t,e,n){const r=t.length;if(!t.length)throw new Error("routerTable is empty");if(r!==e.length)throw new Error("routerTable length not equal to feeRateArray length");let i=new I(0),s=[];const o=100/(t[0].length-1);switch(r){case 1:{i=t[0][t[0].length-1],s.push({feeRate:e[0],percent:100});break}case 2:{for(let a=0;a<t[0].length;a+=1){const c=t[0].length-a-1,u=t[0][a].add(t[1][c]);(u.gt(i)&&n||u.lt(i)&&!n)&&(s=[],i=u,a>0&&s.push({feeRate:e[0],percent:a*o}),c>0&&s.push({feeRate:e[1],percent:c*o}))}break}case 3:{for(let a=0;a<t[0].length;a+=1)for(let c=0;c<t[0].length-a;c+=1){const u=t[0].length-a-c-1,l=t[0][a].add(t[1][c]).add(t[2][u]);(l.gt(i)&&n||l.lt(i)&&!n)&&(s=[],i=l,a>0&&s.push({feeRate:e[0],percent:o*a}),c>0&&s.push({feeRate:e[1],percent:c*o}),u>0&&s.push({feeRate:e[2],percent:u*o}))}break}case 4:{for(let a=0;a<t[0].length;a+=1)for(let c=0;c<t[0].length-a;c+=1)for(let u=0;u<t[0].length-a-c;u+=1){const l=t[0].length-a-c-u-1,d=t[0][a].add(t[1][c]).add(t[2][u]).add(t[3][l]);(d.gt(i)&&n||d.lt(i)&&!n)&&(s=[],i=d,a>0&&s.push({feeRate:e[0],percent:o*a}),c>0&&s.push({feeRate:e[1],percent:c*o}),u>0&&s.push({feeRate:e[2],percent:u*o}),l>0&&s.push({feeRate:e[3],percent:l*o}))}break}}return{maxAmountOut:i,path:s}}var fE=class{constructor(e){this.priceProviders=[],this.pathProviders=[],this.coinProviders={coins:[]},this.graph=new ww,this._coinSymbolMap=new Map,this._coinAddressMap=new Map,this.poolAddressMap=new Map,this.poolMap=new Map,this.ticksMap=new Map,this._sdk=e,this.leastRefreshTime=Date.now(),this.createTxParams={partitionQuantities:[],swapDirects:[],poolAddresses:[],amounts:[],partner:"",coinTypes:[]},this.splitUnit=3,this.getPoolAddressMapAndDirection=this.getPoolAddressMapAndDirection.bind(this),this.setCoinList=this.setCoinList.bind(this),this.loadGraph=this.loadGraph.bind(this),this.addCoinProvider=this.addCoinProvider.bind(this),this.addPathProvider=this.addPathProvider.bind(this),this.addPriceProvider=this.addPriceProvider.bind(this),this.splitSwap=this.splitSwap.bind(this),this.splitSwapForRouter=this.splitSwapForRouter.bind(this),this.splitSwapForRouters=this.splitSwapForRouters.bind(this),this.refreshPoolofSwapRouter=this.refreshPoolofSwapRouter.bind(this),this.getBestSplitResultInOnePair=this.getBestSplitResultInOnePair.bind(this),this.findBestSplitPriceWithOneSkip=this.findBestSplitPriceWithOneSkip.bind(this),this.findBestSplitPriceWithTwoSkip=this.findBestSplitPriceWithTwoSkip.bind(this),this.findBestSplitPriceWithThreeSkip=this.findBestSplitPriceWithThreeSkip.bind(this),this.findBestSplitPrice=this.findBestSplitPrice.bind(this)}get sdk(){return this._sdk}getPoolAddressMapAndDirection(e,n){const{pair:r,reversePair:i}=Np(e,n);let s=this.poolAddressMap.get(r);if(s)return{addressMap:s,direction:!0};if(s=this.poolAddressMap.get(i),s)return{addressMap:s,direction:!1}}async setCoinList(){this.coinProviders.coins.forEach(e=>{this._coinSymbolMap.set(e.symbol,e),this._coinAddressMap.set(e.address,e)})}loadGraph(){return this.pathProviders.forEach(e=>{const{paths:n}=e;n.forEach(r=>{var i,s;const o=(i=this.graph.getVertexByKey(r.base))!=null?i:new Iu(r.base),a=(s=this.graph.getVertexByKey(r.quote))!=null?s:new Iu(r.quote);this.graph.addEdge(new mw(o,a));const c=this._coinSymbolMap.get(r.base),u=this._coinSymbolMap.get(r.quote);if(c!=null&&u!=null){const l=Np(r.base,r.quote).pair;this.poolAddressMap.set(l,r.addressMap)}})}),this}addPathProvider(e){return this.pathProviders.push(e),this}addPriceProvider(e){return this.priceProviders.push(e),this}addCoinProvider(e){return this.coinProviders=e,this}tokenInfo(e){return this._coinAddressMap.has(e)?this._coinAddressMap.get(e):this._coinSymbolMap.get(e)}getCreateTxParams(){return this.createTxParams}getBestSplitResultInOnePair(e,n,r,i,s){if(r.eq(Ne))return{maxAmountOut:Ne,path:[]};const o=[],a=[],c=this.getPoolAddressMapAndDirection(e,n),u=c==null?void 0:c.addressMap;u&&u.forEach((h,y)=>{const b=this.poolMap.get(h),T=this.ticksMap.get(h),k=new iE(r,0,b,i,s,T);k.computeSwap();const O=k.getSplitSwapResult();o.push(O.amountOutArray),a.push(y)});const l=dE(o.slice(0,4),a.slice(0,4),s);return{maxAmountOut:l.maxAmountOut,path:l.path}}findBestSplitPriceWithOneSkip(e,n,r,i,s){const o={maxAmountOut:new I(0),path:[],poolAddresses:[],amounts:[]},a=[],c=[],u=[];if(!s){let h=dn,y=dn;i?(h=this.getBestSplitResultInOnePair(e[0][0],e[0][1],n,r[0][0],i),y=this.getBestSplitResultInOnePair(e[0][2],e[0][3],h.maxAmountOut,r[0][1],i),o.maxAmountOut=y.maxAmountOut):(y=this.getBestSplitResultInOnePair(e[0][2],e[0][3],n,r[0][1],i),h=this.getBestSplitResultInOnePair(e[0][0],e[0][1],y.maxAmountOut,r[0][0],i),o.maxAmountOut=h.maxAmountOut),a.push(h.path),a.push([]),a.push(y.path);const b=[],T=[];h.path.forEach(B=>{var v;i?b.push(n.muln(B.percent).divn(100).toString()):b.push(y.maxAmountOut.muln(B.percent).divn(100).toString());const _=(v=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:v.addressMap.get(B.feeRate);T.push(_)});const k=[],O=[];return y.path.forEach(B=>{var v;i?k.push(h.maxAmountOut.muln(B.percent).divn(100).toString()):k.push(n.muln(B.percent).divn(100).toString());const _=(v=this.getPoolAddressMapAndDirection(e[0][2],e[0][3]))==null?void 0:v.addressMap.get(B.feeRate);O.push(_)}),c.push(b),c.push([]),c.push(k),u.push(T),u.push([]),u.push(O),o.amounts=c,o.path=a,o.poolAddresses=u,i?o.maxAmountOut=y.maxAmountOut:o.maxAmountOut=h.maxAmountOut,o}let l=Ne;i||(l=new I(2**64));const d=mu(n,this.splitUnit);for(let h=0;h<d.length;h+=1){const y=this.getBestSplitResultInOnePair(e[0][0],e[0][1],d[h],r[0][0],i);let b=dn,T=dn;i?(b=this.getBestSplitResultInOnePair(e[1][0],e[1][1],d[d.length-h],r[1][0],i),T=this.getBestSplitResultInOnePair(e[1][2],e[1][3],b.maxAmountOut,r[1][1],i)):(T=this.getBestSplitResultInOnePair(e[1][2],e[1][3],d[d.length-h],r[1][1],i),b=this.getBestSplitResultInOnePair(e[1][0],e[1][1],T.maxAmountOut,r[1][0],i));const k=[],O=[];y.path.forEach(Y=>{var J;k.push(n.muln(Y.percent).divn(100).toString());const q=(J=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:J.addressMap.get(Y.feeRate);O.push(q)});const B=[],v=[];b.path.forEach(Y=>{var J;i?B.push(n.muln(Y.percent).divn(100).toString()):B.push(T.maxAmountOut.muln(Y.percent).divn(100).toString());const q=(J=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:J.addressMap.get(Y.feeRate);v.push(q)});const _=[],S=[];T.path.forEach(Y=>{var J;i?_.push(b.maxAmountOut.muln(Y.percent).divn(100).toString()):_.push(n.muln(Y.percent).divn(100).toString()),_.push(b.maxAmountOut.muln(Y.percent).divn(100).toString());const q=(J=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:J.addressMap.get(Y.feeRate);S.push(q)});const M=[],F=[],W=[];(T.maxAmountOut.add(y.maxAmountOut).gt(l)||b.maxAmountOut.add(y.maxAmountOut).lt(l))&&(i?l=T.maxAmountOut.add(y.maxAmountOut):l=b.maxAmountOut.add(y.maxAmountOut),M.push(b.path),M.push(y.path),M.push(T.path),F.push(B),F.push(k),F.push(_),W.push(v),W.push(O),W.push(S),o.maxAmountOut=l,o.path=M,o.amounts=F,o.poolAddresses=W)}return o}findBestSplitPriceWithTwoSkip(e,n,r,i,s){const o={maxAmountOut:new I(0),path:[],amounts:[],poolAddresses:[]},a=mu(n,this.splitUnit);let c=Ne;if(i||(c=new I(2**64)),!s){for(let u=0;u<a.length;u+=1){let l=dn,d=dn,h=dn,y=dn;i?(l=this.getBestSplitResultInOnePair(e[0][0],e[0][1],a[a.length-u],r[1][0],i),d=this.getBestSplitResultInOnePair(e[0][2],e[0][3],l.maxAmountOut,r[1][1],i),h=this.getBestSplitResultInOnePair(e[1][0],e[1][1],a[a.length-u],r[1][0],i),y=this.getBestSplitResultInOnePair(e[1][2],e[1][3],h.maxAmountOut,r[1][1],i)):(d=this.getBestSplitResultInOnePair(e[0][2],e[0][3],a[a.length-u],r[1][1],i),l=this.getBestSplitResultInOnePair(e[0][0],e[0][1],d.maxAmountOut,r[1][0],i),y=this.getBestSplitResultInOnePair(e[1][2],e[1][3],a[a.length-u],r[1][1],i),h=this.getBestSplitResultInOnePair(e[1][0],e[1][1],y.maxAmountOut,r[1][0],i));const b=[];l.path.forEach(v=>{var _;i?b.push(n.muln(v.percent).divn(100).toString()):b.push(d.maxAmountOut.muln(v.percent).divn(100).toString()),(_=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null||_.addressMap.get(v.feeRate)});const T=[];d.path.forEach(v=>{var _;i?T.push(l.maxAmountOut.muln(v.percent).divn(100).toString()):T.push(n.muln(v.percent).divn(100).toString()),(_=this.getPoolAddressMapAndDirection(e[0][2],e[0][3]))==null||_.addressMap.get(v.feeRate)});const k=[];h.path.forEach(v=>{var _;i?k.push(n.muln(v.percent).divn(100).toString()):k.push(y.maxAmountOut.muln(v.percent).divn(100).toString()),(_=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null||_.addressMap.get(v.feeRate)});const O=[];y.path.forEach(v=>{var _;i?O.push(h.maxAmountOut.muln(v.percent).divn(100).toString()):O.push(n.muln(v.percent).divn(100).toString()),(_=this.getPoolAddressMapAndDirection(e[1][1],e[1][2]))==null||_.addressMap.get(v.feeRate)});const B=[];(d.maxAmountOut.add(y.maxAmountOut).gt(c)&&i||!i&&l.maxAmountOut.add(h.maxAmountOut).lt(c))&&(i?c=d.maxAmountOut.add(y.maxAmountOut):c=l.maxAmountOut.add(h.maxAmountOut),B.push(l.path),B.push(d.path),B.push([]),B.push(h.path),B.push(y.path),o.maxAmountOut=c,o.path=B)}return o}for(let u=0;u<a.length;u+=1)for(let l=0;l<a.length-u-1;l+=1){const d=a.length-u-l-1,h=this.getBestSplitResultInOnePair(e[0][0],e[0][1],a[d],r[0][0],i);let y=dn,b=dn,T=dn,k=dn;i?(y=this.getBestSplitResultInOnePair(e[1][0],e[1][1],a[l],r[1][0],i),b=this.getBestSplitResultInOnePair(e[1][2],e[1][3],y.maxAmountOut,r[1][1],i),T=this.getBestSplitResultInOnePair(e[2][0],e[2][1],a[u],r[2][0],i),k=this.getBestSplitResultInOnePair(e[2][2],e[2][3],T.maxAmountOut,r[2][1],i)):(b=this.getBestSplitResultInOnePair(e[1][2],e[1][3],a[l],r[1][1],i),y=this.getBestSplitResultInOnePair(e[1][0],e[1][1],b.maxAmountOut,r[1][0],i),k=this.getBestSplitResultInOnePair(e[2][2],e[2][3],k.maxAmountOut,r[2][1],i),T=this.getBestSplitResultInOnePair(e[2][0],e[2][1],a[u],r[2][0],i));const O=[],B=[];y.path.forEach(p=>{var w;i?O.push(n.muln(p.percent).divn(100).toString()):O.push(b.maxAmountOut.muln(p.percent).divn(100).toString());const R=(w=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:w.addressMap.get(p.feeRate);B.push(R)});const v=[],_=[];b.path.forEach(p=>{var w;i?v.push(y.maxAmountOut.muln(p.percent).divn(100).toString()):v.push(n.muln(p.percent).divn(100).toString());const R=(w=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:w.addressMap.get(p.feeRate);_.push(R)});const S=[],M=[];T.path.forEach(p=>{var w;i?S.push(n.muln(p.percent).divn(100).toString()):S.push(k.maxAmountOut.muln(p.percent).divn(100).toString());const R=(w=this.getPoolAddressMapAndDirection(e[2][0],e[2][1]))==null?void 0:w.addressMap.get(p.feeRate);M.push(R)});const F=[],W=[];k.path.forEach(p=>{var w;i?F.push(T.maxAmountOut.muln(p.percent).divn(100).toString()):F.push(n.muln(p.percent).divn(100).toString());const R=(w=this.getPoolAddressMapAndDirection(e[2][2],e[2][3]))==null?void 0:w.addressMap.get(p.feeRate);W.push(R)});const Y=[],J=[];h.path.forEach(p=>{var w;Y.push(n.muln(p.percent).divn(100).toString());const R=(w=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:w.addressMap.get(p.feeRate);J.push(R)});let q=Ne;i?q=h.maxAmountOut.add(b.maxAmountOut).add(k.maxAmountOut):q=h.maxAmountOut.add(y.maxAmountOut).add(T.maxAmountOut);const L=[],E=[],f=[];(q.gt(c)&&i||q.lt(c)&&!i)&&(c=q,L.push(y.path),L.push(T.path),L.push(h.path),L.push(b.path),L.push(k.path),E.push(O),E.push(S),E.push(Y),E.push(v),E.push(F),f.push(B),f.push(M),f.push(J),f.push(_),f.push(W),o.maxAmountOut=q,o.path=L,o.amounts=E,o.poolAddresses=f)}return o}findBestSplitPriceWithThreeSkip(e,n,r,i,s){const o={maxAmountOut:new I(0),path:[],amounts:[],poolAddresses:[]};let a=Ne;i||(a=new I(2**64));const c=mu(n,this.splitUnit);for(let u=0;u<c.length;u+=1)for(let l=0;l<c.length-u-1;l+=1)if(s){const h=c.length-u-l-1,y=this.getBestSplitResultInOnePair(e[0][0],e[0][1],c[0],r[0][0],i);let b=dn,T=dn,k=dn,O=dn,B=dn,v=dn;i?(b=this.getBestSplitResultInOnePair(e[1][0],e[1][1],c[l],r[1][0],i),T=this.getBestSplitResultInOnePair(e[1][2],e[1][3],b.maxAmountOut,r[1][1],i),k=this.getBestSplitResultInOnePair(e[2][0],e[2][1],c[u],r[2][0],i),O=this.getBestSplitResultInOnePair(e[2][2],e[2][3],k.maxAmountOut,r[2][1],i),B=this.getBestSplitResultInOnePair(e[3][0],e[3][1],c[h],r[3][0],i),v=this.getBestSplitResultInOnePair(e[3][2],e[3][3],k.maxAmountOut,r[3][1],i)):(T=this.getBestSplitResultInOnePair(e[1][2],e[1][3],c[l],r[1][1],i),b=this.getBestSplitResultInOnePair(e[1][0],e[1][1],T.maxAmountOut,r[1][0],i),O=this.getBestSplitResultInOnePair(e[2][2],e[2][3],c[u],r[2][1],i),k=this.getBestSplitResultInOnePair(e[2][0],e[2][1],O.maxAmountOut,r[2][0],i),v=this.getBestSplitResultInOnePair(e[3][2],e[3][3],c[h],r[3][1],i),B=this.getBestSplitResultInOnePair(e[3][0],e[3][1],O.maxAmountOut,r[3][0],i));const _=[],S=[];b.path.forEach(m=>{var D;i?_.push(n.muln(m.percent).divn(100).toString()):_.push(T.maxAmountOut.muln(m.percent).divn(100).toString());const we=(D=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:D.addressMap.get(m.feeRate);S.push(we)});const M=[],F=[];T.path.forEach(m=>{var D;i?M.push(b.maxAmountOut.muln(m.percent).divn(100).toString()):M.push(n.muln(m.percent).divn(100).toString());const we=(D=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:D.addressMap.get(m.feeRate);F.push(we)});const W=[],Y=[];k.path.forEach(m=>{var D;i?W.push(n.muln(m.percent).divn(100).toString()):W.push(O.maxAmountOut.muln(m.percent).divn(100).toString());const we=(D=this.getPoolAddressMapAndDirection(e[2][0],e[2][1]))==null?void 0:D.addressMap.get(m.feeRate);Y.push(we)});const J=[],q=[];O.path.forEach(m=>{var D;i?J.push(k.maxAmountOut.muln(m.percent).divn(100).toString()):J.push(n.muln(m.percent).divn(100).toString());const we=(D=this.getPoolAddressMapAndDirection(e[2][2],e[2][3]))==null?void 0:D.addressMap.get(m.feeRate);q.push(we)});const L=[],E=[];B.path.forEach(m=>{var D;i?L.push(n.muln(m.percent).divn(100).toString()):L.push(v.maxAmountOut.muln(m.percent).divn(100).toString());const we=(D=this.getPoolAddressMapAndDirection(e[3][0],e[3][1]))==null?void 0:D.addressMap.get(m.feeRate);E.push(we)});const f=[],p=[];v.path.forEach(m=>{var D;i?f.push(B.maxAmountOut.muln(m.percent).divn(100).toString()):f.push(n.muln(m.percent).divn(100).toString());const we=(D=this.getPoolAddressMapAndDirection(e[3][2],e[3][3]))==null?void 0:D.addressMap.get(m.feeRate);p.push(we)});const w=[],R=[];y.path.forEach(m=>{var D;w.push(n.muln(m.percent).divn(100).toString());const we=(D=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:D.addressMap.get(m.feeRate);R.push(we)});const N=[],H=[],K=[];let C=Ne;i?C=T.maxAmountOut.add(O.maxAmountOut).add(v.maxAmountOut):C=b.maxAmountOut.add(k.maxAmountOut).add(B.maxAmountOut),(C.gt(a)&&i||C.lt(a)&&!i)&&(a=C,N.push(b.path),N.push(k.path),N.push(B.path),N.push(y.path),N.push(T.path),N.push(O.path),N.push(v.path),H.push(_),H.push(W),H.push(L),H.push(w),H.push(M),H.push(J),H.push(f),K.push(S),K.push(Y),K.push(E),K.push(R),K.push(F),K.push(q),K.push(p),o.maxAmountOut=C,o.path=N,o.amounts=H,o.poolAddresses=K)}else for(let d=0;d<c.length-u-l-1;d+=1){const h=c.length-u-l-d-1,y=this.getBestSplitResultInOnePair(e[0][0],e[0][1],c[d],r[0][0],i);let b=dn,T=dn,k=dn,O=dn,B=dn,v=dn;i?(b=this.getBestSplitResultInOnePair(e[1][0],e[1][1],c[l],r[1][0],i),T=this.getBestSplitResultInOnePair(e[1][2],e[1][3],b.maxAmountOut,r[1][1],i),k=this.getBestSplitResultInOnePair(e[2][0],e[2][1],c[u],r[2][0],i),O=this.getBestSplitResultInOnePair(e[2][2],e[2][3],k.maxAmountOut,r[2][1],i),B=this.getBestSplitResultInOnePair(e[3][0],e[3][1],c[h],r[3][0],i),v=this.getBestSplitResultInOnePair(e[3][2],e[3][3],k.maxAmountOut,r[3][1],i)):(T=this.getBestSplitResultInOnePair(e[1][2],e[1][3],c[l],r[1][1],i),b=this.getBestSplitResultInOnePair(e[1][0],e[1][1],T.maxAmountOut,r[1][0],i),O=this.getBestSplitResultInOnePair(e[2][2],e[2][3],c[u],r[2][1],i),k=this.getBestSplitResultInOnePair(e[2][0],e[2][1],O.maxAmountOut,r[2][0],i),v=this.getBestSplitResultInOnePair(e[3][2],e[3][3],c[h],r[3][1],i),B=this.getBestSplitResultInOnePair(e[3][0],e[3][1],O.maxAmountOut,r[3][0],i));const _=[],S=[];b.path.forEach(K=>{var C;i?_.push(n.muln(K.percent).divn(100).toString()):_.push(T.maxAmountOut.muln(K.percent).divn(100).toString());const m=(C=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:C.addressMap.get(K.feeRate);S.push(m)});const M=[],F=[];T.path.forEach(K=>{var C;i?M.push(b.maxAmountOut.muln(K.percent).divn(100).toString()):M.push(n.muln(K.percent).divn(100).toString());const m=(C=this.getPoolAddressMapAndDirection(e[0][2],e[0][3]))==null?void 0:C.addressMap.get(K.feeRate);F.push(m)});const W=[],Y=[];k.path.forEach(K=>{var C;i?W.push(n.muln(K.percent).divn(100).toString()):W.push(O.maxAmountOut.muln(K.percent).divn(100).toString());const m=(C=this.getPoolAddressMapAndDirection(e[1][0],e[1][1]))==null?void 0:C.addressMap.get(K.feeRate);Y.push(m)});const J=[],q=[];O.path.forEach(K=>{var C;i?J.push(k.maxAmountOut.muln(K.percent).divn(100).toString()):J.push(n.muln(K.percent).divn(100).toString());const m=(C=this.getPoolAddressMapAndDirection(e[1][2],e[1][3]))==null?void 0:C.addressMap.get(K.feeRate);q.push(m)});const L=[],E=[];B.path.forEach(K=>{var C;i?L.push(n.muln(K.percent).divn(100).toString()):L.push(v.maxAmountOut.muln(K.percent).divn(100).toString());const m=(C=this.getPoolAddressMapAndDirection(e[2][0],e[2][1]))==null?void 0:C.addressMap.get(K.feeRate);E.push(m)});const f=[],p=[];v.path.forEach(K=>{var C;i?f.push(B.maxAmountOut.muln(K.percent).divn(100).toString()):f.push(n.muln(K.percent).divn(100).toString());const m=(C=this.getPoolAddressMapAndDirection(e[2][2],e[2][3]))==null?void 0:C.addressMap.get(K.feeRate);p.push(m)});let w=Ne;i?w=y.maxAmountOut.add(T.maxAmountOut).add(O.maxAmountOut).add(v.maxAmountOut):w=y.maxAmountOut.add(b.maxAmountOut).add(k.maxAmountOut).add(B.maxAmountOut);const R=[],N=[],H=[];(w.gt(a)&&i||!i&&w.lt(a))&&(a=w,R.push(b.path),R.push(k.path),R.push(B.path),R.push(y.path),R.push(T.path),R.push(O.path),R.push(v.path),N.push(_),N.push(M),N.push(W),N.push([]),N.push(J),N.push(L),N.push(f),H.push(S),H.push(F),H.push(Y),H.push([]),H.push(q),H.push(E),H.push(p),o.maxAmountOut=w,o.path=R,o.amounts=N,o.poolAddresses=H)}return o}findBestSplitPrice(e,n,r,i,s){var o,a,c,u;let l=e.length,d=!1;e[0].length===2&&(d=!0,l-=1);let h={maxAmountOut:Ne,path:[],poolAddresses:[],amounts:[]},y={maxAmountOut:Ne,path:[]};const b=[],T=[];switch(l){case 0:y=this.getBestSplitResultInOnePair(e[0][0],e[0][1],n,r[0][0],i),h.maxAmountOut=y.maxAmountOut,h.path.push(y.path),y.path.forEach(S=>{var M;const F=(M=this.getPoolAddressMapAndDirection(e[0][0],e[0][1]))==null?void 0:M.addressMap.get(S.feeRate);b.push(F);const W=n.muln(S.percent).divn(100).toString();T.push(W)}),h.amounts.push(T),h.poolAddresses.push(b);break;case 1:h=this.findBestSplitPriceWithOneSkip(e,n,r,i,d);break;case 2:h=this.findBestSplitPriceWithTwoSkip(e,n,r,i,d);break;case 3:h=this.findBestSplitPriceWithThreeSkip(e,n,r,i,d);break}console.log(" ~ file: routerModule.ts:1089 ~ RouterModule ~ splitRouterResult:",h),console.log(" ~ file: routerModule.ts:754 ~ RouterModule ~ splitRouterResult:",h.maxAmountOut.toString()),h.path.forEach(S=>{S.forEach(M=>{console.log({feeRate:M.feeRate,percent:M.percent})})});const k=[];for(let S=0;S<h.path.length;S+=1){const{length:M}=h.path[S];k.push(M)}console.log("a2b",r);const O=[];for(let S=0;S<r.length;S+=1){const{length:M}=r[S];M!==1&&O.push(r[S][0])}for(let S=0;S<r.length;S+=1){const{length:M}=r[S];M===1&&O.push(r[S][0])}for(let S=0;S<r.length;S+=1){const{length:M}=r[S];M!==1&&O.push(r[S][1])}const B=[];O.forEach((S,M)=>{const F=[];for(let W=0;W<k[M];W+=1)F.push(S);B.push(F)});const v=[],_=(o=this._coinSymbolMap.get(e[0][0]))==null?void 0:o.address;v.push(_);for(let S=0;S<e.length;S+=1)if(e[S].length!==2){const M=(a=this._coinSymbolMap.get(e[S][1]))==null?void 0:a.address;v.push(M)}if(e[0].length===2){const S=(c=this._coinSymbolMap.get(e[0][1]))==null?void 0:c.address;v.push(S)}else{const S=(u=this._coinSymbolMap.get(e[0][e[0].length-1]))==null?void 0:u.address;v.push(S)}return this.createTxParams={partitionQuantities:k,swapDirects:B,poolAddresses:h.poolAddresses,amounts:h.amounts,partner:s,coinTypes:v},console.log(" ~ file: routerModule.ts:789 ~ RouterModule ~ this.createTxParams:",this.createTxParams),h}async price(e,n,r,i,s){var o,a;const c=this.tokenInfo(e),u=this.tokenInfo(n);if(c===void 0||u===void 0)return;const l=this.graph.getVertexByKey(c.symbol),d=this.graph.getVertexByKey(u.symbol),h=this.graph.findAllPath(l,d),y=Array.from(h);console.log(" ~ file: routerModule.ts:803 ~ RouterModule ~ price ~ allPaths:",y);const b=[],T=[],k=[];for(let O=0;O<y.length;O+=1){const B=y[O];if(B.length>3)continue;const v=[],_=[];for(let S=0;S<B.length-1;S+=1){const M=B[S].value.toString(),F=B[S+1].value.toString(),W=(o=this.getPoolAddressMapAndDirection(M,F))==null?void 0:o.addressMap,Y=(a=this.getPoolAddressMapAndDirection(M,F))==null?void 0:a.direction;W!==void 0&&Y!==void 0&&(_.push(Y),v.push(M),v.push(F),W.forEach(J=>{b.push(J)}))}if(k.push(_),T.push(v),v.length===2&&T.length>1){const S=T[0].slice();T[0]=v,T[T.length-1]=S}}return await this.refreshPoolofSwapRouter(b),this.findBestSplitPrice(T,r,k,i,s)}splitSwap(e,n,r=!1){const{modules:i}=this.sdk.sdkOptions.networkOptions,s=`${i.ClmmIntegrate}::${Of}`,o=n?"exact_input_split_swap":"exact_output_split_swap";if(console.log({funcName:o}),r){const l=[];for(const y of e.coinTypes){const b=new j.TypeTagStruct(j.StructTag.fromString(y));l.push(b)}const d=[];e.poolAddresses.forEach(y=>{const b=[];y.forEach(T=>{b.push(j.AccountAddress.fromHex(T))}),d.push(b)});const h=[ce.bcsSerializeUint64(e.partitionQuantities[0]),ce.serializeVectorWithFunc(e.swapDirects[0],"serializeBool"),YA(d[0]),ce.serializeVectorWithFunc(e.amounts[0],"serializeU64"),ce.bcsSerializeStr(e.partner)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,o,l,h))}const a=dt(s,o),c=e.coinTypes,u=[e.partitionQuantities[0].toString(),e.swapDirects[0].toString(),e.poolAddresses[0].toString(),e.amounts[0].toString(),e.partner.toString()];return{type:"entry_function_payload",function:a,type_arguments:c,arguments:u}}splitSwapForRouter(e,n,r=!1){const{modules:i}=this.sdk.sdkOptions.networkOptions,s=`${i.ClmmIntegrate}::${Of}`;if(r){const u=[];for(const h of e.coinTypes){const y=new j.TypeTagStruct(j.StructTag.fromString(h));u.push(y)}const l=[];e.poolAddresses.forEach(h=>{const y=[];h.forEach(b=>{y.push(j.AccountAddress.fromHex(b))}),l.push(y)});const d=[ce.serializeVectorWithFunc(e.partitionQuantities,"serializeU64"),$p(e.swapDirects,"serializeBool"),ZA(l),$p(e.amounts,"serializeU64"),ce.bcsSerializeStr(e.partner)];return new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(s,n,u,d))}const o=dt(s,n),a=e.coinTypes,c=[e.partitionQuantities.toString(),e.swapDirects.toString(),e.poolAddresses.toString(),e.amounts.toString(),e.partner.toString()];return{type:"entry_function_payload",function:o,type_arguments:a,arguments:c}}splitSwapForRouters(e,n,r=!1){const{length:i}=e.partitionQuantities;let s;switch(i){case 3:n?s="exact_input_split_swap_for_router_three":s="exact_output_split_swap_for_router_three";break;case 5:n?s="exact_input_split_swap_for_router_four":s="exact_output_split_swap_for_router_four";break;case 7:n?s="exact_input_split_swap_for_router_five":s="exact_output_split_swap_for_router_five";break;default:return this.splitSwap(e,n,r)}return this.splitSwapForRouter(e,s,r)}async refreshPoolofSwapRouter(e){if(Date.now()-this.leastRefreshTime<lE)return;const r=await this._sdk.Resources.getPools(e);e.forEach((i,s)=>{const o=Uf(r[s]);this.poolMap.set(i,o)});for(let i=0;i<e.length;i+=1){const s=Uf(r[i]);this.poolMap.set(e[i],s);const o=await this._sdk.Fetcher.fetchTicks({pool:e[i],coinTypeA:r[i].coinTypeA,coinTypeB:r[i].coinTypeB}),a=Aw(o);this.ticksMap.set(e[i],a)}}},hE=class{constructor(t){this._sdk=t}get sdk(){return this._sdk}transformTickData(t){const e=[],{modules:n}=this._sdk.sdkOptions.networkOptions,r=t.filter(o=>o.type!=="write_resource"?!1:o.data.type===`${n.FetcherDeployer}::fetcher::FetchTicksResult`);if(r.length===0)return{ticks:e,index:0,offset:0};const s=r[0].data.data;return{ticks:s.ticks||[],index:Number(s.index),offset:Number(s.offset)}}async getTicks(t){const{modules:e,simulationAccount:n}=this.sdk.sdkOptions.networkOptions,r=new Qt(this.sdk.sdkOptions.rpcUrl),i=`${e.FetcherDeployer}::scripts`,s="fetch_ticks",o=[new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeA)),new j.TypeTagStruct(j.StructTag.fromString(t.coinTypeB))],a=[ce.bcsToBytes(j.AccountAddress.fromHex(t.pool)),ce.bcsSerializeUint64(t.index),ce.bcsSerializeUint64(t.offset),ce.bcsSerializeUint64(t.limit)],c=new j.TransactionPayloadEntryFunction(j.EntryFunction.natural(i,s,o,a)),u=Tu(n.address),l=await r.generateRawTransaction(u,c),d=Tu(n.pubkey),h=new j.Ed25519PublicKey(d.toUint8Array()),y=await r.simulateTransaction(h,l);return this.transformTickData(y[0].changes)}async fetchTicks(t){let e=[],n=0,r=0;const i=512;for(;;){const s=await this.getTicks({pool:t.pool,coinTypeA:t.coinTypeA,coinTypeB:t.coinTypeB,index:n,offset:r,limit:i});if(e=[...e,...s.ticks],s.ticks.length<i)break;s.offset<999?(r=s.offset+1,n=s.index):(n=s.index+1,r=0)}return e}},pE=class{constructor(e){this.globalConfig={protocol_fee_rate:"",is_pause:!1},this._sdkOptions=e,this._client=new Qt(e.rpcUrl),this._tokenClient=new H8(this._client),this._swap=new $A(this),this._position=new MA(this),this._resources=new LA(this),this._pool=new HA(this),this._rewarder=new aE(this),this._router=new fE(this),this._token=new uE(this),this._fetcher=new hE(this),this._launchpad=new QA(this),this.globalConfig.protocol_fee_rate=""}async getGlobalConfig(e=!1){return(this.globalConfig.protocol_fee_rate.length===0||e)&&(this.globalConfig=await this._resources.getGlobalConfig(this._sdkOptions.networkOptions.modules.LiquidswapDeployer)),this.globalConfig}get client(){return this._client}get tokenClient(){return this._tokenClient}get Swap(){return this._swap}get Position(){return this._position}get Pool(){return this._pool}get Resources(){return this._resources}get Rewarder(){return this._rewarder}get Token(){return this._token}get Router(){return this._router}get Fetcher(){return this._fetcher}get Launchpad(){return this._launchpad}get sdkOptions(){return this._sdkOptions}};function nr(t,e){const n=Rw(e);return ht(t).div(n).toString()}function rr(t,e){const n=Rw(e);return ht(t).mul(n)}function Iw(t){const e=t.split("x");let n=t;return e[1][0]==="0"&&(n=e[0]+"x"+e[1].slice(1)),n}const gE=(t,e,n=!0)=>{if(`${t}`=="0")return!parseFloat(e)||!n?0:"0.".padEnd(e+2,"0");if(!t)return"--";const r=parseFloat(t),i=t.toString(),s=r<0;let o=i;if(i.toLowerCase().includes("e")){const a=i.match(/(\d+?)(?:\.(\d*))?e([+-])(\d+)/),c=a[1],u=a[2],l=a[3],d=a[4];let h="",y=u?u.substr(d):"";if(y&&(y=`.${y}`),l!=="-"){for(let b=0;b<d;b+=1){const T=u[b]||"0";h+=T}o=c+h+y}else{let b="0";for(let T=0;T<d;T+=1)h=(c[c.length-T-1]||"0")+h;c.length>d&&(b=c.substr(0,c.length-d)),o=`${b}.${h}${u}`}}if(e&&n){let a=`${o.split(".")[0]}.`;const c=o.split(".")[1]||"";for(let u=0;u<e;u+=1)a+=c[u]||"0";o=a}if(o.length>14){const a=o.split(".");a[0].length>14?o=`${a[0].slice(0,14)}+`:(o=o.slice(0,13),o.indexOf(".")===12&&(o=o.slice(0,12)))}return`${s?"-":""}${o}`};function hn(t,e){if(e=e>-1?e:0,`${t}`=="0")return parseFloat(e)?"0.".padEnd(e+2,"0"):"0";if(!t)return"--";let n=!1;parseFloat(t)<0&&(n=!0);const r=`${Math.abs(parseFloat(t))}`;if(r==="NaN")return"--";let i=r;if(r.toLowerCase().includes("e")){if(r.toLowerCase().includes("+"))return gE(r,e);const o=r.toLowerCase().split("e");let a=o[0];const c=Math.abs(parseFloat(o[1]));let u="",l=a.length,d;for(o[0].split(".")[1]&&(a=o[0].split(".")[0]+o[0].split(".")[1],l=o[0].split(".")[0].length),d=0;d<c-l;d+=1)u+="0";i=`0.${u}${a}`}if(`${e}`!="0"&&!e||`${parseFloat(t)}`=="NaN")return(n?"-":"")+i;const s=i.split(".");if(e===0)i=parseInt(i,10);else if(e>0&&s[1])if(s[1].length>e)if(s[1].includes("999999999")){const o=parseFloat(i).toFixed(e+1);i=o.slice(0,o.length-1)}else i=`${s[0]}.${s[1].slice(0,e)}`;else i=parseFloat(i).toFixed(e);else i=parseFloat(i).toFixed(e);if(i.length>=14&&i.includes(".")){const o=i.split(".");o[0].length>14?i=`${o[0].slice(0,14)}+`:(i=i.slice(0,13),i.indexOf(".")===12&&(i=i.slice(0,12)))}return(n?"-":"")+i}function mC(t,e){const n=String(t);if(!n.includes("."))return n;const r=n.split("."),i=r[0],s=r[1].slice(0,e);return fo(s)?`${i}.${fo(s)}`:`${i}`}function fo(t){return t.replace(/(\s|0|\.)+$/g,"")}function os(t,e){if(typeof t=="number"&&isNaN(t)||!Number(t))return 0;if(!String(t).includes("."))return t;const n=String(t).split(".");if(n[1]&&n[1].length<=e&&Number(n[1]))return t;const r=Math.pow(10,-e);if(Number(t)<r)return n[1]&&fo(n[1])?n[0]+"."+fo(n[1]):n[0];const i=hn(t,e),s=String(i).split(".");return i==="--"?"--":s[1]&&fo(String(s[1]))?s[0]+"."+fo(String(s[1])):s[0]}const yE=(t,e)=>isNaN(t)||!t?t:(t=String(t),Number(t)==0?0:isNaN(e)?t.replace(/^\d+/,n=>n.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")):(e===0&&(t=t.split(".")[0]),t.replace(/(\d+)(\.\d+)?/,(n,r,i)=>r.replace(/(\d)(?=(?:\d{3})+$)/g,"$1,")+(i?i.slice(0,e+1):""))));function mE(t,e){const r=String(t).split(".");let i=!0;if(!r[1]||r[1]&&r[1].length<=e||r[0]!=="0")return!1;if(r&&r[1]&&r[0]==="0"&&r[1][r[1].length-1]==="1")for(let s=0;s<r[1].length-1;s++)r[1]!=="0"&&(i=!1);else i=!1;return i}const $f=(t,e,n=2)=>{if(t=="")return t;if(isNaN(t)||Number(t)==0)return 0;const r=os(t,e),i=Math.pow(10,-e);return Number(r)&&Math.abs(Number(r))<=i||mE(r,e)?$f(t,e+n):r};function wC(t){if(t){const e=t.toString(),n=e.indexOf(".")>-1?/(\d)(?=(\d{3})+\.)/g:/(\d)(?=(?:\d{3})+$)/g;return e.replace(n,"$1,")}}function _C(t){return Object.keys(t).length===0}const bC=(t,e)=>{if(!e)return null;for(const n in t){const r=t[n];if(r.address.toUpperCase()===e.toUpperCase())return r}return null};function _i(t){return t.toString().length===1?"0"+t:t}function Dp(t){const e=t.getFullYear(),n=t.getMonth()+1,r=t.getDate();return e+"-"+_i(n)+"-"+_i(r)}function wE(t){const e=t.getMonth()+1,n=t.getDate();return _i(e)+"/"+_i(n)}function Lp(t){const e=t.getHours(),n=t.getMinutes(),r=t.getSeconds();return _i(e)+":"+_i(n)+":"+_i(r)}function _E(t){const e=t.getHours(),n=t.getMinutes();return _i(e)+":"+_i(n)}function bE(t){const n=new Date(t),r=n.getTimezoneOffset()+480;return n.setMinutes(n.getMinutes()+r),n}const vC=(t,e)=>{if(t){const n=bE(t);if(!e)return Dp(n)+" "+Lp(n);switch(e){case"HMS":return Lp(n);case"YMD":return Dp(n);case"MD":return wE(n);case"HM":return _E(n)}}},xC=(t,e)=>isNaN(t)||!t?t:Number(t)<1e-6&&Number(t)!==0?"<0.000001":yE(os(String(t),e),e);function SC(t){const e=t.replace("%","");return Number(e)}function TC(t,e=1){return!t||isNaN(Number(t))?t:Math.abs(String(t))<1e3?$f(t,e):$f(Number(t)/1e3,e)+"k"}const Ca=async t=>new Promise(e=>{setTimeout(()=>{e(1)},t)}),Hp=5,Pw=Jf("wallet",{state:()=>({loading:!1,autoRefreshTime:Hp,countdown:0,connected:!1,aptosConnected:!1,suiConnected:!1,address:"",aptosAddress:"",suiAddress:"",platform:"",isShowWalletModal:!1,walletName:"",aptosWalletName:"",suiWalletName:"",currentWallet:null,aptosCurrentWallet:null,suiCurrentWallet:null,walletIcon:"",aptosWalletIcon:"",suiWalletIcon:"",switchWallet:!1,assets:{},walletIconName:"",aptosWalletIconName:"",suiWalletIconName:"",walletNetwork:""}),actions:{setLoading(t){t&&(this.countdown=Hp),this.loading=t,t||(this.countdown=0)},setCountdown(t){this.countdown=t},setWalletStatus(){this.connected=!0},setSwitchWallet(t){this.switchWallet=t},setIsShowWalletModal(t){this.isShowWalletModal=t},setWalletInfo(t,e){this.connected=t,this.platform=e},setCurrentWallet(t){t.wallet?(this.currentWallet=t.wallet,this.connected=t.isConnected,this.address=t.account,this.walletIcon=t.icon,this.walletName=t.wallet.name,t.platform==="Sui"?(this.suiCurrentWallet=t.wallet,this.suiConnected=t.isConnected,this.suiAddress=t.account,this.suiWalletIcon=t.icon,this.suiWalletName=t.wallet.name,this.walletName=t.walletName):(this.aptosCurrentWallet=t.wallet,this.aptosConnected=t.isConnected,this.aptosAddress=t.account,this.aptosWalletIcon=t.icon,this.aptosWalletName=t.wallet.name)):(this.currentWallet=null,this.connected=!1,this.address="",this.walletIcon="",this.walletName="",t.platform==="Sui"?(this.suiCurrentWallet=null,this.suiConnected=!1,this.suiAddress="",this.suiWalletIcon="",this.suiWalletName=""):(this.aptosCurrentWallet=null,this.aptosConnected=!1,this.aptosAddress="",this.aptosWalletIcon="",this.aptosWalletName=""))},setAssets(t){this.assets=t},setWalletIconName(t){this.walletIconName=t,localStorage.setItem("walletIconName",t)},setNetwork(t){this.walletNetwork=t}}});var Mf={},vE={get exports(){return Mf},set exports(t){Mf=t}},Ou={},xE={get exports(){return Ou},set exports(t){Ou=t}},zp;function SE(){return zp||(zp=1,function(t,e){(function(n,r){t.exports=r()})(Zi,function(){var n=n||function(r,i){var s;if(typeof window<"u"&&window.crypto&&(s=window.crypto),typeof self<"u"&&self.crypto&&(s=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(s=globalThis.crypto),!s&&typeof window<"u"&&window.msCrypto&&(s=window.msCrypto),!s&&typeof Zi<"u"&&Zi.crypto&&(s=Zi.crypto),!s&&typeof Yg=="function")try{s=Qf}catch{}var o=function(){if(s){if(typeof s.getRandomValues=="function")try{return s.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof s.randomBytes=="function")try{return s.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function B(){}return function(v){var _;return B.prototype=v,_=new B,B.prototype=null,_}}(),c={},u=c.lib={},l=u.Base=function(){return{extend:function(B){var v=a(this);return B&&v.mixIn(B),(!v.hasOwnProperty("init")||this.init===v.init)&&(v.init=function(){v.$super.init.apply(this,arguments)}),v.init.prototype=v,v.$super=this,v},create:function(){var B=this.extend();return B.init.apply(B,arguments),B},init:function(){},mixIn:function(B){for(var v in B)B.hasOwnProperty(v)&&(this[v]=B[v]);B.hasOwnProperty("toString")&&(this.toString=B.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),d=u.WordArray=l.extend({init:function(B,v){B=this.words=B||[],v!=i?this.sigBytes=v:this.sigBytes=B.length*4},toString:function(B){return(B||y).stringify(this)},concat:function(B){var v=this.words,_=B.words,S=this.sigBytes,M=B.sigBytes;if(this.clamp(),S%4)for(var F=0;F<M;F++){var W=_[F>>>2]>>>24-F%4*8&255;v[S+F>>>2]|=W<<24-(S+F)%4*8}else for(var Y=0;Y<M;Y+=4)v[S+Y>>>2]=_[Y>>>2];return this.sigBytes+=M,this},clamp:function(){var B=this.words,v=this.sigBytes;B[v>>>2]&=4294967295<<32-v%4*8,B.length=r.ceil(v/4)},clone:function(){var B=l.clone.call(this);return B.words=this.words.slice(0),B},random:function(B){for(var v=[],_=0;_<B;_+=4)v.push(o());return new d.init(v,B)}}),h=c.enc={},y=h.Hex={stringify:function(B){for(var v=B.words,_=B.sigBytes,S=[],M=0;M<_;M++){var F=v[M>>>2]>>>24-M%4*8&255;S.push((F>>>4).toString(16)),S.push((F&15).toString(16))}return S.join("")},parse:function(B){for(var v=B.length,_=[],S=0;S<v;S+=2)_[S>>>3]|=parseInt(B.substr(S,2),16)<<24-S%8*4;return new d.init(_,v/2)}},b=h.Latin1={stringify:function(B){for(var v=B.words,_=B.sigBytes,S=[],M=0;M<_;M++){var F=v[M>>>2]>>>24-M%4*8&255;S.push(String.fromCharCode(F))}return S.join("")},parse:function(B){for(var v=B.length,_=[],S=0;S<v;S++)_[S>>>2]|=(B.charCodeAt(S)&255)<<24-S%4*8;return new d.init(_,v)}},T=h.Utf8={stringify:function(B){try{return decodeURIComponent(escape(b.stringify(B)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(B){return b.parse(unescape(encodeURIComponent(B)))}},k=u.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new d.init,this._nDataBytes=0},_append:function(B){typeof B=="string"&&(B=T.parse(B)),this._data.concat(B),this._nDataBytes+=B.sigBytes},_process:function(B){var v,_=this._data,S=_.words,M=_.sigBytes,F=this.blockSize,W=F*4,Y=M/W;B?Y=r.ceil(Y):Y=r.max((Y|0)-this._minBufferSize,0);var J=Y*F,q=r.min(J*4,M);if(J){for(var L=0;L<J;L+=F)this._doProcessBlock(S,L);v=S.splice(0,J),_.sigBytes-=q}return new d.init(v,q)},clone:function(){var B=l.clone.call(this);return B._data=this._data.clone(),B},_minBufferSize:0});u.Hasher=k.extend({cfg:l.extend(),init:function(B){this.cfg=this.cfg.extend(B),this.reset()},reset:function(){k.reset.call(this),this._doReset()},update:function(B){return this._append(B),this._process(),this},finalize:function(B){B&&this._append(B);var v=this._doFinalize();return v},blockSize:16,_createHelper:function(B){return function(v,_){return new B.init(_).finalize(v)}},_createHmacHelper:function(B){return function(v,_){return new O.HMAC.init(B,_).finalize(v)}}});var O=c.algo={};return c}(Math);return n})}(xE)),Ou}(function(t,e){(function(n,r){t.exports=r(SE())})(Zi,function(n){return function(r){var i=n,s=i.lib,o=s.WordArray,a=s.Hasher,c=i.algo,u=[],l=[];(function(){function y(O){for(var B=r.sqrt(O),v=2;v<=B;v++)if(!(O%v))return!1;return!0}function b(O){return(O-(O|0))*4294967296|0}for(var T=2,k=0;k<64;)y(T)&&(k<8&&(u[k]=b(r.pow(T,1/2))),l[k]=b(r.pow(T,1/3)),k++),T++})();var d=[],h=c.SHA256=a.extend({_doReset:function(){this._hash=new o.init(u.slice(0))},_doProcessBlock:function(y,b){for(var T=this._hash.words,k=T[0],O=T[1],B=T[2],v=T[3],_=T[4],S=T[5],M=T[6],F=T[7],W=0;W<64;W++){if(W<16)d[W]=y[b+W]|0;else{var Y=d[W-15],J=(Y<<25|Y>>>7)^(Y<<14|Y>>>18)^Y>>>3,q=d[W-2],L=(q<<15|q>>>17)^(q<<13|q>>>19)^q>>>10;d[W]=J+d[W-7]+L+d[W-16]}var E=_&S^~_&M,f=k&O^k&B^O&B,p=(k<<30|k>>>2)^(k<<19|k>>>13)^(k<<10|k>>>22),w=(_<<26|_>>>6)^(_<<21|_>>>11)^(_<<7|_>>>25),R=F+w+E+l[W]+d[W],N=p+f;F=M,M=S,S=_,_=v+R|0,v=B,B=O,O=k,k=R+N|0}T[0]=T[0]+k|0,T[1]=T[1]+O|0,T[2]=T[2]+B|0,T[3]=T[3]+v|0,T[4]=T[4]+_|0,T[5]=T[5]+S|0,T[6]=T[6]+M|0,T[7]=T[7]+F|0},_doFinalize:function(){var y=this._data,b=y.words,T=this._nDataBytes*8,k=y.sigBytes*8;return b[k>>>5]|=128<<24-k%32,b[(k+64>>>9<<4)+14]=r.floor(T/4294967296),b[(k+64>>>9<<4)+15]=T,y.sigBytes=b.length*4,this._process(),this._hash},clone:function(){var y=a.clone.call(this);return y._hash=this._hash.clone(),y}});i.SHA256=a._createHelper(h),i.HmacSHA256=a._createHmacHelper(h)}(Math),n.SHA256})})(vE);const TE=Mf;function AE(){const t=Ze.Aptos.liquidswapDeployer,e={rpcUrl:Ze.Aptos.rpcUrl,fraphQLUrl:Ze.Aptos.fraphQLUrl,networkOptions:{nativeToken:"0x1::aptos_coin::AptosCoin",launchpad:{cetusLaunchpad:Ze.Aptos.Launchpad,crowdCoin:Ze.Aptos.LaunchpadCrowdCoin},simulationAccount:{pubkey:Ze.Aptos.accountPublicKey,address:Ze.Aptos.accountAddress},modules:{LiquidswapDeployer:t,ClmmIntegrate:Ze.Aptos.clmmIntegrate,FetcherDeployer:Ze.Aptos.fetcher,TokenDeployer:Ze.Aptos.TokenDeployer,IntegerMate:Ze.Aptos.IntegerMate}}},n=Xg(new pE(e)),r=Pw(),i=Zg(),s=lf(()=>i),{$notify:o}=wo(),a=z=>{const{$notify:X}=wo();X.success({key:z.hash+"loading",icon:wt("img",{class:{"notify-icon":!0,"loading-animate":!0},src:s.value.theme=="default"?"/image/img-loading@2x.png":"/sui-image/img-loading.png"}),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:z.title},null)]),description:wt("div",{class:"notification-title"},[wt("div",{class:"notification-text",innerHTML:wr.global.t("newAdd.confirmingTransaction")},null),wt("a",{href:`https://explorer.aptoslabs.com/txn/${z.hash}?network=${Ze.Aptos.network}`,target:"_blank",innerHTML:wr.global.t("common.viewTransaction")},null)]),duration:0,class:"ant-notification-copy ant-notification-swap"})},c=z=>{o.success({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-icon-change1"})]),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:`${z.title} `+wr.global.t("newAdd.success")},null)]),description:wt("div",{class:"notification-title"},[wt("div",{class:"notification-text",innerHTML:z.desc},null),wt("a",{href:`https://explorer.aptoslabs.com/txn/${z.hash}?network=${Ze.Aptos.network}`,target:"_blank",innerHTML:wr.global.t("common.viewTransaction")},null)]),duration:4.5,class:"ant-notification-copy ant-notification-swap"})},u=z=>{o.error({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:`${z} `+wr.global.t("newAdd.failed")},null)]),description:wr.global.t("newAdd.somethingWrong"),duration:4.5,class:"ant-notification-copy ant-notification-error"})},l=async(z,X=!1)=>{const Z=await n.client.waitForTransactionWithResult(z.hash);if(Z&&Z.success){o.close(z.hash+"loading"),c(z);const Q={walletAddress:r.address,chainName:"Aptos",...z,...Z,date:new Date().getTime()+6048e5};return i.setTransactionList(Q),X?{status:!0,nftInfo:Z.events.filter(de=>de.type.includes("CreateTokenDataEvent"))}:!0}else{if(Z&&!Z.success)return o.close(z.hash+"loading"),u(z.title),!1;setTimeout(()=>l(z,X),3e3)}},d=async(z,X=!1)=>{const Z=await n.client.waitForTransactionWithResult(z.hash);if(Z&&Z.success){const Q={walletAddress:r.address,chainName:"Aptos",...z,...Z,date:new Date().getTime()+6048e5};i.setTransactionList(Q)}},h=async z=>{try{const X=await n.Resources.getCoinStores(z),Z=[];return X.forEach(Q=>{let se="";Q.coinAddress.includes("0x0000000000000000000000000000000000000000000000000000000000000001")?se=Q.coinAddress.replace(/0x0000000000000000000000000000000000000000000000000000000000000001/,"0x1"):se=Q.coinAddress,Z.push({...Q,coinAddress:se})}),Z}catch{return[]}},y=async z=>{try{r.setLoading(!0);const X=await h(z),Z={};X.forEach(Q=>{const se=Q?Q.coin.value:"0";Z[Q.coinAddress]={...Q,balance:se}}),r.setAssets(Z),r.setLoading(!1)}catch{r.setLoading(!1),r.setAssets({})}},b=async()=>{const z={pubkey:yi(Ze.Aptos.accountPublicKey),address:yi(Ze.Aptos.accountAddress)};return await n.Token.getAllRegisteredTokenList(z)},T=async(z,X,Z)=>n.Resources.getPoolState(z,X,Z),k=async()=>{const z={pubkey:yi(Ze.Aptos.accountPublicKey),address:yi(Ze.Aptos.accountAddress)};return await n.Token.getOwnerWarpPoolList(Ze.Aptos.TokenDeployer,z)},O=async z=>await n.Resources.getPool(z);return{setTransations:d,showTransitionPending:a,showTransitionSuccess:c,showTransitionError:u,watchTransaction:l,getAccount:y,getPoolState:T,getPools:async z=>await n.Resources.getPools(z),getPool:O,registerCoin:z=>({function:"0x1::managed_coin::register",type_arguments:[z],arguments:[],type:"entry_function_payload"}),estLiquidityAndcoinAmountFromOneAmounts:z=>{const{tokenA:X,tokenB:Z,lowerTick:Q,upperTick:se,coinAmount:ie,iscoinA:de,roundUp:Pe,slippage:Ee,curSqrtPrice:Se}=z,De=gs.estLiquidityAndcoinAmountFromOneAmounts(Q,se,ie,de,Pe,Ee,Se),ke=X.decimals,Ce=Z.decimals,{tokenMaxA:Ke,tokenMaxB:Ue,liquidityAmount:Be}=De;return{tokenMaxAOrigin:Ke.toString(),tokenMaxBOrigin:Ue.toString(),tokenMaxA:nr(Ke.toString(),ke),tokenMaxB:nr(Ue.toString(),Ce),liquidityAmount:Be}},getCoinAmountFromLiquidity:z=>{const{pool:X,position:Z,roundUp:Q}=z,se=Number(Z.tick_lower_index),ie=Number(Z.tick_upper_index),de=$t.tickIndexToSqrtPriceX64(se),Pe=$t.tickIndexToSqrtPriceX64(ie),Ee=gs.getCoinAmountFromLiquidity(new I(Z.liquidity),new I(X.current_sqrt_price),de,Pe,Q),Se=nr(Ee.coinA.toString(),X.coinA.decimals),De=nr(Ee.coinB.toString(),X.coinB.decimals);return{coinaAmount:Se,coinbAmount:De}},getAddLiquidityTransactionPayload:async z=>{const{pool:X,amount:Z,fix_amount_a:Q,roundUp:se,tick_lower:ie,tick_upper:de,index:Pe,slippage:Ee}=z,Se=await O(X.poolAddress),De=Q?rr(Z,X.token_a.decimals):rr(Z,X.token_b.decimals),ke=$t.sqrtPriceX64ToTickIndex(new I(Se.current_sqrt_price));let Ce,Ke;if(ke>ie&&ke<de){const Be=gs.estLiquidityAndcoinAmountFromOneAmounts(ie,de,new I(De.toString()),Q,se,Ee,new I(Se.current_sqrt_price));Ce=Q?De.toNumber():Be.tokenMaxA.toNumber(),Ke=Q?Be.tokenMaxB.toNumber():De.toNumber()}else ke>=de?(Ce=0,Ke=De.toNumber()):ke<=ie&&(Ce=De.toNumber(),Ke=0);return n.Position.createAddLiquidityTransactionPayload({pool:X.poolAddress,coinTypeA:X.token_a.address,coinTypeB:X.token_b.address,amount_a:Ce,amount_b:Ke,fix_amount_a:Q,tick_lower:ie,tick_upper:de,is_open:!Pe,index:Pe})},getRemoveLiquidityTransactionPayload:async z=>{const{pool:X,coinTypeA:Z,coinTypeB:Q,coinTypeC:se,coinTypeD:ie,coinTypeE:de,position:Pe,delta_liquidity:Ee,rewards_num:Se}=z,De=await O(X.poolAddress),ke={...X,...De},Ce=Number(Pe.tick_lower_index),Ke=Number(Pe.tick_upper_index),Ue=$t.tickIndexToSqrtPriceX64(Ce),Be=$t.tickIndexToSqrtPriceX64(Ke),ct=gs.getCoinAmountFromLiquidity(Ee,new I(ke.current_sqrt_price),Ue,Be,!0),ze=ht(ct.coinA.toString()).mul(ht(1-z.slippage)),Ve=ht(ct.coinB.toString()).mul(ht(1-z.slippage));return await n.Position.removeLiquidityTransactionPayload({pool:X.poolAddress,coinTypeA:Z,coinTypeB:Q,coinTypeC:se,coinTypeD:ie,coinTypeE:de,delta_liquidity:Ee,min_amount_a:Number(hn(ze.toString(),0)),min_amount_b:Number(hn(Ve.toString(),0)),pos_index:z.position.index,is_close:!1,rewards_num:Se})},getCollectFeeTransactionPayload:async z=>await n.Position.collectFeeTransactionPayload({pool:z.pool.poolAddress,coinTypeA:z.pool.token_a.address,coinTypeB:z.pool.token_b.address,pos_index:z.position.index}),getPositionList:async(z,X)=>{if(Ze.Aptos.network==="mainnet"){const Z={operationName:"AccountTokensData",variables:{owner_address:z,limit:1e5,offset:0},query:`query AccountTokensData($owner_address: String, $limit: Int, $offset: Int) {
  current_token_ownerships(
    where: {owner_address: {_eq: $owner_address}, amount: {_gt: "0"}}
    limit: $limit
    offset: $offset
  ) {
    token_data_id_hash
 creator_address
 name
    collection_name
  table_type
    property_version
    amount
    __typename
  }
}`},Q=await $fetch("https://indexer.mainnet.aptoslabs.com/v1/graphql",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Z)}),se=Q&&Q.data&&Q.data.current_token_ownerships||[],ie=[];for(let de=0;de<se.length;de++){const Pe=se[de],Ee=X[Iw(Pe.creator_address)];if(Ee){const Se=Pe.name.split("-")[1],De=Ee.positions_handle,ke=await n.Resources.getPositionInfoByIndex(De,Se);ie.push({...ke,tokenName:Pe.name})}}return ie}else{const Z=Object.values(X);return await n.Resources.getPositionList(z,Z)}},getPositionInfo:async(z,X,Z,Q="")=>({...await n.Resources.getPositionInfo(z,Z),tokenName:Z,collectionName:X}),getSwapTransactionPayload:async z=>{const{pool:X,a2b:Z,byAmountIn:Q,amount:se,slippage:ie}=z,de=X.poolAddress,Pe=X.token_a.decimals,Ee=X.token_b.decimals,Se=await O(X.address);let De;Z&&Q||!Z&&!Q?De=rr(se,Pe):De=rr(se,Ee);const ke=await n.Swap.preswap({pool:Se,decimalsA:Pe,decimalsB:Ee,a2b:Z,by_amount_in:Q,amount:De.toString()}),Ce=ht(ke.estimatedAmountOut.toString()),Ke=ht(ke.estimatedAmountIn.toString()),Ue=Q?Ce.sub(Ce.mul(ie)):Ke.add(Ke.mul(ie));return n.Swap.createSwapTransactionPayload({pool_addr:de,coinTypeA:X.token_a.address,coinTypeB:X.token_b.address,a_to_b:ke.aToB,by_amount_in:ke.byAmountIn,amount:ke.amount.toString(),amount_limit:hn(Ue.toString(),0)||"",partner:""})},getCoin:z=>({type:"entry_function_payload",function:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet",arguments:[],type_arguments:[]}),preSwap:async z=>{const{pool:X,a2b:Z,byAmountIn:Q,amount:se}=z,ie=X.coinA.decimals,de=X.coinB.decimals;let Pe=X;X.coinTypeA||(Pe={...X,poolAddress:X.address,coinTypeA:X.coinA.address,coinTypeB:X.coinB.address});let Ee;Z&&Q||!Z&&!Q?Ee=rr(se,ie):Ee=rr(se,de);const Se=await n.Swap.preswap({pool:Pe,decimalsA:ie,decimalsB:de,a2b:Z,by_amount_in:Q,amount:Ee.toString()});return{...Se,estimatedAmountIn:os(nr(Se.estimatedAmountIn.toString(),Z?ie:de),Z?ie:de),estimatedAmountOut:os(nr(Se.estimatedAmountOut.toString(),Z?de:ie),Z?de:ie),priceImpactPct:hn(Se.priceImpactPct,2)}},getTicks:async z=>{try{return await n.Fetcher.fetchTicks({pool:z.poolAddress,coinTypeA:z.coinTypeA,coinTypeB:z.coinTypeB})}catch{}},TickMath:$t,TickUtil:Cf,ClmmPoolUtil:gs,getNearestTickByTick:sE,getTickDataFromUrlData:Aw,getCollectFeesQuote:async z=>{const{pool:X,position:Z,tickLowerData:Q,tickUpperData:se}=z,ie=WA({clmmpool:X,position:Z,tickLower:Q,tickUpper:se}),de=nr(ie.feeOwedA.toString(),X.token_a.decimals),Pe=nr(ie.feeOwedB.toString(),X.token_b.decimals);return{feeOwedA:Number(de)>99999999999||Number(de)<0?"0":de,feeOwedB:Number(Pe)>99999999999||Number(Pe)<0?"0":Pe}},mintCoin:z=>({function:`${Ze.Aptos.faucetObjectId}::coin::mint`,type_arguments:[`${Ze.Aptos.faucetObjectId}::coin::${z.name}`],arguments:[z.amount],type:"entry_function_payload"}),getNftHash:z=>{const X=`${z.creator}::${z.collection}::${z.name}`;return TE(X).toString()},getCollectRewarderTransactionPayload:z=>n.Rewarder.collectPoolRewarderTransactionPayload(z),getPosRewardersAmount:async z=>{const{poolAddress:X,positionName:Z,tickLowerData:Q,tickUpperData:se}=z;return await n.Rewarder.posRewardersAmount(X,Z,Q,se)},getTokenList:b,getTickDataByIndex:async(z,X)=>await n.Resources.getTickDataByIndex(z,X),initSwapRouter:async z=>{n.Router.addPathProvider(z),await n.Router.setCoinList({pubkey:yi(Ze.Aptos.accountPublicKey),address:yi(Ze.Aptos.accountAddress)}),await n.Router.loadGraph()},getSwapRouter:async(z,X)=>await n.Router.price(z,X),getEstPositionAPRWithDelta:async(z,X,Z,Q,se,ie,de,Pe,Ee,Se,De,ke,Ce,Ke,Ue,Be,ct,ze,Ve,Zt,rt,Ot,Nn,Dt)=>await FA(z,X,Z,Q,se,ie,de,Pe,Ee,Se,De,ke,Ce,Ke,Ue,Be,ct,ze,Ve,Zt,rt,Ot,Nn,Dt),getPriceImpactPct:(z,X,Z)=>{const Q=$t.sqrtPriceX64ToPrice(new I(z.current_sqrt_price),z.coinA.decimals,z.coinB.decimals).toNumber(),se=Z?Q:1/Q,ie=Math.abs(se-Number(X))/Number(X)*100;return Number(hn(ie,2))},getLpList:k,getEstPositionAPRWithMulti:async(z,X,Z,Q)=>await jA(z,X,Z,Q),getCreatPoolTransactionPayload:async z=>{const{coinTypeA:X,coinTypeB:Z,tick_lower:Q,tick_upper:se,tick_spacing:ie,initialize_sqrt_price:de,max_amount_a:Pe,max_amount_b:Ee,slippage:Se,fix_amount_a:De,decimalsA:ke,decimalsB:Ce,liquidityInput:Ke}=z,Ue=De?rr(Pe,ke):rr(Ee,Ce),Be=$t.sqrtPriceX64ToTickIndex(new I(de));let ct,ze;const Ve=$t.tickIndexToSqrtPriceX64(Q),Zt=$t.tickIndexToSqrtPriceX64(se);let rt;return Be>Q&&Be<se?(rt=gs.estLiquidityAndcoinAmountFromOneAmounts(Q,se,new I(Ue.toString()),De,!0,Se,new I(de)),ct=De?Ue.toNumber():rt.tokenMaxA.toNumber(),ze=De?rt.tokenMaxB.toNumber():Ue.toNumber()):Be>=se?(rt=lo(Ve,Zt,new I(Ue.toString())),ct=new I(Ke.tokenMaxA*Math.pow(10,ke)),ze=new I(Ke.tokenMaxB*Math.pow(10,Ce))):Be<=Q&&(rt=uo(Ve,Zt,new I(Ue.toString())),ct=new I(Ke.tokenMaxA*Math.pow(10,ke)),ze=new I(Ke.tokenMaxB*Math.pow(10,Ce))),await n.Pool.creatPoolTransactionPayload({coinTypeA:X,coinTypeB:Z,tick_spacing:ie,initialize_sqrt_price:new I(de),uri:"",delta_liquidity:Be>Q&&Be<se?rt.liquidityAmount:rt,max_amount_a:ct,max_amount_b:ze,tick_lower:Q,tick_upper:se},!0)},getTokenListByCoinType:async()=>await n.Token.getTokenListByCoinType("",0,99999),getPoolImmutables:async()=>await n.Resources.getPoolImmutables(),estimateLiquidityForCoinA:uo,estimateLiquidityForCoinB:lo}}function EE(t){if(t.length>=255)throw new TypeError("Alphabet too long");for(var e=new Uint8Array(256),n=0;n<e.length;n++)e[n]=255;for(var r=0;r<t.length;r++){var i=t.charAt(r),s=i.charCodeAt(0);if(e[s]!==255)throw new TypeError(i+" is ambiguous");e[s]=r}var o=t.length,a=t.charAt(0),c=Math.log(o)/Math.log(256),u=Math.log(256)/Math.log(o);function l(y){if(y instanceof Uint8Array||(ArrayBuffer.isView(y)?y=new Uint8Array(y.buffer,y.byteOffset,y.byteLength):Array.isArray(y)&&(y=Uint8Array.from(y))),!(y instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(y.length===0)return"";for(var b=0,T=0,k=0,O=y.length;k!==O&&y[k]===0;)k++,b++;for(var B=(O-k)*u+1>>>0,v=new Uint8Array(B);k!==O;){for(var _=y[k],S=0,M=B-1;(_!==0||S<T)&&M!==-1;M--,S++)_+=256*v[M]>>>0,v[M]=_%o>>>0,_=_/o>>>0;if(_!==0)throw new Error("Non-zero carry");T=S,k++}for(var F=B-T;F!==B&&v[F]===0;)F++;for(var W=a.repeat(b);F<B;++F)W+=t.charAt(v[F]);return W}function d(y){if(typeof y!="string")throw new TypeError("Expected String");if(y.length===0)return new Uint8Array;for(var b=0,T=0,k=0;y[b]===a;)T++,b++;for(var O=(y.length-b)*c+1>>>0,B=new Uint8Array(O);y[b];){var v=e[y.charCodeAt(b)];if(v===255)return;for(var _=0,S=O-1;(v!==0||_<k)&&S!==-1;S--,_++)v+=o*B[S]>>>0,B[S]=v%256>>>0,v=v/256>>>0;if(v!==0)throw new Error("Non-zero carry");k=_,b++}for(var M=O-k;M!==O&&B[M]===0;)M++;for(var F=new Uint8Array(T+(O-M)),W=T;M!==O;)F[W++]=B[M++];return F}function h(y){var b=d(y);if(b)return b;throw new Error("Non-base"+o+" character")}return{encode:l,decodeUnsafe:d,decode:h}}var kE=EE;const BE=kE,RE="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";var Uw=BE(RE);function IE(t){return t>64&&t<91?t-65:t>96&&t<123?t-71:t>47&&t<58?t+4:t===43?62:t===47?63:0}function K0(t,e){for(var n=t.replace(/[^A-Za-z0-9+/]/g,""),r=n.length,i=e?Math.ceil((r*3+1>>2)/e)*e:r*3+1>>2,s=new Uint8Array(i),o,a,c=0,u=0,l=0;l<r;l++)if(a=l&3,c|=IE(n.charCodeAt(l))<<6*(3-a),a===3||r-l===1){for(o=0;o<3&&u<i;o++,u++)s[u]=c>>>(16>>>o&24)&255;c=0}return s}function Lc(t){return t<26?t+65:t<52?t+71:t<62?t-4:t===62?43:t===63?47:65}function _s(t){for(var e=2,n="",r=t.length,i=0,s=0;s<r;s++)e=s%3,s>0&&s*4/3%76===0&&(n+=""),i|=t[s]<<(16>>>e&24),(e===2||t.length-s===1)&&(n+=String.fromCodePoint(Lc(i>>>18&63),Lc(i>>>12&63),Lc(i>>>6&63),Lc(i&63)),i=0);return n.slice(0,n.length-2+e)+(e===2?"":e===1?"=":"==")}function X0(t){let e=t.replace("0x","").match(/.{1,2}/g).map(n=>parseInt(n,16));if(e===null)throw new Error(`Unable to parse HEX: ${t}`);return Uint8Array.from(e)}function Z0(t){return t.reduce((e,n)=>e+n.toString(16).padStart(2,"0"),"")}function zd(t,e){let n=new Uint8Array(e),r=0;for(;t>0;)n[r]=Number(t%BigInt(256)),t=t/BigInt(256),r+=1;return n}var Ow=t=>Uw.encode(t),Y0=t=>Uw.decode(t),PE=class{constructor(t){this.bytePosition=0,this.dataView=new DataView(t.buffer)}shift(t){return this.bytePosition+=t,this}read8(){let t=this.dataView.getUint8(this.bytePosition);return this.shift(1),t}read16(){let t=this.dataView.getUint16(this.bytePosition,!0);return this.shift(2),t}read32(){let t=this.dataView.getUint32(this.bytePosition,!0);return this.shift(4),t}read64(){let t=this.read32(),n=this.read32().toString(16)+t.toString(16).padStart(8,"0");return BigInt("0x"+n)}read128(){let t=this.read64(),n=this.read64().toString(16)+t.toString(16).padStart(8,"0");return BigInt("0x"+n)}read256(){let t=this.read128(),n=this.read128().toString(16)+t.toString(16).padStart(16,"0");return BigInt("0x"+n)}readBytes(t){let e=this.bytePosition+this.dataView.byteOffset,n=new Uint8Array(this.dataView.buffer,e,t);return this.shift(t),n}readULEB(){let t=this.bytePosition+this.dataView.byteOffset,e=new Uint8Array(this.dataView.buffer,t),{value:n,length:r}=CE(e);return this.shift(r),n}readVec(t){let e=this.readULEB(),n=[];for(let r=0;r<e;r++)n.push(t(this,r,e));return n}},UE=class{constructor(t=1024){this.bytePosition=0,this.dataView=new DataView(new ArrayBuffer(t))}shift(t){return this.bytePosition+=t,this}write8(t){return this.dataView.setUint8(this.bytePosition,Number(t)),this.shift(1)}write16(t){return this.dataView.setUint16(this.bytePosition,Number(t),!0),this.shift(2)}write32(t){return this.dataView.setUint32(this.bytePosition,Number(t),!0),this.shift(4)}write64(t){return zd(BigInt(t),8).forEach(e=>this.write8(e)),this}write128(t){return zd(BigInt(t),16).forEach(e=>this.write8(e)),this}write256(t){return zd(BigInt(t),32).forEach(e=>this.write8(e)),this}writeULEB(t){return OE(t).forEach(e=>this.write8(e)),this}writeVec(t,e){return this.writeULEB(t.length),Array.from(t).forEach((n,r)=>e(this,n,r,t.length)),this}*[Symbol.iterator](){for(let t=0;t<this.bytePosition;t++)yield this.dataView.getUint8(t);return this.toBytes()}toBytes(){return new Uint8Array(this.dataView.buffer.slice(0,this.bytePosition))}toString(t){return $E(this.toBytes(),t)}};function OE(t){let e=[],n=0;if(t===0)return[0];for(;t>0;)e[n]=t&127,(t>>=7)&&(e[n]|=128),n+=1;return e}function CE(t){let e=0,n=0,r=0;for(;;){let i=t[r];if(r+=1,e|=(i&127)<<n,!(i&128))break;n+=7}return{value:e,length:r}}var Pa=class{constructor(t){if(this.types=new Map,t instanceof Pa){this.schema=t.schema,this.types=new Map(t.types);return}if(this.schema=t,this.registerAddressType(Pa.ADDRESS,t.addressLength,t.addressEncoding),this.registerVectorType(t.vectorType),t.types&&t.types.structs)for(let e of Object.keys(t.types.structs))this.registerStructType(e,t.types.structs[e]);if(t.types&&t.types.enums)for(let e of Object.keys(t.types.enums))this.registerEnumType(e,t.types.enums[e]);if(t.types&&t.types.aliases)for(let e of Object.keys(t.types.aliases))this.registerAlias(e,t.types.aliases[e]);t.withPrimitives!==!1&&qE(this)}get tempKey(){const t=n=>"temp-struct-"+n;let e=0;for(;this.hasType(t(e));)e++;return t(e)}ser(t,e,n=1024){if(typeof t=="string"){const{typeName:r,typeParams:i}=this.parseTypeName(t);return this.getTypeInterface(r).encode(e,n,i)}if(typeof t=="object"){const r=this.tempKey;return new Pa(this).registerStructType(r,t).ser(r,e,n)}throw new Error(`Incorrect type passed into the '.ser()' function. 
${JSON.stringify(t)}`)}de(t,e,n){if(typeof e=="string")if(n)e=ME(e,n);else throw new Error("To pass a string to `bcs.de`, specify encoding");if(typeof t=="string"){const{typeName:r,typeParams:i}=this.parseTypeName(t);return this.getTypeInterface(r).decode(e,i)}if(typeof t=="object"){const r=new Pa(this),i=this.tempKey;return r.registerStructType(i,t).de(i,e,n)}throw new Error(`Incorrect type passed into the '.de()' function. 
${JSON.stringify(t)}`)}hasType(t){return this.types.has(t)}registerAlias(t,e){return this.types.set(t,e),this}registerType(t,e,n,r=()=>!0){return this.types.set(t,{encode(i,s=1024,o){return this._encodeRaw(new UE(s),i,o)},decode(i,s){return this._decodeRaw(new PE(i),s)},_encodeRaw(i,s,o){if(r(s))return e(i,s,o);throw new Error(`Validation failed for type ${t}, data: ${s}`)},_decodeRaw(i,s){return n(i,s)}}),this}registerAddressType(t,e,n="hex"){switch(n){case"base64":return this.registerType(t,(r,i)=>K0(i).reduce((s,o)=>s.write8(o),r),r=>_s(r.readBytes(e)));case"hex":return this.registerType(t,(r,i)=>X0(i).reduce((s,o)=>s.write8(o),r),r=>Z0(r.readBytes(e)));default:throw new Error("Unsupported encoding! Use either hex or base64")}}registerVectorType(t,e){let{typeName:n,typeParams:r}=this.parseTypeName(t);if(r.length>1)throw new Error("Vector can have only one type parameter; got "+t);return this.registerType(n,(i,s,o)=>i.writeVec(s,(a,c)=>{let u=e||o[0];if(u){let{typeName:l,typeParams:d}=this.parseTypeName(u);return this.getTypeInterface(e||l)._encodeRaw(a,c,d)}else throw new Error(`Incorrect number of type parameters passed to vector '${n}'`)}),(i,s)=>i.readVec(o=>{let a=e||s[0];if(a){let{typeName:c,typeParams:u}=this.parseTypeName(a);return this.getTypeInterface(e||c)._decodeRaw(o,u)}else throw new Error(`Incorrect number of type parameters passed to vector '${n}'`)}))}registerStructType(t,e){let n=Object.freeze(e),r=Object.keys(n),{typeName:i,typeParams:s}=this.parseTypeName(t);return this.registerType(i,(o,a,c)=>{if(!a||a.constructor!==Object)throw new Error(`Expected ${t} to be an Object, got: ${a}`);for(let u of r)if(u in a){let l=s.indexOf(n[u]),d=l===-1?n[u]:c[l];{let{typeName:h,typeParams:y}=this.parseTypeName(d);this.getTypeInterface(h)._encodeRaw(o,a[u],y)}}else throw new Error(`Struct ${t} requires field ${u}:${n[u]}`);return o},(o,a)=>{let c={};for(let u of r){let l=s.indexOf(n[u]),d=l===-1?n[u]:a[l];{let{typeName:h,typeParams:y}=this.parseTypeName(d);c[u]=this.getTypeInterface(h)._decodeRaw(o,y)}}return c})}registerEnumType(t,e){let n=Object.freeze(e),r=Object.keys(n),{typeName:i,typeParams:s}=this.parseTypeName(t);return this.registerType(i,(o,a,c)=>{if(a===void 0)throw new Error(`Unable to write enum ${t}, missing data`);let u=Object.keys(a)[0];if(u===void 0)throw new Error(`Unknown invariant of the enum ${t}`);let l=r.indexOf(u);if(l===-1)throw new Error(`Unknown invariant of the enum ${t}, allowed values: ${r}`);let d=r[l],h=n[d];if(o.write8(l),h===null)return o;let y=s.indexOf(h),b=y===-1?h:c[y];{let{typeName:T,typeParams:k}=this.parseTypeName(b);return this.getTypeInterface(T)._encodeRaw(o,a[u],k)}},(o,a)=>{let c=o.readULEB(),u=r[c],l=n[u];if(c===-1)throw new Error(`Decoding type mismatch, expected enum ${t} invariant index, received ${c}`);if(l===null)return{[u]:!0};let d=s.indexOf(l),h=d===-1?l:a[d];{let{typeName:y,typeParams:b}=this.parseTypeName(h);return{[u]:this.getTypeInterface(y)._decodeRaw(o,b)}}})}getTypeInterface(t){let e=this.types.get(t);if(typeof e=="string"){let n=[];for(;typeof e=="string";){if(n.includes(e))throw new Error(`Recursive definition found: ${n.join(" -> ")} -> ${e}`);n.push(e),e=this.types.get(e)}}if(e===void 0)throw new Error(`Type ${t} is not registered`);return e}parseTypeName(t){let[e,n]=this.schema.genericSeparators||["<",">"],r=t.indexOf(e),i=Array.from(t).reverse().indexOf(n);if(r===-1&&i===-1)return{typeName:t,typeParams:[]};if(r===-1||i===-1)throw new Error(`Unclosed generic in name '${t}'`);let s=t.slice(0,r),o=t.slice(r+1,t.length-i-1).split(",").map(a=>a.trim());return{typeName:s,typeParams:o}}},it=Pa;it.U8="u8";it.U16="u16";it.U32="u32";it.U64="u64";it.U128="u128";it.U256="u256";it.BOOL="bool";it.VECTOR="vector";it.ADDRESS="address";it.STRING="string";it.HEX="hex-string";it.BASE58="base58-string";it.BASE64="base64-string";function $E(t,e){switch(e){case"base58":return Ow(t);case"base64":return _s(t);case"hex":return Z0(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function ME(t,e){switch(e){case"base58":return Y0(t);case"base64":return K0(t);case"hex":return X0(t);default:throw new Error("Unsupported encoding, supported values are: base64, hex")}}function qE(t){t.registerType(it.U8,(e,n)=>e.write8(n),e=>e.read8(),e=>e<256),t.registerType(it.U16,(e,n)=>e.write16(n),e=>e.read16(),e=>e<65536),t.registerType(it.U32,(e,n)=>e.write32(n),e=>e.read32(),e=>e<=4294967296),t.registerType(it.U64,(e,n)=>e.write64(n),e=>e.read64(),e=>!0),t.registerType(it.U128,(e,n)=>e.write128(n),e=>e.read128(),e=>!0),t.registerType(it.U256,(e,n)=>e.write256(n),e=>e.read256(),e=>!0),t.registerType(it.BOOL,(e,n)=>e.write8(n),e=>e.read8().toString(10)==="1",e=>!0),t.registerType(it.STRING,(e,n)=>e.writeVec(Array.from(n),(r,i)=>r.write8(i.charCodeAt(0))),e=>e.readVec(n=>n.read8()).map(n=>String.fromCharCode(Number(n))).join(""),e=>!0),t.registerType(it.HEX,(e,n)=>e.writeVec(Array.from(X0(n)),(r,i)=>r.write8(i)),e=>{let n=e.readVec(r=>r.read8());return Z0(new Uint8Array(n))}),t.registerType(it.BASE58,(e,n)=>e.writeVec(Array.from(Y0(n)),(r,i)=>r.write8(i)),e=>{let n=e.readVec(r=>r.read8());return Ow(new Uint8Array(n))}),t.registerType(it.BASE64,(e,n)=>e.writeVec(Array.from(K0(n)),(r,i)=>r.write8(i)),e=>{let n=e.readVec(r=>r.read8());return _s(new Uint8Array(n))})}function Cw(){return{genericSeparators:["<",">"],vectorType:"vector",addressLength:20,addressEncoding:"hex"}}/*! noble-secp256k1 - MIT License (c) 2019 Paul Miller (paulmillr.com) */const Yt=BigInt(0),pn=BigInt(1),Ji=BigInt(2),$a=BigInt(3),Fp=BigInt(8),In=Object.freeze({a:Yt,b:BigInt(7),P:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),n:BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),h:pn,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee")}),jp=(t,e)=>(t+e/Ji)/e,Hc={beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar(t){const{n:e}=In,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-pn*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=jp(s*t,e),c=jp(-r*t,e);let u=Le(t-a*n-c*i,e),l=Le(-a*r-c*s,e);const d=u>o,h=l>o;if(d&&(u=e-u),h&&(l=e-l),u>o||l>o)throw new Error("splitScalarEndo: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:h,k2:l}}},ho=32,Ka=32,Wp=ho+1,Gp=2*ho+1;function Vp(t){const{a:e,b:n}=In,r=Le(t*t),i=Le(r*t);return Le(i+e*t+n)}const zc=In.a===Yt;class NE extends Error{constructor(e){super(e)}}function Kp(t){if(!(t instanceof Xt))throw new TypeError("JacobianPoint expected")}class Xt{constructor(e,n,r){this.x=e,this.y=n,this.z=r}static fromAffine(e){if(!(e instanceof Er))throw new TypeError("JacobianPoint#fromAffine: expected Point");return e.equals(Er.ZERO)?Xt.ZERO:new Xt(e.x,e.y,pn)}static toAffineBatch(e){const n=FE(e.map(r=>r.z));return e.map((r,i)=>r.toAffine(n[i]))}static normalizeZ(e){return Xt.toAffineBatch(e).map(Xt.fromAffine)}equals(e){Kp(e);const{x:n,y:r,z:i}=this,{x:s,y:o,z:a}=e,c=Le(i*i),u=Le(a*a),l=Le(n*u),d=Le(s*c),h=Le(Le(r*a)*u),y=Le(Le(o*i)*c);return l===d&&h===y}negate(){return new Xt(this.x,Le(-this.y),this.z)}double(){const{x:e,y:n,z:r}=this,i=Le(e*e),s=Le(n*n),o=Le(s*s),a=e+s,c=Le(Ji*(Le(a*a)-i-o)),u=Le($a*i),l=Le(u*u),d=Le(l-Ji*c),h=Le(u*(c-d)-Fp*o),y=Le(Ji*n*r);return new Xt(d,h,y)}add(e){Kp(e);const{x:n,y:r,z:i}=this,{x:s,y:o,z:a}=e;if(s===Yt||o===Yt)return this;if(n===Yt||r===Yt)return e;const c=Le(i*i),u=Le(a*a),l=Le(n*u),d=Le(s*c),h=Le(Le(r*a)*u),y=Le(Le(o*i)*c),b=Le(d-l),T=Le(y-h);if(b===Yt)return T===Yt?this.double():Xt.ZERO;const k=Le(b*b),O=Le(b*k),B=Le(l*k),v=Le(T*T-O-Ji*B),_=Le(T*(B-v)-h*O),S=Le(i*a*b);return new Xt(v,_,S)}subtract(e){return this.add(e.negate())}multiplyUnsafe(e){const n=Xt.ZERO;if(typeof e=="bigint"&&e===Yt)return n;let r=Jp(e);if(r===pn)return this;if(!zc){let d=n,h=this;for(;r>Yt;)r&pn&&(d=d.add(h)),h=h.double(),r>>=pn;return d}let{k1neg:i,k1:s,k2neg:o,k2:a}=Hc.splitScalar(r),c=n,u=n,l=this;for(;s>Yt||a>Yt;)s&pn&&(c=c.add(l)),a&pn&&(u=u.add(l)),l=l.double(),s>>=pn,a>>=pn;return i&&(c=c.negate()),o&&(u=u.negate()),u=new Xt(Le(u.x*Hc.beta),u.y,u.z),c.add(u)}precomputeWindow(e){const n=zc?128/e+1:256/e+1,r=[];let i=this,s=i;for(let o=0;o<n;o++){s=i,r.push(s);for(let a=1;a<2**(e-1);a++)s=s.add(i),r.push(s);i=s.double()}return r}wNAF(e,n){!n&&this.equals(Xt.BASE)&&(n=Er.BASE);const r=n&&n._WINDOW_SIZE||1;if(256%r)throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2");let i=n&&qf.get(n);i||(i=this.precomputeWindow(r),n&&r!==1&&(i=Xt.normalizeZ(i),qf.set(n,i)));let s=Xt.ZERO,o=Xt.BASE;const a=1+(zc?128/r:256/r),c=2**(r-1),u=BigInt(2**r-1),l=2**r,d=BigInt(r);for(let h=0;h<a;h++){const y=h*c;let b=Number(e&u);e>>=d,b>c&&(b-=l,e+=pn);const T=y,k=y+Math.abs(b)-1,O=h%2!==0,B=b<0;b===0?o=o.add(Fc(O,i[T])):s=s.add(Fc(B,i[k]))}return{p:s,f:o}}multiply(e,n){let r=Jp(e),i,s;if(zc){const{k1neg:o,k1:a,k2neg:c,k2:u}=Hc.splitScalar(r);let{p:l,f:d}=this.wNAF(a,n),{p:h,f:y}=this.wNAF(u,n);l=Fc(o,l),h=Fc(c,h),h=new Xt(Le(h.x*Hc.beta),h.y,h.z),i=l.add(h),s=d.add(y)}else{const{p:o,f:a}=this.wNAF(r,n);i=o,s=a}return Xt.normalizeZ([i,s])[0]}toAffine(e){const{x:n,y:r,z:i}=this,s=this.equals(Xt.ZERO);e==null&&(e=s?Fp:sd(i));const o=e,a=Le(o*o),c=Le(a*o),u=Le(n*a),l=Le(r*c),d=Le(i*o);if(s)return Er.ZERO;if(d!==pn)throw new Error("invZ was invalid");return new Er(u,l)}}Xt.BASE=new Xt(In.Gx,In.Gy,pn);Xt.ZERO=new Xt(Yt,pn,Yt);function Fc(t,e){const n=e.negate();return t?n:e}const qf=new WeakMap;let Er=class ji{constructor(e,n){this.x=e,this.y=n}_setWindowSize(e){this._WINDOW_SIZE=e,qf.delete(this)}hasEvenY(){return this.y%Ji===Yt}static fromCompressedHex(e){const n=e.length===32,r=Es(n?e:e.subarray(1));if(!jd(r))throw new Error("Point is not on curve");const i=Vp(r);let s=zE(i);const o=(s&pn)===pn;n?o&&(s=Le(-s)):(e[0]&1)===1!==o&&(s=Le(-s));const a=new ji(r,s);return a.assertValidity(),a}static fromUncompressedHex(e){const n=Es(e.subarray(1,ho+1)),r=Es(e.subarray(ho+1,ho*2+1)),i=new ji(n,r);return i.assertValidity(),i}static fromHex(e){const n=Nf(e),r=n.length,i=n[0];if(r===ho)return this.fromCompressedHex(n);if(r===Wp&&(i===2||i===3))return this.fromCompressedHex(n);if(r===Gp&&i===4)return this.fromUncompressedHex(n);throw new Error(`Point.fromHex: received invalid point. Expected 32-${Wp} compressed bytes or ${Gp} uncompressed bytes, not ${r}`)}static fromPrivateKey(e){return ji.BASE.multiply(Df(e))}static fromSignature(e,n,r){const{r:i,s}=GE(n);if(![0,1,2,3].includes(r))throw new Error("Cannot recover: invalid recovery bit");const o=WE(Nf(e)),{n:a}=In,c=r===2||r===3?i+a:i,u=sd(c,a),l=Le(-o*u,a),d=Le(s*u,a),h=r&1?"03":"02",y=ji.fromHex(h+Eo(c)),b=ji.BASE.multiplyAndAddUnsafe(y,l,d);if(!b)throw new Error("Cannot recover signature: point at infinify");return b.assertValidity(),b}toRawBytes(e=!1){return As(this.toHex(e))}toHex(e=!1){const n=Eo(this.x);return e?`${this.hasEvenY()?"02":"03"}${n}`:`04${n}${Eo(this.y)}`}toHexX(){return this.toHex(!0).slice(2)}toRawX(){return this.toRawBytes(!0).slice(1)}assertValidity(){const e="Point is not on elliptic curve",{x:n,y:r}=this;if(!jd(n)||!jd(r))throw new Error(e);const i=Le(r*r),s=Vp(n);if(Le(i-s)!==Yt)throw new Error(e)}equals(e){return this.x===e.x&&this.y===e.y}negate(){return new ji(this.x,Le(-this.y))}double(){return Xt.fromAffine(this).double().toAffine()}add(e){return Xt.fromAffine(this).add(Xt.fromAffine(e)).toAffine()}subtract(e){return this.add(e.negate())}multiply(e){return Xt.fromAffine(this).multiply(e,this).toAffine()}multiplyAndAddUnsafe(e,n,r){const i=Xt.fromAffine(this),s=n===Yt||n===pn||this!==ji.BASE?i.multiplyUnsafe(n):i.multiply(n),o=Xt.fromAffine(e).multiplyUnsafe(r),a=s.add(o);return a.equals(Xt.ZERO)?void 0:a.toAffine()}};Er.BASE=new Er(In.Gx,In.Gy);Er.ZERO=new Er(Yt,Yt);function Xp(t){return Number.parseInt(t[0],16)>=8?"00"+t:t}function Zp(t){if(t.length<2||t[0]!==2)throw new Error(`Invalid signature integer tag: ${Jo(t)}`);const e=t[1],n=t.subarray(2,e+2);if(!e||n.length!==e)throw new Error("Invalid signature integer: wrong length");if(n[0]===0&&n[1]<=127)throw new Error("Invalid signature integer: trailing length");return{data:Es(n),left:t.subarray(e+2)}}function DE(t){if(t.length<2||t[0]!=48)throw new Error(`Invalid signature tag: ${Jo(t)}`);if(t[1]!==t.length-2)throw new Error("Invalid signature: incorrect length");const{data:e,left:n}=Zp(t.subarray(2)),{data:r,left:i}=Zp(n);if(i.length)throw new Error(`Invalid signature: left bytes after parsing: ${Jo(i)}`);return{r:e,s:r}}class Ts{constructor(e,n){this.r=e,this.s=n,this.assertValidity()}static fromCompact(e){const n=e instanceof Uint8Array,r="Signature.fromCompact";if(typeof e!="string"&&!n)throw new TypeError(`${r}: Expected string or Uint8Array`);const i=n?Jo(e):e;if(i.length!==128)throw new Error(`${r}: Expected 64-byte hex`);return new Ts(Cu(i.slice(0,64)),Cu(i.slice(64,128)))}static fromDER(e){const n=e instanceof Uint8Array;if(typeof e!="string"&&!n)throw new TypeError("Signature.fromDER: Expected string or Uint8Array");const{r,s:i}=DE(n?e:As(e));return new Ts(r,i)}static fromHex(e){return this.fromDER(e)}assertValidity(){const{r:e,s:n}=this;if(!$u(e))throw new Error("Invalid Signature: r must be 0 < r < n");if(!$u(n))throw new Error("Invalid Signature: s must be 0 < s < n")}hasHighS(){const e=In.n>>pn;return this.s>e}normalizeS(){return this.hasHighS()?new Ts(this.r,Le(-this.s,In.n)):this}toDERRawBytes(){return As(this.toDERHex())}toDERHex(){const e=Xp(Aa(this.s)),n=Xp(Aa(this.r)),r=e.length/2,i=n.length/2,s=Aa(r),o=Aa(i);return`30${Aa(i+r+4)}02${o}${n}02${s}${e}`}toRawBytes(){return this.toDERRawBytes()}toHex(){return this.toDERHex()}toCompactRawBytes(){return As(this.toCompactHex())}toCompactHex(){return Eo(this.r)+Eo(this.s)}}function Ta(...t){if(!t.every(r=>r instanceof Uint8Array))throw new Error("Uint8Array list expected");if(t.length===1)return t[0];const e=t.reduce((r,i)=>r+i.length,0),n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const LE=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Jo(t){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");let e="";for(let n=0;n<t.length;n++)e+=LE[t[n]];return e}const HE=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");function Eo(t){if(typeof t!="bigint")throw new Error("Expected bigint");if(!(Yt<=t&&t<HE))throw new Error("Expected number 0 <= n < 2^256");return t.toString(16).padStart(64,"0")}function Yp(t){const e=As(Eo(t));if(e.length!==32)throw new Error("Error: expected 32 bytes");return e}function Aa(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Cu(t){if(typeof t!="string")throw new TypeError("hexToNumber: expected string, got "+typeof t);return BigInt(`0x${t}`)}function As(t){if(typeof t!="string")throw new TypeError("hexToBytes: expected string, got "+typeof t);if(t.length%2)throw new Error("hexToBytes: received invalid unpadded hex"+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,i=t.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("Invalid byte sequence");e[n]=s}return e}function Es(t){return Cu(Jo(t))}function Nf(t){return t instanceof Uint8Array?Uint8Array.from(t):As(t)}function Jp(t){if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)return BigInt(t);if(typeof t=="bigint"&&$u(t))return t;throw new TypeError("Expected valid private scalar: 0 < scalar < curve.n")}function Le(t,e=In.P){const n=t%e;return n>=Yt?n:e+n}function Ir(t,e){const{P:n}=In;let r=t;for(;e-- >Yt;)r*=r,r%=n;return r}function zE(t){const{P:e}=In,n=BigInt(6),r=BigInt(11),i=BigInt(22),s=BigInt(23),o=BigInt(44),a=BigInt(88),c=t*t*t%e,u=c*c*t%e,l=Ir(u,$a)*u%e,d=Ir(l,$a)*u%e,h=Ir(d,Ji)*c%e,y=Ir(h,r)*h%e,b=Ir(y,i)*y%e,T=Ir(b,o)*b%e,k=Ir(T,a)*T%e,O=Ir(k,o)*b%e,B=Ir(O,$a)*u%e,v=Ir(B,s)*y%e,_=Ir(v,n)*c%e,S=Ir(_,Ji);if(S*S%e!==t)throw new Error("Cannot find square root");return S}function sd(t,e=In.P){if(t===Yt||e<=Yt)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Le(t,e),r=e,i=Yt,s=pn;for(;n!==Yt;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==pn)throw new Error("invert: does not exist");return Le(i,e)}function FE(t,e=In.P){const n=new Array(t.length),r=t.reduce((s,o,a)=>o===Yt?s:(n[a]=s,Le(s*o,e)),pn),i=sd(r,e);return t.reduceRight((s,o,a)=>o===Yt?s:(n[a]=Le(s*n[a],e),Le(s*o,e)),i),n}function jE(t){const e=t.length*8-Ka*8,n=Es(t);return e>0?n>>BigInt(e):n}function WE(t,e=!1){const n=jE(t);if(e)return n;const{n:r}=In;return n>=r?n-r:n}let ko,Fd;function $u(t){return Yt<t&&t<In.n}function jd(t){return Yt<t&&t<In.P}function Df(t){let e;if(typeof t=="bigint")e=t;else if(typeof t=="number"&&Number.isSafeInteger(t)&&t>0)e=BigInt(t);else if(typeof t=="string"){if(t.length!==2*Ka)throw new Error("Expected 32 bytes of private key");e=Cu(t)}else if(t instanceof Uint8Array){if(t.length!==Ka)throw new Error("Expected 32 bytes of private key");e=Es(t)}else throw new TypeError("Expected valid private key");if(!$u(e))throw new Error("Expected private key: 0 < key < n");return e}function GE(t){if(t instanceof Ts)return t.assertValidity(),t;try{return Ts.fromDER(t)}catch{return Ts.fromCompact(t)}}Er.BASE._setWindowSize(8);const yr={node:Jg,web:typeof self=="object"&&"crypto"in self?self.crypto:void 0},jc={},po={bytesToHex:Jo,hexToBytes:As,concatBytes:Ta,mod:Le,invert:sd,isValidPrivateKey(t){try{return Df(t),!0}catch{return!1}},_bigintTo32Bytes:Yp,_normalizePrivateKey:Df,hashToPrivateKey:t=>{t=Nf(t);const e=Ka+8;if(t.length<e||t.length>1024)throw new Error("Expected valid bytes of private key as per FIPS 186");const n=Le(Es(t),In.n-pn)+pn;return Yp(n)},randomBytes:(t=32)=>{if(yr.web)return yr.web.getRandomValues(new Uint8Array(t));if(yr.node){const{randomBytes:e}=yr.node;return Uint8Array.from(e(t))}else throw new Error("The environment doesn't have randomBytes function")},randomPrivateKey:()=>po.hashToPrivateKey(po.randomBytes(Ka+8)),precompute(t=8,e=Er.BASE){const n=e===Er.BASE?e:new Er(e.x,e.y);return n._setWindowSize(t),n.multiply($a),n},sha256:async(...t)=>{if(yr.web){const e=await yr.web.subtle.digest("SHA-256",Ta(...t));return new Uint8Array(e)}else if(yr.node){const{createHash:e}=yr.node,n=e("sha256");return t.forEach(r=>n.update(r)),Uint8Array.from(n.digest())}else throw new Error("The environment doesn't have sha256 function")},hmacSha256:async(t,...e)=>{if(yr.web){const n=await yr.web.subtle.importKey("raw",t,{name:"HMAC",hash:{name:"SHA-256"}},!1,["sign"]),r=Ta(...e),i=await yr.web.subtle.sign("HMAC",n,r);return new Uint8Array(i)}else if(yr.node){const{createHmac:n}=yr.node,r=n("sha256",t);return e.forEach(i=>r.update(i)),Uint8Array.from(r.digest())}else throw new Error("The environment doesn't have hmac-sha256 function")},sha256Sync:void 0,hmacSha256Sync:void 0,taggedHash:async(t,...e)=>{let n=jc[t];if(n===void 0){const r=await po.sha256(Uint8Array.from(t,i=>i.charCodeAt(0)));n=Ta(r,r),jc[t]=n}return po.sha256(n,...e)},taggedHashSync:(t,...e)=>{if(typeof ko!="function")throw new NE("sha256Sync is undefined, you need to set it");let n=jc[t];if(n===void 0){const r=ko(Uint8Array.from(t,i=>i.charCodeAt(0)));n=Ta(r,r),jc[t]=n}return ko(n,...e)},_JacobianPoint:Xt};Object.defineProperties(po,{sha256Sync:{configurable:!1,get(){return ko},set(t){ko||(ko=t)}},hmacSha256Sync:{configurable:!1,get(){return Fd},set(t){Fd||(Fd=t)}}});function Lf(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function VE(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}function $w(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function KE(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Lf(t.outputLen),Lf(t.blockLen)}function XE(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function ZE(t,e){$w(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const bs={number:Lf,bool:VE,bytes:$w,hash:KE,exists:XE,output:ZE},YE=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0,JE=Object.freeze(Object.defineProperty({__proto__:null,crypto:YE},Symbol.toStringTag,{value:"Module"}));/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AC=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Wd=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),ai=(t,e)=>t<<32-e|t>>>e,QE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!QE)throw new Error("Non little-endian hardware is not supported");Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function e7(t){if(typeof t!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function od(t){if(typeof t=="string"&&(t=e7(t)),!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}class Mw{clone(){return this._cloneInto()}}function Zs(t){const e=r=>t().update(od(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function EC(t){const e=(r,i)=>t(i).update(od(r)).digest(),n=t({});return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}class qw extends Mw{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,bs.hash(e);const r=od(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return bs.exists(this),this.iHash.update(e),this}digestInto(e){bs.exists(this),bs.bytes(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const J0=(t,e,n)=>new qw(t,e).update(n).digest();J0.create=(t,e)=>new qw(t,e);function t7(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,u=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+u,a,r)}class Q0 extends Mw{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=Wd(this.buffer)}update(e){bs.exists(this);const{view:n,buffer:r,blockLen:i}=this;e=od(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=Wd(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){bs.exists(this),bs.output(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;t7(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=Wd(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,l=this.get();if(u>l.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<u;d++)a.setUint32(4*d,l[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const n7=(t,e,n)=>t&e^~t&n,r7=(t,e,n)=>t&e^t&n^e&n,i7=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Di=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Li=new Uint32Array(64);class Nw extends Q0{constructor(){super(64,32,8,!1),this.A=Di[0]|0,this.B=Di[1]|0,this.C=Di[2]|0,this.D=Di[3]|0,this.E=Di[4]|0,this.F=Di[5]|0,this.G=Di[6]|0,this.H=Di[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)Li[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=Li[d-15],y=Li[d-2],b=ai(h,7)^ai(h,18)^h>>>3,T=ai(y,17)^ai(y,19)^y>>>10;Li[d]=T+Li[d-7]+b+Li[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:u,H:l}=this;for(let d=0;d<64;d++){const h=ai(a,6)^ai(a,11)^ai(a,25),y=l+h+n7(a,c,u)+i7[d]+Li[d]|0,T=(ai(r,2)^ai(r,13)^ai(r,22))+r7(r,i,s)|0;l=u,u=c,c=a,a=o+y|0,o=s,s=i,i=r,r=y+T|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,u=u+this.G|0,l=l+this.H|0,this.set(r,i,s,o,a,c,u,l)}roundClean(){Li.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}class s7 extends Nw{constructor(){super(),this.A=-1056596264,this.B=914150663,this.C=812702999,this.D=-150054599,this.E=-4191439,this.F=1750603025,this.G=1694076839,this.H=-1090891868,this.outputLen=28}}const Os=Zs(()=>new Nw),o7=Zs(()=>new s7),a7=Object.freeze(Object.defineProperty({__proto__:null,sha224:o7,sha256:Os},Symbol.toStringTag,{value:"Module"}));var Qp={},c7={get exports(){return Qp},set exports(t){Qp=t}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_SHA3_NO_WINDOW&&(r=!1);var s=!r&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=Zi:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),l=[31,7936,2031616,520093696],d=[4,1024,262144,67108864],h=[1,256,65536,16777216],y=[6,1536,393216,100663296],b=[0,8,16,24],T=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],k=[224,256,384,512],O=[128,256],B=["hex","buffer","arrayBuffer","array","digest"],v={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(A){return Object.prototype.toString.call(A)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(A){return typeof A=="object"&&A.buffer&&A.buffer.constructor===ArrayBuffer});for(var _=function(A,ne,fe){return function(V){return new m(A,ne,A).update(V)[fe]()}},S=function(A,ne,fe){return function(V,z){return new m(A,ne,z).update(V)[fe]()}},M=function(A,ne,fe){return function(V,z,X,Z){return f["cshake"+A].update(V,z,X,Z)[fe]()}},F=function(A,ne,fe){return function(V,z,X,Z){return f["kmac"+A].update(V,z,X,Z)[fe]()}},W=function(A,ne,fe,V){for(var z=0;z<B.length;++z){var X=B[z];A[X]=ne(fe,V,X)}return A},Y=function(A,ne){var fe=_(A,ne,"hex");return fe.create=function(){return new m(A,ne,A)},fe.update=function(V){return fe.create().update(V)},W(fe,_,A,ne)},J=function(A,ne){var fe=S(A,ne,"hex");return fe.create=function(V){return new m(A,ne,V)},fe.update=function(V,z){return fe.create(z).update(V)},W(fe,S,A,ne)},q=function(A,ne){var fe=v[A],V=M(A,ne,"hex");return V.create=function(z,X,Z){return!X&&!Z?f["shake"+A].create(z):new m(A,ne,z).bytepad([X,Z],fe)},V.update=function(z,X,Z,Q){return V.create(X,Z,Q).update(z)},W(V,M,A,ne)},L=function(A,ne){var fe=v[A],V=F(A,ne,"hex");return V.create=function(z,X,Z){return new D(A,ne,X).bytepad(["KMAC",Z],fe).bytepad([z],fe)},V.update=function(z,X,Z,Q){return V.create(z,Z,Q).update(X)},W(V,F,A,ne)},E=[{name:"keccak",padding:h,bits:k,createMethod:Y},{name:"sha3",padding:y,bits:k,createMethod:Y},{name:"shake",padding:l,bits:O,createMethod:J},{name:"cshake",padding:d,bits:O,createMethod:q},{name:"kmac",padding:d,bits:O,createMethod:L}],f={},p=[],w=0;w<E.length;++w)for(var R=E[w],N=R.bits,H=0;H<N.length;++H){var K=R.name+"_"+N[H];if(p.push(K),f[K]=R.createMethod(N[H],R.padding),R.name!=="sha3"){var C=R.name+N[H];p.push(C),f[C]=f[K]}}function m(A,ne,fe){this.blocks=[],this.s=[],this.padding=ne,this.outputBits=fe,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(A<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=fe>>5,this.extraBytes=(fe&31)>>3;for(var V=0;V<50;++V)this.s[V]=0}m.prototype.update=function(A){if(this.finalized)throw new Error(n);var ne,fe=typeof A;if(fe!=="string"){if(fe==="object"){if(A===null)throw new Error(e);if(c&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!Array.isArray(A)&&(!c||!ArrayBuffer.isView(A)))throw new Error(e)}else throw new Error(e);ne=!0}for(var V=this.blocks,z=this.byteCount,X=A.length,Z=this.blockCount,Q=0,se=this.s,ie,de;Q<X;){if(this.reset)for(this.reset=!1,V[0]=this.block,ie=1;ie<Z+1;++ie)V[ie]=0;if(ne)for(ie=this.start;Q<X&&ie<z;++Q)V[ie>>2]|=A[Q]<<b[ie++&3];else for(ie=this.start;Q<X&&ie<z;++Q)de=A.charCodeAt(Q),de<128?V[ie>>2]|=de<<b[ie++&3]:de<2048?(V[ie>>2]|=(192|de>>6)<<b[ie++&3],V[ie>>2]|=(128|de&63)<<b[ie++&3]):de<55296||de>=57344?(V[ie>>2]|=(224|de>>12)<<b[ie++&3],V[ie>>2]|=(128|de>>6&63)<<b[ie++&3],V[ie>>2]|=(128|de&63)<<b[ie++&3]):(de=65536+((de&1023)<<10|A.charCodeAt(++Q)&1023),V[ie>>2]|=(240|de>>18)<<b[ie++&3],V[ie>>2]|=(128|de>>12&63)<<b[ie++&3],V[ie>>2]|=(128|de>>6&63)<<b[ie++&3],V[ie>>2]|=(128|de&63)<<b[ie++&3]);if(this.lastByteIndex=ie,ie>=z){for(this.start=ie-z,this.block=V[Z],ie=0;ie<Z;++ie)se[ie]^=V[ie];we(se),this.reset=!0}else this.start=ie}return this},m.prototype.encode=function(A,ne){var fe=A&255,V=1,z=[fe];for(A=A>>8,fe=A&255;fe>0;)z.unshift(fe),A=A>>8,fe=A&255,++V;return ne?z.push(V):z.unshift(V),this.update(z),z.length},m.prototype.encodeString=function(A){var ne,fe=typeof A;if(fe!=="string"){if(fe==="object"){if(A===null)throw new Error(e);if(c&&A.constructor===ArrayBuffer)A=new Uint8Array(A);else if(!Array.isArray(A)&&(!c||!ArrayBuffer.isView(A)))throw new Error(e)}else throw new Error(e);ne=!0}var V=0,z=A.length;if(ne)V=z;else for(var X=0;X<A.length;++X){var Z=A.charCodeAt(X);Z<128?V+=1:Z<2048?V+=2:Z<55296||Z>=57344?V+=3:(Z=65536+((Z&1023)<<10|A.charCodeAt(++X)&1023),V+=4)}return V+=this.encode(V*8),this.update(A),V},m.prototype.bytepad=function(A,ne){for(var fe=this.encode(ne),V=0;V<A.length;++V)fe+=this.encodeString(A[V]);var z=ne-fe%ne,X=[];return X.length=z,this.update(X),this},m.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var A=this.blocks,ne=this.lastByteIndex,fe=this.blockCount,V=this.s;if(A[ne>>2]|=this.padding[ne&3],this.lastByteIndex===this.byteCount)for(A[0]=A[fe],ne=1;ne<fe+1;++ne)A[ne]=0;for(A[fe-1]|=2147483648,ne=0;ne<fe;++ne)V[ne]^=A[ne];we(V)}},m.prototype.toString=m.prototype.hex=function(){this.finalize();for(var A=this.blockCount,ne=this.s,fe=this.outputBlocks,V=this.extraBytes,z=0,X=0,Z="",Q;X<fe;){for(z=0;z<A&&X<fe;++z,++X)Q=ne[z],Z+=u[Q>>4&15]+u[Q&15]+u[Q>>12&15]+u[Q>>8&15]+u[Q>>20&15]+u[Q>>16&15]+u[Q>>28&15]+u[Q>>24&15];X%A===0&&(we(ne),z=0)}return V&&(Q=ne[z],Z+=u[Q>>4&15]+u[Q&15],V>1&&(Z+=u[Q>>12&15]+u[Q>>8&15]),V>2&&(Z+=u[Q>>20&15]+u[Q>>16&15])),Z},m.prototype.arrayBuffer=function(){this.finalize();var A=this.blockCount,ne=this.s,fe=this.outputBlocks,V=this.extraBytes,z=0,X=0,Z=this.outputBits>>3,Q;V?Q=new ArrayBuffer(fe+1<<2):Q=new ArrayBuffer(Z);for(var se=new Uint32Array(Q);X<fe;){for(z=0;z<A&&X<fe;++z,++X)se[X]=ne[z];X%A===0&&we(ne)}return V&&(se[z]=ne[z],Q=Q.slice(0,Z)),Q},m.prototype.buffer=m.prototype.arrayBuffer,m.prototype.digest=m.prototype.array=function(){this.finalize();for(var A=this.blockCount,ne=this.s,fe=this.outputBlocks,V=this.extraBytes,z=0,X=0,Z=[],Q,se;X<fe;){for(z=0;z<A&&X<fe;++z,++X)Q=X<<2,se=ne[z],Z[Q]=se&255,Z[Q+1]=se>>8&255,Z[Q+2]=se>>16&255,Z[Q+3]=se>>24&255;X%A===0&&we(ne)}return V&&(Q=X<<2,se=ne[z],Z[Q]=se&255,V>1&&(Z[Q+1]=se>>8&255),V>2&&(Z[Q+2]=se>>16&255)),Z};function D(A,ne,fe){m.call(this,A,ne,fe)}D.prototype=new m,D.prototype.finalize=function(){return this.encode(this.outputBits,!0),m.prototype.finalize.call(this)};var we=function(A){var ne,fe,V,z,X,Z,Q,se,ie,de,Pe,Ee,Se,De,ke,Ce,Ke,Ue,Be,ct,ze,Ve,Zt,rt,Ot,Nn,Dt,zt,Kn,Mt,Pt,Rr,Vt,Kt,Gr,on,an,pi,qt,Ft,lr,nn,rn,ri,cn,kt,ii,x,P,U,g,$,te,ee,ue,_e,Te,be,gt,Ie,Fe,Ge,Ye;for(V=0;V<48;V+=2)z=A[0]^A[10]^A[20]^A[30]^A[40],X=A[1]^A[11]^A[21]^A[31]^A[41],Z=A[2]^A[12]^A[22]^A[32]^A[42],Q=A[3]^A[13]^A[23]^A[33]^A[43],se=A[4]^A[14]^A[24]^A[34]^A[44],ie=A[5]^A[15]^A[25]^A[35]^A[45],de=A[6]^A[16]^A[26]^A[36]^A[46],Pe=A[7]^A[17]^A[27]^A[37]^A[47],Ee=A[8]^A[18]^A[28]^A[38]^A[48],Se=A[9]^A[19]^A[29]^A[39]^A[49],ne=Ee^(Z<<1|Q>>>31),fe=Se^(Q<<1|Z>>>31),A[0]^=ne,A[1]^=fe,A[10]^=ne,A[11]^=fe,A[20]^=ne,A[21]^=fe,A[30]^=ne,A[31]^=fe,A[40]^=ne,A[41]^=fe,ne=z^(se<<1|ie>>>31),fe=X^(ie<<1|se>>>31),A[2]^=ne,A[3]^=fe,A[12]^=ne,A[13]^=fe,A[22]^=ne,A[23]^=fe,A[32]^=ne,A[33]^=fe,A[42]^=ne,A[43]^=fe,ne=Z^(de<<1|Pe>>>31),fe=Q^(Pe<<1|de>>>31),A[4]^=ne,A[5]^=fe,A[14]^=ne,A[15]^=fe,A[24]^=ne,A[25]^=fe,A[34]^=ne,A[35]^=fe,A[44]^=ne,A[45]^=fe,ne=se^(Ee<<1|Se>>>31),fe=ie^(Se<<1|Ee>>>31),A[6]^=ne,A[7]^=fe,A[16]^=ne,A[17]^=fe,A[26]^=ne,A[27]^=fe,A[36]^=ne,A[37]^=fe,A[46]^=ne,A[47]^=fe,ne=de^(z<<1|X>>>31),fe=Pe^(X<<1|z>>>31),A[8]^=ne,A[9]^=fe,A[18]^=ne,A[19]^=fe,A[28]^=ne,A[29]^=fe,A[38]^=ne,A[39]^=fe,A[48]^=ne,A[49]^=fe,De=A[0],ke=A[1],kt=A[11]<<4|A[10]>>>28,ii=A[10]<<4|A[11]>>>28,zt=A[20]<<3|A[21]>>>29,Kn=A[21]<<3|A[20]>>>29,Ie=A[31]<<9|A[30]>>>23,Fe=A[30]<<9|A[31]>>>23,nn=A[40]<<18|A[41]>>>14,rn=A[41]<<18|A[40]>>>14,Kt=A[2]<<1|A[3]>>>31,Gr=A[3]<<1|A[2]>>>31,Ce=A[13]<<12|A[12]>>>20,Ke=A[12]<<12|A[13]>>>20,x=A[22]<<10|A[23]>>>22,P=A[23]<<10|A[22]>>>22,Mt=A[33]<<13|A[32]>>>19,Pt=A[32]<<13|A[33]>>>19,Ge=A[42]<<2|A[43]>>>30,Ye=A[43]<<2|A[42]>>>30,ee=A[5]<<30|A[4]>>>2,ue=A[4]<<30|A[5]>>>2,on=A[14]<<6|A[15]>>>26,an=A[15]<<6|A[14]>>>26,Ue=A[25]<<11|A[24]>>>21,Be=A[24]<<11|A[25]>>>21,U=A[34]<<15|A[35]>>>17,g=A[35]<<15|A[34]>>>17,Rr=A[45]<<29|A[44]>>>3,Vt=A[44]<<29|A[45]>>>3,rt=A[6]<<28|A[7]>>>4,Ot=A[7]<<28|A[6]>>>4,_e=A[17]<<23|A[16]>>>9,Te=A[16]<<23|A[17]>>>9,pi=A[26]<<25|A[27]>>>7,qt=A[27]<<25|A[26]>>>7,ct=A[36]<<21|A[37]>>>11,ze=A[37]<<21|A[36]>>>11,$=A[47]<<24|A[46]>>>8,te=A[46]<<24|A[47]>>>8,ri=A[8]<<27|A[9]>>>5,cn=A[9]<<27|A[8]>>>5,Nn=A[18]<<20|A[19]>>>12,Dt=A[19]<<20|A[18]>>>12,be=A[29]<<7|A[28]>>>25,gt=A[28]<<7|A[29]>>>25,Ft=A[38]<<8|A[39]>>>24,lr=A[39]<<8|A[38]>>>24,Ve=A[48]<<14|A[49]>>>18,Zt=A[49]<<14|A[48]>>>18,A[0]=De^~Ce&Ue,A[1]=ke^~Ke&Be,A[10]=rt^~Nn&zt,A[11]=Ot^~Dt&Kn,A[20]=Kt^~on&pi,A[21]=Gr^~an&qt,A[30]=ri^~kt&x,A[31]=cn^~ii&P,A[40]=ee^~_e&be,A[41]=ue^~Te&gt,A[2]=Ce^~Ue&ct,A[3]=Ke^~Be&ze,A[12]=Nn^~zt&Mt,A[13]=Dt^~Kn&Pt,A[22]=on^~pi&Ft,A[23]=an^~qt&lr,A[32]=kt^~x&U,A[33]=ii^~P&g,A[42]=_e^~be&Ie,A[43]=Te^~gt&Fe,A[4]=Ue^~ct&Ve,A[5]=Be^~ze&Zt,A[14]=zt^~Mt&Rr,A[15]=Kn^~Pt&Vt,A[24]=pi^~Ft&nn,A[25]=qt^~lr&rn,A[34]=x^~U&$,A[35]=P^~g&te,A[44]=be^~Ie&Ge,A[45]=gt^~Fe&Ye,A[6]=ct^~Ve&De,A[7]=ze^~Zt&ke,A[16]=Mt^~Rr&rt,A[17]=Pt^~Vt&Ot,A[26]=Ft^~nn&Kt,A[27]=lr^~rn&Gr,A[36]=U^~$&ri,A[37]=g^~te&cn,A[46]=Ie^~Ge&ee,A[47]=Fe^~Ye&ue,A[8]=Ve^~De&Ce,A[9]=Zt^~ke&Ke,A[18]=Rr^~rt&Nn,A[19]=Vt^~Ot&Dt,A[28]=nn^~Kt&on,A[29]=rn^~Gr&an,A[38]=$^~ri&kt,A[39]=te^~cn&ii,A[48]=Ge^~ee&_e,A[49]=Ye^~ue&Te,A[0]^=T[V],A[1]^=T[V+1]};if(a)t.exports=f;else for(w=0;w<p.length;++w)i[p[w]]=f[p[w]]})()})(c7);var Sr={},Fn={};Object.defineProperty(Fn,"__esModule",{value:!0});Fn.output=Fn.exists=Fn.hash=Fn.bytes=Fn.bool=Fn.number=void 0;function Mu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}Fn.number=Mu;function Dw(t){if(typeof t!="boolean")throw new Error(`Expected boolean, not ${t}`)}Fn.bool=Dw;function eh(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}Fn.bytes=eh;function Lw(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Mu(t.outputLen),Mu(t.blockLen)}Fn.hash=Lw;function Hw(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}Fn.exists=Hw;function zw(t,e){eh(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}Fn.output=zw;const u7={number:Mu,bool:Dw,bytes:eh,hash:Lw,exists:Hw,output:zw};Fn.default=u7;var Qo={},Fw={},as={};const l7=Qa(JE);(function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.randomBytes=t.wrapConstructorWithOpts=t.wrapConstructor=t.checkOpts=t.Hash=t.concatBytes=t.toBytes=t.utf8ToBytes=t.asyncLoop=t.nextTick=t.hexToBytes=t.bytesToHex=t.isLE=t.rotr=t.createView=t.u32=t.u8=void 0;const e=l7,n=_=>new Uint8Array(_.buffer,_.byteOffset,_.byteLength);t.u8=n;const r=_=>new Uint32Array(_.buffer,_.byteOffset,Math.floor(_.byteLength/4));t.u32=r;const i=_=>new DataView(_.buffer,_.byteOffset,_.byteLength);t.createView=i;const s=(_,S)=>_<<32-S|_>>>S;if(t.rotr=s,t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68,!t.isLE)throw new Error("Non little-endian hardware is not supported");const o=Array.from({length:256},(_,S)=>S.toString(16).padStart(2,"0"));function a(_){if(!(_ instanceof Uint8Array))throw new Error("Uint8Array expected");let S="";for(let M=0;M<_.length;M++)S+=o[_[M]];return S}t.bytesToHex=a;function c(_){if(typeof _!="string")throw new TypeError("hexToBytes: expected string, got "+typeof _);if(_.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const S=new Uint8Array(_.length/2);for(let M=0;M<S.length;M++){const F=M*2,W=_.slice(F,F+2),Y=Number.parseInt(W,16);if(Number.isNaN(Y)||Y<0)throw new Error("Invalid byte sequence");S[M]=Y}return S}t.hexToBytes=c;const u=async()=>{};t.nextTick=u;async function l(_,S,M){let F=Date.now();for(let W=0;W<_;W++){M(W);const Y=Date.now()-F;Y>=0&&Y<S||(await(0,t.nextTick)(),F+=Y)}}t.asyncLoop=l;function d(_){if(typeof _!="string")throw new TypeError(`utf8ToBytes expected string, got ${typeof _}`);return new TextEncoder().encode(_)}t.utf8ToBytes=d;function h(_){if(typeof _=="string"&&(_=d(_)),!(_ instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof _})`);return _}t.toBytes=h;function y(..._){if(!_.every(F=>F instanceof Uint8Array))throw new Error("Uint8Array list expected");if(_.length===1)return _[0];const S=_.reduce((F,W)=>F+W.length,0),M=new Uint8Array(S);for(let F=0,W=0;F<_.length;F++){const Y=_[F];M.set(Y,W),W+=Y.length}return M}t.concatBytes=y;class b{clone(){return this._cloneInto()}}t.Hash=b;const T=_=>Object.prototype.toString.call(_)==="[object Object]"&&_.constructor===Object;function k(_,S){if(S!==void 0&&(typeof S!="object"||!T(S)))throw new TypeError("Options should be object or undefined");return Object.assign(_,S)}t.checkOpts=k;function O(_){const S=F=>_().update(h(F)).digest(),M=_();return S.outputLen=M.outputLen,S.blockLen=M.blockLen,S.create=()=>_(),S}t.wrapConstructor=O;function B(_){const S=(F,W)=>_(W).update(h(F)).digest(),M=_({});return S.outputLen=M.outputLen,S.blockLen=M.blockLen,S.create=F=>_(F),S}t.wrapConstructorWithOpts=B;function v(_=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(_));throw new Error("crypto.getRandomValues must be defined")}t.randomBytes=v})(as);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.hmac=void 0;const e=Fn,n=as;class r extends n.Hash{constructor(o,a){super(),this.finished=!1,this.destroyed=!1,e.default.hash(o);const c=(0,n.toBytes)(a);if(this.iHash=o.create(),typeof this.iHash.update!="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const u=this.blockLen,l=new Uint8Array(u);l.set(c.length>u?o.create().update(c).digest():c);for(let d=0;d<l.length;d++)l[d]^=54;this.iHash.update(l),this.oHash=o.create();for(let d=0;d<l.length;d++)l[d]^=106;this.oHash.update(l),l.fill(0)}update(o){return e.default.exists(this),this.iHash.update(o),this}digestInto(o){e.default.exists(this),e.default.bytes(o,this.outputLen),this.finished=!0,this.iHash.digestInto(o),this.oHash.update(o),this.oHash.digestInto(o),this.destroy()}digest(){const o=new Uint8Array(this.oHash.outputLen);return this.digestInto(o),o}_cloneInto(o){o||(o=Object.create(Object.getPrototypeOf(this),{}));const{oHash:a,iHash:c,finished:u,destroyed:l,blockLen:d,outputLen:h}=this;return o=o,o.finished=u,o.destroyed=l,o.blockLen=d,o.outputLen=h,o.oHash=a._cloneInto(o.oHash),o.iHash=c._cloneInto(o.iHash),o}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const i=(s,o,a)=>new r(s,o).update(a).digest();t.hmac=i,t.hmac.create=(s,o)=>new r(s,o)})(Fw);Object.defineProperty(Qo,"__esModule",{value:!0});Qo.pbkdf2Async=Qo.pbkdf2=void 0;const Wc=Fn,d7=Fw,Bo=as;function jw(t,e,n,r){Wc.default.hash(t);const i=(0,Bo.checkOpts)({dkLen:32,asyncTick:10},r),{c:s,dkLen:o,asyncTick:a}=i;if(Wc.default.number(s),Wc.default.number(o),Wc.default.number(a),s<1)throw new Error("PBKDF2: iterations (c) should be >= 1");const c=(0,Bo.toBytes)(e),u=(0,Bo.toBytes)(n),l=new Uint8Array(o),d=d7.hmac.create(t,c),h=d._cloneInto().update(u);return{c:s,dkLen:o,asyncTick:a,DK:l,PRF:d,PRFSalt:h}}function Ww(t,e,n,r,i){return t.destroy(),e.destroy(),r&&r.destroy(),i.fill(0),n}function f7(t,e,n,r){const{c:i,dkLen:s,DK:o,PRF:a,PRFSalt:c}=jw(t,e,n,r);let u;const l=new Uint8Array(4),d=(0,Bo.createView)(l),h=new Uint8Array(a.outputLen);for(let y=1,b=0;b<s;y++,b+=a.outputLen){const T=o.subarray(b,b+a.outputLen);d.setInt32(0,y,!1),(u=c._cloneInto(u)).update(l).digestInto(h),T.set(h.subarray(0,T.length));for(let k=1;k<i;k++){a._cloneInto(u).update(h).digestInto(h);for(let O=0;O<T.length;O++)T[O]^=h[O]}}return Ww(a,c,o,u,h)}Qo.pbkdf2=f7;async function h7(t,e,n,r){const{c:i,dkLen:s,asyncTick:o,DK:a,PRF:c,PRFSalt:u}=jw(t,e,n,r);let l;const d=new Uint8Array(4),h=(0,Bo.createView)(d),y=new Uint8Array(c.outputLen);for(let b=1,T=0;T<s;b++,T+=c.outputLen){const k=a.subarray(T,T+c.outputLen);h.setInt32(0,b,!1),(l=u._cloneInto(l)).update(d).digestInto(y),k.set(y.subarray(0,k.length)),await(0,Bo.asyncLoop)(i-1,o,O=>{c._cloneInto(l).update(y).digestInto(y);for(let B=0;B<k.length;B++)k[B]^=y[B]})}return Ww(c,u,a,l,y)}Qo.pbkdf2Async=h7;const p7=Qa(a7),Gc=BigInt(2**32-1),Hf=BigInt(32);function Gw(t,e=!1){return e?{h:Number(t&Gc),l:Number(t>>Hf&Gc)}:{h:Number(t>>Hf&Gc)|0,l:Number(t&Gc)|0}}function g7(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Gw(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const y7=(t,e)=>BigInt(t>>>0)<<Hf|BigInt(e>>>0),m7=(t,e,n)=>t>>>n,w7=(t,e,n)=>t<<32-n|e>>>n,_7=(t,e,n)=>t>>>n|e<<32-n,b7=(t,e,n)=>t<<32-n|e>>>n,v7=(t,e,n)=>t<<64-n|e>>>n-32,x7=(t,e,n)=>t>>>n-32|e<<64-n,S7=(t,e)=>e,T7=(t,e)=>t,A7=(t,e,n)=>t<<n|e>>>32-n,E7=(t,e,n)=>e<<n|t>>>32-n,k7=(t,e,n)=>e<<n-32|t>>>64-n,B7=(t,e,n)=>t<<n-32|e>>>64-n;function R7(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const I7=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),P7=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,U7=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),O7=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,C7=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),$7=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,At={fromBig:Gw,split:g7,toBig:y7,shrSH:m7,shrSL:w7,rotrSH:_7,rotrSL:b7,rotrBH:v7,rotrBL:x7,rotr32H:S7,rotr32L:T7,rotlSH:A7,rotlSL:E7,rotlBH:k7,rotlBL:B7,add:R7,add3L:I7,add3H:P7,add4L:U7,add4H:O7,add5H:$7,add5L:C7},[M7,q7]=At.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Hi=new Uint32Array(80),zi=new Uint32Array(80);class Sc extends Q0{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:u,El:l,Fh:d,Fl:h,Gh:y,Gl:b,Hh:T,Hl:k}=this;return[e,n,r,i,s,o,a,c,u,l,d,h,y,b,T,k]}set(e,n,r,i,s,o,a,c,u,l,d,h,y,b,T,k){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=u|0,this.El=l|0,this.Fh=d|0,this.Fl=h|0,this.Gh=y|0,this.Gl=b|0,this.Hh=T|0,this.Hl=k|0}process(e,n){for(let v=0;v<16;v++,n+=4)Hi[v]=e.getUint32(n),zi[v]=e.getUint32(n+=4);for(let v=16;v<80;v++){const _=Hi[v-15]|0,S=zi[v-15]|0,M=At.rotrSH(_,S,1)^At.rotrSH(_,S,8)^At.shrSH(_,S,7),F=At.rotrSL(_,S,1)^At.rotrSL(_,S,8)^At.shrSL(_,S,7),W=Hi[v-2]|0,Y=zi[v-2]|0,J=At.rotrSH(W,Y,19)^At.rotrBH(W,Y,61)^At.shrSH(W,Y,6),q=At.rotrSL(W,Y,19)^At.rotrBL(W,Y,61)^At.shrSL(W,Y,6),L=At.add4L(F,q,zi[v-7],zi[v-16]),E=At.add4H(L,M,J,Hi[v-7],Hi[v-16]);Hi[v]=E|0,zi[v]=L|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:u,Dl:l,Eh:d,El:h,Fh:y,Fl:b,Gh:T,Gl:k,Hh:O,Hl:B}=this;for(let v=0;v<80;v++){const _=At.rotrSH(d,h,14)^At.rotrSH(d,h,18)^At.rotrBH(d,h,41),S=At.rotrSL(d,h,14)^At.rotrSL(d,h,18)^At.rotrBL(d,h,41),M=d&y^~d&T,F=h&b^~h&k,W=At.add5L(B,S,F,q7[v],zi[v]),Y=At.add5H(W,O,_,M,M7[v],Hi[v]),J=W|0,q=At.rotrSH(r,i,28)^At.rotrBH(r,i,34)^At.rotrBH(r,i,39),L=At.rotrSL(r,i,28)^At.rotrBL(r,i,34)^At.rotrBL(r,i,39),E=r&s^r&a^s&a,f=i&o^i&c^o&c;O=T|0,B=k|0,T=y|0,k=b|0,y=d|0,b=h|0,{h:d,l:h}=At.add(u|0,l|0,Y|0,J|0),u=a|0,l=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const p=At.add3L(J,L,f);r=At.add3H(p,Y,q,E),i=p|0}({h:r,l:i}=At.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=At.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=At.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:u,l}=At.add(this.Dh|0,this.Dl|0,u|0,l|0),{h:d,l:h}=At.add(this.Eh|0,this.El|0,d|0,h|0),{h:y,l:b}=At.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:T,l:k}=At.add(this.Gh|0,this.Gl|0,T|0,k|0),{h:O,l:B}=At.add(this.Hh|0,this.Hl|0,O|0,B|0),this.set(r,i,s,o,a,c,u,l,d,h,y,b,T,k,O,B)}roundClean(){Hi.fill(0),zi.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class N7 extends Sc{constructor(){super(),this.Ah=-1942145080,this.Al=424955298,this.Bh=1944164710,this.Bl=-1982016298,this.Ch=502970286,this.Cl=855612546,this.Dh=1738396948,this.Dl=1479516111,this.Eh=258812777,this.El=2077511080,this.Fh=2011393907,this.Fl=79989058,this.Gh=1067287976,this.Gl=1780299464,this.Hh=286451373,this.Hl=-1848208735,this.outputLen=28}}class D7 extends Sc{constructor(){super(),this.Ah=573645204,this.Al=-64227540,this.Bh=-1621794909,this.Bl=-934517566,this.Ch=596883563,this.Cl=1867755857,this.Dh=-1774684391,this.Dl=1497426621,this.Eh=-1775747358,this.El=-1467023389,this.Fh=-1101128155,this.Fl=1401305490,this.Gh=721525244,this.Gl=746961066,this.Hh=246885852,this.Hl=-2117784414,this.outputLen=32}}class L7 extends Sc{constructor(){super(),this.Ah=-876896931,this.Al=-1056596264,this.Bh=1654270250,this.Bl=914150663,this.Ch=-1856437926,this.Cl=812702999,this.Dh=355462360,this.Dl=-150054599,this.Eh=1731405415,this.El=-4191439,this.Fh=-1900787065,this.Fl=1750603025,this.Gh=-619958771,this.Gl=1694076839,this.Hh=1203062813,this.Hl=-1090891868,this.outputLen=48}}const H7=Zs(()=>new Sc),z7=Zs(()=>new N7),F7=Zs(()=>new D7),j7=Zs(()=>new L7),W7=Object.freeze(Object.defineProperty({__proto__:null,SHA512:Sc,sha384:j7,sha512:H7,sha512_224:z7,sha512_256:F7},Symbol.toStringTag,{value:"Module"})),G7=Qa(W7);Object.defineProperty(Sr,"__esModule",{value:!0});Sr.mnemonicToSeedSync=Sr.mnemonicToSeed=Sr.validateMnemonic=Sr.entropyToMnemonic=Sr.mnemonicToEntropy=Sr.generateMnemonic=void 0;/*! scure-bip39 - MIT License (c) 2022 Patricio Palladino, Paul Miller (paulmillr.com) */const Vw=Fn,Kw=Qo,V7=p7,Xw=G7,K7=as,Vc=nc,X7=t=>t[0]==="";function Zw(t){if(typeof t!="string")throw new TypeError(`Invalid mnemonic type: ${typeof t}`);return t.normalize("NFKD")}function th(t){const e=Zw(t),n=e.split(" ");if(![12,15,18,21,24].includes(n.length))throw new Error("Invalid mnemonic");return{nfkd:e,words:n}}function Yw(t){Vw.default.bytes(t,16,20,24,28,32)}function Z7(t,e=128){if(Vw.default.number(e),e%32!==0||e>256)throw new TypeError("Invalid entropy");return e_((0,K7.randomBytes)(e/8),t)}Sr.generateMnemonic=Z7;const Y7=t=>{const e=8-t.length/4;return new Uint8Array([(0,V7.sha256)(t)[0]>>e<<e])};function Jw(t){if(!Array.isArray(t)||t.length!==2048||typeof t[0]!="string")throw new Error("Worlist: expected array of 2048 strings");return t.forEach(e=>{if(typeof e!="string")throw new Error(`Wordlist: non-string element: ${e}`)}),Vc.utils.chain(Vc.utils.checksum(1,Y7),Vc.utils.radix2(11,!0),Vc.utils.alphabet(t))}function Qw(t,e){const{words:n}=th(t),r=Jw(e).decode(n);return Yw(r),r}Sr.mnemonicToEntropy=Qw;function e_(t,e){return Yw(t),Jw(e).encode(t).join(X7(e)?"":" ")}Sr.entropyToMnemonic=e_;function J7(t,e){try{Qw(t,e)}catch{return!1}return!0}Sr.validateMnemonic=J7;const t_=t=>Zw(`mnemonic${t}`);function Q7(t,e=""){return(0,Kw.pbkdf2Async)(Xw.sha512,th(t).nfkd,t_(e),{c:2048,dkLen:64})}Sr.mnemonicToSeed=Q7;function e9(t,e=""){return(0,Kw.pbkdf2)(Xw.sha512,th(t).nfkd,t_(e),{c:2048,dkLen:64})}Sr.mnemonicToSeedSync=e9;const t9=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]),n_=Uint8Array.from({length:16},(t,e)=>e),n9=n_.map(t=>(9*t+5)%16);let nh=[n_],rh=[n9];for(let t=0;t<4;t++)for(let e of[nh,rh])e.push(e[t].map(n=>t9[n]));const r_=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t)),r9=nh.map((t,e)=>t.map(n=>r_[e][n])),i9=rh.map((t,e)=>t.map(n=>r_[e][n])),s9=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]),o9=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]),Kc=(t,e)=>t<<e|t>>>32-e;function eg(t,e,n,r){return t===0?e^n^r:t===1?e&n|~e&r:t===2?(e|~n)^r:t===3?e&r|n&~r:e^(n|~r)}const Xc=new Uint32Array(16);class a9 extends Q0{constructor(){super(64,20,8,!0),this.h0=1732584193,this.h1=-271733879,this.h2=-1732584194,this.h3=271733878,this.h4=-1009589776}get(){const{h0:e,h1:n,h2:r,h3:i,h4:s}=this;return[e,n,r,i,s]}set(e,n,r,i,s){this.h0=e|0,this.h1=n|0,this.h2=r|0,this.h3=i|0,this.h4=s|0}process(e,n){for(let y=0;y<16;y++,n+=4)Xc[y]=e.getUint32(n,!0);let r=this.h0|0,i=r,s=this.h1|0,o=s,a=this.h2|0,c=a,u=this.h3|0,l=u,d=this.h4|0,h=d;for(let y=0;y<5;y++){const b=4-y,T=s9[y],k=o9[y],O=nh[y],B=rh[y],v=r9[y],_=i9[y];for(let S=0;S<16;S++){const M=Kc(r+eg(y,s,a,u)+Xc[O[S]]+T,v[S])+d|0;r=d,d=u,u=Kc(a,10)|0,a=s,s=M}for(let S=0;S<16;S++){const M=Kc(i+eg(b,o,c,l)+Xc[B[S]]+k,_[S])+h|0;i=h,h=l,l=Kc(c,10)|0,c=o,o=M}}this.set(this.h1+a+l|0,this.h2+u+h|0,this.h3+d+i|0,this.h4+r+o|0,this.h0+s+c|0)}roundClean(){Xc.fill(0)}destroy(){this.destroyed=!0,this.buffer.fill(0),this.set(0,0,0,0,0)}}Zs(()=>new a9);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const c9=BigInt(0),ih=BigInt(1),u9=BigInt(2),ad=t=>t instanceof Uint8Array,l9=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function ea(t){if(!ad(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=l9[t[n]];return e}function i_(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function sh(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function ta(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(t.length%2)throw new Error("hex string is invalid: unpadded "+t.length);const e=new Uint8Array(t.length/2);for(let n=0;n<e.length;n++){const r=n*2,i=t.slice(r,r+2),s=Number.parseInt(i,16);if(Number.isNaN(s)||s<0)throw new Error("invalid byte sequence");e[n]=s}return e}function ur(t){return sh(ea(t))}function oh(t){if(!ad(t))throw new Error("Uint8Array expected");return sh(ea(Uint8Array.from(t).reverse()))}const rs=(t,e)=>ta(t.toString(16).padStart(e*2,"0")),s_=(t,e)=>rs(t,e).reverse(),d9=t=>ta(i_(t));function zn(t,e,n){let r;if(typeof e=="string")try{r=ta(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(ad(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function Lr(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!ad(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function f9(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function cd(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new TextEncoder().encode(t)}function h9(t){let e;for(e=0;t>0n;t>>=ih,e+=1);return e}const p9=(t,e)=>t>>BigInt(e)&1n,g9=(t,e,n)=>t|(n?ih:c9)<<BigInt(e),ah=t=>(u9<<BigInt(t-1))-ih,Gd=t=>new Uint8Array(t),tg=t=>Uint8Array.from(t);function o_(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=Gd(t),i=Gd(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=Gd())=>{i=a(tg([0]),d),r=a(),d.length!==0&&(i=a(tg([1]),d),r=a())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const y=r.slice();h.push(y),d+=r.length}return Lr(...h)};return(d,h)=>{o(),c(d);let y;for(;!(y=h(u()));)c();return o(),y}}const y9={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function ya(t,e,n={}){const r=(i,s,o)=>{const a=y9[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const m9=Object.freeze(Object.defineProperty({__proto__:null,bitGet:p9,bitLen:h9,bitMask:ah,bitSet:g9,bytesToHex:ea,bytesToNumberBE:ur,bytesToNumberLE:oh,concatBytes:Lr,createHmacDrbg:o_,ensureBytes:zn,equalBytes:f9,hexToBytes:ta,hexToNumber:sh,numberToBytesBE:rs,numberToBytesLE:s_,numberToHexUnpadded:i_,numberToVarBytesBE:d9,utf8ToBytes:cd,validateObject:ya},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const qn=BigInt(0),Sn=BigInt(1),ms=BigInt(2),w9=BigInt(3),zf=BigInt(4),ng=BigInt(5),rg=BigInt(8);BigInt(9);BigInt(16);function Cn(t,e){const n=t%e;return n>=qn?n:e+n}function _9(t,e,n){if(n<=qn||e<qn)throw new Error("Expected power/modulo > 0");if(n===Sn)return qn;let r=Sn;for(;e>qn;)e&Sn&&(r=r*t%n),t=t*t%n,e>>=Sn;return r}function Pr(t,e,n){let r=t;for(;e-- >qn;)r*=r,r%=n;return r}function Ff(t,e){if(t===qn||e<=qn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Cn(t,e),r=e,i=qn,s=Sn;for(;n!==qn;){const a=r/n,c=r%n,u=i-s*a;r=n,n=c,i=s,s=u}if(r!==Sn)throw new Error("invert: does not exist");return Cn(i,e)}function b9(t){const e=(t-Sn)/ms;let n,r,i;for(n=t-Sn,r=0;n%ms===qn;n/=ms,r++);for(i=ms;i<t&&_9(i,e,t)!==t-Sn;i++);if(r===1){const o=(t+Sn)/zf;return function(c,u){const l=c.pow(u,o);if(!c.eql(c.sqr(l),u))throw new Error("Cannot find square root");return l}}const s=(n+Sn)/ms;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let u=r,l=a.pow(a.mul(a.ONE,i),n),d=a.pow(c,s),h=a.pow(c,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let y=1;for(let T=a.sqr(h);y<u&&!a.eql(T,a.ONE);y++)T=a.sqr(T);const b=a.pow(l,Sn<<BigInt(u-y-1));l=a.sqr(b),d=a.mul(d,b),h=a.mul(h,l),u=y}return d}}function v9(t){if(t%zf===w9){const e=(t+Sn)/zf;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%rg===ng){const e=(t-ng)/rg;return function(r,i){const s=r.mul(i,ms),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,ms),o),u=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(u),i))throw new Error("Cannot find square root");return u}}return b9(t)}const x9=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function a_(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=x9.reduce((r,i)=>(r[i]="function",r),e);return ya(t,n)}function S9(t,e,n){if(n<qn)throw new Error("Expected power > 0");if(n===qn)return t.ONE;if(n===Sn)return e;let r=t.ONE,i=e;for(;n>qn;)n&Sn&&(r=t.mul(r,i)),i=t.sqr(i),n>>=1n;return r}function T9(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function ch(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function A9(t,e,n=!1,r={}){if(t<=qn)throw new Error(`Expected Fp ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=ch(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=v9(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:ah(i),ZERO:qn,ONE:Sn,create:c=>Cn(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return qn<=c&&c<t},is0:c=>c===qn,isOdd:c=>(c&Sn)===Sn,neg:c=>Cn(-c,t),eql:(c,u)=>c===u,sqr:c=>Cn(c*c,t),add:(c,u)=>Cn(c+u,t),sub:(c,u)=>Cn(c-u,t),mul:(c,u)=>Cn(c*u,t),pow:(c,u)=>S9(a,c,u),div:(c,u)=>Cn(c*Ff(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Ff(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>T9(a,c),cmov:(c,u,l)=>l?u:c,toBytes:c=>n?s_(c,s):rs(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?oh(c):ur(c)}});return Object.freeze(a)}function E9(t,e,n=!1){t=zn("privateHash",t);const r=t.length,i=ch(e).nByteLength+8;if(i<24||r<i||r>1024)throw new Error(`hashToPrivateScalar: expected ${i}-1024 bytes of input, got ${r}`);const s=n?oh(t):ur(t);return Cn(s,e-Sn)+Sn}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const k9=BigInt(0),Vd=BigInt(1);function B9(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>k9;)s&Vd&&(o=o.add(a)),a=a.double(),s>>=Vd;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let u=i,l=u;for(let d=0;d<o;d++){l=u,c.push(l);for(let h=1;h<a;h++)l=l.add(u),c.push(l);u=l.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let u=t.ZERO,l=t.BASE;const d=BigInt(2**i-1),h=2**i,y=BigInt(i);for(let b=0;b<a;b++){const T=b*c;let k=Number(o&d);o>>=y,k>c&&(k-=h,o+=Vd);const O=T,B=T+Math.abs(k)-1,v=b%2!==0,_=k<0;k===0?l=l.add(n(v,s[O])):u=u.add(n(_,s[B]))}return{p:u,f:l}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let u=s.get(i);return u||(u=this.precomputeWindow(i,c),c!==1&&s.set(i,a(u))),this.wNAF(c,u,o)}}}function c_(t){return a_(t.Fp),ya(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...ch(t.n,t.nBitLength),...t})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function R9(t){const e=c_(t);ya(e,{a:"field",b:"field",fromBytes:"function",toBytes:"function"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:I9,hexToBytes:P9}=m9,vs={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=vs;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]===0&&r[1]<=127)throw new e("Invalid signature integer: trailing length");return{d:I9(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=vs,n=typeof t=="string"?P9(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=vs._parseInt(n.subarray(2)),{d:o,l:a}=vs._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)>=8?"00"+u:u,n=u=>{const l=u.toString(16);return l.length&1?`0${l}`:l},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},mi=BigInt(0),qr=BigInt(1);function U9(t){const e=R9(t),{Fp:n}=e;function r(h){const{a:y,b}=e,T=n.sqr(h),k=n.mul(T,h);return n.add(n.add(k,n.mul(h,y)),b)}function i(h){return typeof h=="bigint"&&mi<h&&h<e.n}function s(h){if(!i(h))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function o(h){const{allowedPrivateKeyLengths:y,nByteLength:b,wrapPrivateKey:T,n:k}=e;if(y&&typeof h!="bigint"){if(h instanceof Uint8Array&&(h=ea(h)),typeof h!="string"||!y.includes(h.length))throw new Error("Invalid key");h=h.padStart(b*2,"0")}let O;try{O=typeof h=="bigint"?h:ur(zn("private key",h,b))}catch{throw new Error(`private key must be ${b} bytes, hex or bigint, not ${typeof h}`)}return T&&(O=Cn(O,k)),s(O),O}const a=new Map;function c(h){if(!(h instanceof u))throw new Error("ProjectivePoint expected")}class u{constructor(y,b,T){if(this.px=y,this.py=b,this.pz=T,y==null||!n.isValid(y))throw new Error("x required");if(b==null||!n.isValid(b))throw new Error("y required");if(T==null||!n.isValid(T))throw new Error("z required")}static fromAffine(y){const{x:b,y:T}=y||{};if(!y||!n.isValid(b)||!n.isValid(T))throw new Error("invalid affine point");if(y instanceof u)throw new Error("projective point not allowed");const k=O=>n.eql(O,n.ZERO);return k(b)&&k(T)?u.ZERO:new u(b,T,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(y){const b=n.invertBatch(y.map(T=>T.pz));return y.map((T,k)=>T.toAffine(b[k])).map(u.fromAffine)}static fromHex(y){const b=u.fromAffine(e.fromBytes(zn("pointHex",y)));return b.assertValidity(),b}static fromPrivateKey(y){return u.BASE.multiply(o(y))}_setWindowSize(y){this._WINDOW_SIZE=y,a.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint)return;throw new Error("bad point: ZERO")}const{x:y,y:b}=this.toAffine();if(!n.isValid(y)||!n.isValid(b))throw new Error("bad point: x or y not FE");const T=n.sqr(b),k=r(y);if(!n.eql(T,k))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y}=this.toAffine();if(n.isOdd)return!n.isOdd(y);throw new Error("Field doesn't support isOdd")}equals(y){c(y);const{px:b,py:T,pz:k}=this,{px:O,py:B,pz:v}=y,_=n.eql(n.mul(b,v),n.mul(O,k)),S=n.eql(n.mul(T,v),n.mul(B,k));return _&&S}negate(){return new u(this.px,n.neg(this.py),this.pz)}double(){const{a:y,b}=e,T=n.mul(b,3n),{px:k,py:O,pz:B}=this;let v=n.ZERO,_=n.ZERO,S=n.ZERO,M=n.mul(k,k),F=n.mul(O,O),W=n.mul(B,B),Y=n.mul(k,O);return Y=n.add(Y,Y),S=n.mul(k,B),S=n.add(S,S),v=n.mul(y,S),_=n.mul(T,W),_=n.add(v,_),v=n.sub(F,_),_=n.add(F,_),_=n.mul(v,_),v=n.mul(Y,v),S=n.mul(T,S),W=n.mul(y,W),Y=n.sub(M,W),Y=n.mul(y,Y),Y=n.add(Y,S),S=n.add(M,M),M=n.add(S,M),M=n.add(M,W),M=n.mul(M,Y),_=n.add(_,M),W=n.mul(O,B),W=n.add(W,W),M=n.mul(W,Y),v=n.sub(v,M),S=n.mul(W,F),S=n.add(S,S),S=n.add(S,S),new u(v,_,S)}add(y){c(y);const{px:b,py:T,pz:k}=this,{px:O,py:B,pz:v}=y;let _=n.ZERO,S=n.ZERO,M=n.ZERO;const F=e.a,W=n.mul(e.b,3n);let Y=n.mul(b,O),J=n.mul(T,B),q=n.mul(k,v),L=n.add(b,T),E=n.add(O,B);L=n.mul(L,E),E=n.add(Y,J),L=n.sub(L,E),E=n.add(b,k);let f=n.add(O,v);return E=n.mul(E,f),f=n.add(Y,q),E=n.sub(E,f),f=n.add(T,k),_=n.add(B,v),f=n.mul(f,_),_=n.add(J,q),f=n.sub(f,_),M=n.mul(F,E),_=n.mul(W,q),M=n.add(_,M),_=n.sub(J,M),M=n.add(J,M),S=n.mul(_,M),J=n.add(Y,Y),J=n.add(J,Y),q=n.mul(F,q),E=n.mul(W,E),J=n.add(J,q),q=n.sub(Y,q),q=n.mul(F,q),E=n.add(E,q),Y=n.mul(J,E),S=n.add(S,Y),Y=n.mul(f,E),_=n.mul(L,_),_=n.sub(_,Y),Y=n.mul(L,J),M=n.mul(f,M),M=n.add(M,Y),new u(_,S,M)}subtract(y){return this.add(y.negate())}is0(){return this.equals(u.ZERO)}wNAF(y){return d.wNAFCached(this,a,y,b=>{const T=n.invertBatch(b.map(k=>k.pz));return b.map((k,O)=>k.toAffine(T[O])).map(u.fromAffine)})}multiplyUnsafe(y){const b=u.ZERO;if(y===mi)return b;if(s(y),y===qr)return this;const{endo:T}=e;if(!T)return d.unsafeLadder(this,y);let{k1neg:k,k1:O,k2neg:B,k2:v}=T.splitScalar(y),_=b,S=b,M=this;for(;O>mi||v>mi;)O&qr&&(_=_.add(M)),v&qr&&(S=S.add(M)),M=M.double(),O>>=qr,v>>=qr;return k&&(_=_.negate()),B&&(S=S.negate()),S=new u(n.mul(S.px,T.beta),S.py,S.pz),_.add(S)}multiply(y){s(y);let b=y,T,k;const{endo:O}=e;if(O){const{k1neg:B,k1:v,k2neg:_,k2:S}=O.splitScalar(b);let{p:M,f:F}=this.wNAF(v),{p:W,f:Y}=this.wNAF(S);M=d.constTimeNegate(B,M),W=d.constTimeNegate(_,W),W=new u(n.mul(W.px,O.beta),W.py,W.pz),T=M.add(W),k=F.add(Y)}else{const{p:B,f:v}=this.wNAF(b);T=B,k=v}return u.normalizeZ([T,k])[0]}multiplyAndAddUnsafe(y,b,T){const k=u.BASE,O=(v,_)=>_===mi||_===qr||!v.equals(k)?v.multiplyUnsafe(_):v.multiply(_),B=O(this,b).add(O(y,T));return B.is0()?void 0:B}toAffine(y){const{px:b,py:T,pz:k}=this,O=this.is0();y==null&&(y=O?n.ONE:n.inv(k));const B=n.mul(b,y),v=n.mul(T,y),_=n.mul(k,y);if(O)return{x:n.ZERO,y:n.ZERO};if(!n.eql(_,n.ONE))throw new Error("invZ was invalid");return{x:B,y:v}}isTorsionFree(){const{h:y,isTorsionFree:b}=e;if(y===qr)return!0;if(b)return b(u,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:y,clearCofactor:b}=e;return y===qr?this:b?b(u,this):this.multiplyUnsafe(e.h)}toRawBytes(y=!0){return this.assertValidity(),e.toBytes(u,this,y)}toHex(y=!0){return ea(this.toRawBytes(y))}}u.BASE=new u(e.Gx,e.Gy,n.ONE),u.ZERO=new u(n.ZERO,n.ONE,n.ZERO);const l=e.nBitLength,d=B9(u,e.endo?Math.ceil(l/2):l);return{ProjectivePoint:u,normPrivateKeyToScalar:o,weierstrassEquation:r,isWithinCurveOrder:i}}function O9(t){const e=c_(t);return ya(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function C9(t){const e=O9(t),n=e.n,r=e.Fp,i=r.BYTES+1,s=2*r.BYTES+1;function o(p){return mi<p&&p<r.ORDER}function a(p){return Cn(p,n)}function c(p){return Ff(p,n)}const{ProjectivePoint:u,normPrivateKeyToScalar:l,weierstrassEquation:d,isWithinCurveOrder:h}=U9({...e,toBytes(p,w,R){const N=w.toAffine(),H=r.toBytes(N.x),K=Lr;return R?K(Uint8Array.from([w.hasEvenY()?2:3]),H):K(Uint8Array.from([4]),H,r.toBytes(N.y))},fromBytes(p){const w=p.length,R=p[0],N=p.subarray(1);if(w===i&&(R===2||R===3)){const H=ur(N);if(!o(H))throw new Error("Point is not on curve");const K=d(H);let C=r.sqrt(K);const m=(C&qr)===qr;return(R&1)===1!==m&&(C=r.neg(C)),{x:H,y:C}}else if(w===s&&R===4){const H=r.fromBytes(N.subarray(0,r.BYTES)),K=r.fromBytes(N.subarray(r.BYTES,2*r.BYTES));return{x:H,y:K}}else throw new Error(`Point of length ${w} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),y=p=>ea(rs(p,e.nByteLength));function b(p){const w=n>>qr;return p>w}function T(p){return b(p)?a(-p):p}const k=(p,w,R)=>ur(p.slice(w,R));class O{constructor(w,R,N){this.r=w,this.s=R,this.recovery=N,this.assertValidity()}static fromCompact(w){const R=e.nByteLength;return w=zn("compactSignature",w,R*2),new O(k(w,0,R),k(w,R,2*R))}static fromDER(w){const{r:R,s:N}=vs.toSig(zn("DER",w));return new O(R,N)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(w){return new O(this.r,this.s,w)}recoverPublicKey(w){const{r:R,s:N,recovery:H}=this,K=F(zn("msgHash",w));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const C=H===2||H===3?R+e.n:R;if(C>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const m=H&1?"03":"02",D=u.fromHex(m+y(C)),we=c(C),A=a(-K*we),ne=a(N*we),fe=u.BASE.multiplyAndAddUnsafe(D,A,ne);if(!fe)throw new Error("point at infinify");return fe.assertValidity(),fe}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new O(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return ta(this.toDERHex())}toDERHex(){return vs.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return ta(this.toCompactHex())}toCompactHex(){return y(this.r)+y(this.s)}}const B={isValidPrivateKey(p){try{return l(p),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const p=e.randomBytes(r.BYTES+8),w=E9(p,n);return rs(w,e.nByteLength)},precompute(p=8,w=u.BASE){return w._setWindowSize(p),w.multiply(BigInt(3)),w}};function v(p,w=!0){return u.fromPrivateKey(p).toRawBytes(w)}function _(p){const w=p instanceof Uint8Array,R=typeof p=="string",N=(w||R)&&p.length;return w?N===i||N===s:R?N===2*i||N===2*s:p instanceof u}function S(p,w,R=!0){if(_(p))throw new Error("first arg must be private key");if(!_(w))throw new Error("second arg must be public key");return u.fromHex(w).multiply(l(p)).toRawBytes(R)}const M=e.bits2int||function(p){const w=ur(p),R=p.length*8-e.nBitLength;return R>0?w>>BigInt(R):w},F=e.bits2int_modN||function(p){return a(M(p))},W=ah(e.nBitLength);function Y(p){if(typeof p!="bigint")throw new Error("bigint expected");if(!(mi<=p&&p<W))throw new Error(`bigint expected < 2^${e.nBitLength}`);return rs(p,e.nByteLength)}function J(p,w,R=q){if(["recovered","canonical"].some(z=>z in R))throw new Error("sign() legacy options not supported");const{hash:N,randomBytes:H}=e;let{lowS:K,prehash:C,extraEntropy:m}=R;K==null&&(K=!0),p=zn("msgHash",p),C&&(p=zn("prehashed msgHash",N(p)));const D=F(p),we=l(w),A=[Y(we),Y(D)];if(m!=null){const z=m===!0?H(r.BYTES):m;A.push(zn("extraEntropy",z,r.BYTES))}const ne=Lr(...A),fe=D;function V(z){const X=M(z);if(!h(X))return;const Z=c(X),Q=u.BASE.multiply(X).toAffine(),se=a(Q.x);if(se===mi)return;const ie=a(Z*a(fe+se*we));if(ie===mi)return;let de=(Q.x===se?0:2)|Number(Q.y&qr),Pe=ie;return K&&b(ie)&&(Pe=T(ie),de^=1),new O(se,Pe,de)}return{seed:ne,k2sig:V}}const q={lowS:e.lowS,prehash:!1},L={lowS:e.lowS,prehash:!1};function E(p,w,R=q){const{seed:N,k2sig:H}=J(p,w,R);return o_(e.hash.outputLen,e.nByteLength,e.hmac)(N,H)}u.BASE._setWindowSize(8);function f(p,w,R,N=L){var Q;const H=p;if(w=zn("msgHash",w),R=zn("publicKey",R),"strict"in N)throw new Error("options.strict was renamed to lowS");const{lowS:K,prehash:C}=N;let m,D;try{if(typeof H=="string"||H instanceof Uint8Array)try{m=O.fromDER(H)}catch(se){if(!(se instanceof vs.Err))throw se;m=O.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:se,s:ie}=H;m=new O(se,ie)}else throw new Error("PARSE");D=u.fromHex(R)}catch(se){if(se.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(K&&m.hasHighS())return!1;C&&(w=e.hash(w));const{r:we,s:A}=m,ne=F(w),fe=c(A),V=a(ne*fe),z=a(we*fe),X=(Q=u.BASE.multiplyAndAddUnsafe(D,V,z))==null?void 0:Q.toAffine();return X?a(X.x)===we:!1}return{CURVE:e,getPublicKey:v,getSharedSecret:S,sign:E,verify:f,ProjectivePoint:u,Signature:O,utils:B}}function $9(t,e){const n=t.ORDER;let r=0n;for(let h=n-1n;h%2n===0n;h/=2n)r+=1n;const i=r,s=(n-1n)/2n**i,o=(s-1n)/2n,a=2n**i-1n,c=2n**(i-1n),u=t.pow(e,s),l=t.pow(e,(s+1n)/2n);let d=(h,y)=>{let b=u,T=t.pow(y,a),k=t.sqr(T);k=t.mul(k,y);let O=t.mul(h,k);O=t.pow(O,o),O=t.mul(O,T),T=t.mul(O,y),k=t.mul(O,h);let B=t.mul(k,T);O=t.pow(B,c);let v=t.eql(O,t.ONE);T=t.mul(k,l),O=t.mul(B,b),k=t.cmov(T,k,v),B=t.cmov(O,B,v);for(let _=i;_>1;_--){let S=2n**(_-2n),M=t.pow(B,S);const F=t.eql(M,t.ONE);T=t.mul(k,b),b=t.mul(b,b),M=t.mul(B,b),k=t.cmov(T,k,F),B=t.cmov(M,B,F)}return{isValid:v,value:k}};if(t.ORDER%4n===3n){const h=(t.ORDER-3n)/4n,y=t.sqrt(t.neg(e));d=(b,T)=>{let k=t.sqr(T);const O=t.mul(b,T);k=t.mul(k,O);let B=t.pow(k,h);B=t.mul(B,O);const v=t.mul(B,y),_=t.mul(t.sqr(B),T),S=t.eql(_,b);let M=t.cmov(v,B,S);return{isValid:S,value:M}}}return d}function M9(t,e){if(a_(t),!t.isValid(e.A)||!t.isValid(e.B)||!t.isValid(e.Z))throw new Error("mapToCurveSimpleSWU: invalid opts");const n=$9(t,e.Z);if(!t.isOdd)throw new Error("Fp.isOdd is not implemented!");return r=>{let i,s,o,a,c,u,l,d;i=t.sqr(r),i=t.mul(i,e.Z),s=t.sqr(i),s=t.add(s,i),o=t.add(s,t.ONE),o=t.mul(o,e.B),a=t.cmov(e.Z,t.neg(s),!t.eql(s,t.ZERO)),a=t.mul(a,e.A),s=t.sqr(o),u=t.sqr(a),c=t.mul(u,e.A),s=t.add(s,c),s=t.mul(s,o),u=t.mul(u,a),c=t.mul(u,e.B),s=t.add(s,c),l=t.mul(i,o);const{isValid:h,value:y}=n(s,u);d=t.mul(i,r),d=t.mul(d,y),l=t.cmov(l,o,h),d=t.cmov(d,y,h);const b=t.isOdd(r)===t.isOdd(d);return d=t.cmov(t.neg(d),d,b),l=t.div(l,a),{x:l,y:d}}}function q9(t){if(t instanceof Uint8Array)return t;if(typeof t=="string")return cd(t);throw new Error("DST must be Uint8Array or string")}const N9=ur;function Ki(t,e){if(t<0||t>=1<<8*e)throw new Error(`bad I2OSP call: value=${t} length=${e}`);const n=Array.from({length:e}).fill(0);for(let r=e-1;r>=0;r--)n[r]=t&255,t>>>=8;return new Uint8Array(n)}function D9(t,e){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t[r]^e[r];return n}function Xa(t){if(!(t instanceof Uint8Array))throw new Error("Uint8Array expected")}function uh(t){if(!Number.isSafeInteger(t))throw new Error("number expected")}function L9(t,e,n,r){Xa(t),Xa(e),uh(n),e.length>255&&(e=r(Lr(cd("H2C-OVERSIZE-DST-"),e)));const{outputLen:i,blockLen:s}=r,o=Math.ceil(n/i);if(o>255)throw new Error("Invalid xmd length");const a=Lr(e,Ki(e.length,1)),c=Ki(0,s),u=Ki(n,2),l=new Array(o),d=r(Lr(c,t,u,Ki(0,1),a));l[0]=r(Lr(d,Ki(1,1),a));for(let y=1;y<=o;y++){const b=[D9(d,l[y-1]),Ki(y+1,1),a];l[y]=r(Lr(...b))}return Lr(...l).slice(0,n)}function H9(t,e,n,r,i){if(Xa(t),Xa(e),uh(n),e.length>255){const s=Math.ceil(2*r/8);e=i.create({dkLen:s}).update(cd("H2C-OVERSIZE-DST-")).update(e).digest()}if(n>65535||e.length>255)throw new Error("expand_message_xof: invalid lenInBytes");return i.create({dkLen:n}).update(t).update(Ki(n,2)).update(e).update(Ki(e.length,1)).digest()}function ig(t,e,n){ya(n,{DST:"string",p:"bigint",m:"isSafeInteger",k:"isSafeInteger",hash:"hash"});const{p:r,k:i,m:s,hash:o,expand:a,DST:c}=n;Xa(t),uh(e);const u=q9(c),l=r.toString(2).length,d=Math.ceil((l+i)/8),h=e*s*d;let y;if(a==="xmd")y=L9(t,u,h,o);else if(a==="xof")y=H9(t,u,h,i,o);else if(a===void 0)y=t;else throw new Error('expand must be "xmd", "xof" or undefined');const b=new Array(e);for(let T=0;T<e;T++){const k=new Array(s);for(let O=0;O<s;O++){const B=d*(O+T*s),v=y.subarray(B,B+d);k[O]=Cn(N9(v),r)}b[T]=k}return b}function z9(t,e){const n=e.map(r=>Array.from(r).reverse());return(r,i)=>{const[s,o,a,c]=n.map(u=>u.reduce((l,d)=>t.add(t.mul(l,r),d)));return r=t.div(s,o),i=t.mul(i,t.div(a,c)),{x:r,y:i}}}function F9(t,e,n){if(typeof e!="function")throw new Error("mapToCurve() must be defined");return{hashToCurve(r,i){const s=ig(r,2,{...n,DST:n.DST,...i}),o=t.fromAffine(e(s[0])),a=t.fromAffine(e(s[1])),c=o.add(a).clearCofactor();return c.assertValidity(),c},encodeToCurve(r,i){const s=ig(r,1,{...n,DST:n.encodeDST,...i}),o=t.fromAffine(e(s[0])).clearCofactor();return o.assertValidity(),o}}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function j9(t){return{hash:t,hmac:(e,...n)=>J0(t,e,as.concatBytes(...n)),randomBytes:as.randomBytes}}function W9(t,e){const n=r=>C9({...t,...j9(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ud=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),qu=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),u_=BigInt(1),jf=BigInt(2),sg=(t,e)=>(t+e/jf)/e;function l_(t){const e=ud,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),u=t*t*t%e,l=u*u*t%e,d=Pr(l,n,e)*l%e,h=Pr(d,n,e)*l%e,y=Pr(h,jf,e)*u%e,b=Pr(y,i,e)*y%e,T=Pr(b,s,e)*b%e,k=Pr(T,a,e)*T%e,O=Pr(k,c,e)*k%e,B=Pr(O,a,e)*T%e,v=Pr(B,n,e)*l%e,_=Pr(v,o,e)*b%e,S=Pr(_,r,e)*u%e,M=Pr(S,jf,e);if(!cs.eql(cs.sqr(M),t))throw new Error("Cannot find square root");return M}const cs=A9(ud,void 0,void 0,{sqrt:l_}),Tc=W9({a:BigInt(0),b:BigInt(7),Fp:cs,n:qu,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=qu,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-u_*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=sg(s*t,e),c=sg(-r*t,e);let u=Cn(t-a*n-c*i,e),l=Cn(-a*r-c*s,e);const d=u>o,h=l>o;if(d&&(u=e-u),h&&(l=e-l),u>o||l>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:u,k2neg:h,k2:l}}}},Os),lh=BigInt(0),d_=t=>typeof t=="bigint"&&lh<t&&t<ud,G9=t=>typeof t=="bigint"&&lh<t&&t<qu,og={};function Nu(t,...e){let n=og[t];if(n===void 0){const r=Os(Uint8Array.from(t,i=>i.charCodeAt(0)));n=Lr(r,r),og[t]=n}return Os(Lr(n,...e))}const dh=t=>t.toRawBytes(!0).slice(1),Wf=t=>rs(t,32),Kd=t=>Cn(t,ud),Za=t=>Cn(t,qu),fh=Tc.ProjectivePoint,V9=(t,e,n)=>fh.BASE.multiplyAndAddUnsafe(t,e,n);function Gf(t){let e=Tc.utils.normPrivateKeyToScalar(t),n=fh.fromPrivateKey(e);return{scalar:n.hasEvenY()?e:Za(-e),bytes:dh(n)}}function f_(t){if(!d_(t))throw new Error("bad x: need 0 < x < p");const e=Kd(t*t),n=Kd(e*t+BigInt(7));let r=l_(n);r%2n!==0n&&(r=Kd(-r));const i=new fh(t,r,u_);return i.assertValidity(),i}function h_(...t){return Za(ur(Nu("BIP0340/challenge",...t)))}function K9(t){return Gf(t).bytes}function X9(t,e,n=as.randomBytes(32)){const r=zn("message",t),{bytes:i,scalar:s}=Gf(e),o=zn("auxRand",n,32),a=Wf(s^ur(Nu("BIP0340/aux",o))),c=Nu("BIP0340/nonce",a,i,r),u=Za(ur(c));if(u===lh)throw new Error("sign failed: k is zero");const{bytes:l,scalar:d}=Gf(u),h=h_(l,i,r),y=new Uint8Array(64);if(y.set(l,0),y.set(Wf(Za(d+h*s)),32),!p_(y,r,i))throw new Error("sign: Invalid signature produced");return y}function p_(t,e,n){const r=zn("signature",t,64),i=zn("message",e),s=zn("publicKey",n,32);try{const o=f_(ur(s)),a=ur(r.subarray(0,32));if(!d_(a))return!1;const c=ur(r.subarray(32,64));if(!G9(c))return!1;const u=h_(Wf(a),dh(o),i),l=V9(o,c,Za(-u));return!(!l||!l.hasEvenY()||l.toAffine().x!==a)}catch{return!1}}Tc.utils.randomPrivateKey;const Z9=z9(cs,[["0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa8c7","0x7d3d4c80bc321d5b9f315cea7fd44c5d595d2fc0bf63b92dfff1044f17c6581","0x534c328d23f234e6e2a413deca25caece4506144037c40314ecbd0b53d9dd262","0x8e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38e38daaaaa88c"],["0xd35771193d94918a9ca34ccbb7b640dd86cd409542f8487d9fe6b745781eb49b","0xedadc6f64383dc1df7c4b2d51b54225406d36b641f5e41bbc52a56612a8c6d14","0x0000000000000000000000000000000000000000000000000000000000000001"],["0x4bda12f684bda12f684bda12f684bda12f684bda12f684bda12f684b8e38e23c","0xc75e0c32d5cb7c0fa9d0a54b12a0a6d5647ab046d686da6fdffc90fc201d71a3","0x29a6194691f91a73715209ef6512e576722830a201be2018a765e85a9ecee931","0x2f684bda12f684bda12f684bda12f684bda12f684bda12f684bda12f38e38d84"],["0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffff93b","0x7a06534bb8bdb49fd5e9e6632722c2989467c1bfc8e8d978dfb425d2685c2573","0x6484aa716545ca2cf3a70c3fa8fe337e0a3d21162f0d6299a7bf8192bfd2a76f","0x0000000000000000000000000000000000000000000000000000000000000001"]].map(t=>t.map(e=>BigInt(e)))),Y9=M9(cs,{A:BigInt("0x3f8731abdd661adca08a5558f0f5d272e953d363cb6f0e5d405447c01a444533"),B:BigInt("1771"),Z:cs.create(BigInt("-11"))});F9(Tc.ProjectivePoint,t=>{const{x:e,y:n}=Y9(cs.create(t[0]));return Z9(e,n)},{DST:"secp256k1_XMD:SHA-256_SSWU_RO_",encodeDST:"secp256k1_XMD:SHA-256_SSWU_NU_",p:cs.ORDER,m:1,k:128,expand:"xmd",hash:Os});Tc.ProjectivePoint;nc.base58check(Os);as.utf8ToBytes("Bitcoin seed");var Zc,J9=new Uint8Array(16);function g_(){if(!Zc&&(Zc=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!Zc))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Zc(J9)}const Q9=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function ld(t){return typeof t=="string"&&Q9.test(t)}var Dn=[];for(var Xd=0;Xd<256;++Xd)Dn.push((Xd+256).toString(16).substr(1));function dd(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(Dn[t[e+0]]+Dn[t[e+1]]+Dn[t[e+2]]+Dn[t[e+3]]+"-"+Dn[t[e+4]]+Dn[t[e+5]]+"-"+Dn[t[e+6]]+Dn[t[e+7]]+"-"+Dn[t[e+8]]+Dn[t[e+9]]+"-"+Dn[t[e+10]]+Dn[t[e+11]]+Dn[t[e+12]]+Dn[t[e+13]]+Dn[t[e+14]]+Dn[t[e+15]]).toLowerCase();if(!ld(n))throw TypeError("Stringified UUID is invalid");return n}var ag,Zd,Yd=0,Jd=0;function ek(t,e,n){var r=e&&n||0,i=e||new Array(16);t=t||{};var s=t.node||ag,o=t.clockseq!==void 0?t.clockseq:Zd;if(s==null||o==null){var a=t.random||(t.rng||g_)();s==null&&(s=ag=[a[0]|1,a[1],a[2],a[3],a[4],a[5]]),o==null&&(o=Zd=(a[6]<<8|a[7])&16383)}var c=t.msecs!==void 0?t.msecs:Date.now(),u=t.nsecs!==void 0?t.nsecs:Jd+1,l=c-Yd+(u-Jd)/1e4;if(l<0&&t.clockseq===void 0&&(o=o+1&16383),(l<0||c>Yd)&&t.nsecs===void 0&&(u=0),u>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");Yd=c,Jd=u,Zd=o,c+=122192928e5;var d=((c&268435455)*1e4+u)%4294967296;i[r++]=d>>>24&255,i[r++]=d>>>16&255,i[r++]=d>>>8&255,i[r++]=d&255;var h=c/4294967296*1e4&268435455;i[r++]=h>>>8&255,i[r++]=h&255,i[r++]=h>>>24&15|16,i[r++]=h>>>16&255,i[r++]=o>>>8|128,i[r++]=o&255;for(var y=0;y<6;++y)i[r+y]=s[y];return e||dd(i)}function y_(t){if(!ld(t))throw TypeError("Invalid UUID");var e,n=new Uint8Array(16);return n[0]=(e=parseInt(t.slice(0,8),16))>>>24,n[1]=e>>>16&255,n[2]=e>>>8&255,n[3]=e&255,n[4]=(e=parseInt(t.slice(9,13),16))>>>8,n[5]=e&255,n[6]=(e=parseInt(t.slice(14,18),16))>>>8,n[7]=e&255,n[8]=(e=parseInt(t.slice(19,23),16))>>>8,n[9]=e&255,n[10]=(e=parseInt(t.slice(24,36),16))/1099511627776&255,n[11]=e/4294967296&255,n[12]=e>>>24&255,n[13]=e>>>16&255,n[14]=e>>>8&255,n[15]=e&255,n}function tk(t){t=unescape(encodeURIComponent(t));for(var e=[],n=0;n<t.length;++n)e.push(t.charCodeAt(n));return e}var nk="6ba7b810-9dad-11d1-80b4-00c04fd430c8",rk="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function m_(t,e,n){function r(i,s,o,a){if(typeof i=="string"&&(i=tk(i)),typeof s=="string"&&(s=y_(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var c=new Uint8Array(16+i.length);if(c.set(s),c.set(i,s.length),c=n(c),c[6]=c[6]&15|e,c[8]=c[8]&63|128,o){a=a||0;for(var u=0;u<16;++u)o[a+u]=c[u];return o}return dd(c)}try{r.name=t}catch{}return r.DNS=nk,r.URL=rk,r}function ik(t){if(typeof t=="string"){var e=unescape(encodeURIComponent(t));t=new Uint8Array(e.length);for(var n=0;n<e.length;++n)t[n]=e.charCodeAt(n)}return sk(ok(ak(t),t.length*8))}function sk(t){for(var e=[],n=t.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=t[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);e.push(o)}return e}function w_(t){return(t+64>>>9<<4)+14+1}function ok(t,e){t[e>>5]|=128<<e%32,t[w_(e)-1]=e;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<t.length;o+=16){var a=n,c=r,u=i,l=s;n=Jn(n,r,i,s,t[o],7,-680876936),s=Jn(s,n,r,i,t[o+1],12,-389564586),i=Jn(i,s,n,r,t[o+2],17,606105819),r=Jn(r,i,s,n,t[o+3],22,-1044525330),n=Jn(n,r,i,s,t[o+4],7,-176418897),s=Jn(s,n,r,i,t[o+5],12,1200080426),i=Jn(i,s,n,r,t[o+6],17,-1473231341),r=Jn(r,i,s,n,t[o+7],22,-45705983),n=Jn(n,r,i,s,t[o+8],7,1770035416),s=Jn(s,n,r,i,t[o+9],12,-1958414417),i=Jn(i,s,n,r,t[o+10],17,-42063),r=Jn(r,i,s,n,t[o+11],22,-1990404162),n=Jn(n,r,i,s,t[o+12],7,1804603682),s=Jn(s,n,r,i,t[o+13],12,-40341101),i=Jn(i,s,n,r,t[o+14],17,-1502002290),r=Jn(r,i,s,n,t[o+15],22,1236535329),n=Qn(n,r,i,s,t[o+1],5,-165796510),s=Qn(s,n,r,i,t[o+6],9,-1069501632),i=Qn(i,s,n,r,t[o+11],14,643717713),r=Qn(r,i,s,n,t[o],20,-373897302),n=Qn(n,r,i,s,t[o+5],5,-701558691),s=Qn(s,n,r,i,t[o+10],9,38016083),i=Qn(i,s,n,r,t[o+15],14,-660478335),r=Qn(r,i,s,n,t[o+4],20,-405537848),n=Qn(n,r,i,s,t[o+9],5,568446438),s=Qn(s,n,r,i,t[o+14],9,-1019803690),i=Qn(i,s,n,r,t[o+3],14,-187363961),r=Qn(r,i,s,n,t[o+8],20,1163531501),n=Qn(n,r,i,s,t[o+13],5,-1444681467),s=Qn(s,n,r,i,t[o+2],9,-51403784),i=Qn(i,s,n,r,t[o+7],14,1735328473),r=Qn(r,i,s,n,t[o+12],20,-1926607734),n=er(n,r,i,s,t[o+5],4,-378558),s=er(s,n,r,i,t[o+8],11,-2022574463),i=er(i,s,n,r,t[o+11],16,1839030562),r=er(r,i,s,n,t[o+14],23,-35309556),n=er(n,r,i,s,t[o+1],4,-1530992060),s=er(s,n,r,i,t[o+4],11,1272893353),i=er(i,s,n,r,t[o+7],16,-155497632),r=er(r,i,s,n,t[o+10],23,-1094730640),n=er(n,r,i,s,t[o+13],4,681279174),s=er(s,n,r,i,t[o],11,-358537222),i=er(i,s,n,r,t[o+3],16,-722521979),r=er(r,i,s,n,t[o+6],23,76029189),n=er(n,r,i,s,t[o+9],4,-640364487),s=er(s,n,r,i,t[o+12],11,-421815835),i=er(i,s,n,r,t[o+15],16,530742520),r=er(r,i,s,n,t[o+2],23,-995338651),n=tr(n,r,i,s,t[o],6,-198630844),s=tr(s,n,r,i,t[o+7],10,1126891415),i=tr(i,s,n,r,t[o+14],15,-1416354905),r=tr(r,i,s,n,t[o+5],21,-57434055),n=tr(n,r,i,s,t[o+12],6,1700485571),s=tr(s,n,r,i,t[o+3],10,-1894986606),i=tr(i,s,n,r,t[o+10],15,-1051523),r=tr(r,i,s,n,t[o+1],21,-2054922799),n=tr(n,r,i,s,t[o+8],6,1873313359),s=tr(s,n,r,i,t[o+15],10,-30611744),i=tr(i,s,n,r,t[o+6],15,-1560198380),r=tr(r,i,s,n,t[o+13],21,1309151649),n=tr(n,r,i,s,t[o+4],6,-145523070),s=tr(s,n,r,i,t[o+11],10,-1120210379),i=tr(i,s,n,r,t[o+2],15,718787259),r=tr(r,i,s,n,t[o+9],21,-343485551),n=Qi(n,a),r=Qi(r,c),i=Qi(i,u),s=Qi(s,l)}return[n,r,i,s]}function ak(t){if(t.length===0)return[];for(var e=t.length*8,n=new Uint32Array(w_(e)),r=0;r<e;r+=8)n[r>>5]|=(t[r/8]&255)<<r%32;return n}function Qi(t,e){var n=(t&65535)+(e&65535),r=(t>>16)+(e>>16)+(n>>16);return r<<16|n&65535}function ck(t,e){return t<<e|t>>>32-e}function fd(t,e,n,r,i,s){return Qi(ck(Qi(Qi(e,t),Qi(r,s)),i),n)}function Jn(t,e,n,r,i,s,o){return fd(e&n|~e&r,t,e,i,s,o)}function Qn(t,e,n,r,i,s,o){return fd(e&r|n&~r,t,e,i,s,o)}function er(t,e,n,r,i,s,o){return fd(e^n^r,t,e,i,s,o)}function tr(t,e,n,r,i,s,o){return fd(n^(e|~r),t,e,i,s,o)}var uk=m_("v3",48,ik);const lk=uk;function dk(t,e,n){t=t||{};var r=t.random||(t.rng||g_)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,e){n=n||0;for(var i=0;i<16;++i)e[n+i]=r[i];return e}return dd(r)}function fk(t,e,n,r){switch(t){case 0:return e&n^~e&r;case 1:return e^n^r;case 2:return e&n^e&r^n&r;case 3:return e^n^r}}function Qd(t,e){return t<<e|t>>>32-e}function hk(t){var e=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof t=="string"){var r=unescape(encodeURIComponent(t));t=[];for(var i=0;i<r.length;++i)t.push(r.charCodeAt(i))}else Array.isArray(t)||(t=Array.prototype.slice.call(t));t.push(128);for(var s=t.length/4+2,o=Math.ceil(s/16),a=new Array(o),c=0;c<o;++c){for(var u=new Uint32Array(16),l=0;l<16;++l)u[l]=t[c*64+l*4]<<24|t[c*64+l*4+1]<<16|t[c*64+l*4+2]<<8|t[c*64+l*4+3];a[c]=u}a[o-1][14]=(t.length-1)*8/Math.pow(2,32),a[o-1][14]=Math.floor(a[o-1][14]),a[o-1][15]=(t.length-1)*8&4294967295;for(var d=0;d<o;++d){for(var h=new Uint32Array(80),y=0;y<16;++y)h[y]=a[d][y];for(var b=16;b<80;++b)h[b]=Qd(h[b-3]^h[b-8]^h[b-14]^h[b-16],1);for(var T=n[0],k=n[1],O=n[2],B=n[3],v=n[4],_=0;_<80;++_){var S=Math.floor(_/20),M=Qd(T,5)+fk(S,k,O,B)+v+e[S]+h[_]>>>0;v=B,B=O,O=Qd(k,30)>>>0,k=T,T=M}n[0]=n[0]+T>>>0,n[1]=n[1]+k>>>0,n[2]=n[2]+O>>>0,n[3]=n[3]+B>>>0,n[4]=n[4]+v>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}var pk=m_("v5",80,hk);const gk=pk,yk="00000000-0000-0000-0000-000000000000";function mk(t){if(!ld(t))throw TypeError("Invalid UUID");return parseInt(t.substr(14,1),16)}const wk=Object.freeze(Object.defineProperty({__proto__:null,NIL:yk,parse:y_,stringify:dd,v1:ek,v3:lk,v4:dk,v5:gk,validate:ld,version:mk},Symbol.toStringTag,{value:"Module"})),__=Qa(wk),_k=__.v4,bk=function(t,e,n,r){if(typeof t!="string")throw new TypeError(t+" must be a string");r=r||{};const i=typeof r.version=="number"?r.version:2;if(i!==1&&i!==2)throw new TypeError(i+" must be 1 or 2");const s={method:t};if(i===2&&(s.jsonrpc="2.0"),e){if(typeof e!="object"&&!Array.isArray(e))throw new TypeError(e+" must be an object, array or omitted");s.params=e}if(typeof n>"u"){const o=typeof r.generator=="function"?r.generator:function(){return _k()};s.id=o(s,r)}else i===2&&n===null?r.notificationIdNull&&(s.id=null):s.id=n;return s};var vk=bk;const xk=__.v4,Sk=vk,Ya=function(t,e){if(!(this instanceof Ya))return new Ya(t,e);e||(e={}),this.options={reviver:typeof e.reviver<"u"?e.reviver:null,replacer:typeof e.replacer<"u"?e.replacer:null,generator:typeof e.generator<"u"?e.generator:function(){return xk()},version:typeof e.version<"u"?e.version:2,notificationIdNull:typeof e.notificationIdNull=="boolean"?e.notificationIdNull:!1},this.callServer=t};var Tk=Ya;Ya.prototype.request=function(t,e,n,r){const i=this;let s=null;const o=Array.isArray(t)&&typeof e=="function";if(this.options.version===1&&o)throw new TypeError("JSON-RPC 1.0 does not support batching");if(o||!o&&t&&typeof t=="object"&&typeof e=="function")r=e,s=t;else{typeof n=="function"&&(r=n,n=void 0);const u=typeof r=="function";try{s=Sk(t,e,n,{generator:this.options.generator,version:this.options.version,notificationIdNull:this.options.notificationIdNull})}catch(l){if(u)return r(l);throw l}if(!u)return s}let c;try{c=JSON.stringify(s,this.options.replacer)}catch(u){return r(u)}return this.callServer(c,function(u,l){i._parseResponse(u,l,r)}),s};Ya.prototype._parseResponse=function(t,e,n){if(t){n(t);return}if(!e)return n();let r;try{r=JSON.parse(e,this.options.reviver)}catch(i){return n(i)}if(n.length===3)if(Array.isArray(r)){const i=function(o){return typeof o.error<"u"},s=function(o){return!i(o)};return n(null,r.filter(i),r.filter(s))}else return n(null,r.error,r.result);n(null,r)};var Du={},Ak={get exports(){return Du},set exports(t){Du=t}};(function(t,e){var n=typeof self<"u"?self:Zi,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a={searchParams:"URLSearchParams"in s,iterable:"Symbol"in s&&"iterator"in Symbol,blob:"FileReader"in s&&"Blob"in s&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in s,arrayBuffer:"ArrayBuffer"in s};function c(f){return f&&DataView.prototype.isPrototypeOf(f)}if(a.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(f){return f&&u.indexOf(Object.prototype.toString.call(f))>-1};function d(f){if(typeof f!="string"&&(f=String(f)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(f))throw new TypeError("Invalid character in header field name");return f.toLowerCase()}function h(f){return typeof f!="string"&&(f=String(f)),f}function y(f){var p={next:function(){var w=f.shift();return{done:w===void 0,value:w}}};return a.iterable&&(p[Symbol.iterator]=function(){return p}),p}function b(f){this.map={},f instanceof b?f.forEach(function(p,w){this.append(w,p)},this):Array.isArray(f)?f.forEach(function(p){this.append(p[0],p[1])},this):f&&Object.getOwnPropertyNames(f).forEach(function(p){this.append(p,f[p])},this)}b.prototype.append=function(f,p){f=d(f),p=h(p);var w=this.map[f];this.map[f]=w?w+", "+p:p},b.prototype.delete=function(f){delete this.map[d(f)]},b.prototype.get=function(f){return f=d(f),this.has(f)?this.map[f]:null},b.prototype.has=function(f){return this.map.hasOwnProperty(d(f))},b.prototype.set=function(f,p){this.map[d(f)]=h(p)},b.prototype.forEach=function(f,p){for(var w in this.map)this.map.hasOwnProperty(w)&&f.call(p,this.map[w],w,this)},b.prototype.keys=function(){var f=[];return this.forEach(function(p,w){f.push(w)}),y(f)},b.prototype.values=function(){var f=[];return this.forEach(function(p){f.push(p)}),y(f)},b.prototype.entries=function(){var f=[];return this.forEach(function(p,w){f.push([w,p])}),y(f)},a.iterable&&(b.prototype[Symbol.iterator]=b.prototype.entries);function T(f){if(f.bodyUsed)return Promise.reject(new TypeError("Already read"));f.bodyUsed=!0}function k(f){return new Promise(function(p,w){f.onload=function(){p(f.result)},f.onerror=function(){w(f.error)}})}function O(f){var p=new FileReader,w=k(p);return p.readAsArrayBuffer(f),w}function B(f){var p=new FileReader,w=k(p);return p.readAsText(f),w}function v(f){for(var p=new Uint8Array(f),w=new Array(p.length),R=0;R<p.length;R++)w[R]=String.fromCharCode(p[R]);return w.join("")}function _(f){if(f.slice)return f.slice(0);var p=new Uint8Array(f.byteLength);return p.set(new Uint8Array(f)),p.buffer}function S(){return this.bodyUsed=!1,this._initBody=function(f){this._bodyInit=f,f?typeof f=="string"?this._bodyText=f:a.blob&&Blob.prototype.isPrototypeOf(f)?this._bodyBlob=f:a.formData&&FormData.prototype.isPrototypeOf(f)?this._bodyFormData=f:a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)?this._bodyText=f.toString():a.arrayBuffer&&a.blob&&c(f)?(this._bodyArrayBuffer=_(f.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):a.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(f)||l(f))?this._bodyArrayBuffer=_(f):this._bodyText=f=Object.prototype.toString.call(f):this._bodyText="",this.headers.get("content-type")||(typeof f=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):a.searchParams&&URLSearchParams.prototype.isPrototypeOf(f)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},a.blob&&(this.blob=function(){var f=T(this);if(f)return f;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?T(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(O)}),this.text=function(){var f=T(this);if(f)return f;if(this._bodyBlob)return B(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},a.formData&&(this.formData=function(){return this.text().then(Y)}),this.json=function(){return this.text().then(JSON.parse)},this}var M=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function F(f){var p=f.toUpperCase();return M.indexOf(p)>-1?p:f}function W(f,p){p=p||{};var w=p.body;if(f instanceof W){if(f.bodyUsed)throw new TypeError("Already read");this.url=f.url,this.credentials=f.credentials,p.headers||(this.headers=new b(f.headers)),this.method=f.method,this.mode=f.mode,this.signal=f.signal,!w&&f._bodyInit!=null&&(w=f._bodyInit,f.bodyUsed=!0)}else this.url=String(f);if(this.credentials=p.credentials||this.credentials||"same-origin",(p.headers||!this.headers)&&(this.headers=new b(p.headers)),this.method=F(p.method||this.method||"GET"),this.mode=p.mode||this.mode||null,this.signal=p.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&w)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(w)}W.prototype.clone=function(){return new W(this,{body:this._bodyInit})};function Y(f){var p=new FormData;return f.trim().split("&").forEach(function(w){if(w){var R=w.split("="),N=R.shift().replace(/\+/g," "),H=R.join("=").replace(/\+/g," ");p.append(decodeURIComponent(N),decodeURIComponent(H))}}),p}function J(f){var p=new b,w=f.replace(/\r?\n[\t ]+/g," ");return w.split(/\r?\n/).forEach(function(R){var N=R.split(":"),H=N.shift().trim();if(H){var K=N.join(":").trim();p.append(H,K)}}),p}S.call(W.prototype);function q(f,p){p||(p={}),this.type="default",this.status=p.status===void 0?200:p.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in p?p.statusText:"OK",this.headers=new b(p.headers),this.url=p.url||"",this._initBody(f)}S.call(q.prototype),q.prototype.clone=function(){return new q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new b(this.headers),url:this.url})},q.error=function(){var f=new q(null,{status:0,statusText:""});return f.type="error",f};var L=[301,302,303,307,308];q.redirect=function(f,p){if(L.indexOf(p)===-1)throw new RangeError("Invalid status code");return new q(null,{status:p,headers:{location:f}})},o.DOMException=s.DOMException;try{new o.DOMException}catch{o.DOMException=function(p,w){this.message=p,this.name=w;var R=Error(p);this.stack=R.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function E(f,p){return new Promise(function(w,R){var N=new W(f,p);if(N.signal&&N.signal.aborted)return R(new o.DOMException("Aborted","AbortError"));var H=new XMLHttpRequest;function K(){H.abort()}H.onload=function(){var C={status:H.status,statusText:H.statusText,headers:J(H.getAllResponseHeaders()||"")};C.url="responseURL"in H?H.responseURL:C.headers.get("X-Request-URL");var m="response"in H?H.response:H.responseText;w(new q(m,C))},H.onerror=function(){R(new TypeError("Network request failed"))},H.ontimeout=function(){R(new TypeError("Network request failed"))},H.onabort=function(){R(new o.DOMException("Aborted","AbortError"))},H.open(N.method,N.url,!0),N.credentials==="include"?H.withCredentials=!0:N.credentials==="omit"&&(H.withCredentials=!1),"responseType"in H&&a.blob&&(H.responseType="blob"),N.headers.forEach(function(C,m){H.setRequestHeader(m,C)}),N.signal&&(N.signal.addEventListener("abort",K),H.onreadystatechange=function(){H.readyState===4&&N.signal.removeEventListener("abort",K)}),H.send(typeof N._bodyInit>"u"?null:N._bodyInit)})}return E.polyfill=!0,s.fetch||(s.fetch=E,s.Headers=b,s.Request=W,s.Response=q),o.Headers=b,o.Request=W,o.Response=q,o.fetch=E,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(Ak,Du);const b_=Kg(Du);class Ek extends TypeError{constructor(e,n){let r;const{message:i,explanation:s,...o}=e,{path:a}=e,c=a.length===0?i:`At path: ${a.join(".")} -- ${i}`;super(s??c),s!=null&&(this.cause=c),Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>r??(r=[e,...n()])}}function kk(t){return Fr(t)&&typeof t[Symbol.iterator]=="function"}function Fr(t){return typeof t=="object"&&t!=null}function Qr(t){return typeof t=="symbol"?t.toString():typeof t=="string"?JSON.stringify(t):`${t}`}function Bk(t){const{done:e,value:n}=t.next();return e?void 0:n}function Rk(t,e,n,r){if(t===!0)return;t===!1?t={}:typeof t=="string"&&(t={message:t});const{path:i,branch:s}=e,{type:o}=n,{refinement:a,message:c=`Expected a value of type \`${o}\`${a?` with refinement \`${a}\``:""}, but received: \`${Qr(r)}\``}=t;return{value:r,type:o,refinement:a,key:i[i.length-1],path:i,branch:s,...t,message:c}}function*cg(t,e,n,r){kk(t)||(t=[t]);for(const i of t){const s=Rk(i,e,n,r);s&&(yield s)}}function*hh(t,e,n={}){const{path:r=[],branch:i=[t],coerce:s=!1,mask:o=!1}=n,a={path:r,branch:i};if(s&&(t=e.coercer(t,a),o&&e.type!=="type"&&Fr(e.schema)&&Fr(t)&&!Array.isArray(t)))for(const u in t)e.schema[u]===void 0&&delete t[u];let c="valid";for(const u of e.validator(t,a))u.explanation=n.message,c="not_valid",yield[u,void 0];for(let[u,l,d]of e.entries(t,a)){const h=hh(l,d,{path:u===void 0?r:[...r,u],branch:u===void 0?i:[...i,l],coerce:s,mask:o,message:n.message});for(const y of h)y[0]?(c=y[0].refinement!=null?"not_refined":"not_valid",yield[y[0],void 0]):s&&(l=y[1],u===void 0?t=l:t instanceof Map?t.set(u,l):t instanceof Set?t.add(l):Fr(t)&&(l!==void 0||u in t)&&(t[u]=l))}if(c!=="not_valid")for(const u of e.refiner(t,a))u.explanation=n.message,c="not_refined",yield[u,void 0];c==="valid"&&(yield[void 0,t])}class hi{constructor(e){const{type:n,schema:r,validator:i,refiner:s,coercer:o=c=>c,entries:a=function*(){}}=e;this.type=n,this.schema=r,this.entries=a,this.coercer=o,i?this.validator=(c,u)=>{const l=i(c,u);return cg(l,u,this,c)}:this.validator=()=>[],s?this.refiner=(c,u)=>{const l=s(c,u);return cg(l,u,this,c)}:this.refiner=()=>[]}assert(e,n){return Ik(e,this,n)}create(e,n){return Pk(e,this,n)}is(e){return Tr(e,this)}mask(e,n){return Uk(e,this,n)}validate(e,n={}){return ma(e,this,n)}}function Ik(t,e,n){const r=ma(t,e,{message:n});if(r[0])throw r[0]}function Pk(t,e,n){const r=ma(t,e,{coerce:!0,message:n});if(r[0])throw r[0];return r[1]}function Uk(t,e,n){const r=ma(t,e,{coerce:!0,mask:!0,message:n});if(r[0])throw r[0];return r[1]}function Tr(t,e){return!ma(t,e)[0]}function ma(t,e,n={}){const r=hh(t,e,n),i=Bk(r);return i[0]?[new Ek(i[0],function*(){for(const o of r)o[0]&&(yield o[0])}),void 0]:[void 0,i[1]]}function Vf(...t){const e=t[0].type==="type",n=t.map(i=>i.schema),r=Object.assign({},...n);return e?Ok(r):re(r)}function Ai(t,e){return new hi({type:t,schema:null,validator:e})}function us(){return Ai("any",()=>!0)}function xe(t){return new hi({type:"array",schema:t,*entries(e){if(t&&Array.isArray(e))for(const[n,r]of e.entries())yield[n,r,t]},coercer(e){return Array.isArray(e)?e.slice():e},validator(e){return Array.isArray(e)||`Expected an array value, but received: ${Qr(e)}`}})}function v_(){return Ai("bigint",t=>typeof t=="bigint")}function xi(){return Ai("boolean",t=>typeof t=="boolean")}function Ut(t){const e=Qr(t),n=typeof t;return new hi({type:"literal",schema:n==="string"||n==="number"||n==="boolean"?t:null,validator(r){return r===t||`Expected the literal \`${e}\`, but received: ${Qr(r)}`}})}function x_(){return Ai("never",()=>!1)}function ks(t){return new hi({...t,validator:(e,n)=>e===null||t.validator(e,n),refiner:(e,n)=>e===null||t.refiner(e,n)})}function he(){return Ai("number",t=>typeof t=="number"&&!isNaN(t)||`Expected a number, but received: ${Qr(t)}`)}function re(t){const e=t?Object.keys(t):[],n=x_();return new hi({type:"object",schema:t||null,*entries(r){if(t&&Fr(r)){const i=new Set(Object.keys(r));for(const s of e)i.delete(s),yield[s,r[s],t[s]];for(const s of i)yield[s,r[s],n]}},validator(r){return Fr(r)||`Expected an object, but received: ${Qr(r)}`},coercer(r){return Fr(r)?{...r}:r}})}function nt(t){return new hi({...t,validator:(e,n)=>e===void 0||t.validator(e,n),refiner:(e,n)=>e===void 0||t.refiner(e,n)})}function na(t,e){return new hi({type:"record",schema:null,*entries(n){if(Fr(n))for(const r in n){const i=n[r];yield[r,r,t],yield[r,i,e]}},validator(n){return Fr(n)||`Expected an object, but received: ${Qr(n)}`}})}function le(){return Ai("string",t=>typeof t=="string"||`Expected a string, but received: ${Qr(t)}`)}function wa(t){const e=x_();return new hi({type:"tuple",schema:null,*entries(n){if(Array.isArray(n)){const r=Math.max(t.length,n.length);for(let i=0;i<r;i++)yield[i,n[i],t[i]||e]}},validator(n){return Array.isArray(n)||`Expected an array, but received: ${Qr(n)}`}})}function Ok(t){const e=Object.keys(t);return new hi({type:"type",schema:t,*entries(n){if(Fr(n))for(const r of e)yield[r,n[r],t[r]]},validator(n){return Fr(n)||`Expected an object, but received: ${Qr(n)}`},coercer(n){return Fr(n)?{...n}:n}})}function pt(t){const e=t.map(n=>n.type).join(" | ");return new hi({type:"union",schema:null,coercer(n){for(const r of t){const[i,s]=r.validate(n,{coerce:!0});if(!i)return s}return n},validator(n,r){const i=[];for(const s of t){const[...o]=hh(n,s,r),[a]=o;if(a[0])for(const[c]of o)c&&i.push(c);else return[]}return[`Expected the value to satisfy a union of \`${e}\`, but received: ${Qr(n)}`,...i]}})}function S_(){return Ai("unknown",()=>!0)}function T_(t){return/^\d+\.\d+\.\d+$/.test(t)}function ei(t){if(!T_(t))throw new Error("Invalid semver version: "+t);const[e,n,r]=t.split(".").map(i=>parseInt(i,10));return{major:e,minor:n,patch:r}}function Ck(t,e){const n=ei(t),r=ei(e);return n.major!==r.major?n.major<r.major:n.minor!==r.minor?n.minor<r.minor:n.patch!==r.patch?n.patch<r.patch:!1}function $k(t,e){const n=ei(t),r=ei(e);return n.major!==r.major?n.major<=r.major:n.minor!==r.minor?n.minor<=r.minor:n.patch!==r.patch?n.patch<=r.patch:!0}function Mk(t,e){const n=ei(t),r=ei(e);return n.major!==r.major?n.major>r.major:n.minor!==r.minor?n.minor>r.minor:n.patch!==r.patch?n.patch>r.patch:!1}function qk(t,e){const n=ei(t),r=ei(e);return n.major!==r.major?n.major>=r.major:n.minor!==r.minor?n.minor>=r.minor:n.patch!==r.patch?n.patch>=r.patch:!0}function Nk(t,e){return ei(t),ei(e),t===e}var Dk={isValid:T_,parse:ei,lt:Ck,lte:$k,gt:Mk,gte:qk,eq:Nk},ph={},Ja={},Lk={get exports(){return Ja},set exports(t){Ja=t}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(Lk);var Lu={},Hk={get exports(){return Lu},set exports(t){Lu=t}},Hu={},zk={get exports(){return Hu},set exports(t){Hu=t}},zu={},Fk={get exports(){return zu},set exports(t){zu=t}},ug;function jk(){return ug||(ug=1,function(t){var e=tl.default;function n(r,i){if(e(r)!=="object"||r===null)return r;var s=r[Symbol.toPrimitive];if(s!==void 0){var o=s.call(r,i||"default");if(e(o)!=="object")return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(r)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Fk)),zu}var lg;function Wk(){return lg||(lg=1,function(t){var e=tl.default,n=jk();function r(i){var s=n(i,"string");return e(s)==="symbol"?s:String(s)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(zk)),Hu}var dg;function gh(){return dg||(dg=1,function(t){var e=Wk();function n(i,s){for(var o=0;o<s.length;o++){var a=s[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,e(a.key),a)}}function r(i,s,o){return s&&n(i.prototype,s),o&&n(i,o),Object.defineProperty(i,"prototype",{writable:!1}),i}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Hk)),Lu}var Fu={},Gk={get exports(){return Fu},set exports(t){Fu=t}},fg;function yh(){return fg||(fg=1,function(t){function e(n,r){if(!(n instanceof r))throw new TypeError("Cannot call a class as a function")}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Gk)),Fu}var ju={},Vk={get exports(){return ju},set exports(t){ju=t}},Wu={},Kk={get exports(){return Wu},set exports(t){Wu=t}},hg;function Xk(){return hg||(hg=1,function(t){function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,o){return s.__proto__=o,s},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Kk)),Wu}var pg;function mh(){return pg||(pg=1,function(t){var e=Xk();function n(r,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),i&&e(r,i)}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(Vk)),ju}var Gu={},Zk={get exports(){return Gu},set exports(t){Gu=t}},Vu={},Yk={get exports(){return Vu},set exports(t){Vu=t}},gg;function Jk(){return gg||(gg=1,function(t){function e(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Yk)),Vu}var yg;function wh(){return yg||(yg=1,function(t){var e=tl.default,n=Jk();function r(i,s){if(s&&(e(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(i)}t.exports=r,t.exports.__esModule=!0,t.exports.default=t.exports}(Zk)),Gu}var Ku={},Qk={get exports(){return Ku},set exports(t){Ku=t}},mg;function _h(){return mg||(mg=1,function(t){function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(Qk)),Ku}var ef={},Xu={},eB={get exports(){return Xu},set exports(t){Xu=t}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,l){this.fn=c,this.context=u,this.once=l||!1}function s(c,u,l,d,h){if(typeof l!="function")throw new TypeError("The listener must be a function");var y=new i(l,d||c,h),b=n?n+u:u;return c._events[b]?c._events[b].fn?c._events[b]=[c._events[b],y]:c._events[b].push(y):(c._events[b]=y,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],l,d;if(this._eventsCount===0)return u;for(d in l=this._events)e.call(l,d)&&u.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(l)):u},a.prototype.listeners=function(u){var l=n?n+u:u,d=this._events[l];if(!d)return[];if(d.fn)return[d.fn];for(var h=0,y=d.length,b=new Array(y);h<y;h++)b[h]=d[h].fn;return b},a.prototype.listenerCount=function(u){var l=n?n+u:u,d=this._events[l];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,l,d,h,y,b){var T=n?n+u:u;if(!this._events[T])return!1;var k=this._events[T],O=arguments.length,B,v;if(k.fn){switch(k.once&&this.removeListener(u,k.fn,void 0,!0),O){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,l),!0;case 3:return k.fn.call(k.context,l,d),!0;case 4:return k.fn.call(k.context,l,d,h),!0;case 5:return k.fn.call(k.context,l,d,h,y),!0;case 6:return k.fn.call(k.context,l,d,h,y,b),!0}for(v=1,B=new Array(O-1);v<O;v++)B[v-1]=arguments[v];k.fn.apply(k.context,B)}else{var _=k.length,S;for(v=0;v<_;v++)switch(k[v].once&&this.removeListener(u,k[v].fn,void 0,!0),O){case 1:k[v].fn.call(k[v].context);break;case 2:k[v].fn.call(k[v].context,l);break;case 3:k[v].fn.call(k[v].context,l,d);break;case 4:k[v].fn.call(k[v].context,l,d,h);break;default:if(!B)for(S=1,B=new Array(O-1);S<O;S++)B[S-1]=arguments[S];k[v].fn.apply(k[v].context,B)}}return!0},a.prototype.on=function(u,l,d){return s(this,u,l,d,!1)},a.prototype.once=function(u,l,d){return s(this,u,l,d,!0)},a.prototype.removeListener=function(u,l,d,h){var y=n?n+u:u;if(!this._events[y])return this;if(!l)return o(this,y),this;var b=this._events[y];if(b.fn)b.fn===l&&(!h||b.once)&&(!d||b.context===d)&&o(this,y);else{for(var T=0,k=[],O=b.length;T<O;T++)(b[T].fn!==l||h&&!b[T].once||d&&b[T].context!==d)&&k.push(b[T]);k.length?this._events[y]=k.length===1?k[0]:k:o(this,y)}return this},a.prototype.removeAllListeners=function(u){var l;return u?(l=n?n+u:u,this._events[l]&&o(this,l)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(eB);var wg;function tB(){return wg||(wg=1,function(t){var e=Ja;Object.defineProperty(t,"__esModule",{value:!0}),t.default=d;var n=e(yh()),r=e(gh()),i=e(mh()),s=e(wh()),o=e(_h()),a=Xu;function c(h){var y=u();return function(){var T=(0,o.default)(h),k;if(y){var O=(0,o.default)(this).constructor;k=Reflect.construct(T,arguments,O)}else k=T.apply(this,arguments);return(0,s.default)(this,k)}}function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var l=function(h){(0,i.default)(b,h);var y=c(b);function b(T,k,O){var B;return(0,n.default)(this,b),B=y.call(this),B.socket=new window.WebSocket(T,O),B.socket.onopen=function(){return B.emit("open")},B.socket.onmessage=function(v){return B.emit("message",v.data)},B.socket.onerror=function(v){return B.emit("error",v)},B.socket.onclose=function(v){B.emit("close",v.code,v.reason)},B}return(0,r.default)(b,[{key:"send",value:function(k,O,B){var v=B||O;try{this.socket.send(k),v()}catch(_){v(_)}}},{key:"close",value:function(k,O){this.socket.close(k,O)}},{key:"addEventListener",value:function(k,O,B){this.socket.addEventListener(k,O,B)}}]),b}(a.EventEmitter);function d(h,y){return new l(h,y)}}(ef)),ef}var tf={},Zu={},nB={get exports(){return Zu},set exports(t){Zu=t}},_g;function rB(){return _g||(_g=1,function(t){function e(r,i,s,o,a,c,u){try{var l=r[c](u),d=l.value}catch(h){s(h);return}l.done?i(d):Promise.resolve(d).then(o,a)}function n(r){return function(){var i=this,s=arguments;return new Promise(function(o,a){var c=r.apply(i,s);function u(d){e(c,o,a,u,l,"next",d)}function l(d){e(c,o,a,u,l,"throw",d)}u(void 0)})}}t.exports=n,t.exports.__esModule=!0,t.exports.default=t.exports}(nB)),Zu}var bg;function iB(){return bg||(bg=1,function(t){var e=Ja;Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=e(s2),r=e(rB()),i=e(tl),s=e(yh()),o=e(gh()),a=e(mh()),c=e(wh()),u=e(_h()),l=Xu;function d(T){var k=h();return function(){var B=(0,u.default)(T),v;if(k){var _=(0,u.default)(this).constructor;v=Reflect.construct(B,arguments,_)}else v=B.apply(this,arguments);return(0,c.default)(this,v)}}function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var y=function(T,k){var O={};for(var B in T)Object.prototype.hasOwnProperty.call(T,B)&&k.indexOf(B)<0&&(O[B]=T[B]);if(T!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,B=Object.getOwnPropertySymbols(T);v<B.length;v++)k.indexOf(B[v])<0&&Object.prototype.propertyIsEnumerable.call(T,B[v])&&(O[B[v]]=T[B[v]]);return O},b=function(T){(0,a.default)(O,T);var k=d(O);function O(B){var v,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"ws://localhost:8080",S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=arguments.length>3?arguments[3]:void 0;(0,s.default)(this,O);var F=S.autoconnect,W=F===void 0?!0:F,Y=S.reconnect,J=Y===void 0?!0:Y,q=S.reconnect_interval,L=q===void 0?1e3:q,E=S.max_reconnects,f=E===void 0?5:E,p=y(S,["autoconnect","reconnect","reconnect_interval","max_reconnects"]);return v=k.call(this),v.webSocketFactory=B,v.queue={},v.rpc_id=0,v.address=_,v.autoconnect=W,v.ready=!1,v.reconnect=J,v.reconnect_timer_id=void 0,v.reconnect_interval=L,v.max_reconnects=f,v.rest_options=p,v.current_reconnects=0,v.generate_request_id=M||function(){return++v.rpc_id},v.autoconnect&&v._connect(v.address,Object.assign({autoconnect:v.autoconnect,reconnect:v.reconnect,reconnect_interval:v.reconnect_interval,max_reconnects:v.max_reconnects},v.rest_options)),v}return(0,o.default)(O,[{key:"connect",value:function(){this.socket||this._connect(this.address,Object.assign({autoconnect:this.autoconnect,reconnect:this.reconnect,reconnect_interval:this.reconnect_interval,max_reconnects:this.max_reconnects},this.rest_options))}},{key:"call",value:function(v,_,S,M){var F=this;return!M&&(0,i.default)(S)==="object"&&(M=S,S=null),new Promise(function(W,Y){if(!F.ready)return Y(new Error("socket not ready"));var J=F.generate_request_id(v,_),q={jsonrpc:"2.0",method:v,params:_||null,id:J};F.socket.send(JSON.stringify(q),M,function(L){if(L)return Y(L);F.queue[J]={promise:[W,Y]},S&&(F.queue[J].timeout=setTimeout(function(){delete F.queue[J],Y(new Error("reply timeout"))},S))})})}},{key:"login",value:function(){var B=(0,r.default)(n.default.mark(function _(S){var M;return n.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,this.call("rpc.login",S);case 2:if(M=W.sent,M){W.next=5;break}throw new Error("authentication failed");case 5:return W.abrupt("return",M);case 6:case"end":return W.stop()}},_,this)}));function v(_){return B.apply(this,arguments)}return v}()},{key:"listMethods",value:function(){var B=(0,r.default)(n.default.mark(function _(){return n.default.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,this.call("__listMethods");case 2:return M.abrupt("return",M.sent);case 3:case"end":return M.stop()}},_,this)}));function v(){return B.apply(this,arguments)}return v}()},{key:"notify",value:function(v,_){var S=this;return new Promise(function(M,F){if(!S.ready)return F(new Error("socket not ready"));var W={jsonrpc:"2.0",method:v,params:_||null};S.socket.send(JSON.stringify(W),function(Y){if(Y)return F(Y);M()})})}},{key:"subscribe",value:function(){var B=(0,r.default)(n.default.mark(function _(S){var M;return n.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return typeof S=="string"&&(S=[S]),W.next=3,this.call("rpc.on",S);case 3:if(M=W.sent,!(typeof S=="string"&&M[S]!=="ok")){W.next=6;break}throw new Error("Failed subscribing to an event '"+S+"' with: "+M[S]);case 6:return W.abrupt("return",M);case 7:case"end":return W.stop()}},_,this)}));function v(_){return B.apply(this,arguments)}return v}()},{key:"unsubscribe",value:function(){var B=(0,r.default)(n.default.mark(function _(S){var M;return n.default.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return typeof S=="string"&&(S=[S]),W.next=3,this.call("rpc.off",S);case 3:if(M=W.sent,!(typeof S=="string"&&M[S]!=="ok")){W.next=6;break}throw new Error("Failed unsubscribing from an event with: "+M);case 6:return W.abrupt("return",M);case 7:case"end":return W.stop()}},_,this)}));function v(_){return B.apply(this,arguments)}return v}()},{key:"close",value:function(v,_){this.socket.close(v||1e3,_)}},{key:"_connect",value:function(v,_){var S=this;clearTimeout(this.reconnect_timer_id),this.socket=this.webSocketFactory(v,_),this.socket.addEventListener("open",function(){S.ready=!0,S.emit("open"),S.current_reconnects=0}),this.socket.addEventListener("message",function(M){var F=M.data;F instanceof ArrayBuffer&&(F=Buffer.from(F).toString());try{F=JSON.parse(F)}catch{return}if(F.notification&&S.listeners(F.notification).length){if(!Object.keys(F.params).length)return S.emit(F.notification);var W=[F.notification];if(F.params.constructor===Object)W.push(F.params);else for(var Y=0;Y<F.params.length;Y++)W.push(F.params[Y]);return Promise.resolve().then(function(){S.emit.apply(S,W)})}if(!S.queue[F.id])return F.method&&F.params?Promise.resolve().then(function(){S.emit(F.method,F.params)}):void 0;"error"in F=="result"in F&&S.queue[F.id].promise[1](new Error('Server response malformed. Response must include either "result" or "error", but not both.')),S.queue[F.id].timeout&&clearTimeout(S.queue[F.id].timeout),F.error?S.queue[F.id].promise[1](F.error):S.queue[F.id].promise[0](F.result),delete S.queue[F.id]}),this.socket.addEventListener("error",function(M){return S.emit("error",M)}),this.socket.addEventListener("close",function(M){var F=M.code,W=M.reason;S.ready&&setTimeout(function(){return S.emit("close",F,W)},0),S.ready=!1,S.socket=void 0,F!==1e3&&(S.current_reconnects++,S.reconnect&&(S.max_reconnects>S.current_reconnects||S.max_reconnects===0)&&(S.reconnect_timer_id=setTimeout(function(){return S._connect(v,_)},S.reconnect_interval)))})}}]),O}(l.EventEmitter);t.default=b}(tf)),tf}var Ys=Ja;Object.defineProperty(ph,"__esModule",{value:!0});var A_=ph.Client=void 0,sB=Ys(gh()),oB=Ys(yh()),aB=Ys(mh()),cB=Ys(wh()),vg=Ys(_h()),uB=Ys(tB()),lB=Ys(iB());function dB(t){var e=fB();return function(){var r=(0,vg.default)(t),i;if(e){var s=(0,vg.default)(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return(0,cB.default)(this,i)}}function fB(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var hB=function(t){(0,aB.default)(n,t);var e=dB(n);function n(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ws://localhost:8080",i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.autoconnect,o=s===void 0?!0:s,a=i.reconnect,c=a===void 0?!0:a,u=i.reconnect_interval,l=u===void 0?1e3:u,d=i.max_reconnects,h=d===void 0?5:d,y=arguments.length>2?arguments[2]:void 0;return(0,oB.default)(this,n),e.call(this,uB.default,r,{autoconnect:o,reconnect:c,reconnect_interval:l,max_reconnects:h},y)}return(0,sB.default)(n)}(lB.default);A_=ph.Client=hB;var pB=Object.defineProperty,gB=Object.defineProperties,yB=Object.getOwnPropertyDescriptors,xg=Object.getOwnPropertySymbols,mB=Object.prototype.hasOwnProperty,wB=Object.prototype.propertyIsEnumerable,Sg=(t,e,n)=>e in t?pB(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Cs=(t,e)=>{for(var n in e||(e={}))mB.call(e,n)&&Sg(t,n,e[n]);if(xg)for(var n of xg(e))wB.call(e,n)&&Sg(t,n,e[n]);return t},bh=(t,e)=>gB(t,yB(e)),E_=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)},Yc=(t,e,n)=>(E_(t,e,"read from private field"),n?n.call(t):e.get(t)),_B=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},bB=(t,e,n,r)=>(E_(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ae=(t,e,n)=>new Promise((r,i)=>{var s=c=>{try{a(n.next(c))}catch(u){i(u)}},o=c=>{try{a(n.throw(c))}catch(u){i(u)}},a=c=>c.done?r(c.value):Promise.resolve(c.value).then(s,o);a((n=n.apply(t,e)).next())});po.hmacSha256Sync=(t,...e)=>{const n=J0.create(Os,t);return e.forEach(r=>n.update(r)),n.digest()};var vB=class{},xB="0.29.1",Tg="The response returned from RPC server does not match the TypeScript definition. This is likely because the SDK version is not compatible with the RPC server. Please update your SDK version to the latest. ",nf=re({jsonrpc:Ut("2.0"),id:le(),result:us()}),k_=re({jsonrpc:Ut("2.0"),id:le(),error:re({code:us(),message:le(),data:nt(us())})}),SB=class{constructor(t,e){this.rpcClient=new Tk((n,r)=>Ae(this,null,function*(){const i={method:"POST",body:n,headers:Cs({"Content-Type":"application/json","Client-Sdk-Type":"typescript","Client-Sdk-Version":xB,"Client-Target-Api-Version":XI},e)};try{let s=yield b_(t,i);const o=yield s.text();if(s.ok)r(null,o);else{const a=s.headers.get("content-type")==="text/html";r(new Error(`${s.status} ${s.statusText}${a?"":`: ${o}`}`))}}catch(s){s instanceof Error&&r(s)}}),{})}requestWithType(t,e,n,r=!1){return Ae(this,null,function*(){const i=yield this.request(t,e);if(Tr(i,k_))throw new Error(`RPC Error: ${i.error.message}`);if(Tr(i,nf)){const s=ma(i.result,n)[0],o=Tg+`Result received was: ${JSON.stringify(i.result)}. Debug info: ${s}`;if(r&&s)return console.warn(o),i.result;if(s)throw new Error(`RPC Error: ${o}`);return i.result}throw new Error(`Unexpected RPC Response: ${i}`)})}request(t,e){return Ae(this,null,function*(){return new Promise((n,r)=>{this.rpcClient.request(t,e,(i,s)=>{if(i){r(i);return}n(s)})})})}batchRequestWithType(t,e,n=!1){return Ae(this,null,function*(){const r=yield this.batchRequest(t),i=r.filter(s=>Tr(s,nf)&&(n||Tr(s.result,e)));if(r.length>i.length){console.warn(`Batch request contains invalid responses. ${r.length-i.length} of the ${r.length} requests has invalid schema.`);const s=r.find(a=>!Tr(a.result,e)),o=r.findIndex(a=>!Tr(a,nf));s&&console.warn(Tg+`One example mismatch is: ${JSON.stringify(s.result)}`),o!==-1&&console.warn(`The request ${JSON.stringify(t[o])} within a batch request returns an invalid response ${JSON.stringify(r[o])}`)}return i.map(s=>s.result)})}batchRequest(t){return Ae(this,null,function*(){return new Promise((e,n)=>{t.length===0&&e([]);const r=t.map(i=>this.rpcClient.request(i.method,i.args));this.rpcClient.request(r,(i,s)=>{if(i){n(i);return}e(s)})})})}},pr=le(),TB=le(),Pn=le(),Tn=le(),Ac=he(),_a=pt([re({AddressOwner:Tn}),re({ObjectOwner:Tn}),re({Shared:re({initial_shared_version:he()})}),Ut("Immutable")]),AB=S_(),EB=32;function Ag(t){try{return Y0(t).length===EB}catch{return!1}}var B_=20;function gi(t){return kB(t)&&BB(t)===B_}function Jc(t){return gi(t)}function ci(t,e=!1){let n=t.toLowerCase();return!e&&n.startsWith("0x")&&(n=n.slice(2)),`0x${n.padStart(B_*2,"0")}`}function es(t,e=!1){return ci(t,e)}function kB(t){return/^(0x|0X)?[a-fA-F0-9]+$/.test(t)&&t.length%2===0}function BB(t){return/^(0x|0X)/.test(t)?(t.length-2)/2:t.length/2}pt([Ut("moveObject"),Ut("package")]);var dr=re({digest:pr,objectId:le(),version:he()}),RB=re({payment:dr,owner:le(),price:he(),budget:he()}),IB=Vf(dr,re({type:le(),owner:_a,previousTransaction:pr})),PB=na(le(),us()),UB=na(le(),le()),OB=re({type:le(),fields:PB,has_public_transfer:nt(xi())}),R_=re({disassembled:UB}),CB=pt([Vf(OB,re({dataType:Ut("moveObject")})),Vf(R_,re({dataType:Ut("package")}))]);BigInt(1e9);var is=re({data:CB,owner:_a,previousTransaction:pr,storageRebate:he(),reference:dr}),$B=pt([Ut("Exists"),Ut("NotExists"),Ut("Deleted")]),MB=xe(IB),rf=re({status:$B,details:pt([is,Pn,dr])});function Ec(t){return t.status!=="Exists"?void 0:t.details}function qB(t){return t.status!=="Deleted"?void 0:t.details}function NB(t){return t.status!=="NotExists"?void 0:t.details}function vh(t){var e;return((e=Ec(t))==null?void 0:e.reference)||qB(t)}function hd(t){var e,n;return"objectId"in t?t.objectId:(n=(e=vh(t))==null?void 0:e.objectId)!=null?n:NB(t)}function I_(t){var e;return(e=Ec(t))==null?void 0:e.previousTransaction}function DB(t){var e;return(e=Ec(t))==null?void 0:e.owner}function LB(t){const e=DB(t);if(typeof e=="object"&&"Shared"in e)return e.Shared.initial_shared_version}function xh(t){var e;return(e=P_(t))==null?void 0:e.type}function pd(t){var e;return"fields"in t?t.fields:(e=P_(t))==null?void 0:e.fields}function P_(t){const e="data"in t?t:Ec(t);if((e==null?void 0:e.data.dataType)==="moveObject")return e.data}var HB=pt([Ut("Gas"),Ut("Pay"),Ut("Receive")]),zB=re({packageId:Pn,transactionModule:le(),sender:Tn,type:le(),fields:na(le(),us()),bcs:le()}),FB=re({sender:Tn,packageId:Pn,version:nt(he()),digest:nt(le())}),jB=re({packageId:Pn,transactionModule:le(),sender:Tn,owner:_a,changeType:HB,coinType:le(),coinObjectId:Pn,version:Ac,amount:he()}),WB=re({packageId:Pn,transactionModule:le(),sender:Tn,recipient:_a,objectType:le(),objectId:Pn,version:Ac}),GB=re({packageId:Pn,transactionModule:le(),sender:Tn,objectType:le(),objectId:Pn,version:Ac}),VB=re({packageId:Pn,transactionModule:le(),sender:Tn,objectId:Pn,version:Ac}),KB=re({packageId:Pn,transactionModule:le(),sender:Tn,recipient:_a,objectType:le(),objectId:Pn,version:Ac}),XB=pt([v_(),he()]),ZB=pt([v_(),he()]),U_=pt([re({moveEvent:zB}),re({publish:FB}),re({coinBalanceChange:jB}),re({transferObject:WB}),re({mutateObject:GB}),re({deleteObject:VB}),re({newObject:KB}),re({epochChange:XB}),re({checkpoint:ZB})]),O_=re({txDigest:pr,eventSeq:he()}),C_=re({timestamp:he(),txDigest:pr,id:O_,event:U_}),YB=re({data:xe(C_),nextCursor:pt([O_,Ut(null)])}),JB=he(),QB=re({subscription:JB,result:C_}),Sh=he(),eR=re({recipient:Tn,objectRef:dr}),tR=re({recipient:Tn,amount:pt([he(),Ut(null)])}),nR=re({epoch:Sh,storage_charge:he(),computation_charge:he(),storage_rebate:nt(he()),epoch_start_timestamp_ms:nt(he())}),rR=re({checkpoint_start_timestamp_ms:he()}),iR=re({coins:xe(dr),recipients:xe(Tn),amounts:xe(he())}),sR=re({coins:xe(dr),recipients:xe(Tn),amounts:xe(he())}),oR=re({coins:xe(dr),recipient:Tn}),aR=re({package:le(),module:le(),function:le(),typeArguments:nt(xe(le())),arguments:nt(xe(AB))}),cR=re({objects:xe(Pn)}),uR=pt([re({TransferObject:eR}),re({Publish:R_}),re({Call:aR}),re({TransferSui:tR}),re({ChangeEpoch:nR}),re({ConsensusCommitPrologue:rR}),re({Pay:iR}),re({PaySui:sR}),re({PayAllSui:oR}),re({Genesis:cR})]),$_=re({transactions:xe(uR),sender:Tn,gasData:RB}),Eg=le(),lR=pt([Eg,xe(Eg)]),Th=re({epoch:Sh,signature:lR,signers_map:xe(he())}),Kf=re({transactionDigest:pr,data:$_,txSignatures:xe(le()),authSignInfo:Th}),dR=re({computationCost:he(),storageCost:he(),storageRebate:he()}),fR=pt([Ut("success"),Ut("failure")]),hR=re({status:fR,error:nt(le())}),Qc=re({owner:_a,reference:dr}),kc=re({status:hR,executedEpoch:nt(Sh),gasUsed:dR,sharedObjects:nt(xe(dr)),transactionDigest:pr,created:nt(xe(Qc)),mutated:nt(xe(Qc)),unwrapped:nt(xe(Qc)),deleted:nt(xe(dr)),unwrapped_then_deleted:nt(xe(dr)),wrapped:nt(xe(dr)),gasObject:Qc,events:nt(xe(U_)),dependencies:nt(xe(pr))}),pR=wa([xe(he()),le()]),gR=wa([he(),xe(he()),le()]),yR=re({mutableReferenceOutputs:nt(xe(gR)),returnValues:nt(xe(pR))}),mR=wa([he(),yR]),wR=pt([re({Ok:xe(mR)}),re({Err:le()})]),_R=re({effects:kc,results:wR}),bR=re({transactionEffectsDigest:le(),authSignInfo:Th,effects:kc}),vR=pt([re({certified:Th}),re({checkpointed:wa([he(),he()])})]),xR=re({transactionEffectsDigest:le(),effects:kc,finalityInfo:vR}),SR=xe(pr),sf=re({data:xe(pr),nextCursor:pt([pr,Ut(null)])}),TR=le();re({txBytes:le(),gas:dr,inputObjects:S_()});var AR=re({updatedCoin:is,updatedGas:is}),ER=re({updatedCoin:is,newCoins:xe(is),updatedGas:is}),kR=re({digest:le(),objectId:le(),version:he()}),BR=re({createdObjects:xe(is),package:kR,updatedGas:is}),RR=pt([re({SplitCoin:ER}),re({MergeCoin:AR}),re({Publish:BR})]),IR=re({data:$_,txSignatures:xe(le())}),Xf=re({transaction:nt(IR),certificate:nt(Kf),effects:kc,timestamp_ms:nt(pt([he(),Ut(null)])),timestampMs:nt(pt([he(),Ut(null)])),checkpoint:nt(pt([he(),Ut(null)])),confirmedLocalExecution:nt(xi()),parsed_data:nt(pt([RR,Ut(null)]))}),PR=pt([re({EffectsCert:re({certificate:Kf,effects:bR,confirmed_local_execution:xi()})}),re({certificate:nt(Kf),effects:xR,confirmed_local_execution:xi()}),Xf]);function UR(t){return"effects"in t?"effects"in t.effects?t.effects.effects:t.effects:"EffectsCert"in t?t.EffectsCert.effects.effects:void 0}var Yu="0x2",Ah="0x1",OR="object",CR="ID",Ju=`${Yu}::sui::SUI`,kg="pay",$R="split_vec",MR="join",Bg=/^0x2::coin::Coin<(.+)>$/,qR=re({decimals:he(),name:le(),symbol:le(),description:le(),iconUrl:pt([le(),Ut(null)]),id:pt([Pn,Ut(null)])}),vt=class{static isCoin(t){var e;return((e=vt.getType(t))==null?void 0:e.match(Bg))!=null}static getCoinType(t){var e;const[,n]=(e=t.match(Bg))!=null?e:[];return n||null}static getCoinTypeArg(t){const e=vt.getType(t);return e?vt.getCoinType(e):null}static isSUI(t){const e=vt.getCoinTypeArg(t);return e?vt.getCoinSymbol(e)==="SUI":!1}static getCoinSymbol(t){return t.substring(t.lastIndexOf(":")+1)}static getCoinStructTag(t){return{address:es(t.split("::")[0]),module:t.split("::")[1],name:t.split("::")[2],typeParams:[]}}static getID(t){return"fields"in t?t.fields.id.id:hd(t)}static selectCoinsWithBalanceGreaterThanOrEqual(t,e,n=[]){return vt.sortByBalance(t.filter(r=>!n.includes(vt.getID(r))&&vt.getBalance(r)>=e))}static selectCoinWithBalanceGreaterThanOrEqual(t,e,n=[]){return t.find(r=>!n.includes(vt.getID(r))&&vt.getBalance(r)>=e)}static selectCoinSetWithCombinedBalanceGreaterThanOrEqual(t,e,n=[]){const r=vt.sortByBalance(t.filter(a=>!n.includes(vt.getID(a)))),i=vt.totalBalance(r);if(i<e)return[];if(i===e)return r;let s=BigInt(0),o=[];for(;s<i;){const a=e-s,c=r.find(l=>vt.getBalance(l)>=a);if(c){o.push(c);break}const u=r.pop();o.push(u),s+=vt.getBalance(u)}return vt.sortByBalance(o)}static totalBalance(t){return t.reduce((e,n)=>e+vt.getBalance(n),BigInt(0))}static sortByBalance(t){return[...t].sort((e,n)=>vt.getBalance(e)<vt.getBalance(n)?-1:vt.getBalance(e)>vt.getBalance(n)?1:0)}static getBalance(t){var e;if(!vt.isCoin(t))return;const n=(e=pd(t))==null?void 0:e.balance;return BigInt(n)}static getZero(){return BigInt(0)}static getType(t){return"status"in t?xh(t):t.type}static newPayTransaction(t,e,n,r,i){return Ae(this,null,function*(){const s=e===Ju,o=t.filter(d=>vt.getCoinTypeArg(d)===e),a=s?o:t.filter(d=>vt.isSUI(d)),c=vt.selectCoinWithBalanceGreaterThanOrEqual(a,BigInt(i));if(!c)throw new Error(`Unable to find a coin to cover the gas budget ${i}`);const u=n+BigInt(s?BigInt(i)-BigInt(vt.getBalance(c)||0):0),l=u>0?yield vt.selectCoinSetWithCombinedBalanceGreaterThanOrEqual(o,u,s?[vt.getID(c)]:[]):[];if(u>0&&!l.length){const d=vt.totalBalance(o),h=d-BigInt(s?i:0);throw new Error(`Coin balance ${d} is not sufficient to cover the transfer amount ${n}. Try reducing the transfer amount to ${h}.`)}return s&&l.unshift(c),{kind:s?"paySui":"pay",data:{inputCoins:l.map(vt.getID),recipients:[r],amounts:[Number(n)],gasBudget:Number(i)}}})}};function M_(t){t.registerType("utf8string",(e,n)=>{const r=Array.from(new TextEncoder().encode(n));return e.writeVec(r,(i,s)=>i.write8(s))},e=>{let n=e.readVec(r=>r.read8());return new TextDecoder().decode(new Uint8Array(n))})}function NR(t){return t.Pure!==void 0}Array.from("TransactionData::").map(t=>t.charCodeAt(0));function DR(t,e){return t.de("TransactionData",e)}var Zf={enums:{"Option<T>":{None:null,Some:"T"},ObjectArg:{ImmOrOwned:"SuiObjectRef",Shared:"SharedObjectRef"},CallArg:{Pure:"vector<u8>",Object:"ObjectArg",ObjVec:"vector<ObjectArg>"},TypeTag:{bool:null,u8:null,u64:null,u128:null,address:null,signer:null,vector:"TypeTag",struct:"StructTag",u16:null,u32:null,u256:null},Transaction:{TransferObject:"TransferObjectTx",Publish:"PublishTx",Call:"MoveCallTx",TransferSui:"TransferSuiTx",Pay:"PayTx",PaySui:"PaySuiTx",PayAllSui:"PayAllSuiTx"},TransactionKind:{Single:"Transaction",Batch:"vector<Transaction>"},TransactionExpiration:{None:null,Epoch:it.U64}},structs:{SuiObjectRef:{objectId:it.ADDRESS,version:it.U64,digest:"ObjectDigest"},TransferObjectTx:{recipient:it.ADDRESS,object_ref:"SuiObjectRef"},PayTx:{coins:"vector<SuiObjectRef>",recipients:"vector<address>",amounts:"vector<u64>"},PaySuiTx:{coins:"vector<SuiObjectRef>",recipients:"vector<address>",amounts:"vector<u64>"},PayAllSuiTx:{coins:"vector<SuiObjectRef>",recipient:it.ADDRESS},TransferSuiTx:{recipient:it.ADDRESS,amount:"Option<u64>"},PublishTx:{modules:"vector<vector<u8>>"},SharedObjectRef:{objectId:it.ADDRESS,initialSharedVersion:it.U64,mutable:it.BOOL},StructTag:{address:it.ADDRESS,module:it.STRING,name:it.STRING,typeParams:"vector<TypeTag>"},MoveCallTx:{package:it.ADDRESS,module:it.STRING,function:it.STRING,typeArguments:"vector<TypeTag>",arguments:"vector<CallArg>"},TransactionData:{kind:"TransactionKind",sender:it.ADDRESS,gasData:"GasData",expiration:"TransactionExpiration"},GasData:{payment:"SuiObjectRef",owner:it.ADDRESS,price:it.U64,budget:it.U64},SenderSignedData:{data:"TransactionData",txSignatures:"vector<vector<u8>>"}},aliases:{ObjectDigest:it.BASE64}},LR={structs:bh(Cs({},Zf.structs),{TransactionData:{kind:"TransactionKind",sender:it.ADDRESS,gasData:"GasData"},SenderSignedData:{data:"TransactionData",txSignature:"vector<u8>"}}),enums:Zf.enums,aliases:{ObjectDigest:it.BASE64}},q_=new it(bh(Cs({},Cw()),{types:Zf}));M_(q_);var N_=new it(bh(Cs({},Cw()),{types:LR}));M_(N_);function Ma(t){return(t==null?void 0:t.major)===0&&(t==null?void 0:t.minor)<=27?N_:q_}function HR(t){return Dk.parse(t)}var zR=pt([le(),re({Object:le()})]),FR=xe(zR),jR=re({address:le(),name:le()}),WR=pt([Ut("Private"),Ut("Public"),Ut("Friend")]),Eh=re({abilities:xe(le())}),GR=re({constraints:Eh,is_phantom:xi()}),VR=re({TypeParameter:he()});function D_(t){if(!t)return!1;if(typeof t=="string"||Tr(t,VR)||L_(t))return!0;if(typeof t!="object")return!1;const e=t;return!!(Tr(e.Reference,Ro)||Tr(e.MutableReference,Ro)||Tr(e.Vector,Ro))}var Ro=Ai("SuiMoveNormalizedType",D_);function L_(t){if(!t||typeof t!="object")return!1;const e=t;if(!e.Struct||typeof e.Struct!="object")return!1;const n=e.Struct;return!(typeof n.address!="string"||typeof n.module!="string"||typeof n.name!="string"||!Array.isArray(n.type_arguments)||!n.type_arguments.every(r=>D_(r)))}Ai("SuiMoveNormalizedStructType",L_);var H_=re({visibility:WR,is_entry:xi(),type_parameters:xe(Eh),parameters:xe(Ro),return_:xe(Ro)}),KR=re({name:le(),type_:Ro}),z_=re({abilities:Eh,type_parameters:xe(GR),fields:xe(KR)}),F_=re({file_format_version:he(),address:le(),name:le(),friends:xe(jR),structs:na(le(),z_),exposed_functions:na(le(),H_)}),XR=na(le(),F_);function j_(t){return typeof t=="object"&&"MutableReference"in t?t.MutableReference:void 0}function ZR(t){return typeof t=="object"&&"Reference"in t?t.Reference:void 0}function Rg(t){if(typeof t=="object"&&"Struct"in t)return t;const e=ZR(t),n=j_(t);if(typeof e=="object"&&"Struct"in e)return e;if(typeof n=="object"&&"Struct"in n)return n}var kh=re({sui_address:Tn,pubkey_bytes:xe(he()),network_pubkey_bytes:xe(he()),worker_pubkey_bytes:xe(he()),proof_of_possession_bytes:xe(he()),name:pt([le(),xe(he())]),description:pt([le(),ks(xe(he()))]),image_url:pt([le(),ks(xe(he()))]),project_url:pt([le(),ks(xe(he()))]),net_address:xe(he()),consensus_address:xe(he()),worker_address:xe(he()),next_epoch_stake:he(),next_epoch_delegation:he(),next_epoch_gas_price:he(),next_epoch_commission_rate:he()}),Bh=re({value:he()}),YR=re({id:re({id:le()}),validator_address:Tn,pool_starting_epoch:he(),delegation_request_epoch:he(),principal:Bh,sui_token_lock:pt([he(),Ut(null)])}),JR=re({id:re({id:le()}),staked_sui_id:Tn,principal_sui_amount:he(),pool_tokens:Bh}),QR=re({Active:JR}),eI=re({staked_sui:YR,delegation_status:pt([Ut("Pending"),QR])}),tI=re({max_validator_candidate_count:le(),min_validator_stake:le(),storage_gas_price:nt(le())}),nI=re({type:le(),fields:tI}),W_=re({balance:re({value:he()}),current_epoch_amount:he(),epoch_counter:he()});re({type:le(),fields:W_});var G_=re({value:he()}),V_=re({id:le(),size:he(),head:re({vec:xe()}),tail:re({vec:xe()})}),rI=re({id:le(),size:he()});re({type:le(),fields:V_});var iI=re({contents:rI}),K_=re({delegation_token_supply:G_,pending_delegations:V_,pending_withdraws:iI,rewards_pool:re({value:he()}),starting_epoch:he(),sui_balance:he(),validator_address:le()});re({type:le(),fields:K_});var sI=re({epoch:he(),protocol_version:nt(he()),committee_info:nt(xe(wa([TR,he()])))}),oI=re({min_validator_stake:he(),max_validator_candidate_count:he(),storage_gas_price:nt(he())}),Ig=re({metadata:kh,voting_power:he(),stake_amount:he(),pending_stake:he(),pending_withdraw:he(),gas_price:he(),delegation_staking_pool:K_,commission_rate:he()}),aI=re({from:Tn,to:Tn}),cI=re({validator_stake:he(),delegation_stake:he(),active_validators:xe(Ig),pending_validators:xe(Ig),pending_removals:xe(he()),next_epoch_validators:xe(kh),pending_delegation_switches:nt(re({contents:xe(aI)}))}),uI=re({info:re({id:le()}),epoch:he(),protocol_version:nt(he()),validators:cI,treasury_cap:G_,storage_fund:Bh,parameters:oI,reference_gas_price:he(),validator_report_records:re({contents:xe()}),stake_subsidy:W_,safe_mode:xi(),epoch_start_timestamp_ms:nt(he())}),lI=re({type:le(),fields:re({contents:re({type:le(),fields:re({id:re({id:le()}),size:le()})})})}),dI=re({type:le(),fields:re({id:re({id:le()}),head:ks(le()),size:le(),tail:ks(le())})}),fI=re({delegation_token_supply:re({type:le(),fields:re({value:le()})}),pending_delegations:dI,pending_withdraws:lI,rewards_pool:le(),starting_epoch:le(),sui_balance:le(),validator_address:le()}),X_=re({type:le(),fields:re({contents:xe(us())})}),hI=re({consensus_address:xe(he()),name:pt([le(),xe(he())]),description:nt(pt([le(),xe(he())])),image_url:nt(pt([le(),xe(he())])),project_url:nt(pt([le(),xe(he())])),net_address:xe(he()),network_pubkey_bytes:xe(he()),next_epoch_commission_rate:le(),next_epoch_delegation:le(),next_epoch_gas_price:le(),next_epoch_stake:le(),proof_of_possession:xe(he()),pubkey_bytes:xe(he()),sui_address:le(),worker_address:xe(he()),worker_pubkey_bytes:xe(he())}),Z_=re({type:le(),fields:hI}),pI=re({commission_rate:le(),delegation_staking_pool:re({type:le(),fields:fI}),gas_price:le(),metadata:Z_,pending_stake:le(),pending_withdraw:le(),stake_amount:le(),voting_power:ks(le())}),gI=re({type:le(),fields:pI}),yI=re({active_validators:xe(gI),next_epoch_validators:xe(Z_),pending_delegation_switches:nt(X_),pending_removals:xe(he()),pending_validators:xe(he()),quorum_stake_threshold:nt(le()),total_delegation_stake:le(),total_validator_stake:le()}),mI=re({chain_id:nt(he()),epoch:le(),protocol_version:nt(le()),epoch_start_timestamp_ms:nt(le()),safe_mode:xi(),id:re({id:le()}),parameters:nI,reference_gas_price:le(),stake_subsidy:re({type:le(),fields:re({balance:le(),current_epoch_amount:le(),epoch_counter:le()})}),storage_fund:le(),sui_supply:re({type:le(),fields:re({value:le()})}),validator_report_records:X_,validators:re({type:le(),fields:yI})});re({dataType:Ut("moveObject"),type:le(),has_public_transfer:xi(),fields:mI});var wI=re({coinType:le(),coinObjectId:Pn,version:he(),digest:pr,balance:he(),lockedUntilEpoch:ks(he()),previousTransaction:nt(pr)}),Pg=re({data:xe(wI),nextCursor:pt([Pn,Ut(null)])}),Ug=re({coinType:le(),coinObjectCount:he(),totalBalance:he(),lockedBalance:re({epochId:nt(he()),number:nt(he())})}),_I=re({value:he()}),bI=re({computation_cost:he(),storage_cost:he(),storage_rebate:he()}),vI=le(),xI=le(),SI=re({next_epoch_committee:xe(wa([le(),he()])),next_epoch_protocol_version:he(),root_state_digest:nt(xe(he()))}),Og=re({epoch:he(),sequence_number:he(),network_total_transactions:he(),content_digest:vI,previous_digest:pt([xI,Ut(null)]),epoch_rolling_gas_cost_summary:bI,end_of_epoch_data:pt([SI,Ut(null)]),timestamp_ms:pt([he(),Ut(null)]),version_specific_data:nt(xe(he()))}),TI=re({transaction:pr,effects:TB}),Cg=re({transactions:xe(TI),user_signatures:xe(le())}),AI=pt([Ut("DynamicField"),Ut("DynamicObject")]),EI=re({type:le(),value:us()}),kI=re({name:pt([EI,le()]),type:AI,objectType:le(),objectId:Pn,version:he(),digest:le()}),BI=re({data:xe(kI),nextCursor:pt([Pn,Ut(null)])}),RI=(t,e)=>{const n=new URL(t);return n.protocol=n.protocol.replace("http","ws"),e&&(n.port=e.toString()),n.toString()},II=t=>t&&"subscription"in t&&typeof t.subscription=="number"&&"result"in t&&typeof t.result=="object",Y_={connectTimeout:15e3,callTimeout:3e4,reconnectInterval:3e3,maxReconnects:5},$g="sui_subscribeEvent",PI="sui_unsubscribeEvent",UI=class{constructor(t,e,n=Y_){this.endpoint=t,this.skipValidation=e,this.options=n,this.connectionState=0,this.connectionTimeout=null,this.isSetup=!1,this.connectionPromise=null,this.eventSubscriptions=new Map,this.endpoint.startsWith("http")&&(this.endpoint=RI(this.endpoint)),this.rpcClient=new A_(this.endpoint,{reconnect_interval:this.options.reconnectInterval,max_reconnects:this.options.maxReconnects,autoconnect:!1})}setupSocket(){this.isSetup||(this.rpcClient.on("open",()=>{this.connectionTimeout&&(clearTimeout(this.connectionTimeout),this.connectionTimeout=null),this.connectionState=2,this.rpcClient.socket.on("message",this.onSocketMessage.bind(this))}),this.rpcClient.on("close",()=>{this.connectionState=0}),this.rpcClient.on("error",console.error),this.isSetup=!0)}onSocketMessage(t){const e=JSON.parse(t),n=e.params;if(e.method===$g){if(this.skipValidation&&II(n)){const r=this.eventSubscriptions.get(n.subscription);r&&r.onMessage(n.result)}else if(Tr(n,QB)){const r=this.eventSubscriptions.get(n.subscription);r&&r.onMessage(n.result)}}}connect(){return Ae(this,null,function*(){return this.connectionPromise?this.connectionPromise:this.connectionState===2?Promise.resolve():(this.setupSocket(),this.rpcClient.connect(),this.connectionState=1,this.connectionPromise=new Promise((t,e)=>{this.connectionTimeout=setTimeout(()=>e(new Error("timeout")),this.options.connectTimeout),this.rpcClient.once("open",()=>{this.refreshSubscriptions(),this.connectionPromise=null,t()}),this.rpcClient.once("error",n=>{this.connectionPromise=null,e(n)})}),this.connectionPromise)})}refreshSubscriptions(){return Ae(this,null,function*(){if(this.eventSubscriptions.size!==0)try{let t=new Map;(yield Promise.all(Array.from(this.eventSubscriptions.values()).map(n=>Ae(this,null,function*(){const r=n.onMessage,i=n.filter;return!i||!r?Promise.resolve(null):{id:yield this.subscribeEvent(i,r),onMessage:r,filter:i}})))).forEach(n=>{if(n===null)return;const r=n.filter,i=n.onMessage;t.set(n.id,{filter:r,onMessage:i})}),this.eventSubscriptions=t}catch(t){throw new Error(`error refreshing event subscriptions: ${t}`)}})}subscribeEvent(t,e){return Ae(this,null,function*(){try{this.connectionState!==2&&(yield this.connect());let n=yield this.rpcClient.call($g,[t],this.options.callTimeout);return this.eventSubscriptions.set(n,{filter:t,onMessage:e}),n}catch(n){throw new Error(`Error subscribing to event: ${JSON.stringify(n,null,2)}, filter: ${JSON.stringify(t)}`)}})}unsubscribeEvent(t){return Ae(this,null,function*(){try{this.connectionState!==2&&(yield this.connect());let e=yield this.rpcClient.call(PI,[t],this.options.callTimeout);return this.eventSubscriptions.delete(t)||e}catch(e){throw new Error(`Error unsubscribing from event: ${e}, subscription: ${t}`)}})}},OI=class extends Error{};function CI(t,e,n){return Ae(this,null,function*(){const r=yield b_(t,{method:"POST",body:JSON.stringify({FixedAmountRequest:{recipient:e}}),headers:Cs({"Content-Type":"application/json"},n||{})});if(r.status===429)throw new OI("Too many requests from this client have been sent to the faucet. Please retry later");let i;try{i=yield r.json()}catch(s){throw new Error(`Ecountered error when parsing response from faucet, error: ${s}, status ${r.status}, response ${r}`)}if(i.error)throw new Error(`Faucet returns error: ${i.error}`);return i})}var of="Move call argument serialization error:",$I="ascii",MI="String",qI="string",NI="String",DI="option",LI="Option",HI={address:Yu,module:OR,name:CR},zI={address:Ah,module:$I,name:MI},FI={address:Ah,module:qI,name:NI},jI={address:Ah,module:DI,name:LI},Mg=t=>e=>typeof e===t,eu=(t,e)=>t.address===e.address&&t.module===e.module&&t.name===e.name,af=class{constructor(t){this.provider=t}extractObjectIds(t){return Ae(this,null,function*(){return(yield this.serializeMoveCallArguments(t)).map(n=>"ObjVec"in n?Array.from(n.ObjVec).map(r=>({Object:r})):n).flat().map(n=>{if("Object"in n){const r=n.Object;return"Shared"in r?r.Shared.objectId:r.ImmOrOwned.objectId}return null}).filter(n=>n!=null)})}serializeMoveCallArguments(t){return Ae(this,null,function*(){const e=yield this.extractNormalizedFunctionParams(t.packageObjectId,t.module,t.function);if(e.length!==t.arguments.length)throw new Error(`${of} expect ${e.length} arguments, received ${t.arguments.length} arguments`);return Promise.all(e.map((n,r)=>Ae(this,null,function*(){return this.newCallArg(n,t.arguments[r])})))})}deserializeCallArgs(t){return Ae(this,null,function*(){const e=yield this.extractNormalizedFunctionParams(t.Call.package,t.Call.module,t.Call.function);return Promise.all(e.map((n,r)=>Ae(this,null,function*(){return this.deserializeCallArg(n,t.Call.arguments[r])})))})}extractNormalizedFunctionParams(t,e,n){return Ae(this,null,function*(){const i=(yield this.provider.getNormalizedMoveFunction(es(typeof t=="string"?t:t.objectId),e,n)).parameters;return i.length>0&&this.isTxContext(i.at(-1))?i.slice(0,i.length-1):i})}newObjectArg(t){return Ae(this,null,function*(){const e=yield this.provider.getObject(t),n=LB(e),r=!0;return n?{Shared:{objectId:t,initialSharedVersion:n,mutable:r}}:{ImmOrOwned:vh(e)}})}newCallArg(t,e){return Ae(this,null,function*(){if(NR(e))return e;const n=this.getPureSerializationType(t,e),r=yield this.provider.getRpcApiVersion();if(n!==void 0)return{Pure:Ma(r).ser(n,e).toBytes()};if(Rg(t)!=null||typeof t=="object"&&"TypeParameter"in t){if(typeof e!="string")throw new Error(`${of} expect the argument to be an object id string, got ${JSON.stringify(e,null,2)}`);return{Object:yield this.newObjectArg(e)}}if(typeof t=="object"&&"Vector"in t&&typeof t.Vector=="object"&&"Struct"in t.Vector){if(!Array.isArray(e))throw new Error(`Expect ${e} to be a array, received ${typeof e}`);return{ObjVec:yield Promise.all(e.map(s=>this.newObjectArg(s)))}}throw new Error(`Unknown call arg type ${JSON.stringify(t,null,2)} for value ${JSON.stringify(e,null,2)}`)})}extractIdFromObjectArg(t){return"ImmOrOwned"in t?t.ImmOrOwned.objectId:t.Shared.objectId}deserializeCallArg(t,e){return Ae(this,null,function*(){if("Object"in e)return this.extractIdFromObjectArg(e.Object);if("ObjVec"in e)return Array.from(e.ObjVec).map(i=>this.extractIdFromObjectArg(i));const n=this.getPureSerializationType(t,void 0),r=yield this.provider.getRpcApiVersion();return Ma(r).de(n,Uint8Array.from(e.Pure))})}getPureSerializationType(t,e){if(typeof t=="string"&&["Address","Bool","U8","U16","U32","U64","U128","U256"].includes(t))return t in["U8","U16","U32","U64","U128","U256"]?this.checkArgVal(Mg("number"),e,"number"):t==="Bool"?this.checkArgVal(Mg("boolean"),e,"boolean"):t==="Address"&&this.checkArgVal(r=>typeof r=="string"&&gi(r),e,"valid SUI address"),t.toLowerCase();if(typeof t=="string")throw new Error(`${of} unknown pure normalized type ${JSON.stringify(t,null,2)}`);if("Vector"in t){if((e===void 0||typeof e=="string")&&t.Vector==="U8")return"string";if(e!==void 0&&!Array.isArray(e))throw new Error(`Expect ${e} to be a array, received ${typeof e}`);const r=this.getPureSerializationType(t.Vector,e?e[0]:void 0);return r===void 0?void 0:`vector<${r}>`}if("Struct"in t){if(eu(t.Struct,zI))return"string";if(eu(t.Struct,FI))return"utf8string";if(eu(t.Struct,HI))return"address";if(eu(t.Struct,jI)){const r={Vector:t.Struct.type_arguments[0]};return this.getPureSerializationType(r,e)}}}checkArgVal(t,e,n){if(e!==void 0&&!t(e))throw new Error(`Expect ${e} to be ${n}, received ${typeof e}`)}isTxContext(t){var e;const n=(e=Rg(t))==null?void 0:e.Struct;return j_(t)!=null&&(n==null?void 0:n.address)==="0x2"&&(n==null?void 0:n.module)==="tx_context"&&(n==null?void 0:n.name)==="TxContext"}},WI=/^vector<(.+)>$/,GI=/^([^:]+)::([^:]+)::([^<]+)(<(.+)>)?/,so=class{static parseFromStr(t,e=!1){if(t==="address")return{address:null};if(t==="bool")return{bool:null};if(t==="u8")return{u8:null};if(t==="u16")return{u16:null};if(t==="u32")return{u32:null};if(t==="u64")return{u64:null};if(t==="u128")return{u128:null};if(t==="u256")return{u256:null};if(t==="signer")return{signer:null};const n=t.match(WI);if(n)return{vector:so.parseFromStr(n[1],e)};const r=t.match(GI);if(r)return{struct:{address:e?ci(r[1]):r[1],module:r[2],name:r[3],typeParams:r[5]===void 0?[]:so.parseStructTypeArgs(r[5],e)}};throw new Error(`Encountered unexpected token when parsing type args for ${t}`)}static parseStructTypeArgs(t,e=!1){const n=[];let r="",i=0;for(let s=0;s<t.length;s++){const o=t[s];if(o==="<"&&i++,o===">"&&i--,i===0&&o===","){n.push(r.trim()),r="";continue}r+=o}return n.push(r.trim()),n.map(s=>so.parseFromStr(s,e))}static tagToString(t){if("bool"in t)return"bool";if("u8"in t)return"u8";if("u16"in t)return"u16";if("u32"in t)return"u32";if("u64"in t)return"u64";if("u128"in t)return"u128";if("u256"in t)return"u256";if("address"in t)return"address";if("signer"in t)return"signer";if("vector"in t)return`vector<${so.tagToString(t.vector)}>`;if("struct"in t){const e=t.struct,n=e.typeParams.map(so.tagToString).join(", ");return`${e.address}::${e.module}::${e.name}${n?`<${n}>`:""}`}throw new Error("Invalid TypeTag")}},VI=class{constructor(t){this.provider=t}getRpcApiVersion(){return Ae(this,null,function*(){return yield this.provider.getRpcApiVersion()})}serializeToBytes(t,e,n="Commit"){return Ae(this,null,function*(){try{return yield this.serializeTransactionData(yield this.constructTransactionData(t,e))}catch(r){throw new Error(`Encountered error when serializing a ${e.kind} transaction for address ${t} for transaction ${JSON.stringify(e,null,2)}: ${r}`)}})}serializeToBytesWithoutGasInfo(t,e){return Ae(this,null,function*(){try{return yield this.serializeTransactionKind((yield this.constructTransactionKindAndPayment(t,e))[0])}catch(n){throw new Error(`Encountered error when serializing a ${e.kind} transaction without gas info for address ${t} for transaction ${JSON.stringify(e,null,2)}: ${n}`)}})}constructTransactionKindAndPayment(t,e){return Ae(this,null,function*(){let n,r;switch(e.kind){case"transferObject":const i=e.data,s=yield this.provider.getObjectRef(i.objectId);n={TransferObject:{recipient:i.recipient,object_ref:s}},r=i.gasPayment;break;case"transferSui":const o=e.data;n={TransferSui:{recipient:o.recipient,amount:o.amount==null?{None:null}:{Some:o.amount}}},r=o.suiObjectId;break;case"pay":const a=e.data;n={Pay:{coins:(yield Promise.all(a.inputCoins.map(B=>this.provider.getObjectRef(B)))).map(B=>B),recipients:a.recipients,amounts:a.amounts}},r=a.gasPayment;break;case"paySui":const u=e.data;n={PaySui:{coins:(yield Promise.all(u.inputCoins.map(B=>this.provider.getObjectRef(B)))).map(B=>B),recipients:u.recipients,amounts:u.amounts}},r=u.inputCoins[0];break;case"payAllSui":const d=e.data;n={PayAllSui:{coins:(yield Promise.all(d.inputCoins.map(B=>this.provider.getObjectRef(B)))).map(B=>B),recipient:d.recipient}},r=d.inputCoins[0];break;case"moveCall":const y=e.data;n={Call:{package:es(y.packageObjectId),module:y.module,function:y.function,typeArguments:y.typeArguments.map(B=>typeof B=="string"?so.parseFromStr(B,!0):B),arguments:yield new af(this.provider).serializeMoveCallArguments(y)}},r=y.gasPayment;break;case"mergeCoin":const T=e.data;return this.constructTransactionKindAndPayment(t,{kind:"moveCall",data:{packageObjectId:Yu,module:kg,function:MR,typeArguments:[yield this.getCoinStructTag(T.coinToMerge)],arguments:[T.primaryCoin,T.coinToMerge],gasPayment:T.gasPayment,gasBudget:T.gasBudget}});case"splitCoin":const k=e.data;return this.constructTransactionKindAndPayment(t,{kind:"moveCall",data:{packageObjectId:Yu,module:kg,function:$R,typeArguments:[yield this.getCoinStructTag(k.coinObjectId)],arguments:[k.coinObjectId,k.splitAmounts],gasPayment:k.gasPayment,gasBudget:k.gasBudget}});case"publish":const O=e.data;n={Publish:{modules:O.compiledModules}},r=O.gasPayment;break}return[{Single:n},r]})}constructTransactionData(t,e){return Ae(this,null,function*(){const[n,r]=yield this.constructTransactionKindAndPayment(t,e);return this.constructTransactionDataHelper(n,e,r,t)})}selectGasPaymentForTransaction(t,e){return Ae(this,arguments,function*(n,r,i=[]){if(n.kind==="bytes")return;const s=BigInt(n.data.gasBudget)*BigInt(n.data.gasPrice),o=yield this.provider.selectCoinsWithBalanceGreaterThanOrEqual(r,s,Ju,i.concat(yield this.extractObjectIds(n)));return o.length>0?vt.getID(o[0]):void 0})}extractObjectIds(t){return Ae(this,null,function*(){const e=yield this.extractInputObjectIds(t);return"gasPayment"in t.data&&t.data.gasPayment&&e.push(t.data.gasPayment),e})}extractInputObjectIds(t){return Ae(this,null,function*(){switch(t.kind){case"moveCall":return yield new af(this.provider).extractObjectIds(t.data);case"transferSui":return[t.data.suiObjectId];case"transferObject":return[t.data.objectId];case"mergeCoin":return[t.data.primaryCoin,t.data.coinToMerge];case"splitCoin":return[t.data.coinObjectId];case"pay":return t.data.inputCoins}return[]})}getCoinStructTag(t){return Ae(this,null,function*(){const e=yield this.provider.getObject(t),n=vt.getCoinTypeArg(e);if(n==null)throw new Error(`Object ${t} is not a valid coin type`);return{struct:vt.getCoinStructTag(n)}})}constructTransactionDataHelper(t,e,n,r){return Ae(this,null,function*(){if(e.data.gasPrice=yield this.provider.getReferenceGasPrice(),n===void 0&&(n=yield this.selectGasPaymentForTransaction(e,r),n===void 0))throw new Error(`Unable to select a gas object with balance greater than or equal to ${e.data.gasBudget}`);const i=yield this.provider.getObjectRef(n);if(!e.data.gasBudget)throw new Error("Must provide a valid gas budget for contructing TransactionData");return{kind:t,sender:r,gasData:{payment:i,price:e.data.gasPrice,budget:e.data.gasBudget,owner:r},expiration:{None:null}}})}serializeTransactionData(t,e=8192){return Ae(this,null,function*(){return Ma(yield this.provider.getRpcApiVersion()).ser("TransactionData",t,e).toBytes()})}serializeTransactionKind(t,e=8192){return Ae(this,null,function*(){return Ma(yield this.provider.getRpcApiVersion()).ser("TransactionKind",t,e).toBytes()})}deserializeTransactionBytesToSignableTransaction(t){return Ae(this,null,function*(){let e=yield this.provider.getRpcApiVersion();return this.transformTransactionDataToSignableTransaction(DR(Ma(e),t))})}transformTransactionDataToSignableTransaction(t){return Ae(this,null,function*(){return"Single"in t.kind?this.transformTransactionToSignableTransaction(t.kind.Single,t.gasData):Promise.all(t.kind.Batch.map(e=>this.transformTransactionToSignableTransaction(e,t.gasData)))})}transformTransactionToSignableTransaction(t,e){return Ae(this,null,function*(){var n,r,i,s;if("Pay"in t)return{kind:"pay",data:{inputCoins:t.Pay.coins.map(o=>o.objectId),recipients:t.Pay.recipients,amounts:t.Pay.amounts,gasPayment:(n=e.payment)==null?void 0:n.objectId,gasBudget:e.budget,gasOwner:e.owner,gasPrice:e.price}};if("Call"in t)return{kind:"moveCall",data:{packageObjectId:t.Call.package,module:t.Call.module,function:t.Call.function,typeArguments:t.Call.typeArguments,arguments:yield new af(this.provider).deserializeCallArgs(t),gasPayment:(r=e.payment)==null?void 0:r.objectId,gasBudget:e.budget,gasOwner:e.owner,gasPrice:e.price}};if("TransferObject"in t)return{kind:"transferObject",data:{objectId:t.TransferObject.object_ref.objectId,recipient:t.TransferObject.recipient,gasPayment:(i=e.payment)==null?void 0:i.objectId,gasBudget:e.budget,gasOwner:e.owner,gasPrice:e.price}};if("TransferSui"in t)return{kind:"transferSui",data:{suiObjectId:e.payment.objectId,recipient:t.TransferSui.recipient,amount:"Some"in t.TransferSui.amount?t.TransferSui.amount.Some:null,gasBudget:e.budget,gasPrice:e.price}};if("Publish"in t)return{kind:"publish",data:{compiledModules:t.Publish.modules,gasPayment:(s=e.payment)==null?void 0:s.objectId,gasBudget:e.budget,gasOwner:e.owner}};if("PaySui"in t)return{kind:"paySui",data:{inputCoins:t.PaySui.coins.map(o=>o.objectId),recipients:t.PaySui.recipients,amounts:t.PaySui.amounts}};if("PayAllSui"in t)return{kind:"payAllSui",data:{inputCoins:t.PayAllSui.coins.map(o=>o.objectId),recipient:t.PayAllSui.recipient}};throw new Error(`Unsupported transaction type ${t}`)})}},ys,Rh=class{constructor(t){_B(this,ys,void 0),bB(this,ys,t)}get fullnode(){return Yc(this,ys).fullnode}get websocket(){return Yc(this,ys).websocket||Yc(this,ys).fullnode}get faucet(){return Yc(this,ys).faucet}};ys=new WeakMap;new Rh({fullnode:"http://127.0.0.1:9000",faucet:"http://127.0.0.1:9123/gas"});var KI=new Rh({fullnode:"https://fullnode.devnet.sui.io:443/",faucet:"https://faucet.devnet.sui.io/gas"}),XI="0.27.0",qg={skipDataValidation:!0,socketOptions:Y_,versionCacheTimeoutInSeconds:600},ZI=class extends vB{constructor(t=KI,e=qg){var n,r;super(),this.options=e,this.connection=t;const i=Cs(Cs({},qg),e);this.options=i,this.client=(n=i.rpcClient)!=null?n:new SB(this.connection.fullnode),this.wsClient=(r=i.websocketClient)!=null?r:new UI(this.connection.websocket,i.skipDataValidation,i.socketOptions)}getRpcApiVersion(){return Ae(this,null,function*(){var t;if(this.rpcApiVersion&&this.cacheExpiry&&this.cacheExpiry<=Date.now())return this.rpcApiVersion;try{const e=yield this.client.requestWithType("rpc.discover",[],us(),this.options.skipDataValidation);return this.rpcApiVersion=HR(e.info.version),this.cacheExpiry=Date.now()+((t=this.options.versionCacheTimeoutInSeconds)!=null?t:0)*1e3,this.rpcApiVersion}catch(e){console.warn("Error fetching version number of the RPC API",e)}})}requestSuiFromFaucet(t,e){return Ae(this,null,function*(){if(!this.connection.faucet)throw new Error("Faucet URL is not specified");return CI(this.connection.faucet,t,e)})}getCoins(t,e=null,n=null,r=null){return Ae(this,null,function*(){try{if(!t||!gi(ci(t)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getCoins",[t,e,n,r],Pg,this.options.skipDataValidation)}catch(i){throw new Error(`Error getting coins for owner ${t}: ${i}`)}})}getAllCoins(t,e=null,n=null){return Ae(this,null,function*(){try{if(!t||!gi(ci(t)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getAllCoins",[t,e,n],Pg,this.options.skipDataValidation)}catch(r){throw new Error(`Error getting all coins for owner ${t}: ${r}`)}})}getBalance(t,e=null){return Ae(this,null,function*(){try{if(!t||!gi(ci(t)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getBalance",[t,e],Ug,this.options.skipDataValidation)}catch(n){throw new Error(`Error getting balance for coin type ${e} for owner ${t}: ${n}`)}})}getAllBalances(t){return Ae(this,null,function*(){try{if(!t||!gi(ci(t)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getAllBalances",[t],xe(Ug),this.options.skipDataValidation)}catch(e){throw new Error(`Error getting all balances for owner ${t}: ${e}`)}})}getCoinMetadata(t){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getCoinMetadata",[t],qR,this.options.skipDataValidation)}catch(e){throw new Error(`Error fetching CoinMetadata for ${t}: ${e}`)}})}getTotalSupply(t){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getTotalSupply",[t],_I,this.options.skipDataValidation)}catch(e){throw new Error(`Error fetching total supply for Coin type ${t}: ${e}`)}})}call(t,e){return Ae(this,null,function*(){try{const n=yield this.client.request(t,e);if(Tr(n,k_))throw new Error(`RPC Error: ${n.error.message}`);return n.result}catch(n){throw new Error(`Error calling RPC endpoint ${t}: ${n}`)}})}getMoveFunctionArgTypes(t,e,n){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getMoveFunctionArgTypes",[t,e,n],FR,this.options.skipDataValidation)}catch{throw new Error(`Error fetching Move function arg types with package object ID: ${t}, module name: ${e}, function name: ${n}`)}})}getNormalizedMoveModulesByPackage(t){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getNormalizedMoveModulesByPackage",[t],XR,this.options.skipDataValidation)}catch(e){throw new Error(`Error fetching package: ${e} for package ${t}`)}})}getNormalizedMoveModule(t,e){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getNormalizedMoveModule",[t,e],F_,this.options.skipDataValidation)}catch(n){throw new Error(`Error fetching module: ${n} for package ${t}, module ${e}`)}})}getNormalizedMoveFunction(t,e,n){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getNormalizedMoveFunction",[t,e,n],H_,this.options.skipDataValidation)}catch(r){throw new Error(`Error fetching function: ${r} for package ${t}, module ${e} and function ${n}`)}})}getNormalizedMoveStruct(t,e,n){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getNormalizedMoveStruct",[t,e,n],z_,this.options.skipDataValidation)}catch(r){throw new Error(`Error fetching struct: ${r} for package ${t}, module ${e} and struct ${n}`)}})}getObjectsOwnedByAddress(t){return Ae(this,null,function*(){try{if(!t||!gi(ci(t)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getObjectsOwnedByAddress",[t],MB,this.options.skipDataValidation)}catch(e){throw new Error(`Error fetching owned object: ${e} for address ${t}`)}})}getGasObjectsOwnedByAddress(t){return Ae(this,null,function*(){return(yield this.getObjectsOwnedByAddress(t)).filter(n=>vt.isSUI(n))})}getCoinBalancesOwnedByAddress(t,e){return Ae(this,null,function*(){const r=(yield this.getObjectsOwnedByAddress(t)).filter(i=>vt.isCoin(i)&&(e===void 0||e===vt.getCoinTypeArg(i))).map(i=>i.objectId);return yield this.getObjectBatch(r)})}selectCoinsWithBalanceGreaterThanOrEqual(t,e){return Ae(this,arguments,function*(n,r,i=Ju,s=[]){const a=(yield this.getCoins(n,i)).data.map(u=>u.coinObjectId),c=yield this.getObjectBatch(a);return yield vt.selectCoinsWithBalanceGreaterThanOrEqual(c,r,s)})}selectCoinSetWithCombinedBalanceGreaterThanOrEqual(t,e){return Ae(this,arguments,function*(n,r,i=Ju,s=[]){const a=(yield this.getCoins(n,i)).data.map(u=>u.coinObjectId),c=yield this.getObjectBatch(a);return yield vt.selectCoinSetWithCombinedBalanceGreaterThanOrEqual(c,r,s)})}getObject(t){return Ae(this,null,function*(){try{if(!t||!Jc(es(t)))throw new Error("Invalid Sui Object id");return yield this.client.requestWithType("sui_getObject",[t],rf,this.options.skipDataValidation)}catch(e){throw new Error(`Error fetching object info: ${e} for id ${t}`)}})}getObjectRef(t){return Ae(this,null,function*(){const e=yield this.getObject(t);return vh(e)})}getObjectBatch(t){return Ae(this,null,function*(){try{const e=t.map(n=>{if(!n||!Jc(es(n)))throw new Error(`Invalid Sui Object id ${n}`);return{method:"sui_getObject",args:[n]}});return yield this.client.batchRequestWithType(e,rf,this.options.skipDataValidation)}catch(e){throw new Error(`Error fetching object info: ${e} for ids [${t}]`)}})}getTransactions(t,e=null,n=null,r="descending"){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getTransactions",[t,e,n,r==="descending"],sf,this.options.skipDataValidation)}catch(i){throw new Error(`Error getting transactions for query: ${i} for query ${t}`)}})}getTransactionsForObject(t,e=!0){return Ae(this,null,function*(){const n=[{method:"sui_getTransactions",args:[{InputObject:t},null,null,e]},{method:"sui_getTransactions",args:[{MutatedObject:t},null,null,e]}];try{if(!t||!Jc(es(t)))throw new Error("Invalid Sui Object id");const r=yield this.client.batchRequestWithType(n,sf,this.options.skipDataValidation);return[...r[0].data,...r[1].data]}catch(r){throw new Error(`Error getting transactions for object: ${r} for id ${t}`)}})}getTransactionsForAddress(t,e=!0){return Ae(this,null,function*(){const n=[{method:"sui_getTransactions",args:[{ToAddress:t},null,null,e]},{method:"sui_getTransactions",args:[{FromAddress:t},null,null,e]}];try{if(!t||!gi(ci(t)))throw new Error("Invalid Sui address");const r=yield this.client.batchRequestWithType(n,sf,this.options.skipDataValidation);return[...r[0].data,...r[1].data]}catch(r){throw new Error(`Error getting transactions for address: ${r} for id ${t}`)}})}getTransactionWithEffects(t){return Ae(this,null,function*(){try{if(!Ag(t))throw new Error("Invalid Transaction digest");return yield this.client.requestWithType("sui_getTransaction",[t],Xf,this.options.skipDataValidation)}catch(e){throw new Error(`Error getting transaction with effects: ${e} for digest ${t}`)}})}getTransactionWithEffectsBatch(t){return Ae(this,null,function*(){try{const e=t.map(n=>{if(!Ag(n))throw new Error(`Invalid Transaction digest ${n}`);return{method:"sui_getTransaction",args:[n]}});return yield this.client.batchRequestWithType(e,Xf,this.options.skipDataValidation)}catch(e){throw new Error(`Error getting transaction effects: ${e} for digests [${t}]`)}})}executeTransaction(t,e,n="WaitForEffectsCert"){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_executeTransactionSerializedSig",[typeof t=="string"?t:_s(t),e,n],PR,this.options.skipDataValidation)}catch(r){throw new Error(`Error executing transaction with request type: ${r}`)}})}getTotalTransactionNumber(){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getTotalTransactionNumber",[],he(),this.options.skipDataValidation)}catch(t){throw new Error(`Error fetching total transaction number: ${t}`)}})}getTransactionDigestsInRange(t,e){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getTransactionsInRange",[t,e],SR,this.options.skipDataValidation)}catch(n){throw new Error(`Error fetching transaction digests in range: ${n} for range ${t}-${e}`)}})}getReferenceGasPrice(){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getReferenceGasPrice",[],he(),this.options.skipDataValidation)}catch(t){throw new Error(`Error getting the reference gas price ${t}`)}})}getDelegatedStakes(t){return Ae(this,null,function*(){try{if(!t||!gi(ci(t)))throw new Error("Invalid Sui address");return yield this.client.requestWithType("sui_getDelegatedStakes",[t],xe(eI),this.options.skipDataValidation)}catch(e){throw new Error(`Error in getDelegatedStake: ${e}`)}})}getValidators(){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getValidators",[],xe(kh),this.options.skipDataValidation)}catch(t){throw new Error(`Error in getValidators: ${t}`)}})}getSuiSystemState(){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getSuiSystemState",[],uI,this.options.skipDataValidation)}catch(t){throw new Error(`Error in getSuiSystemState: ${t}`)}})}getEvents(t,e,n,r="descending"){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getEvents",[t,e,n,r==="descending"],YB,this.options.skipDataValidation)}catch(i){throw new Error(`Error getting events for query: ${i} for query ${t}`)}})}subscribeEvent(t,e){return Ae(this,null,function*(){return this.wsClient.subscribeEvent(t,e)})}unsubscribeEvent(t){return Ae(this,null,function*(){return this.wsClient.unsubscribeEvent(t)})}devInspectTransaction(t,e,n=null,r=null){return Ae(this,null,function*(){try{let i;return typeof e=="string"?i=e:e instanceof Uint8Array?i=_s(e):i=_s(yield new VI(this).serializeToBytesWithoutGasInfo(t,e)),yield this.client.requestWithType("sui_devInspectTransaction",[t,i,n,r],_R,this.options.skipDataValidation)}catch(i){throw new Error(`Error dev inspect transaction with request type: ${i}`)}})}dryRunTransaction(t){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_dryRunTransaction",[_s(t)],kc,this.options.skipDataValidation)}catch(e){throw new Error(`Error dry running transaction with request type: ${e}`)}})}getDynamicFields(t,e=null,n=null){return Ae(this,null,function*(){try{if(!t||!Jc(es(t)))throw new Error("Invalid Sui Object id");return yield this.client.requestWithType("sui_getDynamicFields",[t,e,n],BI,this.options.skipDataValidation)}catch(r){throw new Error(`Error getting dynamic fields with request type: ${r} for parent_object_id: ${t}, cursor: ${e} and limit: ${n}.`)}})}getDynamicFieldObject(t,e){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getDynamicFieldObject",[t,e],rf,this.options.skipDataValidation)}catch(n){throw new Error(`Error getting dynamic field object with request type: ${n} for parent_object_id: ${t} and name: ${e}.`)}})}getLatestCheckpointSequenceNumber(){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getLatestCheckpointSequenceNumber",[],he(),this.options.skipDataValidation)}catch(t){throw new Error(`Error fetching latest checkpoint sequence number: ${t}`)}})}getCheckpointSummary(t){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getCheckpointSummary",[t],Og,this.options.skipDataValidation)}catch(e){throw new Error(`Error getting checkpoint summary with request type: ${e} for sequence number: ${t}.`)}})}getCheckpointSummaryByDigest(t){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getCheckpointSummaryByDigest",[t],Og,this.options.skipDataValidation)}catch(e){throw new Error(`Error getting checkpoint summary with request type: ${e} for digest: ${t}.`)}})}getCheckpointContents(t){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getCheckpointContents",[t],Cg,this.options.skipDataValidation)}catch(e){throw new Error(`Error getting checkpoint contents with request type: ${e} for sequence number: ${t}.`)}})}getCheckpointContentsByDigest(t){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getCheckpointContentsByDigest",[t],Cg,this.options.skipDataValidation)}catch(e){throw new Error(`Error getting checkpoint summary with request type: ${e} for digest: ${t}.`)}})}getCommitteeInfo(t){return Ae(this,null,function*(){try{return yield this.client.requestWithType("sui_getCommitteeInfo",[t],sI)}catch(e){throw new Error(`Error getCommitteeInfo : ${e}`)}})}};ci("0x5");function YI(t){return t.startsWith("0x")?t:`0x${t}`}function Rn(t){var e;let n=t.replace(/\s/g,"");const r=n.match(/(<.+>)$/),i=(e=r==null?void 0:r[0])==null?void 0:e.match(/(\w+::\w+::\w+)(?:<.*?>(?!>))?/g);if(i)return n=n.slice(0,n.indexOf("<")),{...Rn(n),type_arguments:[...i]};const s=n.split("::"),o={full_address:n,address:s[2]==="SUI"?"0x2":es(s[0]),module:s[1],name:s[2],type_arguments:[]};return o.full_address=`${o.address}::${o.module}::${o.name}`,o}function JI(t,e,n){const r=Rn(t).name,i=Rn(e).name;return`${r}-${i}[${n}]`}function Ng(t){const e=xh(t),n=Rn(e),r=pd(t),i={poolAddress:hd(t),poolType:e,coinTypeA:n.type_arguments[0],coinTypeB:n.type_arguments[1],coinAmountA:r.coin_a,coinAmountB:r.coin_b,current_sqrt_price:r.current_sqrt_price,current_tick_index:Number(BigInt.asIntN(64,BigInt(r.current_tick_index.fields.bits)).toString()),fee_growth_global_a:r.fee_growth_global_a,fee_growth_global_b:r.fee_growth_global_b,fee_protocol_coin_a:r.fee_protocol_coin_a,fee_protocol_coin_b:r.fee_protocol_coin_b,fee_rate:r.fee_rate,is_pause:r.is_pause,liquidity:r.liquidity,positionIndex:r.position_index,positions_handle:r.positions.fields.id.id,protocol_fee_rate:r.protocol_fee_rate,rewarder_infos:r.rewarder_infos,rewarder_last_updated_time:r.rewarder_last_updated_time,tick_indexes_handle:r.tick_indexes.fields.id.id,tickSpacing:r.tick_spacing,ticks_handle:r.ticks.fields.id.id,uri:r.uri,rewarder_balances:r.rewarder_balances.fields.id.id,name:""};return i.name=JI(i.coinTypeA,i.coinTypeB,i.tickSpacing),i}function Dg(t){const e=xh(t),n=pd(t),r={amount_owed:0,growth_inside:0};let i=[r,r,r];return n.rewarder_infos.length>0&&(i=n.rewarder_infos),{pos_object_id:hd(t),type:e,uri:n.url,liquidity:n.liquidity,tick_lower_index:BigInt.asIntN(64,BigInt(n.tick_lower_index.fields.bits)).toString(),tick_upper_index:BigInt.asIntN(64,BigInt(n.tick_upper_index.fields.bits)).toString(),fee_growth_inside_a:n.fee_growth_inside_a,fee_owed_a:n.fee_owed_a,fee_growth_inside_b:n.fee_growth_inside_b,fee_owed_b:n.fee_owed_b,index:n.index,pool:n.pool,name:n.name,reward_amount_owed_0:i[0].amount_owed,reward_amount_owed_1:i[1].amount_owed,reward_amount_owed_2:i[2].amount_owed,reward_growth_inside_0:i[0].growth_inside,reward_growth_inside_1:i[1].growth_inside,reward_growth_inside_2:i[2].growth_inside}}function cf(t){const e=pd(t),n=e.value.fields;return{objectId:hd(t),index:BigInt.asIntN(64,BigInt(e.name.fields.bits)).toString(),sqrtPrice:new I(n.sqrt_price),liquidityNet:new I(n.liquidity_net.fields.bits),liquidityGross:new I(n.liquidity_gross),feeGrowthOutsideA:new I(n.fee_growth_outside_a),feeGrowthOutsideB:new I(n.fee_growth_outside_b),rewardersGrowthOutside:n.rewarders_growth_outside}}function QI(t){return{objectId:"",index:BigInt.asIntN(64,BigInt(t.index.fields.bits)).toString(),sqrtPrice:new I(t.sqrt_price),liquidityNet:new I(t.liquidity_net.fields.bits),liquidityGross:new I(t.liquidity_gross),feeGrowthOutsideA:new I(t.fee_growth_outside_a),feeGrowthOutsideB:new I(t.fee_growth_outside_b),rewardersGrowthOutside:t.rewarders_growth_outside}}var Xi="pool_script",J_="fetcher_script",wu=2500,Qu=15e3,eP=/^(.+)::i64::I64 {bits: (.+)u64}$/,tP=class{constructor(t){this._sdk=t}get sdk(){return this._sdk}creatPoolTransactionPayload(t,e=Qu){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=n.config;if(r===null)throw Error("eventConfig is null");const i=r.global_config_id,s=r.pools_id,o=t.amount_a>0&&t.amount_b>0,a=[t.coinTypeA,t.coinTypeB],c=o?[s,i,t.tick_spacing.toString(),t.initialize_sqrt_price,t.uri,t.coin_object_ids_a,t.coin_object_ids_b,BigInt.asUintN(64,BigInt(t.tick_lower)).toString(),BigInt.asUintN(64,BigInt(t.tick_upper)).toString(),t.amount_a.toString(),t.amount_b.toString(),t.fix_amount_a]:[s,i,t.tick_spacing,t.initialize_sqrt_price,t.uri];return{packageObjectId:n.cetus_integrate,module:Xi,function:o?"create_and_add_liquidity_fix_token":"create_pool",gasBudget:e,typeArguments:a,arguments:c}}async fetchTicks(t){let e=[],n=0,r=0;const i=512;for(;;){const s=await this.getTicks({pool_id:t.pool_id,coinTypeA:t.coinTypeA,coinTypeB:t.coinTypeB,index:n,offset:r,limit:i});if(e=[...e,...s.ticks],s.ticks.length<i)break;s.offset<999?(r=s.offset+1,n=s.index):(n=s.index+1,r=0)}return e}async getTicks(t){var e;const{modules:n,simulationAccount:r}=this.sdk.sdkOptions.networkOptions,i=[],s=[t.coinTypeA,t.coinTypeB],o=[t.pool_id,t.index.toString(),t.offset.toString(),t.limit.toString()];let a=0,c=0;const u={packageObjectId:n.cetus_integrate,module:J_,function:"fetch_ticks",gasBudget:1e4,typeArguments:s,arguments:o};return console.log("payload: ",u),(e=(await this.sdk.fullClient.devInspectTransaction(r.address,{kind:"moveCall",data:u})).effects.events)==null||e.forEach(d=>{if("moveEvent"in d&&Rn(d.moveEvent.type).name==="FetchTicksResultEvent"){const{fields:h}=d.moveEvent;a=Number(h.index),c=Number(h.offset),d.moveEvent.fields.ticks.forEach(y=>{i.push(QI(y.fields))})}}),{ticks:i,index:a,offset:c}}async fetchTicksByRpc(t){let e=[],n=null;const r=512;for(;;){const i=[],s=await this.sdk.fullClient.getDynamicFields(t,n,r);if(n=s.nextCursor,s.data.forEach(o=>{if(Rn(o.objectType).name==="Tick"){const a=o.name.match(eP);a?i.push({index:BigInt.asIntN(64,BigInt(a[2])).toString(),objectId:o.objectId}):console.log(`transform fail:  ${o} `)}}),e=[...e,...await this.getTicksByRpc(i.map(o=>o.objectId))],n===null||s.data.length<r)break}return e}async getTicksByRpc(t){const e=[],n=await this.sdk.fullClient.getObjectBatch(t);for(const r of n)e.push(cf(r));return e}async getTickDataByIndex(t,e){const r=`${this.sdk.sdkOptions.networkOptions.modules.integer_mate}::i64::I64 {bits: ${BigInt.asUintN(64,BigInt(e)).toString()}u64}`,i=await this.sdk.fullClient.getDynamicFieldObject(t,r);return cf(i)}async getTickDataByObjectId(t){const e=await this.sdk.fullClient.getObject(t);return cf(e)}},nP=class{constructor(t){this._sdk=t}get sdk(){return this._sdk}createAddLiquidityTransactionPayload(t,e=Qu){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=!("delta_liquidity"in t),i=t.is_open,s=r?i?"open_and_add_liquidity_fix_token":"add_liquidity_fix_token":i?"open_and_add_liquidity":"add_liquidity",o=[t.coinTypeA,t.coinTypeB],a=BigInt.asUintN(64,BigInt(t.tick_lower)).toString(),c=BigInt.asUintN(64,BigInt(t.tick_upper)).toString(),u=r?i?[t.pool_id,t.coin_object_ids_a,t.coin_object_ids_b,a,c,t.amount_a.toString(),t.amount_b.toString(),t.fix_amount_a]:[t.pool_id,t.pos_id,t.coin_object_ids_a,t.coin_object_ids_b,t.amount_a.toString(),t.amount_b.toString(),t.fix_amount_a]:i?[t.pool_id,t.coin_object_ids_a,t.coin_object_ids_b,a,c,t.delta_liquidity]:[t.pool_id,t.pos_id,t.coin_object_ids_a,t.coin_object_ids_b,t.delta_liquidity];return{packageObjectId:n.cetus_integrate,module:Xi,function:s,gasBudget:e,typeArguments:o,arguments:u}}removeLiquidityTransactionPayload(t,e=Qu){const{modules:n}=this.sdk.sdkOptions.networkOptions,r="delta_liquidity"in t;let i="remove_liquidity";r||(i=["remove_position","remove_position_for_one","remove_position_for_two","remove_position_for_three"][t.coin_types.length-2]);const o=[...t.coin_types],a=r?[t.pool_id,t.pos_id,t.delta_liquidity,t.min_amount_a,t.min_amount_b]:[t.pool_id,t.pos_id,t.min_amount_a,t.min_amount_b];return{packageObjectId:n.cetus_integrate,module:Xi,function:i,gasBudget:e,typeArguments:o,arguments:a}}closePositionTransactionPayload(t,e=wu){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=[t.coinTypeA,t.coinTypeB],i=[t.pool_id,t.pos_id];return{packageObjectId:n.cetus_integrate,module:Xi,function:"close_position",gasBudget:e,typeArguments:r,arguments:i}}openPositionTransactionPayload(t,e=wu){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=[t.coinTypeA,t.coinTypeB],i=BigInt.asUintN(64,BigInt(t.tick_lower)).toString(),s=BigInt.asUintN(64,BigInt(t.tick_upper)).toString(),o=[t.pool_id,i,s];return{packageObjectId:n.cetus_integrate,module:Xi,function:"open_position",gasBudget:e,typeArguments:r,arguments:o}}collectFeeTransactionPayload(t,e=wu){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=[t.coinTypeA,t.coinTypeB],i=[t.pool_id,t.pos_id];return{packageObjectId:n.cetus_integrate,module:Xi,function:"collect_fee",gasBudget:e,typeArguments:r,arguments:i}}},Q_=class{constructor(t,e=0){this.overdueTime=e,this.value=t}getCacheData(){return this.value===null?null:this.overdueTime===0?this.value:Date.parse(new Date().toString())>this.overdueTime?null:this.value}},rP="0x2::coin::Coin",iP=/^0x2::coin::Coin<(.+)>$/,Lg=1e3,sP=500,oP=100,Hg=100,ln=class{static getCoinTypeArg(t){const e=t.type.match(iP);return e?e[1]:null}static isSUI(t){const e=ln.getCoinTypeArg(t);return e?ln.getCoinSymbol(e)==="SUI":!1}static getCoinSymbol(t){return t.substring(t.lastIndexOf(":")+1)}static getBalance(t){return BigInt(t.fields.balance)}static totalBalance(t,e){let n=BigInt(0);return t.forEach(r=>{e===r.coinAddress&&(n+=BigInt(r.balance))}),n}static getID(t){return t.fields.id.id}static getCoinTypeFromArg(t){return`${rP}<${t}>`}static getFaucetCoins(t){const{events:e}=t.effects,n=[];return e==null||e.forEach(r=>{if("moveEvent"in r){const{type:i}=r.moveEvent;if(Rn(i).name==="InitEvent"){const s=r.moveEvent.fields;n.push({transactionModule:r.moveEvent.transactionModule,address:s.address,suplyID:s.suplyID,decimals:s.decimals})}}}),n.forEach(r=>{e==null||e.forEach(i=>{if("moveEvent"in i){const{type:s}=i.moveEvent,o=Rn(s);if(o.name==="CurrencyCreated"&&r.transactionModule===i.moveEvent.transactionModule){const{fields:a}=i.moveEvent;r.address=o.type_arguments[0],r.decimals=a.decimals}}})}),n}static async transferCoin(t,e,n,r,i){const s=await ln.selectCoin(t,e,n,i);return t.transferObject({objectId:s,gasBudget:oP,recipient:r})}static async transferSui(t,e,n,r,i){const s=await ln.prepareCoinWithEnoughBalance(t,e,n+BigInt(Hg),i);return t.transferSui({suiObjectId:ln.getID(s),gasBudget:Hg,recipient:r,amount:Number(n)})}static getSuiMoveObjects(t,e){const n=ln.getCoinTypeFromArg(t),r=[];return e.forEach(i=>{"type"in i.data&&i.data.type===n&&r.push(i.data)}),r}static getCoinAssets(t,e){const n=[];return e.forEach(r=>{r.coinAddress===t&&n.push(r)}),n}static async selectCoinAssets(t,e,n,r){if(e.length===0)throw new Error("Insufficient balance");return ln.isSuiCoin(e[0].coinAddress)?[await ln.selectCoinAsset(t,e,n,r)]:ln.selectCoinObjectIdGreaterThanOrEqual(e,n)}static isSuiCoin(t){return Rn(t).name==="SUI"}static async selectCoinAsset(t,e,n,r){const i=await ln.prepareCoinAssetWithEnoughBalance(t,e,n,r),s=i.coinObjectId,{balance:o}=i;if(o===n)return s;if(o>n)return await t.splitCoin({coinObjectId:s,gasBudget:Lg,splitAmounts:[Number(o-n)]}),s;throw new Error("Insufficient balance")}static async selectCoin(t,e,n,r){const i=await ln.prepareCoinWithEnoughBalance(t,e,n,r),s=ln.getID(i),o=ln.getBalance(i);if(o===n)return s;if(o>n)return await t.splitCoin({coinObjectId:s,gasBudget:Lg,splitAmounts:[Number(o-n)]}),s;throw new Error("Insufficient balance")}static async prepareCoinWithEnoughBalance(t,e,n,r){var i;e.sort((a,c)=>ln.getBalance(a)-ln.getBalance(c)>0?1:-1);const s=e.find(a=>ln.getBalance(a)>=n);if(s)return s;const o=e[e.length-1];for(let a=e.length-2;a>0;a-=1){await t.mergeCoin({primaryCoin:ln.getID(o),coinToMerge:ln.getID(e[a]),gasBudget:sP});const c=await r.fullClient.getObject(ln.getID(o));if(Number((i=vt.getBalance(c))==null?void 0:i.toString())>=n)return o}return o}static async prepareCoinAssetWithEnoughBalance(t,e,n,r){var i;const s=ln.isSuiCoin(e[0].coinAddress);e.sort((d,h)=>d.balance-h.balance>0?1:-1);const o=e.find(d=>d.balance>=n);if(o)return o;const a=ln.selectCoinAssetGreaterThanOrEqual(e,n),c=a.map(d=>d.coinObjectId);if(s)return await t.payAllSui({inputCoins:c,recipient:await t.getAddress(),gasBudget:1e3}),a[0];const u=await t.pay({inputCoins:c,recipients:[await t.getAddress()],amounts:[Number(n)],gasBudget:1e3}),l=UR(u);if(l!==void 0&&l.created!==void 0){const d=l.created[0].reference.objectId,h=await r.fullClient.getObject(d),y=Number((i=vt.getBalance(h))==null?void 0:i.toString());return{coinAddress:"",coinObjectId:d,balance:BigInt(y)}}throw new Error("prepareCoinAssetWithEnoughBalance fail #{mergeCoinIds} ")}static selectCoinObjectIdGreaterThanOrEqual(t,e,n=[]){return ln.selectCoinAssetGreaterThanOrEqual(t,e,n).map(r=>r.coinObjectId)}static selectCoinAssetGreaterThanOrEqual(t,e,n=[]){const r=ln.sortByBalanceDes(t.filter(a=>!n.includes(a.coinObjectId))),i=ln.calculateTotalBalance(r);if(i<e)return[];if(i===e)return r;let s=BigInt(0);const o=[];for(;s<i;){const a=e-s,c=r.find(l=>l.balance>=a);if(c){o.push(c);break}const u=r.pop();o.push(u),s+=u.balance}return ln.sortByBalance(o)}static sortByBalance(t){return t.sort((e,n)=>e.balance<n.balance?-1:e.balance>n.balance?1:0)}static sortByBalanceDes(t){return t.sort((e,n)=>e.balance>n.balance?-1:e.balance<n.balance?0:1)}static calculateTotalBalance(t){return t.reduce((e,n)=>e+n.balance,BigInt(0))}},aP=5*60*1e3,eo=24*60*60*1e3;function zg(t){return Date.parse(new Date().toString())+t}var cP=class{constructor(t){this._cache={},this._sdk=t}get sdk(){return this._sdk}async getSuiTransactionResponse(t,e=!1){const n=`${t}_getSuiTransactionResponse`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!e)return r.value;const i=await this._sdk.fullClient.getTransactionWithEffects(t);return this.updateCache(n,i,eo),i}async getFaucetEvent(t,e,n=!0){const r=`${t}_${e}_getFaucetEvent`,i=this._cache[r];if(i!==void 0&&i.getCacheData()&&!n)return i.value;const s=(await this._sdk.fullClient.getEvents({MoveEvent:`${t}::faucet::FaucetEvent`},null,null)).data;let o={id:"",time:0};return s.forEach(a=>{const c=a.event;if(YI(e)===c.moveEvent.sender){const{fields:u}=a.event.moveEvent,l={id:u.id,time:Number(u.time)},d=o.time;d>0?l.time>d&&(o=l):o=l}}),o.time>0?(this.updateCache(r,o,eo),o):null}async getInitEvent(t=!1){const e=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,n=`${e}_getInitEvent`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!t)return r.value;const i=await this._sdk.fullClient.getObject(e),s=I_(i),o=(await this._sdk.fullClient.getEvents({Transaction:s},null,null)).data,a={};return o.length>0&&(o.forEach(c=>{if("moveEvent"in c.event){const{fields:u}=c.event.moveEvent;switch(c.event.moveEvent.type){case`${e}::config::InitConfigEvent`:a.initConfigEvent=u;break;case`${e}::partner::InitPartnerEvent`:a.initPartnerEvent=u;break;case`${e}::factory::InitFactoryEvent`:a.initFactoryEvent=u;break}}}),this.updateCache(n,a,eo)),a}async getCreatePartnerEvent(t=!1){const e=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,n=`${e}_getInitEvent`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!t)return r.value;const i=(await this._sdk.fullClient.getEvents({MoveEvent:`${e}::partner::CreatePartnerEvent`},null,null)).data,s=[];return i.length>0&&(i.forEach(o=>{"moveEvent"in o.event&&s.push(o.event.moveEvent.fields)}),this.updateCache(n,s,eo)),s}async getPoolImmutables(t=[],e=0,n=100,r=!1){const i=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,s=`${i}_getInitPoolEvent`,o=this._cache[s],a=[],c=[];if(o!==void 0&&o.getCacheData()&&!r&&a.push(...o.value),a.length===0)try{(await this._sdk.fullClient.getEvents({MoveEvent:`${i}::factory::CreatePoolEvent`},null,null)).data.forEach(d=>{if("moveEvent"in d.event){const{fields:h}=d.event.moveEvent;a.push({poolAddress:h.id,tickSpacing:h.tick_spacing,coinTypeA:Rn(h.coin_type_a).full_address,coinTypeB:Rn(h.coin_type_b).full_address})}}),this.updateCache(s,a,eo)}catch(l){console.log("getPoolImmutables",l)}const u=t.length>0;for(let l=0;l<a.length;l+=1){const d=a[l];if(!(u&&!t.includes(d.poolAddress))){if(!u){const h=Number(l);if(h<e||h>=e+n)continue}c.push(d)}}return c}async getPools(t=[],e=0,n=100){const r=[];let i=[];t.length>0?i=[...t]:(await this.getPoolImmutables([],e,n,!1)).forEach(a=>{i.push(a.poolAddress)});const s=await this.sdk.fullClient.getObjectBatch(i);for(const o of s){const a=Ng(o);r.push(a);const c=`${a.poolAddress}_getPoolObject`;this.updateCache(c,a,eo)}return r}async getPool(t,e=!0){const n=`${t}_getPoolObject`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!e)return r.value;const i=await this._sdk.fullClient.getObject(t),s=Ng(i);return this.updateCache(n,s),s}async getPositionList(t,e=[]){const n=this._sdk.sdkOptions.networkOptions.modules.cetus_clmm,r=[],i=await this._sdk.fullClient.getObjectsOwnedByAddress(t),s=[];i.forEach(c=>{Rn(c.type).full_address===`${n}::pool::Position`&&s.push(c.objectId)});const o=e.length>0,a=await this.sdk.fullClient.getObjectBatch(s);for(const c of a)if(c.status==="Exists"){const u=Dg(c);o?e.includes(u.pool)&&r.push(u):r.push(u)}return r}async getPosition(t){const e=await this.sdk.fullClient.getObject(t);if(e.status==="Exists")return Dg(e)}async getOwnerCoinAssets(t){const e=[];let n=null;for(;;){const r=await this._sdk.fullClient.getAllCoins(t,n,null);if(r.data.forEach(i=>{e.push({coinAddress:i.coinType,coinObjectId:i.coinObjectId,balance:BigInt(i.balance)})}),n=r.nextCursor,n===null)break}return e}async getSuiObjectOwnedByAddress(t){const e=[],r=(await this._sdk.fullClient.getObjectsOwnedByAddress(t)).map(s=>s.objectId);return(await this._sdk.fullClient.getObjectBatch(r)).forEach(s=>{const o=Ec(s);if(o){const a=o.data,c=ln.getCoinTypeArg(a),u=vt.getBalance(a),l={coinAddress:c,balance:u,...o};e.push(l)}}),e}updateCache(t,e,n=aP){let r=this._cache[t];r?(r.overdueTime=zg(n),r.value=e):r=new Q_(e,zg(n)),this._cache[t]=r}};je.config({precision:64,rounding:je.ROUND_DOWN,toExpNeg:-64,toExpPos:64});var Ar=je,Un=class extends Error{constructor(t,e){super(t),this.message=t,this.errorCode=e}static isClmmpoolsErrorCode(t,e){return t instanceof Un&&t.errorCode===e}},Nt=new I(0),Io=new I(1),gd=new I(2);gd.pow(new I(128));var el=gd.pow(new I(64)).sub(Io),uP=gd.pow(new I(128)).sub(Io),Et=class{static toX64_BN(t){return t.mul(new I(2).pow(new I(64)))}static toX64_Decimal(t){return t.mul(Ar.pow(2,64))}static toX64(t){return new I(t.mul(Ar.pow(2,64)).floor().toFixed())}static fromX64(t){return new Ar(t.toString()).mul(Ar.pow(2,-64))}static fromX64_Decimal(t){return t.mul(Ar.pow(2,-64))}static fromX64_BN(t){return t.div(new I(2).pow(new I(64)))}static shiftRightRoundUp(t){let e=t.shrn(64);return t.mod(el).gt(Nt)&&(e=e.add(Io)),e}static divRoundUp(t,e){return t.mod(e).eq(Nt)?t.div(e):t.div(e).add(new I(1))}static subUnderflowU128(t,e){return t.lt(e)?t.sub(e).add(uP):t.sub(e)}static checkUnsignedSub(t,e){const n=t.sub(e);if(n.isNeg())throw new Un("Unsigned integer sub overflow","UnsignedIntegerOverflow");return n}static checkMul(t,e,n){const r=t.mul(e);if(this.isOverflow(r,n))throw new Un("Multiplication overflow","MultiplicationOverflow");return r}static checkMulDivFloor(t,e,n,r){if(n.eq(Nt))throw new Un("Devide by zero","DivideByZero");const i=t.mul(e).div(n);if(this.isOverflow(i,r))throw new Un("Multiplication div overflow","MulDivOverflow");return i}static checkMulDivCeil(t,e,n,r){if(n.eq(Nt))throw new Un("Devide by zero","DivideByZero");const i=t.mul(e).add(n.sub(Io)).div(n);if(this.isOverflow(i,r))throw new Un("Multiplication div overflow","MulDivOverflow");return i}static checkMulDivRound(t,e,n,r){if(n.eq(Nt))throw new Un("Devide by zero","DivideByZero");const i=t.mul(e.add(n.shrn(1))).div(n);if(this.isOverflow(i,r))throw new Un("Multiplication div overflow","MulDivOverflow");return i}static checkMulShiftRight(t,e,n,r){const i=t.mul(e).div(new I(2).pow(new I(n)));if(this.isOverflow(i,r))throw new Un("Multiplication shift right overflow","MulShiftRightOverflow");return i}static checkMulShiftRight64RoundUpIf(t,e,n,r){const i=t.mul(e),o=r&&i.and(el).gt(Nt)?i.shrn(64).add(Io):i.shrn(64);if(this.isOverflow(o,n))throw new Un("Multiplication shift right overflow","MulShiftRightOverflow");return o}static checkMulShiftLeft(t,e,n,r){const i=t.mul(e).shln(n);if(this.isOverflow(i,r))throw new Un("Multiplication shift left overflow","MulShiftLeftOverflow");return i}static checkDivRoundUpIf(t,e,n){if(e.eq(Nt))throw new Un("Devide by zero","DivideByZero");return n?this.divRoundUp(t,e):t.div(e)}static isOverflow(t,e){return t.gte(gd.pow(new I(e)))}},Fg=443636,jg=-443636,yd="79226673515401279992447579055",md="4295048016",go=new I(1e6),lP=class{static getMinIndex(t){return jg+Math.abs(jg)%t}static getMaxIndex(t){return Fg-Fg%t}};function dP(t,e){const n=Math.abs(t)%e;return t>0?n>e/2?t+e-n:t-n:n>e/2?t-e+n:t+n}function fP(t,e,n,r,i,s){const o=t.rewarder_infos,a=[];for(let c=0;c<o.length;c+=1){let u=s[c];e!==null&&(Number(t.current_tick_index)<r?u=s[c].sub(new I(e.rewardersGrowthOutside[c])):u=e.rewardersGrowthOutside[c]);let l=new I(0);n!==null&&(Number(t.current_tick_index)>=i?l=s[c].sub(new I(n.rewardersGrowthOutside[c])):l=n.rewardersGrowthOutside[c]);const d=Et.subUnderflowU128(Et.subUnderflowU128(new I(s[c]),new I(u)),new I(l));a.push(d)}return a}var hP=class{constructor(t){this._sdk=t,this.growthGlobal=[Nt,Nt,Nt]}get sdk(){return this._sdk}async emissionsEveryDay(t){const n=(await this.sdk.Resources.getPool(t)).rewarder_infos;if(!n)return null;const r=[];for(const i of n){const s=Et.fromX64(new I(i.emissions_per_second));r.push({emissions:Math.floor(s.toNumber()*60*60*24),coin_address:i.coin_name})}return r}async updatePoolRewarder(t,e){const n=await this.sdk.Resources.getPool(t),r=n.rewarder_last_updated_time;if(n.rewarder_last_updated_time=e.toString(),Number(n.liquidity)===0||e.eq(new I(r)))return n;const i=e.div(new I(1e3)).sub(new I(r)).add(new I(15)),s=n.rewarder_infos;for(let o=0;o<s.length;o+=1){const a=s[o],c=Et.checkMulDivFloor(i,new I(a.emissions_per_second),new I(n.liquidity),128);this.growthGlobal[o]=new I(a.growth_global).add(new I(c))}return n}async posRewardersAmount(t,e){const n=Date.parse(new Date().toString()),r=await this.updatePoolRewarder(t,new I(n)),i=await this.sdk.Resources.getPosition(e);if(i===void 0)return[];const s=r.ticks_handle,o=await this.sdk.Pool.getTickDataByIndex(s,i.tick_lower_index),a=await this.sdk.Pool.getTickDataByIndex(s,i.tick_upper_index);return await this.posRewardersAmountInternal(r,i,o,a)}async poolRewardersAmount(t,e){const n=Date.parse(new Date().toString()),r=await this.updatePoolRewarder(e,new I(n)),i=await this.sdk.Resources.getPositionList(t,[e]),s=await this.getPoolLowerAndUpperTicks(r.ticks_handle,i),o=[Nt,Nt,Nt];for(let a=0;a<i.length;a+=1){const c=await this.posRewardersAmountInternal(r,i[a],s[0][a],s[1][a]);for(let u=0;u<3;u+=1)o[u]=o[u].add(c[u].amount_owed)}return o}posRewardersAmountInternal(t,e,n,r){const i=parseInt(e.tick_lower_index,10),s=parseInt(e.tick_upper_index,10),o=fP(t,n,r,i,s,this.growthGlobal),a=[],c=[];if(o.length>0){const u=Et.subUnderflowU128(o[0],new I(e.reward_growth_inside_0)),l=Et.checkMulShiftRight(new I(e.liquidity),u,64,256);a.push(o[0]),c.push({amount_owed:new I(e.reward_amount_owed_0).add(l),coin_address:t.rewarder_infos[0].coin_name})}if(o.length>1){const u=Et.subUnderflowU128(o[1],new I(e.reward_growth_inside_1)),l=Et.checkMulShiftRight(new I(e.liquidity),u,64,256);a.push(o[1]),c.push({amount_owed:new I(e.reward_amount_owed_1).add(l),coin_address:t.rewarder_infos[1].coin_name})}if(o.length>2){const u=Et.subUnderflowU128(o[2],new I(e.reward_growth_inside_2)),l=Et.checkMulShiftRight(new I(e.liquidity),u,64,256);a.push(o[2]),c.push({amount_owed:new I(e.reward_amount_owed_2).add(l),coin_address:t.rewarder_infos[2].coin_name})}return c}async getPoolLowerAndUpperTicks(t,e){const n=[],r=[];for(const i of e){const s=await this.sdk.Pool.getTickDataByIndex(t,i.tick_lower_index),o=await this.sdk.Pool.getTickDataByIndex(t,i.tick_upper_index);n.push(s),r.push(o)}return[n,r]}collectRewarderTransactionPayload(t,e=wu){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=["collect_rewarder","collect_rewarder_for_two","collect_rewarder_for_three"],i=[...t.coinType],s=[t.pool_id,t.pos_id];return{packageObjectId:n.cetus_integrate,module:Xi,function:r[t.coinType.length-2],gasBudget:e,typeArguments:i,arguments:s}}},pP=14,gP="59543866431248",yP="184467440737095516",mP="15793534762490258745";function wP(t,e,n){const r=t.toTwos(n).shln(e);return r.imaskn(n+1),r.fromTwos(n)}function It(t,e,n){const r=t.toTwos(n).shrn(e);return r.imaskn(n-e+1),r.fromTwos(n-e)}function _P(t){let e;return t&1?e=new I("79232123823359799118286999567"):e=new I("79228162514264337593543950336"),t&2&&(e=It(e.mul(new I("79236085330515764027303304731")),96,256)),t&4&&(e=It(e.mul(new I("79244008939048815603706035061")),96,256)),t&8&&(e=It(e.mul(new I("79259858533276714757314932305")),96,256)),t&16&&(e=It(e.mul(new I("79291567232598584799939703904")),96,256)),t&32&&(e=It(e.mul(new I("79355022692464371645785046466")),96,256)),t&64&&(e=It(e.mul(new I("79482085999252804386437311141")),96,256)),t&128&&(e=It(e.mul(new I("79736823300114093921829183326")),96,256)),t&256&&(e=It(e.mul(new I("80248749790819932309965073892")),96,256)),t&512&&(e=It(e.mul(new I("81282483887344747381513967011")),96,256)),t&1024&&(e=It(e.mul(new I("83390072131320151908154831281")),96,256)),t&2048&&(e=It(e.mul(new I("87770609709833776024991924138")),96,256)),t&4096&&(e=It(e.mul(new I("97234110755111693312479820773")),96,256)),t&8192&&(e=It(e.mul(new I("119332217159966728226237229890")),96,256)),t&16384&&(e=It(e.mul(new I("179736315981702064433883588727")),96,256)),t&32768&&(e=It(e.mul(new I("407748233172238350107850275304")),96,256)),t&65536&&(e=It(e.mul(new I("2098478828474011932436660412517")),96,256)),t&131072&&(e=It(e.mul(new I("55581415166113811149459800483533")),96,256)),t&262144&&(e=It(e.mul(new I("38992368544603139932233054999993551")),96,256)),It(e,32,256)}function bP(t){const e=Math.abs(t);let n;return e&1?n=new I("18445821805675392311"):n=new I("18446744073709551616"),e&2&&(n=It(n.mul(new I("18444899583751176498")),64,256)),e&4&&(n=It(n.mul(new I("18443055278223354162")),64,256)),e&8&&(n=It(n.mul(new I("18439367220385604838")),64,256)),e&16&&(n=It(n.mul(new I("18431993317065449817")),64,256)),e&32&&(n=It(n.mul(new I("18417254355718160513")),64,256)),e&64&&(n=It(n.mul(new I("18387811781193591352")),64,256)),e&128&&(n=It(n.mul(new I("18329067761203520168")),64,256)),e&256&&(n=It(n.mul(new I("18212142134806087854")),64,256)),e&512&&(n=It(n.mul(new I("17980523815641551639")),64,256)),e&1024&&(n=It(n.mul(new I("17526086738831147013")),64,256)),e&2048&&(n=It(n.mul(new I("16651378430235024244")),64,256)),e&4096&&(n=It(n.mul(new I("15030750278693429944")),64,256)),e&8192&&(n=It(n.mul(new I("12247334978882834399")),64,256)),e&16384&&(n=It(n.mul(new I("8131365268884726200")),64,256)),e&32768&&(n=It(n.mul(new I("3584323654723342297")),64,256)),e&65536&&(n=It(n.mul(new I("696457651847595233")),64,256)),e&131072&&(n=It(n.mul(new I("26294789957452057")),64,256)),e&262144&&(n=It(n.mul(new I("37481735321082")),64,256)),n}var Jt=class{static priceToSqrtPriceX64(t,e,n){return Et.toX64(t.mul(Ar.pow(10,n-e)).sqrt())}static sqrtPriceX64ToPrice(t,e,n){return Et.fromX64(t).pow(2).mul(Ar.pow(10,e-n))}static tickIndexToSqrtPriceX64(t){return t>0?new I(_P(t)):new I(bP(t))}static sqrtPriceX64ToTickIndex(t){if(t.gt(new I(yd))||t.lt(new I(md)))throw new Error("Provided sqrtPrice is not within the supported sqrtPrice range.");const e=t.bitLength()-1,n=new I(e-64),r=wP(n,32,128);let i=new I("8000000000000000","hex"),s=0,o=new I(0),a=e>=64?t.shrn(e-63):t.shln(63-e);for(;i.gt(new I(0))&&s<pP;){a=a.mul(a);const b=a.shrn(127);a=a.shrn(63+b.toNumber()),o=o.add(i.mul(b)),i=i.shrn(1),s+=1}const c=o.shrn(32),l=r.add(c).mul(new I(gP)),d=It(l.sub(new I(yP)),64,128).toNumber(),h=It(l.add(new I(mP)),64,128).toNumber();return d===h?d:Jt.tickIndexToSqrtPriceX64(h).lte(t)?h:d}static tickIndexToPrice(t,e,n){return Jt.sqrtPriceX64ToPrice(Jt.tickIndexToSqrtPriceX64(t),e,n)}static priceToTickIndex(t,e,n){return Jt.sqrtPriceX64ToTickIndex(Jt.priceToSqrtPriceX64(t,e,n))}static priceToInitializableTickIndex(t,e,n,r){return Jt.getInitializableTickIndex(Jt.priceToTickIndex(t,e,n),r)}static getInitializableTickIndex(t,e){return t-t%e}static getNextInitializableTickIndex(t,e){return Jt.getInitializableTickIndex(t,e)+e}static getPrevInitializableTickIndex(t,e){return Jt.getInitializableTickIndex(t,e)-e}};function vP(t){const e=[];for(const n of t){const r={objectId:n.objectId,index:Number(BigInt.asIntN(64,BigInt(n.index)).toString()),sqrtPrice:n.sqrtPrice,liquidityNet:new I(BigInt.asIntN(64,BigInt(n.liquidityNet.toString())).toString()),liquidityGross:n.liquidityGross,feeGrowthOutsideA:n.feeGrowthOutsideA,feeGrowthOutsideB:n.feeGrowthOutsideB,rewardersGrowthOutside:[new I(n.rewardersGrowthOutside[0]),new I(n.rewardersGrowthOutside[1]),new I(n.rewardersGrowthOutside[2])]};e.push(r)}return e}function tu(t,e){return{pair:`${t.toUpperCase()}-${e.toUpperCase()}`,reversePair:`${e.toUpperCase()}-${t.toUpperCase()}`}}function xP(t){if(t.length===1)return{maxPrice:t[0],index:0};let e=t[0],n=0;for(let r=0;r<t.length;r+=1)e.lt(t[r])&&(n=r,e=t[r]);return{maxPrice:e,index:n}}var SP=class{constructor(t){this.priceProviders=[],this.pathProviders=[],this.coinProviders=[],this.graph=new ww,this._rates=new Map,this._coinSymbolMapping=new Map,this._coinAddressMapping=new Map,this.poolMapping=new Map,this._sdk=t}get sdk(){return this._sdk}getPoolAddressAndDirection(t,e){const{pair:n,reversePair:r}=tu(t,e);let i=this.poolMapping.get(n);if(i!==void 0)return{address:i,direction:!0};if(i=this.poolMapping.get(r),i!==void 0)return{address:i,direction:!1}}async setCoinList(t){t.forEach(e=>{const n={address:e.address,symbol:e.symbol,decimals:e.decimals};this._coinSymbolMapping.set(e.symbol,n),this._coinAddressMapping.set(e.address,n)})}async loadGraph(){for(const t of this.pathProviders){const{paths:e}=t;for(let n=0;n<e.length;n+=1){let r,i;this.graph.getVertexByKey(e[n].base)===void 0?r=new Iu(e[n].base):r=this.graph.getVertexByKey(e[n].base),this.graph.getVertexByKey(e[n].quote)===void 0?i=new Iu(e[n].quote.toUpperCase()):i=this.graph.getVertexByKey(e[n].quote),this.graph.addEdge(new mw(r,i));const s=this._coinSymbolMapping.get(e[n].base),o=this._coinSymbolMapping.get(e[n].quote);if(s!==void 0&&o!==void 0){const a=tu(e[n].base,e[n].quote).pair;this.poolMapping.set(a,e[n].address)}}}return this}addPathProvider(t){return this.pathProviders.push(t),this}addPriceProvider(t){return this.priceProviders.push(t),this}addCoinProvider(t){return this.coinProviders.push(t),this}tokenInfo(t){return this._coinAddressMapping.has(t)?this._coinAddressMapping.get(t):this._coinSymbolMapping.get(t)}async price(t,e){var n,r,i;const s=this.tokenInfo(t),o=this.tokenInfo(e);if(s===void 0||o===void 0)return;const a=this.graph.getVertexByKey(s.symbol),c=this.graph.getVertexByKey(o.symbol),u=this.graph.findAllPath(a,c),l=Array.from(u),d=[];for(const O of l)for(let B=0;B<O.length-1;B+=1){const v=O[B].value.toString(),_=O[B+1].value.toString(),S=(n=this.getPoolAddressAndDirection(v,_))==null?void 0:n.address;S!==void 0&&d.push(S)}await this._updatePoolInfo(d);const h=[],y=[];for(const O of l){const B=this._price(O);y.push(B.nodes),h.push(B.maxPrice)}const b=xP(h),T=[],k=[];for(let O=0;O<l[b.index].length-1;O+=1){const B=l[b.index][O].value.toString(),v=l[b.index][O+1].value.toString(),_=(r=this.getPoolAddressAndDirection(B,v))==null?void 0:r.address,S=(i=this.getPoolAddressAndDirection(B,v))==null?void 0:i.direction;_!==void 0&&S!==void 0&&(T.push(_),k.push(S))}return{maxIndex:b.index,maxPrice:b.maxPrice,nodes:y,pools:T,directions:k}}async _updatePoolInfo(t){for(const e of t){const n=await this._sdk.Resources.getPool(e),r=this.tokenInfo(n.coinTypeA),i=this.tokenInfo(n.coinTypeB),{pair:s}=tu(r.symbol,i.symbol),o=Jt.sqrtPriceX64ToPrice(new I(n.current_sqrt_price),r.decimals,i.decimals);this._rates.set(s,o)}}_price(t){let e=new je(1);const n=[];for(let r=0;r<t.length-1;r+=1){const i=t[r].value.toString(),s=t[r+1].value.toString();n.push(i),gu(i!==void 0&&s!==void 0,"base and quote is undefined");const o=this._directPrice(i,s);console.log("t",o==null?void 0:o.maxPrice.toString()),gu(o!==void 0,`[${i}-${s}] temp price is undefined`),e=e.mul(o.maxPrice),console.log("m",e.toString())}return n.push(t[t.length-1].value.toString()),{maxPrice:e,nodes:n}}_directPrice(t,e){const n=[t,e],{pair:r,reversePair:i}=tu(t,e);if(this._rates.has(r)){const s=this._rates.get(r);return s===void 0?void 0:{maxPrice:s,nodes:n}}if(this._rates.has(i)){const s=this._rates.get(i);return gu(s!==void 0),{maxPrice:new je(1).div(s),nodes:n}}}},Yf=class{static getDefaultSqrtPriceLimit(t){return new I(t?md:yd)}static getDefaultOtherAmountThreshold(t){return t?Nt:el}};function e2(t,e,n,r){const i=t.gt(e)?t.sub(e):e.sub(t),s=n.mul(i).shln(64),o=t.mul(e),a=s.div(o),c=s.mod(o);return r&&!c.eq(Nt)?a.add(new I(1)):a}function t2(t,e,n,r){const i=t.gt(e)?t.sub(e):e.sub(t);if(n.eq(Nt)||i.eq(Nt))return Nt;const s=n.mul(i),a=r&&s.and(el).gt(Nt)?s.shrn(64).add(Io):s.shrn(64);if(Et.isOverflow(a,64))throw new Un("Result large than u64 max","IntegerDowncastOverflow");return a}function n2(t,e,n,r){if(n.eq(Nt))return t;const i=Et.checkMulShiftLeft(t,e,64,256),s=e.shln(64),o=Et.checkMul(t,n,256);if(!r&&s.lte(o))throw new Un("getNextSqrtPriceAUp - Unable to divide liquidityShl64 by product","DivideByZero");const a=r?Et.checkDivRoundUpIf(i,s.add(o),!0):Et.checkDivRoundUpIf(i,s.sub(o),!0);if(a.lt(new I(md)))throw new Un("getNextSqrtPriceAUp - Next sqrt price less than min sqrt price","CoinAmountMinSubceeded ");if(a.gt(new I(yd)))throw new Un("getNextSqrtPriceAUp - Next sqrt price greater than max sqrt price","CoinAmountMaxExceeded");return a}function r2(t,e,n,r){const i=Et.checkDivRoundUpIf(n.shln(64),e,!r),s=r?t.add(i):t.sub(i);if(s.lt(new I(md))||s.gt(new I(yd)))throw new Un("getNextSqrtPriceAUp - Next sqrt price out of bounds","SqrtPriceOutOfBounds");return s}function TP(t,e,n,r){return r?n2(t,e,n,!0):r2(t,e,n,!0)}function AP(t,e,n,r){return r?r2(t,e,n,!1):n2(t,e,n,!1)}function Wg(t,e,n,r){return r?e2(e,t,n,!0):t2(t,e,n,!0)}function Gg(t,e,n,r){return r?t2(e,t,n,!1):e2(t,e,n,!1)}function EP(t,e,n,r,i,s){if(n===Nt)return{amountIn:Nt,amountOut:Nt,nextSqrtPrice:e,feeAmount:Nt};const o=t.gte(e);let a,c,u,l;if(s){const d=Et.checkMulDivFloor(r,Et.checkUnsignedSub(go,i),go,64),h=Wg(t,e,n,o);h.gt(d)?(a=d,l=Et.checkUnsignedSub(r,d),u=TP(t,n,d,o)):(a=h,l=Et.checkMulDivCeil(a,i,go.sub(i),64),u=e),c=Gg(t,u,n,o)}else{const d=Gg(t,e,n,o);d.gt(r)?(c=r,u=AP(t,n,r,o)):(c=d,u=e),a=Wg(t,u,n,o),l=Et.checkMulDivCeil(a,i,go.sub(i),64)}return{amountIn:a,amountOut:c,nextSqrtPrice:u,feeAmount:l}}function kP(t,e,n,r,i){let s=n,o=r.liquidity,{currentSqrtPrice:a}=r;const c={amountIn:Nt,amountOut:Nt,feeAmount:Nt,refAmount:Nt,nextSqrtPrice:Nt,crossTickNum:0};let u,l;const d=Yf.getDefaultSqrtPriceLimit(t);for(const h of i){if(t&&r.currentTickIndex<Number(h.index)||!t&&r.currentTickIndex>Number(h.index)||h===null)continue;t&&d.gt(h.sqrtPrice)||!t&&d.lt(h.sqrtPrice)?u=d:u=h.sqrtPrice;const y=EP(a,u,o,s,r.feeRate,e);if(y.amountIn.eq(Nt)||(s=e?s.sub(y.amountIn.add(y.feeAmount)):s.sub(y.amountOut)),c.amountIn=c.amountIn.add(y.amountIn),c.amountOut=c.amountOut.add(y.amountOut),c.feeAmount=c.feeAmount.add(y.feeAmount),y.nextSqrtPrice.eq(h.sqrtPrice)?(l=t?h.liquidityNet.mul(new I(-1)):h.liquidityNet,o=l.gt(Nt)?o.add(l):o.sub(l.abs()),a=h.sqrtPrice):a=y.nextSqrtPrice,c.crossTickNum+=1,s.eq(Nt))break}return c.amountIn=c.amountIn.add(c.feeAmount),c.nextSqrtPrice=a,c}function yo(t,e,n){const r=I.min(t,e),i=I.max(t,e),s=Et.fromX64_BN(n.mul(i).mul(r)),o=i.sub(r);return s.div(o)}function mo(t,e,n){const r=I.min(t,e),s=I.max(t,e).sub(r);return n.shln(64).div(s)}var oo=class{static updateFeeRate(t,e,n,r,i){const s=Et.checkMulDivCeil(e,new I(r),go,64),o=n===0?Nt:Et.checkMulDivFloor(e,new I(n),go,64),a=e.mul(s).mul(o);if(i?t.feeProtocolCoinA=t.feeProtocolCoinA.add(s):t.feeProtocolCoinB=t.feeProtocolCoinB.add(s),a.eq(Nt)||t.liquidity.eq(Nt))return{refFee:o,clmm:t};const c=a.shln(64).div(t.liquidity);return i?t.feeGrowthGlobalA=t.feeGrowthGlobalA.add(c):t.feeGrowthGlobalB=t.feeGrowthGlobalB.add(c),{refFee:o,clmm:t}}static getCoinAmountFromLiquidity(t,e,n,r,i){const s=new Ar(t.toString()),o=new Ar(e.toString()),a=new Ar(n.toString()),c=new Ar(r.toString());let u,l;return e.lt(n)?(u=Et.toX64_Decimal(s).mul(c.sub(a)).div(a.mul(c)),l=new Ar(0)):e.lt(r)?(u=Et.toX64_Decimal(s).mul(c.sub(o)).div(o.mul(c)),l=Et.fromX64_Decimal(s.mul(o.sub(a)))):(u=new Ar(0),l=Et.fromX64_Decimal(s.mul(c.sub(a)))),i?{coinA:new I(u.ceil().toString()),coinB:new I(l.ceil().toString())}:{coinA:new I(u.floor().toString()),coinB:new I(l.floor().toString())}}static estimateLiquidityFromcoinAmounts(t,e,n,r){if(e>n)throw new Error("lower tick cannot be greater than lower tick");const i=Jt.sqrtPriceX64ToTickIndex(t),s=Jt.tickIndexToSqrtPriceX64(e),o=Jt.tickIndexToSqrtPriceX64(n);if(i<e)return yo(s,o,r.coinA);if(i>=n)return mo(o,s,r.coinB);const a=yo(t,o,r.coinA),c=mo(t,s,r.coinB);return I.min(a,c)}static estLiquidityAndcoinAmountFromOneAmounts(t,e,n,r,i,s,o){const a=Jt.sqrtPriceX64ToTickIndex(o),c=Jt.tickIndexToSqrtPriceX64(t),u=Jt.tickIndexToSqrtPriceX64(e);let l;if(a<=t){if(!r)throw new Error("lower tick cannot calculate liquidity by coinB");l=yo(c,u,n)}else if(a>=e){if(r)throw new Error("upper tick cannot calculate liquidity by coinA");l=mo(u,c,n)}else r?l=yo(o,u,n):l=mo(o,c,n);const d=oo.getCoinAmountFromLiquidity(l,o,c,u,i),h=d.coinA.mul(new I(1+s)),y=d.coinB.mul(new I(1+s));return{tokenMaxA:h,tokenMaxB:y,liquidityAmount:l}}},BP=class{constructor(t){this._cache={},this._sdk=t}get sdk(){return this._sdk}async preswap(t){var e;const{modules:n,simulationAccount:r}=this.sdk.sdkOptions.networkOptions,i=[t.coinTypeA,t.coinTypeB],s=[t.pool.poolAddress,t.a2b,t.by_amount_in,t.amount],o={packageObjectId:n.cetus_integrate,module:J_,function:"calculate_swap_result",typeArguments:i,arguments:s},a=await this.sdk.fullClient.devInspectTransaction(r.address,{kind:"moveCall",data:o});console.log("preswap###simulateRes####",a);const c=(e=a.effects.events)==null?void 0:e.filter(u=>"moveEvent"in u?Rn(u.moveEvent.type).name==="CalculatedSwapResultEvent":!1);return c.length===0?null:this.transformSwapData(t,c[0].moveEvent.fields.data.fields)}transformSwapData(t,e){const n=Jt.sqrtPriceX64ToPrice(new I(t.pool.current_sqrt_price),t.decimalsA,t.decimalsB).toNumber(),r=Jt.sqrtPriceX64ToPrice(new I(e.after_sqrt_price),t.decimalsA,t.decimalsB).toNumber(),i=Math.abs(n-r)/n*100;return{estimatedAmountIn:e.amount_in&&e.fee_amount?new I(e.amount_in).add(new I(e.fee_amount)).toString():"",estimatedAmountOut:e.amount_out,estimatedEndSqrtPrice:e.after_sqrt_price,estimatedFeeAmount:e.fee_amount,isExceed:e.is_exceed,amount:t.amount,aToB:t.a2b,byAmountIn:t.by_amount_in,priceImpactPct:i}}calculateRates(t){const{currentPool:e}=t,n={coinA:e.coinTypeA,coinB:e.coinTypeB,currentSqrtPrice:new I(e.current_sqrt_price),currentTickIndex:Number(e.current_tick_index),feeGrowthGlobalA:new I(e.fee_growth_global_a),feeGrowthGlobalB:new I(e.fee_growth_global_b),feeProtocolCoinA:new I(e.fee_protocol_coin_a),feeProtocolCoinB:new I(e.fee_protocol_coin_b),feeRate:new I(e.fee_rate),liquidity:new I(e.liquidity),tickIndexes:[],tickSpacing:Number(e.tickSpacing),ticks:[],collection_name:""};let r;t.a2b?r=t.swapTicks.sort((d,h)=>Number(h.index)-Number(d.index)):r=t.swapTicks.sort((d,h)=>Number(d.index)-Number(h.index));const i=kP(t.a2b,t.byAmountIn,t.amount,n,r);let s=!1;t.byAmountIn?s=i.amountIn.lt(t.amount):s=i.amountOut.lt(t.amount);const o=Yf.getDefaultSqrtPriceLimit(t.a2b);t.a2b&&i.nextSqrtPrice.lt(o)&&(s=!0),!t.a2b&&i.nextSqrtPrice.gt(o)&&(s=!0);let a=0;i.crossTickNum>6&&i.crossTickNum<40&&(a=22e3*(i.crossTickNum-6)),i.crossTickNum>40&&(s=!0);const c=Jt.sqrtPriceX64ToPrice(n.currentSqrtPrice,t.decimalsA,t.decimalsB).toNumber(),u=Jt.sqrtPriceX64ToPrice(i.nextSqrtPrice,t.decimalsA,t.decimalsB).toNumber(),l=Math.abs(c-u)/c*100;return{estimatedAmountIn:i.amountIn,estimatedAmountOut:i.amountOut,estimatedEndSqrtPrice:i.nextSqrtPrice,estimatedFeeAmount:i.feeAmount,isExceed:s,extraComputeLimit:a,amount:t.amount,aToB:t.a2b,byAmountIn:t.byAmountIn,priceImpactPct:l}}createSwapTransactionPayload(t,e=Qu){const{modules:n}=this.sdk.sdkOptions.networkOptions,r=Yf.getDefaultSqrtPriceLimit(t.a2b),i=[t.coinTypeA,t.coinTypeB];if(n.swap_partner.length===0)throw Error("Please configure swap_partner");const s=[t.pool_id,n.swap_partner,t.coin_object_ids_a,t.coin_object_ids_b,t.a2b,t.by_amount_in,t.amount,t.amount_limit,r.toString()];return{packageObjectId:n.cetus_integrate,module:Xi,function:"swap_with_partner",gasBudget:e,typeArguments:i,arguments:s}}},RP=5*60*1e3,uf=24*60*60*1e3;function Vg(t){return Date.parse(new Date().toString())+t}var IP=class{constructor(t){this._cache={},this._sdk=t}get sdk(){return this._sdk}async getAllRegisteredTokenList(t=!1){return await this.factchTokenList("",t)}async getOwnerTokenList(t="",e=!1){return await this.factchTokenList(t,e)}async getAllRegisteredPoolList(t=!1){return await this.factchPoolList("",t)}async getOwnerPoolList(t="",e=!1){return await this.factchPoolList(t,e)}async getWarpPoolList(t=!1){return await this.factchWarpPoolList("","",t)}async getOwnerWarpPoolList(t="",e="",n=!1){return await this.factchWarpPoolList(t,e,n)}async getSpecifyTokenListByCache(t){const e="getAllRegisteredTokenList",n=this.getCacheData(e),r=[];if(n!==null){const i=n;for(const s of t)for(const o of i)if(s===o.address){r.push(o);continue}}return r}async factchTokenList(t="",e=!1){var n;const{simulationAccount:r,token:i}=this.sdk.sdkOptions.networkOptions,s="getAllRegisteredTokenList";if(!e){const h=this.getCacheData(s);if(h!==null)return h}const o=t.length>0,a=[],c=o?[i.config.coin_registry_id,t]:[i.config.coin_registry_id],u={packageObjectId:i.token_deployer,module:"coin_list",function:o?"fetch_full_list":"fetch_all_registered_coin_info",gasBudget:1e4,typeArguments:a,arguments:c},l=await this.sdk.fullClient.devInspectTransaction(r.address,{kind:"moveCall",data:u});if("Err"in l.results)throw new Error(l.results.Err);const d=[];return(n=l.effects.events)==null||n.forEach(h=>{"moveEvent"in h&&Rn(h.moveEvent.type).full_address===`${i.token_deployer}::coin_list::FetchCoinListEvent`&&h.moveEvent.fields.full_list.fields.value_list.forEach(b=>{d.push(this.transformData(b.fields,!1))})}),this.updateCache(s,d,uf),d}async factchPoolList(t="",e=!1){var n;const{simulationAccount:r,token:i}=this.sdk.sdkOptions.networkOptions,s="getAllRegisteredPoolList";if(!e){const h=this.getCacheData(s);if(h!==null)return h}const o=t.length>0,a=[],c=o?[i.config.pool_registry_id,t]:[i.config.pool_registry_id],u={packageObjectId:i.token_deployer,module:"lp_list",function:o?"fetch_full_list":"fetch_all_registered_coin_info",gasBudget:1e4,typeArguments:a,arguments:c};console.log("payload: ",u);const l=await this.sdk.fullClient.devInspectTransaction(r.address,{kind:"moveCall",data:u});if("Err"in l.results)throw new Error(l.results.Err);const d=[];return(n=l.effects.events)==null||n.forEach(h=>{"moveEvent"in h&&Rn(h.moveEvent.type).full_address===`${i.token_deployer}::lp_list::FetchPoolListEvent`&&h.moveEvent.fields.full_list.fields.value_list.forEach(b=>{d.push(this.transformData(b.fields,!0))})}),this.updateCache(s,d,uf),d}async factchWarpPoolList(t="",e="",n=!1){const r=await this.factchPoolList(t,n);if(r.length===0)return[];const i=await this.factchTokenList(e,n),s=[];for(const o of r){for(const a of i)a.address===o.coin_a_address&&(o.coinA=a),a.address===o.coin_b_address&&(o.coinB=a);s.push(o)}return s}async getTokenConfigEvent(t=!1){const e=this._sdk.sdkOptions.networkOptions.token.token_deployer,n=`${e}_getTokenConfigEvent`,r=this._cache[n];if(r!==void 0&&r.getCacheData()&&!t)return r.value;const i=await this._sdk.fullClient.getObject(e),s=I_(i),o=(await this._sdk.fullClient.getEvents({Transaction:s},null,null)).data,a={coin_registry_id:"",pool_registry_id:"",coin_list_owner:"",pool_list_owner:""};return o.length>0&&o.forEach(c=>{if("newObject"in c.event){const{objectType:u,objectId:l}=c.event.newObject,d=Rn(u);if(d.full_address===`${e}::core::Registry`)switch(d.type_arguments[1]){case`${e}::coin_list::CoinInfo`:a.coin_registry_id=l;break;case`${e}::lp_list::PoolInfo`:a.pool_registry_id=l;break}else if(d.full_address===`${e}::core::List`)switch(d.type_arguments[0]){case`${e}::coin_list::CoinKey`:a.coin_list_owner=l;break;case`${e}::lp_list::PoolKey`:a.pool_list_owner=l;break}}}),a.coin_registry_id.length>0&&this.updateCache(n,a,uf),a}transformData(t,e){const n={...t};if(e?(n.coin_a_address=Rn(n.coin_a_address).full_address,n.coin_b_address=Rn(n.coin_b_address).full_address):n.address=Rn(n.address).full_address,t.extensions){const r=t.extensions.fields.contents;for(const i of r){const{key:s}=i.fields;let{value:o}=i.fields;if(s==="labels")try{o=JSON.parse(decodeURIComponent(Rf.decode(o)))}catch{}n[s]=o}delete n.extensions}return n}updateCache(t,e,n=RP){let r=this._cache[t];r?(r.overdueTime=Vg(n),r.value=e):r=new Q_(e,Vg(n)),this._cache[t]=r}getCacheData(t){const e=this._cache[t];return e!==void 0&&e.getCacheData()?e.value:null}},PP=class{constructor(t){this._sdkOptions=t,this._fullClient=new ZI(new Rh({fullnode:t.fullRpcUrl,faucet:t.fullRpcUrl})),this._swap=new BP(this),this._resources=new cP(this),this._pool=new tP(this),this._position=new nP(this),this._rewarder=new hP(this),this._router=new SP(this),this._token=new IP(this)}get Swap(){return this._swap}get fullClient(){return this._fullClient}get Resources(){return this._resources}get sdkOptions(){return this._sdkOptions}get Pool(){return this._pool}get Position(){return this._position}get Rewarder(){return this._rewarder}get Router(){return this._router}get Token(){return this._token}};function mr(t){return je.isDecimal(t)?t:new je(t===void 0?0:t)}new I(365);new I(24);new I(3600);new I(.5);function UP(t,e,n,r){const i=Math.max(t,n),o=Math.min(e,r)-i,a=e-t,c=r-n,u=new je(a.toString()),l=new je(c.toString()),d=new je(o.toString());let h=new je("0");return o<0?h=new je("0"):a===o?h=l.div(d):c===o?h=d.div(u):h=d.mul(d).div(l).div(u),h}function OP(t,e,n){let r=new I(0),i=new I(0);Number(t.current_tick_index)<Number(e.index)?(r=Et.subUnderflowU128(new I(t.fee_growth_global_a),new I(e.feeGrowthOutsideA)),i=Et.subUnderflowU128(new I(t.fee_growth_global_b),new I(e.feeGrowthOutsideB))):(r=new I(e.feeGrowthOutsideA),i=new I(e.feeGrowthOutsideB));let s=new I(0),o=new I(0);Number(t.current_tick_index)<Number(n.index)?(s=new I(n.feeGrowthOutsideA),o=new I(n.feeGrowthOutsideB)):(s=Et.subUnderflowU128(new I(t.fee_growth_global_a),new I(n.feeGrowthOutsideA)),o=Et.subUnderflowU128(new I(t.fee_growth_global_b),new I(n.feeGrowthOutsideB)));const a=Et.subUnderflowU128(Et.subUnderflowU128(new I(t.fee_growth_global_a),r),s),c=Et.subUnderflowU128(Et.subUnderflowU128(new I(t.fee_growth_global_b),i),o);return{fee_growth_inside_a:a,fee_growth_inside_b:c}}function CP(t,e,n){const r=Et.subUnderflowU128(e,new I(t.fee_growth_inside_a)),i=new I(t.liquidity).mul(r).shrn(64),s=Et.subUnderflowU128(n,new I(t.fee_growth_inside_b)),o=new I(t.liquidity).mul(s).shrn(64),a=new I(t.fee_owed_a).add(i),c=new I(t.fee_owed_b).add(o);return{feeOwedA:a,feeOwedB:c}}function $P(t){const{fee_growth_inside_a:e,fee_growth_inside_b:n}=OP(t.clmmpool,t.tickLower,t.tickUpper);return CP(t.position,e,n)}function MP(t){const e={fullRpcUrl:Ze[t||"Sui"].rpcUrl,faucetURL:Ze[t||"Sui"].rpcUrl,networkOptions:{simulationAccount:{address:Ze[t||"Sui"].simulationAccount},token:{token_deployer:Ze[t||"Sui"].TokenDeployer,config:Ze[t||"Sui"].tokenConfig},modules:{cetus_clmm:Ze[t||"Sui"].cetusClmm,cetus_integrate:Ze[t||"Sui"].cetusIntegrate,integer_mate:Ze[t||"Sui"].integerMate,swap_partner:Ze[t||"Sui"].swapPartner,config:{global_config_id:Ze[t||"Sui"].initEventConfig.initConfigEvent.global_config_id,pools_id:Ze[t||"Sui"].initEventConfig.initFactoryEvent.pools_id}}}},n=Xg(new PP(e)),r=Pw(),i=lf(()=>r),s=Zg(),o=lf(()=>s),{$notify:a}=wo(),c=V=>{const{$notify:z}=wo();z.success({key:V.hash+"loading",icon:wt("img",{class:{"notify-icon":!0,"loading-animate":!0},src:o.value.theme=="default"?"/image/img-loading@2x.png":"/sui-image/img-loading.png"}),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:V.title},null)]),description:wt("div",{class:"notification-title"},[wt("div",{class:"notification-text",innerHTML:wr.global.t("newAdd.confirmingTransaction")},null),wt("a",{href:`https://explorer.sui.io/transaction/${window.encodeURIComponent(V.hash)}?network=${Ze[t||"Sui"].network}`,target:"_blank",innerHTML:wr.global.t("common.viewTransaction")},null)]),duration:0,class:"ant-notification-copy ant-notification-swap"})},u=V=>{a.success({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-icon-change1"})]),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:`${V.title} `+wr.global.t("newAdd.success")},null)]),description:wt("div",{class:"notification-title"},[wt("div",{class:"notification-text",innerHTML:V.desc},null),wt("a",{href:`https://explorer.sui.io/transaction/${window.encodeURIComponent(V.hash)}?network=${Ze[t||"Sui"].network}`,target:"_blank",innerHTML:wr.global.t("common.viewTransaction")},null)]),duration:4.5,class:"ant-notification-copy ant-notification-swap"})},l=V=>{a.error({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:`${V} `+wr.global.t("newAdd.failed")},null)]),description:wr.global.t("newAdd.somethingWrong"),duration:4.5,class:"ant-notification-copy ant-notification-error"})},d=async(V,z=!1)=>{var Z,Q,se;const{$notify:X}=wo();try{const ie=await Ca(2e3),de=await n.Resources.getSuiTransactionResponse(V.hash,!0);if(((Q=(Z=de==null?void 0:de.effects)==null?void 0:Z.status)==null?void 0:Q.status)==="success"){X.close(V.hash+"loading"),u(V);const Pe={walletAddress:r.address,chainName:"Sui",...V,...de,date:new Date().getTime()+6048e5};if(s.setTransactionList(Pe),z)if(de.events){const Se=de.events.filter(De=>De.type.includes("CreateTokenDataEvent"));return{status:!0,nftInfo:(se=Se==null?void 0:Se.moveEvent)==null?void 0:se.fields}}else return{status:!0,nftInfo:de.effects.events};return!0}else{if(de&&de.effects&&de.effects.status&&de.effects.status.status!=="success")return X.close(V.hash+"loading"),l(V.title),!1;setTimeout(()=>d(V),3e3)}}catch{return X.close(V.hash+"loading"),X.error({icon:wt("svg",{class:{icon:!0},"aria-hidden":!0},[wt("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:wt("div",{class:"notification-title"},[wt("span",{innerHTML:`${V.title} Failed`},null)]),duration:4.5,description:"Something went wrong",class:"ant-notification-copy ant-notification-error"}),!0}},h=async(V,z=!1)=>{var Z,Q;await Ca(2e3);const X=await n.Resources.getSuiTransactionResponse(V.hash);if(((Q=(Z=X==null?void 0:X.effects)==null?void 0:Z.status)==null?void 0:Q.status)==="success"){a.close(V.hash+"loading"),u(V);const se={walletAddress:r.address,chainName:"Sui",...V,...X,date:new Date().getTime()+6048e5};s.setTransactionList(se)}},y=async(V,z)=>{var se,ie,de,Pe,Ee,Se,De,ke,Ce,Ke;const X=i.value.assets[V];if(!X)return[];const Z=X.objects.filter(Ue=>Ue.balance&&Ue.balance!=="0"),Q=Z.reduce((Ue,Be)=>Number(Ue.balance)<Number(Be.balance)?Be:Ue);if(mr(z).lte(mr(Q.balance))&&Z.length>1)return[(de=(ie=(se=Q==null?void 0:Q.data)==null?void 0:se.fields)==null?void 0:ie.id)==null?void 0:de.id];{const Ue=[];if(V==="0x2::sui::SUI"){const Be=Z.sort((ze,Ve)=>Number(ze.balance)-Number(Ve.balance));let ct=mr(0);for(let ze=0;ze<Be.length;ze++){const Ve=Be[ze];if(ct.lte(mr(z)))Ue.push((Se=(Ee=(Pe=Ve==null?void 0:Ve.data)==null?void 0:Pe.fields)==null?void 0:Ee.id)==null?void 0:Se.id),ct=ct.plus(mr(Ve.balance));else break}return Ue.length===Be.length&&await b((Ke=(Ce=(ke=(De=Be[Be.length-1])==null?void 0:De.data)==null?void 0:ke.fields)==null?void 0:Ce.id)==null?void 0:Ke.id,Be[Be.length-1].balance),Ue}else return Z.forEach(Be=>{var ct,ze,Ve;Ue.push((Ve=(ze=(ct=Be==null?void 0:Be.data)==null?void 0:ct.fields)==null?void 0:ze.id)==null?void 0:Ve.id)}),Ue}},b=async(V,z)=>{var Z;const X={kind:"transferSui",data:{suiObjectId:V,gasBudget:1e3,recipient:i.value.address,amount:5e4}};try{const Q=await i.value.currentWallet.signAndExecuteTransaction(X),se=(Z=Q==null?void 0:Q.effects)==null?void 0:Z.events;for(let ie=0;ie<se.length;ie++)if(se[ie].coinBalanceChange.changeType==="Receive"&&se[ie].coinBalanceChange.amount===5e4)return se[ie].coinBalanceChange.coinObjectId;return""}catch{}return[]},T=async(V,z,X)=>{var ie,de,Pe,Ee,Se,De,ke,Ce,Ke,Ue,Be,ct,ze,Ve,Zt,rt,Ot,Nn,Dt,zt,Kn,Mt;const Z=i.value.address;let Q={};V!=="0x2::sui::SUI"?Q={kind:"pay",data:{inputCoins:z,recipients:[Z],amounts:[Number(X)],gasBudget:1e5}}:Q={kind:"payAllSui",data:{inputCoins:z,recipient:Z,gasBudget:1e3}};const se=await i.value.currentWallet.signAndExecuteTransaction(Q);if(((de=(ie=se==null?void 0:se.effects)==null?void 0:ie.status)==null?void 0:de.status)==="success"||((De=(Se=(Ee=(Pe=se==null?void 0:se.EffectsCert)==null?void 0:Pe.effects)==null?void 0:Ee.effects)==null?void 0:Se.status)==null?void 0:De.status)==="success")if(V!=="0x2::sui::SUI"){const Pt=((Ke=(Ce=(ke=se==null?void 0:se.effects)==null?void 0:ke.created[0])==null?void 0:Ce.reference)==null?void 0:Ke.objectId)||((Ve=(ze=(ct=(Be=(Ue=se==null?void 0:se.EffectsCert)==null?void 0:Ue.effects)==null?void 0:Be.effects)==null?void 0:ct.created[0])==null?void 0:ze.reference)==null?void 0:Ve.objectId);if(Pt)return Pt}else{const Pt=((Ot=(rt=(Zt=se==null?void 0:se.effects)==null?void 0:Zt.mutated[0])==null?void 0:rt.reference)==null?void 0:Ot.objectId)||((Mt=(Kn=(zt=(Dt=(Nn=se==null?void 0:se.EffectsCert)==null?void 0:Nn.effects)==null?void 0:Dt.effects)==null?void 0:zt.mutated[0])==null?void 0:Kn.reference)==null?void 0:Mt.objectId);if(Pt)return Pt}else{l("MergeCoin Error");return}},k=async V=>{try{r.setLoading(!0);const z=await n.Resources.getSuiObjectOwnedByAddress(V),X={};return z.forEach(Z=>{var Q,se;if(Z&&Z.coinAddress){const ie=Z?Z.balance.toString():"0",de={...Z,balance:ie};X[Z.coinAddress]={...Z,balance:(Q=X[Z.coinAddress])!=null&&Q.balance?mr(ie).plus(X[Z.coinAddress].balance).toString():ie,objects:(se=X[Z.coinAddress])!=null&&se.objects?[...X[Z.coinAddress].objects,de]:[de]}}}),r.setAssets(X),r.setLoading(!1),X}catch{r.setLoading(!1)}},O=async()=>await n.Token.getAllRegisteredTokenList(),B=async()=>{Ze[t||"Sui"].simulationAccount;try{return await n.Token.getOwnerWarpPoolList(Ze[t||"Sui"].tokenConfig.pool_list_owner,Ze[t||"Sui"].tokenConfig.coin_list_owner)}catch{}},v=async(V=[])=>{const z=await n.Resources.getPools(V);if(V.length===0){const X={};return z.forEach(Z=>{X[Z.poolAddress]={...Z,rate:mr(Z.fee_rate).div(Math.pow(10,6)).toString()}}),X}else return z},_=async V=>await n.Resources.getPool(V);return{setTransations:h,showTransitionPending:c,showTransitionSuccess:u,showTransitionError:l,watchTransaction:d,getCoinId:y,mergeCoinObject:T,getAccount:k,getTokenList:O,getLpList:B,getPools:v,getPool:_,mintCoin:V=>({kind:"moveCall",data:{packageObjectId:Ze[t||"Sui"].faucetObjectId,module:V.transactionModule,function:"faucet",typeArguments:[],gasBudget:1e3,arguments:[V.suplyID]}}),handleTx:V=>{let z;return V&&V.certificate&&V.certificate.transactionDigest?z={hash:V.certificate.transactionDigest}:V&&V.EffectsCert&&V.EffectsCert.certificate&&V.EffectsCert.certificate.transactionDigest&&(z={hash:V.EffectsCert.certificate.transactionDigest}),z},TickUtil:lP,TickMath:Jt,getNearestTickByTick:dP,getTicks:async V=>{try{return await n.Pool.fetchTicks({pool_id:V.poolAddress,coinTypeA:V.coinTypeA,coinTypeB:V.coinTypeB})}catch{}},getEstPositionAPRWithMulti:async(V,z,X,Z,Q,se,ie,de,Pe,Ee,Se,De,ke,Ce,Ke,Ue,Be,ct,ze,Ve,Zt,rt)=>await UP(V,z,X,Z),getCoinAmountFromLiquidity:V=>{const{pool:z,position:X,roundUp:Z}=V,Q=Number(X.tick_lower_index),se=Number(X.tick_upper_index),ie=Jt.tickIndexToSqrtPriceX64(Q),de=Jt.tickIndexToSqrtPriceX64(se),Pe=oo.getCoinAmountFromLiquidity(new I(X.liquidity),new I(z.current_sqrt_price),ie,de,Z),Ee=nr(Pe.coinA.toString(),z.coinA.decimals),Se=nr(Pe.coinB.toString(),z.coinB.decimals);return{coinaAmount:Ee,coinbAmount:Se}},estLiquidityAndcoinAmountFromOneAmounts:V=>{const{tokenA:z,tokenB:X,lowerTick:Z,upperTick:Q,coinAmount:se,iscoinA:ie,roundUp:de,slippage:Pe,curSqrtPrice:Ee}=V,Se=oo.estLiquidityAndcoinAmountFromOneAmounts(Z,Q,se,ie,de,Pe,Ee),De=z.decimals,ke=X.decimals,{tokenMaxA:Ce,tokenMaxB:Ke,liquidityAmount:Ue}=Se;return{tokenMaxAOrigin:Ce.toString(),tokenMaxBOrigin:Ke.toString(),tokenMaxA:nr(Ce.toString(),De),tokenMaxB:nr(Ke.toString(),ke),liquidityAmount:Ue}},getAddLiquidityTransactionPayload:async V=>{const{pool:z,amount:X,fix_amount_a:Z,roundUp:Q,tick_lower:se,tick_upper:ie,index:de,slippage:Pe}=V,Ee=await _(z.poolAddress),Se=Z?rr(X,z.token_a.decimals):rr(X,z.token_b.decimals),De=Jt.sqrtPriceX64ToTickIndex(new I(Ee.current_sqrt_price));let ke,Ce;if(De>se&&De<ie){const ct=oo.estLiquidityAndcoinAmountFromOneAmounts(se,ie,new I(Se.toString()),Z,Q,Pe,new I(Ee.current_sqrt_price));ke=Z?Se.toNumber():ct.tokenMaxA.toNumber(),Ce=Z?ct.tokenMaxB.toNumber():Se.toNumber()}else De>=ie?(ke=0,Ce=Se.toNumber()):De<=se&&(ke=Se.toNumber(),Ce=0);const Ke=ke?await y(z.token_a.address,String(ke)):[],Ue=Ce?await y(z.token_b.address,String(Ce)):[];return{kind:"moveCall",data:n.Position.createAddLiquidityTransactionPayload({coinTypeA:z.token_a.address,coinTypeB:z.token_b.address,pool_id:z.poolAddress,coin_object_ids_a:Ke,coin_object_ids_b:Ue,tick_lower:se,tick_upper:ie,fix_amount_a:Z,amount_a:ke,amount_b:Ce,is_open:!de,pos_id:de})}},getTickDataFromUrlData:vP,getPriceImpactPct:(V,z,X)=>{const Z=Jt.sqrtPriceX64ToPrice(new I(V.current_sqrt_price),V.coinA.decimals,V.coinB.decimals).toNumber(),Q=X?Z:1/Z,se=Math.abs(Q-Number(z))/Number(z)*100;return Number(hn(se,2))},preSwap:async V=>{const{pool:z,a2b:X,byAmountIn:Z,amount:Q}=V,se=z.coinA.decimals,ie=z.coinB.decimals,de=z!=null&&z.current_sqrt_price?z:await _(z.address);let Pe;X&&Z||!X&&!Z?Pe=rr(Q,se):Pe=rr(Q,ie);const Ee=await n.Swap.preswap({pool:de,current_sqrt_price:de.current_sqrt_price,coinTypeA:de.coinTypeA,coinTypeB:de.coinTypeB,decimalsA:se,decimalsB:ie,a2b:X,by_amount_in:Z,amount:Pe.toString()});return{...Ee,estimatedAmountIn:os(nr(Ee.estimatedAmountIn.toString(),X?se:ie),X?se:ie),estimatedAmountOut:os(nr(Ee.estimatedAmountOut.toString(),X?ie:se),X?ie:se),priceImpactPct:hn(Ee.priceImpactPct,2)}},getSwapTransactionPayload:async V=>{const{pool:z,a2b:X,byAmountIn:Z,amount:Q,slippage:se}=V,ie=z.poolAddress,de=z.token_a.decimals,Pe=z.token_b.decimals;let Ee;X&&Z||!X&&!Z?Ee=rr(Q,de):Ee=rr(Q,Pe);const Se=await n.Swap.preswap({pool:z,current_sqrt_price:z.current_sqrt_price,coinTypeA:z.coinTypeA,coinTypeB:z.coinTypeB,decimalsA:de,decimalsB:Pe,a2b:X,by_amount_in:Z,amount:Ee.toString()}),De=mr(Se.estimatedAmountOut.toString()),ke=mr(Se.estimatedAmountIn.toString()),Ce=Z?De.sub(De.mul(se)):ke.add(ke.mul(se)),Ke=X?await y(z.token_a.address,Se.amount.toString()):[],Ue=X?[]:await y(z.token_b.address,Se.amount.toString());return{kind:"moveCall",data:n.Swap.createSwapTransactionPayload({pool_id:ie,coin_object_ids_a:X?Ke:[],coin_object_ids_b:X?[]:Ue,a2b:Se.aToB,by_amount_in:Se.byAmountIn,amount:Se.amount.toString(),amount_limit:hn(Ce.toString(),0)||"",coinTypeA:z.token_a.address,coinTypeB:z.token_b.address},2e4)}},getPositionList:async(V,z)=>{const X=Object.values(z).map(Q=>Q.poolAddress);return await n.Resources.getPositionList(V,X)},getTickDataByIndex:async(V,z)=>await n.Pool.getTickDataByIndex(V,z),getCollectFeesQuote:async V=>{const{pool:z,position:X,tickLowerData:Z,tickUpperData:Q}=V,se=await _(z.poolAddress),ie=$P({clmmpool:se,position:X,tickLower:Z,tickUpper:Q}),de=nr(ie.feeOwedA.toString(),z.token_a.decimals),Pe=nr(ie.feeOwedB.toString(),z.token_b.decimals);return{feeOwedA:Number(de)>99999999999||Number(de)<0?"0":de,feeOwedB:Number(Pe)>99999999999||Number(Pe)<0?"0":Pe}},getPosRewardersAmount:async V=>{const{poolAddress:z,pos:X}=V;return await n.Rewarder.posRewardersAmount(z,X)},getNftHash:V=>V.pos_object_id,getPositionInfo:async(V,z,X,Z="")=>({...await n.Resources.getPosition(Z),tokenName:X,collectionName:z}),getRemoveLiquidityTransactionPayload:async V=>{const{pool:z,coinTypeA:X,coinTypeB:Z,coinTypeC:Q,coinTypeD:se,coinTypeE:ie,position:de,delta_liquidity:Pe,rewards_num:Ee}=V,Se=await _(z.poolAddress),De={...z,...Se},ke=Number(de.tick_lower_index),Ce=Number(de.tick_upper_index),Ke=Jt.tickIndexToSqrtPriceX64(ke),Ue=Jt.tickIndexToSqrtPriceX64(Ce),Be=oo.getCoinAmountFromLiquidity(Pe,new I(De.current_sqrt_price),Ke,Ue,!0),ct=mr(Be.coinA.toString()).mul(mr(1-V.slippage)),ze=mr(Be.coinB.toString()).mul(mr(1-V.slippage)),Zt=[X,Z,Q,se,ie].filter(Ot=>!!Ot);let rt;return Pe.toString()===de.liquidity?rt=await n.Position.removeLiquidityTransactionPayload({coin_types:Zt,min_amount_a:hn(ct.toString(),0),min_amount_b:hn(ze.toString(),0),pool_id:z.poolAddress,pos_id:V.position.pos_object_id}):rt=await n.Position.removeLiquidityTransactionPayload({coin_types:Zt,delta_liquidity:Pe.toString(),min_amount_a:hn(ct.toString(),0),min_amount_b:hn(ze.toString(),0),pool_id:z.poolAddress,pos_id:V.position.pos_object_id}),{kind:"moveCall",data:rt}},getCollectRewarderTransactionPayload:V=>({kind:"moveCall",data:n.Rewarder.collectRewarderTransactionPayload({pool_id:V.pool_address,pos_id:V.pos_index,coinTypeA:V.coinTypeA,coinTypeB:V.coinTypeB,coinTypeC:V.coinTypeC})}),getCollectFeeTransactionPayload:async V=>({kind:"moveCall",data:await n.Position.collectFeeTransactionPayload({coinTypeA:V.pool.token_a.address,coinTypeB:V.pool.token_b.address,pool_id:V.pool.poolAddress,pos_id:V.position.pos_object_id})}),getTokenListByCoinType:async()=>[],getPoolImmutables:async()=>await n.Resources.getPoolImmutables(),estimateLiquidityForCoinA:yo,estimateLiquidityForCoinB:mo,getCreatPoolTransactionPayload:async V=>{const{coinTypeA:z,coinTypeB:X,tick_lower:Z,tick_upper:Q,tick_spacing:se,initialize_sqrt_price:ie,max_amount_a:de,max_amount_b:Pe,slippage:Ee,fix_amount_a:Se,decimalsA:De,decimalsB:ke,liquidityInput:Ce}=V,Ke=Se?rr(de,De):rr(Pe,ke),Ue=Jt.sqrtPriceX64ToTickIndex(new I(ie));let Be,ct;const ze=Jt.tickIndexToSqrtPriceX64(Z),Ve=Jt.tickIndexToSqrtPriceX64(Q);let Zt;Ue>Z&&Ue<Q?(Zt=oo.estLiquidityAndcoinAmountFromOneAmounts(Z,Q,new I(Ke.toString()),Se,!0,Ee,new I(ie)),Be=Se?Ke.toNumber():Zt.tokenMaxA.toNumber(),ct=Se?Zt.tokenMaxB.toNumber():Ke.toNumber()):Ue>=Q?(Zt=mo(ze,Ve,new I(Ke.toString())),Be=new I(Ce.tokenMaxA*Math.pow(10,De)),ct=new I(Ce.tokenMaxB*Math.pow(10,ke))):Ue<=Z&&(Zt=yo(ze,Ve,new I(Ke.toString())),Be=new I(Ce.tokenMaxA*Math.pow(10,De)),ct=new I(Ce.tokenMaxB*Math.pow(10,ke)));const rt=Be?await y(z,String(Be)):[],Ot=ct?await y(X,String(ct)):[];return{kind:"moveCall",data:await n.Pool.creatPoolTransactionPayload({tick_spacing:se,initialize_sqrt_price:ie.toString(),uri:"",fix_amount_a:Se,coin_object_ids_a:rt,coin_object_ids_b:Ot,amount_a:Be,amount_b:ct,tick_lower:Z,tick_upper:Q,coinTypeA:z,coinTypeB:X})}},getTokenListByCoinTypes:async V=>{try{const z=await n.Token.getTokenListByCoinTypes([V]);return Object.values(z)}catch{return[]}}}}function Ur(t){let e={};return!t||t==="Aptos"?e=AE():e=MP(t),{...e}}const fn="0x6740d70296035d0345bed636a820af129f6ed422",Fi=[{address:"0x2::sui::SUI",bridge:"native",coingecko_id:"",decimals:9,logo_url:"",name:"SUI",official_symbol:"SUI",project_url:"",symbol:"SUI"},{address:`${fn}::btc::BTC`,bridge:"native",coingecko_id:"",decimals:8,logo_url:"https://archive.cetus.zone/assets/mainnet/0x8d87a65ba30e09357fa2edea2c80dbac296e5dec2b18287113500b902942929d::celer_coin_manager::WbtcCoin/icon.png",name:"BTC",official_symbol:"BTC",project_url:"",symbol:"BTC"},{address:`${fn}::eth::ETH`,bridge:"native",coingecko_id:"",decimals:8,logo_url:"https://archive.cetus.zone/assets/mainnet/0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::WETH/icon.png",name:"ETH",official_symbol:"ETH",project_url:"",symbol:"ETH"},{address:`${fn}::usdc::USDC`,bridge:"native",coingecko_id:"",decimals:6,logo_url:"https://archive.cetus.zone/assets/mainnet/0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDC/icon.png",name:"USDC",official_symbol:"USDC",project_url:"",symbol:"USDC"},{address:`${fn}::usdt::USDT`,bridge:"native",coingecko_id:"",decimals:6,logo_url:"https://archive.cetus.zone/assets/mainnet/0x8d87a65ba30e09357fa2edea2c80dbac296e5dec2b18287113500b902942929d::celer_coin_manager::UsdtCoin/icon.png",name:"USDT",official_symbol:"USDT",project_url:"",symbol:"USDT"}];Fi.filter(t=>t.address===`${fn}::usdt::USDT`)[0],Fi.filter(t=>t.address===`${fn}::usdc::USDC`)[0],`${fn}`,`${fn}`,Fi.filter(t=>t.address===`${fn}::eth::ETH`)[0],Fi.filter(t=>t.address===`${fn}::usdc::USDC`)[0],`${fn}`,`${fn}`,Fi.filter(t=>t.address===`${fn}::busd::BTC`)[0],Fi.filter(t=>t.address===`${fn}::usdc::USDC`)[0],`${fn}`,`${fn}`,Fi.filter(t=>t.address==="0x2::sui::SUI")[0],Fi.filter(t=>t.address===`${fn}::usdc::USDC`)[0],`${fn}`;const qP=[{base_symbol:`${fn}::btc::BTC`,price:"175181.584616",quote_symbol:"USD"},{base_symbol:`${fn}::eth::ETH`,price:"1471.343485",quote_symbol:"USD"},{base_symbol:`${fn}::usdc::USDC`,price:"0.998772",quote_symbol:"USD"},{base_symbol:`${fn}::usdt::USDT`,price:"0.949513",quote_symbol:"USD"},{base_symbol:`${fn}::busd::BUSD`,price:"1",quote_symbol:"USD"},{base_symbol:"0x2::sui::SUI",price:"1",quote_symbol:"USD"}],BC=Jf("pool",{state:()=>({tokens:[],tokensObj:{},newTokens:[],newTokenObj:{},tokensNameObj:{},pools:[],poolsObj:{},myPositions:[],addressLpTokens:{},addressTokens:{},currentPositionLoading:!1,myPositionsLoading:!0,poolsLoading:!0,RATES:{},currentPositionInfo:{},poolConfigList:[],feeOwedObj:{},rewarderObj:{},chinaTokens:[],chinaTokensObj:{},getPoolInfoSuccess:!1,recommendRangesObj:{},allTokenObj:{},isTokenLoading:!0,poolPriceConfigObj:{},defaultPoolInfo:{}}),actions:{async setPoolsObj(t){this.poolsObj=t},async setChainPoolConfigList(t){this.poolConfigList=t,this.pools=t},async setPoolConfigList(t){const n=await Ur(t).getLpList(),r=[];n.forEach(i=>{r.push({...i,token_a:{...i.coinA,logoURI:i.coinA.logo_url},token_b:{...i.coinB,logoURI:i.coinB.logo_url},isFarming:i.is_display_rewarder&&(i.rewarder_display1||i.rewarder_display2||i.rewarder_display3),chain:t==="Aptos"?"aptos":"sui"})}),this.poolConfigList=r},async newSetPools1(t,e){this.poolsLoading=!0,this.getPoolInfoSuccess=!1,this.poolsObj={};const n=Ur(e),r=this;t&&t.length>0&&t.forEach(async(i,s)=>{(function(o,a){setTimeout(async function(){const c=await n.getPools([a.address]);r.poolsObj[c[0].poolAddress]={...a,...c[0],fee:c[0].fee_rate/1e6},r.addressLpTokens=r.poolsObj,r.poolsLoading=!1,Object.values(r.poolsObj).length==r.poolConfigList.length&&(r.getPoolInfoSuccess=!0)},1e3*o)})(s,i)})},async getRecommendRanges(t){var n;let e=null;if(t&&t.includes("Sui")?e=await $fetch(`${Ze[t].api}/v2/sui/liquidity/recommend_ranges`):e=await $fetch(`${Ze.Aptos.api}/v2/liquidity/recommend_ranges`),(n=e==null?void 0:e.data)!=null&&n.list){const r=Object.fromEntries(e.data.list.map((i,s)=>[i.address,i]));this.recommendRangesObj=r}else this.recommendRangesObj={}},async setPriceConfig(t){let e={};t&&t.includes("Sui")?e=await $fetch(`${Ze[t].api}/v2/sui/liquidity/recommend_ranges`):e=await $fetch(`${Ze.Aptos.api}/v2/liquidity/recommend_ranges`);const n=Object.fromEntries(e.data.list.map((r,i)=>[r.address,r]));this.poolPriceConfigObj=n},async newSetPools(t,e){this.poolsLoading=!0,this.getPoolInfoSuccess=!1,this.poolsObj={};const n=Ur(e);if(t&&t.length>0){for(let r=0;r<t.length;r++){const i=t[r],s=await n.getPools([i.address]);this.defaultPoolInfo[s[0].poolAddress]=s[0],this.poolsObj[s[0].poolAddress]={...i,...s[0],fee:s[0].fee_rate/1e6},this.addressLpTokens=this.poolsObj,this.poolsLoading=!1,await Ca(500)}this.getPoolInfoSuccess=!0}},async setSinglePool(t,e,n){const i=await Ur(n).getPool(t.address),s={...t,...i,fee:i.fee_rate/1e6,priceConfigObj:e.recommend_ranges||{},type:e.type||""};this.poolsObj[t.address]=s,this.addressLpTokens[t.address]=s},async setPools(t,e){this.poolsLoading=!0;let n={};e&&e.includes("Sui")?n=await $fetch(`${Ze[e].api}/v2/sui/liquidity/recommend_ranges`):n=await $fetch(`${Ze.Aptos.api}/v2/liquidity/recommend_ranges`);const r=Object.fromEntries(n.data.list.map((l,d)=>[l.address,l])),s=(t||this.poolConfigList).map(l=>({...l,token_a:l.coinA,token_b:l.coinB,priceConfigObj:r&&r[l.address]&&r[l.address].recommend_ranges,type:r&&r[l.address]&&r[l.address].type}))||[],a=await Ur(e).getPools(),c=[],u={};s.forEach(l=>{const d=a[l.address]||{},h={...l,...d,fee:d.rate*100,tickSpacing:Number(d.tickSpacing)};c.push(h),u[Iw(d.poolAddress)]=h}),this.pools=c,this.poolsObj=u,Object.fromEntries(c.map(l=>[l.poolAddress,l])),this.addressLpTokens=u,this.poolsLoading=!1,c.length<=0&&this.setMyPositionsLoading(!1)},async updateCurrentPools(t,e){const n=Ur(e),r=this.poolsObj[t];if(r){let i={};e&&e.includes("Sui")?i=await n.getPool(r.poolAddress):i=await n.getPoolState(r.poolAddress,r.poolType,!1);const s={...this.poolsObj},o={...s[t],...i};s[t]={...o},this.poolsObj=s}},async setTokens(t){const e=[];(await Ur(t).getTokenList()).forEach(i=>{e.push({...i,logoURI:i.logo_url,chain:t.toLowerCase()})}),this.tokens=e,this.tokensObj=Object.fromEntries(e.map((i,s)=>[i.address,i])),this.tokensNameObj=Object.fromEntries(e.map((i,s)=>[i.address,i])),this.newTokenObj=Object.fromEntries(e.map((i,s)=>[i.address,i])),this.isTokenLoading=!1,this.newTokens=e},async setChinaTokens(t){const n=await Ur(t).getTokenListByCoinType(),r=[];n.forEach(i=>{r.push({...i,logoURI:t=="Aptos"?"https://archive.cetus.zone/assets/image/default1.png":"https://archive.cetus.zone/assets/image/default2.png",logo_url:t=="Aptos"?"https://archive.cetus.zone/assets/image/default1.png":"https://archive.cetus.zone/assets/image/default2.png"})}),this.chinaTokens=r,this.chinaTokensObj=Object.fromEntries(r.map((i,s)=>[i.address,i]))},setCurrentPositionLoading(t){this.currentPositionLoading=t},setMyPositionsLoading(t){this.myPositionsLoading=t},async setRates(t){let e={};if(t&&t.includes("Sui"))try{e=await $fetch(`${Ze.Sui.api}/v2/sui/price`)}catch{e={data:{prices:qP}}}else e=await $fetch(`${Ze.Aptos.api}/v2/price`);const n=e.data.prices||[];this.RATES=Object.fromEntries(n.map(r=>[r.base_symbol=="0x0000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":r.base_symbol,{...r,base_symbol:r.base_symbol=="0x0000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":r.base_symbol}]))},async getMyPositons(t,e,n){this.setMyPositionsLoading(!0);const r=Ur(n),i=await r.getPositionList(t,e)||[];i.length<1&&this.setMyPositionsLoading(!1);const s=[];i.forEach(a=>{const c=this.poolsObj[a.pool];let u,l,d,h="",y,b,T,k;if(a.liquidity&&a.liquidity!=="0"&&c){const O={creator:a.creator,collection:a.collection,name:a.name};n==="Aptos"?k=r.getNftHash(O):k=r.getNftHash(a);const B=c.token_a.decimals,v=c.token_b.decimals;d=os(r.TickMath.sqrtPriceX64ToPrice(c.current_sqrt_price,B,v).toString(),6),u=r.TickMath.tickIndexToPrice(Number(a.tick_lower_index),B,v).toString(),l=r.TickMath.tickIndexToPrice(Number(a.tick_upper_index),B,v).toString();const _=r.getCoinAmountFromLiquidity({pool:c,position:a,roundUp:!0}),S=_.coinaAmount,M=_.coinbAmount,F=Number(M)+Number(S)*Number(d),W=(Number(d)/F*100).toFixed(0),Y=(M/F*100).toFixed(0);c.isPause?h="Closed":Number(d)>=Number(u)&&Number(d)<=Number(l)?h="Active":(Number(d)>Number(l)||Number(d)<Number(u))&&(h="Inactive"),s.push({...a,...c,token_a:{...c.token_a,...this.tokensObj[c.token_a.address],logoURI:this.tokensObj[c.token_a.address].logo_url},token_b:{...c.token_b,...this.tokensObj[c.token_b.address],logoURI:this.tokensObj[c.token_b.address].logo_url},tokenARates:y,tokenBRates:b,amountA:S,amountB:M,fromPercent:W,toPercent:Y,amountUSD:T,tokenName:a.tokenName||a.name,currentStatus:h,positionLiquidity:a.liquidity,nftHash:k,currentPrice:hn(d,12),minPrice:hn(u,12),maxPrice:hn(l,12)})}});const o=s.sort((a,c)=>c.amountUSD-a.amountUSD);this.myPositions=o,this.setMyPositionsLoading(!1),this.getPendingFees(o,n),this.getRewarder(o,n)},async setCurrentPositionInfo(t,e,n,r,i=""){const s=Ur(r),o=this.addressLpTokens&&this.addressLpTokens[t],a=await s.getPool(t),c={...o,...a},u=await s.getPositionInfo(c,e,n,i);if(u&&c){let l,d,h,y="",b,T,k,O,B,v,_,S=0,M=0,F;const W={creator:u.pool,collection:u.collectionName,name:u.name};if(r==="Aptos"?F=s.getNftHash(W):F=s.getNftHash(u),c){try{const p=await s.getTickDataByIndex(c.ticks_handle,Number(u.tick_lower_index)),w=await s.getTickDataByIndex(c.ticks_handle,Number(u.tick_upper_index)),R=await s.getCollectFeesQuote({pool:c,position:u,tickLowerData:p,tickUpperData:w});R&&(S=Number(R.feeOwedA),M=Number(R.feeOwedB))}catch{}const Y=c.token_a.decimals,J=c.token_b.decimals;h=os(s.TickMath.sqrtPriceX64ToPrice(c.current_sqrt_price,Y,J).toString(),6),l=s.TickMath.tickIndexToPrice(Number(u.tick_lower_index),Y,J).toString(),d=s.TickMath.tickIndexToPrice(Number(u.tick_upper_index),Y,J).toString(),b=u.tick_lower_index,T=u.tick_upper_index;const q=s.getCoinAmountFromLiquidity({pool:c,position:u,roundUp:!0});v=q.coinaAmount,_=q.coinbAmount;const L=Number(_)+Number(v)*Number(h),E=(Number(v)*Number(h)/L*100).toFixed(0),f=(Number(_/Number(L))*100).toFixed(0);c.isPause?y="Closed":Number(h)>=Number(l)&&Number(h)<=Number(d)?y="Active":(Number(h)>Number(d)||Number(h)<Number(l))&&(y="Inactive"),this.setCurrentPositionLoading(!1),this.currentPositionInfo={...u,poolInfo:c,token_a:{...c.token_a,...this.tokensObj[c.token_a.address]},token_b:{...c.token_b,...this.tokensObj[c.token_b.address]},current_tick_index:c.current_tick_index,current_sqrt_price:c.current_sqrt_price,tickSpacing:c.tickSpacing,fee:c.fee,poolAddress:c.poolAddress,address:c.address,is_display_rewarder:c.is_display_rewarder,nftHash:F,feeOwedA:S,feeOwedB:M,currentStatus:y,amountA:v,amountB:_,tokenARates:k,tokenBRates:O,amountUSD:B,currentPrice:hn(h,12),minPrice:hn(l,12),minTick:hn(b,12),maxTick:hn(T,12),maxPrice:hn(d,12),fromPercent:E,toPercent:f,tokenName:u.tokenName||u.name}}}},async getPendingFees(t,e){var i,s;const n=this.RATES,r=Ur(e);for(let o=0;o<t.length;o++){const a=t[o],c=await r.getPool(a.poolAddress);if(c){const u=await r.getTickDataByIndex(c.ticks_handle,Number(a.tick_lower_index)),l=await r.getTickDataByIndex(c.ticks_handle,Number(a.tick_upper_index)),d=e==="Aptos"?"":a.pos_object_id,h=await r.getPositionInfo(c,a.collection,a.tokenName,d),y={...c,token_a:this.tokensObj&&this.tokensObj[c.coinTypeA]||this.chinaTokensObj&&this.chinaTokensObj[c.coinTypeA],token_b:this.tokensObj&&this.tokensObj[c.coinTypeB]||this.chinaTokensObj&&this.chinaTokensObj[c.coinTypeB]},b=await r.getCollectFeesQuote({pool:y,position:h,tickLowerData:u,tickUpperData:l}),T=[],k=Number(b.feeOwedA),O=Number(b.feeOwedB);let B,v,_;n&&n[y.token_a.address]&&n[y.token_b.address]?(v=k*((i=n[y.token_a.address])==null?void 0:i.price),_=O*((s=n[y.token_b.address])==null?void 0:s.price),B=v+_):B="--",T.push({amount:k,amountUSD:v,...y.token_a,logoURI:y.token_a.logo_url},{amount:O,amountUSD:_,...y.token_b,logoURI:y.token_b.logo_url}),this.feeOwedObj[a.tokenName]={feesResult:T,feeOwed:B},await Ca(1e3)}}},async getRewarder(t,e){const n=Ur(e),r=this;for(let i=0;i<t.length;i++)if(t[i].rewarder_infos&&t[i].rewarder_infos.length>0){const s=t[i],o=await n.getTickDataByIndex(s.ticks_handle,Number(s.tick_lower_index)),a=await n.getTickDataByIndex(s.ticks_handle,Number(s.tick_upper_index)),c=await n.getPosRewardersAmount({poolAddress:s.poolAddress,positionName:s.tokenName,tickLowerData:o,tickUpperData:a}),u=[];let l=0;c.forEach((d,h)=>{var y;if(s[`rewarder_display${h+1}`]){const b=r.newTokenObj[d.coin_address].decimals,T=r.newTokenObj[d.coin_address],k=Number(d.amount_owed.toString())>99999999999999?0:Number(d.amount_owed.toString()),O=hn(k/Math.pow(10,b),b),B=(y=r.RATES[d.coin_address])==null?void 0:y.price,v=Number(O)*B;l+=v,u.push({...d,...T,amount:O,amountUSD:v,amount_owed:d.amount_owed.toString(),rewarder_display:s[`rewarder_display${h+1}`]}),r.rewarderObj[s.tokenName]={pendingRewarderArr:u.filter(_=>_.rewarder_display),pendingRewarderView:Number(hn(l,2)),pendingRewarder:l}}}),await Ca(1e3)}},setAllTokenObj(t){this.allTokenObj=t}}});function RC(t){return new URL(t,import.meta.url).href}export{tB as A,At as B,gs as C,je as D,Zs as E,EC as F,bs as G,Mw as H,AC as I,od as J,H7 as K,po as L,J0 as M,Os as N,_t as O,$t as T,Ze as _,Zg as a,Ur as b,_C as c,I as d,$f as e,hn as f,os as g,yE as h,RC as i,Pw as j,bC as k,xC as l,lo as m,TC as n,uo as o,nr as p,wC as q,vC as r,mC as s,SC as t,BC as u,Xu as v,HO as w,Jg as x,__ as y,iB as z};
