import{_ as sn,a as ln}from"./token-warning-modal.1613836c.js";import{_ as un}from"./assets-card.f2edcd54.js";import{u as Pe,a as ko,c as be,D as m,s as se,e as E,j as we,d as de,r as De,p as Ce,b as rn,f as Ee}from"./pool.0f02dce8.js";import{e as Oe,a as We,a4 as So,a5 as Io,r as f,m as $,D as K,q as Fe,o as u,f as h,h as o,c as D,x as R,t as z,j as G,v as d,z as ce,u as X,J as $o,S as No,p as _e,k as Re,a6 as dn,i as re,w as ie,N as To,M as Bo,K as Po,F as oo,s as wo,B as Oo,b as yo,l as cn,y as mn,C as vn,a8 as qe}from"./entry.868b1999.js";/* empty css              *//* empty css              */import{u as Je,c as Ae,a as pn}from"./sha256.42d79f92.js";import"./decimal.410ab82d.js";import{i as me}from"./import-icon.de3e6c66.js";import{a as fn,_ as gn}from"./network-tips.4a58b5b1.js";import{_ as hn}from"./coin-select.d4250827.js";/* empty css              */import{u as Cn}from"./swapRouter.4f40501f.js";import{_ as An}from"./img-leverage_2x.1c577303.js";/* empty css              */import"./icon-selected_3x.09e9a6f0.js";import"./token-warning.b74ef0bf.js";/* empty css              */import"./img-no-Positions_2x.bdbddfda.js";const bn=""+globalThis.__publicAssetsURL("sui-image/route-view.png");const wn=We({props:{swapLoading:{type:Boolean,default:!1},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},impact:{type:String,default:""},insufficientLiquidity:{type:Boolean,default:!1},oneToAmount:{type:String,default:""},oneFromAmount:{type:String,default:""},suiPreSwapdata:{type:Object,default:()=>({})},suiSwapFee:{type:String,default:""},swapRouterLoading:{type:Boolean,default:!1}},setup(e){const v=So(Io,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0}),A=f(!1),C=Je(),T=$(()=>C),_=$(()=>T.value.slippage),i=$(()=>T.isShowRouterModal);K(()=>e,N=>{},{immediate:!0,deep:!0});const P=Pe(),S=$(()=>P),j=ko("Sui"),U=f({}),Z=f({}),Q=f({});K(()=>[e.suiPreSwapdata,S.value.tokensObj],async([N,p])=>{N&&!be(N)&&p&&!be(p)&&(N.coinTypeA&&(U.value=p[N.coinTypeA]||(await j.getTokenListByCoinType([N.coinTypeA]))[0]),N.coinTypeB&&(Z.value=p[N.coinTypeB]||(await j.getTokenListByCoinType([N.coinTypeB]))[0]),N.coinTypeC&&(Q.value=p[N.coinTypeC]||(await j.getTokenListByCoinType([N.coinTypeC]))[0]))},{immediate:!0});const Y=f(0),J=f(0);return K(()=>[e.fromCoinAmount,e.toCoinAmount,e.fromCoin,e.toCoin,e.fixedFromCoin,_.value],([N,p,le,q,H,s])=>{if(N&&p&&le&&q&&s)if(H){const r=new m(p).mul(new m(s/100));J.value=new m(p).sub(r).toString()}else{const r=new m(N).mul(new m(s/100));Y.value=new m(N).sub(r).toString()}},{immediate:!0}),{sFixD:se,getCoinIcon:N=>{var p;return(N==null?void 0:N.logoURI)||(N==null?void 0:N.logo_url)||((p=S.value.tokensObj[N==null?void 0:N.address])==null?void 0:p.logo_url)||(T.theme==="default"?me("/image/coins/unknown.png"):me("/image/coins/sui-unknown.png"))},indicator:v,rateChange:A,slippage:_,isShowRouterModal:i,indexStore:C,coinTypeA:U,coinTypeB:Z,coinTypeC:Q,maximumSold:Y,minimumReceived:J,addCommom:E}}}),ye=e=>(_e("data-v-fd74e509"),e=e(),Re(),e),yn={key:0,class:"swap-info"},kn={class:"loading-swap"},Sn={key:1,class:"swap-rate"},In={key:0},$n={key:0},Nn={key:1},Tn={key:0},Bn=ye(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Pn=ye(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),On=[Bn,Pn],Fn={key:2},_n={class:"trade-info"},Rn={class:"trade-block"},Un=ye(()=>o("div",{class:"lebal"},"Price Impact",-1)),Mn={key:0,class:"icon","aria-hidden":"true"},jn=ye(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Ln=[jn],Dn={class:"trade-block"},En={class:"lebal"},qn={key:0,class:"text"},Wn={class:"trade-block"},Jn=ye(()=>o("div",{class:"lebal"},"Fee",-1)),Xn={key:0,class:"text"},Qn={key:0,class:"trade-block"},zn=ye(()=>o("div",{class:"lebal"},"Route",-1)),Yn={key:0,class:"text"},Zn={key:0},Hn={key:1},Kn={key:2},Gn=ye(()=>o("img",{src:bn,alt:""},null,-1));function Vn(e,v,A,C,T,_){const i=$o,P=No,S=Fe("image");return e.swapLoading||Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&!e.insufficientLiquidity?(u(),h("div",yn,[o("div",kn,[e.swapLoading||e.swapRouterLoading?(u(),D(i,{key:0,size:"small",indicator:e.indicator},null,8,["indicator"])):R("",!0),e.swapLoading?e.swapLoading?(u(),h("span",Fn,"Best route and price")):R("",!0):(u(),h("div",Sn,[e.rateChange?(u(),h("span",Nn,[e.fromCoinAmount&&e.toCoinAmount?(u(),h("span",Tn,[z(o("img",null,null,512),[[S,e.getCoinIcon(e.toCoin)]]),G(" 1 "+d(e.toCoin.symbol)+" ≈ ",1),z(o("img",null,null,512),[[S,e.getCoinIcon(e.fromCoin)]]),G(d(e.oneFromAmount==1/0?0:e.oneFromAmount)+" "+d(e.fromCoin.symbol),1)])):(u(),D(i,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(u(),h("span",In,[z(o("img",null,null,512),[[S,e.getCoinIcon(e.fromCoin)]]),G(" 1 "+d(e.fromCoin.symbol)+" ≈ ",1),e.fromCoinAmount&&e.toCoinAmount?(u(),h("span",$n,[z(o("img",null,null,512),[[S,e.getCoinIcon(e.toCoin)]]),G(d(e.oneToAmount==1/0?0:e.oneToAmount)+" "+d(e.toCoin.symbol),1)])):(u(),D(i,{key:1,indicator:e.indicator},null,8,["indicator"]))])),o("div",{class:"right",onClick:v[0]||(v[0]=j=>e.rateChange=!e.rateChange)},On)]))]),o("div",_n,[o("div",Rn,[Un,e.swapRouterLoading?(u(),D(P,{key:1,paragraph:!1,active:""})):(u(),h("div",{key:0,class:ce(["text",e.impact<1?"impact-s":e.impact<10&&e.impact>=1?"impact-w":"impact-e"])},[G(d(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(u(),h("svg",Mn,Ln)):R("",!0)],2))]),o("div",Dn,[o("div",En,d(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swapRouterLoading?(u(),D(P,{key:1,paragraph:!1,active:""})):(u(),h("div",qn,d(e.fixedFromCoin?("addCommom"in e?e.addCommom:X(E))(("sFixD"in e?e.sFixD:X(se))(e.minimumReceived,e.toCoin.decimals)):("addCommom"in e?e.addCommom:X(E))(("sFixD"in e?e.sFixD:X(se))(e.maximumSold,e.fromCoin.decimals)))+" "+d(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",Wn,[Jn,e.swapRouterLoading?(u(),D(P,{key:1,paragraph:!1,active:""})):(u(),h("div",Xn,d(e.suiSwapFee),1))]),e.insufficientLiquidity?R("",!0):(u(),h("div",Qn,[zn,e.swapRouterLoading?(u(),D(P,{key:1,paragraph:!1,active:""})):(u(),h("div",{key:0,class:"text",onClick:v[1]||(v[1]=j=>e.indexStore.setIsShowRouterModal(!e.isShowRouterModal))},[e.swapRouterLoading?R("",!0):(u(),h("div",Yn,[e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeA?(u(),h("span",Zn,d(e.coinTypeA.symbol)+" "+d(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?"> ":""),1)):R("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?(u(),h("span",Hn,d(e.coinTypeB.symbol)+" "+d(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?"> ":""),1)):R("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?(u(),h("span",Kn,d(e.coinTypeC.symbol),1)):R("",!0)])),Gn]))]))])])):R("",!0)}const xn=Oe(wn,[["render",Vn],["__scopeId","data-v-fd74e509"]]);async function ea(e,v){var _,i;const A=e==="0x2::sui::SUI"?"0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI":e,C=`${Ae.Sui.api}/v2/sui/coin/kline?coin_address=${A}&interval=hour&market=${v}`,T=await $fetch(C);return((i=(_=T==null?void 0:T.data)==null?void 0:_.list)==null?void 0:i.reverse())||[]}async function oa(e){const{prices:v}=await $fetch(`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&id=${e}&days=1&interval=hourly`,{headers:{Connection:"keep-alive",Accept:"*/*"}}),A=[];return v.forEach(C=>{A.push({price:C[1],timestamp:C[0]})}),A}const na={props:{coin:{type:Object,default:()=>({})},refresh:{type:Boolean,default:!1},id:{type:String,default:""},market:{type:String,default:""}},setup(e,v){const{$echarts:A}=dn();let C=null,T;const _=f(!0),i=Je(),P=$(()=>i),S=$(()=>P.value.chainName),j=$(()=>Ae[S.value]),U=Pe(),Z=$(()=>U),Q=(s,r,O)=>{T={xAxis:{type:"category",boundaryGap:!1,show:!1,data:r},yAxis:{type:"value",show:!1,min:function(B){return B.min-B.min*.1},max:function(B){return B.max+B.max*.1}},grid:{top:1,right:1,bottom:1,left:1},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:P.value.chainName=="Aptos"?"#68FFD8":"#76C8FF"}},formatter:function(B){return`<div class="chart-tip">
              <div>${B&&B[0]&&B[0].name}</div>
              <div>$${we(B&&B[0]&&B[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:P.value.chainName=="Aptos"?"#0C4535":"#2E546D"},{offset:1,color:P.value.chainName=="Aptos"?"#151817":"#1B1B1B"}]},series:[{data:s,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:P.value.chainName=="Aptos"?"#68FFD8":"#76C8FF",width:2,type:"solid"}}]},T&&C.clear(),T&&C.setOption(T,!0),C.resize(),_.value=!1},Y=f(""),J=f(""),V=async s=>{var ne,pe;const r=[],O=[],B=S.value==="Aptos"?await oa(s):await ea(s,e.market);Y.value=B&&B.length>1&&(B[B.length-1].price-B[0].price)/B[0].price*100,J.value=B&&B.length>1&&B[B.length-1].price,S.value==="Aptos"?B.forEach(I=>{r.push(I.price);const W=De(Number(I.timestamp),"MD"),t=De(Number(I.timestamp),"HM");O.push(W+" "+t)}):B.forEach(I=>{r.push(I.price);const W=De(new m(I.timestamp).mul(1e3).toNumber(),"MD"),t=De(new m(I.timestamp).mul(1e3).toNumber(),"HM");O.push(W+" "+t)});let Se=document.getElementById(`main${(ne=e.coin)==null?void 0:ne.name}`);C=A.init(Se),Q(r,O,(pe=e.coin)==null?void 0:pe.name)};K(()=>e.id,(s,r)=>{s&&(Y.value="",J.value="",setTimeout(()=>{V(s)},1e3))},{immediate:!0});const N=f(""),p=f(""),le=f(""),q=f("");return K(()=>[Z.value.tokensObj,e.coin],([s,r])=>{var O,B;s&&r&&s[r.address]&&(p.value=((O=s[r.address])==null?void 0:O.labels)&&((B=s[r.address])==null?void 0:B.labels[0]),N.value=s[r.address].name,le.value=s[r.address].symbol,q.value=s[r.address].address)},{immediate:!0,deep:!0}),K(()=>e.refresh,s=>{s&&V(e.id)}),{theme:$(()=>P.value.theme),store:i,importIcon:me,fixD:we,config:j,price_rate_24h:Y,nowPrice:J,coinName:N,coinLabels:p,coinSymbol:le,address:q,decimalUi:de}}},aa="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAk1BMVEUAAADn2v/m2//r2//v4//n2v/55P/n2v/o3P//+P/m2v/n2f/n2v/n2v/n2v/n2v/n2v/o2//p2//n3f/o3v/n2f/n2v/n2v/n2v/n2v/n2//o2v/q3f/r4f/u3f/n2v/o2v/n2//p3P/o3P/m2v/n2v/n2f/n2v/o2f/n2//r3f/t3P/n2v/m2v/o2v/r3v/m2f/tUDLHAAAAMHRSTlMAl5oyFNMJqSwFhvvr5d7Yr2FGNSD0zb2lkIltOhkOxoJoT0D48aJzWFYlHeB8Wief0nHAAAABSElEQVQ4y52Q53LCMBCEZWK5g0swBpveQknZ93+6rFxAHkSYyf6x9+67JqHLKxOZRzJJbWHStkCn0Fo8pG0XuvJv0dciBjVZb+dZeoxABb38MlbpXeucr5z2QwdUf8vX1h0ByLT9aAeCGlez4Ozw5zoE4nvFBJB0yymUhqp0B2DT5ec0O+YlWlUMJsCqAwJA8jNV1W4RAnuvqepeYwWsOR/AkfM9ji8YjYBTC3wCZyEq1jvKnoCQP8X90j0wF2IGuM2jArjUE8sWAPAmxACwavtDf623XJsBtoqa2zcm4MI8Ag7iNZkBeAcVc8cUOPhPgJjP4I/UzkYgKtWxpQqaAGfMvvUATIUBaOQHAEb2M2CZcj4OnrhJasDYXYVQ9Vpe2LJ/BeWyf4/oAXlC25e9uI0IqswRJulX/BOwXgG2JPCCIPA3sXmM/QK1PTc8LGCPoAAAAABJRU5ErkJggg==",ta="data:image/png;base64,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";const sa=e=>(_e("data-v-f362c7db"),e=e(),Re(),e),ia={class:"token-info"},la={class:"token-info-padding"},ua={class:"token-info-header"},ra={class:"left"},da=["onerror"],ca={class:"name"},ma={class:"desc"},va={key:0},pa={class:"right"},fa={class:"price-info"},ga={key:0,src:aa,alt:""},ha={key:1,src:ta,alt:""},Ca={class:"token-info-footer"},Aa={class:"left"},ba={class:"address"},wa={key:0,class:"pc-address"},ya={key:1,class:"pc-address"},ka={class:"h5-address"},Sa=sa(()=>o("use",{"xlink:href":"#icon-icon-copy1"},null,-1)),Ia=[Sa],$a={class:"right"},Na=["id"];function Ta(e,v,A,C,T,_){var S;const i=To,P=Fe("image");return u(),h("div",ia,[o("div",la,[o("div",ua,[o("div",ra,[z(o("img",{onerror:C.theme=="default"?C.importIcon("/image/coins/unknown.png"):C.importIcon("/image/coins/sui-unknown.png")},null,8,da),[[P,A.coin.logoURI||C.importIcon(`/image/coins/${A.coin.symbol.toLowerCase()}.png`)]]),o("div",null,[o("div",ca,d(C.coinSymbol),1),o("div",ma,[o("span",null,[G(d(C.coinName)+" ",1),C.theme!=="sui"?(u(),h("span",va,d(C.coinLabels?`(${C.coinLabels})`:""),1)):R("",!0)])])])]),o("div",pa,[re(i,{placement:"top","arrow-point-at-center":""},{title:ie(()=>[G(d(A.market==="pyth"?"Data source: Pyth Network":"Data source: CoinGecko"),1)]),default:ie(()=>[o("div",fa,[A.market==="pyth"?(u(),h("img",ga)):(u(),h("img",ha)),o("span",null,"$"+d(C.nowPrice?Number(C.nowPrice)<1?C.decimalUi(C.nowPrice,4):C.fixD(C.nowPrice,2):"--"),1),C.price_rate_24h?(u(),h("i",{key:2,class:ce(C.price_rate_24h>0?"up":C.price_rate_24h<0?"down":"up")},d(C.price_rate_24h>0?`+ ${C.fixD(C.price_rate_24h,2)}`:C.price_rate_24h<0?+`${C.fixD(C.price_rate_24h,2)}`:`+${C.fixD(C.price_rate_24h,2)}`)+"%",3)):R("",!0)])]),_:1})])]),o("div",Ca,[o("div",Aa,[o("div",ba,[A.coin&&C.address!=="0x2::sui::SUI"?(u(),h("span",wa,d(A.coin&&A.coin.address.substr(0,13))+" ... "+d(A.coin&&A.coin.address.substr(A.coin.address.length-13,13)),1)):(u(),h("span",ya,d(A.coin&&A.coin.address),1)),o("span",ka,d(A.coin&&A.coin.address.substr(0,4))+" ... "+d(A.coin&&A.coin.address.substr(A.coin.address.length-4,4)),1),(u(),h("svg",{class:"icon","aria-hidden":"true",onClick:v[0]||(v[0]=j=>C.store.copy(A.coin&&A.coin.address))},Ia))])]),o("div",$a,[o("div",{id:`main${(S=A.coin)==null?void 0:S.name}`,class:"main"},null,8,Na)])])])])}const Ba=Oe(na,[["render",Ta],["__scopeId","data-v-f362c7db"]]);const Pa=We({components:{Modal:Bo},props:{routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},routerTotalAmounts:{type:String,default:""}},setup(e){const v=Pe(),A=$(()=>v),C=f([]);return K(()=>[e.routerPool,A.value.routerPoolConfigObj,e.routerTotalAmounts,e.fromCoin,e.toCoin],([T,_,i,P,S])=>{if(T&&T.length>0&&_&&!be(_)&&i){const j=[];T.forEach(U=>{const Z="100",Q=U.amountIn.toString(),Y=Ce(U.amountOut.toString(),S.decimals),J=U.poolAddress.map((V,N)=>({..._&&_[V]}));j.push({percent:Z,...U,amountIn:Q,amountOut:Y,poolAddress:J})}),C.value=j}},{immediate:!0}),$(()=>{var T,_;return(_=(T=A.value)==null?void 0:T.poolInfo)==null?void 0:_.needReverse}),{addCommom:E,routerStep:C}}}),Xe=e=>(_e("data-v-0c1c23b0"),e=e(),Re(),e),Oa=Xe(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Fa={class:"route-top"},_a={class:"token-a"},Ra={alt:""},Ua={class:"token-num"},Ma={class:"token-symbol"},ja={class:"token-b"},La={class:"token-num"},Da={class:"token-symbol"},Ea={alt:""},qa={class:"route-bottom"},Wa=Xe(()=>o("div",{class:"left-round"},null,-1)),Ja=Xe(()=>o("div",{class:"right-round"},null,-1)),Xa={class:"percent"},Qa={class:"pool-info"},za={class:"token-a-img",alt:""},Ya={class:"token-b-img",alt:""},Za={key:0,class:"icon","aria-hidden":"true"},Ha=Xe(()=>o("use",{"xlink:href":"#icon-icon_on1"},null,-1)),Ka=[Ha];function Ga(e,v,A,C,T,_){const i=Po("Modal"),P=Fe("image");return u(),D(i,{title:"Route",width:"600px",visible:!0,footer:null,onCancel:v[0]||(v[0]=S=>e.$emit("onClose"))},{closeIcon:ie(()=>[Oa]),default:ie(()=>{var S,j,U,Z;return[o("div",Fa,[o("div",_a,[z(o("img",Ra,null,512),[[P,(S=e.fromCoin)==null?void 0:S.logo_url]]),o("span",Ua,d(("addCommom"in e?e.addCommom:X(E))(e.fromCoinAmount)),1),o("span",Ma,d((j=e.fromCoin)==null?void 0:j.symbol),1)]),o("div",ja,[o("span",La,d(("addCommom"in e?e.addCommom:X(E))(e.toCoinAmount)),1),o("span",Da,d((U=e.toCoin)==null?void 0:U.symbol),1),z(o("img",Ea,null,512),[[P,(Z=e.toCoin)==null?void 0:Z.logo_url]])])]),o("div",qa,[Wa,Ja,(u(!0),h(oo,null,wo(e.routerStep,(Q,Y)=>(u(),h("div",{key:Q,class:ce(["route-path",Y!==0?"route-path-active":""])},[o("div",Xa,[o("span",null,d(Q.percent)+"%",1),o("span",null,d(("addCommom"in e?e.addCommom:X(E))(Q.amountOut))+" "+d(e.toCoin.symbol),1)]),(u(!0),h(oo,null,wo(Q.poolAddress,(J,V)=>(u(),h("div",{key:V,class:"pool-info-box"},[o("div",Qa,[z(o("img",za,null,512),[[P,J.needReverse?J.coinB.logo_url:J.coinA.logo_url]]),z(o("img",Ya,null,512),[[P,J.needReverse?J.coinA.logo_url:J.coinB.logo_url]]),o("span",null,d(J.fee*100)+"%",1)]),V!==Q.poolAddress.length-1?(u(),h("svg",Za,Ka)):R("",!0)]))),128))],2))),128))])]}),_:1})}const Va=Oe(Pa,[["render",Ga],["__scopeId","data-v-0c1c23b0"]]),xa=We({components:{Modal:Bo},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:"1245566.008946"},toCoinAmount:{type:String,default:"998041.711793"},slippage:{type:String,default:""},impact:{type:Number,required:!0},fixedFromCoin:{type:Boolean,default:!1},fee:{type:String,required:!0},formatFee:{type:String,default:""},isShowAccept:{type:Boolean,default:!1},swapLoading:{type:Boolean,required:!0},oneFromAmount:{type:String,default:""},oneToAmount:{type:String,default:""}},setup(e,v){const A=Pe(),C=$(()=>A),T=Je(),_=$(()=>T),i=U=>{var Z;return(U==null?void 0:U.logoURI)||(U==null?void 0:U.logo_url)||((Z=C.value.tokensObj[U==null?void 0:U.address])==null?void 0:Z.logo_url)||(_.value.theme==="default"?me("/image/coins/unknown.png"):me("/image/coins/sui-unknown.png"))},P=f(!1),S=$(()=>_.value.chainName);return{getCoinIcon:i,addCommom:E,sFixD:se,rateChange:P,chainName:S,clickNextBtn:async()=>{v.emit("to-swap")}}}});const ve=e=>(_e("data-v-a8ec2ef8"),e=e(),Re(),e),et=ve(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),ot={class:"new-swap-contnet"},nt={class:"coin-info"},at={class:"from-coin-info"},tt={class:"left"},st={class:"coin-amount"},it={class:"coin-symbol"},lt={class:"right"},ut={class:"to-coin-info"},rt={class:"left"},dt={class:"coin-amount"},ct={class:"coin-symbol"},mt={class:"right"},vt=ve(()=>o("div",{class:"to-swap-logo"},null,-1)),pt={class:"coin-rate"},ft={key:0},gt={class:"left"},ht=ve(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),Ct=ve(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),At=[ht,Ct],bt={key:1},wt={class:"left"},yt=ve(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),kt=ve(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),St=[yt,kt],It={class:"bottom"},$t={class:"induction"},Nt={class:"item"},Tt={class:"induction-text"},Bt={class:"induction-value"},Pt={class:"item"},Ot={class:"induction-text"},Ft={class:"induction-value"},_t={class:"item"},Rt={class:"induction-text"},Ut={key:0,class:"icon","aria-hidden":"true"},Mt=ve(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),jt=[Mt],Lt={class:"item"},Dt={class:"induction-text"},Et={key:0,class:"induction-value"},qt={key:1,class:"induction-value"},Wt={key:0,class:"price-updated"},Jt=ve(()=>o("span",null,"Price updated",-1));function Xt(e,v,A,C,T,_){const i=Oo,P=Po("Modal"),S=Fe("image");return u(),D(P,{width:"440px",visible:!0,footer:null,title:e.$t("button.swap"),class:"add-liquidity-modal",onCancel:v[4]||(v[4]=j=>e.$emit("on-close"))},{closeIcon:ie(()=>[et]),default:ie(()=>[o("div",ot,[o("div",nt,[o("div",at,[o("div",tt,[o("div",st,d(e.fromCoinAmount&&("addCommom"in e?e.addCommom:X(E))(e.fromCoinAmount)),1),o("div",it,d(e.fromCoin&&e.fromCoin.symbol),1)]),o("div",lt,[z(o("img",null,null,512),[[S,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]])])]),o("div",ut,[o("div",rt,[o("div",dt,d(e.toCoinAmount&&("addCommom"in e?e.addCommom:X(E))(e.toCoinAmount)),1),o("div",ct,d(e.toCoin&&e.toCoin.symbol),1)]),o("div",mt,[z(o("img",null,null,512),[[S,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]])]),vt]),o("div",pt,[e.rateChange?(u(),h("div",bt,[o("div",wt,[z(o("img",null,null,512),[[S,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]]),o("span",null,"1 "+d(e.toCoin&&e.toCoin.symbol)+" ≈",1),z(o("img",null,null,512),[[S,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]]),o("span",null,d(e.oneFromAmount)+" "+d(e.fromCoin.symbol),1)]),o("div",{class:"right",onClick:v[1]||(v[1]=j=>e.rateChange=!e.rateChange)},St)])):(u(),h("div",ft,[o("div",gt,[z(o("img",null,null,512),[[S,e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)]]),o("span",null,"1 "+d(e.fromCoin&&e.fromCoin.symbol)+" ≈",1),z(o("img",null,null,512),[[S,e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)]]),o("span",null,d(e.oneToAmount)+" "+d(e.toCoin.symbol),1)]),o("div",{class:"right",onClick:v[0]||(v[0]=j=>e.rateChange=!e.rateChange)},At)]))])]),o("div",It,[o("div",$t,[o("div",Nt,[o("div",Tt,d(e.$t("modal.slippageTolerance")),1),o("div",Bt,d(e.slippage)+"%",1)]),o("div",Pt,[o("div",Ot,d(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",Ft,d(e.fixedFromCoin?("addCommom"in e?e.addCommom:X(E))(("sFixD"in e?e.sFixD:X(se))(e.toCoinAmount-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals)):("addCommom"in e?e.addCommom:X(E))(("sFixD"in e?e.sFixD:X(se))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals)))+" "+d(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),o("div",_t,[o("div",Rt,d(e.$t("common.priceImpact")),1),o("div",{class:ce(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>=1?"impact-w":"impact-e"])},[G(d(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(u(),h("svg",Ut,jt)):R("",!0)],2)]),o("div",Lt,[o("div",Dt,d(e.$t("common.fee")),1),e.chainName=="Aptos"?(u(),h("div",Et,d(e.formatFee)+" "+d(e.fromCoin.symbol)+" ("+d(e.fee*100)+"%) ",1)):(u(),h("div",qt,d(e.fee),1))])])])]),e.isShowAccept?(u(),h("div",Wt,[Jt,re(i,{class:"accept-btn",loading:e.swapLoading,onClick:v[2]||(v[2]=j=>e.$emit("accept"))},{default:ie(()=>[G("Accept")]),_:1},8,["loading"])])):(u(),D(i,{key:1,class:"big-btn swap-confirm-btn",onClick:v[3]||(v[3]=j=>e.clickNextBtn())},{default:ie(()=>[G(d(e.$t("button.confirmSwap")),1)]),_:1}))]),_:1},8,["title"])}const Qt=Oe(xa,[["render",Xt],["__scopeId","data-v-a8ec2ef8"]]),zt=We({setup(){const e=yo(),v=So(Io,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:A,locale:C}=cn(),T=Je(),_=Pe(),i=$(()=>_);let P=f(!1),S=f(!1),j=f(!1),U=f(!1),Z=f(!1),Q=f(!1);const Y=f("fromCoin"),J=f(""),V=f(""),N=f(!1),p=f(!0),le=f(!1),q=f(!1),H=f(!1),s=f(""),r=f(""),O=f(20),B=f(0),Se=f(null),ne=f(!1),pe=$(()=>T.slippage),I=$(()=>T.chainName),W=$(()=>I.value?ko(I.value):{}),t=f(),c=f(),Qe=$(()=>Ae&&Ae[I.value]&&Ae[I.value].hasRouter),no=$(()=>_.getPoolInfoSuccess),Fo=$(()=>{var n;return k.value&&((n=k.value)!=null&&n.is_pause)?"Pool Closed":!t.value||!c.value?A("modal.selectTokenModalTitle"):!Number(s.value)&&!Number(r.value)?A("button.enterAmount"):!Qe.value&&!k.value&&no.value?"Pool Not Found":Qe.value&&Te.value?"No Available Route":ne.value?A("button.insufficientLiquidity"):Number(s.value)>Number(oe.value)?A("button.insufficientBalance",{name:t.value.symbol}):A("button.swap")}),_o=n=>{var l,a,g,b;Y.value=n,n==="fromCoin"?(J.value=((l=c.value)==null?void 0:l.address)||"",V.value=((a=t.value)==null?void 0:a.address)||""):(J.value=((g=t.value)==null?void 0:g.address)||"",V.value=((b=c.value)==null?void 0:b.address)||""),N.value=!0},ze=f({}),Ye=f({}),Ro=n=>{Y.value==="fromCoin"?(ze.value=n,He(n)):(Ye.value=n,He(n))},Uo=n=>{n==="fromCoin"?(p.value=!0,I.value==="Aptos"?s.value=oe.value>0?t.value.symbol=="APT"?new m(Number(oe.value)).sub(new m(.1)).lt(new m(0))?"0":new m(Number(oe.value)).sub(new m(.1)).toString():String(oe.value):"":s.value=oe.value>0?t.value.symbol=="SUI"?new m(Number(oe.value)).sub(new m(.05)).lt(new m(0))?"0":new m(Number(oe.value)).sub(new m(.05)).toString():String(oe.value):""):(p.value=!1,I.value==="Aptos"?r.value=ae.value>0?c.value.symbol=="APT"?new m(Number(ae.value)).sub(new m(.1)).lt(new m(0))?"0":new m(Number(ae.value)).sub(new m(.1)).toString():String(ae.value):"":r.value=ae.value>0?c.value.symbol=="SUI"?new m(Number(ae.value)).sub(new m(.05)).lt(new m(0))?"0":new m(Number(ae.value)).sub(new m(.05)).toString():String(ae.value):"")},Mo=n=>{n==="fromCoin"?(p.value=!0,s.value=oe.value>0?se(new m(Number(oe.value)).div(2).toString(),t.value.decimals).toString():""):(p.value=!1,r.value=ae.value>0?se(new m(Number(ae.value)).div(2).toString(),c.value.decimals).toString():"")};mn(()=>{to()}),vn(()=>{clearInterval(Se.value)});const Ze=$(()=>T),ao=()=>{!k.value&&!Qe.value||(clearInterval(Se.value),_.setPoolConfigList(Ze.value.chainName,Ze.value.filterCoinsObj),B.value=0,S.value=!0,k.value&&_.updateCurrentPools(k.value.poolAddress,I.value),Ne(p.value?s.value:r.value),ee.value.address&&W.value.getAccount(ee.value.address),T.getStatsData(I.value,Ze.value.filterCoinsObj),setTimeout(()=>{S.value=!1,to()},1e3))},to=()=>{Se.value=setInterval(()=>{S.value=!1,le.value||B.value<O.value&&(B.value+=1,B.value===O.value&&(I.value=="Aptos"?k.value&&k.value.poolAddress&&_.updateCurrentPools(k.value.poolAddress,I.value):Q.value||ao(),B.value=0,S.value=!0))},1e3)};K(p,qe((n,l)=>{p.value=n},500));const Ie=f(!1);K(s,qe((n,l)=>{n&&n!==0&&p.value&&Ne(n),n==""&&p.value&&(r.value="")},500)),K(r,qe((n,l)=>{n&&n!==0&&!p.value&&Ne(n),n==""&&!p.value&&(s.value="")},500));const ue=f(1e-4),Ue=async n=>{let l=n;if(I.value==="Aptos"&&!l.current_sqrt_price&&s.value&&r.value){const a=await W.value.getPools([l.address]);a&&a[0]&&(l={...n,...a[0],fee:Number(a[0].fee_rate)/1e6})}if(l.current_sqrt_price&&s.value&&r.value){const g=(t.value.address===l.coinA.address&&c.value.address===l.coinB.address?0:1)==0,b=new m(s.value),w=new m(r.value),F=b.sub(b.mul(new m(l.fee))),L=w.div(F);return W.value.getPriceImpactPct(l,L.toString(),g)}return"--"},so=f(0),io=f(0),lo=f(),$e=f({}),jo=async n=>{if(k.value&&!(p.value&&Number(s.value)==0)&&!(!p.value&&Number(r.value)==0))if(t.value&&c.value&&(s.value||r.value)){q.value=!0,H.value=!0,ne.value=!1;const l=t.value.address===k.value.coinA.address&&c.value.address===k.value.coinB.address?0:1;try{let a=await W.value.preSwap({pool:k.value,a2b:l==0,byAmountIn:p.value,amount:p.value?s.value:r.value});ne.value=a==null?void 0:a.isExceed,lo.value=a==null?void 0:a.estimatedFeeAmount,p.value?(r.value=a.estimatedAmountOut,ge.value=(Number(a.estimatedAmountOut)/n).toString(),fe.value=(n/Number(a.estimatedAmountOut)).toString()):(s.value=a.estimatedAmountIn,ge.value=(n/Number(a.estimatedAmountIn)).toString(),fe.value=(Number(a.estimatedAmountIn)/n).toString()),so.value=new m(r.value).div(s.value).toString(),io.value=new m(s.value).div(r.value).toString(),ue.value=I.value=="Aptos"?await Ue(k.value):await Ue($e.value||k.value),q.value=!1,H.value=!1}catch{q.value=!1,H.value=!1}}else p.value?r.value="":s.value="",q.value=!1,H.value=!1},Lo=pn(),ee=$(()=>Lo),Do=f({}),fe=f(""),ge=f(""),oe=$(()=>ee.value.assets&&t.value&&ee.value.assets[t.value.address]?Ce(ee.value.assets[t.value.address].balance,t.value.decimals):0),ae=$(()=>ee.value.assets&&c.value&&ee.value.assets[c.value.address]?Ce(ee.value.assets[c.value.address].balance,c.value.decimals):0);yo(),K(()=>i.value.tokensObj,async n=>{if(!be(n)){const l=e?e.currentRoute.value.query.to:"",a=e?e.currentRoute.value.query.from:"";a?t.value=await W.value.getTokenBySymbol(n,a):!a&&!t.value&&(t.value=await W.value.getTokenBySymbol(n,Ae[I.value].swapDefaultPair.fromCoin)),l?c.value=await W.value.getTokenBySymbol(n,l):!l&&!c.value&&(c.value=await W.value.getTokenBySymbol(n,Ae[I.value].swapDefaultPair.toCoin)),!a&&l&&(t.value="")}},{immediate:!0});const k=$(()=>{var n,l,a,g,b;if(t.value&&c.value){let w=null,F={};if(Object.values(i.value.poolConfigList).forEach(y=>{var M,x,te,Le;(y.coinA.address.toUpperCase()===((M=t.value.address)==null?void 0:M.toUpperCase())&&y.coinB.address.toUpperCase()===((x=c.value.address)==null?void 0:x.toUpperCase())||y.coinB.address.toUpperCase()===((te=t.value.address)==null?void 0:te.toUpperCase())&&y.coinA.address.toUpperCase()===((Le=c.value.address)==null?void 0:Le.toUpperCase()))&&(F[y.address]={...y})}),I.value=="Aptos"&&i.value.poolsObj&&!be(i.value.poolsObj))for(const y in i.value.poolsObj){const M=i.value.poolsObj[y];(M.token_a.address.toUpperCase()===((n=t.value.address)==null?void 0:n.toUpperCase())&&M.token_b.address.toUpperCase()===((l=c.value.address)==null?void 0:l.toUpperCase())||M.token_b.address.toUpperCase()===((a=t.value.address)==null?void 0:a.toUpperCase())&&M.token_a.address.toUpperCase()===((g=c.value.address)==null?void 0:g.toUpperCase()))&&(F[M.address]={...M})}const L=Object.values(F).sort((y,M)=>y.fee-M.fee);for(let y=0;y<L.length;y++)if(!((b=L[y])!=null&&b.is_pause)){w=L[y];break}return w=Object.values(F).sort((y,M)=>y.fee-M.fee)[0],w&&!be(w)?w:null}return null}),uo=f(!0),ro=f(!1),Eo=async n=>{n&&I.value=="Aptos"&&(Ne(p.value?s.value:r.value),ro.value=!0,n.coinA.symbol.toLowerCase()===t.value.symbol.toLowerCase()&&n.coinB.symbol.toLowerCase()===c.value.symbol.toLowerCase()?uo.value=!0:uo.value=!1,ne.value=!1)};K(()=>k.value,(n,l)=>{n&&(!l||n.address!==l.address||n.current_sqrt_price!==l.current_sqrt_price)&&Eo(n)},{immediate:!0,deep:!0});const qo=$(()=>i.value.tokensObj&&t.value&&t.value.address&&i.value.tokensObj[t.value.address]&&i.value.tokensObj[t.value.address].logoURI),Wo=$(()=>i.value.tokensObj&&c.value&&c.value.address&&i.value.tokensObj[c.value.address]&&i.value.tokensObj[c.value.address].logoURI),Jo=$(()=>I.value==="Aptos"?i.value.tokensObj&&t.value&&t.value.address&&i.value.tokensObj[t.value.address]&&i.value.tokensObj[t.value.address].coingecko_id||null:i.value.tokensObj&&t.value&&t.value.address||null),Xo=$(()=>I.value==="Aptos"?i.value.tokensObj&&c.value&&c.value.address&&i.value.tokensObj[c.value.address]&&i.value.tokensObj[c.value.address].coingecko_id||null:i.value.tokensObj&&c.value&&c.value.address||null),Qo=$(()=>{var n,l,a,g,b,w,F,L,y;return(a=(l=i==null?void 0:i.value)==null?void 0:l.tokensObj[(n=t==null?void 0:t.value)==null?void 0:n.address])!=null&&a.pyth_id&&((w=(b=i==null?void 0:i.value)==null?void 0:b.tokensObj[(g=t==null?void 0:t.value)==null?void 0:g.address])==null?void 0:w.pyth_id)!=="0x0000000000000000000000000000000000000000000000000000000000000000"?"pyth":(y=(L=i==null?void 0:i.value)==null?void 0:L.tokensObj[(F=t==null?void 0:t.value)==null?void 0:F.address])!=null&&y.coingecko_id?"coingecko":null}),zo=$(()=>{var n,l,a,g,b,w,F,L,y;return(a=(l=i==null?void 0:i.value)==null?void 0:l.tokensObj[(n=c==null?void 0:c.value)==null?void 0:n.address])!=null&&a.pyth_id&&((w=(b=i==null?void 0:i.value)==null?void 0:b.tokensObj[(g=c==null?void 0:c.value)==null?void 0:g.address])==null?void 0:w.pyth_id)!=="0x0000000000000000000000000000000000000000000000000000000000000000"?"pyth":(y=(L=i==null?void 0:i.value)==null?void 0:L.tokensObj[(F=c==null?void 0:c.value)==null?void 0:F.address])!=null&&y.coingecko_id?"coingecko":null}),Yo=$(()=>{var g,b;const n=new m(s.value),l=new m(I.value=="Aptos"?(g=k==null?void 0:k.value)==null?void 0:g.fee:(b=$e==null?void 0:$e.value)==null?void 0:b.fee),a=n.mul(l).toString();return Number(a)<1/Math.pow(10,t.value.decimals)?`<${new m(1).div(new m(Math.pow(10,t.value.decimals))).toString()}`:se(a,t.value.decimals)}),{setIsShowSuccess:Zo,setIsShowRejected:co,setIsShowWaiting:Me,setTransactionDesc:Ho,setTransactionTxid:mo}=T,Ko=async()=>{var l,a,g,b,w,F,L,y;Q.value=!1,q.value=!0,clearInterval(Be),window.clearInterval(Be),mo(""),Ho(A("tips.swapping",{from:`${s.value} ${(l=t.value)==null?void 0:l.symbol}`,to:`${r.value} ${(a=c.value)==null?void 0:a.symbol}`})),Me(!0);let n;I.value=="Aptos"&&(n=t.value.address===k.value.token_a.address&&c.value.address===k.value.token_b.address?0:1);try{let M;I.value=="Aptos"?M=await W.value.getSwapTransactionPayload({pool:k.value,a2b:n==0,byAmountIn:p.value,amount:p.value?s.value:r.value,slippage:Number(pe.value)/100}):M=await xe.value.swapRouterContract.getSwapRouterPayload(p.value,je.value.createTxParams);let x;if(I.value==="Aptos")x=await ee.value.currentWallet.signAndSubmitTransaction(M);else{const te=await ee.value.currentWallet.signAndExecuteTransactionBlock(M);x=W.value.handleTx(te)}if(x&&x.hash){mo(x.hash),Me(!1),Zo(!0);const te={title:A("tips.swap"),desc:A("tips.swapSuccessText",{from:`${s.value} ${(g=t.value)==null?void 0:g.symbol}`,to:`${r.value} ${(b=c.value)==null?void 0:b.symbol}`}),hash:x.hash,tit:"Swap",icon:"icon-icon-swap1",tokenInfo:{tokena:`${(w=t.value)==null?void 0:w.address}`,numa:`- ${s.value}`,logoa:i.value.tokensObj&&t.value&&t.value.address&&i.value.tokensObj[t.value.address]&&i.value.tokensObj[t.value.address].logoURI,tokenb:`${(F=c.value)==null?void 0:F.address}`,numb:`+ ${r.value}`,logob:i.value.tokensObj&&c.value&&c.value.address&&i.value.tokensObj[c.value.address]&&i.value.tokensObj[c.value.address].logoURI},text:`Pay ${s.value} ${(L=t.value)==null?void 0:L.symbol} to receive ${r.value} ${(y=c.value)==null?void 0:y.symbol}`};I.value!=="Aptos"&&(te.res=x.res),W.value.showTransitionPending(te),await W.value.watchTransaction(te)&&setTimeout(()=>{I.value=="Aptos"&&_.updateCurrentPools(k.value.poolAddress,I.value),W.value.getAccount(ee.value.address)},1e3)}else Me(!1),co(!0);s.value="",r.value="",q.value=!1}catch{s.value="",r.value="",q.value=!1,Me(!1),co(!0)}},Go=n=>{var l;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((l=i.value.tokensObj[n==null?void 0:n.address])==null?void 0:l.logo_url)||(T.theme==="default"?me("/image/coins/unknown.png"):me("/image/coins/sui-unknown.png"))},vo=f([]);K(()=>[t.value,c.value,i.value.poolConfigList],([n,l,a])=>{if(a&&a.length>0&&n&&l){const g=[];a.forEach(b=>{var w,F,L,y;(b.coinA.address.toUpperCase()===((w=n.address)==null?void 0:w.toUpperCase())&&b.coinB.address.toUpperCase()===((F=l.address)==null?void 0:F.toUpperCase())||b.coinB.address.toUpperCase()===((L=n.address)==null?void 0:L.toUpperCase())&&b.coinA.address.toUpperCase()===((y=l.address)==null?void 0:y.toUpperCase()))&&(b!=null&&b.is_pause||g.push(b.address))}),vo.value=g}},{immediate:!0});const He=n=>{const l=localStorage.getItem(n.address);i.value.tokensObj&&i.value.tokensObj[n.address]&&i.value.tokensObj[n.address].isSelfBuilt&&!l?Ke.value=!0:(Y.value==="fromCoin"?(s.value="",c.value&&n.address.toLowerCase()===(c==null?void 0:c.value.address.toLowerCase())&&(c.value=null),t.value=n):(t.value&&(r.value="",n.address.toLowerCase()===(t==null?void 0:t.value.address.toLowerCase())&&(t.value=null)),c.value=n),po())},Ke=f(!1),po=()=>{Ye.value={},ze.value={},Ke.value=!1},Vo=$(()=>T.isShowRouterModal),Ge=f([]),Ve=f(""),xo=f(!1),fo=Cn(),xe=$(()=>fo),Te=f(!1),je=f({}),eo=f(""),go=n=>{if(n&&n.paths&&n.paths.length>0){const l=n.paths[0];if(n.coinTypeA&&n.coinTypeB&&n.coinTypeC){const a=i.value.routerPoolConfigObj[l.poolAddress[0]],g=i.value.routerPoolConfigObj[l.poolAddress[1]],b=Ce(n.paths[0].amountIn.toString(),t.value.decimals)*a.fee;let w,F=g.token_a.address==c.value.address?g.token_b.decimals:g.token_a.decimals;p.value?w=Ce(l.rawAmountLimit[0].toString(),F)*g.fee:w=Ce(l.rawAmountLimit[1].toString(),F)*g.fee;let L;a.token_a.address==t.value.address?L=!1:L=!0;let y;L?y=W.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],a.token_a.decimals,a.token_b.decimals).toString():y=1/W.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],a.token_a.decimals,a.token_b.decimals).toString();const M=b+w*y;a.fee*100+"",eo.value=M>0&&M<1e-6?`<0.000001 ${t.value.symbol}`:E(se(M,t.value.decimals))+` ${t.value.symbol}`}else{const a=i.value.routerPoolConfigObj[l.poolAddress[0]],g=Ce(n.paths[0].amountIn.toString(),t.value.decimals)*a.fee;eo.value=g>0&&g<1e-6?`<0.000001 ${t.value.symbol} (${a.fee*100}%)`:E(se(g,t.value.decimals))+` ${t.value.symbol} (${a.fee*100}%)`}}},ho=async n=>{if(ue.value=1e-5,n&&n.paths&&n.paths.length>0){const l=n.paths[0];if(n.coinTypeA&&n.coinTypeB&&n.coinTypeC&&n.coinTypeA==t.value.address&&n.coinTypeC==c.value.address){const a=i.value.routerPoolConfigObj[l.poolAddress[0]],g=W.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],a.coinA.decimals,a.coinB.decimals).toNumber(),b=i.value.routerPoolConfigObj[l.poolAddress[1]],w=W.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[1],b.coinA.decimals,b.coinB.decimals).toNumber();let F,L;a.token_a.address==t.value.address?F=!0:F=!1,b.token_b.address==c.value.address?L=!0:L=!1,new m(s.value).div(r.value).toNumber();const y=new m(r.value).div(s.value).toNumber();let M;const x=F?new m(g):new m(1).div(new m(g)),te=L?new m(w):new m(1).div(new m(w));M=new m(x.mul(te)).sub(y).div(new m(x.mul(te))).mul(new m(100)).toNumber(),M>100&&(ue.value=100),ue.value=Number(we(Math.abs(M),2))}else if(n&&n.currentSqrtPrice&&n.currentSqrtPrice.length==1&&l&&!be(l)){const a=i.value.routerPoolConfigObj[l.poolAddress[0]],g=W.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],a.coinA.decimals,a.coinB.decimals).toNumber();let b;a.token_a.address==t.value.address?b=!0:b=!1;const w=b?new m(g):new m(1).div(new m(g)),F=new m(r.value).div(s.value).toNumber(),y=new m(w).sub(F).div(new m(w)).mul(new m(100)).toNumber();y>100&&(ue.value=100),ue.value=Number(we(Math.abs(y),2))}}},Co=async n=>{if(t.value&&c.value&&(Number(s.value)>0||Number(r.value)>0)){(!s.value&&r.value||s.value&&!r.value)&&(q.value=!0),Ie.value=!0,Te.value=!1;let l;k.value&&(l=t.value.address===k.value.coinA.address&&c.value.address===k.value.coinB.address?0:1);try{let a;if(p.value){const F=new m(s.value).mul(Math.pow(10,t.value.decimals)).toString();a=new Ee(F)}else{const F=new m(r.value).mul(Math.pow(10,c.value.decimals)).toString();a=new Ee(F)}const g=Number(pe.value)/100,b=k.value?{poolAddresses:vo.value,coinTypeA:k.value.coin_a_address,coinTypeB:k.value.coin_b_address,decimalsA:k.value.coinA.decimals,decimalsB:k.value.coinB.decimals,a2b:l==0,byAmountIn:p.value,amount:p.value?s.value:r.value}:"",w=await xe.value.swapRouterContract.getSwapRouter(t,c,a,p.value,g,"",k.value?b:"");w?(je.value=w,Ge.value=w.paths,ne.value=w.isExceed,Ve.value=w.amountIn,go(w),p.value?s.value&&(r.value=w.amountOut):r.value&&(s.value=w.amountIn),fe.value=E(de(new m(s.value).div(new m(r.value).toString()),t.value.decimals)),ge.value=E(de(new m(r.value).div(s.value).toString(),c.value.decimals)),ho(w),q.value=!1,Te.value=!1,Ie.value=!1):(q.value=!1,Te.value=!0,Ie.value=!1)}catch{q.value=!1,Ie.value=!1}}else p.value?r.value="":s.value="",q.value=!1,Ie.value=!1},he=f(!1),Ao=async n=>{try{let l;if(p.value){const b=new m(s.value).mul(Math.pow(10,t.value.decimals)).toString();l=new Ee(b)}else{const b=new m(r.value).mul(Math.pow(10,c.value.decimals)).toString();l=new Ee(b)}const a=Number(pe.value)/100,g=await xe.value.swapRouterContract.getSwapRouter(t,c,l,p.value,a,"");g&&(je.value=g,Ge.value=g.paths,ne.value=g.isExceed,Ve.value=g.amountIn,go(g),fe.value=E(de(new m(s.value).div(new m(r.value).toString()),t.value.decimals)),ge.value=E(de(new m(r.value).div(s.value).toString(),c.value.decimals)),ho(g),p.value?r.value!==g.amountOut&&(he.value=!0,r.value=g.amountOut):s.value!==g.amountIn&&(he.value=!0,s.value=g.amountIn))}catch{}},en=async n=>{if(t.value&&c.value&&(s.value||r.value)){const l=t.value.address===k.value.coinA.address&&c.value.address===k.value.coinB.address?0:1;try{let a=await W.value.preSwap({pool:k.value,a2b:l==0,byAmountIn:p.value,amount:p.value?s.value:r.value});ne.value=a==null?void 0:a.isExceed,lo.value=a==null?void 0:a.estimatedFeeAmount,p.value?(ge.value=(Number(a.estimatedAmountOut)/n).toString(),fe.value=(n/Number(a.estimatedAmountOut)).toString()):(ge.value=(n/Number(a.estimatedAmountIn)).toString(),fe.value=(Number(a.estimatedAmountIn)/n).toString()),p.value?r.value!==a.estimatedAmountOut&&(he.value=!0,r.value=a.estimatedAmountOut):s.value!==a.estimatedAmountIn&&(he.value=!0,s.value=a.estimatedAmountIn),ue.value=I.value=="Aptos"?await Ue(k.value):await Ue($e.value||k.value),q.value=!1,H.value=!1}catch{q.value=!1,H.value=!1}}else q.value=!1,H.value=!1};let Be=f(null);K(()=>Q.value,n=>{n?Be.value=setInterval(()=>{I.value=="Aptos"?en(p.value):Ao(p.value)},3e3):(clearInterval(Be.value),window.clearInterval(Be.value))},{immediate:!0});const Ne=async n=>{I.value=="Aptos"?jo(n):Co()},on=$(()=>fo),nn=$(()=>on.value.isInitRouter);K(()=>nn.value,n=>{n||Ne(p.value?s.value:r.value)},{immediate:!0}),K(()=>[t.value,c.value],([n,l])=>{if(n&&l&&Ne(p.value?s.value:r.value),n||l){const a=`/swap?from=${n==null?void 0:n.address}&to=${l==null?void 0:l.address}`;e.push(a)}},{immediate:!0});function an(n,l=500){let a=null;return function(...g){clearTimeout(a),a=setTimeout(()=>{n.call(this,...g)},l)}}const tn=an(bo);function bo(){const n=t.value;t.value=c.value,c.value=n,P.value=!0,p.value=!p.value,p.value?(s.value=r.value,r.value=""):(r.value=s.value,s.value=""),setTimeout(()=>{P.value=!1},300)}return{closeSwapConfirmModal:()=>{Q.value=!1,he.value=!1},updateAccept:()=>{he.value=!1},clickExchange:bo,debounceClickExchange:tn,closeTokenWarning:po,isShowTokenWarning:Ke,getTokenSource:He,hasPool:ro,getPoolInfoSuccess:no,halfBtnSelect:Mo,formCoinId:Jo,toCoinId:Xo,formCoinMarket:Qo,toCoinMarket:zo,fromCoinUrl:qo,toCoinUrl:Wo,t:A,indicator:v,wallet:ee,currentLpInfo:Do,fixD:we,decimalFormat:rn,impact:ue,oneFromAmount:fe,oneToAmount:ge,importIcon:me,clickRefresh:ao,refresh:S,change:P,isShowAddress:j,isShowSwapSetting:U,fromCoin:t,toCoin:c,slippage:pe,openCoinSelect:_o,onCoinSelect:Ro,existingCoins:J,lastSelectCoin:V,currentCoinKey:Y,showCoinSelect:N,fromCoinAmount:s,toCoinAmount:r,maxBtnSelect:Uo,fixedFromCoin:p,swapBtnText:Fo,toSwap:Ko,loading:le,swaping:q,autoRefreshTime:O,countdown:B,marketTimer:Se,rateChange:Z,isSwapConfirmMpdal:Q,fromCoinBlance:oe,toCoinBlance:ae,poolInfo:k,chainName:I,swapRouterLoading:Ie,formatFee:Yo,calculating:H,currentRate:so,currentRateReverse:io,getCoinIcon:Go,toAddLiquidiPoolInfo:$e,decimalUi:de,warningToCoin:Ye,warningFromCoin:ze,isShowRouterModal:Vo,toSwapLoading:xo,insufficientLiquidity:ne,routerPool:Ge,routerTotalAmounts:Ve,store:T,suiPreSwapdata:je,suiSwapFee:eo,addCommom:E,debounce:qe,notFoundRouter:Te,getSuiAmountAccept:Ao,isShowAccept:he,getSuiAmount:Co}}});const ke=e=>(_e("data-v-333c7034"),e=e(),Re(),e),Yt={class:"swap-container"},Zt={class:"title"},Ht={class:"left"},Kt={class:"right title-right"},Gt=ke(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Vt={class:"swap-card"},xt={class:"card-container"},es={class:"card-item"},os={class:"card-item"},ns=ke(()=>o("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),as=[ns],ts={key:1,class:"induction"},ss={key:0,class:"exchange-rate-btn"},is={key:0},ls={key:0},us={key:0},rs={key:1},ds={key:0},cs=ke(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),ms=[cs],vs={class:"item"},ps={class:"induction-text"},fs={key:0,class:"icon","aria-hidden":"true"},gs=ke(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),hs=[gs],Cs={class:"item"},As={class:"induction-text"},bs={key:0,class:"induction-value"},ws={class:"item"},ys={class:"induction-text"},ks={key:0,class:"induction-value"},Ss={key:0,class:"icon","aria-hidden":"true"},Is=ke(()=>o("use",{"xlink:href":"#icon-icon-swap"},null,-1)),$s=[Is],Ns={key:2,class:"token-info-container"},Ts={class:"token-info-title"},Bs=ke(()=>o("span",{class:"coingecko"},"Price Reference",-1)),Ps=ke(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-information"})],-1));function Os(e,v,A,C,T,_){var s,r;const i=sn,P=un,S=xn,j=$o,U=No,Z=Oo,Q=fn,Y=hn,J=gn,V=To,N=Ba,p=ln,le=Va,q=Qt,H=Fe("image");return u(),h("div",Yt,[o("div",Zt,[o("div",Ht,d(e.$t("menu.swap")),1),o("div",Kt,[o("div",{class:"slippage-icon",onClick:v[0]||(v[0]=O=>e.isShowSwapSetting=!0)},[Gt,o("span",null,d(e.slippage)+"%",1)]),re(i,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),o("div",Vt,[o("div",xt,[o("div",es,[re(P,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":v[1]||(v[1]=O=>e.fromCoinAmount=O),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logo_url:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:v[2]||(v[2]=O=>e.maxBtnSelect("fromCoin")),onOnHalf:v[3]||(v[3]=O=>e.halfBtnSelect("fromCoin")),onOnInput:v[4]||(v[4]=O=>{e.fromCoinAmount=O,e.fixedFromCoin=!0}),onOnSelect:v[5]||(v[5]=O=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("div",os,[re(P,{modelValue:e.toCoinAmount,"onUpdate:modelValue":v[6]||(v[6]=O=>e.toCoinAmount=O),"input-value":e.toCoinAmount,havemax:!1,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logo_url:"",address:e.toCoin?e.toCoin.address:"",onOnInput:v[7]||(v[7]=O=>{e.toCoinAmount=O,e.fixedFromCoin=!1}),onOnSelect:v[8]||(v[8]=O=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("img",{class:ce(e.change?"gang animationex":"gang"),src:An,alt:""},null,2),o("div",{class:ce(["exchange",e.chainName=="Sui"?"sui-exchange":""]),onClick:v[9]||(v[9]=(...O)=>e.debounceClickExchange&&e.debounceClickExchange(...O))},[(u(),h("svg",{class:ce(e.change?"icon animationex":"icon"),"aria-hidden":"true"},as,2))],2)]),e.chainName=="Sui"&&!e.notFoundRouter?(u(),D(S,{key:0,"swap-loading":e.swaping,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"router-pool":e.routerPool,impact:e.impact,"insufficient-liquidity":e.insufficientLiquidity,"one-to-amount":e.oneToAmount,"one-from-amount":e.oneFromAmount,"sui-pre-swapdata":e.suiPreSwapdata,"sui-swap-fee":e.suiSwapFee,"swap-router-loading":e.swapRouterLoading},null,8,["swap-loading","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","router-pool","impact","insufficient-liquidity","one-to-amount","one-from-amount","sui-pre-swapdata","sui-swap-fee","swap-router-loading"])):e.poolInfo&&e.fromCoinAmount&&e.toCoinAmount&&e.fromCoinAmount!=="0"&&e.toCoinAmount!=="0"&&e.swapBtnText!==e.$t("button.poolNotFound")?(u(),h("div",ts,[Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(u(),h("div",ss,[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(u(),h("span",rs,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(u(),h("span",ds,[z(o("img",null,null,512),[[H,e.toCoinUrl||e.getCoinIcon(e.toCoin)]]),G(" 1 "+d(e.toCoin.symbol)+" ≈ ",1),z(o("img",null,null,512),[[H,e.fromCoinUrl||e.getCoinIcon(e.fromCoin)]]),o("span",null,d(("addCommom"in e?e.addCommom:X(E))(("decimalUi"in e?e.decimalUi:X(de))(e.currentRateReverse,e.fromCoin.decimals),e.fromCoin.decimals)),1),G("  "+d(e.fromCoin.symbol),1)])):(u(),D(j,{key:1,indicator:e.indicator},null,8,["indicator"]))])):R("",!0):(u(),h("span",is,[z(o("img",null,null,512),[[H,e.fromCoinUrl||e.getCoinIcon(e.fromCoin)]]),G(" 1 "+d(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(u(),h("span",ls,[z(o("img",null,null,512),[[H,e.toCoinUrl||e.getCoinIcon(e.toCoin)]]),e.calculating?R("",!0):(u(),h("span",us,d(("addCommom"in e?e.addCommom:X(E))(("decimalUi"in e?e.decimalUi:X(de))(e.currentRate,e.toCoin.decimals))),1)),e.calculating?(u(),D(j,{key:1,indicator:e.indicator},null,8,["indicator"])):R("",!0),G("  "+d(e.toCoin.symbol),1)])):(u(),D(j,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(u(),h("svg",{class:"icon-change","aria-hidden":"true",onClick:v[10]||(v[10]=O=>e.rateChange=!e.rateChange)},ms))])):R("",!0),Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(u(),h(oo,{key:1},[o("div",vs,[o("div",ps,d(e.$t("common.priceImpact")),1),e.swaping?(u(),D(U,{key:1,paragraph:!1,active:""})):(u(),h("div",{key:0,class:ce(["induction-value",Number(e.impact)<1?"impact-s":Number(e.impact)<10&&Number(e.impact)>1?"impact-w":"impact-e"])},[G(d(Number(e.impact)<.01?"<0.01":Number(e.impact)>100?"100":e.impact)+"% ",1),e.impact>=10?(u(),h("svg",fs,hs)):R("",!0)],2))]),o("div",Cs,[o("div",As,d(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swaping?(u(),D(U,{key:1,paragraph:!1,active:""})):(u(),h("div",bs,d(e.fixedFromCoin?("addCommom"in e?e.addCommom:X(E))(("fixD"in e?e.fixD:X(we))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals),e.toCoin.decimals):("addCommom"in e?e.addCommom:X(E))(("fixD"in e?e.fixD:X(we))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals),e.fromCoin.decimals))+" "+d(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",ws,[o("div",ys,d(e.$t("common.fee")),1),e.swaping?(u(),D(U,{key:1,paragraph:!1,active:""})):(u(),h("div",ks,d(("addCommom"in e?e.addCommom:X(E))(e.formatFee,e.fromCoin.decimals))+" "+d(e.fromCoin.symbol)+" ("+d(e.chainName=="Aptos"?e.poolInfo.fee*100:((s=e.toAddLiquidiPoolInfo)==null?void 0:s.fee)*100)+"%) ",1))])],64)):R("",!0)])):R("",!0)]),re(Z,{disabled:e.wallet.connected?e.swaping||!e.fromCoin||!e.toCoin||!Number(e.fromCoinAmount)||!Number(e.toCoinAmount)||Number(e.fromCoinAmount)>Number(e.fromCoinBlance)||e.swapBtnText==e.$t("button.poolNotFound")||e.swapBtnText!==e.$t("button.swap")||((r=e.poolInfo)==null?void 0:r.is_pause)||e.swapRouterLoading:!1,class:"big-btn",loading:e.chainName=="Aptos"?e.swaping:!1,onClick:v[11]||(v[11]=O=>e.wallet.connected?e.isSwapConfirmMpdal=!0:e.wallet.setIsShowWalletModal(!0))},{default:ie(()=>[e.wallet.connected?(u(),h("svg",Ss,$s)):R("",!0),o("span",null,d(e.wallet.connected?e.swapBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),re(Q),e.showCoinSelect?(u(),D(Y,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:v[12]||(v[12]=O=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):R("",!0),e.isShowSwapSetting?(u(),D(J,{key:1,onOnClose:v[13]||(v[13]=O=>e.isShowSwapSetting=!1)})):R("",!0),e.chainName&&(e.formCoinMarket||e.toCoinMarket)?(u(),h("div",Ns,[o("div",Ts,[Bs,re(V,{placement:"top","arrow-point-at-center":""},{title:ie(()=>[G(" The following price is only an external reference from 3rd party data providers, which does not reflect actual data on Cetus. ")]),default:ie(()=>[Ps]),_:1})]),e.fromCoin&&e.formCoinMarket?(u(),D(N,{key:0,id:e.formCoinId,coin:e.fromCoin,market:e.formCoinMarket,refresh:e.refresh},null,8,["id","coin","market","refresh"])):R("",!0),e.toCoin&&e.toCoinMarket?(u(),D(N,{key:1,id:e.toCoinId,coin:e.toCoin,market:e.toCoinMarket,refresh:e.refresh},null,8,["id","coin","market","refresh"])):R("",!0)])):R("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(u(),D(p,{key:3,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:e.getTokenSource},null,8,["from-coin","to-coin","onClose","onClickContinue"])):R("",!0),e.isShowRouterModal?(u(),D(le,{key:4,"router-pool":e.routerPool,"routertotal-percents":e.routertotalPercents,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"router-total-amounts":e.routerTotalAmounts,onOnClose:v[14]||(v[14]=O=>e.store.setIsShowRouterModal(!1))},null,8,["router-pool","routertotal-percents","from-coin","to-coin","from-coin-amount","to-coin-amount","router-total-amounts"])):R("",!0),e.isSwapConfirmMpdal?(u(),D(q,{key:5,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,slippage:e.slippage,impact:e.impact,"fixed-from-coin":e.fixedFromCoin,fee:e.chainName=="Sui"?e.suiSwapFee:e.poolInfo.fee,"format-fee":e.chainName=="Sui"?e.suiSwapFee:e.formatFee,"is-show-accept":e.isShowAccept,"swap-loading":e.swapRouterLoading,"one-from-amount":e.oneFromAmount,"one-to-amount":e.oneToAmount,onOnClose:e.closeSwapConfirmModal,onToSwap:e.toSwap,onAccept:e.updateAccept},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","slippage","impact","fixed-from-coin","fee","format-fee","is-show-accept","swap-loading","one-from-amount","one-to-amount","onOnClose","onToSwap","onAccept"])):R("",!0)])}const xs=Oe(zt,[["render",Os],["__scopeId","data-v-333c7034"]]);export{xs as default};
