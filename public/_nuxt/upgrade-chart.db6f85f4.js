import{d as P,c as L,e as $}from"./pool.de302a62.js";import{a as x,r as n,m as H,D as O,y as Z,T as G,C as K,M as Q,a6 as X,e as Y,o as p,f as b,h as l,u as g,c as ee,v as D,x as U,z as F,i as te,S as ae,J as oe,p as se,k as ne}from"./entry.3c4a9f9e.js";/* empty css              *//* empty css              */import{u as le,c as ie}from"./sha256.2e39fdb5.js";import"./index.7690eea0.js";import{l as re}from"./lodash.58ad34bc.js";const ue=x({props:{mode:{type:String,required:!1,default:"vol"},address:{type:String,required:!1,default:""},poolInfo:{type:Object,required:!1,default:()=>({})}},setup(e){const c=le(),k=n(!1),o=H(()=>c),T=t=>{switch(t){case"vol":return"Volume (24H)";case"tvl":return"TVL";case"fee":return"Fees (24H)"}},C=H(()=>ie[o.value.chainName]),S=n(0),I=n(0),N=n(0),W=n(0),V=n(""),E=n("--"),M=re.debounce(()=>{B(_.value)},300);O(()=>e.mode,(t,h)=>{t!==h&&(k.value=!0,B(_.value))}),O(()=>e.address,(t,h)=>{t!==h&&(k.value=!0,B(_.value))});const j=n(null);Z(()=>{window.addEventListener("resize",M),setTimeout(()=>{document.body.clientWidth<750?m(40,100,4,e.mode,"day"):m(40,100,8,e.mode,"day")},100),j.value=window.setInterval(()=>{B(_.value)},12e4)}),G(()=>{window.clearInterval(j.value)}),K(()=>{window.removeEventListener("resize",M)}),Q(()=>{if(!L(o.value.statsData||{})&&o.value.chainName){const t=o.value.chainName=="Sui"?o.value.statsData.vol_in_usd_24h:o.value.statsData.vol_in_usd_24h_sum_v1;o.value.chainName=="Sui"?o.value.statsData.tvl_in_usd:o.value.statsData.tvl_in_usd_sum_v1,S.value=t,V.value=t,I.value=o.value.statsData.vol_in_usd,N.value=o.value.statsData.pure_tvl_in_usd,W.value=o.value.statsData.tx_num}});const _=n("D"),i=n({}),J=t=>{_.value=t,B(t)},B=t=>{t=="D"?document.body.clientWidth<750?m(40,100,4,e.mode,"day"):m(40,100,8,e.mode,"day"):t=="W"?document.body.clientWidth<750?m(20,100,6,e.mode,"wek"):m(30,100,12,e.mode,"wek"):t=="M"&&(document.body.clientWidth<750?m(20,100,12,e.mode,"mon"):m(20,100,18,e.mode,"mon"))},m=async(t,h,A,w,v)=>{const{data:f}=e.address!==""?o.value.theme=="default"?await fetch(`${C.value.api}/v2/histogram?date_type=${v}&typ=${w}&limit=${t}&swap_account=${e.address}`).then(s=>s.json()):await fetch(`${C.value.api}/v2/sui/histogram?date_type=${v}&typ=${w}&limit=${t}&address=${e.address}`).then(s=>s.json()):o.value.theme=="default"?await fetch(`${C.value.api}/v2/histogram?date_type=${v}&typ=${w}&limit=${t}`).then(s=>s.json()):await fetch(`${C.value.api}/v2/sui/histogram?date_type=${v}&typ=${w}&limit=${t}`).then(s=>s.json());let a=f.list;const r={categoryData:[],valueData:[],wheelBase:[]};a&&a.forEach(s=>{r.categoryData.push(s.date.slice(0,10)),r.valueData.push(s.num)}),k.value=!1,i.value=r,R(t,h,A)},z=n({day:"",month:"",year:"",current:""}),q=t=>t==1?"Jan":t==2?"Feb":t==3?"Mar":t==4?"Apr":t==5?"May":t==6?"Jun":t==7?"Jul":t==8?"Aug":t==9?"Sep":t==10?"Oct":t==11?"Nov":"Dec",R=(t,h,A)=>{const w=document.getElementById("echartsBox"),v=X(w);let f=e.address==""||e.mode!=="tvl"?{tooltip:{trigger:"axis",position:function(a,r,s,u,d){return[a[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",extraCssText:"height:24px;",formatter:function(a){let r=a[0].axisValue.slice(5,7),s=q(r);const u=a[0].axisValue.slice(8,10),d=s,y=a[0].axisValue.slice(0,4);return z.value={day:u,month:d,year:y,current:""},V.value=a[0].value,E.value=a[0].value,o.value.theme=="default","&nbsp;&nbsp;&nbsp;"+u+"&nbsp;"+d+"&nbsp;"+y+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:o.value.theme=="default"?"#14B88E":"#76C8FF"}}},xAxis:{show:!1,max:i.value.categoryData.length>Number(t)?Number(t):i.value.categoryData.length-1,type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:i.value.categoryData},yAxis:{show:!1,max:function(a){return a.max},splitArea:{show:!1}},dataZoom:[{type:"inside",start:0,end:h,zoomLock:!0}],series:[{data:i.value.valueData,type:"bar",itemStyle:{normal:{barBorderRadius:1,color:a=>o.value.theme=="default"?"#00A57B":"#0B70B9"}},barWidth:A}],grid:{left:0,top:0,bottom:0,right:24}}:{tooltip:{trigger:"axis",position:function(a,r,s,u,d){return[a[0]-50,"10%"]},backgroundColor:"#28353F",borderColor:"transparent",extraCssText:"height:24px;",formatter:function(a){let r=a[0].axisValue.slice(5,7),s=q(r);const u=a[0].axisValue.slice(8,10),d=s,y=a[0].axisValue.slice(0,4);return z.value={day:u,month:d,year:y,current:""},V.value=a[0].value,E.value=a[0].value,o.value.theme=="default","&nbsp;&nbsp;&nbsp;"+u+"&nbsp;"+d+"&nbsp;"+y+"&nbsp;&nbsp;&nbsp;"},textStyle:{color:"#909DB4",innerHeight:"24",lineHeight:"24"},padding:0,axisPointer:{type:"line",lineStyle:{width:4,type:"solid",color:o.value.theme=="default"?"#14B88E":"#76C8FF"}}},xAxis:{show:!1,boundaryGap:!1,max:i.value.categoryData.length>Number(t)?Number(t):i.value.categoryData.length-1,type:"category",axisTick:{show:!1},axisLine:{show:!1},splitLine:{show:!1},splitArea:{show:!1},data:i.value.categoryData},yAxis:{type:"value",show:!1,max:function(a){return a.max},splitArea:{show:!1}},dataZoom:[{type:"inside",start:0,end:h,zoomLock:!0}],series:[{data:i.value.valueData,type:"line",areaStyle:{normal:{color:"#0B70B9"}},lineStyle:{normal:{color:"#76C8FF"}},itemStyle:{normal:{barBorderRadius:1,color:a=>o.value.theme=="default"?"#00A57B":"#0B70B9"}},barWidth:A}],grid:{left:5,top:20,bottom:5,right:24}};document.body.clientWidth<750&&(f.grid={left:4,top:10,bottom:20,right:20}),o.value.theme=="default"&&(f.tooltip.backgroundColor="#293F38"),f&&v.setOption(f),f&&v.resize(),v.on("globalout",a=>{z.value={day:"",month:"",year:"",current:""},V.value=o.value.statsData.vol_in_usd_24h_sum_v1,E.value="--"})};return{currentVal:E,loading:k,getModeLabel:T,decimalUi:P,checkNullObj:L,store:o,addCommom:$,vol_in_usd_24h:S,vol_in_usd:I,tvl_in_usd:N,tx_num:W,changeEchart:J,echartVal:_,volTime:z,TradingVolume:V}}});const de=e=>(se("data-v-c3e31c98"),e=e(),ne(),e),ce={class:"upgrade-chart-container"},me={class:"echarts-content-box"},he={class:"echarts-content"},ve={class:"echarts-content-top"},pe={class:"left"},fe={key:1},ye={key:2},be={key:3},ge={key:4},_e={key:5},we={class:"echarts-tab"},De={key:0,class:"echarts-content-bottom echarts-content-bottom-loading"},$e=de(()=>l("div",{id:"echartsBox",class:"echarts-content-bottom"},null,-1));function ke(e,c,k,o,T,C){const S=ae,I=oe;return p(),b("div",ce,[l("div",me,[l("div",he,[l("div",ve,[l("div",pe,[("checkNullObj"in e?e.checkNullObj:g(L))(e.store.statsData||{})?(p(),ee(S,{key:0,class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})):e.address==""?(p(),b("p",fe,"$"+D(Number(e.TradingVolume)==0?0:("addCommom"in e?e.addCommom:g($))(("decimalUi"in e?e.decimalUi:g(P))(e.TradingVolume,2))),1)):e.currentVal!=="--"?(p(),b("p",ye,"$"+D(Number(e.currentVal)!==0&&Number(e.currentVal)<.01?"<0.01":("addCommom"in e?e.addCommom:g($))(e.currentVal,2)),1)):e.mode=="vol"?(p(),b("p",be,"$"+D(Number(e.poolInfo.vol)!==0&&Number(e.poolInfo.vol)<.01?"<0.01":("addCommom"in e?e.addCommom:g($))(e.poolInfo.vol,2)),1)):e.mode=="tvl"?(p(),b("p",ge,"$"+D(Number(e.poolInfo.liqidity)!==0&&Number(e.poolInfo.liqidity)<.01?"<0.01":("addCommom"in e?e.addCommom:g($))(e.poolInfo.liqidity,2)),1)):e.mode=="fee"?(p(),b("p",_e,"$"+D(Number(e.poolInfo.fee_24_h)!==0&&Number(e.poolInfo.fee_24_h)<.01?"<0.01":("addCommom"in e?e.addCommom:g($))(e.poolInfo.fee_24_h,2)),1)):U("",!0),l("span",null,D(e.address!==""?e.getModeLabel(e.mode):e.$t("common.tradingVal24h")),1)]),l("div",we,[l("div",{class:F(["title-day",e.echartVal=="D"?"title-active":""]),onClick:c[0]||(c[0]=N=>e.changeEchart("D"))}," D ",2),l("div",{class:F(["title-week",e.echartVal=="W"?"title-active":""]),onClick:c[1]||(c[1]=N=>e.changeEchart("W"))}," W ",2),l("div",{class:F(["title-mouth",e.echartVal=="M"?"title-active":""]),onClick:c[2]||(c[2]=N=>e.changeEchart("M"))}," M ",2)])]),e.loading?(p(),b("div",De,[te(I)])):U("",!0),$e])])])}const ze=Y(ue,[["render",ke],["__scopeId","data-v-c3e31c98"]]);export{ze as _};
