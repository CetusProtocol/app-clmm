import{_ as Ss}from"./back.7058319c.js";import{_ as Bs}from"./apr-tips.c404b322.js";import{a as Os,F as Us,v as Z,s as js,G as Es,r,x as Fs,w as ts,H as Ws,i as qs,Y as us,k as Gs,a0 as ds,b as Ms,o as v,e as i,f as a,l as M,y as b,t as c,q,a1 as m,a2 as x,h as N,aB as Ys,m as is,p as zs,j as Js,B as Ks}from"./entry.8b25de83.js";import{_ as _s}from"./icon_on_stats.b61a8e0c.js";import{p as Qs}from"./precision.1cd464a0.js";const Xs=Os({setup(){const o=Us(),d=Z(()=>o),vs=Z(()=>d.value.newTokenObj||{}),ss=js(),Y=Z(()=>ss),S=Es();let es=r("big");const g=r(1),T=r(1);let L=r(!1);const e=()=>{ss.getStatsData()};Fs(()=>{ss.getStatsData();const s=document.body.clientWidth;s<750?L.value=!1:L.value=!0,window.onresize=()=>{s<750?L.value=!1:L.value=!0},L.value,K(g.value,10),Q(T.value,10)});let p=r([]);const h=Z(()=>Y.value.topPoolsList),f=s=>(l,u)=>{let _=l[s],n=u[s];return _-n},t=s=>(l,u)=>{let _=l[s];return u[s]-_},I=r(!1),y=r(!1),H=r(!1),w=r(!1),C=r(!0),B=r(!1),O=r(!1),U=r(!1),V=r(!1),$=r(!1),A=r(!1),P=r(!1),j=r(!1),E=r(!1),F=r(!1),D=r(!0),z=r(!1),os=r("TVL"),ls=r(["Volume (24H)","Volume (7D)","APR"]),J=r(!1),as=r("TVL"),ns=r(["Price","Volume (24H)","Price Change"]),cs=s=>{const l=h;if(s=="tvl_in_usd"?(C.value?(I.value=!I.value,l.value.sort(I.value?f(s):t(s))):l.value.sort(t(s)),y.value=!1,H.value=!1,w.value=!1,C.value=!0,B.value=!1,O.value=!1,U.value=!1):s=="vol_in_usd_24h"?(B.value?(y.value=!y.value,l.value.sort(y.value?f(s):t(s))):l.value.sort(t(s)),I.value=!1,H.value=!1,w.value=!1,C.value=!1,B.value=!0,O.value=!1,U.value=!1):s=="vol_in_usd_7_day"?(O.value?(H.value=!H.value,l.value.sort(H.value?f(s):t(s))):l.value.sort(t(s)),I.value=!1,y.value=!1,w.value=!1,C.value=!1,B.value=!1,O.value=!0,U.value=!1):s=="aprNum"&&(U.value?(w.value=!w.value,l.value.sort(w.value?f(s):t(s))):l.value.sort(t(s)),I.value=!1,y.value=!1,H.value=!1,C.value=!1,B.value=!1,O.value=!1,U.value=!0),l.value.length<10)p.value=l.value.slice(0,10);else{const u=g.value*10;p.value=l.value.slice(u-10,u)}},ps=s=>{const l=G;if(s=="price"?(j.value?(V.value=!V.value,l.value.sort(V.value?f(s):t(s))):l.value.sort(t(s)),$.value=!1,A.value=!1,P.value=!1,j.value=!0,E.value=!1,F.value=!1,D.value=!1):s=="vol_in_usd_24h"?(F.value?(A.value=!A.value,l.value.sort(A.value?f(s):t(s))):l.value.sort(t(s)),V.value=!1,$.value=!1,P.value=!1,j.value=!1,E.value=!1,F.value=!0,D.value=!1):s=="tvl_in_usd"?(D.value?(P.value=!P.value,l.value.sort(P.value?f(s):t(s))):l.value.sort(t(s)),V.value=!1,$.value=!1,A.value=!1,j.value=!1,E.value=!1,F.value=!1,D.value=!0):s=="priceHour"&&(E.value?($.value=!$.value,l.value.sort($.value?f(s):t(s))):l.value.sort(t(s)),V.value=!1,A.value=!1,P.value=!1,j.value=!1,E.value=!0,F.value=!1,D.value=!1),l.value.length<10)R.value=l.value.slice(0,10);else{const u=T.value*10;R.value=l.value.slice(u-10,u)}},hs=s=>{s=="label"?(J.value=!J.value,z.value=!1):s=="select"?(z.value=!z.value,J.value=!1):(z.value=!1,J.value=!1)},fs=s=>{const l=[];l.push(os.value),ls.value.forEach((u,_)=>{u!=s&&l.push(u)}),ls.value=l,os.value=s,s=="TVL"?p.value.sort(t("tvl_in_usd")):s=="Volume (24H)"?p.value.sort(t("vol_in_usd_24h")):s=="Volume (7D)"?p.value.sort(t("vol_in_usd_7_day")):s=="APR"&&p.value.sort(t("aprNum"))},ks=s=>{const l=[];l.push(as.value),ns.value.forEach((u,_)=>{u!=s&&l.push(u)}),ns.value=l,as.value=s,s=="TVL"?R.value.sort(t("tvl_in_usd")):s=="Volume (24H)"?R.value.sort(t("vol_in_usd_24h")):s=="Price"?R.value.sort(t("price")):s=="Price Change"&&R.value.sort(t("priceHour"))};ts(h,()=>{L.value,K(g.value,10)});const K=(s,l)=>{g.value=s;const u=l*s-l;let _=l*s;_=_>h.value.length?h.value.length:_;const n=h.value;if(n.length>0){C.value&&!I.value?n.sort(gs):C.value&&I.value?n.sort(Is):B.value?y.value?n.sort(Ps):n.sort(Ts):O.value?H.value?n.sort(ys):n.sort(Ls):U.value&&(w.value?n.sort(Hs):n.sort(bs));const W=n.filter((rs,X)=>X>=u&&X<_);p.value=W}return n},gs=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Ts=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Ls=(s,l)=>l.vol_in_usd_7_day-s.vol_in_usd_7_day,bs=(s,l)=>l.aprNum-s.aprNum,Is=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Ps=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,ys=(s,l)=>s.vol_in_usd_7_day-l.vol_in_usd_7_day,Hs=(s,l)=>s.aprNum-l.aprNum;let R=r([]);const G=Z(()=>{const s=Y.value.topTokensList,l=[];for(let u=0;u<s.length;u++){const _=s[u];l.push({..._,priceHour:_?Number(_.price_rate_24h.substring(0,_.price_rate_24h.length-1)):"0"})}return l});ts(G,()=>{L.value,Q(T.value,10)});const Q=(s,l)=>{T.value=s;const u=l*s-l;let _=l*s;_=_>G.value.length?G.value.length:_;const n=G.value;if(n.length>0){D.value&&!P.value?n.sort(ws):D.value&&P.value?n.sort(As):j.value?V.value?n.sort(Ds):n.sort(Cs):E.value?$.value?n.sort(Rs):n.sort(Vs):F.value&&(A.value?n.sort(Ns):n.sort($s));const W=n.filter((rs,X)=>X>=u&&X<_);R.value=W}return n},ws=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Cs=(s,l)=>l.price-s.price,Vs=(s,l)=>l.priceHour-s.priceHour,$s=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,As=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Ds=(s,l)=>s.price-l.price,Rs=(s,l)=>s.priceHour-l.priceHour,Ns=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h;return ts(()=>Y.value.chainName,s=>{s=="Sui"&&S.push("/swap")},{immediate:!0}),{getRewarderInfo:s=>{const l=s.swap_account;return d.value.addressLpTokens&&d.value.addressLpTokens[l]&&d.value.addressLpTokens[l].rewarder_infos},addCommom:Ws,store:Y,importIcon:qs,topPoolsList:h,addressTokens:vs,showEcharts:es,currentPools:g,onChangePools:K,currentTopPoolsList:p,onChangeTokens:Q,currentTokens:T,currentTopTokensList:R,topTokensList:G,router:S,isPc:L,getAprTotal:(s,l)=>s&&l?Gs(Qs.plus(ds(s),ds(l)),2)+"%":s,getRewarderApr:s=>{let l=0;return s&&s.forEach(u=>{l+=ds(String(u))}),String(l)},toPoolsList:()=>{S&&S.push("/stats-pools")},toTokensList:()=>{S&&S.push("/stats-tokens")},changePoolsList:cs,changeTokensList:ps,tvlImprint:I,volHImprint:y,volDImprint:H,aprImprint:w,tokensPriceImprint:V,tokensPriceHImprint:$,tokensVolHImprint:A,tokensTvlImprint:P,labelToken:J,select:z,selectValue:os,selectList:ls,reviseValue:hs,changeSort:fs,tokenValue:as,tokensList:ns,changeSortLabel:ks,tvlImprintHighlight:C,volHImprintHighlight:B,volDImprintHighlight:O,aprImprintHighlight:U,tokensPriceImprintHighlight:j,tokensPriceHImprintHighlight:E,tokensVolHImprintHighlight:F,tokensTvlImprintHighlight:D,getLabel:s=>{const l=s.swap_account;return d.value.addressLpTokens&&d.value.addressLpTokens[l]&&d.value.addressLpTokens[l].labels},rewardApr:s=>{if(!us(s)&&!us(d.value.addressLpTokens)&&!us(d.value.newTokenObj)){const l=s.swap_account;let _=d.value.addressLpTokens[l].rewarder_infos||[];const n=[];return _.forEach((W,rs)=>{n.push({...W,symbol:d.value.newTokenObj[W.coinAddress].symbol,rewarderApr:s.rewarder_apr[rs],logoUrl:d.value.newTokenObj[W.coinAddress].logoURI})}),n}},getsad:e}}});const k=o=>(zs("data-v-fc9a985a"),o=o(),Js(),o),Zs={class:"stats-container"},ms={class:"title"},xs={class:"top-pools-new"},se={class:"sort-by"},ee=k(()=>a("img",{src:_s,alt:""},null,-1)),oe=k(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),le=[oe],ae={key:0,class:"select-item"},ne=["onClick"],re=k(()=>a("img",{src:_s,alt:""},null,-1)),te={class:"content"},ue={class:"item"},de=k(()=>a("span",null,"Pool",-1)),ve=k(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ie=[ve],_e=k(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ce=[_e],pe=k(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),he=[pe],fe=k(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ke=[fe],ge={class:"apr-hover-content"},Te=k(()=>a("span",null,"\xA0",-1)),Le={class:"token"},be=["src"],Ie=["src"],Pe={class:"name"},ye={class:"token-name"},He={class:"fee-tier-top"},we={class:"label-all"},Ce={key:0},Ve={class:"tvl"},$e={class:"volume-hour"},Ae={class:"volume-day"},De={class:"apr"},Re={key:0,class:"apr-hover-content"},Ne={class:"btn-box"},Se={class:"top"},Be={class:"token"},Oe=["src"],Ue=["src"],je={class:"name"},Ee={class:"token-name"},Fe={class:"label-all"},We={key:0},qe={class:"fee-tier-hint"},Ge={class:"middle"},Me={class:"item-pools"},Ye=k(()=>a("span",null,"TVL",-1)),ze={class:"item-pools"},Je=k(()=>a("span",null,"Volume (24H)",-1)),Ke={class:"item-pools"},Qe=k(()=>a("span",null,"Volume (7D)",-1)),Xe={class:"item-pools"},Ze=k(()=>a("span",null,"APR",-1)),me={class:"bottom"},xe={class:"panation"};function so(o,d,vs,ss,Y,S){const es=Ss,g=Bs,T=Ks,L=Ys;return v(),i("div",Zs,[a("div",ms,[M(es),b(" "+c(o.$t("menu.pools")),1)]),a("div",xs,[a("div",se,[a("div",null,c(o.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:d[0]||(d[0]=e=>o.reviseValue("select"))},[a("div",null,[b(c(o.selectValue)+" ",1),ee]),(v(),i("svg",{"aria-hidden":"true",class:q(o.select?"show-icon icon":"icon")},le,2)),o.select?(v(),i("div",ae,[(v(!0),i(m,null,x(o.selectList,(e,p)=>(v(),i("div",{key:p,class:"select-menu-item",onClick:h=>o.changeSort(e)},[b(c(e)+" ",1),re],8,ne))),128))])):N("",!0)])]),a("div",te,[a("div",ue,[de,a("span",{onClick:d[1]||(d[1]=e=>o.changePoolsList("tvl_in_usd"))},[b(" TVL "),(v(),i("svg",{"aria-hidden":"true",class:q(["pools-icon",o.tvlImprint?o.tvlImprintHighlight?"selected highlight":"selected":o.tvlImprintHighlight?"highlight":""])},ie,2))]),a("span",{onClick:d[2]||(d[2]=e=>o.changePoolsList("vol_in_usd_24h"))},[b(" Volume (24H) "),(v(),i("svg",{"aria-hidden":"true",class:q(["pools-icon",o.volHImprint?o.volHImprintHighlight?"selected highlight":"selected":o.volHImprintHighlight?"highlight":""])},ce,2))]),a("span",{onClick:d[3]||(d[3]=e=>o.changePoolsList("vol_in_usd_7_day"))},[b(" Volume (7D) "),(v(),i("svg",{"aria-hidden":"true",class:q(["pools-icon",o.volDImprint?o.volDImprintHighlight?"selected highlight":"selected":o.volDImprintHighlight?"highlight":""])},he,2))]),a("span",{onClick:d[4]||(d[4]=e=>o.changePoolsList("aprNum"))},[b(" APR "),(v(),i("svg",{"aria-hidden":"true",class:q(["pools-icon",o.aprImprint?o.aprImprintHighlight?"selected highlight":"selected":o.aprImprintHighlight?"highlight":""])},ke,2)),a("div",ge,[M(g,{class:"noHover apr-hover-con"})])]),Te]),(v(!0),i(m,null,x(o.currentTopPoolsList,(e,p)=>{var h;return v(),i("div",{key:p,class:"item pc-item"},[a("div",Le,[e!=null&&e.token_a_address?(v(),i("img",{key:0,src:o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol.toLowerCase()}.png`)},null,8,be)):N("",!0),e!=null&&e.token_b_address?(v(),i("img",{key:1,src:o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol.toLowerCase()}.png`)},null,8,Ie)):N("",!0),a("div",Pe,[a("p",ye,c(o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol)+" - "+c(o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol),1),a("div",He,c((e==null?void 0:e.fee)*100)+"% ",1),a("div",we,[(v(!0),i(m,null,x(o.getLabel(e),(f,t)=>(v(),i("div",{class:q(["label",f]),key:t},[f!=="Native"?(v(),i("span",Ce,c(f),1)):N("",!0)],2))),128))])])]),a("div",Ve," $"+c(e.tvl_in_usd?o.addCommom(e.tvl_in_usd,2):"--"),1),a("div",$e," $"+c(e!=null&&e.vol_in_usd_24h?o.addCommom(e==null?void 0:e.vol_in_usd_24h,2):"--"),1),a("div",Ae," $"+c(e!=null&&e.vol_in_usd_7_day?o.addCommom(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1),a("div",De,[b(c(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)))+" ",1),((h=o.rewardApr(e))==null?void 0:h.length)!=0?(v(),i("div",Re,[M(g,{class:"noHover apr-hover-con",lItem:{apr:e.apr_7day,aprTotal:o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr))},rewarderInfo:o.rewardApr(e)},null,8,["lItem","rewarderInfo"])])):N("",!0)]),a("div",Ne,[M(T,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:is(()=>[b(c(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(v(!0),i(m,null,x(o.currentTopPoolsList,(e,p)=>(v(),i("div",{key:p,class:"item h5-item"},[a("div",Se,[a("div",Be,[e!=null&&e.token_a_address?(v(),i("img",{key:0,src:o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol.toLowerCase()}.png`)},null,8,Oe)):N("",!0),e!=null&&e.token_b_address?(v(),i("img",{key:1,src:o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol.toLowerCase()}.png`)},null,8,Ue)):N("",!0),a("div",je,[a("p",Ee,c(o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol)+" - "+c(o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol),1),a("div",Fe,[(v(!0),i(m,null,x(o.getLabel(e),(h,f)=>(v(),i("div",{class:q(["label",h]),key:f},[h!=="Native"?(v(),i("span",We,c(h),1)):N("",!0)],2))),128))])])]),a("div",qe,c((e==null?void 0:e.fee)*100)+"% ",1)]),a("div",Ge,[a("div",Me,[Ye,a("p",null,"$"+c(e.tvl_in_usd?o.addCommom(e.tvl_in_usd,2):"--"),1)]),a("div",ze,[Je,a("p",null," $"+c(e!=null&&e.vol_in_usd_24h?o.addCommom(e==null?void 0:e.vol_in_usd_24h,2):"--"),1)]),a("div",Ke,[Qe,a("p",null," $"+c(e!=null&&e.vol_in_usd_7_day?o.addCommom(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1)]),a("div",Xe,[Ze,a("p",null,c(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr))),1)])]),a("div",me,[M(T,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:is(()=>[b(c(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])]))),128))]),a("div",xe,[M(L,{current:o.currentPools,"onUpdate:current":d[5]||(d[5]=e=>o.currentPools=e),"page-size":(o.isPc,10),simple:"",total:o.topPoolsList.length,onChange:o.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const po=Ms(Xs,[["render",so],["__scopeId","data-v-fc9a985a"]]);export{po as default};
