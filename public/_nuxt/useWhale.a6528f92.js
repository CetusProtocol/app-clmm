import{H as V,I as A,X as d,s as c}from"./pool.55c43fa6.js";import{c as u,a as W}from"./sha256.68d08469.js";import{D as i}from"./decimal.0bdeb344.js";import{a6 as E,l as U,R as K}from"./entry.ebe5a67c.js";function G(o){const w={launchpad:u[o||"Sui"].launchpad,ido:u[o||"Sui"].ido,xcetus:u[o||"Sui"].xcetus,xcetus_dividends:u[o||"Sui"].xcetus_dividends,cetus_faucet:u[o||"Sui"].cetus_faucet,xtoken:u[o||"Sui"].xtoken,xtoken_dividends:u[o||"Sui"].xtoken_dividends,token_faucet:u[o||"Sui"].token_faucet,booster:u[o||"Sui"].booster,maker_bonus:u[o||"Sui"].maker_bonus},v={fullRpcUrl:localStorage.getItem(`${o}-currentRpclocal2`)||u[o||"Sui"].fullRpcUrl,simulationAccount:u[o||"Sui"].simulationAccount,cetus_config:u[o||"Sui"].cetus_config,clmm_pool:u[o||"Sui"].clmm_pool,integrate:u[o||"Sui"].integrate,deepbook:u[o||"Sui"].deepbook,deepbook_endpoint_v2:u[o||"Sui"].deepbook_endpoint_v2,aggregatorUrl:u[o||"Sui"].aggregatorUrl},m=new V(v),s=E(new A(w,m)),C=W(),l=U(()=>C);K(()=>{l.value.address&&(s.ClmmSDK.senderAddress=l.value.address)});const y=async e=>await s.XCetusModule.getOwnerLockCetuss(e),f=async(e,t)=>d.getAvailableXCetus(e,t),p=async e=>await s.XCetusModule.getOwnerCetusCoins(e),M=async e=>await s.XCetusModule.getOwnerVeNFT(e),S=async(e,t)=>{const n={amount:e};t&&(n.venft_id=t);const a=await s.XCetusModule.convertPayload(n);return r(a)},X=async()=>{const e=await s.XCetusModule.mintVeNFTPayload();return r(e)},k=async(e,t)=>{const n=await s.XCetusModule.redeemNum(e,t);return{amountOut:n.amountOut,percent:c(new i(n.percent).mul(new i(100)).toString(),2)}},D=async(e,t)=>{const n=await s.XCetusModule.reverseRedeemNum(e,t);return{amountOut:n.amountOut,percent:c(new i(n.percent).mul(new i(100)).toString(),2)}},x=async(e,t,n)=>{const a=await s.XCetusModule.redeemLockPayload({venft_id:t,amount:e,lock_day:n});return r(a)},_=e=>d.getLockingCetuss(e),b=async(e,t)=>{const n=await s.XCetusModule.getLockCetus(e);if(n&&d.isLocked(n)){const a=s.XCetusModule.cancelRedeemPayload({venft_id:t,lock_id:e});return r(a)}},P=async(e,t)=>{const n=await s.XCetusModule.getLockCetus(e);if(n&&!d.isLocked(n)){const a=await s.XCetusModule.redeemPayload({venft_id:t,lock_id:e});return r(a)}},T=async()=>{const e=await s.XCetusModule.getDividendManager();return{nextStartTime:Number(d.getNextStartTime(e).toString()),...e}},I=async(e,t)=>{const n=await s.XCetusModule.getVeNFTDividendInfo(t.venft_dividends.id,e);return{rewards:n&&n.rewards||[]}},O=async e=>{const t=await s.XCetusModule.getDividendManager();if(t.bonus_types.length>0){const n=await s.XCetusModule.redeemDividendPayload(e,t.bonus_types);return r(n)}},R=e=>{const t=new Set;return e.forEach(n=>{n.rewards.forEach(a=>{a.amount>0&&t.add(a.coin_type)})}),Array.from(t)},h=async e=>{const t=await s.XCetusModule.getDividendManager(),n=await s.XCetusModule.getVeNFTDividendInfo(t.venft_dividends.id,e),a=R(n.rewards),g=await s.XCetusModule.redeemDividendV2Payload(e,a,[s.XCetusModule.buileXTokenCoinType()]);return r(g)},F=async e=>{try{const t=await s.XCetusModule.getOwnerVeNFT(e);if(t){const n=await s.XCetusModule.getXcetusManager(),a=new i(t.xcetus_balance).div(n.treasury).mul(100).toString();return Number(a)>0&&Number(a)<.001?"<0.001":c(a,3)}else return 0}catch{return"--"}},L=async()=>await s.XCetusModule.getXcetusManager(),r=e=>({transactionBlock:e,options:{showEffects:!0,showEvents:!0,showInput:!0,showRawInput:!0,showObjectChanges:!0,showBalanceChanges:!0}});return{getOwnerLockCetuss:y,getOwnerCetusCoins:p,getOwnerVeNFT:M,depositCetus:S,getMintVeNFTPayload:X,redeemNum:k,getRedeemLockPayload:x,getAvailableXCetus:f,getLockingCetuss:_,getCancelRedeemPayload:b,getVeNFTDividendInfo:I,reverseRedeemNum:D,getRedeemPayload:P,getRedeemDividendPayload:O,getMyShare:F,getDividendManager:T,getPeriod:e=>{const t=Date.now()/1e3,{start_time:n,interval_day:a}=e;return Math.ceil((t-n)/(a*24*3600))},getRedeemDividendV2Payload:h,getPhaseDividendInfo:async e=>await s.XCetusModule.getPhaseDividendInfo(e.dividends.size),getXcetusManager:L}}export{G as u};
