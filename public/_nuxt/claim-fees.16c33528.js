import{_ as so}from"./status-block.56546682.js";import{a as F,u as X,l as E,i as O,g as to,h,e as w,c as Y}from"./import-icon.2b0e962b.js";import{a as V,J as Z,r as D,q as c,e as H,o as l,f as u,h as n,i as y,w as U,t as i,x as q,v as R,u as t,S as ao,p as J,k as z,s as L,b as lo,c as x,j as M,O as ro,B as oo,M as mo,H as uo}from"./entry.6d441a0f.js";/* empty css              */import{_ as no,a as eo}from"./icon-arrow_2x.45808d19.js";import{_ as io}from"./c-switch.cc2aaabe.js";import{u as po}from"./notifi.e074d929.js";const fo=V({props:{positionInfo:{type:Object,required:!0,default:()=>({})}},setup(o){const{t:p}=Z();let b=D(!1),S=D(!0);const v=F(),g=X(),e=c(()=>g),r=c(()=>{var s,d,I,k,$,A,N,j;if(Y(o.positionInfo))return" --";{const B=o.positionInfo.amountA*((d=e.value.RATES[(s=o.positionInfo)==null?void 0:s.token_a.address])==null?void 0:d.price),T=o.positionInfo.amountB*((k=e.value.RATES[(I=o.positionInfo)==null?void 0:I.token_b.address])==null?void 0:k.price);return(A=e.value.RATES[($=o.positionInfo)==null?void 0:$.token_a.address])!=null&&A.price&&((j=e.value.RATES[(N=o.positionInfo)==null?void 0:N.token_b.address])!=null&&j.price)?B+T:" --"}}),m=c(()=>{var s,d,I,k;return(d=e.value.RATES[(s=o.positionInfo)==null?void 0:s.token_a.name.toUpperCase()])!=null&&d.price&&r.value!=="--"?(o.positionInfo.amountA*((k=e.value.RATES[(I=o.positionInfo)==null?void 0:I.token_a.name.toUpperCase()])==null?void 0:k.price)/r.value*100).toFixed(0):" --"}),_=c(()=>{var s,d,I,k;return(d=e.value.RATES[(s=o.positionInfo)==null?void 0:s.token_b.name.toUpperCase()])!=null&&d.price&&r.value!=="--"?(o.positionInfo.amountB*((k=e.value.RATES[(I=o.positionInfo)==null?void 0:I.token_b.name.toUpperCase()])==null?void 0:k.price)/r.value*100).toFixed(0):" --"}),a=c(()=>e.value.allTokenObj&&o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.address&&e.value.allTokenObj[o.positionInfo.token_a.address]&&e.value.allTokenObj[o.positionInfo.token_a.address].logoURI),f=c(()=>e.value.allTokenObj&&o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.address&&e.value.allTokenObj[o.positionInfo.token_b.address]&&e.value.allTokenObj[o.positionInfo.token_b.address].logoURI),C=c(()=>{var s,d;return(d=(s=o.positionInfo)==null?void 0:s.poolInfo)==null?void 0:d.needReverse});return{fromPercent:_,toPercent:m,amountUSD:r,showNum:E,t:p,importIcon:O,indexStore:v,rateChange:S,decimalFormat:to,fromCoinUrl:a,toCoinUrl:f,pools:e,addCommom:h,isPc:b,needReverse:C,getCoinIcon:s=>{var d;return(s==null?void 0:s.logoURI)||(s==null?void 0:s.logo_url)||((d=e.value.tokensObj[s==null?void 0:s.address])==null?void 0:d.logo_url)||(v.theme==="default"?O("/image/coins/unknown.png"):O("/image/coins/sui-unknown.png"))},decimalUi:w}}});const co=o=>(J("data-v-9f9e3adb"),o=o(),z(),o),Io={key:0,class:"position-card"},ko={key:0,class:"coin-pair"},ho=["src"],bo=["src"],vo={key:1,class:"coin-pair"},go=["src"],_o=["src"],Co={class:"fee"},So={class:"right"},yo={key:0,class:"status"},Uo={class:"min-and-max"},$o={key:0},wo={class:"text"},Oo={key:0,src:no,alt:""},Ro={key:1,src:eo,alt:""},Po={class:"text"},Ao={key:1},No={class:"text"},jo={key:0,src:no,alt:""},Bo={key:1,src:eo,alt:""},To={class:"text"},Eo=co(()=>n("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Do=[Eo],Lo={class:"liquidity"},qo={class:"label"},Mo={class:"value"},Fo={class:"item"},Vo=["src"],Ho={class:"rate"},Jo={class:"item"},zo=["src"],Go={class:"rate"};function Ko(o,p,b,S,v,g){const e=ao,r=so;return o.positionInfo?(l(),u("div",Io,[n("div",{class:q(["left",`position-status-${o.positionInfo&&o.positionInfo.currentStatus&&o.positionInfo.currentStatus.toLowerCase()}`])},[y(e,{class:"left-skeleton",loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:U(()=>[o.needReverse?(l(),u("div",vo,[n("div",null,[n("img",{src:o.toCoinUrl||o.getCoinIcon(o.positionInfo.token_b)},null,8,go),n("img",{src:o.fromCoinUrl||o.getCoinIcon(o.positionInfo.token_a)},null,8,_o)]),n("span",null,i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol)+" - "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)])):(l(),u("div",ko,[n("div",null,[n("img",{src:o.fromCoinUrl||o.getCoinIcon(o.positionInfo.token_a)},null,8,ho),n("img",{src:o.toCoinUrl||o.getCoinIcon(o.positionInfo.token_b)},null,8,bo)]),n("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" - "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])),n("div",Co,i(o.$t("common.fee"))+" "+i(o.positionInfo.fee*100)+"%",1)]),_:1},8,["loading"])],2),n("div",So,[o.pools.currentPositionLoading?R("",!0):(l(),u("div",yo,[y(r,{"current-status":o.positionInfo.currentStatus||"","block-name":"detail"},null,8,["current-status"])])),y(e,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:U(()=>[n("div",Uo,[(o.needReverse?!o.rateChange:o.rateChange)?(l(),u("div",$o,[n("div",wo,i(("addCommom"in o?o.addCommom:t(h))(("decimalUi"in o?o.decimalUi:t(w))(String(o.positionInfo.minPrice),6))),1),o.indexStore.theme=="default"?(l(),u("img",Oo)):(l(),u("img",Ro)),n("div",Po,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("∞")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in o?o.addCommom:t(h))(("decimalUi"in o?o.decimalUi:t(w))(String(o.positionInfo.maxPrice),6)))+" "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)])):(l(),u("div",Ao,[n("div",No,i(("addCommom"in o?o.addCommom:t(h))(("decimalUi"in o?o.decimalUi:t(w))(String(1/Number(o.positionInfo.maxPrice)),6))),1),o.indexStore.theme=="default"?(l(),u("img",jo)):(l(),u("img",Bo)),n("div",To,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("∞")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in o?o.addCommom:t(h))(("decimalUi"in o?o.decimalUi:t(w))(String(1/Number(o.positionInfo.minPrice)),6)))+" "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])),(l(),u("svg",{class:"icon-change","aria-hidden":"true",onClick:p[0]||(p[0]=m=>o.rateChange=!o.rateChange)},Do))])]),_:1},8,["loading"]),n("div",Lo,[y(e,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:U(()=>[n("div",qo,i(o.$t("common.liquidity")),1),n("div",Mo," $"+i(o.amountUSD=="--"?"--":Number(o.amountUSD)==0?0:Number(o.amountUSD)<.01?"<0.01":("addCommom"in o?o.addCommom:t(h))(o.amountUSD,2)),1)]),_:1},8,["loading"])]),n("div",{class:q(o.needReverse?"token-num reverse":"token-num")},[y(e,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:U(()=>{var m,_,a,f,C,P,s,d,I,k,$,A,N,j,B,T,G,K,Q,W;return[n("div",Fo,[n("div",null,[n("img",{src:o.fromCoinUrl||o.getCoinIcon((m=o.positionInfo)==null?void 0:m.token_a)},null,8,Vo),n("p",null,i(("decimalUi"in o?o.decimalUi:t(w))((_=o.positionInfo)==null?void 0:_.amountA,(f=(a=o.positionInfo)==null?void 0:a.token_a)==null?void 0:f.decimals)),1),n("span",null,i((P=(C=o.positionInfo)==null?void 0:C.token_a)==null?void 0:P.symbol)+" "+i((d=(s=o.positionInfo)==null?void 0:s.token_a)!=null&&d.labels&&((k=(I=o.positionInfo)==null?void 0:I.token_a)!=null&&k.labels[0])?`(${o.positionInfo.token_a.labels[0]})`:""),1)]),n("div",Ho,i(("addCommom"in o?o.addCommom:t(h))(o.positionInfo.fromPercent,0))+"% ",1)]),n("div",Jo,[n("div",null,[n("img",{src:o.toCoinUrl||o.getCoinIcon(($=o.positionInfo)==null?void 0:$.token_b)},null,8,zo),n("p",null,i(("decimalUi"in o?o.decimalUi:t(w))((A=o.positionInfo)==null?void 0:A.amountB,(j=(N=o.positionInfo)==null?void 0:N.token_b)==null?void 0:j.decimals)),1),n("span",null,i((T=(B=o.positionInfo)==null?void 0:B.token_b)==null?void 0:T.symbol)+" "+i((K=(G=o.positionInfo)==null?void 0:G.token_b)!=null&&K.labels&&((W=(Q=o.positionInfo)==null?void 0:Q.token_b)!=null&&W.labels[0])?`(${o.positionInfo.token_b.labels[0]})`:""),1)]),n("div",Go,i(("addCommom"in o?o.addCommom:t(h))(o.positionInfo.toPercent,0))+"%",1)])]}),_:1},8,["loading"])],2)])])):R("",!0)}const gn=H(fo,[["render",Ko],["__scopeId","data-v-9f9e3adb"]]),Qo=V({components:{CSwitch:io},props:{positionInfo:{type:Object,default:()=>({})}},setup(o){const p=po(),b=c(()=>p),S=c(()=>b.value.status),v=F();L(()=>[b.value.targetGroups],a=>{},{immediate:!0});const g=D(!1);L(()=>S.value,a=>{a=="authenticated",g.value=!1},{immediate:!0});const e=D(!1),r=async()=>{e.value=!e.value;const a={pool_address:o.positionInfo.poolAddress,position_index:o.positionInfo.index},f=o.positionInfo.nftHash;await p.subscribePosition(a,f,e.value)},m=a=>{const f=a.sources;e.value=f.some(C=>JSON.parse(C.blockchainAddress).pool_address==o.positionInfo.poolAddress&&Number(JSON.parse(C.blockchainAddress).position_index)==Number(o.positionInfo.index))},_=lo();return L(()=>[b.value.sourceGroups,o.positionInfo],([a,f])=>{var C,P,s;e.value=!1,a&&a.length>0&&a[0]&&f&&!Y(f)&&((s=(P=(C=_==null?void 0:_.currentRoute)==null?void 0:C.value)==null?void 0:P.query)==null?void 0:s.token)==(f==null?void 0:f.name)&&m(a[0])},{immediate:!0,deep:!0}),{importIcon:O,isShowSetUp:g,changeSwitch:r,checked:e,notifiStatus:S,store:v}}});const Wo=o=>(J("data-v-7a8bd083"),o=o(),z(),o),Xo={class:"range-alerts"},Yo={class:"range-alerts-top"},Zo={class:"title"},xo=Wo(()=>n("div",{class:"title-all"},[n("span",{class:"Range"},"Range Alerts")],-1)),on={key:1,class:"h5-switch-box"},nn={class:"range-alerts-bottom"},en={key:0,class:"pc-switch-box"};function sn(o,p,b,S,v,g){const e=oo,r=io;return l(),u("div",Xo,[n("div",Yo,[n("div",Zo,[xo,o.isShowSetUp||o.notifiStatus!=="authenticated"?(l(),x(e,{key:0,class:"range-alerts-button",onClick:p[0]||(p[0]=ro(m=>o.store.setIsShowNotifi(!0),["stop"]))},{default:U(()=>[M(" Set up ")]),_:1})):R("",!0),!o.isShowSetUp&&o.notifiStatus=="authenticated"?(l(),u("div",on,[y(r,{checked:o.checked,disabled:o.notifiStatus!=="authenticated",onChange:o.changeSwitch},null,8,["checked","disabled","onChange"])])):R("",!0)])]),n("div",nn,[M(" Receive alerts via Telegram, SMS, or email when this position goes out of range. "),!o.isShowSetUp&&o.notifiStatus=="authenticated"?(l(),u("div",en,[y(r,{checked:o.checked,disabled:o.notifiStatus!=="authenticated",onChange:o.changeSwitch},null,8,["checked","disabled","onChange"])])):R("",!0)])])}const _n=H(Qo,[["render",sn],["__scopeId","data-v-7a8bd083"]]),tn=V({components:{Modal:mo},props:{positionInfo:{type:Object,required:!0},isLoading:{type:Boolean,required:!0},needReverse:{type:Boolean,required:!1}},setup(o,p){const{t:b,locale:S}=Z(),v=F(),{copy:g}=v,e=()=>{p.emit("toClaim")},r=X(),m=c(()=>r),_=c(()=>m.value.tokensObj&&o.positionInfo.token_a.address&&m.value.tokensObj[o.positionInfo.token_a.address]&&m.value.tokensObj[o.positionInfo.token_a.address].logoURI),a=c(()=>m.value.tokensObj&&o.positionInfo.token_b.address&&m.value.tokensObj[o.positionInfo.token_b.address]&&m.value.tokensObj[o.positionInfo.token_b.address].logoURI);return{showNum:E,fromCoinUrl:_,toCoinUrl:a,toClaim:e,t:b,addCommom:h,importIcon:O,store:v,copy:g}}});const an=o=>(J("data-v-0d5910fb"),o=o(),z(),o),ln=an(()=>n("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),dn={key:0,class:"pc-claim"},rn=["src"],mn={key:1,class:"pc-claim"},un=["src"];function pn(o,p,b,S,v,g){const e=oo,r=uo("Modal");return l(),x(r,{visible:!0,class:"claim-fees",centered:"",closable:!0,title:o.$t("modal.claimFees"),width:"400px",footer:null,onCancel:p[0]||(p[0]=m=>o.$emit("onClose"))},{closeIcon:U(()=>[ln]),default:U(()=>[n("div",{class:q(o.needReverse?"claim-container reverse":"claim-container")},[o.positionInfo&&o.positionInfo.token_a.symbol?(l(),u("div",dn,[n("img",{src:o.fromCoinUrl||("importIcon"in o?o.importIcon:t(O))(`/image/coins/${o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,rn),n("span",null,i(("showNum"in o?o.showNum:t(E))(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals))+" "+i(o.positionInfo.token_a.symbol),1)])):R("",!0),o.positionInfo&&o.positionInfo.token_b.symbol?(l(),u("div",mn,[n("img",{src:o.toCoinUrl||("importIcon"in o?o.importIcon:t(O))(`/image/coins/${o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,un),n("span",null,i(("showNum"in o?o.showNum:t(E))(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals))+" "+i(o.positionInfo.token_b.symbol),1)])):R("",!0)],2),y(e,{class:"big-btn claim-btn",disabled:o.isLoading||("addCommom"in o?o.addCommom:t(h))(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals)==0&&("addCommom"in o?o.addCommom:t(h))(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals)==0||o.positionInfo.poolInfo.is_pause,onClick:o.toClaim},{default:U(()=>[M(i(o.$t("common.claim")),1)]),_:1},8,["disabled","onClick"])]),_:1},8,["title"])}const Cn=H(tn,[["render",pn],["__scopeId","data-v-0d5910fb"]]);export{gn as _,_n as a,Cn as b};
