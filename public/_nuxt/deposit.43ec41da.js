import{_ as Bt}from"./back.1d8ba997.js";import{_ as _t,a as Ft}from"./token-warning-modal.61695ae3.js";import{_ as jt}from"./swap-setting.1f41514b.js";import{u as uo,c as bn,a as Et}from"./index.bd5ac2dd.js";import{u as on,c as mo,D as h,a as Ln,d as Ne,b as en,n as Nn,e as _e,t as Sn,g as An,p as nt,s as Yo,f as So,h as tt}from"./pool.57f03307.js";import{a as co,r as g,y as kn,C as Wt,m as W,D as me,b as qn,e as vo,o as r,f as v,h as a,v as d,i as ie,z as pe,c as re,x as C,p as _o,k as Fo,q as hn,t as to,j as Ue,I as ct,E as vt,w as Te,S as pt,u as te,B as Rn,G as Dt,H as at,F as To,s as xo,J as mt,M as ft,K as gt,l as Ht,L as Tn,N as zt}from"./entry.3bca6f6c.js";import{i as De}from"./import-icon.de3e6c66.js";import{_ as Xt}from"./assets-card.2ed63bb5.js";import{s as gn,m as Vt,l as Kt,b as Zt,a as Gt,_ as it,c as lt,d as Jt}from"./icon-Add-Liquidity_2x.d9e10b11.js";import{_ as Qt,a as Yt,b as xt,c as ea}from"./new-add-or-create.93913361.js";import{_ as oa}from"./network-tips.13251a9a.js";/* empty css              *//* empty css              */import{_ as na}from"./apr-tab.b22b0aa4.js";import{_ as ta}from"./token-warning.a1ad56cb.js";import{_ as aa}from"./apr-tips.6241d1aa.js";/* empty css              */import{p as ia}from"./precision.9d58cda5.js";import{_ as la}from"./coin-select.e790199f.js";import{_ as ra}from"./status-block.c88f8fb2.js";import{_ as bt}from"./icon-arrow_2x.948aedb2.js";import{_ as kt}from"./icon-arrow_2x.4ffddb8e.js";/* empty css              */import{u as sa}from"./notifi.3863e28a.js";import{_ as ht}from"./icon-selected_3x.09e9a6f0.js";/* empty css              *//* empty css              */import"./index.a8fc67c0.js";import"./img-no-Positions_2x.0e997076.js";import"./useWhale.6a94b1e1.js";import"./index.95abf299.js";const ua=co({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,n){const O=g(!1),_=g(null),B=g(0),K=g(20),H=on(),oe=uo(),E=g(!1);kn(()=>{}),Wt(()=>{clearInterval(_.value)});const D=()=>{_.value=setInterval(()=>{var $;E.value||B.value<K.value&&(B.value+=1,B.value===K.value&&(($=e==null?void 0:e.poolInfo)!=null&&$.poolAddress&&H.updateCurrentPools(e.poolInfo.poolAddress,oe.chainName),B.value=0))},1e3)},z=W(()=>oe.slippage),X=()=>{n.emit("clearAll")},x=()=>{B.value=0,n.emit("clickRefresh")};me(()=>e.poolInfo,$=>{$&&!_.value&&D()},{immediate:!0});const ke=qn();return{clickRefresh:x,isShowSwapSetting:O,countdown:B,autoRefreshTime:K,slippage:z,clearAll:X,checkNullObj:mo,router:ke}}});const da=e=>(_o("data-v-f484e6e0"),e=e(),Fo(),e),ca={class:"title"},va={class:"left"},pa=da(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),ma={class:"deposit-progress"};function fa(e,n,O,_,B,K){var E,D;const H=_t,oe=jt;return r(),v("div",ca,[a("div",va,[a("span",null,d(e.poolInfo?e.$t("common.concentratedLiquidity"):(D=(E=e.$route)==null?void 0:E.query)!=null&&D.action?e.$t("newAdd.createClmmPool"):e.$t("common.concentratedLiquidity")),1)]),a("div",{class:pe(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[a("div",{class:"slippage-icon",onClick:n[0]||(n[0]=z=>e.isShowSwapSetting=!0)},[pa,a("span",null,d(e.slippage)+"%",1)]),a("div",ma,[ie(H,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])],2),e.isShowSwapSetting?(r(),re(oe,{key:0,onOnClose:n[1]||(n[1]=z=>e.isShowSwapSetting=!1)})):C("",!0)])}const ga=vo(ua,[["render",fa],["__scopeId","data-v-f484e6e0"]]);const ba=co({props:{coinIcon:{type:String,default:""},coin:{type:Object,default:()=>({})}},setup(e){const n=uo(),O=W(()=>n),_=g(""),B=g(""),K=g(""),H=on(),oe=W(()=>H);me(()=>[e.coin,oe.value.tokensObj],([D,z])=>{var X;D?(B.value=z&&z[D.address]&&((X=z[D.address])==null?void 0:X.labels),_.value=D.name,K.value=D.symbol):(B.value="",_.value="",K.value="")},{immediate:!0,deep:!0});const E=W(()=>{var D,z,X;return e.coinIcon||((X=(z=oe==null?void 0:oe.value)==null?void 0:z.tokensObj[(D=e.coin)==null?void 0:D.address])==null?void 0:X.logo_url)||(O.value.theme==="default"?De("/image/coins/unknown.png"):De("/image/coins/sui-unknown.png"))});return{store:O,importIcon:De,coinName:_,coinLabels:B,coinSymbol:K,currentIcon:E}}}),ka=e=>(_o("data-v-d0bce36a"),e=e(),Fo(),e),ha={class:"coin-block"},Ca={class:"coin-info"},ya={class:"symbol"},wa={key:0,class:"name"},Pa={key:0,class:"label"},Ia=ka(()=>a("div",null,[a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon_on"})])],-1));function $a(e,n,O,_,B,K){const H=hn("image");return r(),v("div",ha,[a("div",null,[to(a("img",null,null,512),[[H,e.currentIcon]]),a("div",Ca,[a("div",ya,d(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinName?(r(),v("div",wa,[Ue(d(e.coin.name)+" ",1),e.store.theme=="default"?(r(),v("span",Pa,d(e.coinLabels?`(${e.coinLabels})`:""),1)):C("",!0)])):C("",!0)])]),Ia])}const Sa=vo(ba,[["render",$a],["__scopeId","data-v-d0bce36a"]]),Ta=co({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})},showfromCoinLock:{type:Boolean,default:!1},showtoCoinLock:{type:Boolean,default:!1}},setup(){const e=uo();return{storeIndex:W(()=>e)}}});const Na={class:"create-pool-lock"},Aa={key:0,src:Qt,alt:""},La={key:1,src:Yt,alt:""};function qa(e,n,O,_,B,K){return r(),v("div",Na,[a("div",null,[e.storeIndex.theme=="default"?(r(),v("img",Aa)):(r(),v("img",La))])])}const Ra=vo(Ta,[["render",qa],["__scopeId","data-v-5d070e17"]]),Ma=co({props:{clickClear:{type:Boolean,default:!1},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},intPrice:{type:String,default:""}},setup(e,n){const O=g("");return{inpValue:O,changecurrentPrice:B=>{const K=new RegExp("[^\\d-]*(\\d*(?:\\.\\d*)?).*$");B.target.value=B.target.value.replace(K,"$1"),O.value=B.target.value,n.emit("changecurrentPrice",O.value)}}}});const Ua={class:"set-init-price"},Oa={class:"init-price-tips"};function Ba(e,n,O,_,B,K){var oe,E,D,z;const H=ct;return r(),v("div",Ua,[ie(H,{type:"text",placeholder:"0.0",value:e.intPrice,disabled:!((E=(oe=e.$route)==null?void 0:oe.query)!=null&&E.fee),onChange:e.changecurrentPrice},null,8,["value","disabled","onChange"]),a("div",Oa,d((D=e.toCoin)==null?void 0:D.symbol)+" per "+d((z=e.fromCoin)==null?void 0:z.symbol),1)])}const _a=vo(Ma,[["render",Ba],["__scopeId","data-v-9e71be9e"]]),Fa=-443636;function rt(e,n){const O=ja(e),_=(O-Fa)%n;return _>n/2?O-_+n:O-_}const Ct=new h("1.0001");function ja(e){return e.log(Ct).toDP(0,h.ROUND_HALF_UP).toNumber()}function st(e){return Ct.pow(e)}const Ea=co({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,n){const O=g(""),_=g("");let B=g(""),K=g("");const H=vt(),oe=uo(),E=W(()=>oe),D=W(()=>E.value.chainName?Ln(E.value.chainName):{}),z=()=>{if(!(Number.isNaN(O.value)||Number(O.value)!==0&&!O.value||!e.poolInfo.tickSpacing))try{const f=rt(new h(O.value.toString()),Number($.value.tickSpacing)),F=st(f+Number($.value.tickSpacing));if(e.pType=="Min"&&Number(F.toString())>=Number(K.value.toString()))return;const y=F.toString();n.emit("onInput",y)}catch{n.emit("onInput","")}},X=()=>{try{if(Number.isNaN(O.value)||!O.value||!e.poolInfo.tickSpacing)return;const f=rt(new h(O.value),Number($.value.tickSpacing)),F=st(f-Number($.value.tickSpacing)),y=F.toString();if(e.pType=="Max"&&Number(F)<=Number(B.value))return;n.emit("onInput",y)}catch{n.emit("onInput","")}},x=f=>{let F=f.toString().replace(/[^\d.]/g,"");const y=/^\d+(\.\d+)?$/;F.split(".").length>2&&!y.exec(F)&&(F=F.substr(0,F.length-1)),_.value=String(F)},ke=f=>{var G,ye,Le,ve;const{TickUtil:F,TickMath:y,getNearestTickByTick:b}=D.value,l=f.target.value;let m;if(l==="0"){m=-443636,n.emit("onInput","0");return}else{const j=y.priceToTickIndex(new h(l),(G=$.value.token_a)==null?void 0:G.decimals,(ye=$.value.token_b)==null?void 0:ye.decimals);m=b(Number(j),Number($.value.tickSpacing))}const U=y.tickIndexToPrice(new h(m),(Le=$.value.token_a)==null?void 0:Le.decimals,(ve=$.value.token_b)==null?void 0:ve.decimals);n.emit("onInput",U.toString())};me(()=>e.defaultMinPrice,(f,F)=>{f!==F&&(B.value=e.defaultMinPrice)},{immediate:!0}),me(()=>e.defaultMaxPrice,(f,F)=>{f!==F&&(K.value=e.defaultMaxPrice)},{immediate:!0}),me(()=>_.value,f=>{},{immediate:!0}),me(()=>[e.inputValue,H.query.action],([f])=>{if(f&&f!=="0"&&f!=="∞"){O.value=f;const y=f.toString().split(".")[1];_.value=f!=="0"&&f!=="∞"&&y&&y.length>6?Ne(f.toString(),6):f.toString()}else(f=="0"||f=="∞"||H.query.action)&&(_.value=f)},{immediate:!0});const $=g({});me(()=>e.poolInfo,(f,F)=>{f&&($.value=f)},{immediate:!0});const Oe=g("");return me(()=>e.currentPriceTab,f=>{Oe.value=f},{immediate:!0}),{addPrice:z,minusPrice:X,oValue:_,changeValue:x,isDisabled:Oe,route:H,onBlur:ke}}});const Wa={class:"set-price-item"},Da={class:"title"},Ha={class:"input-box"},za={class:"minus-btn"},Xa=["disabled"],Va={class:"plus-btn"};function Ka(e,n,O,_,B,K){const H=ct,oe=pt;return r(),v("div",Wa,[a("div",Da,d(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),ie(oe,{loading:e.loading,active:"",paragraph:!1},{default:Te(()=>[a("div",Ha,[a("a",za,[a("div",{class:pe(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),disabled:e.isDisabled!=="Custom",onClick:n[0]||(n[0]=(...E)=>e.minusPrice&&e.minusPrice(...E))},null,10,Xa)]),ie(H,{id:"pValu",value:e.oValue,"onUpdate:value":n[1]||(n[1]=E=>e.oValue=E),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:n[2]||(n[2]=E=>e.changeValue(E.target.value)),onBlur:n[3]||(n[3]=E=>e.onBlur(E))},null,8,["value","disabled"]),a("a",Va,[a("div",{class:pe(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:n[4]||(n[4]=(...E)=>e.addPrice&&e.addPrice(...E))},null,2)])])]),_:1},8,["loading"]),a("p",{class:pe(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},d(e.toCoin&&e.toCoin.symbol)+" per "+d(e.fromCoin&&e.fromCoin.symbol),3)])}const ut=vo(Ea,[["render",Ka],["__scopeId","data-v-782725c6"]]),Za=co({props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,n){let O=g(""),_=g(""),B=g(),K=g(!1),H=g(!1);const oe=g({}),E=uo(),D=W(()=>E);kn(()=>{O.value=e.min,_.value=e.max}),me(()=>e.currentPriceTab,(f,F)=>{f!==F&&(B.value=e.currentPriceTab)},{immediate:!0}),me(()=>e.min,(f,F)=>{f!==F&&(O.value=f)}),me(()=>e.max,(f,F)=>{f!==F&&(_.value=f)}),me(()=>e.poolInfo,(f,F)=>{f&&(oe.value=f)},{immediate:!0});const z=g("");me(()=>e.intPrice,f=>{z.value=f},{immediate:!0,deep:!0});const X=f=>{O.value=f,n.emit("onChangeMinPrice",f)},x=f=>{_.value=f,n.emit("onChangeMaxPrice",f)};me(K,(f,F)=>{f!==F&&n.emit("onChangeFullRange",f)});const ke=()=>{O.value=e.defaultMinPrice,_.value=e.defaultMaxPrice,H.value=!1,K.value=!1},$=()=>{H.value=!1,O.value="0",_.value="∞"};return me(K,(f,F)=>{f!==F&&n.emit("onChangeFullRange",f)}),{store:D,changeMinPrice:X,changeMaxPrice:x,importIcon:De,resetPrice:ke,changeShowUnderStand:()=>{K.value=!K.value,K.value?H.value=!0:ke(),H.value||(O.value=e.defaultMinPrice,_.value=e.defaultMaxPrice)},showUnderStand:H,minPrice:O,maxPrice:_,understand:$,isRadio:K,initPirce:z}}});const Ga={class:"set-price"},Ja={class:"card-container"},Qa={key:0,class:"card"},Ya=["src"],xa={key:1,class:"understand"},ei={class:"left"},oi={class:"right"};function ni(e,n,O,_,B,K){const H=ut,oe=ut,E=Rn;return r(),v("div",Ga,[a("div",Ja,[e.showUnderStand?(r(),v("div",xa,[a("div",ei,[a("p",null,d(e.$t("common.lowerEfficiency")),1),a("p",null,d(e.$t("common.lowerEfficiencyTips")),1)]),a("div",oi,[ie(E,{onClick:e.understand},{default:Te(()=>[Ue(d(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(r(),v("div",Qa,[ie(H,{value:e.minPrice,"onUpdate:value":n[0]||(n[0]=D=>e.minPrice=D),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),ie(oe,{value:e.maxPrice,"onUpdate:value":n[1]||(n[1]=D=>e.maxPrice=D),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"]),a("img",{src:("importIcon"in e?e.importIcon:te(De))("/image/lmg-line@2x.png"),alt:""},null,8,Ya)]))])])}const ti=vo(Za,[["render",ni],["__scopeId","data-v-d07618c3"]]);function dt(e,n,O){const _=new h(10).pow(n-O);return new h(1.0001).pow(e).mul(_)}const ai=co({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,n){const O=g(1),_=g(""),B=g(""),K=W(()=>{var l,m,U;return X.sqrtPriceX64ToPrice((l=e.poolInfo)==null?void 0:l.current_sqrt_price,(m=e.poolInfo)==null?void 0:m.coinA.decimals,(U=e.poolInfo)==null?void 0:U.coinB.decimals).toString()}),H=W(()=>{let l=0;return e.direction?l=(Number(e.minPrice)/Number(K.value)-1)*100:l=(Number(e.minPrice)/Number(1/Number(K.value))-1)*100,l=l>0&&l<.1?.1:l,l=l<0&&l>-.1?-.1:l,l}),oe=W(()=>{let l=0;return e.direction?l=(Number(e.maxPrice)/Number(K.value)-1)*100:l=(Number(e.maxPrice)/Number(1/Number(K.value))-1)*100,l=l>0&&l<.1?.1:l,l=l<0&&l>-.1?-.1:l,l}),E=uo(),D=W(()=>E),z=W(()=>D.value.chainName?Ln(D.value.chainName):{}),{TickMath:X,getNearestTickByTick:x}=z.value,ke=()=>{const l=O.value/2;O.value=l,f(e.poolInfo,l)},$=()=>{const l=O.value*2;O.value=l,f(e.poolInfo,l)},Oe=(l=[])=>{let m=6;const U=Math.abs(Number(l[0])-Number(l[l.length-1]));return U>=6?m=0:U>=1?m=1:U>=.1?m=2:U>=.01?m=3:U>=.001?m=4:U>=1e-4?m=5:U>=1e-5?m=6:U>=1e-6?m=7:U>=1e-7&&(m=8),m},f=(l,m=1)=>{if(l&&l.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const U=Number(e.poolInfo.current_tick_index);let G=U+100*m,ye=U-100*m,Le,ve;if(e.maxPrice==="∞")ve=z.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?ve=X.priceToTickIndex(new h(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):ve=X.priceToTickIndex(new h(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{ve=443636}if(e.minPrice==="0")Le=z.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?Le=X.priceToTickIndex(new h(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):Le=X.priceToTickIndex(new h(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{Le=-443636}let j=0;if(e.currentPriceTab!=="full range"){if(U>=Le&&U<=ve){const ee=U-Le,q=ve-U;j=Math.max(Math.abs(ee),Math.abs(q))}else U<Le?j=Math.abs(ve-U):j=Math.abs(U-Le);G=U+j+100*m,ye=U-j-100*m}else{const ee=(Math.abs(U)>5e3,2e4);G=U+ee*m,ye=U-ee*m}ye<-443636&&(ye=-443636),G>443636&&(G=443636);const le=new h(l.liquidity).div(Math.pow(10,8)).toString(),Z=e.tickList,ae=[],We=[];let J={};for(let ee=0;ee<Z.length;ee++){if(J=Z[ee],J.index<=U&&J.index>=ye){if(ae.length<1&&ee!==0){const q=Z[ee-1];ae.unshift({...q,index:ye})}ae.unshift(J)}else if(J.index>U&&J.index<=G&&(We.push(J),ae.length<1&&ee!==0)){const q=Z[ee-1];ae.push({...q,index:ye})}if(J.index>G){const q=Z[ee];if(We.push({...q,index:G}),ae.length<1&&ee!==0){const wo=Z[ee-1];ae.push({...wo,index:ye})}break}}let Ie="0";for(let ee=ae.length-1;ee>=0;ee--)Ie=new h(Ie).plus(new h(ae[ee].liquidityNet.toString()).div(Math.pow(10,8))).toString(),ae[ee].liquityAmount=Ie;let fe=le;for(let ee=0;ee<We.length;ee++)fe=new h(fe).plus(new h(We[ee].liquidityNet.toString()).div(Math.pow(10,8))).toString(),We[ee].liquityAmount=fe;let Re=[];const se=Z&&Z.length>0?{index:U,liquityAmount:Number(le)}:{index:U,liquityAmount:0};(ae.length>0||We.length>0)&&(Re=[...ae.reverse(),se,...We],e.direction||(Re=Re.reverse()));const Xe=[];Z.forEach(ee=>{Xe.push({...ee,liquidityGross:ee.liquidityGross.toString(),liquidityNet:ee.liquidityNet.toString()})}),y(Re,ye,G,Le,ve,U)}};let F=g(!1);kn(()=>{document.body.clientWidth<750?F.value=!1:F.value=!0,window.onresize=()=>{document.body.clientWidth<750?F.value=!1:F.value=!0,f(e.poolInfo,O.value)}});const y=(l,m,U,G,ye,Le)=>{let ve,j;e.direction?(ve=e.before7dContractPriceLowest&&Number(e.before7dContractPriceLowest)>0?X.priceToTickIndex(new h(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",j=e.before7dContractPriceHighest&&Number(e.before7dContractPriceHighest)>0?X.priceToTickIndex(new h(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(ve=e.before7dContractPriceLowest&&Number(e.before7dContractPriceLowest)>0?X.priceToTickIndex(new h(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",j=e.before7dContractPriceHighest&&Number(e.before7dContractPriceHighest)>0?X.priceToTickIndex(new h(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const le={top:30,right:35,bottom:20,left:55};let Z,ae;F.value?(Z=460-le.left-le.right,ae=205-le.top-le.bottom):(Z=340-le.left-le.right,ae=205-le.top-le.bottom);const We=U-m,J=parseInt(String(We/4));let Ie=[m+J/4,m+J,m+2*J,U-J,U-J/4];const fe=m,Re=U,se=Z/(Re-fe);e.currentPriceTab==="full range"&&(Ie=[m,m+2*J,U]);const Xe=Ie.map(R=>e.direction?dt(R,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new h(1).div(dt(R,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString()),ee=Oe(Xe);gn("#chart").selectAll("*").remove();const q=gn("#chart").attr("width",Z+le.left+le.right).attr("height",ae+le.top+le.bottom).append("g").attr("transform",`translate(${le.left},${le.right})`),wo=Vt(l,function(R){return Number(Math.abs(R.liquityAmount))})||0,N=Kt().range([0,ae]).domain([wo,0]);Zt().rangeRound([0,Z]).padding(.1);const No=q.append("g").attr("id","barsBox").selectAll("rect").data(l).enter().append("rect");D.value.theme=="default"?No.attr("x",function(R,I){return I===0?0:e.direction?Math.abs(R.index-fe)*se:Math.abs(Re-R.index)*se}).attr("y",function(R,I){return e.direction?I===l.length-1?0:N(R.liquityAmount):I===l.length-1?0:N(l[I+1].liquityAmount)}).attr("width",function(R,I){return I===0&&l.length===1&&R.liquityAmount>0?Z:(e.direction,I!==l.length-1?Math.abs(l[I+1].index-R.index)*se:0)}).attr("height",function(R,I){return I===0&&l.length===1&&R.liquityAmount>0?ae:e.direction?I===l.length-1?0:ae-N(R.liquityAmount):I===l.length-1?0:ae-N(l[I+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):No.attr("x",function(R,I){return I===0?0:e.direction?Math.abs(R.index-fe)*se:Math.abs(Re-R.index)*se}).attr("y",function(R,I){return e.direction?I===l.length-1?0:N(Math.abs(R.liquityAmount)):I===l.length-1?0:N(Math.abs(l[I+1].liquityAmount))}).attr("width",function(R,I){return I===0&&l.length===1&&R.liquityAmount>0?Z:(e.direction,I!==l.length-1?Math.abs(l[I+1].index-R.index)*se:0)}).attr("height",function(R,I){if(I===0&&l.length===1&&R.liquityAmount>0)return ae;if(e.direction)return I===l.length-1?0:Number(R.liquityAmount)?ae-N(Math.abs(R.liquityAmount)):0;{if(I===l.length-1)return 0;const eo=ae-N(Math.abs(l[I+1].liquityAmount));return Number(l[I+1].liquityAmount)?eo:0}}).attr("fill","#407497").attr("class","bars").attr("stroke-width",1).attr("stroke","#407497");const Ao=q.append("g");Ao.append("line").attr("x1",0).attr("y1",155).attr("x2",Z).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const Po=Ao.append("g");let Io=0;if(e.direction){for(let R=0;R<Ie.length;R++){const I=Ne(Xe[R],ee)||"0";Xe.push(I);const eo=Math.abs(Ie[R]-fe)*se;let Me=0;for(let he=0;he<I.length;he++)I[he]==="1"?Me+=4.02:I[he]==="."?Me+=2.64:I[he]==="7"?Me+=5.48:Me+=6;Po.append("text").text(I).attr("x",eo-Me/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}Io=Math.abs(Le-fe)*se}else{for(let R=Ie.length-1;R>=0;R--){const I=Ne(Xe[R],ee)||0;Xe.push(I);const eo=Math.abs(Ie[R]-Re)*se;let Me=0;for(let he=0;he<I.length;he++)I[he]==="1"?Me+=4.02:I[he]==="."?Me+=2.64:I[he]==="7"?Me+=5.48:Me+=6;Po.append("text").text(I).attr("x",eo-Me/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}Io=Math.abs(Le-Re)*se}(D.value.theme=="default"?q.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):q.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+Io+", 0)");let xe,He,fo,go;e.direction?(xe=G<fe?-100:parseInt(String(Math.abs(G-fe)*se)),He=ye<fe?-100:parseInt(String(Math.abs(ye-fe)*se)),fo=ve<fe?-100:Math.abs(ve-fe)*se,go=j<fe?-100:Math.abs(j-fe)*se):(He=G<fe?-100:Math.abs(Re-G)*se,xe=ye<fe?-100:Math.abs(Re-ye)*se,go=ve<fe?-100:Math.abs(Re-ve)*se,fo=j<fe?-100:Math.abs(Re-j)*se),e.minPrice==="0"&&(xe=0),e.maxPrice==="∞"&&(He=Z),F.value?_.value=Z-xe+60+"px":_.value=Z-xe+52+"px",B.value=He+74+"px",ve&&fo<Z&&q.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+fo+", 0)"),j&&go<Z&&q.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+go+", 0)");const Ge=q.append("g").attr("id","left-handle"),Fe=q.append("g").attr("id","right-handle");D.value.theme=="default"?(Ge.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Ge.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),Ge.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),Ge.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),Fe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Fe.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),Fe.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),Fe.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(Ge.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Ge.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),Ge.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),Ge.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),Fe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Fe.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),Fe.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),Fe.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),Ge.attr("transform","translate("+xe+", 0)"),Fe.attr("transform","translate("+He+", 0)");const Lo=Gt().extent([[0,0],[Z,ae]]).handleSize(30).on("end",jo);q.append("g").attr("class","brush").call(Lo).call(Lo.move,[xe,He]);function jo(R){if(!R.sourceEvent||!R.selection)return;Ge.attr("transform","translate("+R.selection[0]+", 0)"),Fe.attr("transform","translate("+R.selection[1]+", 0)"),F.value?_.value=Z-R.selection[0]+60+"px":_.value=Z-R.selection[0]+52+"px",B.value=R.selection[1]+74+"px";let I,eo,Me=0,he=0;e.direction?(Me=x(parseInt(String(R.selection[0]/se+fe)),Number(e.poolInfo.tickSpacing)),I=X.tickIndexToPrice(Me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),he=x(parseInt(String(R.selection[1]/se+fe)),Number(e.poolInfo.tickSpacing)),eo=X.tickIndexToPrice(he,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(he=x(Re-R.selection[0]/se,Number(e.poolInfo.tickSpacing)),I=1/X.tickIndexToPrice(he,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),Me=x(Re-R.selection[1]/se,Number(e.poolInfo.tickSpacing)),eo=1/X.tickIndexToPrice(Me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),n.emit("onChangeMinPrice",String(Ne(String(I),6))),n.emit("onChangeMaxPrice",String(Ne(String(eo),6)))}D.value.theme=="default"?gn(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):gn(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};g(""),me(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab],([l,m,U,G])=>{l&&m&&U&&f(l,O.value)},{immediate:!0});const b=g(!0);return me(()=>e.chartLoading,(l,m)=>{l!==m&&(b.value=l)},{immediate:!0,deep:!0}),{store:D,loading:b,zoomOut:ke,zoomIn:$,rangeSizeLower:H,rangeSizeUpper:oe,rangeSizeLowerPosition:_,rangeSizeUpperPosition:B,decimalFormat:en,numberformat:Nn}}});const ii=e=>(_o("data-v-beaf2b95"),e=e(),Fo(),e),li={class:"chart-box"},ri={class:"chart"},si={class:"zoom"},ui=ii(()=>a("svg",{id:"chart"},null,-1));function di(e,n,O,_,B,K){return r(),v("div",li,[to(a("div",ri,[a("div",si,[a("div",{class:"amplification",onClick:n[0]||(n[0]=(...H)=>e.zoomOut&&e.zoomOut(...H))}),a("div",{class:"narrow",onClick:n[1]||(n[1]=(...H)=>e.zoomIn&&e.zoomIn(...H))})]),e.currentPriceTab!=="full range"?(r(),v("div",{key:0,class:"range-size range-size-lower",style:at({right:e.rangeSizeLowerPosition})},d(("numberformat"in e?e.numberformat:te(Nn))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):C("",!0),e.currentPriceTab!=="full range"?(r(),v("div",{key:1,class:"range-size range-size-upper",style:at({left:e.rangeSizeUpperPosition})},d(("numberformat"in e?e.numberformat:te(Nn))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):C("",!0),ui],512),[[Dt,!e.loading]])])}const ci=vo(ai,[["render",di],["__scopeId","data-v-beaf2b95"]]),vi=co({props:{poolInfo:{type:Object,default:()=>({})},aprRewardsParameter:{type:Number,default:30},label:{type:Boolean,default:!0}},setup(e,n){const O=g(""),_=g(""),B=g(""),K=uo(),H=W(()=>K),oe=on(),E=W(()=>oe),D=(b,l)=>b&&l?ia.plus(Sn(b),Sn(l)):b>0?b:0,z=b=>{let l=0;return b&&b.forEach(m=>{l+=Sn(String(m))}),String(l)},X=g([]),x=g([]),ke=g(""),$=g(""),Oe=g(!0);me(()=>[H.value.newTopPoolsObj,e.poolInfo,E.value.tokensObj,e.aprRewardsParameter],async([b,l,m])=>{var U;if(b&&l&&m){const G=b[l==null?void 0:l.poolAddress];if(G){O.value=G&&G.apr_7day&&G.apr_7day.replace("%","")||"0",$.value=z(G&&G.rewarder_apr),ke.value=D(G&&G.apr_7day,G&&z(G.rewarder_apr)),_.value=_e(G.tvl_in_usd,2),B.value=_e(G.vol_in_usd_24h,2);const ye=l&&e.poolInfo.rewarder_infos||[],Le=[];for(let j=0;j<ye.length;j++){const le=ye[j];if(m[le.coinAddress]){const Z=m[le.coinAddress].decimals,ae=en(le.emissionsEveryDay/Math.pow(10,Z),4),We=Number(ae)>0?_e(ae):ae,J=en(Number(ae)*((U=E.value.RATES[le.coinAddress])==null?void 0:U.price),4);Le.push({...le,logoUrl:m[le.coinAddress].logoURI,day:We,dayUSD:J,symbol:m[le.coinAddress].symbol,rewarder_display:l&&l[`rewarder_display${j+1}`]?l[`rewarder_display${j+1}`]:!1})}}X.value=Le.filter(j=>j.rewarder_display);const ve=[];Le.forEach((j,le)=>{m[j.coinAddress]&&ve.push({...j,symbol:m[j.coinAddress].symbol,rewarderApr:G.rewarder_apr[le]&&G.rewarder_apr[le].replace("%","")})}),x.value=ve.filter(j=>j.rewarder_display)}else O.value="0",_.value="--",B.value="--",ke.value=="0";Oe.value=!1}},{immediate:!0,deep:!0});const f=()=>{n.emit("reviseValue")},F=b=>{var l;return(b==null?void 0:b.logoURI)||(b==null?void 0:b.logo_url)||((l=E.value.tokensObj[b==null?void 0:b.address])==null?void 0:l.logo_url)||(H.value.theme==="default"?De("/image/coins/unknown.png"):De("/image/coins/sui-unknown.png"))};return{tokensWarningObj:W(()=>E.value.tokensWarningObj),rewarderInfo:X,rewarderArr:x,rewardApr:ke,rewardAprList:$,apr:O,liquidityTvl:_,vol24:B,addCommom:_e,reviseValue:f,loading:Oe,getCoinIcon:F,store:K}}});const Cn=e=>(_o("data-v-a02cd2f6"),e=e(),Fo(),e),pi={key:0,class:"pool-info"},mi=Cn(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),fi=[mi],gi={key:0,class:"info-block-container"},bi={class:"info-block"},ki={class:"coin-tips"},hi={class:"left"},Ci={alt:""},yi={class:"address"},wi=Cn(()=>a("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Pi=[wi],Ii={class:"info-block"},$i={class:"coin-tips"},Si={class:"left"},Ti={alt:""},Ni={class:"address"},Ai=Cn(()=>a("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Li=[Ai],qi={class:"info-block"},Ri={class:"leabl"},Mi={class:"text"},Ui={class:"apr-hover-content"},Oi={class:"info-block"},Bi={class:"leabl"},_i={class:"text"},Fi={class:"info-block"},ji={class:"leabl"},Ei={class:"text"},Wi={class:"info-block"},Di={class:"leabl"},Hi={class:"text"},zi={key:1,class:"pool-rewards-info"},Xi={class:"rewards-list-all"},Vi=Cn(()=>a("div",{class:"icon-sign"},null,-1)),Ki={alt:""},Zi={class:"rewards-value"};function Gi(e,n,O,_,B,K){const H=ta,oe=aa,E=mt,D=hn("image");return e.poolInfo?(r(),v("div",pi,[e.loading?(r(),re(E,{key:1})):(r(),v(To,{key:0},[a("div",{class:pe(e.label?"pool-info-border pool-info-title":"pool-info-title")},[Ue(d(e.$t("newAdd.poolInfo"))+" ",1),(r(),v("svg",{class:pe(e.label?"show-icon icon":"icon"),"aria-hidden":"true",onClick:n[0]||(n[0]=z=>e.reviseValue())},fi,2))],2),e.label?(r(),v("div",gi,[a("div",bi,[a("div",ki,[a("div",hi,[to(a("img",Ci,null,512),[[D,e.getCoinIcon(e.poolInfo.needReverse?e.poolInfo.token_b:e.poolInfo.token_a)]]),a("div",yi,d(e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address),1),ie(H,{address:e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address,"style-params":{width:"12px",height:"12px",left:"10px",bottom:"0px"}},null,8,["address"]),(r(),v("svg",{class:"icon","aria-hidden":"true",onClick:n[1]||(n[1]=z=>e.store.copy(e.poolInfo.needReverse?e.poolInfo.token_b.address:e.poolInfo.token_a.address))},Pi))])])]),a("div",Ii,[a("div",$i,[a("div",Si,[to(a("img",Ti,null,512),[[D,e.getCoinIcon(e.poolInfo.needReverse?e.poolInfo.token_a:e.poolInfo.token_b)]]),a("div",Ni,d(e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address),1),ie(H,{address:e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address,"style-params":{width:"12px",height:"12px",left:"10px",bottom:"0px"}},null,8,["address"]),(r(),v("svg",{class:"icon","aria-hidden":"true",onClick:n[2]||(n[2]=z=>e.store.copy(e.poolInfo.needReverse?e.poolInfo.token_a.address:e.poolInfo.token_b.address))},Li))])])]),a("div",qi,[a("div",Ri,d(e.$t("common.apr")),1),a("div",Mi,[Ue(d(e.poolInfo.is_display_rewarder?e.rewardApr>0&&e.rewardApr<.01?"<0.01":("addCommom"in e?e.addCommom:te(_e))(e.rewardApr,2):e.apr>0&&e.apr<.01?"<0.01":("addCommom"in e?e.addCommom:te(_e))(e.apr,2))+"% ",1),a("div",Ui,[ie(oe,{"l-item":{apr:e.apr,aprTotal:e.rewardApr,rewarder_apr:e.rewardAprList,is_display_rewarder:e.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["l-item","rewarder-info"])])])]),a("div",Oi,[a("div",Bi,d(e.$t("common.liquidity")),1),a("div",_i,"$"+d(e.liquidityTvl),1)]),a("div",Fi,[a("div",ji,d(e.$t("common.volume24h")),1),a("div",Ei,"$"+d(e.vol24),1)]),a("div",Wi,[a("div",Di,d(e.$t("newAdd.tickSpacing")),1),a("div",Hi,d(e.poolInfo&&e.poolInfo.tick_spacing),1)])])):C("",!0),e.poolInfo.is_display_rewarder&&e.label&&e.rewarderInfo&&e.rewarderInfo.length>0?(r(),v("div",zi,[Ue(d("Farming Rewards")+" "),a("div",Xi,[(r(!0),v(To,null,xo(e.rewarderInfo,z=>(r(),v("div",{key:z,class:pe(["rewards-list",z.day==0?"rewards-none":""])},[Vi,to(a("img",Ki,null,512),[[D,z.logoUrl]]),a("div",Zi,[a("p",null,d(z.day)+" "+d(z.symbol)+" / "+d(e.$t("newAdd.day"))+" ",1)])],2))),128))])])):C("",!0)],64))])):C("",!0)}const Ji=vo(vi,[["render",Gi],["__scopeId","data-v-a02cd2f6"]]),Qi=co({components:{Modal:ft},props:{poolInfo:{type:Object,required:!0}},setup(e){const n=g({}),O=uo(),_=W(()=>O),B=W(()=>_.value.chainName),K=W(()=>bn[B.value]);let H=g(!0);const oe=on(),E=W(()=>oe),D=qn(),z=W(()=>e.poolInfo.needReverse);return me(()=>E.value.currentPositionInfo,x=>{x&&(n.value=x)},{immediate:!0}),{getExplorerUrl:An,addCommom:_e,router:D,pools:E,positionInfo:n,decimalFormat:en,rateChange:H,config:K,importIcon:De,store:_,chainName:B,checkNullObj:mo,needReverse:z,getCoinIcon:x=>{var ke;return(x==null?void 0:x.logoURI)||(x==null?void 0:x.logo_url)||((ke=E.value.tokensObj[x==null?void 0:x.address])==null?void 0:ke.logo_url)||(_.value.theme==="default"?De("/image/coins/unknown.png"):De("/image/coins/sui-unknown.png"))},decimalUi:Ne}}});const yn=e=>(_o("data-v-ed84aae8"),e=e(),Fo(),e),Yi=yn(()=>a("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),xi={class:"rejected-container"},el={class:"coin-pair"},ol=yn(()=>a("use",{"xlink:href":"#icon-icon-copy"},null,-1)),nl=[ol],tl=["href"],al=yn(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-jump"})],-1)),il=[al],ll={class:"coin-pair"},rl={class:"fee"},sl={class:"status"},ul={class:"min-and-max"},dl={key:0},cl={class:"text"},vl={key:0,src:bt,alt:""},pl={key:1,src:kt,alt:""},ml={class:"text"},fl={key:1},gl={class:"text"},bl={key:0,src:bt,alt:""},kl={key:1,src:kt,alt:""},hl={class:"text"},Cl=yn(()=>a("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),yl=[Cl];function wl(e,n,O,_,B,K){const H=pt,oe=ra,E=Rn,D=gt("Modal"),z=hn("image");return r(),re(D,{visible:!0,class:"transiaction-rejected",centered:"",title:e.$t("newAdd.openPositionSuccessful"),width:"340px",footer:null,onCancel:n[3]||(n[3]=X=>e.$emit("onClose"))},{closeIcon:Te(()=>[Yi]),default:Te(()=>[a("div",xi,[ie(H,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Te(()=>[a("div",el,[Ue(d(e.positionInfo.tokenName)+" ",1),(r(),v("svg",{class:"icon","aria-hidden":"true",onClick:n[0]||(n[0]=X=>e.store.copy(e.positionInfo.nftHash))},nl)),a("a",{href:e.chainName==="Aptos"?("getExplorerUrl"in e?e.getExplorerUrl:te(An))("nftAddress",e.positionInfo.nftHash):("getExplorerUrl"in e?e.getExplorerUrl:te(An))("nftAddress",e.positionInfo.pos_object_id),target:"_blank"},il,8,tl)])]),_:1},8,["loading"]),a("div",{class:pe(["left",`position-status-${e.positionInfo&&e.positionInfo.currentStatus&&e.positionInfo.currentStatus.toLowerCase()}`])},[ie(H,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Te(()=>{var X,x,ke,$,Oe,f,F,y,b,l,m,U;return[a("div",ll,[a("div",null,[to(a("img",null,null,512),[[z,e.getCoinIcon(e.needReverse?(x=e.positionInfo)==null?void 0:x.token_b:(X=e.positionInfo)==null?void 0:X.token_a)]]),to(a("img",null,null,512),[[z,e.getCoinIcon(e.needReverse?($=e.positionInfo)==null?void 0:$.token_a:(ke=e.positionInfo)==null?void 0:ke.token_b)]])]),a("span",null,d(e.needReverse?(y=(F=e.positionInfo)==null?void 0:F.token_b)==null?void 0:y.symbol:(f=(Oe=e.positionInfo)==null?void 0:Oe.token_a)==null?void 0:f.symbol)+" - "+d(e.needReverse?(U=(m=e.positionInfo)==null?void 0:m.token_a)==null?void 0:U.symbol:(l=(b=e.positionInfo)==null?void 0:b.token_b)==null?void 0:l.symbol),1)]),a("div",rl,d(e.$t("common.fee"))+" "+d(e.positionInfo.fee*100)+"%",1)]}),_:1},8,["loading"])],2),a("div",sl,[ie(oe,{"current-status":e.positionInfo.currentStatus||""},null,8,["current-status"])]),ie(H,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Te(()=>{var X,x,ke,$,Oe,f,F,y;return[a("div",ul,[(e.needReverse?!e.rateChange:e.rateChange)?(r(),v("div",dl,[a("div",cl,d(("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(String(e.positionInfo&&e.positionInfo.minPrice),6))),1),e.store.theme=="default"?(r(),v("img",vl)):(r(),v("img",pl)),a("div",ml,d(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(String(e.positionInfo&&e.positionInfo.maxPrice),6)))+" "+d((x=(X=e.positionInfo)==null?void 0:X.token_b)==null?void 0:x.symbol)+" per "+d(($=(ke=e.positionInfo)==null?void 0:ke.token_a)==null?void 0:$.symbol),1)])):(r(),v("div",fl,[a("div",gl,d(("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(String(1/Number(e.positionInfo&&e.positionInfo.maxPrice)),6))),1),e.store.theme=="default"?(r(),v("img",bl)):(r(),v("img",kl)),a("div",hl,d(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(String(1/Number(e.positionInfo&&e.positionInfo.minPrice)),6)))+" "+d((f=(Oe=e.positionInfo)==null?void 0:Oe.token_a)==null?void 0:f.symbol)+" per "+d((y=(F=e.positionInfo)==null?void 0:F.token_b)==null?void 0:y.symbol),1)])),(r(),v("svg",{class:"icon-change","aria-hidden":"true",onClick:n[1]||(n[1]=b=>e.rateChange=!e.rateChange)},yl))])]}),_:1},8,["loading"])]),ie(E,{disabled:("checkNullObj"in e?e.checkNullObj:te(mo))(e.positionInfo),onClick:n[2]||(n[2]=X=>e.router.push(`/new-position-detail?collect=${e.positionInfo.collectionName}&&token=${e.positionInfo.tokenName}&&address=${e.positionInfo.pool}&pos=${e.positionInfo.pos_object_id}`))},{default:Te(()=>[Ue(d(e.$t("newAdd.viewDetail")),1)]),_:1},8,["disabled"])]),_:1},8,["title"])}const Pl=vo(Qi,[["render",wl],["__scopeId","data-v-ed84aae8"]]),Il=co({components:{Modal:ft},setup(){const e=uo(),n=W(()=>e);return{importIcon:De,store:n}}}),$l=""+new URL("img-Creat-success_2x.b6f0a395.png",import.meta.url).href,Sl=""+new URL("img-Creat-success.9734ad6f.png",import.meta.url).href;const Tl=e=>(_o("data-v-d7a9ceb3"),e=e(),Fo(),e),Nl=Tl(()=>a("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Al={class:"create-success-container"},Ll={key:0,src:$l,alt:""},ql={key:1,src:Sl,alt:""},Rl={class:"waiting-title"};function Ml(e,n,O,_,B,K){const H=gt("Modal");return r(),re(H,{visible:!0,class:"",centered:"",title:"",width:"400px",footer:null,onCancel:n[0]||(n[0]=oe=>e.$emit("onClose"))},{closeIcon:Te(()=>[Nl]),default:Te(()=>[a("div",Al,[e.store.theme=="default"?(r(),v("img",Ll)):(r(),v("img",ql)),a("p",Rl,d(e.$t("newAdd.createPoolSuccessText")),1)])]),_:1})}const Ul=vo(Il,[["render",Ml],["__scopeId","data-v-d7a9ceb3"]]),Ol={1e-4:2,5e-4:10,.002:60,.006:200},Bl={1e-4:2,5e-4:10,.0025:60,.01:200},_l=co({setup(){let e=g(!1);const{t:n,locale:O}=Ht(),_=Et(),B=W(()=>_),K=uo(),H=g(0),oe=g(!1),E=g(!1),D=g(!1),z=g("fromCoin"),X=g(""),x=g(""),ke=g(!1),$=g(!0),Oe=g(!1),f=g(!0),F=g(!1),y=g(""),b=g(""),l=g(""),m=g(""),U=g(""),G=g(""),ye=g(!1),Le=g(!1),ve=g(!1),j=g(""),le=g(0),Z=g(!0),ae=g(!1),We=g([]),J=g(""),Ie=g(30),fe=g("30D"),Re=g("Estimated APR"),se=g([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),Xe=g(!0),ee=uo(),q=W(()=>ee),wo=W(()=>{var o;return!!((o=p==null?void 0:p.query)!=null&&o.action&&(!s.value||!u.value||!j.value))}),N=W(()=>q.value.chainName?Ln(q.value.chainName):{}),io=W(()=>{var o;return(o=q.value)==null?void 0:o.filterCreatePoolCoin}),No=o=>{Qe.updateCurrentPools(i.value.poolAddress,q.value.chainName),fe.value=o.time,Ie.value=o.num},Ao=()=>{Xe.value=!Xe.value},Po=g([]),Io=()=>{H.value=0,p.query.action!=="create-pool"&&p.query.actions!=="new-position"&&(wn(),so(),Qe.updateCurrentPools(i.value.poolAddress,q.value.chainName)),Qe.setPoolConfigList(fn.value,q.value.filterCoinsObj)},Xo=W(()=>Number(l.value)>0&&Number(m.value)>0&&Number(l.value)>Number(m.value)),xe=o=>{Oe.value=o,l.value="0",m.value="∞"},He=W(()=>{if(A.value.poolConfigList&&s.value&&u.value){const o=A.value.poolConfigList.filter(c=>{var k,P,w,T;return c.token_a.address.toUpperCase()===((k=s.value.address)==null?void 0:k.toUpperCase())&&c.token_b.address.toUpperCase()===((P=u.value.address)==null?void 0:P.toUpperCase())||c.token_b.address.toUpperCase()===((w=s.value.address)==null?void 0:w.toUpperCase())&&c.token_a.address.toUpperCase()===((T=u.value.address)==null?void 0:T.toUpperCase())}),t=[];return o.forEach(c=>{t.push(Number(c.fee))}),t}else return[]}),fo=o=>{const t={};let c=new h(0);o.forEach(M=>{c=c.add(new h(M.object.liquidity))});const k=[];let P=new h(0);o.forEach(M=>{const L=new h(M.object.liquidity),V=L.gt(0)?new h(L).div(c).mul(100).toString():0,Q=Yo(V,2);P=P.plus(Q);const Y=Q.split(".");k.push({value:Q,int:Y[0],decimal:Y[1],fee:M.fee})});let w=new h(100).minus(P).toNumber();const T=k.sort((M,L)=>Number(L.decimal)-Number(M.decimal));if(w)for(let M=0;M<T.length&&w;M++)T[M].value=new h(T[M].value).plus(.01).toString(),w=new h(w).minus(.01).toNumber();return o.forEach(M=>{var V;const L=(V=T.find(Q=>M.fee===Q.fee))==null?void 0:V.value;t[M.fee]={rateText:(L>0&&L<.01?"<0.01":L==0?0:Yo(L,2))+"% select",rate:L}}),t},go=W(()=>{if(A.value.poolConfigList&&s.value&&u.value){const o=A.value.poolConfigList.filter(c=>{var w,T,M,L;const k=c.coin_a_address=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":c.coin_a_address,P=c.coin_b_address=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":c.coin_b_address;return k.toUpperCase()===((w=s.value.address)==null?void 0:w.toUpperCase())&&P.toUpperCase()===((T=u.value.address)==null?void 0:T.toUpperCase())||P.toUpperCase()===((M=s.value.address)==null?void 0:M.toUpperCase())&&k.toUpperCase()===((L=u.value.address)==null?void 0:L.toUpperCase())});return fo(o)}}),Ge=W(()=>[{label:.01+"% "+n("common.feeTier"),title:.01+"% ",fee:1e-4,text:n("newAdd.bestVeryStablePairs")},{label:.05+"% "+n("common.feeTier"),title:.05+"% ",fee:5e-4,text:n("newAdd.bestStablePairs")},q.value.chainName=="Aptos"?{label:.2+"% "+n("common.feeTier"),title:.2+"% ",fee:.002,text:n("newAdd.bestMostPairs")}:{label:.25+"% "+n("common.feeTier"),title:.25+"% ",fee:.0025,text:n("newAdd.bestMostPairs")},q.value.chainName=="Aptos"?{label:.6+"% "+n("common.feeTier"),title:.6+"% ",fee:.006,text:n("newAdd.besteExoticPairs")}:{label:"1% "+n("common.feeTier"),title:"1% ",fee:.01,text:n("newAdd.besteExoticPairs")}]),Fe=W(()=>K.slippage),Lo=W(()=>!s.value||!u.value),jo=W(()=>{var o,t;return!!(!y.value&&!b.value||Number(y.value)>Number(Ve.value)||Number(b.value)>Number(Ke.value)||R.value!==n("button.addLiquidity")&&R.value!==n("newAdd.preview")||i.value&&i.value&&i.value.is_pause||(o=p==null?void 0:p.query)!=null&&o.action&&!S.value&&!((t=S.value)!=null&&t.currentPrice)||Number(y.value)<=0&&Number(b.value)<=0||!ge.value&&Number(y.value)==0||!be.value&&Number(b.value)==0||ve.value)}),R=W(()=>{var o,t;return i.value&&i.value.is_pause?"Pool Closed":!s.value||!u.value?n("modal.selectTokenModalTitle"):fn.value=="Sui"&&!He.value.includes(1e-4)&&!He.value.includes(5e-4)&&!He.value.includes(.0025)&&!He.value.includes(.01)&&!io.value[s==null?void 0:s.value.address]&&!io.value[(o=u.value)==null?void 0:o.address]?"Invalid Pool":(p.query.action||p.query.actions)&&!j.value&&bn[q.value.chainName].hasCreatePool?"Select fee tier":Lo.value?n("modal.selectTokenModalTitle"):!bn[q.value.chainName].hasCreatePool&&!i.value?n("button.poolNotFound"):Number(y.value)>Number(Ve.value)?n("button.insufficientBalance",{name:s.value.symbol}):Number(b.value)>Number(Ke.value)?n("button.insufficientBalance",{name:u.value.symbol}):F.value?n("modal.selectTokenModalTitle"):!i.value&&s.value&&u.value&&((t=p==null?void 0:p.query)==null?void 0:t.action)=="create-pool"?n("newAdd.preview"):!Number(y.value)&&!Number(b.value)?n("button.enterAmount"):m.value!=="∞"&&Number(l.value)>=Number(m.value)?n("newAdd.invalidRange"):n("button.addLiquidity")}),I=W(()=>{var o,t,c;return!i.value||mo(q.value.addressHistTokens)||!q.value.addressHistTokens[(o=i.value)==null?void 0:o.poolAddress]?null:Object.fromEntries((c=q.value.addressHistTokens[(t=i.value)==null?void 0:t.poolAddress])==null?void 0:c.data.map(k=>[k.key,k.value]))}),eo=W(()=>$.value?I.value&&Ne(Ie.value==7?I.value.before_7_d_contract_price_lowest:Ie.value==24?I.value.before_24_h_contract_price_lowest:I.value.before_30_d_contract_price_lowest,6)||0:I.value&&Ne(new h(1).div(Ie.value==7?I.value.before_7_d_contract_price_highest:Ie.value==24?I.value.before_24_h_contract_price_highest:I.value.before_30_d_contract_price_highest).toString(),6)||0),Me=W(()=>$.value?I.value&&Ne(Ie.value==7?I.value.before_7_d_contract_price_highest:Ie.value==24?I.value.before_24_h_contract_price_highest:I.value.before_30_d_contract_price_highest,6)||0:(I.value&&Ne(1/Number(Ie.value==7?I.value.before_7_d_contract_price_lowest:Ie.value==24?I.value.before_24_h_contract_price_lowest:I.value.before_30_d_contract_price_lowest),6))==1/0?0:I.value&&Ne(1/Number(Ie.value==7?I.value.before_7_d_contract_price_lowest:Ie.value==24?I.value.before_24_h_contract_price_lowest:I.value.before_30_d_contract_price_lowest),6)||0),he=qn(),s=g(),u=g();kn(()=>{document.body.clientWidth<750?(Xe.value=!1,e.value=!1):(Xe.value=!0,e.value=!0)});const nn=o=>{var t,c;if((t=i.value)==null||t.token_a.decimals,(c=i.value)==null||c.token_b.decimals,p.query.action&&Oo.value&&o!==l.value){In();return}o!==l.value&&J.value=="full range"?cn({key:"custom",...no.value.custom}):(J.value!=="full range"&&J.value!=="custom"&&(J.value="custom"),l.value=o)},tn=o=>{if(p.query.action&&Oo.value&&o!==m.value){In();return}o!==m.value&&J.value=="full range"?cn({key:"custom",...no.value.custom}):(J.value!=="full range"&&J.value!=="custom"&&(J.value="custom"),m.value=o)},an=()=>{var t;if(p.query.action)$.value=!$.value,S.value&&mn(Ne(new h(1).div(S.value.currentPrice).toString(),(t=u==null?void 0:u.value)==null?void 0:t.decimals));else if(Z.value=!0,Z.value=!1,$.value=!$.value,l.value!==""&&m.value!==""&&l.value!=="0"&&m.value!=="∞"){const c=l.value,k=m.value;l.value=new h(1).div(k).toString(),m.value=new h(1).div(c).toString();const P=U.value,w=G.value;U.value=new h(1).div(w).toString(),G.value=new h(1).div(P).toString(),ae.value=!1}const o=s.value;s.value=u.value,u.value=o,f.value?y.value=b.value:b.value=y.value};me([l,m],([o,t])=>{Number(o)!==0&&Number(t)!==0&&so(),t!=="∞"&&Number(o)!==0&&Number(t)!==0&&Number(o)>=Number(t)?ve.value=!0:ve.value=!1,Number(o)==0&&Number(t)==0&&je.value&&(ve.value=!0)});const qo=g(!1),Ro=g(!1),ln=o=>{var t,c,k,P,w,T,M,L,V;z.value=o,o==="fromCoin"?(X.value=((t=u.value)==null?void 0:t.address)||"",x.value=p.query.action=="create-pool"||p.query.actions=="new-position"||!i.value?(c=s.value)==null?void 0:c.address:i.value.needReverse?i.value.token_b.address:i.value.token_a.address,((k=p==null?void 0:p.query)==null?void 0:k.action)=="create-pool"&&((P=p==null?void 0:p.query)==null?void 0:P.from)==="pool"?Ro.value=!0:Ro.value=!1,qo.value=!1):(X.value=((w=s.value)==null?void 0:w.address)||"",x.value=p.query.action=="create-pool"||p.query.actions=="new-position"||!i.value?(T=u.value)==null?void 0:T.address:i.value.needReverse?i.value.token_a.address:i.value.token_b.address,((M=p==null?void 0:p.query)==null?void 0:M.action)=="create-pool"&&((L=p==null?void 0:p.query)==null?void 0:L.from)==="pool"&&!io[(V=s.value)==null?void 0:V.address]?qo.value=!0:qo.value=!1,Ro.value=!1),ke.value=!0},$e=g(null),Se=g(null),Vo=g({}),Ko=g({}),rn=o=>{var k,P,w,T;F.value=!1;const t=i.value?i.value.needReverse?i.value.token_b:i.value.token_a:$e.value,c=i.value?i.value.needReverse?i.value.token_a:i.value.token_b:Se.value;z.value==="fromCoin"?(((k=s.value)==null?void 0:k.address)===(t==null?void 0:t.address)||!((P=s.value)!=null&&P.address)?(u.value&&o.address.toLowerCase()===(u==null?void 0:u.value.address.toLowerCase())&&(u.value=null,Se.value=null,j.value=""),s.value=o):(s.value&&o.address.toLowerCase()===(s==null?void 0:s.value.address.toLowerCase())&&(s.value=null,$e.value=null,j.value=""),u.value=o),$e.value=o,p.query.action||(p.query.fee="")):(((w=u.value)==null?void 0:w.address)===(c==null?void 0:c.address)||!((T=u.value)!=null&&T.address)?(s.value&&o.address.toLowerCase()===(s==null?void 0:s.value.address.toLowerCase())&&(s.value=null,$e.value=null,j.value=""),u.value=o):(u.value&&o.address.toLowerCase()===(u==null?void 0:u.value.address.toLowerCase())&&(u.value=null,Se.value=null,j.value=""),s.value=o),Se.value=o,p.query.action||(p.query.fee="")),mn(""),ke.value=!1},sn=o=>{o==="fromCoin"?(f.value=!0,q.value.chainName==="Aptos"?y.value=Number(Ve.value)>0?s.value.symbol=="APT"?new h(Number(Ve.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(Ve.value)).sub(new h(.1)).toString():String(Ve.value):"":y.value=Number(Ve.value)>0?s.value.symbol=="SUI"?new h(Number(Ve.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(Ve.value)).sub(new h(.05)).toString():String(Ve.value):""):(f.value=!1,q.value.chainName==="Aptos"?b.value=Number(Ke.value)>0?u.value.symbol=="APT"?new h(Number(Ke.value)).sub(new h(.1)).lt(new h(0))?"0":new h(Number(Ke.value)).sub(new h(.1)).toString():String(Ke.value):"":b.value=Number(Ke.value)>0?u.value.symbol=="SUI"?new h(Number(Ke.value)).sub(new h(.05)).lt(new h(0))?"0":new h(Number(Ke.value)).sub(new h(.05)).toString():String(Ke.value):"")},un=o=>{o==="fromCoin"?(f.value=!0,y.value=Number(Ve.value)>0?Yo(new h(Number(Ve.value)).div(2).toString(),s.value.decimals).toString():""):(f.value=!1,b.value=Number(Ke.value)>0?Yo(new h(Number(Ke.value)).div(2).toString(),u.value.decimals).toString():"")};me(y,(o,t)=>{o==""&&f.value&&(b.value=""),o&&f.value&&so()}),me(b,(o,t)=>{o==""&&!f.value&&(y.value=""),o&&!f.value&&so()});const dn=()=>{s.value=null,u.value=null,l.value="0",m.value="0",y.value="",b.value="",F.value=!0,j.value="",ye.value=!1,ge.value=!0,be.value=!0,Z.value=!1},lo=g(!1),{setIsShowSuccess:bo,setIsShowRejected:ko,setIsShowWaiting:Je,setTransactionDesc:Eo,setTransactionTxid:ho,setPositiomNum:Wo}=K,p=vt(),Qe=on(),$o=W(()=>bn[q.value.chainName].hasCreatePool);me(()=>[j.value,p.query.action,s.value,u.value,p.query.actions,$o.value],([o,t,c,k,P,w])=>{!o&&(t=="create-pool"||P=="new-position")&&c&&k&&w?(ye.value=!0,Z.value=!1):(!c||!k)&&(ye.value=!1)},{immediate:!0});const A=W(()=>Qe);me(()=>A.value.tokens,async o=>{if(o&&o.length>0){const t=o;if(p&&p.query&&p.query.tokena&&p.query.tokena){const c=await N.value.getTokenBySymbol(t,p.query.tokena);s.value=c,$e.value=c}if(p&&p.query&&p.query.tokenb&&p.query.tokenb){const c=await N.value.getTokenBySymbol(t,p.query.tokenb);u.value=c,Se.value=c}}},{immediate:!0});const Co=g({}),ge=g(!1),be=g(!1),Do=g(),Ho=g(),je=g(),ro=g(),so=async()=>{var qe,ce,Ye,Be,Ce,Ee;if(!l.value&&!m.value)return!1;if(!y.value&&!b.value&&!l.value&&!m.value)return;const o=i.value?i.value:S.value;if(mo(o))return;const{TickUtil:t,TickMath:c,getNearestTickByTick:k}=N.value,P=o==null?void 0:o.token_a.decimals,w=o==null?void 0:o.token_b.decimals;let T,M,L,V,Q,Y,ue,we,de=o.current_tick_index,ne;if(o.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===u.value.address.toLowerCase()?ne=!0:ne=!1,l.value==="0"&&m.value==="∞")L=t.getMinIndex(Number(o.tickSpacing)),V=t.getMaxIndex(Number(o.tickSpacing)),Q=c.tickIndexToSqrtPriceX64(L),Y=c.tickIndexToSqrtPriceX64(V);else if(J.value=="custom"||p.query.action){ne?(T=Number(l.value),M=Number(m.value)):(T=new h(1).div(m.value).toString(),M=new h(1).div(l.value).toString());try{ue=T==0?-443636:c.priceToTickIndex(new h(T),P,w)}catch{ue=-443636}try{we=c.priceToTickIndex(new h(M),P,w)}catch{we=443636}L=k(ue,Number(o.tickSpacing)),V=k(we,Number(o.tickSpacing)),Q=c.priceToSqrtPriceX64(new h(T),P,w);try{Y=c.priceToSqrtPriceX64(new h(M),P,w)}catch{M===1/0&&(Y=c.tickIndexToSqrtPriceX64(t.getMaxIndex(Number(o.tickSpacing))))}}else L=(qe=no.value[J.value])==null?void 0:qe.lower,V=(ce=no.value[J.value])==null?void 0:ce.upper,Q=c.tickIndexToSqrtPriceX64(L),Y=c.tickIndexToSqrtPriceX64(V);if(m.value!=="∞"&&L>=V){ge.value=!0,y.value="",be.value=!0,b.value="";return}if(m.value==="∞"||de>=L&&de<=V){ge.value=!1,be.value=!1;let Ae;if(y.value||b.value){if(f.value){const yo=new h(y.value).mul(Math.pow(10,s.value.decimals)).toString();Ae=new So(yo)}else{const yo=new h(b.value).mul(Math.pow(10,u.value.decimals)).toString();Ae=new So(yo)}const{liquidityAmount:Pe,tokenMaxA:oo,tokenMaxB:Ze,tokenMaxAOrigin:ze,tokenMaxBOrigin:po}=N.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:o.token_a,tokenB:o.token_b,lowerTick:L,upperTick:V,coinAmount:Ae,iscoinA:ne?f.value:!f.value,roundUp:!0,slippage:Number(Fe.value)/100,curSqrtPrice:new So(o.current_sqrt_price)});Co.value={liquidityAmount:Pe,tokenMaxA:oo,tokenMaxB:Ze,tokenMaxAOrigin:ze,tokenMaxBOrigin:po},ne?f.value?b.value=Number(Ze)>0?Ze:"":y.value=Number(oo)>0?oo:"":f.value?b.value=oo:y.value=Ze}}else if(de>V){if(ne?y.value="":b.value="",ge.value=ne,be.value=!ne,(Ye=p==null?void 0:p.query)!=null&&Ye.action&&(ge.value=!0,be.value=!0),y.value||b.value){let Ae;if(ne){const Pe=new h(b.value).mul(Math.pow(10,(Be=u.value)==null?void 0:Be.decimals)).toString();Ae=new So(Pe),Co.value={liquidityAmount:N.value.estimateLiquidityForCoinB(Q,Y,Ae),tokenMaxA:0,tokenMaxB:b.value}}else{const Pe=new h(y.value).mul(Math.pow(10,(Ce=s.value)==null?void 0:Ce.decimals)).toString();Ae=new So(Pe),Co.value={liquidityAmount:N.value.estimateLiquidityForCoinB(Q,Y,Ae),tokenMaxA:0,tokenMaxB:y.value}}}}else if(de<L){if(ge.value=!ne,be.value=ne,(Ee=p==null?void 0:p.query)!=null&&Ee.action&&(ge.value=!0,be.value=!0),ne?b.value="":y.value="",y.value||b.value){let Ae;if(ne){const Pe=new h(y.value).mul(Math.pow(10,s.value.decimals)).toString();Ae=new So(Pe),Co.value={liquidityAmount:N.value.estimateLiquidityForCoinA(Q,Y,Ae),tokenMaxA:y.value,tokenMaxB:0}}else{const Pe=new h(b.value).mul(Math.pow(10,u.value.decimals)).toString();Ae=new So(Pe),Co.value={liquidityAmount:N.value.estimateLiquidityForCoinA(Q,Y,Ae),tokenMaxA:b.value,tokenMaxB:0}}}}else ge.value=!0,y.value="",be.value=!0,b.value=""},Mo=g(0);me(()=>{var o;return(o=p.query)==null?void 0:o.fee},o=>{o&&(Mo.value=o,j.value=Number(o)*100+"% "+n("common.feeTier"))},{immediate:!0,deep:!0});const Zo=W(()=>{var P,w,T;const o=(P=p==null?void 0:p.query)==null?void 0:P.fee,t=(w=p==null?void 0:p.query)==null?void 0:w.tokena,c=(T=p==null?void 0:p.query)==null?void 0:T.tokenb;let k=null;for(let M=0;M<A.value.poolConfigList.length;M++){const L=A.value.poolConfigList[M];!t||!c?k={}:(L.token_a.address.toUpperCase()===(t==null?void 0:t.toUpperCase())&&L.token_b.address.toUpperCase()===(c==null?void 0:c.toUpperCase())||L.token_b.address.toUpperCase()===(t==null?void 0:t.toUpperCase())&&L.token_a.address.toUpperCase()===(c==null?void 0:c.toUpperCase()))&&(k=L)}return k}),i=W(()=>{var t,c,k,P,w,T,M,L,V,Q,Y,ue,we;const o=(t=p==null?void 0:p.query)==null?void 0:t.fee;if(s.value&&u.value){let de=null;if(o)for(const qe in A.value.poolsObj){const ce=A.value.poolsObj[qe];(ce.token_a.address.toUpperCase()===((k=(c=s==null?void 0:s.value)==null?void 0:c.address)==null?void 0:k.toUpperCase())&&ce.token_b.address.toUpperCase()===((w=(P=u==null?void 0:u.value)==null?void 0:P.address)==null?void 0:w.toUpperCase())&&Number(ce.fee)==Number(Mo.value)||ce.token_b.address.toUpperCase()===((T=s==null?void 0:s.value.address)==null?void 0:T.toUpperCase())&&ce.token_a.address.toUpperCase()===((L=(M=u==null?void 0:u.value)==null?void 0:M.address)==null?void 0:L.toUpperCase())&&Number(ce.fee)==Number(Mo.value))&&(de=ce)}const ne=[];if(!((V=p==null?void 0:p.query)!=null&&V.action)&&(!o||!de)){for(const qe in A.value.poolsObj){const ce=A.value.poolsObj[qe];(ce.token_a.address.toUpperCase()===((Q=s==null?void 0:s.value.address)==null?void 0:Q.toUpperCase())&&ce.token_b.address.toUpperCase()===((Y=u.value.address)==null?void 0:Y.toUpperCase())||ce.token_b.address.toUpperCase()===((ue=s==null?void 0:s.value.address)==null?void 0:ue.toUpperCase())&&ce.token_a.address.toUpperCase()===((we=u.value.address)==null?void 0:we.toUpperCase()))&&ne.push(ce)}ne&&ne.length>0&&(de=ne.sort((qe,ce)=>{const Ye=qe.coinAmountA+qe.coinAmountB;return ce.coinAmountA+ce.coinAmountB-Ye})[0])}return de&&!mo(de)?de:null}return null}),Uo=W(()=>{var k,P;const o=(k=s==null?void 0:s.value)==null?void 0:k.address,t=(P=u==null?void 0:u.value)==null?void 0:P.address;let c=null;for(let w=0;w<A.value.poolConfigList.length;w++){const T=A.value.poolConfigList[w];!o||!t?c={}:(T.token_a.address.toUpperCase()===(o==null?void 0:o.toUpperCase())&&T.token_b.address.toUpperCase()===(t==null?void 0:t.toUpperCase())||T.token_b.address.toUpperCase()===(o==null?void 0:o.toUpperCase())&&T.token_a.address.toUpperCase()===(t==null?void 0:t.toUpperCase()))&&(c=T)}return c});me(()=>[Zo.value,i.value,A.value.recommendRangesObj],(o,t)=>{var c,k,P,w,T;o[0]&&!o[1]&&o[2]&&!mo(o[2])&&(!t||o[0]&&((c=o[0])==null?void 0:c.address)!==t[0]&&((k=t[0])!=null&&k.address))&&(P=o[0])!=null&&P.address&&!((w=p==null?void 0:p.query)!=null&&w.action)&&Qe.setSinglePool(o[0],o[2][(T=o[0])==null?void 0:T.address],q.value.chainName)},{immediate:!0,deep:!0});const no=g({}),Go=async(o,t)=>{var c,k,P,w;if(o){const{TickMath:T,getNearestTickByTick:M}=N.value;t&&(Z.value=!0,ge.value=!1,be.value=!1),o.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&o.token_b.address.toLowerCase()===u.value.address.toLowerCase()?$.value=!0:$.value=!1,ae.value=!0;const L=o.token_a.decimals,V=o.token_b.decimals;j.value=o.fee*100+"% "+n("common.feeTier");const Q=o.current_tick_index;je.value=T.sqrtPriceX64ToPrice(o.current_sqrt_price,L,V).toString(),ro.value=new h(1).div(new h(je.value)).toString();const Y=await N.value.getTicks(o);if(We.value=Y?N.value.getTickDataFromUrlData(Y):[],t){let ue=A.value.poolPriceConfigObj&&A.value.poolPriceConfigObj[o.address]&&A.value.poolPriceConfigObj[o.address].recommend_ranges||{};const we=A.value.poolPriceConfigObj&&A.value.poolPriceConfigObj[o.address]&&A.value.poolPriceConfigObj[o.address].type||"",de=Q-Number(we=="unstable"?Number(o.tickSpacing)*2:Number(o.tickSpacing)*3),ne=Q+Number(we=="unstable"?Number(o.tickSpacing)*2:Number(o.tickSpacing)*3),qe=(k=(c=i==null?void 0:i.value)==null?void 0:c.token_a)==null?void 0:k.decimals,ce=(w=(P=i==null?void 0:i.value)==null?void 0:P.token_b)==null?void 0:w.decimals,Ye=N.value.TickMath.tickIndexToPrice(de,qe,ce).toString(),Be=N.value.TickMath.tickIndexToPrice(ne,qe,ce).toString();ue["full range"]={lower:-443636,upper:443636},ue.custom={lower:de,upper:ne,minPrice:Ye,maxPrice:Be};const Ce=[];for(let Ee in ue)ue[Ee]&&Ce.push({...ue[Ee],key:Ee});Po.value=Ce,we?o.isSelfBuilt?J.value="custom":we=="stable"?J.value="suggested":J.value="passive":J.value="custom",no.value=ue,cn({key:J.value,...ue[J.value]})}Z.value=!1}else Z.value=!1},Jo=W(()=>Qe.getPoolInfoSuccess);me(()=>i.value,(o,t)=>{var c,k,P,w,T,M,L,V,Q,Y,ue,we;o?((!t||o.poolAddress!==t.poolAddress||o.current_sqrt_price!==t.current_sqrt_price)&&Go(o,!t||o.poolAddress!==t.poolAddress),(p==null?void 0:p.name)=="deposit"&&he.push(`/deposit?poolAddress=${o==null?void 0:o.address}&tokena=${(c=s==null?void 0:s.value)==null?void 0:c.address}&tokenb=${(k=u==null?void 0:u.value)==null?void 0:k.address}&fee=${o==null?void 0:o.fee}`)):((P=p==null?void 0:p.query)==null?void 0:P.actions)=="new-position"||(!Uo.value&&$o.value&&((w=s==null?void 0:s.value)!=null&&w.address||(T=u==null?void 0:u.value)!=null&&T.address)?(j.value="",l.value="0",m.value="∞",ge.value=!1,be.value=!1,Z.value=!1,je.value="",ro.value="",(p==null?void 0:p.name)=="deposit"&&he.push(`/deposit?action=create-pool&tokena=${(M=s==null?void 0:s.value)==null?void 0:M.address}&tokenb=${(L=u==null?void 0:u.value)==null?void 0:L.address}&from=${(V=p==null?void 0:p.query)==null?void 0:V.from}`)):$o.value&&!o&&!((Q=p==null?void 0:p.query)!=null&&Q.action)&&Jo.value&&!Zo.value?(j.value="",l.value="0",m.value="∞",ge.value=!1,be.value=!1,Z.value=!1,je.value="",ro.value="",(p==null?void 0:p.name)=="deposit"&&he.push(`/deposit?action=create-pool&tokena=${(Y=s==null?void 0:s.value)==null?void 0:Y.address}&tokenb=${(ue=u==null?void 0:u.value)==null?void 0:ue.address}&from=${(we=p==null?void 0:p.query)==null?void 0:we.from}`)):(ge.value=!1,be.value=!1,Z.value=!1,je.value="",ro.value=""))},{immediate:!0});const Ve=W(()=>B.value.assets&&s.value&&B.value.assets[s.value.address]?nt(B.value.assets[s.value.address].balance,s.value.decimals):"0"),Ke=W(()=>B.value.assets&&u.value&&B.value.assets[u.value.address]?nt(B.value.assets[u.value.address].balance,u.value.decimals):"0"),wn=async()=>{const o=await N.value.getTicks(i.value),t=o?N.value.getTickDataFromUrlData(o):[];We.value=t},Mn=sa(),zo=W(()=>A.value.currentPositionInfo),Pt=async o=>{var Q,Y,ue,we,de,ne,qe,ce,Ye,Be;lo.value=!1,A.value.currentPositionInfo={},ho(""),Eo(n("tips.increaseLiquiditySuccess",{from:ge.value?"":`${y.value} ${(Q=s.value)==null?void 0:Q.symbol}`,and:!ge.value&&!be.value?"and":"",to:be.value?"":`${b.value} ${(Y=u.value)==null?void 0:Y.symbol}`})),Je(!0);const t=$.value?f.value:!f.value;let c,k,P,w,T,M;const L=i.value.token_a.decimals,V=i.value.token_b.decimals;if(l.value==="0"&&m.value==="∞")P=N.value.TickUtil.getMinIndex(Number(i.value.tickSpacing)),w=N.value.TickUtil.getMaxIndex(Number(i.value.tickSpacing));else if(J.value=="custom"){$.value?(c=Number(l.value),k=Number(m.value)):(c=new h(1).div(m.value).toString(),k=new h(1).div(l.value).toString());try{T=c==0?N.value.TickUtil.getMinIndex(Number(i.value.tickSpacing)):N.value.TickMath.priceToTickIndex(new h(c),L,V)}catch{T=N.value.TickUtil.getMinIndex(Number(i.value.tickSpacing))}try{M=N.value.TickMath.priceToTickIndex(new h(k),L,V)}catch{M=N.value.TickUtil.getMaxIndex(Number(i.value.tickSpacing))}P=N.value.getNearestTickByTick(T,Number(i.value.tickSpacing)),w=N.value.getNearestTickByTick(M,Number(i.value.tickSpacing))}else P=no.value[J.value].lower,w=no.value[J.value].upper;try{const Ce=await N.value.getAddLiquidityTransactionPayload({pool:{poolAddress:i.value.poolAddress,token_a:i.value.token_a,token_b:i.value.token_b},amount:f.value?y.value:b.value,fix_amount_a:t,tick_lower:P,tick_upper:w,index:0,slippage:Number(Fe.value)/100,roundUp:!0,collect_fee:!1});let Ee;if(q.value.chainName==="Aptos")Ee=await B.value.currentWallet.signAndSubmitTransaction(Ce);else{const Ae=await B.value.currentWallet.signAndExecuteTransactionBlock(Ce);Ee=N.value.handleTx(Ae)}if(Ee&&Ee.hash){ho(Ee.hash),Je(!1),bo(!0);const Ae=Un();let Pe;i.value.needReverse?i.value.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&i.value.token_b.address.toLowerCase()===u.value.address.toLowerCase()?Pe=!1:Pe=!0:i.value.token_a.address.toLowerCase()===s.value.address.toLowerCase()&&i.value.token_b.address.toLowerCase()===u.value.address.toLowerCase()?Pe=!0:Pe=!1;const oo={title:"Supplied",desc:n("tips.addLiquiditySuccessText",{from:ge.value?"":`${y.value} ${(ue=s.value)==null?void 0:ue.symbol}`,and:!ge.value&&!be.value?"and":"",to:be.value?"":`${b.value} ${(we=u.value)==null?void 0:we.symbol}`}),hash:Ee.hash,tit:"Position Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:Pe?(de=s.value)==null?void 0:de.address:(ne=u.value)==null?void 0:ne.address,numa:Pe?y.value:b.value,logoa:Pe?A.value.tokensObj&&s.value&&s.value.address&&A.value.tokensObj[s.value.address]&&A.value.tokensObj[s.value.address].logoURI:A.value.tokensObj&&u.value&&u.value.address&&A.value.tokensObj[u.value.address]&&A.value.tokensObj[u.value.address].logoURI,tokenb:Pe?(ce=u.value)==null?void 0:ce.address:(qe=s.value)==null?void 0:qe.address,numb:Pe?b.value:y.value,logob:Pe?A.value.tokensObj&&u.value&&u.value.address&&A.value.tokensObj[u.value.address]&&A.value.tokensObj[u.value.address].logoURI:A.value.tokensObj&&s.value&&s.value.address&&A.value.tokensObj[s.value.address]&&A.value.tokensObj[s.value.address].logoURI},text:`Deopsit ${ge.value?"":`${y.value} ${(Ye=s.value)==null?void 0:Ye.symbol}`} ${!ge.value&&!be.value?"and":""} ${be.value?"":`${b.value} ${(Be=u.value)==null?void 0:Be.symbol}`}`};q.value.chainName!=="Aptos"&&(oo.res=Ee.res),N.value.showTransitionPending(oo);const Ze=await N.value.watchTransaction(oo,!0);if(Ze.status){if(bo(!1),A.value.setCurrentPositionLoading(!0),E.value=!0,q.value.chainName==="Aptos"){if(await A.value.setCurrentPositionInfo(Ze.nftInfo[0].data.id.creator,Ze.nftInfo[0].data.id.collection,Ze.nftInfo[0].data.name,q.value.chainName),o)try{await Mn.subscribePosition({pool_address:zo.value.poolAddress,position_index:zo.value.index},zo.value.nftHash)}catch{}}else{const ze=Ze.nftInfo,po=await tt(2e3);if(await A.value.setCurrentPositionInfo(ze==null?void 0:ze.pool,"","",q.value.chainName,ze==null?void 0:ze.position),await tt(1e3),o)try{await Mn.subscribePosition({pool_address:zo.value.poolAddress,position_index:zo.value.index},zo.value.nftHash)}catch{}}setTimeout(()=>{Qe.updateCurrentPools(i.value.poolAddress,q.value.chainName),N.value.getAccount(B.value.address)},3e3),setTimeout(async()=>{wn()},3e3)}Wo()}else Je(!1),ko(!0);y.value="",b.value=""}catch{y.value="",b.value="",Je(!1),ko(!0)}},It=o=>{switch(o){case"active":return n("newAdd.activeTips");case"passive":return n("newAdd.passiveTips");case"full range":return n("newAdd.fullRangTips");case"suggested":return n("newAdd.suggestedTips");case"custom":return n("newAdd.customTips")}},$t=o=>{switch(o){case"suggested":return n("newAdd.suggested");case"active":return n("newAdd.active");case"passive":return n("newAdd.conservative");case"full range":return n("newAdd.fullRange");case"custom":return n("newAdd.custom")}},cn=o=>{J.value=o.key.toLowerCase();const t=i.value.token_a.decimals,c=i.value.token_b.decimals,{lower:k,upper:P}=o,w=N.value.TickMath.tickIndexToPrice(k,t,c).toString(),T=N.value.TickMath.tickIndexToPrice(P,t,c).toString();if(o.key=="full range"){Do.value=k,Ho.value=P,xe(!0),so();return}$.value?(U.value=String(w),l.value=String(w),G.value=String(T),m.value=String(T),Do.value=k,Ho.value=P,so()):(U.value=String(1/Number(T)),l.value=String(1/Number(T)),G.value=String(1/Number(w)),m.value=String(1/Number(w)),Do.value=N.value.TickMath.priceToTickIndex(new h(1/Number(T)),t,c),Ho.value=N.value.TickMath.priceToTickIndex(new h(1/Number(w)),t,c),so())},St=W(()=>A.value.tokensObj&&s.value.address&&A.value.tokensObj[s.value.address]&&A.value.tokensObj[s.value.address].logoURI),Tt=W(()=>A.value.tokensObj&&u.value.address&&A.value.tokensObj[u.value.address]&&A.value.tokensObj[u.value.address].logoURI),Un=()=>{var c,k,P,w,T,M,L,V;let o=null;const t=A.value.poolConfigList;for(let Q=0;Q<t.length;Q++){const Y=t[Q];if(Y.token_a.address.toUpperCase()===((k=(c=s==null?void 0:s.value)==null?void 0:c.address)==null?void 0:k.toUpperCase())&&Y.token_b.address.toUpperCase()===((w=(P=u==null?void 0:u.value)==null?void 0:P.address)==null?void 0:w.toUpperCase())||Y.token_b.address.toUpperCase()===((M=(T=s==null?void 0:s.value)==null?void 0:T.address)==null?void 0:M.toUpperCase())&&Y.token_a.address.toUpperCase()===((V=(L=u==null?void 0:u.value)==null?void 0:L.address)==null?void 0:V.toUpperCase())){o=Y;break}}return o},Nt=o=>{var c,k,P,w,T,M,L,V,Q,Y;const t=Un();if(t&&($e.value=t.needReverse?t==null?void 0:t.token_b:t==null?void 0:t.token_a,Se.value=t.needReverse?t==null?void 0:t.token_a:t==null?void 0:t.token_b,s.value=t.needReverse?t==null?void 0:t.token_b:t==null?void 0:t.token_a,u.value=t.needReverse?t==null?void 0:t.token_a:t==null?void 0:t.token_b,$.value=s.value.address===((c=t==null?void 0:t.token_a)==null?void 0:c.address)),He.value.includes(o.fee))j.value=o.label,Mo.value=o.fee,he.push(`/deposit?tokena=${t?t.needReverse?(P=t==null?void 0:t.token_b)==null?void 0:P.address:(k=t==null?void 0:t.token_a)==null?void 0:k.address:$.value?s.value.address:u.value.address}&tokenb=${t?t.needReverse?(T=t==null?void 0:t.token_a)==null?void 0:T.address:(w=t==null?void 0:t.token_b)==null?void 0:w.address:$.value?u.value.address:s.value.address}&fee=${o.fee}`);else{if(q.value.chainName!=="Aptos"&&!io.value[s.value.address]&&!io.value[u.value.address])return;j.value=o.label,i.value&&(l.value="",m.value=""),y.value="",b.value="",je.value="",ro.value="",l.value="",m.value="",vn.value="",pn.value="",he.push(`/deposit?action=create-pool&tokena=${t?t.needReverse?(L=t==null?void 0:t.token_b)==null?void 0:L.address:(M=t==null?void 0:t.token_a)==null?void 0:M.address:$.value?s.value.address:u.value.address}&tokenb=${t?t.needReverse?(Q=t==null?void 0:t.token_a)==null?void 0:Q.address:(V=t==null?void 0:t.token_b)==null?void 0:V.address:$.value?u.value.address:s.value.address}&fee=${o.fee}&from=${(Y=p==null?void 0:p.query)==null?void 0:Y.from}`)}},At=g(!1),Lt=()=>{i.value,lo.value=!0},S=g(null),vn=g(""),pn=g(""),mn=o=>{var M,L,V,Q,Y,ue,we,de,ne,qe,ce,Ye;if(o?(vn.value=o,je.value=o,ro.value=o,pn.value=new h(1).div(new h(o)).toString(),Z.value=!1):(vn.value="",je.value="",ro.value="",pn.value=""),!((M=$e.value)!=null&&M.address)||!((L=Se.value)!=null&&L.address))return;let t=!1;const c=A.value.poolConfigList;let k=null;for(let Be=0;Be<c.length;Be++){const Ce=c[Be];if(Ce.token_a.address.toUpperCase()===((Q=(V=$e==null?void 0:$e.value)==null?void 0:V.address)==null?void 0:Q.toUpperCase())&&Ce.token_b.address.toUpperCase()===((ue=(Y=Se==null?void 0:Se.value)==null?void 0:Y.address)==null?void 0:ue.toUpperCase())){t=Ce.needReverse,k=Ce;break}else if(Ce.token_b.address.toUpperCase()===((de=(we=$e==null?void 0:$e.value)==null?void 0:we.address)==null?void 0:de.toUpperCase())&&Ce.token_a.address.toUpperCase()===((qe=(ne=Se==null?void 0:Se.value)==null?void 0:ne.address)==null?void 0:qe.toUpperCase())){t=Ce.needReverse,k=Ce;break}}let P=!1;N.value.getIsSortedSymbols((ce=$e.value)==null?void 0:ce.address,(Ye=Se.value)==null?void 0:Ye.address)&&(P=!0);let w;P&&!$.value?w=!0:P&&$.value||!P&&$.value?w=!1:w=!0;const T=q.value.chainName=="Aptos"?Ol:Bl;if(s.value&&u.value&&o){const Be=k?k==null?void 0:k.token_a.decimals:P?Se.value.decimals:$e.value.decimals,Ce=k?k==null?void 0:k.token_b.decimals:P?$e.value.decimals:Se.value.decimals,Ee=o&&N.value.TickMath.priceToSqrtPriceX64(w?new h(1/o):new h(o),Be,Ce),Ae=o&&N.value.TickMath.priceToSqrtPriceX64(new h(1).div(o),s.value.decimals,u.value.decimals),Pe=N.value.TickMath.priceToTickIndex(w?new h(1).div(o):new h(o),Be,Ce),oo=Pe-T[p.query.fee]*5,Ze=Pe+T[p.query.fee]*5,ze=N.value.TickMath.tickIndexToPrice(oo,Be,Ce).toString(),po=N.value.TickMath.tickIndexToPrice(Ze,Be,Ce).toString();Oo.value?(l.value="0",m.value="∞"):w?(l.value=String(1/po),m.value=String(1/ze),U.value=String(1/po),G.value=String(1/ze)):(l.value=ze,m.value=po,U.value=ze,G.value=po);const yo={token_a:k?k.token_a:P?Se.value:$e.value,token_b:k?k.token_b:P?$e.value:Se.value,isCreate:!0,tickSpacing:T[p.query.fee],currentPrice:o,current_sqrt_price:Ee,tick_lower:oo,tick_upper:Ze,current_tick_index:Pe,currentPriceReverse:en(String(1/o),6),reverse_current_sqrt_price:Ae,needReverse:t,fee:p.query.fee};S.value=yo,so()}else S.value=null,l.value="",m.value=""},qt=async()=>{var V,Q,Y,ue;if(q.value.chainName!=="Aptos"){On();return}lo.value=!1;let o,t,c,k,P,w;const T=$e.value.decimals,M=Se.value.decimals;ho(""),Eo(n("tips.increaseLiquiditySuccess",{from:ge.value?"":`${y.value} ${(V=s.value)==null?void 0:V.symbol}`,and:!ge.value&&!be.value?"and":"",to:be.value?"":`${b.value} ${(Q=u.value)==null?void 0:Q.symbol}`})),Je(!0),l.value==="0"&&m.value==="∞"?(c=N.value.TickUtil.getMinIndex(Number(S.value.tickSpacing)),k=N.value.TickUtil.getMaxIndex(Number(S.value.tickSpacing))):($.value?(o=Number(l.value),t=Number(m.value)):(o=1/Number(m.value),t=1/Number(l.value)),P=o==0?-443636:N.value.TickMath.priceToTickIndex(new h(o),T,M),w=N.value.TickMath.priceToTickIndex(new h(t),T,M),c=N.value.getNearestTickByTick(P,Number(S.value.tickSpacing)),k=N.value.getNearestTickByTick(w,Number(S.value.tickSpacing)));const L=$.value?f.value:!f.value;try{const we=await N.value.getCreatPoolTransactionPayload({coinTypeA:$e.value.address,coinTypeB:Se.value.address,tick_spacing:Number(S.value.tickSpacing),initialize_sqrt_price:new So(S.value.current_sqrt_price),uri:"",current_tick_index:S.value.current_tick_index,max_amount_a:$.value?y.value:b.value,max_amount_b:$.value?b.value:y.value,tick_lower:c,tick_upper:k,slippage:Number(Fe.value)/100,decimalsA:T,decimalsB:M,fix_amount_a:L,liquidityInput:Co.value});let de;if(q.value.chainName==="Aptos")de=await B.value.currentWallet.signAndSubmitTransaction(we);else{const ne=await B.value.currentWallet.signAndExecuteTransactionBlock(we);de=N.value.handleTx(ne)}if(de&&de.hash){ho(de.hash),Je(!1),bo(!0);const ne={title:"Created pool",desc:"Pool created successfully ",hash:de.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(Y=s.value)==null?void 0:Y.address}`,numa:ge.value?"":`- ${y.value}`,logoa:A.value.tokensObj&&s.value&&s.value.address&&A.value.tokensObj[s.value.address]&&A.value.tokensObj[s.value.address].logoURI,tokenb:`${(ue=u.value)==null?void 0:ue.address}`,numb:be.value?"":`- ${b.value}`,logob:A.value.tokensObj&&u.value&&u.value.address&&A.value.tokensObj[u.value.address]&&A.value.tokensObj[u.value.address].logoURI},text:"Pool created successfully"};q.value.chainName!=="Aptos"&&(ne.res=de.res),N.value.showTransitionPending(ne),(await N.value.watchTransaction(ne,!0)).status&&(bo(!1),oe.value=!0,setTimeout(()=>{Qe.setPoolConfigList(q.value.chainName,q.value.filterCoinsObj),N.value.getAccount(B.value.address)},1e3)),Wo()}else Je(!1),ko(!0);y.value="",b.value=""}catch{Qe.setPoolConfigList(q.value.chainName,q.value.filterCoinsObj),lo.value=!1,y.value="",b.value="",Je(!1),ko(!0)}},On=async()=>{var we,de,ne,qe,ce,Ye,Be,Ce,Ee,Ae,Pe,oo,Ze,ze,po,yo,_n,Fn,jn,En,Wn,Dn,Hn,zn,Xn,Vn,Kn,Zn,Gn,Jn,Qn,Yn,xn,et,ot;lo.value=!1;let o=!1;N.value.getIsSortedSymbols($e.value.address,Se.value.address)&&(o=!0),ho("");const t=ge.value?"":`${y.value} ${(we=s.value)==null?void 0:we.symbol}`,c=be.value?"":`${b.value} ${(de=u.value)==null?void 0:de.symbol}`;Eo(n("tips.increaseLiquiditySuccess",{from:!o&&!((ne=S==null?void 0:S.value)!=null&&ne.needReverse)||o&&((qe=S==null?void 0:S.value)!=null&&qe.needReverse)?t:c,and:!ge.value&&!be.value?"and":"",to:!o&&!((ce=S==null?void 0:S.value)!=null&&ce.needReverse)||o&&((Ye=S==null?void 0:S.value)!=null&&Ye.needReverse)?c:t})),Je(!0);let k="",P="",w="",T="",M="",L="",V=0,Q=0,Y=!1,ue;if(o||(Be=S==null?void 0:S.value)!=null&&Be.needReverse){const Bo=o&&!((Ce=S==null?void 0:S.value)!=null&&Ce.needReverse);k=Bo?(oo=(Pe=S==null?void 0:S.value)==null?void 0:Pe.token_b)==null?void 0:oo.address:(Ae=(Ee=S==null?void 0:S.value)==null?void 0:Ee.token_a)==null?void 0:Ae.address,P=Bo?(yo=(po=S==null?void 0:S.value)==null?void 0:po.token_a)==null?void 0:yo.address:(ze=(Ze=S==null?void 0:S.value)==null?void 0:Ze.token_b)==null?void 0:ze.address,w=Bo?(En=(jn=S==null?void 0:S.value)==null?void 0:jn.token_b)==null?void 0:En.decimals:(Fn=(_n=S==null?void 0:S.value)==null?void 0:_n.token_a)==null?void 0:Fn.decimals,T=Bo?(zn=(Hn=S==null?void 0:S.value)==null?void 0:Hn.token_a)==null?void 0:zn.decimals:(Dn=(Wn=S==null?void 0:S.value)==null?void 0:Wn.token_b)==null?void 0:Dn.decimals,(Xn=S==null?void 0:S.value)!=null&&Xn.needReverse?(M=$.value?y.value:b.value,L=$.value?b.value:y.value,V=$.value?Number(l.value):1/Number(m.value),Q=$.value?Number(m.value):1/Number(l.value),Y=$.value?f.value:!f.value,ue=$.value?je.value:1/Number(je.value)):(M=$.value?b.value:y.value,L=$.value?y.value:b.value,V=$.value?1/Number(m.value):Number(l.value),Q=$.value?1/Number(l.value):Number(m.value),Y=$.value?!f.value:f.value,ue=$.value?1/Number(je.value):je.value)}else k=(Kn=(Vn=S==null?void 0:S.value)==null?void 0:Vn.token_a)==null?void 0:Kn.address,P=(Gn=(Zn=S==null?void 0:S.value)==null?void 0:Zn.token_b)==null?void 0:Gn.address,w=(Qn=(Jn=S==null?void 0:S.value)==null?void 0:Jn.token_a)==null?void 0:Qn.decimals,T=(xn=(Yn=S==null?void 0:S.value)==null?void 0:Yn.token_b)==null?void 0:xn.decimals,M=$.value?y.value:b.value,L=$.value?b.value:y.value,V=$.value?Number(l.value):1/Number(m.value),Q=$.value?Number(m.value):1/Number(l.value),Y=$.value?f.value:!f.value,ue=$.value?je.value:1/Number(je.value);try{const Bo=await N.value.getCreatPoolTransactionPayload({coinTypeA:k,coinTypeB:P,decimalsA:w,decimalsB:T,amountA:M,amountB:L,minPrice:l.value=="0"&&m.value=="∞"?"0":V,maxPrice:l.value=="0"&&m.value=="∞"?"∞":Q,fix_amount_a:Y,tick_spacing:Number(S.value.tickSpacing),slippage:Number(Fe.value)/100,price:ue}),Ot=await B.value.currentWallet.signAndExecuteTransactionBlock(Bo),Qo=N.value.handleTx(Ot);if(Qo&&Qo.hash){ho(Qo.hash),Je(!1),bo(!0);const $n={title:"Created pool",desc:"Pool created successfully ",hash:Qo.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(et=s.value)==null?void 0:et.address}`,numa:ge.value?"":`- ${y.value}`,logoa:A.value.tokensObj&&s.value&&s.value.address&&A.value.tokensObj[s.value.address]&&A.value.tokensObj[s.value.address].logoURI,tokenb:`${(ot=u.value)==null?void 0:ot.address}`,numb:be.value?"":`- ${b.value}`,logob:A.value.tokensObj&&u.value&&u.value.address&&A.value.tokensObj[u.value.address]&&A.value.tokensObj[u.value.address].logoURI},text:"Pool created successfully"};q.value.chainName!=="Aptos"&&($n.res=Qo.res),N.value.showTransitionPending($n),(await N.value.watchTransaction($n,!0)).status&&(bo(!1),oe.value=!0,setTimeout(()=>{Qe.setPoolConfigList(q.value.chainName,q.value.filterCoinsObj),N.value.getAccount(B.value.address)},1e3)),Wo()}else Je(!1),ko(!0);y.value="",b.value=""}catch{lo.value=!1,Qe.setPoolConfigList(q.value.chainName,q.value.filterCoinsObj),y.value="",b.value="",Je(!1),ko(!0)}},Rt=W(()=>{var o,t,c,k,P,w;return((o=s.value)==null?void 0:o.isSelfBuilt)||((t=u.value)==null?void 0:t.isSelfBuilt)||((k=A.value.tokensObj[(c=s.value)==null?void 0:c.address])==null?void 0:k.isSelfBuilt)||((w=A.value.tokensObj[(P=u.value)==null?void 0:P.address])==null?void 0:w.isSelfBuilt)}),Mt=o=>{var t;return(o==null?void 0:o.logoURI)||(o==null?void 0:o.logo_url)||((t=A.value.tokensObj[o==null?void 0:o.address])==null?void 0:t.logo_url)||(q.value.theme==="default"?De("/image/coins/unknown.png"):De("/image/coins/sui-unknown.png"))},Pn=(o,t)=>{const c=localStorage.getItem(o.address);A.value.tokensObj&&A.value.tokensObj[o.address]&&A.value.tokensObj[o.address].isSelfBuilt&&!c&&(t=="fromCoin"&&(Vo.value=o),t=="toCoin"&&(Ko.value=o),Bn.value=!0)};me(()=>[s.value,u.value],([o,t])=>{o&&!mo(o)&&Pn(o,"fromCoin"),t&&!mo(t)&&Pn(t,"toCoin")},{immediate:!0});const Bn=g(!1),Ut=()=>{fn.value!=="Aptos"?he.push("/pool/list"):he.push("/pools")},fn=W(()=>q.value.chainName);me(()=>[q.value.chainName,q.value.filterCoinsObj],([o,t])=>{o&&t&&Qe.setPoolConfigList(o,t)},{immediate:!0}),me(()=>[He.value,io.value,s.value,u.value,$o.value],([o,t,c,k,P])=>{P&&o&&t&&!o.includes(1e-4)&&!o.includes(5e-4)&&!o.includes(.0025)&&!o.includes(.01)&&!t[c==null?void 0:c.address]&&!t[k==null?void 0:k.address]&&(j.value="")},{immediate:!0});const Oo=g(!0),In=()=>{xe(!Oo.value),Oo.value=!Oo.value,mn(S.value.currentPrice)};return{isFullRange:Oo,clickFullRange:In,warningToCoin:Ko,warningFromCoin:Vo,getTokenSource:Pn,closeTokenWarning:Ut,isShowTokenWarning:Bn,chainName:fn,hasCreatePool:$o,isCreateSuccess:oe,intPriceReverse:pn,isShowMask:wo,isPc:e,intPrice:vn,createPoolToCoin:Se,createPoolFromCoin:$e,getPoolInfoSuccess:Jo,toCreatePool:qt,createPoolInfo:S,changecurrentPrice:mn,isShowCreatePoolModal:At,addOrCreate:Lt,halfBtnSelect:un,selectFee:Nt,isViewDetail:E,addCommom:_e,decimalUi:Ne,fromCoinUrl:St,toCoinUrl:Tt,t:n,wallet:B,toAdd:Pt,chartLoading:Z,currentTick:le,tickList:We,poolInfo:i,storeIndex:q,importIcon:De,addLiquidityBtnText:R,slippage:Fe,countdown:H,loading:D,fromCoin:s,toCoin:u,openCoinSelect:ln,onCoinSelect:rn,existingCoins:X,lastSelectCoin:x,currentCoinKey:z,showCoinSelect:ke,fromCoinAmount:y,toCoinAmount:b,maxBtnSelect:sn,fixedFromCoin:f,isShowLiquidityModal:lo,direct:$,toggle:an,edit:ye,inputValue:j,feeTierList:Ge,minPrice:l,maxPrice:m,invalidPriceRange:Xo,defaultMinPrice:U,defaultMaxPrice:G,priceRangeChangeMin:nn,priceRangeChangeMax:tn,toFullRange:xe,clearAll:dn,clickClear:F,positionError:ve,positionTips:Le,router:he,clickRefresh:Io,fromCoinBlance:Ve,toCoinBlance:Ke,showToCoinLock:be,showFromCoinLock:ge,currentPriceReverse:ro,currentPrice:je,getPirceText:It,currentPriceTab:J,currentPriceTabList:Po,getPirceKey:$t,priceTab:cn,aprRewardsParameter:Ie,aprRewardsDateList:se,aprTab:No,reviseValue:Ao,label:Xe,aprTitle:Re,isCreatePool:He,before7dContractPriceLowest:eo,before7dContractPriceHighest:Me,aprRewardsTime:fe,addLiquidityBtnDisabled:jo,checkNullObj:mo,sFixD:Yo,toCreateSuiPool:On,isSelfBuilt:Rt,getCoinIcon:Mt,isCreatePoolToCoin:qo,isCreatePoolFromCoin:Ro,filterCreatePoolCoin:io,poolTvl:go}}}),yt=""+new URL("img-no-data_2x.e925467a.png",import.meta.url).href,wt=""+new URL("img-no-data_2x.8bc9afa2.png",import.meta.url).href;const ao=e=>(_o("data-v-db351047"),e=e(),Fo(),e),Fl={class:"pools-container"},jl={key:0,class:"content pc-content"},El={class:"content-left"},Wl={class:"content-left-bg"},Dl={class:"content-left-title"},Hl={key:0,class:"pool-warning"},zl={class:"coin-select"},Xl={key:0,class:"icon","aria-hidden":"true"},Vl=ao(()=>a("use",{"xlink:href":"#icon-edit"},null,-1)),Kl=[Vl],Zl={key:0,class:"fee-container"},Gl=["onClick"],Jl={key:0,class:"icon fee-disabled","aria-hidden":"true"},Ql=ao(()=>a("use",{"xlink:href":"#icon-icon-disable"},null,-1)),Yl=[Ql],xl={key:1},er={key:2},or={key:0},nr={key:1,class:"text-active"},tr={class:"deposit-title"},ar={class:"card-container"},ir={class:"card-item"},lr={class:"card-item"},rr={key:0,class:"icon","aria-hidden":"true"},sr=ao(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),ur=[sr],dr={class:"pc-network"},cr={class:"content-right"},vr={key:0,class:"initPrice-mask"},pr={class:"content-right-title"},mr=ao(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-information"})],-1)),fr={class:"content-right-bg"},gr={key:1,class:"price-tab"},br=["onClick"],kr={key:2,class:"create-pool-tips"},hr={key:3,class:"set-price-range"},Cr={class:"radio"},yr={key:0,src:ht},wr=ao(()=>a("span",null,"Full Range",-1)),Pr={key:0},Ir={key:1,class:"coin"},$r={key:2,class:"coin"},Sr={key:3,class:"no-price"},Tr={alt:""},Nr={alt:""},Ar={key:6,class:"position-tips"},Lr={alt:""},qr={class:"tips"},Rr={key:7,class:"position-tips"},Mr={alt:""},Ur={class:"error"},Or={key:8,class:"d3-chart-box"},Br={key:9,class:"day-7-price-range"},_r=ao(()=>a("i",null,null,-1)),Fr={class:"gray"},jr={key:11,class:"create-pool-tips"},Er={key:12,class:"create-pool-warning"},Wr={key:1,class:"no-data"},Dr={key:0,src:yt,alt:""},Hr={key:1,src:wt,alt:""},zr={key:1,class:"content h5-content"},Xr={class:"content-left"},Vr={class:"content-left-bg"},Kr={class:"content-left-title"},Zr={key:0,class:"pool-warning"},Gr={class:"coin-select"},Jr={key:0,class:"icon","aria-hidden":"true"},Qr=ao(()=>a("use",{"xlink:href":"#icon-edit"},null,-1)),Yr=[Qr],xr={key:0,class:"fee-container"},es=["onClick"],os={key:0},ns={key:1},ts={key:0},as={key:1,class:"text-active"},is={class:"content-right"},ls={key:0,class:"initPrice-mask"},rs={class:"content-right-title"},ss=ao(()=>a("svg",{class:"icon","aria-hidden":"true"},[a("use",{"xlink:href":"#icon-icon-information"})],-1)),us={class:"content-right-bg"},ds={key:1,class:"price-tab"},cs=["onClick"],vs={key:2,class:"create-pool-tips"},ps={key:3,class:"set-price-range"},ms={class:"radio"},fs={key:0,src:ht},gs=ao(()=>a("span",null,"Full Range",-1)),bs={key:0},ks={key:1,class:"coin"},hs={key:2,class:"coin"},Cs={key:3,class:"no-price"},ys={alt:""},ws={alt:""},Ps={key:6,class:"position-tips"},Is=["src"],$s={class:"tips"},Ss={key:7,class:"position-tips"},Ts=["src"],Ns={class:"error"},As={key:8,class:"d3-chart-box"},Ls={key:9,class:"day-7-price-range"},qs=ao(()=>a("i",null,null,-1)),Rs={class:"gray"},Ms={key:11,class:"create-pool-tips"},Us={key:1,class:"no-data"},Os={key:0,src:yt,alt:""},Bs={key:1,src:wt,alt:""},_s={key:0,class:"icon","aria-hidden":"true"},Fs=ao(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),js=[Fs],Es={class:"pc-network"},Ws={class:"new-right"},Ds={class:"deposit-title"},Hs={class:"card-container"},zs={class:"card-item"},Xs={class:"card-item"},Vs={key:0,class:"icon","aria-hidden":"true"},Ks=ao(()=>a("use",{"xlink:href":"#icon-icon-add"},null,-1)),Zs=[Ks],Gs={class:"h5-network"};function Js(e,n,O,_,B,K){var le,Z,ae,We,J,Ie,fe,Re,se,Xe,ee,q,wo,N,io,No,Ao,Po,Io,Xo,xe,He,fo,go,Ge,Fe,Lo,jo,R,I,eo,Me,he,s,u,nn,tn,an,qo,Ro,ln,$e,Se,Vo,Ko,rn,sn,un,dn,lo,bo,ko,Je,Eo,ho,Wo,p,Qe,$o,A,Co,ge,be,Do,Ho,je,ro,so,Mo,Zo;const H=Bt,oe=ga,E=zt,D=Sa,z=Xt,X=Jt,x=Ra,ke=xt,$=Rn,Oe=oa,f=_a,F=ti,y=ci,b=mt,l=na,m=Ji,U=la,G=Pl,ye=Ul,Le=Ft,ve=ea,j=hn("image");return r(),v("div",Fl,[ie(H,{url:e.storeIndex.theme=="default"?"/pools":"/pool/list"},null,8,["url"]),ie(oe,{"pool-info":e.poolInfo,onClearAll:e.clearAll,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClearAll","onClickRefresh"]),e.isPc?(r(),v("div",jl,[a("div",El,[a("div",Wl,[a("div",Dl,[Ue(d(e.$t("common.selectPool"))+" ",1),ie(E,{placement:"bottom","arrow-point-at-center":""},{title:Te(()=>[a("span",null,d(e.t("newAdd.poolWarning")),1)]),default:Te(()=>[e.isSelfBuilt?(r(),v("div",Hl)):C("",!0)]),_:1})]),a("div",zl,[ie(D,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.logoURI:e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.symbol:e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b:e.poolInfo.token_a:e.createPoolFromCoin,onClick:n[0]||(n[0]=i=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ie(D,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.logoURI:e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.symbol:e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a:e.poolInfo.token_b:e.createPoolToCoin,onClick:n[1]||(n[1]=i=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),a("div",{class:pe(["pool-fee",e.edit?"pool-fee-edit":""])},[a("div",{class:"pool-fee-header",onClick:n[2]||(n[2]=i=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[a("span",{class:pe(e.inputValue?"":"fee-span")},d(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(r(),v("svg",Xl,Kl)):C("",!0)]),e.edit?(r(),v("div",Zl,[(r(!0),v(To,null,xo(e.feeTierList,(i,Uo)=>{var no,Go,Jo,Ve,Ke;return r(),v("div",{key:Uo,class:pe(["fee-item",[e.inputValue&&e.inputValue==i.label?"fee-item-active":"",e.isCreatePool.includes(i.fee)&&e.$route.query.action?" pool-created":" pool-not-created",e.chainName!=="Aptos"&&!e.isCreatePool.includes(i.fee)&&!e.filterCreatePoolCoin[(no=e.fromCoin)==null?void 0:no.address]&&!e.filterCreatePoolCoin[(Go=e.toCoin)==null?void 0:Go.address]?"disabled":""]]),onClick:Tn(wn=>e.selectFee(i),["stop"])},[e.chainName!=="Aptos"&&!e.isCreatePool.includes(i.fee)&&!e.filterCreatePoolCoin[(Jo=e.fromCoin)==null?void 0:Jo.address]&&!e.filterCreatePoolCoin[(Ve=e.toCoin)==null?void 0:Ve.address]?(r(),v("svg",Jl,Yl)):C("",!0),e.$route.query.action=="create-pool"?(r(),v("div",xl,[a("p",null,d(i.title),1),a("p",{class:pe(e.isCreatePool&&e.isCreatePool.includes(i.fee)?"text-default":"text-theme")},d(e.isCreatePool&&e.isCreatePool.includes(i.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(r(),v("div",er,[a("p",{class:pe(e.isCreatePool&&e.isCreatePool.includes(i.fee)?"text-active":"text-default")},d(i.title),3),e.isCreatePool&&!e.isCreatePool.includes(i.fee)?(r(),v("p",or,d(e.$t("newAdd.notCreated")),1)):C("",!0),e.isCreatePool&&e.isCreatePool.includes(i.fee)?(r(),v("p",nr,d(e.poolTvl&&e.poolTvl[i.fee]&&((Ke=e.poolTvl[i.fee])==null?void 0:Ke.rateText)),1)):C("",!0)])),a("span",null,d(i.text),1)],10,Gl)}),128))])):C("",!0)],2),a("div",tr,d(e.$t("newAdd.depositAmounts")),1),a("div",ar,[a("div",ir,[ie(z,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[3]||(n[3]=i=>e.fromCoinAmount=i),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[4]||(n[4]=i=>e.maxBtnSelect("fromCoin")),onOnHalf:n[5]||(n[5]=i=>e.halfBtnSelect("fromCoin")),onOnInput:n[6]||(n[6]=i=>{e.fromCoinAmount=i,e.fixedFromCoin=!0}),onOnSelect:n[7]||(n[7]=i=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&e.$route.query.action!=="create-pool"?(r(),re(X,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),a("div",lr,[ie(z,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[8]||(n[8]=i=>e.toCoinAmount=i),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[9]||(n[9]=i=>e.maxBtnSelect("toCoin")),onOnHalf:n[10]||(n[10]=i=>e.halfBtnSelect("toCoin")),onOnInput:n[11]||(n[11]=i=>{e.toCoinAmount=i,e.fixedFromCoin=!1}),onOnSelect:n[12]||(n[12]=i=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&e.$route.query.action!=="create-pool"?(r(),re(X,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),((Z=(le=e.$route)==null?void 0:le.query)==null?void 0:Z.action)=="create-pool"&&(e.showToCoinLock||e.showFromCoinLock||!e.filterCreatePoolCoin[(ae=e.fromCoin)==null?void 0:ae.address]&&!e.filterCreatePoolCoin[(We=e.toCoin)==null?void 0:We.address])?(r(),re(x,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(r(),v("img",{key:1,class:"add",src:it,alt:"",onClick:n[13]||(n[13]=(...i)=>e.toggle&&e.toggle(...i))})):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(r(),v("img",{key:2,class:"add",src:lt,alt:"",onClick:n[14]||(n[14]=(...i)=>e.toggle&&e.toggle(...i))})):C("",!0)]),e.poolInfo?(r(),re(ke,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):C("",!0)]),ie($,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:n[15]||(n[15]=i=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Te(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")&&e.wallet.connected?(r(),v("svg",rr,ur)):C("",!0),a("span",null,d(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",dr,[ie(Oe)])]),a("div",cr,[e.isShowMask?(r(),v("div",vr)):C("",!0),a("div",pr,[Ue(d((J=e.$route)!=null&&J.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(r(),re(E,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Te(()=>[a("span",null,d(e.$t("newAdd.selectRangeTips")),1)]),default:Te(()=>[mr]),_:1})):C("",!0)]),a("div",fr,[!((fe=(Ie=e.$route)==null?void 0:Ie.query)!=null&&fe.action)&&e.poolInfo||(se=(Re=e.$route)==null?void 0:Re.query)!=null&&se.action?(r(),v(To,{key:0},[(ee=(Xe=e.$route)==null?void 0:Xe.query)!=null&&ee.action&&!e.poolInfo?(r(),re(f,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):C("",!0),e.poolInfo?(r(),v("div",gr,[(r(!0),v(To,null,xo(e.currentPriceTabList,i=>(r(),v("div",{key:i,class:pe(["price-item",{"price-item-active":i.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Uo=>e.priceTab(i)},[ie(E,{placement:"bottom","arrow-point-at-center":""},{title:Te(()=>[a("span",null,d(e.getPirceText(i.key)),1)]),default:Te(()=>[Ue(" "+d(e.getPirceKey(i.key)),1)]),_:2},1024)],10,br))),128))])):C("",!0),(wo=(q=e.$route)==null?void 0:q.query)!=null&&wo.action&&!e.poolInfo?(r(),v("div",kr,d(e.$t("newAdd.createPoolInitialText")),1)):C("",!0),!e.poolInfo&&((io=(N=e.$route)==null?void 0:N.query)!=null&&io.action)?(r(),v("div",hr,[a("div",null,d(e.$t("common.setPriceRange")),1),a("div",null,[a("div",{class:pe(["tab-item",e.isFullRange?"tab-item-active tab-item-farms-active":""]),onClick:n[16]||(n[16]=Tn(i=>e.clickFullRange(),["stop"]))},[a("div",Cr,[e.isFullRange&&e.chainName=="Sui"?(r(),v("img",yr)):C("",!0)]),wr],2)])])):C("",!0),e.poolInfo||(Ao=(No=e.$route)==null?void 0:No.query)!=null&&Ao.action?(r(),v("div",{key:4,class:pe(["current-price",(Io=(Po=e.$route)==null?void 0:Po.query)!=null&&Io.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(r(),v("span",Pr,d(e.$t("common.currentPrice")),1)):C("",!0),e.fromCoin&&e.toCoin&&e.direct?(r(),v("div",Ir,[a("span",null,d(e.$t("common.currentPrice")),1),Ue(" "+d(e.currentPrice===""?"--":("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(e.currentPrice,6)))+" "+d((Xo=e.toCoin)==null?void 0:Xo.symbol)+" per "+d((xe=e.fromCoin)==null?void 0:xe.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(r(),v("div",$r,[a("span",null,d(e.$t("common.currentPrice")),1),Ue(" "+d(e.currentPriceReverse===""?"--":("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(e.currentPriceReverse,6)))+" "+d((He=e.toCoin)==null?void 0:He.symbol)+" per "+d((fo=e.fromCoin)==null?void 0:fo.symbol),1)])):(r(),v("div",Sr,"0.0")),e.fromCoin&&e.toCoin?(r(),v("div",{key:4,class:pe(e.poolInfo&&((go=e.poolInfo)!=null&&go.needReverse)||e.createPoolInfo&&((Ge=e.createPoolInfo)!=null&&Ge.needReverse)?"toggle reverse":"toggle")},[a("div",{class:pe(e.direct?"item active-item":"item"),onClick:n[17]||(n[17]=i=>e.direct?"":e.toggle())},[to(a("img",Tr,null,512),[[j,e.getCoinIcon(e.direct?e.fromCoin:e.toCoin)]]),Ue(" "+d(e.direct?(Fe=e.fromCoin)==null?void 0:Fe.symbol:(Lo=e.toCoin)==null?void 0:Lo.symbol),1)],2),a("div",{class:pe(e.direct?"item ":"item active-item"),onClick:n[18]||(n[18]=i=>e.direct?e.toggle():"")},[to(a("img",Nr,null,512),[[j,e.getCoinIcon(e.direct?e.toCoin:e.fromCoin)]]),Ue(" "+d(e.direct?(jo=e.toCoin)==null?void 0:jo.symbol:(R=e.fromCoin)==null?void 0:R.symbol),1)],2)],2)):C("",!0)],2)):C("",!0),e.poolInfo||(eo=(I=e.$route)==null?void 0:I.query)!=null&&eo.action?(r(),re(F,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,"int-price":e.intPrice,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","int-price","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):C("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(r(),v("div",Ar,[to(a("img",Lr,null,512),[[j,("importIcon"in e?e.importIcon:te(De))("/image/icon-tips@2x.png")]]),a("p",qr,d(e.$t("tips.positionTips")),1)])):C("",!0),e.positionError&&(e.poolInfo||(he=(Me=e.$route)==null?void 0:Me.query)!=null&&he.action)&&(Number(e.minPrice)||Number(e.maxPrice))?(r(),v("div",Rr,[to(a("img",Mr,null,512),[[j,("importIcon"in e?e.importIcon:te(De))("/image/icon-tips-error@2x.png")]]),a("p",Ur,d(e.$t("tips.positionError")),1)])):C("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(r(),v("div",Or,[e.fromCoin&&e.toCoin&&e.poolInfo?(r(),re(y,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):C("",!0),e.chartLoading?(r(),re(b,{key:1})):C("",!0)])):C("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(r(),v("div",Br,[_r,a("span",Fr,d(e.aprRewardsTime)+" Price Range",1),a("span",null,d(("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(e.before7dContractPriceLowest,6)))+" - "+d(("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(e.before7dContractPriceHighest,6))),1)])):C("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(r(),re(l,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):C("",!0),(u=(s=e.$route)==null?void 0:s.query)!=null&&u.action&&!e.poolInfo&&!e.showFromCoinLock&&!e.showToCoinLock?(r(),v("div",jr,d(e.$t("newAdd.createPoolText")),1)):C("",!0),((tn=(nn=e.$route)==null?void 0:nn.query)==null?void 0:tn.action)=="create-pool"&&(e.showFromCoinLock||e.showToCoinLock)&&Number(e.maxPrice)>Number(e.minPrice)?(r(),v("div",Er," To create a new pool, the initial price you set must be within your price range. ")):C("",!0)],64)):(r(),v("div",Wr,[e.storeIndex.theme=="default"?(r(),v("img",Dr)):(r(),v("img",Hr)),a("p",null,d(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&e.$route.query.action!=="create-pool"?(r(),re(m,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):C("",!0)])])):C("",!0),e.isPc?C("",!0):(r(),v("div",zr,[a("div",Xr,[a("div",Vr,[a("div",Kr,[Ue(d(e.$t("common.selectPool"))+" ",1),ie(E,{placement:"bottom","arrow-point-at-center":""},{title:Te(()=>[a("span",null,d(e.t("newAdd.poolWarning")),1)]),default:Te(()=>[e.poolInfo&&e.isSelfBuilt?(r(),v("div",Zr)):C("",!0)]),_:1})]),a("div",Gr,[ie(D,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:n[19]||(n[19]=i=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ie(D,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:n[20]||(n[20]=i=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),a("div",{class:pe(["pool-fee",e.edit?"pool-fee-edit":""])},[a("div",{class:"pool-fee-header",onClick:n[21]||(n[21]=i=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[a("span",{class:pe(e.inputValue?"":"fee-span")},d(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(r(),v("svg",Jr,Yr)):C("",!0)]),e.edit?(r(),v("div",xr,[e.getPoolInfoSuccess?(r(!0),v(To,{key:1},xo(e.feeTierList,(i,Uo)=>{var no;return r(),v("div",{key:Uo,class:pe(["fee-item",[e.inputValue&&e.inputValue==i.label?"fee-item-active":"",e.isCreatePool&&e.isCreatePool.length>0&&e.isCreatePool.includes(i.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:Go=>e.selectFee(i)},[e.$route.query.action=="create-pool"?(r(),v("div",os,[a("p",null,d(i.title),1),a("p",{class:pe(e.isCreatePool.includes(i.fee)?"text-default":"text-theme")},d(e.isCreatePool.includes(i.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(r(),v("div",ns,[a("p",{class:pe(e.isCreatePool.includes(i.fee)?"text-active":"text-default")},d(i.title),3),e.isCreatePool&&!e.isCreatePool.includes(i.fee)?(r(),v("p",ts,d(e.$t("newAdd.notCreated")),1)):C("",!0),e.isCreatePool&&e.isCreatePool.includes(i.fee)?(r(),v("p",as,d(e.poolTvl&&e.poolTvl[i.fee]&&((no=e.poolTvl[i.fee])==null?void 0:no.rateText)),1)):C("",!0)])),a("span",null,d(i.text),1)],10,es)}),128)):(r(),re(b,{key:0}))])):C("",!0)],2)]),a("div",is,[e.isShowMask?(r(),v("div",ls)):C("",!0),a("div",rs,[Ue(d((an=e.$route)!=null&&an.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(r(),re(E,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Te(()=>[a("span",null,d(e.$t("newAdd.selectRangeTips")),1)]),default:Te(()=>[ss]),_:1})):C("",!0)]),a("div",us,[!((Ro=(qo=e.$route)==null?void 0:qo.query)!=null&&Ro.action)&&e.poolInfo||($e=(ln=e.$route)==null?void 0:ln.query)!=null&&$e.action?(r(),v(To,{key:0},[(Vo=(Se=e.$route)==null?void 0:Se.query)!=null&&Vo.action&&!e.poolInfo?(r(),re(f,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):C("",!0),e.poolInfo?(r(),v("div",ds,[(r(!0),v(To,null,xo(e.currentPriceTabList,i=>(r(),v("div",{key:i,class:pe(["price-item",{"price-item-active":i.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Uo=>e.priceTab(i)},[ie(E,{placement:"bottom","arrow-point-at-center":""},{title:Te(()=>[a("span",null,d(e.getPirceText(i.key)),1)]),default:Te(()=>[Ue(" "+d(e.getPirceKey(i.key)),1)]),_:2},1024)],10,cs))),128))])):C("",!0),(rn=(Ko=e.$route)==null?void 0:Ko.query)!=null&&rn.action&&!e.poolInfo?(r(),v("div",vs,d(e.$t("newAdd.createPoolInitialText")),1)):C("",!0),!e.poolInfo&&((un=(sn=e.$route)==null?void 0:sn.query)!=null&&un.action)?(r(),v("div",ps,[a("div",null,d(e.$t("common.setPriceRange")),1),a("div",null,[a("div",{class:pe(["tab-item",e.isFullRange?"tab-item-active tab-item-farms-active":""]),onClick:n[22]||(n[22]=Tn(i=>e.clickFullRange(),["stop"]))},[a("div",ms,[e.isFullRange&&e.chainName=="Sui"?(r(),v("img",fs)):C("",!0)]),gs],2)])])):C("",!0),e.poolInfo||(lo=(dn=e.$route)==null?void 0:dn.query)!=null&&lo.action?(r(),v("div",{key:4,class:pe(["current-price",(ko=(bo=e.$route)==null?void 0:bo.query)!=null&&ko.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(r(),v("span",bs,d(e.$t("common.currentPrice")),1)):C("",!0),e.fromCoin&&e.toCoin&&e.direct?(r(),v("div",ks,[a("span",null,d(e.$t("common.currentPrice")),1),Ue(" "+d(("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(e.currentPrice,6)))+" "+d((Je=e.toCoin)==null?void 0:Je.symbol)+" per "+d((Eo=e.fromCoin)==null?void 0:Eo.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(r(),v("div",hs,[a("span",null,d(e.$t("common.currentPrice")),1),Ue(" "+d(("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(e.currentPriceReverse,6)))+" "+d((ho=e.toCoin)==null?void 0:ho.symbol)+" per "+d((Wo=e.fromCoin)==null?void 0:Wo.symbol),1)])):(r(),v("div",Cs,"0.0")),e.fromCoin&&e.toCoin?(r(),v("div",{key:4,class:pe(e.poolInfo&&((p=e.poolInfo)!=null&&p.needReverse)||e.createPoolInfo&&((Qe=e.createPoolInfo)!=null&&Qe.needReverse)?"toggle reverse":"toggle")},[a("div",{class:pe(e.direct?"item active-item":"item"),onClick:n[23]||(n[23]=i=>e.direct?"":e.toggle())},[to(a("img",ys,null,512),[[j,e.getCoinIcon(e.direct?e.fromCoin:e.toCoin)]]),Ue(" "+d(e.direct?($o=e.fromCoin)==null?void 0:$o.symbol:(A=e.toCoin)==null?void 0:A.symbol),1)],2),a("div",{class:pe(e.direct?"item ":"item active-item"),onClick:n[24]||(n[24]=i=>e.direct?e.toggle():"")},[to(a("img",ws,null,512),[[j,e.getCoinIcon(e.direct?e.toCoin:e.fromCoin)]]),Ue(" "+d(e.direct?(Co=e.toCoin)==null?void 0:Co.symbol:(ge=e.fromCoin)==null?void 0:ge.symbol),1)],2)],2)):C("",!0)],2)):C("",!0),e.poolInfo||(Do=(be=e.$route)==null?void 0:be.query)!=null&&Do.action?(r(),re(F,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):C("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(r(),v("div",Ps,[a("img",{src:("importIcon"in e?e.importIcon:te(De))("/image/icon-tips@2x.png"),alt:""},null,8,Is),a("p",$s,d(e.$t("tips.positionTips")),1)])):C("",!0),e.positionError&&(e.poolInfo||(je=(Ho=e.$route)==null?void 0:Ho.query)!=null&&je.action)?(r(),v("div",Ss,[a("img",{src:("importIcon"in e?e.importIcon:te(De))("/image/icon-tips-error@2x.png"),alt:""},null,8,Ts),a("p",Ns,d(e.$t("tips.positionError")),1)])):C("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(r(),v("div",As,[e.fromCoin&&e.toCoin&&e.poolInfo?(r(),re(y,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):C("",!0),e.chartLoading?(r(),re(b,{key:1})):C("",!0)])):C("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(r(),v("div",Ls,[qs,a("span",Rs,d(e.aprRewardsTime)+" Price Range",1),a("span",null,d(("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(e.before7dContractPriceLowest,6)))+" - "+d(("addCommom"in e?e.addCommom:te(_e))(("decimalUi"in e?e.decimalUi:te(Ne))(e.before7dContractPriceHighest,6))),1)])):C("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(r(),re(l,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):C("",!0),(so=(ro=e.$route)==null?void 0:ro.query)!=null&&so.action&&!e.poolInfo?(r(),v("div",Ms,d(e.$t("newAdd.createPoolText")),1)):C("",!0)],64)):(r(),v("div",Us,[e.storeIndex.theme=="default"?(r(),v("img",Os)):(r(),v("img",Bs)),a("p",null,d(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.isSelfBuilt?(r(),re(m,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):C("",!0)]),ie($,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:n[25]||(n[25]=i=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Te(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(r(),v("svg",_s,js)):C("",!0),a("span",null,d(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",Es,[ie(Oe)])]),a("div",Ws,[a("div",Ds,d(e.$t("newAdd.depositAmounts")),1),a("div",Hs,[a("div",zs,[ie(z,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":n[26]||(n[26]=i=>e.fromCoinAmount=i),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:n[27]||(n[27]=i=>e.maxBtnSelect("fromCoin")),onOnHalf:n[28]||(n[28]=i=>e.halfBtnSelect("fromCoin")),onOnInput:n[29]||(n[29]=i=>{e.fromCoinAmount=i,e.fixedFromCoin=!0}),onOnSelect:n[30]||(n[30]=i=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(r(),re(X,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),a("div",Xs,[ie(z,{modelValue:e.toCoinAmount,"onUpdate:modelValue":n[31]||(n[31]=i=>e.toCoinAmount=i),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:n[32]||(n[32]=i=>e.maxBtnSelect("toCoin")),onOnHalf:n[33]||(n[33]=i=>e.halfBtnSelect("toCoin")),onOnInput:n[34]||(n[34]=i=>{e.toCoinAmount=i,e.fixedFromCoin=!1}),onOnSelect:n[35]||(n[35]=i=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(r(),re(X,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):C("",!0)]),(Zo=(Mo=e.$route)==null?void 0:Mo.query)!=null&&Zo.action&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(r(),re(x,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(r(),v("img",{key:1,class:"add",src:it,alt:"",onClick:n[36]||(n[36]=(...i)=>e.toggle&&e.toggle(...i))})):C("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(r(),v("img",{key:2,class:"add",src:lt,alt:"",onClick:n[37]||(n[37]=(...i)=>e.toggle&&e.toggle(...i))})):C("",!0)]),e.poolInfo||e.createPoolInfo?(r(),re(ke,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):C("",!0)])])),ie($,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn h5-btn",onClick:n[38]||(n[38]=i=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Te(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")?(r(),v("svg",Vs,Zs)):C("",!0),a("span",null,d(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),a("div",Gs,[ie(Oe)]),e.showCoinSelect?(r(),re(U,{key:2,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,"is-create-pool-to-coin":e.isCreatePoolToCoin,"is-create-pool-from-coin":e.isCreatePoolFromCoin,onOnSelect:e.onCoinSelect,onOnClose:n[39]||(n[39]=i=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","is-create-pool-to-coin","is-create-pool-from-coin","onOnSelect"])):C("",!0),e.isViewDetail?(r(),re(G,{key:3,"pool-info":e.poolInfo,onOnClose:n[40]||(n[40]=i=>e.isViewDetail=!1)},null,8,["pool-info"])):C("",!0),e.isCreateSuccess?(r(),re(ye,{key:4,onOnClose:n[41]||(n[41]=i=>e.isCreateSuccess=!1)})):C("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(r(),re(Le,{key:5,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:n[42]||(n[42]=i=>e.isShowTokenWarning=!1)},null,8,["from-coin","to-coin","onClose"])):C("",!0),e.isShowLiquidityModal?(r(),re(ve,{key:6,"pool-info":e.poolInfo||e.createPoolInfo,title:e.$route.query.action=="create-pool"?e.$t("newAdd.preview"):e.$t("button.addLiquidity"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":e.currentPriceTab,"min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direct,"is-increase":!1,onCreatePool:e.toCreatePool,onToAdd:e.toAdd,onOnClose:n[43]||(n[43]=i=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","current-price-tab","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onCreatePool","onToAdd"])):C("",!0)])}const Au=vo(_l,[["render",Js],["__scopeId","data-v-db351047"]]);export{Au as default};
