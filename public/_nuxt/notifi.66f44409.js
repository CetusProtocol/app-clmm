import{a as T,f as g,r as f,w as d,i as A,o as N,j as w,A as S,P as k,k as C,x as i,y as s,B as h,v as l}from"./entry.7dbcdae4.js";import{u as y}from"./wallet.3fc4a512.js";import{u as P}from"./notifi.a6327443.js";import{u as V}from"./common.ce6f3df4.js";import"./index.b7569565.js";import"./v4.78edc15a.js";import"./index.59f7738f.js";const B=T({async setup(){const e=V(),u=g(()=>e),b=y(),p=g(()=>b),r=P(),a=g(()=>r),t=f(""),n=f(""),m=f(""),v=()=>{const o=p.value.currentWallet.publicAccount,c=o.address,G=o.publicKey;a.value.initNotifi(c,G)};return d(()=>[u.value.chainName,p.value.address],([o,c])=>{o==="Aptos"&&c&&v()},{immediate:!0}),d(()=>[a.value.targetGroups],o=>{},{immediate:!0}),d(()=>[a.value.sourceGroups],o=>{},{immediate:!0}),d(()=>[a.value.status],o=>{},{immediate:!0}),{email:t,phone:n,telegram:m,ensureTargetGroup:()=>{r.ensureTargetGroup({emailAddress:t.value,phoneNumber:n.value,telegramId:m.value})},initNotifi:v,login:()=>{r.login(p,{emailAddress:t.value,phoneNumber:n.value,telegramId:m.value})},subscribePosition:()=>{const o={pool_address:"03291111111111111111111111111111",position_index:"1"};r.subscribePosition(o,"03291111111111111111111111111111")},getTargetGroup:()=>{r.getTargetGroups()},getAlert:()=>{r.getAlerts()},getSources:()=>{r.getSources()},createSource:()=>{const o={pool_address:"03292222222222222222222222222222",position_index:"2"},c="03292222222222222222222222222222";r.createSource(o,c)},deleteSource:()=>{const o="7aa635d1057f48138d9c95cf9fce7c1f";r.deleteSource(o)}}}});function I(e,u,b,p,r,a){const t=h;return N(),w("div",null,[S(C("input",{"onUpdate:modelValue":u[0]||(u[0]=n=>e.email=n),placeholder:"pleace input email",type:"text"},null,512),[[k,e.email]]),S(C("input",{"onUpdate:modelValue":u[1]||(u[1]=n=>e.phone=n),placeholder:"pleace input phone",type:"text"},null,512),[[k,e.phone]]),S(C("input",{"onUpdate:modelValue":u[2]||(u[2]=n=>e.telegram=n),placeholder:"pleace input telegram",type:"text"},null,512),[[k,e.telegram]]),i(t,{onClick:e.initNotifi},{default:s(()=>[l("initNotifi")]),_:1},8,["onClick"]),i(t,{onClick:e.login},{default:s(()=>[l("login")]),_:1},8,["onClick"]),i(t,{onClick:e.ensureTargetGroup},{default:s(()=>[l("ensureTargetGroup")]),_:1},8,["onClick"]),i(t,{onClick:e.subscribePosition},{default:s(()=>[l("subscribe position")]),_:1},8,["onClick"]),i(t,{onClick:e.getTargetGroup},{default:s(()=>[l("getTargetGroup")]),_:1},8,["onClick"]),i(t,{onClick:e.getAlert},{default:s(()=>[l("getAlert")]),_:1},8,["onClick"]),i(t,{onClick:e.getSources},{default:s(()=>[l("getSources")]),_:1},8,["onClick"]),i(t,{onClick:e.createSource},{default:s(()=>[l("createSource")]),_:1},8,["onClick"]),i(t,{onClick:e.deleteSource},{default:s(()=>[l("deleteSource")]),_:1},8,["onClick"])])}const L=A(B,[["render",I]]);export{L as default};
