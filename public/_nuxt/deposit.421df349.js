import{_ as $a}from"./back.fe0c6fb1.js";import{_ as _a,a as Aa}from"./token-warning-modal.4cf3ab41.js";import{_ as Pa,a as Ia}from"./network-tips.0bc587f3.js";import{u as dt,_ as Zn}from"./index.222d0c10.js";import{u as nn,c as $t,D as O,a as go,f as xn,b as Ee,d as Ct,e as Ne,g as pn,n as Eo,t as Mo,h as jo,i as Sa,s as Kn,p as Oi,j as Bi}from"./pool.caea2355.js";import{a as ft,r as R,y as yo,C as Ta,m as ee,D as we,b as xo,e as mt,o as b,f as I,h as d,v as C,i as ye,z as Te,c as be,x as B,p as jt,k as Dt,q as Rn,t as rt,E as bo,j as He,w as Ae,u as ve,F as Ft,G as Cr,I as $r,S as _r,B as ko,H as Na,J as Fi,s as An,K as Ar,M as ei,L as ti,l as Pr}from"./entry.87554927.js";import{i as Xe}from"./import-icon.de3e6c66.js";import{_ as Ma,a as Ra}from"./coin-select.c3f1ee5a.js";import{_ as Ir,a as Sr,b as Ua}from"./add-liquidity.0caec9de.js";/* empty css              *//* empty css              *//* empty css              */import{_ as La}from"./apr-tab.cda1e328.js";import{_ as qa}from"./apr-tips.2cbe5c11.js";/* empty css              */import{p as Oa}from"./precision.9d58cda5.js";import{_ as Ba}from"./status-block.ae4cbdd9.js";import{_ as ni}from"./icon-arrow_2x.948aedb2.js";import{_ as oi}from"./icon-arrow_2x.4ffddb8e.js";import{_ as Tr}from"./coin-pair-name.affa60b1.js";import{u as Fa}from"./notifi.6dbd9e2b.js";/* empty css              */import"./icon-selected_3x.350736e2.js";import"./token-warning.ba9676ac.js";import"./img-no-Positions_2x.ed406d3e.js";/* empty css              */import"./index.24a0c1b8.js";const Ea=ft({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const n=R(!1),o=R(null),i=R(0),r=R(20),a=nn(),s=dt(),l=R(!1);yo(()=>{}),Ta(()=>{clearInterval(o.value)});const u=()=>{o.value=setInterval(()=>{var A;l.value||i.value<r.value&&(i.value+=1,i.value===r.value&&((A=e==null?void 0:e.poolInfo)!=null&&A.poolAddress&&a.updateCurrentPools(e.poolInfo.poolAddress,s.chainName),i.value=0))},1e3)},f=ee(()=>s.slippage),h=()=>{t.emit("clearAll")},g=()=>{i.value=0,t.emit("clickRefresh")};we(()=>e.poolInfo,A=>{A&&!o.value&&u()},{immediate:!0});const M=xo();return{clickRefresh:g,isShowSwapSetting:n,countdown:i,autoRefreshTime:r,slippage:f,clearAll:h,checkNullObj:$t,router:M}}});const ja=e=>(jt("data-v-f484e6e0"),e=e(),Dt(),e),Da={class:"title"},Ha={class:"left"},za=ja(()=>d("svg",{class:"icon","aria-hidden":"true"},[d("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Xa={class:"deposit-progress"};function Va(e,t,n,o,i,r){var l,u;const a=_a,s=Pa;return b(),I("div",Da,[d("div",Ha,[d("span",null,C(e.poolInfo?e.$t("common.concentratedLiquidity"):(u=(l=e.$route)==null?void 0:l.query)!=null&&u.action?e.$t("newAdd.createClmmPool"):e.$t("common.concentratedLiquidity")),1)]),d("div",{class:Te(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[d("div",{class:"slippage-icon",onClick:t[0]||(t[0]=f=>e.isShowSwapSetting=!0)},[za,d("span",null,C(e.slippage)+"%",1)]),d("div",Xa,[ye(a,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])],2),e.isShowSwapSetting?(b(),be(s,{key:0,onOnClose:t[1]||(t[1]=f=>e.isShowSwapSetting=!1)})):B("",!0)])}const Wa=mt(Ea,[["render",Va],["__scopeId","data-v-f484e6e0"]]);const Ka=ft({props:{coinIcon:{type:String,default:""},coin:{type:Object,default:()=>({})}},setup(e){const t=dt(),n=ee(()=>t),o=R(""),i=R(""),r=R(""),a=nn(),s=ee(()=>a);we(()=>[e.coin,s.value.tokensObj],([u,f])=>{var h;u?(i.value=f&&f[u.address]&&((h=f[u.address])==null?void 0:h.labels),o.value=u.name,r.value=u.symbol):(i.value="",o.value="",r.value="")},{immediate:!0,deep:!0});const l=ee(()=>{var u,f,h;return e.coinIcon||((h=(f=s==null?void 0:s.value)==null?void 0:f.tokensObj[(u=e.coin)==null?void 0:u.address])==null?void 0:h.logo_url)||(n.value.theme==="default"?Xe("/image/coins/unknown.png"):Xe("/image/coins/sui-unknown.png"))});return{store:n,importIcon:Xe,coinName:o,coinLabels:i,coinSymbol:r,currentIcon:l}}}),Ya=e=>(jt("data-v-1d5b1b83"),e=e(),Dt(),e),Ga={class:"coin-block"},Qa={class:"coin-info"},Ja={class:"symbol"},Za={key:0,class:"name"},xa=Ya(()=>d("div",null,[d("svg",{class:"icon","aria-hidden":"true"},[d("use",{"xlink:href":"#icon-icon_on"})])],-1));function es(e,t,n,o,i,r){const a=Rn("image");return b(),I("div",Ga,[d("div",null,[rt(d("img",null,null,512),[[a,e.currentIcon]]),d("div",Qa,[d("div",Ja,C(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinName?(b(),I("div",Za,C(e.coin.name)+" "+C(e.coinLabels?`(${e.coinLabels})`:""),1)):B("",!0)])]),xa])}const ts=mt(Ka,[["render",es],["__scopeId","data-v-1d5b1b83"]]),ns=ft({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})}},setup(){const e=dt();return{storeIndex:ee(()=>e)}}});const os={class:"unilateral"},is={key:0,src:Ir,alt:""},rs={key:1,src:Sr,alt:""},as={key:2};function ss(e,t,n,o,i,r){return b(),I("div",os,[d("div",null,[e.storeIndex.theme=="default"?(b(),I("img",is)):(b(),I("img",rs)),e.fromCoin&&e.toCoin&&e.poolInfo?(b(),I("p",as,C(e.$t("tips.marketprice")),1)):B("",!0)])])}const ls=mt(ns,[["render",ss],["__scopeId","data-v-d81a96c0"]]),us=ft({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})},showfromCoinLock:{type:Boolean,default:!1},showtoCoinLock:{type:Boolean,default:!1}},setup(){const e=dt();return{storeIndex:ee(()=>e)}}});const cs={class:"create-pool-lock"},ds={key:0,src:Ir,alt:""},fs={key:1,src:Sr,alt:""};function ms(e,t,n,o,i,r){return b(),I("div",cs,[d("div",null,[e.storeIndex.theme=="default"?(b(),I("img",ds)):(b(),I("img",fs))])])}const ps=mt(us,[["render",ms],["__scopeId","data-v-5d070e17"]]);O.config({precision:64,rounding:O.ROUND_DOWN,toExpNeg:-64,toExpPos:64});const vs=ft({props:{minPrice:{type:String,default:""},maxPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},slippage:{type:Number,default:0},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""}},setup(e){const t=R(""),n=R(""),o=dt(),i=ee(()=>o),r=nn(),a=ee(()=>r),s=ee(()=>i.value.chainName?go(i.value.chainName):{}),l=bo(),u=async()=>{var ae;if(!e.minPrice&&!e.maxPrice)return;const{TickUtil:g,TickMath:M,getNearestTickByTick:A}=s.value,le=e.poolInfo.token_a.decimals,m=e.poolInfo.token_b.decimals;let P,$,y,p,k,F,W,Q=1,ce=1;const J=e.poolInfo.current_tick_index;let T=a.value.poolPriceConfigObj&&a.value.poolPriceConfigObj[e.poolInfo.address]&&a.value.poolPriceConfigObj[e.poolInfo.address].recommend_ranges||{};if(e.poolInfo.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&e.poolInfo.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?W=!0:W=!1,e.minPrice==="0"&&e.maxPrice==="∞")y=g.getMinIndex(e.poolInfo.tickSpacing),p=g.getMaxIndex(e.poolInfo.tickSpacing);else if(e.currentPriceTab=="custom"||(ae=l==null?void 0:l.query)!=null&&ae.action){W?(P=Number(e.minPrice),$=Number(e.maxPrice)):(P=1/Number(e.maxPrice),$=1/Number(e.minPrice));try{k=M.priceToTickIndex(new O(P),le,m)}catch{k=-443636}try{F=M.priceToTickIndex(new O($),le,m)}catch{F=443636}P==0&&(k=-443636),y=A(k,Number(e.poolInfo.tickSpacing)),p=A(F,Number(e.poolInfo.tickSpacing))}else y=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].lower,p=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].upper;if(e.maxPrice==="∞"||J>y&&J<p){let ue;if(e.fixedFromCoin){const me=new O(1).mul(Math.pow(10,e.fromCoin.decimals)).toString();ue=new Ct(me)}else{const me=new O(1).mul(Math.pow(10,e.toCoin.decimals)).toString();ue=new Ct(me)}const{tokenMaxA:oe,tokenMaxB:ie}=await s.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:e.poolInfo.token_a,tokenB:e.poolInfo.token_b,lowerTick:y,upperTick:p,coinAmount:ue,iscoinA:W?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(e.slippage)/100,curSqrtPrice:new Ct(e.poolInfo.current_sqrt_price)});W?e.fixedFromCoin?ce=Number(ie)>0?ie:"":Q=Number(oe)>0?oe:"":e.fixedFromCoin?ce=oe:Q=ie}else J>=p?W?(ce=1,Q=0):(Q=1,ce=0):J<=y&&(W?(ce=0,Q=1):(ce=1,Q=0));const Z=Q?Number(Q):0,E=ce?Number(ce):0,Y=E+Number(W?Z*e.currentPrice:Z*e.currentPriceReverse),ke=((W?e.currentPrice*Z:e.currentPriceReverse*Z)/Y*100).toFixed(0),X=(E/Y*100).toFixed(0);t.value=ke,n.value=X};we(()=>[e.poolInfo,e.minPrice,e.maxPrice],([g,M,A])=>{M&&A&&g&&!$t(g)&&(M!=="0"||A!=="0")?u():(t.value="",n.value="")},{immediate:!0,deep:!0});let f={};we(()=>a.value.RATES,g=>{g&&(f=g)},{immediate:!0});const h=ee(()=>{const g=xn(Number(e.fromCoinAmount)*Number(f&&f[e.fromCoin.address]&&f[e.fromCoin.address].price),2),M=xn(Number(e.toCoinAmount)*Number(f&&f[e.toCoin.address]&&f[e.toCoin.address].price),2);return g!=="--"&&M!=="--"?Number(g)+Number(M):"--"});return{fromCoinRatio:t,toCoinRatio:n,totalAmount:h,fixD:xn,addCommom:Ee}}});const hs=e=>(jt("data-v-09e20536"),e=e(),Dt(),e),gs={class:"deposit-ratio"},ys={class:"lebal"},bs=hs(()=>d("svg",{class:"icon","aria-hidden":"true"},[d("use",{"xlink:href":"#icon-icon-information"})],-1)),ks={key:0,class:"text"},ws={key:1},Cs={key:0,class:"deposit-ratio totalAmount"},$s={class:"lebal"},_s={class:"text"};function As(e,t,n,o,i,r){const a=Cr;return b(),I(Ft,null,[d("div",gs,[d("div",ys,[He(C(e.$t("newAdd.depositRatio"))+" ",1),ye(a,{placement:"bottom","arrow-point-at-center":""},{title:Ae(()=>[d("span",null,C(e.$t("newAdd.depositRatioTips")),1)]),default:Ae(()=>[bs]),_:1})]),e.currentPriceTab!=="full range"?(b(),I("div",ks,C(e.fromCoinRatio!=="--"?e.fromCoinRatio+"%":"--")+" "+C(e.fromCoinRatio!=="--"?e.fromCoin&&e.fromCoin.symbol:"")+" / "+C(e.toCoinRatio!=="--"?e.toCoinRatio+"%":"--")+" "+C(e.toCoinRatio!=="--"?e.toCoin&&e.toCoin.symbol:""),1)):(b(),I("div",ws," 50% "+C(e.fromCoin&&e.fromCoin.symbol)+" / 50% "+C(e.toCoin&&e.toCoin.symbol),1))]),e.fromCoinAmount&&e.toCoinAmount&&e.totalAmount!==0&&e.totalAmount!=="--"?(b(),I("div",Cs,[d("div",$s,C(e.$t("newAdd.totalAmount")),1),d("div",_s,"$"+C(("addCommom"in e?e.addCommom:ve(Ee))(("fixD"in e?e.fixD:ve(xn))(e.totalAmount,2),2)),1)])):B("",!0)],64)}const Ps=mt(vs,[["render",As],["__scopeId","data-v-09e20536"]]),Is=ft({props:{clickClear:{type:Boolean,default:!1},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},intPrice:{type:String,default:""}},setup(e,t){const n=R("");return{inpValue:n,changecurrentPrice:i=>{const r=new RegExp("[^\\d-]*(\\d*(?:\\.\\d*)?).*$");i.target.value=i.target.value.replace(r,"$1"),n.value=i.target.value,t.emit("changecurrentPrice",n.value)}}}});const Ss={class:"set-init-price"},Ts={class:"init-price-tips"};function Ns(e,t,n,o,i,r){var s,l,u,f;const a=$r;return b(),I("div",Ss,[ye(a,{type:"text",placeholder:"0.0",value:e.intPrice,disabled:!((l=(s=e.$route)==null?void 0:s.query)!=null&&l.fee),onChange:e.changecurrentPrice},null,8,["value","disabled","onChange"]),d("div",Ts,C((u=e.toCoin)==null?void 0:u.symbol)+" per "+C((f=e.fromCoin)==null?void 0:f.symbol),1)])}const Ms=mt(Is,[["render",Ns],["__scopeId","data-v-9e71be9e"]]),Rs=-443636;function Ei(e,t){const n=Us(e),o=(n-Rs)%t;return o>t/2?n-o+t:n-o}const Nr=new O("1.0001");function Us(e){return e.log(Nr).toDP(0,O.ROUND_HALF_UP).toNumber()}function ji(e){return Nr.pow(e)}const Ls=ft({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,t){const n=R(""),o=R("");let i=R(""),r=R("");const a=bo(),s=dt(),l=ee(()=>s),u=ee(()=>l.value.chainName?go(l.value.chainName):{}),f=()=>{if(Number.isNaN(n.value)||Number(n.value)!==0&&!n.value||!e.poolInfo.tickSpacing)return;const m=Ei(new O(n.value.toString()),Number(A.value.tickSpacing)),P=ji(m+Number(A.value.tickSpacing));if(e.pType=="Min"&&Number(P.toString())>=Number(r.value.toString()))return;const $=P.toString();t.emit("onInput",$)},h=()=>{if(Number.isNaN(n.value)||!n.value||!e.poolInfo.tickSpacing)return;const m=Ei(new O(n.value),Number(A.value.tickSpacing)),P=ji(m-Number(A.value.tickSpacing)),$=P.toString();e.pType=="Max"&&Number(P)<=Number(i.value)||t.emit("onInput",$)},g=m=>{let P=m.toString().replace(/[^\d.]/g,"");const $=/^\d+(\.\d+)?$/;P.split(".").length>2&&!$.exec(P)&&(P=P.substr(0,P.length-1)),o.value=String(P)},M=m=>{var W,Q,ce,J;const{TickUtil:P,TickMath:$,getNearestTickByTick:y}=u.value,p=m.target.value;let k;if(p==="0"){k=-443636,t.emit("onInput","0");return}else{const T=$.priceToTickIndex(new O(p),(W=A.value.token_a)==null?void 0:W.decimals,(Q=A.value.token_b)==null?void 0:Q.decimals);k=y(Number(T),Number(A.value.tickSpacing))}const F=$.tickIndexToPrice(new O(k),(ce=A.value.token_a)==null?void 0:ce.decimals,(J=A.value.token_b)==null?void 0:J.decimals);t.emit("onInput",F.toString())};we(()=>e.defaultMinPrice,(m,P)=>{m!==P&&(i.value=e.defaultMinPrice)},{immediate:!0}),we(()=>e.defaultMaxPrice,(m,P)=>{m!==P&&(r.value=e.defaultMaxPrice)},{immediate:!0}),we(()=>o.value,m=>{},{immediate:!0}),we(()=>[e.inputValue,a.query.action],([m])=>{if(m&&m!=="0"&&m!=="∞"){n.value=m;const $=m.toString().split(".")[1];o.value=m!=="0"&&m!=="∞"&&$&&$.length>6?Ne(m.toString(),6):m.toString()}else(m=="0"||m=="∞"||a.query.action)&&(o.value=m)},{immediate:!0});const A=R({});we(()=>e.poolInfo,(m,P)=>{m&&(A.value=m)},{immediate:!0});const le=R("");return we(()=>e.currentPriceTab,m=>{le.value=m},{immediate:!0}),{addPrice:f,minusPrice:h,oValue:o,changeValue:g,isDisabled:le,route:a,onBlur:M}}});const qs={class:"set-price-item"},Os={class:"title"},Bs={class:"input-box"},Fs={class:"minus-btn"},Es=["disabled"],js={class:"plus-btn"};function Ds(e,t,n,o,i,r){const a=$r,s=_r;return b(),I("div",qs,[d("div",Os,C(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),ye(s,{loading:e.loading,active:"",paragraph:!1},{default:Ae(()=>[d("div",Bs,[d("a",Fs,[d("div",{class:Te(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),disabled:e.isDisabled!=="Custom",onClick:t[0]||(t[0]=(...l)=>e.minusPrice&&e.minusPrice(...l))},null,10,Es)]),ye(a,{id:"pValu",value:e.oValue,"onUpdate:value":t[1]||(t[1]=l=>e.oValue=l),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:t[2]||(t[2]=l=>e.changeValue(l.target.value)),onBlur:t[3]||(t[3]=l=>e.onBlur(l))},null,8,["value","disabled"]),d("a",js,[d("div",{class:Te(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:t[4]||(t[4]=(...l)=>e.addPrice&&e.addPrice(...l))},null,2)])])]),_:1},8,["loading"]),d("p",{class:Te(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},C(e.toCoin&&e.toCoin.symbol)+" per "+C(e.fromCoin&&e.fromCoin.symbol),3)])}const Di=mt(Ls,[["render",Ds],["__scopeId","data-v-b9504efe"]]),Hs=ft({props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,t){let n=R(""),o=R(""),i=R(),r=R(!1),a=R(!1);const s=R({}),l=dt(),u=ee(()=>l);yo(()=>{n.value=e.min,o.value=e.max}),we(()=>e.currentPriceTab,(m,P)=>{m!==P&&(i.value=e.currentPriceTab)},{immediate:!0}),we(()=>e.min,(m,P)=>{m!==P&&(n.value=m)}),we(()=>e.max,(m,P)=>{m!==P&&(o.value=m)}),we(()=>e.poolInfo,(m,P)=>{m&&(s.value=m)},{immediate:!0});const f=R("");we(()=>e.intPrice,m=>{f.value=m},{immediate:!0,deep:!0});const h=m=>{n.value=m,t.emit("onChangeMinPrice",m)},g=m=>{o.value=m,t.emit("onChangeMaxPrice",m)};we(r,(m,P)=>{m!==P&&t.emit("onChangeFullRange",m)});const M=()=>{n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice,a.value=!1,r.value=!1},A=()=>{a.value=!1,n.value="0",o.value="∞"};return we(r,(m,P)=>{m!==P&&t.emit("onChangeFullRange",m)}),{store:u,changeMinPrice:h,changeMaxPrice:g,importIcon:Xe,resetPrice:M,changeShowUnderStand:()=>{r.value=!r.value,r.value?a.value=!0:M(),a.value||(n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice)},showUnderStand:a,minPrice:n,maxPrice:o,understand:A,isRadio:r,initPirce:f}}});const zs={class:"set-price"},Xs={class:"card-container"},Vs={key:0,class:"card"},Ws=["src"],Ks={key:1,class:"understand"},Ys={class:"left"},Gs={class:"right"};function Qs(e,t,n,o,i,r){const a=Di,s=Di,l=ko;return b(),I("div",zs,[d("div",Xs,[e.showUnderStand?(b(),I("div",Ks,[d("div",Ys,[d("p",null,C(e.$t("common.lowerEfficiency")),1),d("p",null,C(e.$t("common.lowerEfficiencyTips")),1)]),d("div",Gs,[ye(l,{onClick:e.understand},{default:Ae(()=>[He(C(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(b(),I("div",Vs,[ye(a,{value:e.minPrice,"onUpdate:value":t[0]||(t[0]=u=>e.minPrice=u),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),ye(s,{value:e.maxPrice,"onUpdate:value":t[1]||(t[1]=u=>e.maxPrice=u),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"]),d("img",{src:("importIcon"in e?e.importIcon:ve(Xe))("/image/lmg-line@2x.png"),alt:""},null,8,Ws)]))])])}const Js=mt(Hs,[["render",Qs],["__scopeId","data-v-d07618c3"]]);function eo(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zs(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Mr(e){let t,n,o;e.length!==2?(t=eo,n=(s,l)=>eo(e(s),l),o=(s,l)=>e(s)-l):(t=e===eo||e===Zs?e:xs,n=e,o=e);function i(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{const h=u+f>>>1;n(s[h],l)<0?u=h+1:f=h}while(u<f)}return u}function r(s,l,u=0,f=s.length){if(u<f){if(t(l,l)!==0)return f;do{const h=u+f>>>1;n(s[h],l)<=0?u=h+1:f=h}while(u<f)}return u}function a(s,l,u=0,f=s.length){const h=i(s,l,u,f-1);return h>u&&o(s[h-1],l)>-o(s[h],l)?h-1:h}return{left:i,center:a,right:r}}function xs(){return 0}function el(e){return e===null?NaN:+e}const tl=Mr(eo),nl=tl.right;Mr(el).center;const ol=nl;class Hi extends Map{constructor(t,n=al){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[o,i]of t)this.set(o,i)}get(t){return super.get(zi(this,t))}has(t){return super.has(zi(this,t))}set(t,n){return super.set(il(this,t),n)}delete(t){return super.delete(rl(this,t))}}function zi({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):n}function il({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):(e.set(o,n),n)}function rl({_intern:e,_key:t},n){const o=t(n);return e.has(o)&&(n=e.get(o),e.delete(o)),n}function al(e){return e!==null&&typeof e=="object"?e.valueOf():e}const sl=Math.sqrt(50),ll=Math.sqrt(10),ul=Math.sqrt(2);function ro(e,t,n){const o=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),a=r>=sl?10:r>=ll?5:r>=ul?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/a,s=Math.round(e*u),l=Math.round(t*u),s/u<e&&++s,l/u>t&&--l,u=-u):(u=Math.pow(10,i)*a,s=Math.round(e/u),l=Math.round(t/u),s*u<e&&++s,l*u>t&&--l),l<s&&.5<=n&&n<2?ro(e,t,n*2):[s,l,u]}function cl(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const o=t<e,[i,r,a]=o?ro(t,e,n):ro(e,t,n);if(!(r>=i))return[];const s=r-i+1,l=new Array(s);if(o)if(a<0)for(let u=0;u<s;++u)l[u]=(r-u)/-a;else for(let u=0;u<s;++u)l[u]=(r-u)*a;else if(a<0)for(let u=0;u<s;++u)l[u]=(i+u)/-a;else for(let u=0;u<s;++u)l[u]=(i+u)*a;return l}function Do(e,t,n){return t=+t,e=+e,n=+n,ro(e,t,n)[2]}function dl(e,t,n){t=+t,e=+e,n=+n;const o=t<e,i=o?Do(t,e,n):Do(e,t,n);return(o?-1:1)*(i<0?1/-i:i)}function fl(e,t){let n;if(t===void 0)for(const o of e)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ml(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var o=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(i);++o<i;)r[o]=e+o*n;return r}var pl={value:()=>{}};function ii(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new to(n)}function to(e){this._=e}function vl(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}to.prototype=ii.prototype={constructor:to,on:function(e,t){var n=this._,o=vl(e+"",n),i,r=-1,a=o.length;if(arguments.length<2){for(;++r<a;)if((i=(e=o[r]).type)&&(i=hl(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<a;)if(i=(e=o[r]).type)n[i]=Xi(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Xi(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new to(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};function hl(e,t){for(var n=0,o=e.length,i;n<o;++n)if((i=e[n]).name===t)return i.value}function Xi(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=pl,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var Ho="http://www.w3.org/1999/xhtml";const Vi={svg:"http://www.w3.org/2000/svg",xhtml:Ho,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wo(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),Vi.hasOwnProperty(t)?{space:Vi[t],local:e}:e}function gl(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===Ho&&t.documentElement.namespaceURI===Ho?t.createElement(e):t.createElementNS(n,e)}}function yl(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Rr(e){var t=wo(e);return(t.local?yl:gl)(t)}function bl(){}function ri(e){return e==null?bl:function(){return this.querySelector(e)}}function kl(e){typeof e!="function"&&(e=ri(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,s=o[i]=new Array(a),l,u,f=0;f<a;++f)(l=r[f])&&(u=e.call(l,l.__data__,f,r))&&("__data__"in l&&(u.__data__=l.__data__),s[f]=u);return new ht(o,this._parents)}function wl(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Cl(){return[]}function Ur(e){return e==null?Cl:function(){return this.querySelectorAll(e)}}function $l(e){return function(){return wl(e.apply(this,arguments))}}function _l(e){typeof e=="function"?e=$l(e):e=Ur(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var a=t[r],s=a.length,l,u=0;u<s;++u)(l=a[u])&&(o.push(e.call(l,l.__data__,u,a)),i.push(l));return new ht(o,i)}function Lr(e){return function(){return this.matches(e)}}function qr(e){return function(t){return t.matches(e)}}var Al=Array.prototype.find;function Pl(e){return function(){return Al.call(this.children,e)}}function Il(){return this.firstElementChild}function Sl(e){return this.select(e==null?Il:Pl(typeof e=="function"?e:qr(e)))}var Tl=Array.prototype.filter;function Nl(){return Array.from(this.children)}function Ml(e){return function(){return Tl.call(this.children,e)}}function Rl(e){return this.selectAll(e==null?Nl:Ml(typeof e=="function"?e:qr(e)))}function Ul(e){typeof e!="function"&&(e=Lr(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,s=o[i]=[],l,u=0;u<a;++u)(l=r[u])&&e.call(l,l.__data__,u,r)&&s.push(l);return new ht(o,this._parents)}function Or(e){return new Array(e.length)}function Ll(){return new ht(this._enter||this._groups.map(Or),this._parents)}function ao(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}ao.prototype={constructor:ao,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function ql(e){return function(){return e}}function Ol(e,t,n,o,i,r){for(var a=0,s,l=t.length,u=r.length;a<u;++a)(s=t[a])?(s.__data__=r[a],o[a]=s):n[a]=new ao(e,r[a]);for(;a<l;++a)(s=t[a])&&(i[a]=s)}function Bl(e,t,n,o,i,r,a){var s,l,u=new Map,f=t.length,h=r.length,g=new Array(f),M;for(s=0;s<f;++s)(l=t[s])&&(g[s]=M=a.call(l,l.__data__,s,t)+"",u.has(M)?i[s]=l:u.set(M,l));for(s=0;s<h;++s)M=a.call(e,r[s],s,r)+"",(l=u.get(M))?(o[s]=l,l.__data__=r[s],u.delete(M)):n[s]=new ao(e,r[s]);for(s=0;s<f;++s)(l=t[s])&&u.get(g[s])===l&&(i[s]=l)}function Fl(e){return e.__data__}function El(e,t){if(!arguments.length)return Array.from(this,Fl);var n=t?Bl:Ol,o=this._parents,i=this._groups;typeof e!="function"&&(e=ql(e));for(var r=i.length,a=new Array(r),s=new Array(r),l=new Array(r),u=0;u<r;++u){var f=o[u],h=i[u],g=h.length,M=jl(e.call(f,f&&f.__data__,u,o)),A=M.length,le=s[u]=new Array(A),m=a[u]=new Array(A),P=l[u]=new Array(g);n(f,h,le,m,P,M,t);for(var $=0,y=0,p,k;$<A;++$)if(p=le[$]){for($>=y&&(y=$+1);!(k=m[y])&&++y<A;);p._next=k||null}}return a=new ht(a,o),a._enter=s,a._exit=l,a}function jl(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Dl(){return new ht(this._exit||this._groups.map(Or),this._parents)}function Hl(e,t,n){var o=this.enter(),i=this,r=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function zl(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,a=Math.min(i,r),s=new Array(i),l=0;l<a;++l)for(var u=n[l],f=o[l],h=u.length,g=s[l]=new Array(h),M,A=0;A<h;++A)(M=u[A]||f[A])&&(g[A]=M);for(;l<i;++l)s[l]=n[l];return new ht(s,this._parents)}function Xl(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],i=o.length-1,r=o[i],a;--i>=0;)(a=o[i])&&(r&&a.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(a,r),r=a);return this}function Vl(e){e||(e=Wl);function t(h,g){return h&&g?e(h.__data__,g.__data__):!h-!g}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a=n[r],s=a.length,l=i[r]=new Array(s),u,f=0;f<s;++f)(u=a[f])&&(l[f]=u);l.sort(t)}return new ht(i,this._parents).order()}function Wl(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Kl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Yl(){return Array.from(this)}function Gl(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null}function Ql(){let e=0;for(const t of this)++e;return e}function Jl(){return!this.node()}function Zl(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i=t[n],r=0,a=i.length,s;r<a;++r)(s=i[r])&&e.call(s,s.__data__,r,i);return this}function xl(e){return function(){this.removeAttribute(e)}}function eu(e){return function(){this.removeAttributeNS(e.space,e.local)}}function tu(e,t){return function(){this.setAttribute(e,t)}}function nu(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ou(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function iu(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ru(e,t){var n=wo(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?eu:xl:typeof t=="function"?n.local?iu:ou:n.local?nu:tu)(n,t))}function Br(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function au(e){return function(){this.style.removeProperty(e)}}function su(e,t,n){return function(){this.style.setProperty(e,t,n)}}function lu(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function uu(e,t,n){return arguments.length>1?this.each((t==null?au:typeof t=="function"?lu:su)(e,t,n??"")):vn(this.node(),e)}function vn(e,t){return e.style.getPropertyValue(t)||Br(e).getComputedStyle(e,null).getPropertyValue(t)}function cu(e){return function(){delete this[e]}}function du(e,t){return function(){this[e]=t}}function fu(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function mu(e,t){return arguments.length>1?this.each((t==null?cu:typeof t=="function"?fu:du)(e,t)):this.node()[e]}function Fr(e){return e.trim().split(/^|\s+/)}function ai(e){return e.classList||new Er(e)}function Er(e){this._node=e,this._names=Fr(e.getAttribute("class")||"")}Er.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function jr(e,t){for(var n=ai(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function Dr(e,t){for(var n=ai(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function pu(e){return function(){jr(this,e)}}function vu(e){return function(){Dr(this,e)}}function hu(e,t){return function(){(t.apply(this,arguments)?jr:Dr)(this,e)}}function gu(e,t){var n=Fr(e+"");if(arguments.length<2){for(var o=ai(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?hu:t?pu:vu)(n,t))}function yu(){this.textContent=""}function bu(e){return function(){this.textContent=e}}function ku(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function wu(e){return arguments.length?this.each(e==null?yu:(typeof e=="function"?ku:bu)(e)):this.node().textContent}function Cu(){this.innerHTML=""}function $u(e){return function(){this.innerHTML=e}}function _u(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Au(e){return arguments.length?this.each(e==null?Cu:(typeof e=="function"?_u:$u)(e)):this.node().innerHTML}function Pu(){this.nextSibling&&this.parentNode.appendChild(this)}function Iu(){return this.each(Pu)}function Su(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Tu(){return this.each(Su)}function Nu(e){var t=typeof e=="function"?e:Rr(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Mu(){return null}function Ru(e,t){var n=typeof e=="function"?e:Rr(e),o=t==null?Mu:typeof t=="function"?t:ri(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Uu(){var e=this.parentNode;e&&e.removeChild(this)}function Lu(){return this.each(Uu)}function qu(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ou(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Bu(e){return this.select(e?Ou:qu)}function Fu(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Eu(e){return function(t){e.call(this,t,this.__data__)}}function ju(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Du(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,i=t.length,r;n<i;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++o]=r;++o?t.length=o:delete this.__on}}}function Hu(e,t,n){return function(){var o=this.__on,i,r=Eu(t);if(o){for(var a=0,s=o.length;a<s;++a)if((i=o[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=t;return}}this.addEventListener(e.type,r,n),i={type:e.type,name:e.name,value:t,listener:r,options:n},o?o.push(i):this.__on=[i]}}function zu(e,t,n){var o=ju(e+""),i,r=o.length,a;if(arguments.length<2){var s=this.node().__on;if(s){for(var l=0,u=s.length,f;l<u;++l)for(i=0,f=s[l];i<r;++i)if((a=o[i]).type===f.type&&a.name===f.name)return f.value}return}for(s=t?Hu:Du,i=0;i<r;++i)this.each(s(o[i],t,n));return this}function Hr(e,t,n){var o=Br(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Xu(e,t){return function(){return Hr(this,e,t)}}function Vu(e,t){return function(){return Hr(this,e,t.apply(this,arguments))}}function Wu(e,t){return this.each((typeof t=="function"?Vu:Xu)(e,t))}function*Ku(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length,a;i<r;++i)(a=o[i])&&(yield a)}var zr=[null];function ht(e,t){this._groups=e,this._parents=t}function Un(){return new ht([[document.documentElement]],zr)}function Yu(){return this}ht.prototype=Un.prototype={constructor:ht,select:kl,selectAll:_l,selectChild:Sl,selectChildren:Rl,filter:Ul,data:El,enter:Ll,exit:Dl,join:Hl,merge:zl,selection:Yu,order:Xl,sort:Vl,call:Kl,nodes:Yl,node:Gl,size:Ql,empty:Jl,each:Zl,attr:ru,style:uu,property:mu,classed:gu,text:wu,html:Au,raise:Iu,lower:Tu,append:Nu,insert:Ru,remove:Lu,clone:Bu,datum:Fu,on:zu,dispatch:Wu,[Symbol.iterator]:Ku};function At(e){return typeof e=="string"?new ht([[document.querySelector(e)]],[document.documentElement]):new ht([[e]],zr)}function Gu(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Wi(e,t){if(e=Gu(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const zo={capture:!0,passive:!1};function Xo(e){e.preventDefault(),e.stopImmediatePropagation()}function Qu(e){var t=e.document.documentElement,n=At(e).on("dragstart.drag",Xo,zo);"onselectstart"in t?n.on("selectstart.drag",Xo,zo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function Ju(e,t){var n=e.document.documentElement,o=At(e).on("dragstart.drag",null);t&&(o.on("click.drag",Xo,zo),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function si(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Xr(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function Ln(){}var Tn=.7,so=1/Tn,mn="\\s*([+-]?\\d+)\\s*",Nn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Tt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Zu=/^#([0-9a-f]{3,8})$/,xu=new RegExp(`^rgb\\(${mn},${mn},${mn}\\)$`),ec=new RegExp(`^rgb\\(${Tt},${Tt},${Tt}\\)$`),tc=new RegExp(`^rgba\\(${mn},${mn},${mn},${Nn}\\)$`),nc=new RegExp(`^rgba\\(${Tt},${Tt},${Tt},${Nn}\\)$`),oc=new RegExp(`^hsl\\(${Nn},${Tt},${Tt}\\)$`),ic=new RegExp(`^hsla\\(${Nn},${Tt},${Tt},${Nn}\\)$`),Ki={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};si(Ln,en,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Yi,formatHex:Yi,formatHex8:rc,formatHsl:ac,formatRgb:Gi,toString:Gi});function Yi(){return this.rgb().formatHex()}function rc(){return this.rgb().formatHex8()}function ac(){return Vr(this).formatHsl()}function Gi(){return this.rgb().formatRgb()}function en(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=Zu.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Qi(t):n===3?new ct(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Yn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Yn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=xu.exec(e))?new ct(t[1],t[2],t[3],1):(t=ec.exec(e))?new ct(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=tc.exec(e))?Yn(t[1],t[2],t[3],t[4]):(t=nc.exec(e))?Yn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=oc.exec(e))?xi(t[1],t[2]/100,t[3]/100,1):(t=ic.exec(e))?xi(t[1],t[2]/100,t[3]/100,t[4]):Ki.hasOwnProperty(e)?Qi(Ki[e]):e==="transparent"?new ct(NaN,NaN,NaN,0):null}function Qi(e){return new ct(e>>16&255,e>>8&255,e&255,1)}function Yn(e,t,n,o){return o<=0&&(e=t=n=NaN),new ct(e,t,n,o)}function sc(e){return e instanceof Ln||(e=en(e)),e?(e=e.rgb(),new ct(e.r,e.g,e.b,e.opacity)):new ct}function Vo(e,t,n,o){return arguments.length===1?sc(e):new ct(e,t,n,o??1)}function ct(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}si(ct,Vo,Xr(Ln,{brighter(e){return e=e==null?so:Math.pow(so,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Tn:Math.pow(Tn,e),new ct(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new ct(xt(this.r),xt(this.g),xt(this.b),lo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ji,formatHex:Ji,formatHex8:lc,formatRgb:Zi,toString:Zi}));function Ji(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}`}function lc(){return`#${Zt(this.r)}${Zt(this.g)}${Zt(this.b)}${Zt((isNaN(this.opacity)?1:this.opacity)*255)}`}function Zi(){const e=lo(this.opacity);return`${e===1?"rgb(":"rgba("}${xt(this.r)}, ${xt(this.g)}, ${xt(this.b)}${e===1?")":`, ${e})`}`}function lo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function xt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Zt(e){return e=xt(e),(e<16?"0":"")+e.toString(16)}function xi(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Pt(e,t,n,o)}function Vr(e){if(e instanceof Pt)return new Pt(e.h,e.s,e.l,e.opacity);if(e instanceof Ln||(e=en(e)),!e)return new Pt;if(e instanceof Pt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),a=NaN,s=r-i,l=(r+i)/2;return s?(t===r?a=(n-o)/s+(n<o)*6:n===r?a=(o-t)/s+2:a=(t-n)/s+4,s/=l<.5?r+i:2-r-i,a*=60):s=l>0&&l<1?0:a,new Pt(a,s,l,e.opacity)}function uc(e,t,n,o){return arguments.length===1?Vr(e):new Pt(e,t,n,o??1)}function Pt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}si(Pt,uc,Xr(Ln,{brighter(e){return e=e==null?so:Math.pow(so,e),new Pt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Tn:Math.pow(Tn,e),new Pt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new ct(Ro(e>=240?e-240:e+120,i,o),Ro(e,i,o),Ro(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new Pt(er(this.h),Gn(this.s),Gn(this.l),lo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=lo(this.opacity);return`${e===1?"hsl(":"hsla("}${er(this.h)}, ${Gn(this.s)*100}%, ${Gn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function er(e){return e=(e||0)%360,e<0?e+360:e}function Gn(e){return Math.max(0,Math.min(1,e||0))}function Ro(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const li=e=>()=>e;function cc(e,t){return function(n){return e+n*t}}function dc(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function fc(e){return(e=+e)==1?Wr:function(t,n){return n-t?dc(t,n,e):li(isNaN(t)?n:t)}}function Wr(e,t){var n=t-e;return n?cc(e,n):li(isNaN(e)?t:e)}const uo=function e(t){var n=fc(t);function o(i,r){var a=n((i=Vo(i)).r,(r=Vo(r)).r),s=n(i.g,r.g),l=n(i.b,r.b),u=Wr(i.opacity,r.opacity);return function(f){return i.r=a(f),i.g=s(f),i.b=l(f),i.opacity=u(f),i+""}}return o.gamma=e,o}(1);function mc(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=e[i]*(1-r)+t[i]*r;return o}}function pc(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function vc(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,i=new Array(o),r=new Array(n),a;for(a=0;a<o;++a)i[a]=Co(e[a],t[a]);for(;a<n;++a)r[a]=t[a];return function(s){for(a=0;a<o;++a)r[a]=i[a](s);return r}}function hc(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function _t(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function gc(e,t){var n={},o={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Co(e[i],t[i]):o[i]=t[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var Wo=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Uo=new RegExp(Wo.source,"g");function yc(e){return function(){return e}}function bc(e){return function(t){return e(t)+""}}function Kr(e,t){var n=Wo.lastIndex=Uo.lastIndex=0,o,i,r,a=-1,s=[],l=[];for(e=e+"",t=t+"";(o=Wo.exec(e))&&(i=Uo.exec(t));)(r=i.index)>n&&(r=t.slice(n,r),s[a]?s[a]+=r:s[++a]=r),(o=o[0])===(i=i[0])?s[a]?s[a]+=i:s[++a]=i:(s[++a]=null,l.push({i:a,x:_t(o,i)})),n=Uo.lastIndex;return n<t.length&&(r=t.slice(n),s[a]?s[a]+=r:s[++a]=r),s.length<2?l[0]?bc(l[0].x):yc(t):(t=l.length,function(u){for(var f=0,h;f<t;++f)s[(h=l[f]).i]=h.x(u);return s.join("")})}function Co(e,t){var n=typeof t,o;return t==null||n==="boolean"?li(t):(n==="number"?_t:n==="string"?(o=en(t))?(t=o,uo):Kr:t instanceof en?uo:t instanceof Date?hc:pc(t)?mc:Array.isArray(t)?vc:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?gc:_t)(e,t)}function kc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var tr=180/Math.PI,Ko={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Yr(e,t,n,o,i,r){var a,s,l;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(l=e*n+t*o)&&(n-=e*l,o-=t*l),(s=Math.sqrt(n*n+o*o))&&(n/=s,o/=s,l/=s),e*o<t*n&&(e=-e,t=-t,l=-l,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*tr,skewX:Math.atan(l)*tr,scaleX:a,scaleY:s}}var Qn;function wc(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ko:Yr(t.a,t.b,t.c,t.d,t.e,t.f)}function Cc(e){return e==null||(Qn||(Qn=document.createElementNS("http://www.w3.org/2000/svg","g")),Qn.setAttribute("transform",e),!(e=Qn.transform.baseVal.consolidate()))?Ko:(e=e.matrix,Yr(e.a,e.b,e.c,e.d,e.e,e.f))}function Gr(e,t,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,h,g,M,A){if(u!==h||f!==g){var le=M.push("translate(",null,t,null,n);A.push({i:le-4,x:_t(u,h)},{i:le-2,x:_t(f,g)})}else(h||g)&&M.push("translate("+h+t+g+n)}function a(u,f,h,g){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),g.push({i:h.push(i(h)+"rotate(",null,o)-2,x:_t(u,f)})):f&&h.push(i(h)+"rotate("+f+o)}function s(u,f,h,g){u!==f?g.push({i:h.push(i(h)+"skewX(",null,o)-2,x:_t(u,f)}):f&&h.push(i(h)+"skewX("+f+o)}function l(u,f,h,g,M,A){if(u!==h||f!==g){var le=M.push(i(M)+"scale(",null,",",null,")");A.push({i:le-4,x:_t(u,h)},{i:le-2,x:_t(f,g)})}else(h!==1||g!==1)&&M.push(i(M)+"scale("+h+","+g+")")}return function(u,f){var h=[],g=[];return u=e(u),f=e(f),r(u.translateX,u.translateY,f.translateX,f.translateY,h,g),a(u.rotate,f.rotate,h,g),s(u.skewX,f.skewX,h,g),l(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,g),u=f=null,function(M){for(var A=-1,le=g.length,m;++A<le;)h[(m=g[A]).i]=m.x(M);return h.join("")}}}var $c=Gr(wc,"px, ","px)","deg)"),_c=Gr(Cc,", ",")",")"),hn=0,Pn=0,_n=0,Qr=1e3,co,In,fo=0,tn=0,$o=0,Mn=typeof performance=="object"&&performance.now?performance:Date,Jr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ui(){return tn||(Jr(Ac),tn=Mn.now()+$o)}function Ac(){tn=0}function mo(){this._call=this._time=this._next=null}mo.prototype=Zr.prototype={constructor:mo,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ui():+n)+(t==null?0:+t),!this._next&&In!==this&&(In?In._next=this:co=this,In=this),this._call=e,this._time=n,Yo()},stop:function(){this._call&&(this._call=null,this._time=1/0,Yo())}};function Zr(e,t,n){var o=new mo;return o.restart(e,t,n),o}function Pc(){ui(),++hn;for(var e=co,t;e;)(t=tn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--hn}function nr(){tn=(fo=Mn.now())+$o,hn=Pn=0;try{Pc()}finally{hn=0,Sc(),tn=0}}function Ic(){var e=Mn.now(),t=e-fo;t>Qr&&($o-=t,fo=e)}function Sc(){for(var e,t=co,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:co=n);In=e,Yo(o)}function Yo(e){if(!hn){Pn&&(Pn=clearTimeout(Pn));var t=e-tn;t>24?(e<1/0&&(Pn=setTimeout(nr,e-Mn.now()-$o)),_n&&(_n=clearInterval(_n))):(_n||(fo=Mn.now(),_n=setInterval(Ic,Qr)),hn=1,Jr(nr))}}function or(e,t,n){var o=new mo;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}var Tc=ii("start","end","cancel","interrupt"),Nc=[],xr=0,ir=1,Go=2,no=3,rr=4,Qo=5,oo=6;function _o(e,t,n,o,i,r){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Mc(e,n,{name:t,index:o,group:i,on:Tc,tween:Nc,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:xr})}function ci(e,t){var n=It(e,t);if(n.state>xr)throw new Error("too late; already scheduled");return n}function Nt(e,t){var n=It(e,t);if(n.state>no)throw new Error("too late; already running");return n}function It(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Mc(e,t,n){var o=e.__transition,i;o[t]=n,n.timer=Zr(r,0,n.time);function r(u){n.state=ir,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,h,g,M;if(n.state!==ir)return l();for(f in o)if(M=o[f],M.name===n.name){if(M.state===no)return or(a);M.state===rr?(M.state=oo,M.timer.stop(),M.on.call("interrupt",e,e.__data__,M.index,M.group),delete o[f]):+f<t&&(M.state=oo,M.timer.stop(),M.on.call("cancel",e,e.__data__,M.index,M.group),delete o[f])}if(or(function(){n.state===no&&(n.state=rr,n.timer.restart(s,n.delay,n.time),s(u))}),n.state=Go,n.on.call("start",e,e.__data__,n.index,n.group),n.state===Go){for(n.state=no,i=new Array(g=n.tween.length),f=0,h=-1;f<g;++f)(M=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=M);i.length=h+1}}function s(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(l),n.state=Qo,1),h=-1,g=i.length;++h<g;)i[h].call(e,f);n.state===Qo&&(n.on.call("end",e,e.__data__,n.index,n.group),l())}function l(){n.state=oo,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function Jo(e,t){var n=e.__transition,o,i,r=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){r=!1;continue}i=o.state>Go&&o.state<Qo,o.state=oo,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}r&&delete e.__transition}}function Rc(e){return this.each(function(){Jo(this,e)})}function Uc(e,t){var n,o;return function(){var i=Nt(this,e),r=i.tween;if(r!==n){o=n=r;for(var a=0,s=o.length;a<s;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function Lc(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Nt(this,e),a=r.tween;if(a!==o){i=(o=a).slice();for(var s={name:t,value:n},l=0,u=i.length;l<u;++l)if(i[l].name===t){i[l]=s;break}l===u&&i.push(s)}r.tween=i}}function qc(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=It(this.node(),n).tween,i=0,r=o.length,a;i<r;++i)if((a=o[i]).name===e)return a.value;return null}return this.each((t==null?Uc:Lc)(n,e,t))}function di(e,t,n){var o=e._id;return e.each(function(){var i=Nt(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return It(i,o).value[t]}}function ea(e,t){var n;return(typeof t=="number"?_t:t instanceof en?uo:(n=en(t))?(t=n,uo):Kr)(e,t)}function Oc(e){return function(){this.removeAttribute(e)}}function Bc(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Fc(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}}function Ec(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}function jc(e,t,n){var o,i,r;return function(){var a,s=n(this),l;return s==null?void this.removeAttribute(e):(a=this.getAttribute(e),l=s+"",a===l?null:a===o&&l===i?r:(i=l,r=t(o=a,s)))}}function Dc(e,t,n){var o,i,r;return function(){var a,s=n(this),l;return s==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),l=s+"",a===l?null:a===o&&l===i?r:(i=l,r=t(o=a,s)))}}function Hc(e,t){var n=wo(e),o=n==="transform"?_c:ea;return this.attrTween(e,typeof t=="function"?(n.local?Dc:jc)(n,o,di(this,"attr."+e,t)):t==null?(n.local?Bc:Oc)(n):(n.local?Ec:Fc)(n,o,t))}function zc(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Xc(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Vc(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Xc(e,r)),n}return i._value=t,i}function Wc(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&zc(e,r)),n}return i._value=t,i}function Kc(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=wo(e);return this.tween(n,(o.local?Vc:Wc)(o,t))}function Yc(e,t){return function(){ci(this,e).delay=+t.apply(this,arguments)}}function Gc(e,t){return t=+t,function(){ci(this,e).delay=t}}function Qc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Yc:Gc)(t,e)):It(this.node(),t).delay}function Jc(e,t){return function(){Nt(this,e).duration=+t.apply(this,arguments)}}function Zc(e,t){return t=+t,function(){Nt(this,e).duration=t}}function xc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Jc:Zc)(t,e)):It(this.node(),t).duration}function ed(e,t){if(typeof t!="function")throw new Error;return function(){Nt(this,e).ease=t}}function td(e){var t=this._id;return arguments.length?this.each(ed(t,e)):It(this.node(),t).ease}function nd(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Nt(this,e).ease=n}}function od(e){if(typeof e!="function")throw new Error;return this.each(nd(this._id,e))}function id(e){typeof e!="function"&&(e=Lr(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,s=o[i]=[],l,u=0;u<a;++u)(l=r[u])&&e.call(l,l.__data__,u,r)&&s.push(l);return new Et(o,this._parents,this._name,this._id)}function rd(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),a=new Array(o),s=0;s<r;++s)for(var l=t[s],u=n[s],f=l.length,h=a[s]=new Array(f),g,M=0;M<f;++M)(g=l[M]||u[M])&&(h[M]=g);for(;s<o;++s)a[s]=t[s];return new Et(a,this._parents,this._name,this._id)}function ad(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function sd(e,t,n){var o,i,r=ad(t)?ci:Nt;return function(){var a=r(this,e),s=a.on;s!==o&&(i=(o=s).copy()).on(t,n),a.on=i}}function ld(e,t){var n=this._id;return arguments.length<2?It(this.node(),n).on.on(e):this.each(sd(n,e,t))}function ud(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function cd(){return this.on("end.remove",ud(this._id))}function dd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=ri(e));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var s=o[a],l=s.length,u=r[a]=new Array(l),f,h,g=0;g<l;++g)(f=s[g])&&(h=e.call(f,f.__data__,g,s))&&("__data__"in f&&(h.__data__=f.__data__),u[g]=h,_o(u[g],t,n,g,u,It(f,n)));return new Et(r,this._parents,t,n)}function fd(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ur(e));for(var o=this._groups,i=o.length,r=[],a=[],s=0;s<i;++s)for(var l=o[s],u=l.length,f,h=0;h<u;++h)if(f=l[h]){for(var g=e.call(f,f.__data__,h,l),M,A=It(f,n),le=0,m=g.length;le<m;++le)(M=g[le])&&_o(M,t,n,le,g,A);r.push(g),a.push(f)}return new Et(r,a,t,n)}var md=Un.prototype.constructor;function pd(){return new md(this._groups,this._parents)}function vd(e,t){var n,o,i;return function(){var r=vn(this,e),a=(this.style.removeProperty(e),vn(this,e));return r===a?null:r===n&&a===o?i:i=t(n=r,o=a)}}function ta(e){return function(){this.style.removeProperty(e)}}function hd(e,t,n){var o,i=n+"",r;return function(){var a=vn(this,e);return a===i?null:a===o?r:r=t(o=a,n)}}function gd(e,t,n){var o,i,r;return function(){var a=vn(this,e),s=n(this),l=s+"";return s==null&&(l=s=(this.style.removeProperty(e),vn(this,e))),a===l?null:a===o&&l===i?r:(i=l,r=t(o=a,s))}}function yd(e,t){var n,o,i,r="style."+t,a="end."+r,s;return function(){var l=Nt(this,e),u=l.on,f=l.value[r]==null?s||(s=ta(t)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(a,i=f),l.on=o}}function bd(e,t,n){var o=(e+="")=="transform"?$c:ea;return t==null?this.styleTween(e,vd(e,o)).on("end.style."+e,ta(e)):typeof t=="function"?this.styleTween(e,gd(e,o,di(this,"style."+e,t))).each(yd(this._id,e)):this.styleTween(e,hd(e,o,t),n).on("end.style."+e,null)}function kd(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function wd(e,t,n){var o,i;function r(){var a=t.apply(this,arguments);return a!==i&&(o=(i=a)&&kd(e,a,n)),o}return r._value=t,r}function Cd(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,wd(e,t,n??""))}function $d(e){return function(){this.textContent=e}}function _d(e){return function(){var t=e(this);this.textContent=t??""}}function Ad(e){return this.tween("text",typeof e=="function"?_d(di(this,"text",e)):$d(e==null?"":e+""))}function Pd(e){return function(t){this.textContent=e.call(this,t)}}function Id(e){var t,n;function o(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Pd(i)),t}return o._value=e,o}function Sd(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Id(e))}function Td(){for(var e=this._name,t=this._id,n=na(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],s=a.length,l,u=0;u<s;++u)if(l=a[u]){var f=It(l,t);_o(l,e,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new Et(o,this._parents,e,n)}function Nd(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(r,a){var s={value:a},l={value:function(){--i===0&&r()}};n.each(function(){var u=Nt(this,o),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(l)),u.on=t}),i===0&&r()})}var Md=0;function Et(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function na(){return++Md}var Ot=Un.prototype;Et.prototype={constructor:Et,select:dd,selectAll:fd,selectChild:Ot.selectChild,selectChildren:Ot.selectChildren,filter:id,merge:rd,selection:pd,transition:Td,call:Ot.call,nodes:Ot.nodes,node:Ot.node,size:Ot.size,empty:Ot.empty,each:Ot.each,on:ld,attr:Hc,attrTween:Kc,style:bd,styleTween:Cd,text:Ad,textTween:Sd,remove:cd,tween:qc,delay:Qc,duration:xc,ease:td,easeVarying:od,end:Nd,[Symbol.iterator]:Ot[Symbol.iterator]};function Rd(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Ud={time:null,delay:0,duration:250,ease:Rd};function Ld(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function qd(e){var t,n;e instanceof Et?(t=e._id,e=e._name):(t=na(),(n=Ud).time=ui(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],s=a.length,l,u=0;u<s;++u)(l=a[u])&&_o(l,e,t,u,a,n||Ld(l,t));return new Et(o,this._parents,e,t)}Un.prototype.interrupt=Rc;Un.prototype.transition=qd;const Lo=e=>()=>e;function Od(e,{sourceEvent:t,target:n,selection:o,mode:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:o,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Bd(e){e.stopImmediatePropagation()}function qo(e){e.preventDefault(),e.stopImmediatePropagation()}var ar={name:"drag"},Oo={name:"space"},cn={name:"handle"},dn={name:"center"};const{abs:sr,max:et,min:tt}=Math;function lr(e){return[+e[0],+e[1]]}function ur(e){return[lr(e[0]),lr(e[1])]}var io={name:"x",handles:["w","e"].map(po),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},Bo={name:"y",handles:["n","s"].map(po),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Bt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},cr={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},dr={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Fd={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Ed={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function po(e){return{type:e}}function jd(e){return!e.ctrlKey&&!e.button}function Dd(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Hd(){return navigator.maxTouchPoints||"ontouchstart"in this}function Fo(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function zd(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Xd(){return Vd(io)}function Vd(e){var t=Dd,n=jd,o=Hd,i=!0,r=ii("start","brush","end"),a=6,s;function l(m){var P=m.property("__brush",le).selectAll(".overlay").data([po("overlay")]);P.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Bt.overlay).merge(P).each(function(){var y=Fo(this).extent;At(this).attr("x",y[0][0]).attr("y",y[0][1]).attr("width",y[1][0]-y[0][0]).attr("height",y[1][1]-y[0][1])}),m.selectAll(".selection").data([po("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Bt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var $=m.selectAll(".handle").data(e.handles,function(y){return y.type});$.exit().remove(),$.enter().append("rect").attr("class",function(y){return"handle handle--"+y.type}).attr("cursor",function(y){return Bt[y.type]}),m.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",g).filter(o).on("touchstart.brush",g).on("touchmove.brush",M).on("touchend.brush touchcancel.brush",A).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}l.move=function(m,P,$){m.tween?m.on("start.brush",function(y){f(this,arguments).beforestart().start(y)}).on("interrupt.brush end.brush",function(y){f(this,arguments).end(y)}).tween("brush",function(){var y=this,p=y.__brush,k=f(y,arguments),F=p.selection,W=e.input(typeof P=="function"?P.apply(this,arguments):P,p.extent),Q=Co(F,W);function ce(J){p.selection=J===1&&W===null?null:Q(J),u.call(y),k.brush()}return F!==null&&W!==null?ce:ce(1)}):m.each(function(){var y=this,p=arguments,k=y.__brush,F=e.input(typeof P=="function"?P.apply(y,p):P,k.extent),W=f(y,p).beforestart();Jo(y),k.selection=F===null?null:F,u.call(y),W.start($).brush($).end($)})},l.clear=function(m,P){l.move(m,null,P)};function u(){var m=At(this),P=Fo(this).selection;P?(m.selectAll(".selection").style("display",null).attr("x",P[0][0]).attr("y",P[0][1]).attr("width",P[1][0]-P[0][0]).attr("height",P[1][1]-P[0][1]),m.selectAll(".handle").style("display",null).attr("x",function($){return $.type[$.type.length-1]==="e"?P[1][0]-a/2:P[0][0]-a/2}).attr("y",function($){return $.type[0]==="s"?P[1][1]-a/2:P[0][1]-a/2}).attr("width",function($){return $.type==="n"||$.type==="s"?P[1][0]-P[0][0]+a:a}).attr("height",function($){return $.type==="e"||$.type==="w"?P[1][1]-P[0][1]+a:a})):m.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(m,P,$){var y=m.__brush.emitter;return y&&(!$||!y.clean)?y:new h(m,P,$)}function h(m,P,$){this.that=m,this.args=P,this.state=m.__brush,this.active=0,this.clean=$}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(m,P){return this.starting?(this.starting=!1,this.emit("start",m,P)):this.emit("brush",m),this},brush:function(m,P){return this.emit("brush",m,P),this},end:function(m,P){return--this.active===0&&(delete this.state.emitter,this.emit("end",m,P)),this},emit:function(m,P,$){var y=At(this.that).datum();r.call(m,this.that,new Od(m,{sourceEvent:P,target:l,selection:e.output(this.state.selection),mode:$,dispatch:r}),y)}};function g(m){if(s&&!m.touches||!n.apply(this,arguments))return;var P=this,$=m.target.__data__.type,y=(i&&m.metaKey?$="overlay":$)==="selection"?ar:i&&m.altKey?dn:cn,p=e===Bo?null:Fd[$],k=e===io?null:Ed[$],F=Fo(P),W=F.extent,Q=F.selection,ce=W[0][0],J,T,Z=W[0][1],E,Y,ke=W[1][0],X,ae,ue=W[1][1],oe,ie,me=0,x=0,V,pt=p&&k&&i&&m.shiftKey,H,Ge,je=Array.from(m.touches||[m],te=>{const Me=te.identifier;return te=Wi(te,P),te.point0=te.slice(),te.identifier=Me,te});Jo(P);var vt=f(P,arguments,!0).beforestart();if($==="overlay"){Q&&(V=!0);const te=[je[0],je[1]||je[0]];F.selection=Q=[[J=e===Bo?ce:tt(te[0][0],te[1][0]),E=e===io?Z:tt(te[0][1],te[1][1])],[X=e===Bo?ke:et(te[0][0],te[1][0]),oe=e===io?ue:et(te[0][1],te[1][1])]],je.length>1&&qe(m)}else J=Q[0][0],E=Q[0][1],X=Q[1][0],oe=Q[1][1];T=J,Y=E,ae=X,ie=oe;var bt=At(P).attr("pointer-events","none"),at=bt.selectAll(".overlay").attr("cursor",Bt[$]);if(m.touches)vt.moved=Qe,vt.ended=gt;else{var Ht=At(m.view).on("mousemove.brush",Qe,!0).on("mouseup.brush",gt,!0);i&&Ht.on("keydown.brush",kt,!0).on("keyup.brush",ze,!0),Qu(m.view)}u.call(P),vt.start(m,y.name);function Qe(te){for(const Me of te.changedTouches||[te])for(const st of je)st.identifier===Me.identifier&&(st.cur=Wi(Me,P));if(pt&&!H&&!Ge&&je.length===1){const Me=je[0];sr(Me.cur[0]-Me[0])>sr(Me.cur[1]-Me[1])?Ge=!0:H=!0}for(const Me of je)Me.cur&&(Me[0]=Me.cur[0],Me[1]=Me.cur[1]);V=!0,qo(te),qe(te)}function qe(te){const Me=je[0],st=Me.point0;var q;switch(me=Me[0]-st[0],x=Me[1]-st[1],y){case Oo:case ar:{p&&(me=et(ce-J,tt(ke-X,me)),T=J+me,ae=X+me),k&&(x=et(Z-E,tt(ue-oe,x)),Y=E+x,ie=oe+x);break}case cn:{je[1]?(p&&(T=et(ce,tt(ke,je[0][0])),ae=et(ce,tt(ke,je[1][0])),p=1),k&&(Y=et(Z,tt(ue,je[0][1])),ie=et(Z,tt(ue,je[1][1])),k=1)):(p<0?(me=et(ce-J,tt(ke-J,me)),T=J+me,ae=X):p>0&&(me=et(ce-X,tt(ke-X,me)),T=J,ae=X+me),k<0?(x=et(Z-E,tt(ue-E,x)),Y=E+x,ie=oe):k>0&&(x=et(Z-oe,tt(ue-oe,x)),Y=E,ie=oe+x));break}case dn:{p&&(T=et(ce,tt(ke,J-me*p)),ae=et(ce,tt(ke,X+me*p))),k&&(Y=et(Z,tt(ue,E-x*k)),ie=et(Z,tt(ue,oe+x*k)));break}}ae<T&&(p*=-1,q=J,J=X,X=q,q=T,T=ae,ae=q,$ in cr&&at.attr("cursor",Bt[$=cr[$]])),ie<Y&&(k*=-1,q=E,E=oe,oe=q,q=Y,Y=ie,ie=q,$ in dr&&at.attr("cursor",Bt[$=dr[$]])),F.selection&&(Q=F.selection),H&&(T=Q[0][0],ae=Q[1][0]),Ge&&(Y=Q[0][1],ie=Q[1][1]),(Q[0][0]!==T||Q[0][1]!==Y||Q[1][0]!==ae||Q[1][1]!==ie)&&(F.selection=[[T,Y],[ae,ie]],u.call(P),vt.brush(te,y.name))}function gt(te){if(Bd(te),te.touches){if(te.touches.length)return;s&&clearTimeout(s),s=setTimeout(function(){s=null},500)}else Ju(te.view,V),Ht.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);bt.attr("pointer-events","all"),at.attr("cursor",Bt.overlay),F.selection&&(Q=F.selection),zd(Q)&&(F.selection=null,u.call(P)),vt.end(te,y.name)}function kt(te){switch(te.keyCode){case 16:{pt=p&&k;break}case 18:{y===cn&&(p&&(X=ae-me*p,J=T+me*p),k&&(oe=ie-x*k,E=Y+x*k),y=dn,qe(te));break}case 32:{(y===cn||y===dn)&&(p<0?X=ae-me:p>0&&(J=T-me),k<0?oe=ie-x:k>0&&(E=Y-x),y=Oo,at.attr("cursor",Bt.selection),qe(te));break}default:return}qo(te)}function ze(te){switch(te.keyCode){case 16:{pt&&(H=Ge=pt=!1,qe(te));break}case 18:{y===dn&&(p<0?X=ae:p>0&&(J=T),k<0?oe=ie:k>0&&(E=Y),y=cn,qe(te));break}case 32:{y===Oo&&(te.altKey?(p&&(X=ae-me*p,J=T+me*p),k&&(oe=ie-x*k,E=Y+x*k),y=dn):(p<0?X=ae:p>0&&(J=T),k<0?oe=ie:k>0&&(E=Y),y=cn),at.attr("cursor",Bt[$]),qe(te));break}default:return}qo(te)}}function M(m){f(this,arguments).moved(m)}function A(m){f(this,arguments).ended(m)}function le(){var m=this.__brush||{selection:null};return m.extent=ur(t.apply(this,arguments)),m.dim=e,m}return l.extent=function(m){return arguments.length?(t=typeof m=="function"?m:Lo(ur(m)),l):t},l.filter=function(m){return arguments.length?(n=typeof m=="function"?m:Lo(!!m),l):n},l.touchable=function(m){return arguments.length?(o=typeof m=="function"?m:Lo(!!m),l):o},l.handleSize=function(m){return arguments.length?(a=+m,l):a},l.keyModifiers=function(m){return arguments.length?(i=!!m,l):i},l.on=function(){var m=r.on.apply(r,arguments);return m===r?l:m},l}function Wd(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function vo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,o=e.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+e.slice(n+1)]}function gn(e){return e=vo(Math.abs(e)),e?e[1]:NaN}function Kd(e,t){return function(n,o){for(var i=n.length,r=[],a=0,s=e[0],l=0;i>0&&s>0&&(l+s+1>o&&(s=Math.max(1,o-l)),r.push(n.substring(i-=s,i+s)),!((l+=s+1)>o));)s=e[a=(a+1)%e.length];return r.reverse().join(t)}}function Yd(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Gd=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ho(e){if(!(t=Gd.exec(e)))throw new Error("invalid format: "+e);var t;return new fi({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ho.prototype=fi.prototype;function fi(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}fi.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Qd(e){e:for(var t=e.length,n=1,o=-1,i;n<t;++n)switch(e[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+e[n])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(i+1):e}var oa;function Jd(e,t){var n=vo(e,t);if(!n)return e+"";var o=n[0],i=n[1],r=i-(oa=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=o.length;return r===a?o:r>a?o+new Array(r-a+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+vo(e,Math.max(0,t+r-1))[0]}function fr(e,t){var n=vo(e,t);if(!n)return e+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const mr={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:Wd,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>fr(e*100,t),r:fr,s:Jd,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pr(e){return e}var vr=Array.prototype.map,hr=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function Zd(e){var t=e.grouping===void 0||e.thousands===void 0?pr:Kd(vr.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?pr:Yd(vr.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"−":e.minus+"",l=e.nan===void 0?"NaN":e.nan+"";function u(h){h=ho(h);var g=h.fill,M=h.align,A=h.sign,le=h.symbol,m=h.zero,P=h.width,$=h.comma,y=h.precision,p=h.trim,k=h.type;k==="n"?($=!0,k="g"):mr[k]||(y===void 0&&(y=12),p=!0,k="g"),(m||g==="0"&&M==="=")&&(m=!0,g="0",M="=");var F=le==="$"?n:le==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",W=le==="$"?o:/[%p]/.test(k)?a:"",Q=mr[k],ce=/[defgprs%]/.test(k);y=y===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,y)):Math.max(0,Math.min(20,y));function J(T){var Z=F,E=W,Y,ke,X;if(k==="c")E=Q(T)+E,T="";else{T=+T;var ae=T<0||1/T<0;if(T=isNaN(T)?l:Q(Math.abs(T),y),p&&(T=Qd(T)),ae&&+T==0&&A!=="+"&&(ae=!1),Z=(ae?A==="("?A:s:A==="-"||A==="("?"":A)+Z,E=(k==="s"?hr[8+oa/3]:"")+E+(ae&&A==="("?")":""),ce){for(Y=-1,ke=T.length;++Y<ke;)if(X=T.charCodeAt(Y),48>X||X>57){E=(X===46?i+T.slice(Y+1):T.slice(Y))+E,T=T.slice(0,Y);break}}}$&&!m&&(T=t(T,1/0));var ue=Z.length+T.length+E.length,oe=ue<P?new Array(P-ue+1).join(g):"";switch($&&m&&(T=t(oe+T,oe.length?P-E.length:1/0),oe=""),M){case"<":T=Z+T+E+oe;break;case"=":T=Z+oe+T+E;break;case"^":T=oe.slice(0,ue=oe.length>>1)+Z+T+E+oe.slice(ue);break;default:T=oe+Z+T+E;break}return r(T)}return J.toString=function(){return h+""},J}function f(h,g){var M=u((h=ho(h),h.type="f",h)),A=Math.max(-8,Math.min(8,Math.floor(gn(g)/3)))*3,le=Math.pow(10,-A),m=hr[8+A/3];return function(P){return M(le*P)+m}}return{format:u,formatPrefix:f}}var Jn,ia,ra;xd({thousands:",",grouping:[3],currency:["$",""]});function xd(e){return Jn=Zd(e),ia=Jn.format,ra=Jn.formatPrefix,Jn}function ef(e){return Math.max(0,-gn(Math.abs(e)))}function tf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(gn(t)/3)))*3-gn(Math.abs(e)))}function nf(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,gn(t)-gn(e))+1}function mi(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const gr=Symbol("implicit");function aa(){var e=new Hi,t=[],n=[],o=gr;function i(r){let a=e.get(r);if(a===void 0){if(o!==gr)return o;e.set(r,a=t.push(r)-1)}return n[a%n.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Hi;for(const a of r)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(r){return arguments.length?(n=Array.from(r),i):n.slice()},i.unknown=function(r){return arguments.length?(o=r,i):o},i.copy=function(){return aa(t,n).unknown(o)},mi.apply(i,arguments),i}function sa(){var e=aa().unknown(void 0),t=e.domain,n=e.range,o=0,i=1,r,a,s=!1,l=0,u=0,f=.5;delete e.unknown;function h(){var g=t().length,M=i<o,A=M?i:o,le=M?o:i;r=(le-A)/Math.max(1,g-l+u*2),s&&(r=Math.floor(r)),A+=(le-A-r*(g-l))*f,a=r*(1-l),s&&(A=Math.round(A),a=Math.round(a));var m=ml(g).map(function(P){return A+r*P});return n(M?m.reverse():m)}return e.domain=function(g){return arguments.length?(t(g),h()):t()},e.range=function(g){return arguments.length?([o,i]=g,o=+o,i=+i,h()):[o,i]},e.rangeRound=function(g){return[o,i]=g,o=+o,i=+i,s=!0,h()},e.bandwidth=function(){return a},e.step=function(){return r},e.round=function(g){return arguments.length?(s=!!g,h()):s},e.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},e.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},e.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},e.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},e.copy=function(){return sa(t(),[o,i]).round(s).paddingInner(l).paddingOuter(u).align(f)},mi.apply(h(),arguments)}function of(e){return function(){return e}}function rf(e){return+e}var yr=[0,1];function fn(e){return e}function Zo(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:of(isNaN(t)?NaN:.5)}function af(e,t){var n;return e>t&&(n=e,e=t,t=n),function(o){return Math.max(e,Math.min(t,o))}}function sf(e,t,n){var o=e[0],i=e[1],r=t[0],a=t[1];return i<o?(o=Zo(i,o),r=n(a,r)):(o=Zo(o,i),r=n(r,a)),function(s){return r(o(s))}}function lf(e,t,n){var o=Math.min(e.length,t.length)-1,i=new Array(o),r=new Array(o),a=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<o;)i[a]=Zo(e[a],e[a+1]),r[a]=n(t[a],t[a+1]);return function(s){var l=ol(e,s,1,o)-1;return r[l](i[l](s))}}function uf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function cf(){var e=yr,t=yr,n=Co,o,i,r,a=fn,s,l,u;function f(){var g=Math.min(e.length,t.length);return a!==fn&&(a=af(e[0],e[g-1])),s=g>2?lf:sf,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?r:(l||(l=s(e.map(o),t,n)))(o(a(g)))}return h.invert=function(g){return a(i((u||(u=s(t,e.map(o),_t)))(g)))},h.domain=function(g){return arguments.length?(e=Array.from(g,rf),f()):e.slice()},h.range=function(g){return arguments.length?(t=Array.from(g),f()):t.slice()},h.rangeRound=function(g){return t=Array.from(g),n=kc,f()},h.clamp=function(g){return arguments.length?(a=g?!0:fn,f()):a!==fn},h.interpolate=function(g){return arguments.length?(n=g,f()):n},h.unknown=function(g){return arguments.length?(r=g,h):r},function(g,M){return o=g,i=M,f()}}function df(){return cf()(fn,fn)}function ff(e,t,n,o){var i=dl(e,t,n),r;switch(o=ho(o??",f"),o.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(r=tf(i,a))&&(o.precision=r),ra(o,a)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=nf(i,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=ef(i))&&(o.precision=r-(o.type==="%")*2);break}}return ia(o)}function mf(e){var t=e.domain;return e.ticks=function(n){var o=t();return cl(o[0],o[o.length-1],n??10)},e.tickFormat=function(n,o){var i=t();return ff(i[0],i[i.length-1],n??10,o)},e.nice=function(n){n==null&&(n=10);var o=t(),i=0,r=o.length-1,a=o[i],s=o[r],l,u,f=10;for(s<a&&(u=a,a=s,s=u,u=i,i=r,r=u);f-- >0;){if(u=Do(a,s,n),u===l)return o[i]=a,o[r]=s,t(o);if(u>0)a=Math.floor(a/u)*u,s=Math.ceil(s/u)*u;else if(u<0)a=Math.ceil(a*u)/u,s=Math.floor(s*u)/u;else break;l=u}return e},e}function la(){var e=df();return e.copy=function(){return uf(e,la())},mi.apply(e,arguments),mf(e)}function Sn(e,t,n){this.k=e,this.x=t,this.y=n}Sn.prototype={constructor:Sn,scale:function(e){return e===1?this:new Sn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Sn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Sn.prototype;function br(e,t,n){const o=new O(10).pow(t-n);return new O(1.0001).pow(e).mul(o)}const pf=ft({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,t){const n=R(1),o=R(""),i=R(""),r=ee(()=>{var p,k,F;return h.sqrtPriceX64ToPrice((p=e.poolInfo)==null?void 0:p.current_sqrt_price,(k=e.poolInfo)==null?void 0:k.coinA.decimals,(F=e.poolInfo)==null?void 0:F.coinB.decimals).toString()}),a=ee(()=>{let p=0;return e.direction?p=(Number(e.minPrice)/Number(r.value)-1)*100:p=(Number(e.minPrice)/Number(1/Number(r.value))-1)*100,p=p>0&&p<.1?.1:p,p=p<0&&p>-.1?-.1:p,p}),s=ee(()=>{let p=0;return e.direction?p=(Number(e.maxPrice)/Number(r.value)-1)*100:p=(Number(e.maxPrice)/Number(1/Number(r.value))-1)*100,p=p>0&&p<.1?.1:p,p=p<0&&p>-.1?-.1:p,p}),l=dt(),u=ee(()=>l),f=ee(()=>u.value.chainName?go(u.value.chainName):{}),{TickMath:h,getNearestTickByTick:g}=f.value,M=()=>{const p=n.value/2;n.value=p,m(e.poolInfo,p)},A=()=>{const p=n.value*2;n.value=p,m(e.poolInfo,p)},le=(p=[])=>{let k=6;const F=Math.abs(Number(p[0])-Number(p[p.length-1]));return F>=6?k=0:F>=1?k=1:F>=.1?k=2:F>=.01?k=3:F>=.001?k=4:F>=1e-4?k=5:F>=1e-5?k=6:F>=1e-6?k=7:F>=1e-7&&(k=8),k},m=(p,k=1)=>{if(p&&p.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const F=Number(e.poolInfo.current_tick_index);let W=F+100*k,Q=F-100*k,ce,J;if(e.maxPrice==="∞")J=f.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?J=h.priceToTickIndex(new O(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):J=h.priceToTickIndex(new O(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{J=443636}if(e.minPrice==="0")ce=f.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?ce=h.priceToTickIndex(new O(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):ce=h.priceToTickIndex(new O(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{ce=-443636}let T=0;if(e.currentPriceTab!=="full range"){if(F>=ce&&F<=J){const x=F-ce,V=J-F;T=Math.max(Math.abs(x),Math.abs(V))}else F<ce?T=Math.abs(J-F):T=Math.abs(F-ce);W=F+T+100*k,Q=F-T-100*k}else{const x=(Math.abs(F)>5e3,2e4);W=F+x*k,Q=F-x*k}Q<-443636&&(Q=-443636),W>443636&&(W=443636);const Z=new O(p.liquidity).div(Math.pow(10,8)).toString(),E=e.tickList,Y=[],ke=[];let X={};for(let x=0;x<E.length;x++){if(X=E[x],X.index<=F&&X.index>=Q){if(Y.length<1&&x!==0){const V=E[x-1];Y.unshift({...V,index:Q})}Y.unshift(X)}else if(X.index>F&&X.index<=W&&(ke.push(X),Y.length<1&&x!==0)){const V=E[x-1];Y.push({...V,index:Q})}if(X.index>W){const V=E[x];if(ke.push({...V,index:W}),Y.length<1&&x!==0){const pt=E[x-1];Y.push({...pt,index:Q})}break}}let ae="0";for(let x=Y.length-1;x>=0;x--)ae=new O(ae).plus(new O(Y[x].liquidityNet.toString()).div(Math.pow(10,8))).toString(),Y[x].liquityAmount=ae;let ue=Z;for(let x=0;x<ke.length;x++)ue=new O(ue).plus(new O(ke[x].liquidityNet.toString()).div(Math.pow(10,8))).toString(),ke[x].liquityAmount=ue;let oe=[];const ie=E&&E.length>0?{index:F,liquityAmount:Number(Z)}:{index:F,liquityAmount:0};(Y.length>0||ke.length>0)&&(oe=[...Y.reverse(),ie,...ke],e.direction||(oe=oe.reverse()));const me=[];E.forEach(x=>{me.push({...x,liquidityGross:x.liquidityGross.toString(),liquidityNet:x.liquidityNet.toString()})}),$(oe,Q,W,ce,J,F)}};let P=R(!1);yo(()=>{document.body.clientWidth<750?P.value=!1:P.value=!0,window.onresize=()=>{document.body.clientWidth<750?P.value=!1:P.value=!0,m(e.poolInfo,n.value)}});const $=(p,k,F,W,Q,ce)=>{let J,T;e.direction?(J=e.before7dContractPriceLowest?h.priceToTickIndex(new O(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?h.priceToTickIndex(new O(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(J=e.before7dContractPriceLowest?h.priceToTickIndex(new O(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?h.priceToTickIndex(new O(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const Z={top:30,right:35,bottom:20,left:55};let E,Y;P.value?(E=460-Z.left-Z.right,Y=205-Z.top-Z.bottom):(E=340-Z.left-Z.right,Y=205-Z.top-Z.bottom);const ke=F-k,X=parseInt(String(ke/4));let ae=[k+X/4,k+X,k+2*X,F-X,F-X/4];const ue=k,oe=F,ie=E/(oe-ue);e.currentPriceTab==="full range"&&(ae=[k,k+2*X,F]);const me=ae.map(q=>e.direction?br(q,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new O(1).div(br(q,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString()),x=le(me);At("#chart").selectAll("*").remove();const V=At("#chart").attr("width",E+Z.left+Z.right).attr("height",Y+Z.top+Z.bottom).append("g").attr("transform",`translate(${Z.left},${Z.right})`),pt=fl(p,function(q){return Number(Math.abs(q.liquityAmount))})||0,H=la().range([0,Y]).domain([pt,0]);sa().rangeRound([0,E]).padding(.1);const je=V.append("g").attr("id","barsBox").selectAll("rect").data(p).enter().append("rect");u.value.theme=="default"?je.attr("x",function(q,ne){return ne===0?0:e.direction?Math.abs(q.index-ue)*ie:Math.abs(oe-q.index)*ie}).attr("y",function(q,ne){return e.direction?ne===p.length-1?0:H(q.liquityAmount):ne===p.length-1?0:H(p[ne+1].liquityAmount)}).attr("width",function(q,ne){return ne===0&&p.length===1&&q.liquityAmount>0?E:(e.direction,ne!==p.length-1?Math.abs(p[ne+1].index-q.index)*ie:0)}).attr("height",function(q,ne){return ne===0&&p.length===1&&q.liquityAmount>0?Y:e.direction?ne===p.length-1?0:Y-H(q.liquityAmount):ne===p.length-1?0:Y-H(p[ne+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):je.attr("x",function(q,ne){return ne===0?0:e.direction?Math.abs(q.index-ue)*ie:Math.abs(oe-q.index)*ie}).attr("y",function(q,ne){return e.direction?ne===p.length-1?0:H(Math.abs(q.liquityAmount)):ne===p.length-1?0:H(Math.abs(p[ne+1].liquityAmount))}).attr("width",function(q,ne){return ne===0&&p.length===1&&q.liquityAmount>0?E:(e.direction,ne!==p.length-1?Math.abs(p[ne+1].index-q.index)*ie:0)}).attr("height",function(q,ne){if(ne===0&&p.length===1&&q.liquityAmount>0)return Y;if(e.direction)return ne===p.length-1?0:Number(q.liquityAmount)?Y-H(Math.abs(q.liquityAmount)):0;{if(ne===p.length-1)return 0;const lt=Y-H(Math.abs(p[ne+1].liquityAmount));return Number(p[ne+1].liquityAmount)?lt:0}}).attr("fill","#407497").attr("class","bars").attr("stroke-width",1).attr("stroke","#407497");const vt=V.append("g");vt.append("line").attr("x1",0).attr("y1",155).attr("x2",E).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const bt=vt.append("g");let at=0;if(e.direction){for(let q=0;q<ae.length;q++){const ne=Ne(me[q],x)||"0";me.push(ne);const lt=Math.abs(ae[q]-ue)*ie;let Re=0;for(let w=0;w<ne.length;w++)ne[w]==="1"?Re+=4.02:ne[w]==="."?Re+=2.64:ne[w]==="7"?Re+=5.48:Re+=6;bt.append("text").text(ne).attr("x",lt-Re/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}at=Math.abs(ce-ue)*ie}else{for(let q=ae.length-1;q>=0;q--){const ne=Ne(me[q],x)||0;me.push(ne);const lt=Math.abs(ae[q]-oe)*ie;let Re=0;for(let w=0;w<ne.length;w++)ne[w]==="1"?Re+=4.02:ne[w]==="."?Re+=2.64:ne[w]==="7"?Re+=5.48:Re+=6;bt.append("text").text(ne).attr("x",lt-Re/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}at=Math.abs(ce-oe)*ie}(u.value.theme=="default"?V.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):V.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+at+", 0)");let Qe,qe,gt,kt;e.direction?(Qe=W<ue?-100:parseInt(String(Math.abs(W-ue)*ie)),qe=Q<ue?-100:parseInt(String(Math.abs(Q-ue)*ie)),gt=J<ue?-100:Math.abs(J-ue)*ie,kt=T<ue?-100:Math.abs(T-ue)*ie):(qe=W<ue?-100:Math.abs(oe-W)*ie,Qe=Q<ue?-100:Math.abs(oe-Q)*ie,kt=J<ue?-100:Math.abs(oe-J)*ie,gt=T<ue?-100:Math.abs(oe-T)*ie),e.minPrice==="0"&&(Qe=0),e.maxPrice==="∞"&&(qe=E),P.value?o.value=E-Qe+60+"px":o.value=E-Qe+52+"px",i.value=qe+74+"px",J&&gt<E&&V.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+gt+", 0)"),T&&kt<E&&V.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+kt+", 0)");const ze=V.append("g").attr("id","left-handle"),te=V.append("g").attr("id","right-handle");u.value.theme=="default"?(ze.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),ze.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),ze.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),ze.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),te.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),te.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),te.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),te.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(ze.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),ze.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),ze.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),ze.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),te.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),te.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),te.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),te.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),ze.attr("transform","translate("+Qe+", 0)"),te.attr("transform","translate("+qe+", 0)");const Me=Xd().extent([[0,0],[E,Y]]).handleSize(30).on("end",st);V.append("g").attr("class","brush").call(Me).call(Me.move,[Qe,qe]);function st(q){if(!q.sourceEvent||!q.selection)return;ze.attr("transform","translate("+q.selection[0]+", 0)"),te.attr("transform","translate("+q.selection[1]+", 0)"),P.value?o.value=E-q.selection[0]+60+"px":o.value=E-q.selection[0]+52+"px",i.value=q.selection[1]+74+"px";let ne,lt,Re=0,w=0;e.direction?(Re=g(parseInt(String(q.selection[0]/ie+ue)),Number(e.poolInfo.tickSpacing)),ne=h.tickIndexToPrice(Re,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),w=g(parseInt(String(q.selection[1]/ie+ue)),Number(e.poolInfo.tickSpacing)),lt=h.tickIndexToPrice(w,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(w=g(oe-q.selection[0]/ie,Number(e.poolInfo.tickSpacing)),ne=1/h.tickIndexToPrice(w,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),Re=g(oe-q.selection[1]/ie,Number(e.poolInfo.tickSpacing)),lt=1/h.tickIndexToPrice(Re,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),t.emit("onChangeMinPrice",String(Ne(String(ne),6))),t.emit("onChangeMaxPrice",String(Ne(String(lt),6)))}u.value.theme=="default"?At(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):At(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};R(""),we(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab],([p,k,F,W])=>{p&&k&&F&&(F=="∞"||Number(F)>Number(k))&&m(p,n.value)},{immediate:!0});const y=R(!0);return we(()=>e.chartLoading,(p,k)=>{p!==k&&(y.value=p)},{immediate:!0,deep:!0}),{store:u,loading:y,zoomOut:M,zoomIn:A,rangeSizeLower:a,rangeSizeUpper:s,rangeSizeLowerPosition:o,rangeSizeUpperPosition:i,decimalFormat:pn,numberformat:Eo}}});const vf=e=>(jt("data-v-f69ce771"),e=e(),Dt(),e),hf={class:"chart-box"},gf={class:"chart"},yf={class:"zoom"},bf=vf(()=>d("svg",{id:"chart"},null,-1));function kf(e,t,n,o,i,r){return b(),I("div",hf,[rt(d("div",gf,[d("div",yf,[d("div",{class:"amplification",onClick:t[0]||(t[0]=(...a)=>e.zoomOut&&e.zoomOut(...a))}),d("div",{class:"narrow",onClick:t[1]||(t[1]=(...a)=>e.zoomIn&&e.zoomIn(...a))})]),e.currentPriceTab!=="full range"?(b(),I("div",{key:0,class:"range-size range-size-lower",style:Fi({right:e.rangeSizeLowerPosition})},C(("numberformat"in e?e.numberformat:ve(Eo))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):B("",!0),e.currentPriceTab!=="full range"?(b(),I("div",{key:1,class:"range-size range-size-upper",style:Fi({left:e.rangeSizeUpperPosition})},C(("numberformat"in e?e.numberformat:ve(Eo))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):B("",!0),bf],512),[[Na,!e.loading]])])}const wf=mt(pf,[["render",kf],["__scopeId","data-v-f69ce771"]]),Cf=ft({props:{poolInfo:{type:Object,default:()=>({})},aprRewardsParameter:{type:Number,default:30},label:{type:Boolean,default:!0}},setup(e,t){const n=R(""),o=R(""),i=R(""),r=dt(),a=ee(()=>r),s=nn(),l=ee(()=>s),u=(y,p)=>y&&p?Oa.plus(Mo(y),Mo(p)):y>0?y:0,f=y=>{let p=0;return y&&y.forEach(k=>{p+=Mo(String(k))}),String(p)},h=R([]),g=R([]),M=R(""),A=R(""),le=R(!0);we(()=>[a.value.newTopPoolsObj,e.poolInfo,l.value.tokensObj,e.aprRewardsParameter],async([y,p,k])=>{var F;if(y&&p&&k){const W=y[p==null?void 0:p.poolAddress];if(W){n.value=W&&W.apr_7day&&W.apr_7day.replace("%","")||"0",A.value=f(W&&W.rewarder_apr),M.value=u(W&&W.apr_7day,W&&f(W.rewarder_apr)),o.value=Ee(W.tvl_in_usd,2),i.value=Ee(W.vol_in_usd_24h,2);const Q=p&&e.poolInfo.rewarder_infos||[],ce=[];for(let T=0;T<Q.length;T++){const Z=Q[T];if(k[Z.coinAddress]){const E=k[Z.coinAddress].decimals,Y=pn(Z.emissionsEveryDay/Math.pow(10,E),4),ke=Number(Y)>0?Ee(Y):Y,X=pn(Number(Y)*((F=l.value.RATES[Z.coinAddress])==null?void 0:F.price),4);ce.push({...Z,logoUrl:k[Z.coinAddress].logoURI,day:ke,dayUSD:X,symbol:k[Z.coinAddress].symbol,rewarder_display:p&&p[`rewarder_display${T+1}`]?p[`rewarder_display${T+1}`]:!1})}}h.value=ce.filter(T=>T.rewarder_display);const J=[];ce.forEach((T,Z)=>{k[T.coinAddress]&&J.push({...T,symbol:k[T.coinAddress].symbol,rewarderApr:W.rewarder_apr[Z]&&W.rewarder_apr[Z].replace("%","")})}),g.value=J.filter(T=>T.rewarder_display)}else n.value="0",o.value="--",i.value="--",M.value=="0";le.value=!1}},{immediate:!0,deep:!0});const m=()=>{t.emit("reviseValue")},P=y=>{var p;return(y==null?void 0:y.logoURI)||(y==null?void 0:y.logo_url)||((p=l.value.tokensObj[y==null?void 0:y.address])==null?void 0:p.logo_url)||(a.value.theme==="default"?Xe("/image/coins/unknown.png"):Xe("/image/coins/sui-unknown.png"))};return{tokensObj:ee(()=>l.value.tokensObj),rewarderInfo:h,rewarderArr:g,rewardApr:M,rewardAprList:A,apr:n,liquidityTvl:o,vol24:i,addCommom:Ee,reviseValue:m,loading:le,getCoinIcon:P,store:r}}});const Ao=e=>(jt("data-v-07760bda"),e=e(),Dt(),e),$f={key:0,class:"pool-info"},_f=Ao(()=>d("use",{"xlink:href":"#icon-icon_on"},null,-1)),Af=[_f],Pf={key:0,class:"info-block-container"},If={class:"info-block"},Sf={class:"coin-tips"},Tf={class:"left"},Nf={alt:""},Mf={class:"address"},Rf={key:0,class:"pool-warning"},Uf=Ao(()=>d("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Lf=[Uf],qf={class:"info-block"},Of={class:"coin-tips"},Bf={class:"left"},Ff={alt:""},Ef={class:"address"},jf={key:0,class:"pool-warning"},Df=Ao(()=>d("use",{"xlink:href":"#icon-icon-copy"},null,-1)),Hf=[Df],zf={class:"info-block"},Xf={class:"leabl"},Vf={class:"text"},Wf={class:"apr-hover-content"},Kf={class:"info-block"},Yf={class:"leabl"},Gf={class:"text"},Qf={class:"info-block"},Jf={class:"leabl"},Zf={class:"text"},xf={class:"info-block"},em={class:"leabl"},tm={class:"text"},nm={key:1,class:"pool-rewards-info"},om={class:"rewards-list-all"},im=Ao(()=>d("div",{class:"icon-sign"},null,-1)),rm={alt:""},am={class:"rewards-value"};function sm(e,t,n,o,i,r){const a=qa,s=Ar,l=Rn("image");return e.poolInfo?(b(),I("div",$f,[e.loading?(b(),be(s,{key:1})):(b(),I(Ft,{key:0},[d("div",{class:Te(e.label?"pool-info-border pool-info-title":"pool-info-title")},[He(C(e.$t("newAdd.poolInfo"))+" ",1),(b(),I("svg",{class:Te(e.label?"show-icon icon":"icon"),"aria-hidden":"true",onClick:t[0]||(t[0]=u=>e.reviseValue())},Af,2))],2),e.label?(b(),I("div",Pf,[d("div",If,[d("div",Sf,[d("div",Tf,[rt(d("img",Nf,null,512),[[l,e.getCoinIcon(e.poolInfo.token_a)]]),d("div",Mf,C(e.poolInfo.token_a.address),1),e.tokensObj&&e.poolInfo&&e.poolInfo.coin_a_address&&e.tokensObj[e.poolInfo.coin_a_address]&&e.tokensObj[e.poolInfo.coin_a_address].isSelfBuilt?(b(),I("div",Rf)):B("",!0),(b(),I("svg",{class:"icon","aria-hidden":"true",onClick:t[1]||(t[1]=u=>e.store.copy(e.poolInfo.token_a.address&&e.poolInfo.token_a.address))},Lf))])])]),d("div",qf,[d("div",Of,[d("div",Bf,[rt(d("img",Ff,null,512),[[l,e.getCoinIcon(e.poolInfo.token_b)]]),d("div",Ef,C(e.poolInfo.token_b.address),1),e.tokensObj&&e.poolInfo&&e.poolInfo.coin_b_address&&e.tokensObj[e.poolInfo.coin_b_address]&&e.tokensObj[e.poolInfo.coin_b_address].isSelfBuilt?(b(),I("div",jf)):B("",!0),(b(),I("svg",{class:"icon","aria-hidden":"true",onClick:t[2]||(t[2]=u=>e.store.copy(e.poolInfo.token_b.address&&e.poolInfo.token_b.address))},Hf))])])]),d("div",zf,[d("div",Xf,C(e.$t("common.apr")),1),d("div",Vf,[He(C(e.poolInfo.is_display_rewarder?e.rewardApr>0&&e.rewardApr<.01?"<0.01":("addCommom"in e?e.addCommom:ve(Ee))(e.rewardApr,2):e.apr>0&&e.apr<.01?"<0.01":("addCommom"in e?e.addCommom:ve(Ee))(e.apr,2))+"% ",1),d("div",Wf,[ye(a,{"l-item":{apr:e.apr,aprTotal:e.rewardApr,rewarder_apr:e.rewardAprList,is_display_rewarder:e.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["l-item","rewarder-info"])])])]),d("div",Kf,[d("div",Yf,C(e.$t("common.liquidity")),1),d("div",Gf,"$"+C(e.liquidityTvl),1)]),d("div",Qf,[d("div",Jf,C(e.$t("common.volume24h")),1),d("div",Zf,"$"+C(e.vol24),1)]),d("div",xf,[d("div",em,C(e.$t("newAdd.tickSpacing")),1),d("div",tm,C(e.poolInfo&&e.poolInfo.tick_spacing),1)])])):B("",!0),e.poolInfo.is_display_rewarder&&e.label&&e.rewarderInfo&&e.rewarderInfo.length>0?(b(),I("div",nm,[He(C("Farming Bonus")+" "),d("div",om,[(b(!0),I(Ft,null,An(e.rewarderInfo,u=>(b(),I("div",{key:u,class:Te(["rewards-list",u.day==0?"rewards-none":""])},[im,rt(d("img",rm,null,512),[[l,u.logoUrl]]),d("div",am,[d("p",null,C(u.day)+" "+C(u.symbol)+" / "+C(e.$t("newAdd.day"))+" ",1)])],2))),128))])])):B("",!0)],64))])):B("",!0)}const lm=mt(Cf,[["render",sm],["__scopeId","data-v-07760bda"]]),um=ft({components:{Modal:ei},props:{poolInfo:{type:Object,required:!0}},setup(e){const t=R({}),n=dt(),o=ee(()=>n),i=ee(()=>o.value.chainName),r=ee(()=>Zn[i.value]);let a=R(!0);const s=nn(),l=ee(()=>s),u=xo(),f=ee(()=>e.poolInfo.needReverse);return we(()=>l.value.currentPositionInfo,g=>{g&&(t.value=g)},{immediate:!0}),{getExplorerUrl:jo,addCommom:Ee,router:u,pools:l,positionInfo:t,decimalFormat:pn,rateChange:a,config:r,importIcon:Xe,store:o,chainName:i,checkNullObj:$t,needReverse:f,getCoinIcon:g=>{var M;return(g==null?void 0:g.logoURI)||(g==null?void 0:g.logo_url)||((M=l.value.tokensObj[g==null?void 0:g.address])==null?void 0:M.logo_url)||(o.value.theme==="default"?Xe("/image/coins/unknown.png"):Xe("/image/coins/sui-unknown.png"))},decimalUi:Ne}}});const Po=e=>(jt("data-v-e3466cf5"),e=e(),Dt(),e),cm=Po(()=>d("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[d("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),dm={class:"rejected-container"},fm={class:"coin-pair"},mm=Po(()=>d("use",{"xlink:href":"#icon-icon-copy"},null,-1)),pm=[mm],vm=["href"],hm=Po(()=>d("svg",{class:"icon","aria-hidden":"true"},[d("use",{"xlink:href":"#icon-icon-jump"})],-1)),gm=[hm],ym={class:"coin-pair"},bm={class:"fee"},km={class:"status"},wm={class:"min-and-max"},Cm={key:0},$m={class:"text"},_m={key:0,src:ni,alt:""},Am={key:1,src:oi,alt:""},Pm={class:"text"},Im={key:1},Sm={class:"text"},Tm={key:0,src:ni,alt:""},Nm={key:1,src:oi,alt:""},Mm={class:"text"},Rm=Po(()=>d("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Um=[Rm];function Lm(e,t,n,o,i,r){const a=_r,s=Ba,l=ko,u=ti("Modal"),f=Rn("image");return b(),be(u,{visible:!0,class:"transiaction-rejected",centered:"",title:e.$t("newAdd.openPositionSuccessful"),width:"340px",footer:null,onCancel:t[3]||(t[3]=h=>e.$emit("onClose"))},{closeIcon:Ae(()=>[cm]),default:Ae(()=>[d("div",dm,[ye(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Ae(()=>[d("div",fm,[He(C(e.positionInfo.tokenName)+" ",1),(b(),I("svg",{class:"icon","aria-hidden":"true",onClick:t[0]||(t[0]=h=>e.store.copy(e.positionInfo.nftHash))},pm)),d("a",{href:e.chainName==="Aptos"?("getExplorerUrl"in e?e.getExplorerUrl:ve(jo))("nftAddress",e.positionInfo.nftHash):("getExplorerUrl"in e?e.getExplorerUrl:ve(jo))("nftAddress",e.positionInfo.pos_object_id),target:"_blank"},gm,8,vm)])]),_:1},8,["loading"]),d("div",{class:Te(["left",`position-status-${e.positionInfo&&e.positionInfo.currentStatus&&e.positionInfo.currentStatus.toLowerCase()}`])},[ye(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Ae(()=>{var h,g,M,A,le,m,P,$,y,p,k,F;return[d("div",ym,[d("div",null,[rt(d("img",null,null,512),[[f,e.getCoinIcon(e.needReverse?(g=e.positionInfo)==null?void 0:g.token_b:(h=e.positionInfo)==null?void 0:h.token_a)]]),rt(d("img",null,null,512),[[f,e.getCoinIcon(e.needReverse?(A=e.positionInfo)==null?void 0:A.token_a:(M=e.positionInfo)==null?void 0:M.token_b)]])]),d("span",null,C(e.needReverse?($=(P=e.positionInfo)==null?void 0:P.token_b)==null?void 0:$.symbol:(m=(le=e.positionInfo)==null?void 0:le.token_a)==null?void 0:m.symbol)+" - "+C(e.needReverse?(F=(k=e.positionInfo)==null?void 0:k.token_a)==null?void 0:F.symbol:(p=(y=e.positionInfo)==null?void 0:y.token_b)==null?void 0:p.symbol),1)]),d("div",bm,C(e.$t("common.fee"))+" "+C(e.positionInfo.fee*100)+"%",1)]}),_:1},8,["loading"])],2),d("div",km,[ye(s,{"current-status":e.positionInfo.currentStatus||""},null,8,["current-status"])]),ye(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:Ae(()=>{var h,g,M,A,le,m,P,$;return[d("div",wm,[(e.needReverse?!e.rateChange:e.rateChange)?(b(),I("div",Cm,[d("div",$m,C(("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(String(e.positionInfo&&e.positionInfo.minPrice),6))),1),e.store.theme=="default"?(b(),I("img",_m)):(b(),I("img",Am)),d("div",Pm,C(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(String(e.positionInfo&&e.positionInfo.maxPrice),6)))+" "+C((g=(h=e.positionInfo)==null?void 0:h.token_b)==null?void 0:g.symbol)+" per "+C((A=(M=e.positionInfo)==null?void 0:M.token_a)==null?void 0:A.symbol),1)])):(b(),I("div",Im,[d("div",Sm,C(("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(String(1/Number(e.positionInfo&&e.positionInfo.maxPrice)),6))),1),e.store.theme=="default"?(b(),I("img",Tm)):(b(),I("img",Nm)),d("div",Mm,C(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(String(1/Number(e.positionInfo&&e.positionInfo.minPrice)),6)))+" "+C((m=(le=e.positionInfo)==null?void 0:le.token_a)==null?void 0:m.symbol)+" per "+C(($=(P=e.positionInfo)==null?void 0:P.token_b)==null?void 0:$.symbol),1)])),(b(),I("svg",{class:"icon-change","aria-hidden":"true",onClick:t[1]||(t[1]=y=>e.rateChange=!e.rateChange)},Um))])]}),_:1},8,["loading"])]),ye(l,{disabled:("checkNullObj"in e?e.checkNullObj:ve($t))(e.positionInfo),onClick:t[2]||(t[2]=h=>e.router.push(`/position-detail?collect=${e.positionInfo.collectionName}&&token=${e.positionInfo.tokenName}&&address=${e.positionInfo.pool}&pos=${e.positionInfo.pos_object_id}`))},{default:Ae(()=>[He(C(e.$t("newAdd.viewDetail")),1)]),_:1},8,["disabled"])]),_:1},8,["title"])}const qm=mt(um,[["render",Lm],["__scopeId","data-v-e3466cf5"]]),Om=ft({components:{Modal:ei},setup(){const e=dt(),t=ee(()=>e);return{importIcon:Xe,store:t}}}),Bm=""+new URL("img-Creat-success_2x.b6f0a395.png",import.meta.url).href,Fm=""+new URL("img-Creat-success.9734ad6f.png",import.meta.url).href;const Em=e=>(jt("data-v-d7a9ceb3"),e=e(),Dt(),e),jm=Em(()=>d("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[d("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Dm={class:"create-success-container"},Hm={key:0,src:Bm,alt:""},zm={key:1,src:Fm,alt:""},Xm={class:"waiting-title"};function Vm(e,t,n,o,i,r){const a=ti("Modal");return b(),be(a,{visible:!0,class:"",centered:"",title:"",width:"400px",footer:null,onCancel:t[0]||(t[0]=s=>e.$emit("onClose"))},{closeIcon:Ae(()=>[jm]),default:Ae(()=>[d("div",Dm,[e.store.theme=="default"?(b(),I("img",Hm)):(b(),I("img",zm)),d("p",Xm,C(e.$t("newAdd.createPoolSuccessText")),1)])]),_:1})}const Wm=mt(Om,[["render",Vm],["__scopeId","data-v-d7a9ceb3"]]),Km=ft({components:{Modal:ei,CoinPairName:Tr},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},currentPrice:{type:String,default:""},needReverse:{type:Boolean,default:!1},direct:{type:Boolean,default:!0}},setup(e,t){const{t:n}=Pr(),o=bo(),i=dt(),r=ee(()=>i),a=nn(),s=ee(()=>a);return{t:n,route:o,decimalFormat:pn,addCommom:Ee,store:r,createPool:()=>{t.emit("createPool")},importIcon:Xe,getCoinIcon:f=>{var h;return(f==null?void 0:f.logoURI)||(f==null?void 0:f.logo_url)||((h=s.value.tokensObj[f==null?void 0:f.address])==null?void 0:h.logo_url)||(r.value.theme==="default"?Xe("/image/coins/unknown.png"):Xe("/image/coins/sui-unknown.png"))},decimalUi:Ne}}});const Ym=e=>(jt("data-v-f211730c"),e=e(),Dt(),e),Gm=Ym(()=>d("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[d("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Qm={class:"create-pool-content"},Jm={class:"top"},Zm={class:"coin-pair-box"},xm={class:"induction info"},ep={class:"item"},tp={class:"induction-text"},np={class:"induction-value"},op={class:"item"},ip={class:"induction-text"},rp={class:"induction-value"},ap={class:"item"},sp={class:"induction-text"},lp={class:"induction-value"},up={class:"min-and-max"},cp={class:"text"},dp={key:0,src:ni,alt:""},fp={key:1,src:oi,alt:""},mp={class:"text"},pp={class:"deposit-amount"},vp={class:"deposit-amount-title"},hp={class:"bottom"};function gp(e,t,n,o,i,r){const a=Tr,s=ko,l=ti("Modal"),u=Rn("image");return b(),be(l,{width:"440px",visible:!0,footer:null,title:e.$t("newAdd.preview"),class:"add-liquidity-modal",onCancel:t[0]||(t[0]=f=>e.$emit("onClose"))},{closeIcon:Ae(()=>[Gm]),default:Ae(()=>{var f,h;return[d("div",Qm,[d("div",Jm,[d("div",Zm,[ye(a,{"from-coin":e.fromCoin,"to-coin":e.toCoin},null,8,["from-coin","to-coin"])]),d("div",xm,[d("div",ep,[d("span",tp,C(e.$t("common.feeTier")),1),d("span",np,C(((h=(f=e.route)==null?void 0:f.query)==null?void 0:h.fee)*100)+" %",1)]),d("div",op,[d("span",ip,C(e.$t("newAdd.initialPrice")),1),d("span",rp,C(e.currentPrice)+" "+C(e.toCoin.symbol)+" per "+C(e.fromCoin.symbol),1)]),d("div",ap,[d("span",sp,C(e.$t("newAdd.priceRange")),1),d("span",lp,[d("div",up,[d("div",cp,C(("decimalUi"in e?e.decimalUi:ve(Ne))(e.minPrice,6)),1),e.store.theme=="default"?(b(),I("img",dp)):(b(),I("img",fp)),d("div",mp,C(e.maxPrice&&String(e.maxPrice).indexOf("+")>-1?"∞":("decimalUi"in e?e.decimalUi:ve(Ne))(e.maxPrice,6)),1)])])])])]),d("div",pp,[d("div",vp,C(e.$t("newAdd.depositAmount")),1),d("div",hp,[d("div",null,[rt(d("img",null,null,512),[[u,e.getCoinIcon((e.needReverse?!e.direct:e.direct)?e.fromCoin:e.toCoin)]]),d("p",null,C((e.needReverse?!e.direct:e.direct)?e.fromCoinAmount?e.fromCoinAmount:0:e.toCoinAmount?e.toCoinAmount:0),1),d("span",null,C((e.needReverse?!e.direct:e.direct)?e.fromCoin.symbol:e.toCoin.symbol),1)]),d("div",null,[rt(d("img",null,null,512),[[u,e.getCoinIcon((e.needReverse?!e.direct:e.direct)?e.toCoin:e.fromCoin)]]),d("p",null,C((e.needReverse?!e.direct:e.direct)?e.toCoinAmount?e.toCoinAmount:0:e.fromCoinAmount?e.fromCoinAmount:0),1),d("span",null,C((e.needReverse?!e.direct:e.direct)?e.toCoin.symbol:e.fromCoin.symbol),1)])])])]),ye(s,{class:"big-btn liquidity-btn",onClick:e.createPool},{default:Ae(()=>[He(C(e.$t("newAdd.createAndAddLiquidity")),1)]),_:1},8,["onClick"])]}),_:1},8,["title"])}const yp=mt(Km,[["render",gp],["__scopeId","data-v-f211730c"]]),bp={1e-4:2,5e-4:10,.002:60,.006:200},kp={1e-4:2,5e-4:10,.0025:60,.01:200},wp=ft({setup(){let e=R(!1);const{t,locale:n}=Pr(),o=Sa(),i=ee(()=>o),r=dt(),a=R(0),s=R(!1),l=R(!1),u=R(!1),f=R("fromCoin"),h=R(""),g=R(""),M=R(!1),A=R(!0),le=R(!1),m=R(!0),P=R(!1),$=R(""),y=R(""),p=R(""),k=R(""),F=R(""),W=R(""),Q=R(!1),ce=R(!1),J=R(!1),T=R(""),Z=R(0),E=R(!0),Y=R(!1),ke=R([]),X=R(""),ae=R(30),ue=R("30D"),oe=R("Estimated APR"),ie=R([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),me=R(!0),x=dt(),V=ee(()=>x),pt=ee(()=>{var c;return!!((c=L==null?void 0:L.query)!=null&&c.action&&(!w.value||!_.value||!T.value))}),H=ee(()=>V.value.chainName?go(V.value.chainName):{}),Ge=ee(()=>{var c;return(c=V.value)==null?void 0:c.filterCreatePoolCoin}),je=c=>{ot.updateCurrentPools(se.value.poolAddress,V.value.chainName),ue.value=c.time,ae.value=c.num},vt=()=>{me.value=!me.value},bt=R([]),at=()=>{a.value=0,L.query.action!=="create-pool"&&L.query.actions!=="new-position"&&(wn(),wt(),ot.updateCurrentPools(se.value.poolAddress,V.value.chainName)),ot.setPoolConfigList(To.value,V.value.filterCoinsObj)},Ht=ee(()=>Number(p.value)>0&&Number(k.value)>0&&Number(p.value)>Number(k.value)),Qe=c=>{le.value=c,p.value="0",k.value="∞"},qe=ee(()=>{if(K.value.poolConfigList&&w.value&&_.value){const c=K.value.poolConfigList.filter(S=>{var U,j,D,G;return S.token_a.address.toUpperCase()===((U=w.value.address)==null?void 0:U.toUpperCase())&&S.token_b.address.toUpperCase()===((j=_.value.address)==null?void 0:j.toUpperCase())||S.token_b.address.toUpperCase()===((D=w.value.address)==null?void 0:D.toUpperCase())&&S.token_a.address.toUpperCase()===((G=_.value.address)==null?void 0:G.toUpperCase())}),v=[];return c.forEach(S=>{v.push(Number(S.fee))}),v}else return[]}),gt=ee(()=>{if(K.value.poolConfigList&&w.value&&_.value){const c=K.value.poolConfigList.filter(U=>{var G,de,re,fe;const j=U.coin_a_address=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":U.coin_a_address,D=U.coin_b_address=="0x0000000000000000000000000000000000000000000000000000000000000002::sui::SUI"?"0x2::sui::SUI":U.coin_b_address;return j.toUpperCase()===((G=w.value.address)==null?void 0:G.toUpperCase())&&D.toUpperCase()===((de=_.value.address)==null?void 0:de.toUpperCase())||D.toUpperCase()===((re=w.value.address)==null?void 0:re.toUpperCase())&&j.toUpperCase()===((fe=_.value.address)==null?void 0:fe.toUpperCase())}),v={};let S=new O(0);return c.forEach(U=>{S=S.add(new O(U.object.liquidity))}),c.forEach(U=>{const j=new O(U.object.liquidity),D=j.gt(0)?new O(j).div(S).mul(100).toString():0;v[U.fee]={rateText:(D>0&&D<.01?"<0.01":D==0?0:Kn(D,2))+"% select",rate:D}}),v}}),kt=ee(()=>[{label:.01+"% "+t("common.feeTier"),title:.01+"% ",fee:1e-4,text:t("newAdd.bestVeryStablePairs")},{label:.05+"% "+t("common.feeTier"),title:.05+"% ",fee:5e-4,text:t("newAdd.bestStablePairs")},V.value.chainName=="Aptos"?{label:.2+"% "+t("common.feeTier"),title:.2+"% ",fee:.002,text:t("newAdd.bestMostPairs")}:{label:.25+"% "+t("common.feeTier"),title:.25+"% ",fee:.0025,text:t("newAdd.bestMostPairs")},V.value.chainName=="Aptos"?{label:.6+"% "+t("common.feeTier"),title:.6+"% ",fee:.006,text:t("newAdd.besteExoticPairs")}:{label:"1% "+t("common.feeTier"),title:"1% ",fee:.01,text:t("newAdd.besteExoticPairs")}]),ze=ee(()=>r.slippage),te=ee(()=>!w.value||!_.value),Me=ee(()=>{var c,v;return!!(!$.value&&!y.value||Number($.value)>Number(Ye.value)||Number(y.value)>Number(Je.value)||st.value!==t("button.addLiquidity")&&st.value!==t("newAdd.preview")||se.value&&se.value&&se.value.is_pause||(c=L==null?void 0:L.query)!=null&&c.action&&!z.value&&!((v=z.value)!=null&&v.currentPrice)||Number($.value)<=0&&Number(y.value)<=0||!Pe.value&&Number($.value)==0||!Ie.value&&Number(y.value)==0||J.value)}),st=ee(()=>{var c,v;return se.value&&se.value.is_pause?"Pool Closed":!w.value||!_.value?t("modal.selectTokenModalTitle"):To.value=="Sui"&&!qe.value.includes(1e-4)&&!qe.value.includes(5e-4)&&!qe.value.includes(.0025)&&!qe.value.includes(.01)&&!Ge.value[w==null?void 0:w.value.address]&&!Ge.value[(c=_.value)==null?void 0:c.address]?"Invalid Pool":(L.query.action||L.query.actions)&&!T.value&&Zn[V.value.chainName].hasCreatePool?"Select fee tier":te.value?t("modal.selectTokenModalTitle"):!Zn[V.value.chainName].hasCreatePool&&!se.value?t("button.poolNotFound"):Number($.value)>Number(Ye.value)?t("button.insufficientBalance",{name:w.value.symbol}):Number(y.value)>Number(Je.value)?t("button.insufficientBalance",{name:_.value.symbol}):P.value?t("modal.selectTokenModalTitle"):!se.value&&w.value&&_.value&&((v=L==null?void 0:L.query)==null?void 0:v.action)=="create-pool"?t("newAdd.preview"):!Number($.value)&&!Number(y.value)?t("button.enterAmount"):k.value!=="∞"&&Number(p.value)>=Number(k.value)?t("newAdd.invalidRange"):t("button.addLiquidity")}),q=ee(()=>{var c,v,S;return!se.value||$t(V.value.addressHistTokens)||!V.value.addressHistTokens[(c=se.value)==null?void 0:c.poolAddress]?null:Object.fromEntries((S=V.value.addressHistTokens[(v=se.value)==null?void 0:v.poolAddress])==null?void 0:S.data.map(U=>[U.key,U.value]))}),ne=ee(()=>A.value?q.value&&Ne(ae.value==7?q.value.before_7_d_contract_price_lowest:ae.value==24?q.value.before_24_h_contract_price_lowest:q.value.before_30_d_contract_price_lowest,6)||0:q.value&&Ne(new O(1).div(ae.value==7?q.value.before_7_d_contract_price_highest:ae.value==24?q.value.before_24_h_contract_price_highest:q.value.before_30_d_contract_price_highest).toString(),6)||0),lt=ee(()=>A.value?q.value&&Ne(ae.value==7?q.value.before_7_d_contract_price_highest:ae.value==24?q.value.before_24_h_contract_price_highest:q.value.before_30_d_contract_price_highest,6)||0:(q.value&&Ne(1/Number(ae.value==7?q.value.before_7_d_contract_price_lowest:ae.value==24?q.value.before_24_h_contract_price_lowest:q.value.before_30_d_contract_price_lowest),6))==1/0?0:q.value&&Ne(1/Number(ae.value==7?q.value.before_7_d_contract_price_lowest:ae.value==24?q.value.before_24_h_contract_price_lowest:q.value.before_30_d_contract_price_lowest),6)||0),Re=xo(),w=R(),_=R();yo(()=>{document.body.clientWidth<750?(me.value=!1,e.value=!1):(me.value=!0,e.value=!0)});const qn=c=>{var v,S;(v=se.value)==null||v.token_a.decimals,(S=se.value)==null||S.token_b.decimals,c!==p.value&&X.value=="full range"?Xn({key:"custom",...N.value.custom}):(X.value!=="full range"&&X.value!=="custom"&&(X.value="custom"),p.value=c)},On=c=>{c!==k.value&&X.value=="full range"?Xn({key:"custom",...N.value.custom}):(X.value!=="full range"&&X.value!=="custom"&&(X.value="custom"),k.value=c)},Bn=()=>{var v;if(L.query.action)A.value=!A.value,z.value&&Io(Ne(new O(1).div(z.value.currentPrice).toString(),(v=_==null?void 0:_.value)==null?void 0:v.decimals));else if(E.value=!0,E.value=!1,A.value=!A.value,p.value!==""&&k.value!==""&&p.value!=="0"&&k.value!=="∞"){const S=p.value,U=k.value;p.value=new O(1).div(U).toString(),k.value=new O(1).div(S).toString();const j=F.value,D=W.value;F.value=new O(1).div(D).toString(),W.value=new O(1).div(j).toString(),Y.value=!1}const c=w.value;w.value=_.value,_.value=c,m.value?$.value=y.value:y.value=$.value};we([p,k],([c,v])=>{Number(c)!==0&&Number(v)!==0&&wt(),v!=="∞"&&Number(c)!==0&&Number(v)!==0&&Number(c)>=Number(v)?J.value=!0:J.value=!1,Number(c)==0&&Number(v)==0&&We.value&&(J.value=!0)});const Kt=R(!1),Yt=R(!1),Fn=c=>{var v,S,U,j,D,G,de,re,fe;f.value=c,c==="fromCoin"?(h.value=((v=_.value)==null?void 0:v.address)||"",g.value=((S=w.value)==null?void 0:S.address)||"",((U=L==null?void 0:L.query)==null?void 0:U.action)=="create-pool"&&((j=L==null?void 0:L.query)==null?void 0:j.from)==="pool"?Yt.value=!0:Yt.value=!1,Kt.value=!1):(h.value=((D=w.value)==null?void 0:D.address)||"",g.value=((G=_.value)==null?void 0:G.address)||"",((de=L==null?void 0:L.query)==null?void 0:de.action)=="create-pool"&&((re=L==null?void 0:L.query)==null?void 0:re.from)==="pool"&&!Ge[(fe=w.value)==null?void 0:fe.address]?Kt.value=!0:Kt.value=!1,Yt.value=!1),M.value=!0},Oe=R(null),Be=R(null),yn=R({}),bn=R({}),En=c=>{var v,S,U,j;P.value=!1,f.value==="fromCoin"?(((v=w.value)==null?void 0:v.address)===((S=Oe.value)==null?void 0:S.address)?(_.value&&c.address.toLowerCase()===(_==null?void 0:_.value.address.toLowerCase())&&(_.value=null,Be.value=null,T.value=""),w.value=c):(w.value&&c.address.toLowerCase()===(w==null?void 0:w.value.address.toLowerCase())&&(w.value=null,Oe.value=null,T.value=""),_.value=c),Oe.value=c,L.query.action||(L.query.fee="")):(((U=_.value)==null?void 0:U.address)===((j=Be.value)==null?void 0:j.address)?(w.value&&c.address.toLowerCase()===(w==null?void 0:w.value.address.toLowerCase())&&(w.value=null,Oe.value=null,T.value=""),_.value=c):(_.value&&c.address.toLowerCase()===(_==null?void 0:_.value.address.toLowerCase())&&(_.value=null,Be.value=null,T.value=""),w.value=c),Be.value=c,L.query.action||(L.query.fee="")),Io(""),M.value=!1},jn=c=>{c==="fromCoin"?(m.value=!0,V.value.chainName==="Aptos"?$.value=Number(Ye.value)>0?w.value.symbol=="APT"?new O(Number(Ye.value)).sub(new O(.1)).lt(new O(0))?"0":new O(Number(Ye.value)).sub(new O(.1)).toString():String(Ye.value):"":$.value=Number(Ye.value)>0?w.value.symbol=="SUI"?new O(Number(Ye.value)).sub(new O(.05)).lt(new O(0))?"0":new O(Number(Ye.value)).sub(new O(.05)).toString():String(Ye.value):""):(m.value=!1,V.value.chainName==="Aptos"?y.value=Number(Je.value)>0?_.value.symbol=="APT"?new O(Number(Je.value)).sub(new O(.1)).lt(new O(0))?"0":new O(Number(Je.value)).sub(new O(.1)).toString():String(Je.value):"":y.value=Number(Je.value)>0?_.value.symbol=="SUI"?new O(Number(Je.value)).sub(new O(.05)).lt(new O(0))?"0":new O(Number(Je.value)).sub(new O(.05)).toString():String(Je.value):"")},Dn=c=>{c==="fromCoin"?(m.value=!0,$.value=Number(Ye.value)>0?Kn(new O(Number(Ye.value)).div(2).toString(),w.value.decimals).toString():""):(m.value=!1,y.value=Number(Je.value)>0?Kn(new O(Number(Je.value)).div(2).toString(),_.value.decimals).toString():"")};we($,(c,v)=>{c==""&&m.value&&(y.value=""),c&&m.value&&wt()}),we(y,(c,v)=>{c==""&&!m.value&&($.value=""),c&&!m.value&&wt()});const Hn=()=>{w.value=null,_.value=null,p.value="0",k.value="0",$.value="",y.value="",P.value=!0,T.value="",Q.value=!1,Pe.value=!0,Ie.value=!0,E.value=!1},on=R(!1),{setIsShowSuccess:Rt,setIsShowRejected:Ut,setIsShowWaiting:nt,setTransactionDesc:rn,setTransactionTxid:Lt,setPositiomNum:an}=r,L=bo(),ot=nn(),zt=ee(()=>Zn[V.value.chainName].hasCreatePool);we(()=>[T.value,L.query.action,w.value,_.value,L.query.actions,zt.value],([c,v,S,U,j,D])=>{!c&&(v=="create-pool"||j=="new-position")&&S&&U&&D?(Q.value=!0,E.value=!1):(!S||!U)&&(Q.value=!1)},{immediate:!0});const K=ee(()=>ot);we(()=>K.value.tokens,async c=>{if(c&&c.length>0){const v=c;if(L&&L.query&&L.query.tokena&&L.query.tokena){const S=await H.value.getTokenBySymbol(v,L.query.tokena);w.value=S,Oe.value=S}if(L&&L.query&&L.query.tokenb&&L.query.tokenb){const S=await H.value.getTokenBySymbol(v,L.query.tokenb);_.value=S,Be.value=S}}},{immediate:!0});const qt=R({}),Pe=R(!1),Ie=R(!1),sn=R(),ln=R(),We=R(),yt=R(),wt=async()=>{var De,_e,it,Ve,Se,Ke;if(!p.value&&!k.value)return!1;if(!$.value&&!y.value&&!p.value&&!k.value)return;const c=se.value?se.value:z.value;if($t(c))return;const{TickUtil:v,TickMath:S,getNearestTickByTick:U}=H.value,j=c==null?void 0:c.token_a.decimals,D=c==null?void 0:c.token_b.decimals;let G,de,re,fe,he,pe,Ce,Ue,$e=c.current_tick_index,ge;if(c.token_a.address.toLowerCase()===w.value.address.toLowerCase()&&c.token_b.address.toLowerCase()===_.value.address.toLowerCase()?ge=!0:ge=!1,p.value==="0"&&k.value==="∞")re=v.getMinIndex(Number(c.tickSpacing)),fe=v.getMaxIndex(Number(c.tickSpacing)),he=S.tickIndexToSqrtPriceX64(re),pe=S.tickIndexToSqrtPriceX64(fe);else if(X.value=="custom"||L.query.action){ge?(G=Number(p.value),de=Number(k.value)):(G=new O(1).div(k.value).toString(),de=new O(1).div(p.value).toString());try{Ce=G==0?-443636:S.priceToTickIndex(new O(G),j,D)}catch{Ce=-443636}try{Ue=S.priceToTickIndex(new O(de),j,D)}catch{Ue=443636}re=U(Ce,Number(c.tickSpacing)),fe=U(Ue,Number(c.tickSpacing)),he=S.priceToSqrtPriceX64(new O(G),j,D);try{pe=S.priceToSqrtPriceX64(new O(de),j,D)}catch{de===1/0&&(pe=S.tickIndexToSqrtPriceX64(v.getMaxIndex(Number(c.tickSpacing))))}}else re=(De=N.value[X.value])==null?void 0:De.lower,fe=(_e=N.value[X.value])==null?void 0:_e.upper,he=S.tickIndexToSqrtPriceX64(re),pe=S.tickIndexToSqrtPriceX64(fe);if(k.value!=="∞"&&re>=fe){Pe.value=!0,$.value="",Ie.value=!0,y.value="";return}if(k.value==="∞"||$e>re&&$e<fe){Pe.value=!1,Ie.value=!1;let Fe;if($.value||y.value){if(m.value){const Wt=new O($.value).mul(Math.pow(10,w.value.decimals)).toString();Fe=new Ct(Wt)}else{const Wt=new O(y.value).mul(Math.pow(10,_.value.decimals)).toString();Fe=new Ct(Wt)}const{liquidityAmount:Le,tokenMaxA:ut,tokenMaxB:Ze,tokenMaxAOrigin:xe,tokenMaxBOrigin:St}=H.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:c.token_a,tokenB:c.token_b,lowerTick:re,upperTick:fe,coinAmount:Fe,iscoinA:ge?m.value:!m.value,roundUp:!0,slippage:Number(ze.value)/100,curSqrtPrice:new Ct(c.current_sqrt_price)});qt.value={liquidityAmount:Le,tokenMaxA:ut,tokenMaxB:Ze,tokenMaxAOrigin:xe,tokenMaxBOrigin:St},ge?m.value?y.value=Number(Ze)>0?Ze:"":$.value=Number(ut)>0?ut:"":m.value?y.value=ut:$.value=Ze}}else if($e>=fe){if(ge?$.value="":y.value="",Pe.value=ge,Ie.value=!ge,(it=L==null?void 0:L.query)!=null&&it.action&&(Pe.value=!0,Ie.value=!0),$.value||y.value){let Fe;if(ge){const Le=new O(y.value).mul(Math.pow(10,(Ve=_.value)==null?void 0:Ve.decimals)).toString();Fe=new Ct(Le),qt.value={liquidityAmount:H.value.estimateLiquidityForCoinB(he,pe,Fe),tokenMaxA:0,tokenMaxB:y.value}}else{const Le=new O($.value).mul(Math.pow(10,(Se=w.value)==null?void 0:Se.decimals)).toString();Fe=new Ct(Le),qt.value={liquidityAmount:H.value.estimateLiquidityForCoinB(he,pe,Fe),tokenMaxA:0,tokenMaxB:$.value}}}}else if($e<=re){if(Pe.value=!ge,Ie.value=ge,(Ke=L==null?void 0:L.query)!=null&&Ke.action&&(Pe.value=!0,Ie.value=!0),ge?y.value="":$.value="",$.value||y.value){let Fe;if(ge){const Le=new O($.value).mul(Math.pow(10,w.value.decimals)).toString();Fe=new Ct(Le),qt.value={liquidityAmount:H.value.estimateLiquidityForCoinA(he,pe,Fe),tokenMaxA:$.value,tokenMaxB:0}}else{const Le=new O(y.value).mul(Math.pow(10,_.value.decimals)).toString();Fe=new Ct(Le),qt.value={liquidityAmount:H.value.estimateLiquidityForCoinA(he,pe,Fe),tokenMaxA:y.value,tokenMaxB:0}}}}else Pe.value=!0,$.value="",Ie.value=!0,y.value=""},Xt=R(0);we(()=>{var c;return(c=L.query)==null?void 0:c.fee},c=>{c&&(Xt.value=c,T.value=Number(c)*100+"% "+t("common.feeTier"))},{immediate:!0,deep:!0});const kn=ee(()=>{var j,D,G;const c=(j=L==null?void 0:L.query)==null?void 0:j.fee,v=(D=L==null?void 0:L.query)==null?void 0:D.tokena,S=(G=L==null?void 0:L.query)==null?void 0:G.tokenb;let U=null;for(let de=0;de<K.value.poolConfigList.length;de++){const re=K.value.poolConfigList[de];!v||!S?U={}:(re.token_a.address.toUpperCase()===(v==null?void 0:v.toUpperCase())&&re.token_b.address.toUpperCase()===(S==null?void 0:S.toUpperCase())||re.token_b.address.toUpperCase()===(v==null?void 0:v.toUpperCase())&&re.token_a.address.toUpperCase()===(S==null?void 0:S.toUpperCase()))&&(U=re)}return U}),se=ee(()=>{var v,S,U,j,D,G,de,re,fe,he,pe,Ce,Ue;const c=(v=L==null?void 0:L.query)==null?void 0:v.fee;if(w.value&&_.value){let $e=null;if(c)for(const De in K.value.poolsObj){const _e=K.value.poolsObj[De];(_e.token_a.address.toUpperCase()===((U=(S=w==null?void 0:w.value)==null?void 0:S.address)==null?void 0:U.toUpperCase())&&_e.token_b.address.toUpperCase()===((D=(j=_==null?void 0:_.value)==null?void 0:j.address)==null?void 0:D.toUpperCase())&&Number(_e.fee)==Number(Xt.value)||_e.token_b.address.toUpperCase()===((G=w==null?void 0:w.value.address)==null?void 0:G.toUpperCase())&&_e.token_a.address.toUpperCase()===((re=(de=_==null?void 0:_.value)==null?void 0:de.address)==null?void 0:re.toUpperCase())&&Number(_e.fee)==Number(Xt.value))&&($e=_e)}const ge=[];if(!((fe=L==null?void 0:L.query)!=null&&fe.action)&&(!c||!$e)){for(const De in K.value.poolsObj){const _e=K.value.poolsObj[De];(_e.token_a.address.toUpperCase()===((he=w==null?void 0:w.value.address)==null?void 0:he.toUpperCase())&&_e.token_b.address.toUpperCase()===((pe=_.value.address)==null?void 0:pe.toUpperCase())||_e.token_b.address.toUpperCase()===((Ce=w==null?void 0:w.value.address)==null?void 0:Ce.toUpperCase())&&_e.token_a.address.toUpperCase()===((Ue=_.value.address)==null?void 0:Ue.toUpperCase()))&&ge.push(_e)}ge&&ge.length>0&&($e=ge.sort((De,_e)=>{const it=De.coinAmountA+De.coinAmountB;return _e.coinAmountA+_e.coinAmountB-it})[0])}return $e&&!$t($e)?$e:null}return null}),zn=ee(()=>{var U,j;const c=(U=w==null?void 0:w.value)==null?void 0:U.address,v=(j=_==null?void 0:_.value)==null?void 0:j.address;let S=null;for(let D=0;D<K.value.poolConfigList.length;D++){const G=K.value.poolConfigList[D];!c||!v?S={}:(G.token_a.address.toUpperCase()===(c==null?void 0:c.toUpperCase())&&G.token_b.address.toUpperCase()===(v==null?void 0:v.toUpperCase())||G.token_b.address.toUpperCase()===(c==null?void 0:c.toUpperCase())&&G.token_a.address.toUpperCase()===(v==null?void 0:v.toUpperCase()))&&(S=G)}return S});we(()=>[kn.value,se.value,K.value.recommendRangesObj],(c,v)=>{var S,U,j,D,G;c[0]&&!c[1]&&c[2]&&!$t(c[2])&&(!v||c[0]&&((S=c[0])==null?void 0:S.address)!==v[0]&&((U=v[0])!=null&&U.address))&&(j=c[0])!=null&&j.address&&!((D=L==null?void 0:L.query)!=null&&D.action)&&ot.setSinglePool(c[0],c[2][(G=c[0])==null?void 0:G.address],V.value.chainName)},{immediate:!0,deep:!0});const N=R({}),Gt=async(c,v)=>{var S,U,j,D;if(c){const{TickMath:G,getNearestTickByTick:de}=H.value;v&&(E.value=!0),c.token_a.address.toLowerCase()===w.value.address.toLowerCase()&&c.token_b.address.toLowerCase()===_.value.address.toLowerCase()?A.value=!0:A.value=!1,Y.value=!0;const re=c.token_a.decimals,fe=c.token_b.decimals;Pe.value=!1,Ie.value=!1,T.value=c.fee*100+"% "+t("common.feeTier");const he=c.current_tick_index;We.value=G.sqrtPriceX64ToPrice(c.current_sqrt_price,re,fe).toString(),yt.value=String(1/We.value);const pe=await H.value.getTicks(c);if(ke.value=pe?H.value.getTickDataFromUrlData(pe):[],v){let Ce=K.value.poolPriceConfigObj&&K.value.poolPriceConfigObj[c.address]&&K.value.poolPriceConfigObj[c.address].recommend_ranges||{};const Ue=K.value.poolPriceConfigObj&&K.value.poolPriceConfigObj[c.address]&&K.value.poolPriceConfigObj[c.address].type||"",$e=he-Number(Ue=="unstable"?Number(c.tickSpacing)*2:Number(c.tickSpacing)*3),ge=he+Number(Ue=="unstable"?Number(c.tickSpacing)*2:Number(c.tickSpacing)*3),De=(U=(S=se==null?void 0:se.value)==null?void 0:S.token_a)==null?void 0:U.decimals,_e=(D=(j=se==null?void 0:se.value)==null?void 0:j.token_b)==null?void 0:D.decimals,it=H.value.TickMath.tickIndexToPrice($e,De,_e).toString(),Ve=H.value.TickMath.tickIndexToPrice(ge,De,_e).toString();Ce["full range"]={lower:-443636,upper:443636},Ce.custom={lower:$e,upper:ge,minPrice:it,maxPrice:Ve};const Se=[];for(let Ke in Ce)Ce[Ke]&&Se.push({...Ce[Ke],key:Ke});bt.value=Se,Ue?c.isSelfBuilt?X.value="custom":Ue=="stable"?X.value="suggested":X.value="passive":X.value="custom",N.value=Ce,Xn({key:X.value,...Ce[X.value]})}E.value=!1}else E.value=!1},Vt=ee(()=>ot.getPoolInfoSuccess);we(()=>se.value,(c,v)=>{var S,U,j,D,G,de,re,fe,he,pe,Ce,Ue;c?((!v||c.poolAddress!==v.poolAddress||c.current_sqrt_price!==v.current_sqrt_price)&&Gt(c,!v||c.poolAddress!==v.poolAddress),Re.push(`/deposit?poolAddress=${c==null?void 0:c.address}&tokena=${(S=w==null?void 0:w.value)==null?void 0:S.address}&tokenb=${(U=_==null?void 0:_.value)==null?void 0:U.address}&fee=${c==null?void 0:c.fee}`)):((j=L==null?void 0:L.query)==null?void 0:j.actions)=="new-position"||(!zn.value&&zt.value&&((D=w==null?void 0:w.value)!=null&&D.address||(G=_==null?void 0:_.value)!=null&&G.address)?(T.value="",p.value="0",k.value="0",Pe.value=!1,Ie.value=!1,E.value=!1,We.value="",yt.value="",Re.push(`/deposit?action=create-pool&tokena=${(de=w==null?void 0:w.value)==null?void 0:de.address}&tokenb=${(re=_==null?void 0:_.value)==null?void 0:re.address}&from=${(fe=L==null?void 0:L.query)==null?void 0:fe.from}`)):zt.value&&!c&&!((he=L==null?void 0:L.query)!=null&&he.action)&&Vt.value&&!kn.value?(T.value="",p.value="0",k.value="0",Pe.value=!1,Ie.value=!1,E.value=!1,We.value="",yt.value="",Re.push(`/deposit?action=create-pool&tokena=${(pe=w==null?void 0:w.value)==null?void 0:pe.address}&tokenb=${(Ce=_==null?void 0:_.value)==null?void 0:Ce.address}&from=${(Ue=L==null?void 0:L.query)==null?void 0:Ue.from}`)):(Pe.value=!1,Ie.value=!1,E.value=!1,We.value="",yt.value=""))},{immediate:!0});const Ye=ee(()=>i.value.assets&&w.value&&i.value.assets[w.value.address]?Oi(i.value.assets[w.value.address].balance,w.value.decimals):"0"),Je=ee(()=>i.value.assets&&_.value&&i.value.assets[_.value.address]?Oi(i.value.assets[_.value.address].balance,_.value.decimals):"0"),wn=async()=>{const c=await H.value.getTicks(se.value),v=c?H.value.getTickDataFromUrlData(c):[];ke.value=v},Cn=Fa(),Qt=ee(()=>K.value.currentPositionInfo),da=async c=>{var he,pe,Ce,Ue,$e,ge,De,_e,it,Ve;on.value=!1,K.value.currentPositionInfo={},Lt(""),rn(t("tips.increaseLiquiditySuccess",{from:Pe.value?"":`${$.value} ${(he=w.value)==null?void 0:he.symbol}`,and:!Pe.value&&!Ie.value?"and":"",to:Ie.value?"":`${y.value} ${(pe=_.value)==null?void 0:pe.symbol}`})),nt(!0);const v=A.value?m.value:!m.value;let S,U,j,D,G,de;const re=se.value.token_a.decimals,fe=se.value.token_b.decimals;if(p.value==="0"&&k.value==="∞")j=H.value.TickUtil.getMinIndex(Number(se.value.tickSpacing)),D=H.value.TickUtil.getMaxIndex(Number(se.value.tickSpacing));else if(X.value=="custom"){A.value?(S=Number(p.value),U=Number(k.value)):(S=new O(1).div(k.value).toString(),U=new O(1).div(p.value).toString());try{G=S==0?H.value.TickUtil.getMinIndex(Number(se.value.tickSpacing)):H.value.TickMath.priceToTickIndex(new O(S),re,fe)}catch{G=H.value.TickUtil.getMinIndex(Number(se.value.tickSpacing))}try{de=H.value.TickMath.priceToTickIndex(new O(U),re,fe)}catch{de=H.value.TickUtil.getMaxIndex(Number(se.value.tickSpacing))}j=H.value.getNearestTickByTick(G,Number(se.value.tickSpacing)),D=H.value.getNearestTickByTick(de,Number(se.value.tickSpacing))}else j=N.value[X.value].lower,D=N.value[X.value].upper;try{const Se=await H.value.getAddLiquidityTransactionPayload({pool:{poolAddress:se.value.poolAddress,token_a:se.value.token_a,token_b:se.value.token_b},amount:m.value?$.value:y.value,fix_amount_a:v,tick_lower:j,tick_upper:D,index:0,slippage:Number(ze.value)/100,roundUp:!0});let Ke;if(V.value.chainName==="Aptos")Ke=await i.value.currentWallet.signAndSubmitTransaction(Se);else{const Fe=await i.value.currentWallet.signAndExecuteTransactionBlock(Se);Ke=H.value.handleTx(Fe)}if(Ke&&Ke.hash){Lt(Ke.hash),nt(!1),Rt(!0);const Fe=pi();let Le;se.value.needReverse?se.value.token_a.address.toLowerCase()===w.value.address.toLowerCase()&&se.value.token_b.address.toLowerCase()===_.value.address.toLowerCase()?Le=!1:Le=!0:se.value.token_a.address.toLowerCase()===w.value.address.toLowerCase()&&se.value.token_b.address.toLowerCase()===_.value.address.toLowerCase()?Le=!0:Le=!1;const ut={title:"Supplied",desc:t("tips.addLiquiditySuccessText",{from:Pe.value?"":`${$.value} ${(Ce=w.value)==null?void 0:Ce.symbol}`,and:!Pe.value&&!Ie.value?"and":"",to:Ie.value?"":`${y.value} ${(Ue=_.value)==null?void 0:Ue.symbol}`}),hash:Ke.hash,tit:"Position Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:Le?($e=w.value)==null?void 0:$e.address:(ge=_.value)==null?void 0:ge.address,numa:Le?$.value:y.value,logoa:Le?K.value.tokensObj&&w.value&&w.value.address&&K.value.tokensObj[w.value.address]&&K.value.tokensObj[w.value.address].logoURI:K.value.tokensObj&&_.value&&_.value.address&&K.value.tokensObj[_.value.address]&&K.value.tokensObj[_.value.address].logoURI,tokenb:Le?(_e=_.value)==null?void 0:_e.address:(De=w.value)==null?void 0:De.address,numb:Le?y.value:$.value,logob:Le?K.value.tokensObj&&_.value&&_.value.address&&K.value.tokensObj[_.value.address]&&K.value.tokensObj[_.value.address].logoURI:K.value.tokensObj&&w.value&&w.value.address&&K.value.tokensObj[w.value.address]&&K.value.tokensObj[w.value.address].logoURI},text:`Deopsit ${Pe.value?"":`${$.value} ${(it=w.value)==null?void 0:it.symbol}`} ${!Pe.value&&!Ie.value?"and":""} ${Ie.value?"":`${y.value} ${(Ve=_.value)==null?void 0:Ve.symbol}`}`};V.value.chainName!=="Aptos"&&(ut.res=Ke.res),H.value.showTransitionPending(ut);const Ze=await H.value.watchTransaction(ut,!0);if(Ze.status){if(Rt(!1),K.value.setCurrentPositionLoading(!0),l.value=!0,V.value.chainName==="Aptos")await K.value.setCurrentPositionInfo(Ze.nftInfo[0].data.id.creator,Ze.nftInfo[0].data.id.collection,Ze.nftInfo[0].data.name,V.value.chainName),c&&await Cn.subscribePosition({pool_address:Qt.value.poolAddress,position_index:Qt.value.index},Qt.value.nftHash);else{const xe=Ze.nftInfo,St=await Bi(2e3);await K.value.setCurrentPositionInfo(xe==null?void 0:xe.pool,"","",V.value.chainName,xe==null?void 0:xe.position),await Bi(1e3),c&&await Cn.subscribePosition({pool_address:Qt.value.poolAddress,position_index:Qt.value.index},Qt.value.nftHash)}setTimeout(()=>{ot.updateCurrentPools(se.value.poolAddress,V.value.chainName),H.value.getAccount(i.value.address)},3e3),setTimeout(async()=>{wn()},3e3)}an()}else nt(!1),Ut(!0);$.value="",y.value=""}catch{$.value="",y.value="",nt(!1),Ut(!0)}},fa=c=>{switch(c){case"active":return t("newAdd.activeTips");case"passive":return t("newAdd.passiveTips");case"full range":return t("newAdd.fullRangTips");case"suggested":return t("newAdd.suggestedTips");case"custom":return t("newAdd.customTips")}},ma=c=>{switch(c){case"suggested":return t("newAdd.suggested");case"active":return t("newAdd.active");case"passive":return t("newAdd.conservative");case"full range":return t("newAdd.fullRange");case"custom":return t("newAdd.custom")}},Xn=c=>{X.value=c.key.toLowerCase();const v=se.value.token_a.decimals,S=se.value.token_b.decimals,{lower:U,upper:j}=c,D=H.value.TickMath.tickIndexToPrice(U,v,S).toString(),G=H.value.TickMath.tickIndexToPrice(j,v,S).toString();if(c.key=="full range"){sn.value=U,ln.value=j,Qe(!0),wt();return}A.value?(F.value=String(D),p.value=String(D),W.value=String(G),k.value=String(G),sn.value=U,ln.value=j,wt()):(F.value=String(1/Number(G)),p.value=String(1/Number(G)),W.value=String(1/Number(D)),k.value=String(1/Number(D)),sn.value=H.value.TickMath.priceToTickIndex(new O(1/Number(G)),v,S),ln.value=H.value.TickMath.priceToTickIndex(new O(1/Number(D)),v,S),wt())},pa=ee(()=>K.value.tokensObj&&w.value.address&&K.value.tokensObj[w.value.address]&&K.value.tokensObj[w.value.address].logoURI),va=ee(()=>K.value.tokensObj&&_.value.address&&K.value.tokensObj[_.value.address]&&K.value.tokensObj[_.value.address].logoURI),pi=()=>{var S,U,j,D,G,de,re,fe;let c=null;const v=K.value.poolConfigList;for(let he=0;he<v.length;he++){const pe=v[he];if(pe.token_a.address.toUpperCase()===((U=(S=w==null?void 0:w.value)==null?void 0:S.address)==null?void 0:U.toUpperCase())&&pe.token_b.address.toUpperCase()===((D=(j=_==null?void 0:_.value)==null?void 0:j.address)==null?void 0:D.toUpperCase())||pe.token_b.address.toUpperCase()===((de=(G=w==null?void 0:w.value)==null?void 0:G.address)==null?void 0:de.toUpperCase())&&pe.token_a.address.toUpperCase()===((fe=(re=_==null?void 0:_.value)==null?void 0:re.address)==null?void 0:fe.toUpperCase())){c=pe;break}}return c},ha=c=>{var S,U,j,D,G,de,re,fe,he,pe;const v=pi();if(v&&(Oe.value=v.needReverse?v==null?void 0:v.token_b:v==null?void 0:v.token_a,Be.value=v.needReverse?v==null?void 0:v.token_a:v==null?void 0:v.token_b,w.value=v.needReverse?v==null?void 0:v.token_b:v==null?void 0:v.token_a,_.value=v.needReverse?v==null?void 0:v.token_a:v==null?void 0:v.token_b,A.value=w.value.address===((S=v==null?void 0:v.token_a)==null?void 0:S.address)),qe.value.includes(c.fee))T.value=c.label,Xt.value=c.fee,Re.push(`/deposit?tokena=${v?v.needReverse?(j=v==null?void 0:v.token_b)==null?void 0:j.address:(U=v==null?void 0:v.token_a)==null?void 0:U.address:A.value?w.value.address:_.value.address}&tokenb=${v?v.needReverse?(G=v==null?void 0:v.token_a)==null?void 0:G.address:(D=v==null?void 0:v.token_b)==null?void 0:D.address:A.value?_.value.address:w.value.address}&fee=${c.fee}`),p.value="0",k.value="0";else{if(V.value.chainName!=="Aptos"&&!Ge.value[w.value.address]&&!Ge.value[_.value.address])return;Xt.value=c.fee,T.value=c.label,se.value&&(p.value="",k.value=""),$.value="",y.value="",We.value="",yt.value="",p.value="",k.value="",Vn.value="",Wn.value="",Re.push(`/deposit?action=create-pool&tokena=${v?v.needReverse?(re=v==null?void 0:v.token_b)==null?void 0:re.address:(de=v==null?void 0:v.token_a)==null?void 0:de.address:A.value?w.value.address:_.value.address}&tokenb=${v?v.needReverse?(he=v==null?void 0:v.token_a)==null?void 0:he.address:(fe=v==null?void 0:v.token_b)==null?void 0:fe.address:A.value?_.value.address:w.value.address}&fee=${c.fee}&from=${(pe=L==null?void 0:L.query)==null?void 0:pe.from}`)}},un=R(!1),ga=()=>{se.value?on.value=!0:un.value=!0},z=R(null),Vn=R(""),Wn=R(""),Io=c=>{var de,re,fe,he,pe,Ce,Ue,$e,ge,De,_e,it;if(c?(Vn.value=c,We.value=c,yt.value=c,Wn.value=yt.value,E.value=!1):(Vn.value="",We.value="",yt.value="",Wn.value=""),!((de=Oe.value)!=null&&de.address)||!((re=Be.value)!=null&&re.address))return;let v=!1;const S=K.value.poolConfigList;let U=null;for(let Ve=0;Ve<S.length;Ve++){const Se=S[Ve];if(Se.token_a.address.toUpperCase()===((he=(fe=Oe==null?void 0:Oe.value)==null?void 0:fe.address)==null?void 0:he.toUpperCase())&&Se.token_b.address.toUpperCase()===((Ce=(pe=Be==null?void 0:Be.value)==null?void 0:pe.address)==null?void 0:Ce.toUpperCase())){v=Se.needReverse,U=Se;break}else if(Se.token_b.address.toUpperCase()===(($e=(Ue=Oe==null?void 0:Oe.value)==null?void 0:Ue.address)==null?void 0:$e.toUpperCase())&&Se.token_a.address.toUpperCase()===((De=(ge=Be==null?void 0:Be.value)==null?void 0:ge.address)==null?void 0:De.toUpperCase())){v=Se.needReverse,U=Se;break}}let j=!1;H.value.getIsSortedSymbols((_e=Oe.value)==null?void 0:_e.address,(it=Be.value)==null?void 0:it.address)&&(j=!0);let D;j&&!A.value?D=!0:j&&A.value||!j&&A.value?D=!1:D=!0;const G=V.value.chainName=="Aptos"?bp:kp;if(w.value&&_.value&&c){const Ve=U?U==null?void 0:U.token_a.decimals:j?Be.value.decimals:Oe.value.decimals,Se=U?U==null?void 0:U.token_b.decimals:j?Oe.value.decimals:Be.value.decimals,Ke=c&&H.value.TickMath.priceToSqrtPriceX64(D?new O(1/c):new O(c),Ve,Se),Fe=c&&H.value.TickMath.priceToSqrtPriceX64(new O(1).div(c),w.value.decimals,_.value.decimals),Le=H.value.TickMath.priceToTickIndex(D?new O(1).div(c):new O(c),Ve,Se,G[L.query.fee]),ut=Le-G[L.query.fee]*5,Ze=Le+G[L.query.fee]*5,xe=H.value.TickMath.tickIndexToPrice(ut,Ve,Se).toString(),St=H.value.TickMath.tickIndexToPrice(Ze,Ve,Se).toString();D?(p.value=String(1/St),k.value=String(1/xe),F.value=String(1/St),W.value=String(1/xe)):(p.value=xe,k.value=St,F.value=xe,W.value=St);const Wt={token_a:U?U.token_a:j?Be.value:Oe.value,token_b:U?U.token_b:j?Oe.value:Be.value,isCreate:!0,tickSpacing:G[L.query.fee],currentPrice:c,current_sqrt_price:Ke,tick_lower:ut,tick_upper:Ze,current_tick_index:Le,currentPriceReverse:pn(String(1/c),6),reverse_current_sqrt_price:Fe,needReverse:v};z.value=Wt,wt()}else z.value=null,p.value="",k.value=""},ya=async()=>{var fe,he,pe,Ce;if(V.value.chainName!=="Aptos"){vi();return}un.value=!1;let c,v,S,U,j,D;const G=Oe.value.decimals,de=Be.value.decimals;Lt(""),rn(t("tips.increaseLiquiditySuccess",{from:Pe.value?"":`${$.value} ${(fe=w.value)==null?void 0:fe.symbol}`,and:!Pe.value&&!Ie.value?"and":"",to:Ie.value?"":`${y.value} ${(he=_.value)==null?void 0:he.symbol}`})),nt(!0),p.value==="0"&&k.value==="∞"?(S=H.value.TickUtil.getMinIndex(Number(z.value.tickSpacing)),U=H.value.TickUtil.getMaxIndex(Number(z.value.tickSpacing))):(A.value?(c=Number(p.value),v=Number(k.value)):(c=1/Number(k.value),v=1/Number(p.value)),j=c==0?-443636:H.value.TickMath.priceToTickIndex(new O(c),G,de),D=H.value.TickMath.priceToTickIndex(new O(v),G,de),S=H.value.getNearestTickByTick(j,Number(z.value.tickSpacing)),U=H.value.getNearestTickByTick(D,Number(z.value.tickSpacing)));const re=A.value?m.value:!m.value;try{const Ue=await H.value.getCreatPoolTransactionPayload({coinTypeA:Oe.value.address,coinTypeB:Be.value.address,tick_spacing:Number(z.value.tickSpacing),initialize_sqrt_price:new Ct(z.value.current_sqrt_price),uri:"",current_tick_index:z.value.current_tick_index,max_amount_a:A.value?$.value:y.value,max_amount_b:A.value?y.value:$.value,tick_lower:S,tick_upper:U,slippage:Number(ze.value)/100,decimalsA:G,decimalsB:de,fix_amount_a:re,liquidityInput:qt.value});let $e;if(V.value.chainName==="Aptos")$e=await i.value.currentWallet.signAndSubmitTransaction(Ue);else{const ge=await i.value.currentWallet.signAndExecuteTransactionBlock(Ue);$e=H.value.handleTx(ge)}if($e&&$e.hash){Lt($e.hash),nt(!1),Rt(!0);const ge={title:"Created pool",desc:"Pool created successfully ",hash:$e.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(pe=w.value)==null?void 0:pe.address}`,numa:Pe.value?"":`- ${$.value}`,logoa:K.value.tokensObj&&w.value&&w.value.address&&K.value.tokensObj[w.value.address]&&K.value.tokensObj[w.value.address].logoURI,tokenb:`${(Ce=_.value)==null?void 0:Ce.address}`,numb:Ie.value?"":`- ${y.value}`,logob:K.value.tokensObj&&_.value&&_.value.address&&K.value.tokensObj[_.value.address]&&K.value.tokensObj[_.value.address].logoURI},text:"Pool created successfully"};V.value.chainName!=="Aptos"&&(ge.res=$e.res),H.value.showTransitionPending(ge),(await H.value.watchTransaction(ge,!0)).status&&(Rt(!1),s.value=!0,setTimeout(()=>{ot.setPoolConfigList(V.value.chainName,V.value.filterCoinsObj),H.value.getAccount(i.value.address)},1e3)),an()}else nt(!1),Ut(!0);$.value="",y.value=""}catch{ot.setPoolConfigList(V.value.chainName,V.value.filterCoinsObj),un.value=!1,$.value="",y.value="",nt(!1),Ut(!0)}},vi=async()=>{var Ue,$e,ge,De,_e,it,Ve,Se,Ke,Fe,Le,ut,Ze,xe,St,Wt,gi,yi,bi,ki,wi,Ci,$i,_i,Ai,Pi,Ii,Si,Ti,Ni,Mi,Ri,Ui,Li,qi;un.value=!1;let c=!1;H.value.getIsSortedSymbols(Oe.value.address,Be.value.address)&&(c=!0),Lt("");const v=Pe.value?"":`${$.value} ${(Ue=w.value)==null?void 0:Ue.symbol}`,S=Ie.value?"":`${y.value} ${($e=_.value)==null?void 0:$e.symbol}`;rn(t("tips.increaseLiquiditySuccess",{from:!c&&!((ge=z==null?void 0:z.value)!=null&&ge.needReverse)||c&&((De=z==null?void 0:z.value)!=null&&De.needReverse)?v:S,and:!Pe.value&&!Ie.value?"and":"",to:!c&&!((_e=z==null?void 0:z.value)!=null&&_e.needReverse)||c&&((it=z==null?void 0:z.value)!=null&&it.needReverse)?S:v})),nt(!0);let U="",j="",D="",G="",de="",re="",fe=0,he=0,pe=!1,Ce;if(c||(Ve=z==null?void 0:z.value)!=null&&Ve.needReverse){const Jt=c&&!((Se=z==null?void 0:z.value)!=null&&Se.needReverse);U=Jt?(ut=(Le=z==null?void 0:z.value)==null?void 0:Le.token_b)==null?void 0:ut.address:(Fe=(Ke=z==null?void 0:z.value)==null?void 0:Ke.token_a)==null?void 0:Fe.address,j=Jt?(Wt=(St=z==null?void 0:z.value)==null?void 0:St.token_a)==null?void 0:Wt.address:(xe=(Ze=z==null?void 0:z.value)==null?void 0:Ze.token_b)==null?void 0:xe.address,D=Jt?(ki=(bi=z==null?void 0:z.value)==null?void 0:bi.token_b)==null?void 0:ki.decimals:(yi=(gi=z==null?void 0:z.value)==null?void 0:gi.token_a)==null?void 0:yi.decimals,G=Jt?(_i=($i=z==null?void 0:z.value)==null?void 0:$i.token_a)==null?void 0:_i.decimals:(Ci=(wi=z==null?void 0:z.value)==null?void 0:wi.token_b)==null?void 0:Ci.decimals,(Ai=z==null?void 0:z.value)!=null&&Ai.needReverse?(de=A.value?$.value:y.value,re=A.value?y.value:$.value,fe=A.value?Number(p.value):1/Number(k.value),he=A.value?Number(k.value):1/Number(p.value),pe=A.value?m.value:!m.value,Ce=A.value?We.value:1/Number(We.value)):(de=A.value?y.value:$.value,re=A.value?$.value:y.value,fe=A.value?1/Number(k.value):Number(p.value),he=A.value?1/Number(p.value):Number(k.value),pe=A.value?!m.value:m.value,Ce=A.value?1/Number(We.value):We.value)}else U=(Ii=(Pi=z==null?void 0:z.value)==null?void 0:Pi.token_a)==null?void 0:Ii.address,j=(Ti=(Si=z==null?void 0:z.value)==null?void 0:Si.token_b)==null?void 0:Ti.address,D=(Mi=(Ni=z==null?void 0:z.value)==null?void 0:Ni.token_a)==null?void 0:Mi.decimals,G=(Ui=(Ri=z==null?void 0:z.value)==null?void 0:Ri.token_b)==null?void 0:Ui.decimals,de=A.value?$.value:y.value,re=A.value?y.value:$.value,fe=A.value?Number(p.value):1/Number(k.value),he=A.value?Number(k.value):1/Number(p.value),pe=A.value?m.value:!m.value,Ce=A.value?We.value:1/Number(We.value);try{const Jt=await H.value.getCreatPoolTransactionPayload({coinTypeA:U,coinTypeB:j,decimalsA:D,decimalsB:G,amountA:de,amountB:re,minPrice:fe,maxPrice:he,fix_amount_a:pe,tick_spacing:Number(z.value.tickSpacing),slippage:Number(ze.value)/100,price:Ce}),Ca=await i.value.currentWallet.signAndExecuteTransactionBlock(Jt),$n=H.value.handleTx(Ca);if($n&&$n.hash){Lt($n.hash),nt(!1),Rt(!0);const No={title:"Created pool",desc:"Pool created successfully ",hash:$n.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(Li=w.value)==null?void 0:Li.address}`,numa:Pe.value?"":`- ${$.value}`,logoa:K.value.tokensObj&&w.value&&w.value.address&&K.value.tokensObj[w.value.address]&&K.value.tokensObj[w.value.address].logoURI,tokenb:`${(qi=_.value)==null?void 0:qi.address}`,numb:Ie.value?"":`- ${y.value}`,logob:K.value.tokensObj&&_.value&&_.value.address&&K.value.tokensObj[_.value.address]&&K.value.tokensObj[_.value.address].logoURI},text:"Pool created successfully"};V.value.chainName!=="Aptos"&&(No.res=$n.res),H.value.showTransitionPending(No),(await H.value.watchTransaction(No,!0)).status&&(Rt(!1),s.value=!0,setTimeout(()=>{ot.setPoolConfigList(V.value.chainName,V.value.filterCoinsObj),H.value.getAccount(i.value.address)},1e3)),an()}else nt(!1),Ut(!0);$.value="",y.value=""}catch{un.value=!1,ot.setPoolConfigList(V.value.chainName,V.value.filterCoinsObj),$.value="",y.value="",nt(!1),Ut(!0)}},ba=ee(()=>{var c,v,S,U,j,D;return((c=w.value)==null?void 0:c.isSelfBuilt)||((v=_.value)==null?void 0:v.isSelfBuilt)||((U=K.value.tokensObj[(S=w.value)==null?void 0:S.address])==null?void 0:U.isSelfBuilt)||((D=K.value.tokensObj[(j=_.value)==null?void 0:j.address])==null?void 0:D.isSelfBuilt)}),ka=c=>{var v;return(c==null?void 0:c.logoURI)||(c==null?void 0:c.logo_url)||((v=K.value.tokensObj[c==null?void 0:c.address])==null?void 0:v.logo_url)||(V.value.theme==="default"?Xe("/image/coins/unknown.png"):Xe("/image/coins/sui-unknown.png"))},So=(c,v)=>{const S=localStorage.getItem(c.address);K.value.tokensObj&&K.value.tokensObj[c.address]&&K.value.tokensObj[c.address].isSelfBuilt&&!S&&(v=="fromCoin"&&(yn.value=c),v=="toCoin"&&(bn.value=c),hi.value=!0)};we(()=>[w.value,_.value],([c,v])=>{c&&!$t(c)&&So(c,"fromCoin"),v&&!$t(v)&&So(v,"toCoin")},{immediate:!0});const hi=R(!1),wa=()=>{Re.push("/pools")},To=ee(()=>V.value.chainName);return we(()=>[V.value.chainName,V.value.filterCoinsObj],([c,v])=>{c&&v&&ot.setPoolConfigList(c,v)},{immediate:!0}),we(()=>[qe.value,Ge.value,w.value,_.value,zt.value],([c,v,S,U,j])=>{j&&c&&v&&!c.includes(1e-4)&&!c.includes(5e-4)&&!c.includes(.0025)&&!c.includes(.01)&&!v[S==null?void 0:S.address]&&!v[U==null?void 0:U.address]&&(T.value="")},{immediate:!0}),{warningToCoin:bn,warningFromCoin:yn,getTokenSource:So,closeTokenWarning:wa,isShowTokenWarning:hi,chainName:To,hasCreatePool:zt,isCreateSuccess:s,intPriceReverse:Wn,isShowMask:pt,isPc:e,intPrice:Vn,createPoolToCoin:Be,createPoolFromCoin:Oe,getPoolInfoSuccess:Vt,toCreatePool:ya,createPoolInfo:z,changecurrentPrice:Io,isShowCreatePoolModal:un,addOrCreate:ga,halfBtnSelect:Dn,selectFee:ha,isViewDetail:l,addCommom:Ee,decimalUi:Ne,fromCoinUrl:pa,toCoinUrl:va,t,wallet:i,toAdd:da,chartLoading:E,currentTick:Z,tickList:ke,poolInfo:se,storeIndex:V,importIcon:Xe,addLiquidityBtnText:st,slippage:ze,countdown:a,loading:u,fromCoin:w,toCoin:_,openCoinSelect:Fn,onCoinSelect:En,existingCoins:h,lastSelectCoin:g,currentCoinKey:f,showCoinSelect:M,fromCoinAmount:$,toCoinAmount:y,maxBtnSelect:jn,fixedFromCoin:m,isShowLiquidityModal:on,direct:A,toggle:Bn,edit:Q,inputValue:T,feeTierList:kt,minPrice:p,maxPrice:k,invalidPriceRange:Ht,defaultMinPrice:F,defaultMaxPrice:W,priceRangeChangeMin:qn,priceRangeChangeMax:On,toFullRange:Qe,clearAll:Hn,clickClear:P,positionError:J,positionTips:ce,router:Re,clickRefresh:at,fromCoinBlance:Ye,toCoinBlance:Je,showToCoinLock:Ie,showFromCoinLock:Pe,currentPriceReverse:yt,currentPrice:We,getPirceText:fa,currentPriceTab:X,currentPriceTabList:bt,getPirceKey:ma,priceTab:Xn,aprRewardsParameter:ae,aprRewardsDateList:ie,aprTab:je,reviseValue:vt,label:me,aprTitle:oe,isCreatePool:qe,before7dContractPriceLowest:ne,before7dContractPriceHighest:lt,aprRewardsTime:ue,addLiquidityBtnDisabled:Me,checkNullObj:$t,sFixD:Kn,toCreateSuiPool:vi,isSelfBuilt:ba,getCoinIcon:ka,isCreatePoolToCoin:Kt,isCreatePoolFromCoin:Yt,filterCreatePoolCoin:Ge,poolTvl:gt}}}),kr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAJFBMVEVHcEwlW04mW04oXlEmW04SHx4jR0B2/9wQFBMVJyVk17szaV2jJaSaAAAABHRSTlMA8K8m/cUwkQAAAL5JREFUSMdjYMAKmBWFDBgIAUMXF2GCilQy2pyQ+Swu2EBHhyNIkgnIdMCjyCUUCMJgilxDMUFKRpsblBmCU9EUFxdPgooiU9ymElSEBEYVDR1FkaumElYUVp46qmjAFTGruE0lqMgQkaGnpYFAdvk2MJ2JpEgFUTQsL0cGVUiKRKCFDLGKiLKOKIdTGASjSYWWiogqMEYL1lFFWJoRTgYEFU0Bt6QIKEoBt6SwN43QWlJEKSKx4UZ+ExDUmAQAo9rc9CAs4WAAAAAASUVORK5CYII=",wr="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTANNcARNcAdKcgEdMQRNcBM8V3bI/2Gq2ihWdudYHvAAAAAEdFJOUwDwryb9xTCRAAAAuklEQVRIx2NgwAqYFYUMGAgBw9BQYYKKVFPcgpD5rKHYgItLIEiSCcgMwKMIiFxcXGGKQlwwQWqKWxiU6YpTEdCEEIKKXFLDXAgrQjJ0VNHQUdRBhCK38pRRRQOuiFk1jLAiQ0SGdksDgczyaWA6BUmRKqJoaC9HBhVIikShhQyxioiyjiiHUxgEo0mFloqIKjBGC9ZRRViaEUEGBBW5gltSBBSFgltS2JtGaC0pohSR2HAjvwkIakwCANqYbmgtLE7YAAAAAElFTkSuQmCC",ua=""+new URL("img-no-data_2x.e925467a.png",import.meta.url).href,ca=""+new URL("img-no-data_2x.8bc9afa2.png",import.meta.url).href;const Mt=e=>(jt("data-v-b5dd6745"),e=e(),Dt(),e),Cp={class:"pools-container"},$p={key:0,class:"content pc-content"},_p={class:"content-left"},Ap={class:"content-left-bg"},Pp={class:"content-left-title"},Ip={key:0,class:"pool-warning"},Sp={class:"coin-select"},Tp={key:0,class:"icon","aria-hidden":"true"},Np=Mt(()=>d("use",{"xlink:href":"#icon-edit"},null,-1)),Mp=[Np],Rp={key:0,class:"fee-container"},Up=["onClick"],Lp={key:0,class:"icon fee-disabled","aria-hidden":"true"},qp=Mt(()=>d("use",{"xlink:href":"#icon-icon-disable"},null,-1)),Op=[qp],Bp={key:1},Fp={key:2},Ep={key:0},jp={key:1,class:"text-active"},Dp={class:"deposit-title"},Hp={class:"card-container"},zp={class:"card-item"},Xp={class:"card-item"},Vp={key:0,class:"icon","aria-hidden":"true"},Wp=Mt(()=>d("use",{"xlink:href":"#icon-icon-add"},null,-1)),Kp=[Wp],Yp={class:"pc-network"},Gp={class:"content-right"},Qp={key:0,class:"initPrice-mask"},Jp={class:"content-right-title"},Zp=Mt(()=>d("svg",{class:"icon","aria-hidden":"true"},[d("use",{"xlink:href":"#icon-icon-information"})],-1)),xp={class:"content-right-bg"},ev={key:1,class:"price-tab"},tv=["onClick"],nv={key:2,class:"create-pool-tips"},ov={key:3,class:"set-price-range"},iv={key:0},rv={key:1,class:"coin"},av={key:2,class:"coin"},sv={key:3,class:"no-price"},lv={alt:""},uv={alt:""},cv={key:6,class:"position-tips"},dv={alt:""},fv={class:"tips"},mv={key:7,class:"position-tips"},pv={alt:""},vv={class:"error"},hv={key:8,class:"d3-chart-box"},gv={key:9,class:"day-7-price-range"},yv=Mt(()=>d("i",null,null,-1)),bv={class:"gray"},kv={key:11,class:"create-pool-tips"},wv={key:12,class:"create-pool-warning"},Cv={key:1,class:"no-data"},$v={key:0,src:ua,alt:""},_v={key:1,src:ca,alt:""},Av={key:1,class:"content h5-content"},Pv={class:"content-left"},Iv={class:"content-left-bg"},Sv={class:"content-left-title"},Tv={key:0,class:"pool-warning"},Nv={class:"coin-select"},Mv={key:0,class:"icon","aria-hidden":"true"},Rv=Mt(()=>d("use",{"xlink:href":"#icon-edit"},null,-1)),Uv=[Rv],Lv={key:0,class:"fee-container"},qv=["onClick"],Ov={key:0},Bv={key:1},Fv={key:0},Ev={key:1,class:"text-active"},jv={class:"content-right"},Dv={key:0,class:"initPrice-mask"},Hv={class:"content-right-title"},zv=Mt(()=>d("svg",{class:"icon","aria-hidden":"true"},[d("use",{"xlink:href":"#icon-icon-information"})],-1)),Xv={class:"content-right-bg"},Vv={key:1,class:"price-tab"},Wv=["onClick"],Kv={key:2,class:"create-pool-tips"},Yv={key:3,class:"set-price-range"},Gv={key:0},Qv={key:1,class:"coin"},Jv={key:2,class:"coin"},Zv={key:3,class:"no-price"},xv={alt:""},eh={alt:""},th={key:6,class:"position-tips"},nh=["src"],oh={class:"tips"},ih={key:7,class:"position-tips"},rh=["src"],ah={class:"error"},sh={key:8,class:"d3-chart-box"},lh={key:9,class:"day-7-price-range"},uh=Mt(()=>d("i",null,null,-1)),ch={class:"gray"},dh={key:11,class:"create-pool-tips"},fh={key:1,class:"no-data"},mh={key:0,src:ua,alt:""},ph={key:1,src:ca,alt:""},vh={key:0,class:"icon","aria-hidden":"true"},hh=Mt(()=>d("use",{"xlink:href":"#icon-icon-add"},null,-1)),gh=[hh],yh={class:"pc-network"},bh={class:"new-right"},kh={class:"deposit-title"},wh={class:"card-container"},Ch={class:"card-item"},$h={class:"card-item"},_h={key:0,class:"icon","aria-hidden":"true"},Ah=Mt(()=>d("use",{"xlink:href":"#icon-icon-add"},null,-1)),Ph=[Ah],Ih={class:"h5-network"};function Sh(e,t,n,o,i,r){var E,Y,ke,X,ae,ue,oe,ie,me,x,V,pt,H,Ge,je,vt,bt,at,Ht,Qe,qe,gt,kt,ze,te,Me,st,q,ne,lt,Re,w,_,qn,On,Bn,Kt,Yt,Fn,Oe,Be,yn,bn,En,jn,Dn,Hn,on,Rt,Ut,nt,rn,Lt,an,L,ot,zt,K,qt,Pe,Ie,sn,ln,We,yt,wt,Xt,kn,se,zn;const a=$a,s=Wa,l=Cr,u=ts,f=Ma,h=ls,g=ps,M=Ps,A=ko,le=Ia,m=Ms,P=Js,$=wf,y=Ar,p=La,k=lm,F=Ra,W=Ua,Q=qm,ce=Wm,J=yp,T=Aa,Z=Rn("image");return b(),I("div",Cp,[ye(a,{url:"/pools"}),ye(s,{"pool-info":e.poolInfo,onClearAll:e.clearAll,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClearAll","onClickRefresh"]),e.isPc?(b(),I("div",$p,[d("div",_p,[d("div",Ap,[d("div",Pp,[He(C(e.$t("common.selectPool"))+" ",1),ye(l,{placement:"bottom","arrow-point-at-center":""},{title:Ae(()=>[d("span",null,C(e.t("newAdd.poolWarning")),1)]),default:Ae(()=>[e.isSelfBuilt?(b(),I("div",Ip)):B("",!0)]),_:1})]),d("div",Sp,[ye(u,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.logoURI:e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b.symbol:e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_b:e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[0]||(t[0]=N=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ye(u,{"coin-icon":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.logoURI:e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a.symbol:e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.needReverse?e.poolInfo.token_a:e.poolInfo.token_b:e.createPoolToCoin,onClick:t[1]||(t[1]=N=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),d("div",{class:Te(["pool-fee",e.edit?"pool-fee-edit":""])},[d("div",{class:"pool-fee-header",onClick:t[2]||(t[2]=N=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[d("span",{class:Te(e.inputValue?"":"fee-span")},C(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(b(),I("svg",Tp,Mp)):B("",!0)]),e.edit?(b(),I("div",Rp,[(b(!0),I(Ft,null,An(e.feeTierList,(N,Gt)=>{var Vt,Ye,Je,wn,Cn;return b(),I("div",{key:Gt,class:Te(["fee-item",[e.inputValue&&e.inputValue==N.label?"fee-item-active":"",e.isCreatePool.includes(N.fee)&&e.$route.query.action?" pool-created":" pool-not-created",e.chainName!=="Aptos"&&!e.isCreatePool.includes(N.fee)&&!e.filterCreatePoolCoin[(Vt=e.fromCoin)==null?void 0:Vt.address]&&!e.filterCreatePoolCoin[(Ye=e.toCoin)==null?void 0:Ye.address]?"disabled":""]]),onClick:Qt=>e.selectFee(N)},[e.chainName!=="Aptos"&&!e.isCreatePool.includes(N.fee)&&!e.filterCreatePoolCoin[(Je=e.fromCoin)==null?void 0:Je.address]&&!e.filterCreatePoolCoin[(wn=e.toCoin)==null?void 0:wn.address]?(b(),I("svg",Lp,Op)):B("",!0),e.$route.query.action=="create-pool"?(b(),I("div",Bp,[d("p",null,C(N.title),1),d("p",{class:Te(e.isCreatePool&&e.isCreatePool.includes(N.fee)?"text-default":"text-theme")},C(e.isCreatePool&&e.isCreatePool.includes(N.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(b(),I("div",Fp,[d("p",{class:Te(e.isCreatePool&&e.isCreatePool.includes(N.fee)?"text-active":"text-default")},C(N.title),3),e.isCreatePool&&!e.isCreatePool.includes(N.fee)?(b(),I("p",Ep,C(e.$t("newAdd.notCreated")),1)):B("",!0),e.isCreatePool&&e.isCreatePool.includes(N.fee)?(b(),I("p",jp,C(e.poolTvl&&e.poolTvl[N.fee]&&((Cn=e.poolTvl[N.fee])==null?void 0:Cn.rateText)),1)):B("",!0)])),d("span",null,C(N.text),1)],10,Up)}),128))])):B("",!0)],2),d("div",Dp,C(e.$t("newAdd.depositAmounts")),1),d("div",Hp,[d("div",zp,[ye(f,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[3]||(t[3]=N=>e.fromCoinAmount=N),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[4]||(t[4]=N=>e.maxBtnSelect("fromCoin")),onOnHalf:t[5]||(t[5]=N=>e.halfBtnSelect("fromCoin")),onOnInput:t[6]||(t[6]=N=>{e.fromCoinAmount=N,e.fixedFromCoin=!0}),onOnSelect:t[7]||(t[7]=N=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&e.$route.query.action!=="create-pool"?(b(),be(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):B("",!0)]),d("div",Xp,[ye(f,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[8]||(t[8]=N=>e.toCoinAmount=N),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[9]||(t[9]=N=>e.maxBtnSelect("toCoin")),onOnHalf:t[10]||(t[10]=N=>e.halfBtnSelect("toCoin")),onOnInput:t[11]||(t[11]=N=>{e.toCoinAmount=N,e.fixedFromCoin=!1}),onOnSelect:t[12]||(t[12]=N=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&e.$route.query.action!=="create-pool"?(b(),be(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):B("",!0)]),((Y=(E=e.$route)==null?void 0:E.query)==null?void 0:Y.action)=="create-pool"&&(e.showToCoinLock||e.showFromCoinLock||!e.filterCreatePoolCoin[(ke=e.fromCoin)==null?void 0:ke.address]&&!e.filterCreatePoolCoin[(X=e.toCoin)==null?void 0:X.address])?(b(),be(g,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):B("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(b(),I("img",{key:1,class:"add",src:kr,alt:"",onClick:t[13]||(t[13]=(...N)=>e.toggle&&e.toggle(...N))})):B("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(b(),I("img",{key:2,class:"add",src:wr,alt:"",onClick:t[14]||(t[14]=(...N)=>e.toggle&&e.toggle(...N))})):B("",!0)]),e.poolInfo?(b(),be(M,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):B("",!0)]),ye(A,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[15]||(t[15]=N=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ae(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(b(),I("svg",Vp,Kp)):B("",!0),d("span",null,C(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),d("div",Yp,[ye(le)])]),d("div",Gp,[e.isShowMask?(b(),I("div",Qp)):B("",!0),d("div",Jp,[He(C((ae=e.$route)!=null&&ae.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(b(),be(l,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Ae(()=>[d("span",null,C(e.$t("newAdd.selectRangeTips")),1)]),default:Ae(()=>[Zp]),_:1})):B("",!0)]),d("div",xp,[!((oe=(ue=e.$route)==null?void 0:ue.query)!=null&&oe.action)&&e.poolInfo||(me=(ie=e.$route)==null?void 0:ie.query)!=null&&me.action?(b(),I(Ft,{key:0},[(V=(x=e.$route)==null?void 0:x.query)!=null&&V.action&&!e.poolInfo?(b(),be(m,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):B("",!0),e.poolInfo?(b(),I("div",ev,[(b(!0),I(Ft,null,An(e.currentPriceTabList,N=>(b(),I("div",{key:N,class:Te(["price-item",{"price-item-active":N.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Gt=>e.priceTab(N)},[ye(l,{placement:"bottom","arrow-point-at-center":""},{title:Ae(()=>[d("span",null,C(e.getPirceText(N.key)),1)]),default:Ae(()=>[He(" "+C(e.getPirceKey(N.key)),1)]),_:2},1024)],10,tv))),128))])):B("",!0),(H=(pt=e.$route)==null?void 0:pt.query)!=null&&H.action&&!e.poolInfo?(b(),I("div",nv,C(e.$t("newAdd.createPoolInitialText")),1)):B("",!0),!e.poolInfo&&((je=(Ge=e.$route)==null?void 0:Ge.query)!=null&&je.action)?(b(),I("div",ov,C(e.$t("common.setPriceRange")),1)):B("",!0),e.poolInfo||(bt=(vt=e.$route)==null?void 0:vt.query)!=null&&bt.action?(b(),I("div",{key:4,class:Te(["current-price",(Ht=(at=e.$route)==null?void 0:at.query)!=null&&Ht.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(b(),I("span",iv,C(e.$t("common.currentPrice")),1)):B("",!0),e.fromCoin&&e.toCoin&&e.direct?(b(),I("div",rv,[d("span",null,C(e.$t("common.currentPrice")),1),He(" "+C(e.currentPrice===""?"--":("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(e.currentPrice,6)))+" "+C((Qe=e.toCoin)==null?void 0:Qe.symbol)+" per "+C((qe=e.fromCoin)==null?void 0:qe.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(b(),I("div",av,[d("span",null,C(e.$t("common.currentPrice")),1),He(" "+C(e.currentPriceReverse===""?"--":("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(e.currentPriceReverse,6)))+" "+C((gt=e.toCoin)==null?void 0:gt.symbol)+" per "+C((kt=e.fromCoin)==null?void 0:kt.symbol),1)])):(b(),I("div",sv,"0.0")),e.fromCoin&&e.toCoin?(b(),I("div",{key:4,class:Te(e.poolInfo&&((ze=e.poolInfo)!=null&&ze.needReverse)||e.createPoolInfo&&((te=e.createPoolInfo)!=null&&te.needReverse)?"toggle reverse":"toggle")},[d("div",{class:Te(e.direct?"item active-item":"item"),onClick:t[16]||(t[16]=N=>e.direct?"":e.toggle())},[rt(d("img",lv,null,512),[[Z,e.getCoinIcon(e.direct?e.fromCoin:e.toCoin)]]),He(" "+C(e.direct?(Me=e.fromCoin)==null?void 0:Me.symbol:(st=e.toCoin)==null?void 0:st.symbol),1)],2),d("div",{class:Te(e.direct?"item ":"item active-item"),onClick:t[17]||(t[17]=N=>e.direct?e.toggle():"")},[rt(d("img",uv,null,512),[[Z,e.getCoinIcon(e.direct?e.toCoin:e.fromCoin)]]),He(" "+C(e.direct?(q=e.toCoin)==null?void 0:q.symbol:(ne=e.fromCoin)==null?void 0:ne.symbol),1)],2)],2)):B("",!0)],2)):B("",!0),e.poolInfo||(Re=(lt=e.$route)==null?void 0:lt.query)!=null&&Re.action?(b(),be(P,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,"int-price":e.intPrice,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","int-price","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):B("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(b(),I("div",cv,[rt(d("img",dv,null,512),[[Z,("importIcon"in e?e.importIcon:ve(Xe))("/image/icon-tips@2x.png")]]),d("p",fv,C(e.$t("tips.positionTips")),1)])):B("",!0),e.positionError&&(e.poolInfo||(_=(w=e.$route)==null?void 0:w.query)!=null&&_.action)&&(Number(e.minPrice)||Number(e.maxPrice))?(b(),I("div",mv,[rt(d("img",pv,null,512),[[Z,("importIcon"in e?e.importIcon:ve(Xe))("/image/icon-tips-error@2x.png")]]),d("p",vv,C(e.$t("tips.positionError")),1)])):B("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(b(),I("div",hv,[e.fromCoin&&e.toCoin&&e.poolInfo?(b(),be($,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):B("",!0),e.chartLoading?(b(),be(y,{key:1})):B("",!0)])):B("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(b(),I("div",gv,[yv,d("span",bv,C(e.aprRewardsTime)+" Price Range",1),d("span",null,C(("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(e.before7dContractPriceLowest,6)))+" - "+C(("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(e.before7dContractPriceHighest,6))),1)])):B("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(b(),be(p,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):B("",!0),(On=(qn=e.$route)==null?void 0:qn.query)!=null&&On.action&&!e.poolInfo&&!e.showFromCoinLock&&!e.showToCoinLock?(b(),I("div",kv,C(e.$t("newAdd.createPoolText")),1)):B("",!0),((Kt=(Bn=e.$route)==null?void 0:Bn.query)==null?void 0:Kt.action)=="create-pool"&&(e.showFromCoinLock||e.showToCoinLock)&&Number(e.maxPrice)>Number(e.minPrice)?(b(),I("div",wv,"To create a new pool, the initial price you set must be within your price range. ")):B("",!0)],64)):(b(),I("div",Cv,[e.storeIndex.theme=="default"?(b(),I("img",$v)):(b(),I("img",_v)),d("p",null,C(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&e.$route.query.action!=="create-pool"?(b(),be(k,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):B("",!0)])])):B("",!0),e.isPc?B("",!0):(b(),I("div",Av,[d("div",Pv,[d("div",Iv,[d("div",Sv,[He(C(e.$t("common.selectPool"))+" ",1),ye(l,{placement:"bottom","arrow-point-at-center":""},{title:Ae(()=>[d("span",null,C(e.t("newAdd.poolWarning")),1)]),default:Ae(()=>[e.poolInfo&&e.isSelfBuilt?(b(),I("div",Tv)):B("",!0)]),_:1})]),d("div",Nv,[ye(u,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[18]||(t[18]=N=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ye(u,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:t[19]||(t[19]=N=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),d("div",{class:Te(["pool-fee",e.edit?"pool-fee-edit":""])},[d("div",{class:"pool-fee-header",onClick:t[20]||(t[20]=N=>e.hasCreatePool?e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit:"")},[d("span",{class:Te(e.inputValue?"":"fee-span")},C(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),e.hasCreatePool?(b(),I("svg",Mv,Uv)):B("",!0)]),e.edit?(b(),I("div",Lv,[e.getPoolInfoSuccess?(b(!0),I(Ft,{key:1},An(e.feeTierList,(N,Gt)=>{var Vt;return b(),I("div",{key:Gt,class:Te(["fee-item",[e.inputValue&&e.inputValue==N.label?"fee-item-active":"",e.isCreatePool&&e.isCreatePool.length>0&&e.isCreatePool.includes(N.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:Ye=>e.selectFee(N)},[e.$route.query.action=="create-pool"?(b(),I("div",Ov,[d("p",null,C(N.title),1),d("p",{class:Te(e.isCreatePool.includes(N.fee)?"text-default":"text-theme")},C(e.isCreatePool.includes(N.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(b(),I("div",Bv,[d("p",{class:Te(e.isCreatePool.includes(N.fee)?"text-active":"text-default")},C(N.title),3),e.isCreatePool&&!e.isCreatePool.includes(N.fee)?(b(),I("p",Fv,C(e.$t("newAdd.notCreated")),1)):B("",!0),e.isCreatePool&&e.isCreatePool.includes(N.fee)?(b(),I("p",Ev,C(e.poolTvl&&e.poolTvl[N.fee]&&((Vt=e.poolTvl[N.fee])==null?void 0:Vt.rateText)),1)):B("",!0)])),d("span",null,C(N.text),1)],10,qv)}),128)):(b(),be(y,{key:0}))])):B("",!0)],2)]),d("div",jv,[e.isShowMask?(b(),I("div",Dv)):B("",!0),d("div",Hv,[He(C((Yt=e.$route)!=null&&Yt.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(b(),be(l,{key:0,placement:"bottom","arrow-point-at-center":""},{title:Ae(()=>[d("span",null,C(e.$t("newAdd.selectRangeTips")),1)]),default:Ae(()=>[zv]),_:1})):B("",!0)]),d("div",Xv,[!((Oe=(Fn=e.$route)==null?void 0:Fn.query)!=null&&Oe.action)&&e.poolInfo||(yn=(Be=e.$route)==null?void 0:Be.query)!=null&&yn.action?(b(),I(Ft,{key:0},[(En=(bn=e.$route)==null?void 0:bn.query)!=null&&En.action&&!e.poolInfo?(b(),be(m,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):B("",!0),e.poolInfo?(b(),I("div",Vv,[(b(!0),I(Ft,null,An(e.currentPriceTabList,N=>(b(),I("div",{key:N,class:Te(["price-item",{"price-item-active":N.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Gt=>e.priceTab(N)},[ye(l,{placement:"bottom","arrow-point-at-center":""},{title:Ae(()=>[d("span",null,C(e.getPirceText(N.key)),1)]),default:Ae(()=>[He(" "+C(e.getPirceKey(N.key)),1)]),_:2},1024)],10,Wv))),128))])):B("",!0),(Dn=(jn=e.$route)==null?void 0:jn.query)!=null&&Dn.action&&!e.poolInfo?(b(),I("div",Kv,C(e.$t("newAdd.createPoolInitialText")),1)):B("",!0),!e.poolInfo&&((on=(Hn=e.$route)==null?void 0:Hn.query)!=null&&on.action)?(b(),I("div",Yv,C(e.$t("common.setPriceRange")),1)):B("",!0),e.poolInfo||(Ut=(Rt=e.$route)==null?void 0:Rt.query)!=null&&Ut.action?(b(),I("div",{key:4,class:Te(["current-price",(rn=(nt=e.$route)==null?void 0:nt.query)!=null&&rn.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(b(),I("span",Gv,C(e.$t("common.currentPrice")),1)):B("",!0),e.fromCoin&&e.toCoin&&e.direct?(b(),I("div",Qv,[d("span",null,C(e.$t("common.currentPrice")),1),He(" "+C(("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(e.currentPrice,6)))+" "+C((Lt=e.toCoin)==null?void 0:Lt.symbol)+" per "+C((an=e.fromCoin)==null?void 0:an.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(b(),I("div",Jv,[d("span",null,C(e.$t("common.currentPrice")),1),He(" "+C(("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(e.currentPriceReverse,6)))+" "+C((L=e.toCoin)==null?void 0:L.symbol)+" per "+C((ot=e.fromCoin)==null?void 0:ot.symbol),1)])):(b(),I("div",Zv,"0.0")),e.fromCoin&&e.toCoin?(b(),I("div",{key:4,class:Te(e.poolInfo&&((zt=e.poolInfo)!=null&&zt.needReverse)||e.createPoolInfo&&((K=e.createPoolInfo)!=null&&K.needReverse)?"toggle reverse":"toggle")},[d("div",{class:Te(e.direct?"item active-item":"item"),onClick:t[21]||(t[21]=N=>e.direct?"":e.toggle())},[rt(d("img",xv,null,512),[[Z,e.getCoinIcon(e.direct?e.fromCoin:e.toCoin)]]),He(" "+C(e.direct?(qt=e.fromCoin)==null?void 0:qt.symbol:(Pe=e.toCoin)==null?void 0:Pe.symbol),1)],2),d("div",{class:Te(e.direct?"item ":"item active-item"),onClick:t[22]||(t[22]=N=>e.direct?e.toggle():"")},[rt(d("img",eh,null,512),[[Z,e.getCoinIcon(e.direct?e.toCoin:e.fromCoin)]]),He(" "+C(e.direct?(Ie=e.toCoin)==null?void 0:Ie.symbol:(sn=e.fromCoin)==null?void 0:sn.symbol),1)],2)],2)):B("",!0)],2)):B("",!0),e.poolInfo||(We=(ln=e.$route)==null?void 0:ln.query)!=null&&We.action?(b(),be(P,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):B("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(b(),I("div",th,[d("img",{src:("importIcon"in e?e.importIcon:ve(Xe))("/image/icon-tips@2x.png"),alt:""},null,8,nh),d("p",oh,C(e.$t("tips.positionTips")),1)])):B("",!0),e.positionError&&(e.poolInfo||(wt=(yt=e.$route)==null?void 0:yt.query)!=null&&wt.action)?(b(),I("div",ih,[d("img",{src:("importIcon"in e?e.importIcon:ve(Xe))("/image/icon-tips-error@2x.png"),alt:""},null,8,rh),d("p",ah,C(e.$t("tips.positionError")),1)])):B("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(b(),I("div",sh,[e.fromCoin&&e.toCoin&&e.poolInfo?(b(),be($,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):B("",!0),e.chartLoading?(b(),be(y,{key:1})):B("",!0)])):B("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(b(),I("div",lh,[uh,d("span",ch,C(e.aprRewardsTime)+" Price Range",1),d("span",null,C(("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(e.before7dContractPriceLowest,6)))+" - "+C(("addCommom"in e?e.addCommom:ve(Ee))(("decimalUi"in e?e.decimalUi:ve(Ne))(e.before7dContractPriceHighest,6))),1)])):B("",!0),e.poolInfo&&!e.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.isSelfBuilt&&e.maxPrice=="∞"?(b(),be(p,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):B("",!0),(kn=(Xt=e.$route)==null?void 0:Xt.query)!=null&&kn.action&&!e.poolInfo?(b(),I("div",dh,C(e.$t("newAdd.createPoolText")),1)):B("",!0)],64)):(b(),I("div",fh,[e.storeIndex.theme=="default"?(b(),I("img",mh)):(b(),I("img",ph)),d("p",null,C(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.isSelfBuilt?(b(),be(k,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):B("",!0)]),ye(A,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[23]||(t[23]=N=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ae(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(b(),I("svg",vh,gh)):B("",!0),d("span",null,C(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),d("div",yh,[ye(le)])]),d("div",bh,[d("div",kh,C(e.$t("newAdd.depositAmounts")),1),d("div",wh,[d("div",Ch,[ye(f,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[24]||(t[24]=N=>e.fromCoinAmount=N),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[25]||(t[25]=N=>e.maxBtnSelect("fromCoin")),onOnHalf:t[26]||(t[26]=N=>e.halfBtnSelect("fromCoin")),onOnInput:t[27]||(t[27]=N=>{e.fromCoinAmount=N,e.fixedFromCoin=!0}),onOnSelect:t[28]||(t[28]=N=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(b(),be(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):B("",!0)]),d("div",$h,[ye(f,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[29]||(t[29]=N=>e.toCoinAmount=N),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[30]||(t[30]=N=>e.maxBtnSelect("toCoin")),onOnHalf:t[31]||(t[31]=N=>e.halfBtnSelect("toCoin")),onOnInput:t[32]||(t[32]=N=>{e.toCoinAmount=N,e.fixedFromCoin=!1}),onOnSelect:t[33]||(t[33]=N=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(b(),be(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):B("",!0)]),(zn=(se=e.$route)==null?void 0:se.query)!=null&&zn.action&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(b(),be(g,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):B("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(b(),I("img",{key:1,class:"add",src:kr,alt:"",onClick:t[34]||(t[34]=(...N)=>e.toggle&&e.toggle(...N))})):B("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(b(),I("img",{key:2,class:"add",src:wr,alt:"",onClick:t[35]||(t[35]=(...N)=>e.toggle&&e.toggle(...N))})):B("",!0)]),e.poolInfo||e.createPoolInfo?(b(),be(M,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):B("",!0)])])),ye(A,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn h5-btn",onClick:t[36]||(t[36]=N=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:Ae(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")?(b(),I("svg",_h,Ph)):B("",!0),d("span",null,C(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),d("div",Ih,[ye(le)]),e.showCoinSelect?(b(),be(F,{key:2,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,"is-create-pool-to-coin":e.isCreatePoolToCoin,"is-create-pool-from-coin":e.isCreatePoolFromCoin,onOnSelect:e.onCoinSelect,onOnClose:t[37]||(t[37]=N=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","is-create-pool-to-coin","is-create-pool-from-coin","onOnSelect"])):B("",!0),e.isShowLiquidityModal?(b(),be(W,{key:3,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"pool-info":e.poolInfo,"current-direct":e.direct,onToAdd:e.toAdd,onOnClose:t[38]||(t[38]=N=>e.isShowLiquidityModal=!1)},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","current-price-reverse","pool-info","current-direct","onToAdd"])):B("",!0),e.isViewDetail?(b(),be(Q,{key:4,"pool-info":e.poolInfo,onOnClose:t[39]||(t[39]=N=>e.isViewDetail=!1)},null,8,["pool-info"])):B("",!0),e.isCreateSuccess?(b(),be(ce,{key:5,onOnClose:t[40]||(t[40]=N=>e.isCreateSuccess=!1)})):B("",!0),e.isShowCreatePoolModal&&e.fromCoin&&e.toCoin?(b(),be(J,{key:6,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.createPoolInfo.currentPrice,"need-reverse":e.createPoolInfo.needReverse,direct:e.direct,onOnClose:t[41]||(t[41]=N=>e.isShowCreatePoolModal=!1),onCreatePool:e.toCreatePool},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","need-reverse","direct","onCreatePool"])):B("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(b(),be(T,{key:7,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:t[42]||(t[42]=N=>e.isShowTokenWarning=!1)},null,8,["from-coin","to-coin","onClose"])):B("",!0)])}const o0=mt(wp,[["render",Sh],["__scopeId","data-v-b5dd6745"]]);export{o0 as default};
