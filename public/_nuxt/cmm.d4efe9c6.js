import{a as T,F as h,z as A,w as x,N as S,v as D,R as k,fn as P,fo as L,b as N,o as U,e as q,f as B,l as i,m as l,B as v,y as r}from"./entry.c1386fdc.js";const I=T({setup(){const s=h(),e=A(),_=()=>{const t={coinTypeA:"0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37::coina::USDT",coinTypeB:"0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37::coinb::APT",poolType:"0x45ba3bca9e81591a852df423105ecf2978dc03a5c0223033669bb889656a94a8::pool::Pool<0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37::coina::USDT,0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37::coinb::APT>",poolAddress:"0xa24877930240eaa62e6349fb8a68a6d9e818d4e3239f5c68889603dc1e034d39",collectionName:"Cetus CLMM Position/USDT-APT-10",tickSpacing:"10",positionIndex:"9",uri:"https://uswb6tcbq7bcuah4n5o3b4dyb77pizckgoowufytg5bwpjm2sv6a.arweave.net/pKwfTEGHwioA_G9dsPB4D_70ZEoznWoXEzdDZ6WalXw",coinAmountA:"89198",coinAmountB:"111065",current_sqrt_price:"18456853422185132018",current_tick_index:"10",fee_growth_global_a:"0",fee_growth_global_b:"0",fee_protocol_coin_a:"0",fee_protocol_coin_b:"11",fee_rate:"1000",liquidity:"20063259",tick_indexes_handle:"0x8bf0807ce135400d8efca2ea54577ff2439b9a25538b8c1a14b7c7db79c072e1",ticks_handle:"0x6f9dd06c94763751e333448930329b1d645a66fba8857260aca575a846987067"},o={name:"CLMM/USDT-APT-10-2",pool:"0xa24877930240eaa62e6349fb8a68a6d9e818d4e3239f5c68889603dc1e034d39",liquidity:"171",tick_lower_index:"0",tick_upper_index:"1200",fee_growth_inside_a:"0",fee_owed_a:"0",fee_growth_inside_b:"0",fee_owed_b:"0"},a=t,c=o,n=new k(a.current_sqrt_price),f=Number(c.tick_lower_index),p=Number(c.tick_upper_index),b=new k(100),m=!0,y=.1,C=e.estLiquidityAndcoinAmountFromOneAmounts({tokenA:P[0],tokenB:P[1],lowerTick:f,upperTick:p,coinAmount:b,iscoinA:m,roundUp:!0,slippage:y,curSqrtPrice:n});console.log("1122###testPreAddLiquidity###test####",C)},w=async()=>{s.getMyPositons("0x251dda55e5071be8c761c8a99d7af559ccb6ccc52ad3f945712d3ae8b87c35e0",s.poolsObj);const t=await e.getPositionInfo("0xc788f781c7c1d84c23dfd9b17699725b3f7f3da048845ae5b489dd6d73b35c66","Cetus Position | USDT-USDC_tick(5)","Cetus LP | Pool4-24");console.log("1129###position info###test###",t)};x(()=>s.myPositions,t=>{console.log("1129###myPosition###newValue####",t)});const g=S(),u=D(()=>g);return{testPreAddLiquidity:_,testGetMyPosition:w,testSwap:async()=>{const t={...L[0],poolAddress:"0xc788f781c7c1d84c23dfd9b17699725b3f7f3da048845ae5b489dd6d73b35c66",poolType:"0x80d6b00867cafcd40f9db3aa570ad1196f11ec5f57506799aec2a2940651fd37::pool::Pool<0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT,0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC>"},o=await e.preSwap({pool:t,a2b:!0,byAmountIn:!0,amount:"1"});console.log("1128###swap###preSwapRes####",o),console.log("1128###swap##params###",{pool:t,a2b:!0,byAmountIn:!0,amount:"0.0001",slippage:.01});const a=await e.getSwapTransactionPayload({pool:t,a2b:!0,byAmountIn:!0,amount:"0.0001",slippage:.01});let c;try{c=await u.value.currentWallet.signAndSubmitTransaction(a)}catch(n){console.log("1128###add##error###",n)}if(c&&c.hash){const n={title:"success",desc:"",hash:c.hash,sender:u.value.address,chainName:"Aptos"};await e.watchTransaction(n)&&alert("swap\u6210\u529F")}console.log("1128###swapPayload###",a)},testAddLiquidity:async()=>{const t=await e.getAddLiquidityTransactionPayload({pool:{poolAddress:"0xc788f781c7c1d84c23dfd9b17699725b3f7f3da048845ae5b489dd6d73b35c66",token_a:{address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT",decimals:6},token_b:{address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC",decimals:6}},amount:"0.0001",fix_amount_a:!0,tick_lower:32185,tick_upper:32195,index:0,slippage:.05,roundUp:!0});let o;try{o=await u.value.currentWallet.signAndSubmitTransaction(t)}catch(a){console.log("1128###add##error###",a)}if(o&&o.hash){const a={title:"success",desc:"",hash:o.hash,sender:u.value.address,chainName:"Aptos"};await e.watchTransaction(a)&&alert("\u6DFB\u52A0\u6210\u529F")}console.log(o,"tx===>")},testGetPoolList:async()=>{const t=await e.getPools();console.log("1130####poolList###",t);const o=await e.getPool("0xcbbbd6dada56fd265d80bc51c70ad3d925613204179bedda3f3557724f251623");console.log("1130###poolInfo####",o)},testGetCollectFeesQuote:async()=>{const t="0xb023816f70d5f37e5910f9037e20d076400b4c706800d2c145566fa41d9b4b1a",o="Cetus LP | Pool1-4",a=await e.getPool(t),c=a.ticks_handle,n=await e.getPositionInfo(a,"Cetus Position | USDT-USDC_tick(2)",o);console.log("1227###ticksHandle####",c),console.log("1227###position.tick_lower_index####",n.tick_lower_index);const f=await e.getTickDataByIndex(c,n.tick_lower_index),p=await e.getTickDataByIndex(c,n.tick_upper_index);console.log("1227###tickLowerData####",f),console.log("1227###tickUpperData####",p);const b=await e.getCollectFeesQuote({pool:{...a,token_a:{decimals:6},token_b:{decimals:6}},position:n,tickLowerData:f,tickUpperData:p});console.log("1227###testGetCollectFeesQuote###result###",b)},getNft:async()=>{console.log("wallet.value.currentWallet####",u.value.currentWallet),console.log("wallet.value.currentWallet.account####",u.value.currentWallet.account);try{const t=await window.martian.getAccountResources();console.log("getNft###test###",t)}catch(t){console.log("err###",t)}},getNftHash:()=>{const t={creator:"0xb023816f70d5f37e5910f9037e20d076400b4c706800d2c145566fa41d9b4b1a",collection:"Cetus Position | USDT-USDC_tick(2)",name:"Cetus LP | Pool1-5"},o=e.getNftHash(t);console.log("1214###getNftHash####",o)},testPosRewarder:async()=>{const t="0x4e9878bfcbde1be91e605dc85ae4b8340a6359846fd9f73580d1ad3abea98fb0",o="Cetus LP | Pool2-9",a=await e.getPool(t),c=a.ticks_handle,n=await e.getPositionInfo(a,"Cetus Position | APT-USDC_tick(60)",o),f=await e.getTickDataByIndex(c,n.tick_lower_index),p=await e.getTickDataByIndex(c,n.tick_upper_index),b=await e.getPosRewardersAmount({poolAddress:t,positionName:o,tickLowerData:f,tickUpperData:p});console.log("1227###testPosRewarder####test###",b)},getTokenList:async()=>{const t=await e.getTokenList();console.log("res###",t)}}}});function F(s,e,_,w,g,u){const d=v;return U(),q("div",null,[B("div",null,[i(d,{onClick:s.testPreAddLiquidity},{default:l(()=>[r("test pre add liquidity")]),_:1},8,["onClick"]),i(d,{onClick:s.testGetMyPosition},{default:l(()=>[r("get my position")]),_:1},8,["onClick"]),i(d,{onClick:s.testSwap},{default:l(()=>[r("test swap")]),_:1},8,["onClick"]),i(d,{onClick:s.testAddLiquidity},{default:l(()=>[r("test add")]),_:1},8,["onClick"]),i(d,{onClick:s.testGetPoolList},{default:l(()=>[r("get pool list")]),_:1},8,["onClick"]),i(d,{onClick:s.getNft},{default:l(()=>[r("get NFT")]),_:1},8,["onClick"]),i(d,{onClick:s.getNftHash},{default:l(()=>[r("get NFT hash")]),_:1},8,["onClick"]),i(d,{onClick:s.getTokenList},{default:l(()=>[r("get token list")]),_:1},8,["onClick"]),i(d,{onClick:s.testPosRewarder},{default:l(()=>[r("test pos rewarder")]),_:1},8,["onClick"]),i(d,{onClick:s.testGetCollectFeesQuote},{default:l(()=>[r("get collect fee quote")]),_:1},8,["onClick"])])])}const z=N(I,[["render",F]]);export{z as default};
