import{_ as Ve}from"./apr-tips.3bfc850b.js";import{a as de,r as f,ap as Be,aq as Te,L as ue,G as ce,N as Ne,v as C,F as me,s as ve,w as Z,ar as Re,i as Ue,H as ee,as as Ke,Y as M,A as te,b as pe,o as l,e as r,f as s,h as L,t as i,a1 as D,a2 as j,q as B,l as V,c as se,m as U,y as O,a4 as he,B as Pe,p as fe,j as ge,x as Ee,J as ne,k as le,a0 as x,K as ae,C as ie,a9 as re,at as H,au as qe,S as Oe,av as De}from"./entry.ac7bafb5.js";/* empty css              */import{_ as G}from"./icon_on_2x.92294e56.js";import{p as je}from"./precision.1cd464a0.js";import{_ as Fe,a as ze}from"./img-no-Positions_2x.3a4bda32.js";import"./index.b5fa5cfe.js";const Me=de({props:{lItem:{type:Object,required:!0}},setup(e){const o=f(!1),S=Be(Te,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:K}=ue(),T=ce(),A=Ne(),k=C(()=>A),w=f(!1);function y(p){const u=p.balance,P=Ke(u).div(Math.pow(10,p.decimals)).toString();return ee(P,p.decimals)}const g=p=>{w.value=!0,setTimeout(()=>{w.value=!1},2e3),T.push(`/deposit?tokena=${p.coinA.address}&tokenb=${p.coinB.address}&fee=${p.fee}`)},I=me(),c=C(()=>I),_=C(()=>c.value.newTokenObj&&e.lItem.coinA.address&&c.value.newTokenObj[e.lItem.coinA.address]&&c.value.newTokenObj[e.lItem.coinA.address].logoURI),t=C(()=>c.value.newTokenObj&&e.lItem.coinB.address&&c.value.newTokenObj[e.lItem.coinB.address]&&c.value.newTokenObj[e.lItem.coinB.address].logoURI),m=f([]),v=ve(),b=C(()=>v);return Z(()=>[c.value.addressLpTokens,c.value.newTokenObj,b.value.newTopPoolsObj],([p,u,P])=>{if(!M(p)&&!M(u)&&!M(c.value.RATES)&&!M(P)){const E=e.lItem.address&&p[e.lItem.address]&&p[e.lItem.address].rewarder_infos||[],F=[];E.forEach((N,J)=>{const W=u[N.coinAddress].decimals,z=te(N.emissionsEveryDay/Math.pow(10,W),4),Y=te(Number(z)*c.value.RATES[u[N.coinAddress].name.toUpperCase()].price,4);F.push({...N,logoUrl:u[N.coinAddress].logoURI,day:z,dayUSD:Y,symbol:u[N.coinAddress].symbol,rewarders:e.lItem[`rewarders${J}`]})}),m.value=F}},{immediate:!0}),{t:K,isShow:o,indicator:S,thousands:Re,importIcon:Ue,router:T,wallet:k,addCommom:ee,getLpView:y,toAdd:g,fromCoinUrl:_,toCoinUrl:t,addLiquidity:w,rewarderInfo:m}}});const He=e=>(fe("data-v-9021c616"),e=e(),ge(),e),Ze={class:"pools-list-item"},Ge=He(()=>s("div",{class:"topBg"},null,-1)),Je={class:"top"},We={class:"img-box"},Ye=["src"],Qe=["src"],Xe={class:"coin-name"},xe={class:"symbol-label"},es={class:"apr"},ss={class:"bottom"},os={class:"induction"},ts={class:"item"},ns={class:"induction-text"},ls={class:"induction-value"},as={class:"item"},is={class:"induction-text"},rs={class:"induction-value"},ds={class:"item"},us={class:"induction-text"},cs={class:"induction-value"},ms={key:0,class:"item rewards-item"},vs={class:"induction-text"},ps={class:"induction-value induction-value-rewards"},hs={class:"rewards-hover"},fs=["src"],gs=["src"];function _s(e,o,S,K,T,A){var g,I,c,_,t,m,v,b,p;const k=Ve,w=he,y=Pe;return l(),r("div",Ze,[Ge,s("div",Je,[s("div",We,[(g=e.lItem)!=null&&g.coinA?(l(),r("img",{key:0,src:e.fromCoinUrl||e.importIcon(`/image/coins/${(I=e.lItem)==null?void 0:I.coinA.symbol.toLowerCase()}.png`)},null,8,Ye)):L("",!0),(c=e.lItem)!=null&&c.coinB?(l(),r("img",{key:1,src:e.toCoinUrl||e.importIcon(`/image/coins/${(_=e.lItem)==null?void 0:_.coinB.symbol.toLowerCase()}.png`)},null,8,Qe)):L("",!0)]),s("span",Xe,i((m=(t=e.lItem)==null?void 0:t.coinA)==null?void 0:m.symbol)+" - "+i((b=(v=e.lItem)==null?void 0:v.coinB)==null?void 0:b.symbol),1),s("div",xe,[(l(!0),r(D,null,j((p=e.lItem)==null?void 0:p.labels,(u,P)=>(l(),r("div",{key:P,class:B(["lable",u])},null,2))),128))]),s("div",es,[s("span",{onClick:o[0]||(o[0]=u=>e.isShow=!e.isShow),class:"apr-text"},i(e.lItem.is_display_rewarder?e.addCommom(e.lItem.aprTotal,2):e.addCommom(e.lItem.apr,2)),1),s("span",{onClick:o[1]||(o[1]=u=>e.isShow=!e.isShow)},i(e.$t("common.apr")),1),V(k,{class:B(e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),lItem:e.lItem,rewarderInfo:e.rewarderInfo},null,8,["class","lItem","rewarderInfo"])])]),s("div",ss,[s("div",os,[s("div",ts,[s("div",ns,i(e.$t("common.feeTier")),1),s("div",ls,i(e.lItem.fee*100)+"%",1)]),s("div",as,[s("div",is,i(e.$t("common.liquidity")),1),s("div",rs,"$"+i(e.addCommom(e.lItem.liqidity,2)),1)]),s("div",ds,[s("div",us,i(e.$t("common.volume24H")),1),s("div",cs,"$"+i(e.addCommom(e.lItem.vol,2)),1)]),e.lItem.is_display_rewarder&&e.rewarderInfo&&e.rewarderInfo.length>0?(l(),r("div",ms,[s("div",vs,i(e.$t("common.rewards")),1),s("div",ps,[e.rewarderInfo&&e.rewarderInfo.length>0?(l(!0),r(D,{key:0},j(e.rewarderInfo,u=>(l(),r("div",{key:u,class:"rewards"},[s("div",hs,[s("img",{src:u.logoUrl,alt:""},null,8,fs),s("span",null,i(`${u.day} ${u.symbol} per day`),1)]),s("img",{src:u.logoUrl,alt:""},null,8,gs),s("span",null,i(u.symbol),1)]))),128)):e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr!=="0%"?(l(),se(w,{key:1,size:"small"})):L("",!0)]),e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr=="0%"?(l(),r("div",{key:0,class:B(["induction-value",e.lItem.rewarder_apr=="0%"?"text-default":"induction-value-rewards"])}," No rewards ",2)):L("",!0)])):L("",!0)]),V(y,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:o[2]||(o[2]=u=>e.toAdd(e.lItem))},{default:U(()=>[O(i(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const $s=pe(Me,[["render",_s],["__scopeId","data-v-9021c616"]]),ks=de({setup(){const{t:e,locale:o}=ue(),S=ce(),K=f(!1),T=f(!1),A=f(!1),k=f("TVL"),w=f(["APR","VOL"]),y=f(!1),g=f(e("tab.all")),I=f([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),c=f([]),_=f(""),t=f(["pools"]),m=me(),v=ve(),b=f(!0),p=f(""),u=C(()=>v),P=C(()=>v.theme),E=C(()=>m),F=C(()=>v.statsData),N=(n,d)=>d.liqidity-n.liqidity,J=(n,d)=>d.vol-n.vol,W=(n,d)=>d.aprNum-n.aprNum;Ee(()=>{var d,h,R;const n=(R=(h=(d=S==null?void 0:S.currentRoute)==null?void 0:d.value)==null?void 0:h.query)==null?void 0:R.language;n&&Y(n),v.getStatsData(),p.value=o.value,document.addEventListener("click",()=>{X("")})});const{setLang:z}=v,Y=n=>{z(n),o.value=n},_e=(n,d)=>n&&d?le(je.plus(x(n),x(d)),2)+"%":n,oe=n=>{let d=0;return n&&n.forEach(h=>{d+=x(String(h))}),String(le(String(d),2))},Q=n=>{const d=[];n.forEach(q=>{const a=u.value.addressLpTokens[q.address],Ce=a.rewarder_apr[0]?Number(a.rewarder_apr[0].substring(0,a.rewarder_apr[0].length-1)):0,Le=a.rewarder_apr[1]?Number(a.rewarder_apr[1].substring(0,a.rewarder_apr[1].length-1)):0,Se=a.rewarder_apr[2]?Number(a.rewarder_apr[2].substring(0,a.rewarder_apr[2].length-1)):0,Ae=Ce+Le+Se;d.push({...q,liqidity:a?a.tvl_in_usd:"0.00000000001",vol:a?a.vol_in_usd_24h:"0",apr:a?a.apr_7day:"--",aprNum:a?String(Number(a.apr_7day.substring(0,a.apr_7day.length-1))+Ae):"0",rewarder_apr:oe(a&&a.rewarder_apr),aprTotal:_e(a&&a.apr_7day,a&&oe(a.rewarder_apr)),rewarders0:a&&a.rewarder_apr[0],rewarders1:a&&a.rewarder_apr[1],rewarders2:a&&a.rewarder_apr[2]})});let h=[];if(k.value=="APR"?h=d.sort(W):k.value=="VOL"?h=d.sort(J):h=d.sort(N),g.value!=e("tab.all")){const q=[];h.forEach(a=>{a.labels.indexOf(g.value)!==-1&&q.push(a)}),c.value=q}else c.value=h;if(_.value){var R=new RegExp("[\\u4E00-\\u9FFF]+","g");if(R.test(_.value)){_.value="";return}const q=c.value.filter(a=>a.symbol.toLowerCase().includes(_.value.toLowerCase()));c.value=q}b.value=!1};Z(()=>[E.value.poolConfigList,_.value,k.value,g.value],([n,d])=>{(n==null?void 0:n.length)>0&&Q(n)},{immediate:!0,deep:!0});const $e=n=>{if(K.value=!0,n){Q(E.value.poolConfigList);const d=c.value.filter(h=>h.symbol.toLowerCase().includes(n.toLowerCase()));c.value=d,K.value=!1}else Q(E.value.poolConfigList)},ke=()=>{b.value=!0,T.value=!0,v.getStatsData(),m.setPoolConfigList(),setTimeout(()=>{T.value=!1},1e3)},we=n=>{const d=[];d.push(k.value),w.value.forEach((h,R)=>{h!=n&&d.push(h)}),w.value=d,k.value=n},ye=n=>{const d=[];I.value.forEach((h,R)=>{h==n?d[R]=g.value:d[R]=h}),I.value=d,g.value=n};Z(()=>v.lang,n=>{p.value=n});const X=n=>{n=="label"?(v.setIsSelect("pools"),y.value=!y.value,A.value=!1):n=="select"?(v.setIsSelect("pools"),A.value=!A.value,y.value=!1):(A.value=!1,y.value=!1)},Ie=()=>{S&&S.push("/position")},be=C(()=>ne[u.value.chainName]);return Z(()=>u.value.isSelect,n=>{n!=="pools"&&X("")},{immediate:!0}),{lpInfo:C(()=>E.value.poolConfigList.filter(d=>d.address==ne[u.value.chainName].newPositionAddress)[0]),config:be,toPositionList:Ie,t:e,router:S,loading:K,clickRefresh:ke,refresh:T,updateLpList:$e,searchKey:_,current:t,addCommom:ee,list:c,theme:P,statsData:F,pools:E,select:A,selectValue:k,selectList:w,label:y,labelValue:g,labelList:I,changeSort:we,changeSortLabel:ye,reviseValue:X,listLoading:b,languageValue:p}}});const $=e=>(fe("data-v-c9da7397"),e=e(),ge(),e),ws={class:"pools-list-container"},ys={class:"right-link"},Is=["href"],bs=$(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-jump"})],-1)),Cs=$(()=>s("span",null," New position ",-1)),Ls=$(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-add1"})],-1)),Ss=[Cs,Ls],As={class:"search-refresh"},Vs={class:"my-position position-h5"},Bs=["placeholder"],Ts=$(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Ns=[Ts],Rs={key:0,class:"select-item"},Us=["onClick"],Ks=$(()=>s("img",{src:G,alt:""},null,-1)),Ps=$(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Es=[Ps],qs={key:0,class:"select-item"},Os=["onClick"],Ds=$(()=>s("img",{src:G,alt:""},null,-1)),js=$(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Fs=[js],zs={class:"search-tab"},Ms={class:"my-position position-pc"},Hs=$(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Zs=[Hs],Gs={key:0,class:"select-item"},Js=["onClick"],Ws=$(()=>s("img",{src:G,alt:""},null,-1)),Ys=$(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Qs=[Ys],Xs={key:0,class:"select-item"},xs=["onClick"],eo=$(()=>s("img",{src:G,alt:""},null,-1)),so=["placeholder"],oo=$(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),to=[oo],no={class:"item item-left"},lo={class:"value"},ao={class:"label"},io={class:"item item-right"},ro={class:"value"},uo={class:"label"},co={key:2,class:"no-data"},mo={key:0,src:Fe},vo={key:1,src:ze};function po(e,o,S,K,T,A){const k=ae("mail-outlined"),w=De,y=ae("appstore-outlined"),g=qe,I=Oe,c=he,_=$s;return l(),r("div",ws,[s("div",{class:"pools-title",onClick:o[1]||(o[1]=t=>e.reviseValue(""))},[s("div",null,i(e.$t("common.concentratedPools")),1),s("div",ys,[s("a",{href:`${e.config.ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"ammSite"},[s("span",null,i(e.$t("common.ammPools")),1),bs],8,Is),s("div",{class:"position",onClick:o[0]||(o[0]=t=>{var m,v,b,p,u;return e.router.push(`/deposit?tokena=${((m=e.lpInfo)==null?void 0:m.coinA)&&((v=e.lpInfo)==null?void 0:v.coinA.address)}&tokenb=${((b=e.lpInfo)==null?void 0:b.coinB)&&((p=e.lpInfo)==null?void 0:p.coinB.address)}&fee=${(u=e.lpInfo)==null?void 0:u.fee}`)})},Ss)])]),s("div",As,[s("div",Vs,[s("div",{class:"search-input",onClick:o[5]||(o[5]=t=>e.reviseValue(""))},[ie(s("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,Bs),[[re,e.searchKey]]),e.searchKey?(l(),r("div",{key:0,class:"out-icon",onClick:o[3]||(o[3]=t=>e.searchKey="")})):L("",!0),s("div",{class:"search-icon",onClick:o[4]||(o[4]=t=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:o[6]||(o[6]=H(t=>e.reviseValue("label"),["stop"]))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(l(),r("svg",{"aria-hidden":"true",class:B(e.label?"show-icon icon":"icon")},Ns,2)),e.label?(l(),r("div",Rs,[(l(!0),r(D,null,j(e.labelList,(t,m)=>(l(),r("div",{key:m,class:"select-menu-item",onClick:v=>e.changeSortLabel(t)},i(t),9,Us))),128))])):L("",!0)]),s("div",{class:"search-select",onClick:o[7]||(o[7]=H(t=>e.reviseValue("select"),["stop"]))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[O(i(e.selectValue)+" ",1),Ks]),(l(),r("svg",{"aria-hidden":"true",class:B(e.select?"show-icon icon":"icon")},Es,2)),e.select?(l(),r("div",qs,[(l(!0),r(D,null,j(e.selectList,(t,m)=>(l(),r("div",{key:m,class:"select-menu-item",onClick:v=>e.changeSort(t)},[O(i(t)+" ",1),Ds],8,Os))),128))])):L("",!0)]),(l(),r("svg",{"aria-hidden":"true",class:B(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[8]||(o[8]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Fs,2))]),s("div",zs,[V(g,{selectedKeys:e.current,"onUpdate:selectedKeys":o[9]||(o[9]=t=>e.current=t),mode:"horizontal"},{default:U(()=>[V(w,{key:"pools"},{icon:U(()=>[V(k)]),default:U(()=>[O(" "+i(e.$t("menu.pools")),1)]),_:1}),V(w,{key:"position",onClick:e.toPositionList},{icon:U(()=>[V(y)]),default:U(()=>[O(" "+i(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Ms,[s("div",{class:"search-select search-label",onClick:o[10]||(o[10]=H(t=>e.reviseValue("label"),["stop"]))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(l(),r("svg",{"aria-hidden":"true",class:B(e.label?"show-icon icon":"icon")},Zs,2)),e.label?(l(),r("div",Gs,[(l(!0),r(D,null,j(e.labelList,(t,m)=>(l(),r("div",{key:m,class:"select-menu-item",onClick:v=>e.changeSortLabel(t)},i(t),9,Js))),128))])):L("",!0)]),s("div",{class:"search-select",onClick:o[11]||(o[11]=H(t=>e.reviseValue("select"),["stop"]))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[O(i(e.selectValue)+" ",1),Ws]),(l(),r("svg",{"aria-hidden":"true",class:B(e.select?"show-icon icon":"icon")},Qs,2)),e.select?(l(),r("div",Xs,[(l(!0),r(D,null,j(e.selectList,(t,m)=>(l(),r("div",{key:m,class:"select-menu-item",onClick:v=>e.changeSort(t)},[O(i(t)+" ",1),eo],8,xs))),128))])):L("",!0)]),s("div",{class:"search-input",onClick:o[15]||(o[15]=t=>e.reviseValue(""))},[ie(s("input",{"onUpdate:modelValue":o[12]||(o[12]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,so),[[re,e.searchKey]]),e.searchKey?(l(),r("div",{key:0,class:"out-icon",onClick:o[13]||(o[13]=t=>e.searchKey="")})):L("",!0),s("div",{class:"search-icon",onClick:o[14]||(o[14]=t=>e.updateLpList(e.searchKey))})]),(l(),r("svg",{"aria-hidden":"true",class:B(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[16]||(o[16]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},to,2))])]),s("div",{class:"tvl-vol",onClick:o[17]||(o[17]=t=>e.reviseValue(""))},[s("div",no,[V(I,{loading:e.listLoading,active:"",paragraph:!1},{default:U(()=>[s("div",lo," $ "+i(e.addCommom(e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",ao,i(e.$t("common.totalValueLocked")),1)]),s("div",io,[V(I,{loading:e.listLoading,active:"",paragraph:!1},{default:U(()=>[s("div",ro," $ "+i(e.addCommom(e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",uo,i(e.$t("common.volume24H")),1)])]),s("div",{class:"item-container",onClick:o[18]||(o[18]=t=>e.reviseValue(""))},[e.listLoading?(l(),se(c,{key:0})):e.list&&e.list.length>0?(l(!0),r(D,{key:1},j(e.list,(t,m)=>(l(),se(_,{key:m,"l-item":t},null,8,["l-item"]))),128)):(l(),r("div",co,[e.theme=="default"?(l(),r("img",mo)):(l(),r("img",vo)),s("span",null,i(e.$t("common.poolsNotFound")),1)]))])])}const Io=pe(ks,[["render",po],["__scopeId","data-v-c9da7397"]]);export{Io as default};
