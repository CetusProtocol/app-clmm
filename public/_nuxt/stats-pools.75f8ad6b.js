import{_ as js}from"./back.d0138d80.js";import{_ as Bs}from"./apr-tips.147e00c7.js";import{a as Us,b as Es,e as x,x as Ws,G as qs,r as v,y as zs,w as us,H as Fs,i as Gs,Y,m as is,a0 as ds,f as Ms,o as i,h as c,j as a,q as J,z as g,t as r,v as H,a1 as ss,a2 as es,k as O,fk as Ys,s as cs,p as Js,l as Ks,B as Qs}from"./entry.f414dbf5.js";import{_ as _s}from"./icon_on_stats.b61a8e0c.js";import{p as Xs}from"./precision.1cd464a0.js";import{_ as ps}from"./icon-Rewards.cb9282e1.js";const Zs=Us({setup(){const o=Es(),u=x(()=>o),vs=x(()=>u.value.newTokenObj||{}),os=Ws(),K=x(()=>os),j=qs();let ls=v("big");const T=v(1),b=v(1);let w=v(!1);const e=()=>{os.getStatsData()};zs(()=>{os.getStatsData();const s=document.body.clientWidth;s<750?w.value=!1:w.value=!0,window.onresize=()=>{s<750?w.value=!1:w.value=!0},w.value,Z(T.value,10),m(b.value,10)});let h=v([]);const f=x(()=>K.value.topPoolsList),p=s=>(l,d)=>{let _=l[s],t=d[s];return _-t},n=s=>(l,d)=>{let _=l[s];return d[s]-_},k=v(!1),P=v(!1),I=v(!1),$=v(!1),A=v(!0),B=v(!1),U=v(!1),E=v(!1),C=v(!1),V=v(!1),D=v(!1),y=v(!1),W=v(!1),q=v(!1),z=v(!1),R=v(!0),Q=v(!1),as=v("TVL"),ns=v(["Volume (24H)","Volume (7D)","APR"]),X=v(!1),rs=v("TVL"),ts=v(["Price","Volume (24H)","Price Change"]),hs=s=>{const l=f;if(s=="tvl_in_usd"?(A.value?(k.value=!k.value,l.value.sort(k.value?p(s):n(s))):l.value.sort(n(s)),P.value=!1,I.value=!1,$.value=!1,A.value=!0,B.value=!1,U.value=!1,E.value=!1):s=="vol_in_usd_24h"?(B.value?(P.value=!P.value,l.value.sort(P.value?p(s):n(s))):l.value.sort(n(s)),k.value=!1,I.value=!1,$.value=!1,A.value=!1,B.value=!0,U.value=!1,E.value=!1):s=="vol_in_usd_7_day"?(U.value?(I.value=!I.value,l.value.sort(I.value?p(s):n(s))):l.value.sort(n(s)),k.value=!1,P.value=!1,$.value=!1,A.value=!1,B.value=!1,U.value=!0,E.value=!1):s=="aprNum"&&(E.value?($.value=!$.value,l.value.sort($.value?p(s):n(s))):l.value.sort(n(s)),k.value=!1,P.value=!1,I.value=!1,A.value=!1,B.value=!1,U.value=!1,E.value=!0),l.value.length<10)h.value=l.value.slice(0,10);else{const d=T.value*10;h.value=l.value.slice(d-10,d)}},fs=s=>{const l=G;if(s=="price"?(W.value?(C.value=!C.value,l.value.sort(C.value?p(s):n(s))):l.value.sort(n(s)),V.value=!1,D.value=!1,y.value=!1,W.value=!0,q.value=!1,z.value=!1,R.value=!1):s=="vol_in_usd_24h"?(z.value?(D.value=!D.value,l.value.sort(D.value?p(s):n(s))):l.value.sort(n(s)),C.value=!1,V.value=!1,y.value=!1,W.value=!1,q.value=!1,z.value=!0,R.value=!1):s=="tvl_in_usd"?(R.value?(y.value=!y.value,l.value.sort(y.value?p(s):n(s))):l.value.sort(n(s)),C.value=!1,V.value=!1,D.value=!1,W.value=!1,q.value=!1,z.value=!1,R.value=!0):s=="priceHour"&&(q.value?(V.value=!V.value,l.value.sort(V.value?p(s):n(s))):l.value.sort(n(s)),C.value=!1,D.value=!1,y.value=!1,W.value=!1,q.value=!0,z.value=!1,R.value=!1),l.value.length<10)N.value=l.value.slice(0,10);else{const d=b.value*10;N.value=l.value.slice(d-10,d)}},ks=s=>{s=="label"?(X.value=!X.value,Q.value=!1):s=="select"?(Q.value=!Q.value,X.value=!1):(Q.value=!1,X.value=!1)},gs=s=>{const l=[];l.push(as.value),ns.value.forEach((d,_)=>{d!=s&&l.push(d)}),ns.value=l,as.value=s,s=="TVL"?h.value.sort(n("tvl_in_usd")):s=="Volume (24H)"?h.value.sort(n("vol_in_usd_24h")):s=="Volume (7D)"?h.value.sort(n("vol_in_usd_7_day")):s=="APR"&&h.value.sort(n("aprNum"))},Ts=s=>{const l=[];l.push(rs.value),ts.value.forEach((d,_)=>{d!=s&&l.push(d)}),ts.value=l,rs.value=s,s=="TVL"?N.value.sort(n("tvl_in_usd")):s=="Volume (24H)"?N.value.sort(n("vol_in_usd_24h")):s=="Price"?N.value.sort(n("price")):s=="Price Change"&&N.value.sort(n("priceHour"))};us(f,()=>{w.value,Z(T.value,10)});const Z=(s,l)=>{T.value=s;const d=l*s-l;let _=l*s;_=_>f.value.length?f.value.length:_;const t=f.value;if(t.length>0){A.value&&!k.value?t.sort(bs):A.value&&k.value?t.sort(Hs):B.value?P.value?t.sort(Ps):t.sort(ws):U.value?I.value?t.sort(Is):t.sort(Ls):E.value&&($.value?t.sort($s):t.sort(ys));const M=t.filter((F,S)=>S>=d&&S<_);h.value=M}return t},bs=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,ws=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Ls=(s,l)=>l.vol_in_usd_7_day-s.vol_in_usd_7_day,ys=(s,l)=>l.aprNum-s.aprNum,Hs=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Ps=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h,Is=(s,l)=>s.vol_in_usd_7_day-l.vol_in_usd_7_day,$s=(s,l)=>s.aprNum-l.aprNum;let N=v([]);const G=x(()=>{const s=K.value.topTokensList,l=[];for(let d=0;d<s.length;d++){const _=s[d];l.push({..._,priceHour:_?Number(_.price_rate_24h.substring(0,_.price_rate_24h.length-1)):"0"})}return l});us(G,()=>{w.value,m(b.value,10)});const m=(s,l)=>{b.value=s;const d=l*s-l;let _=l*s;_=_>G.value.length?G.value.length:_;const t=G.value;if(t.length>0){R.value&&!y.value?t.sort(As):R.value&&y.value?t.sort(Rs):W.value?C.value?t.sort(Ns):t.sort(Cs):q.value?V.value?t.sort(Ss):t.sort(Vs):z.value&&(D.value?t.sort(Os):t.sort(Ds));const M=t.filter((F,S)=>S>=d&&S<_);N.value=M}return t},As=(s,l)=>l.tvl_in_usd-s.tvl_in_usd,Cs=(s,l)=>l.price-s.price,Vs=(s,l)=>l.priceHour-s.priceHour,Ds=(s,l)=>l.vol_in_usd_24h-s.vol_in_usd_24h,Rs=(s,l)=>s.tvl_in_usd-l.tvl_in_usd,Ns=(s,l)=>s.price-l.price,Ss=(s,l)=>s.priceHour-l.priceHour,Os=(s,l)=>s.vol_in_usd_24h-l.vol_in_usd_24h;return us(()=>K.value.chainName,s=>{s=="Sui"&&j.push("/swap")},{immediate:!0}),{getRewarderInfo:s=>{const l=s.swap_account;return u.value.addressLpTokens&&u.value.addressLpTokens[l]&&u.value.addressLpTokens[l].rewarder_infos},addCommom:Fs,store:K,importIcon:Gs,topPoolsList:f,addressTokens:vs,showEcharts:ls,currentPools:T,onChangePools:Z,currentTopPoolsList:h,onChangeTokens:m,currentTokens:b,currentTopTokensList:N,topTokensList:G,router:j,isPc:w,getAprTotal:(s,l)=>s&&l?is(Xs.plus(ds(s),ds(l)),2)+"%":s,getRewarderApr:s=>{let l=0;return s&&s.forEach(d=>{l+=ds(String(d))}),String(is(String(l),2))},toPoolsList:()=>{j&&j.push("/stats-pools")},toTokensList:()=>{j&&j.push("/stats-tokens")},changePoolsList:hs,changeTokensList:fs,tvlImprint:k,volHImprint:P,volDImprint:I,aprImprint:$,tokensPriceImprint:C,tokensPriceHImprint:V,tokensVolHImprint:D,tokensTvlImprint:y,labelToken:X,select:Q,selectValue:as,selectList:ns,reviseValue:ks,changeSort:gs,tokenValue:rs,tokensList:ts,changeSortLabel:Ts,tvlImprintHighlight:A,volHImprintHighlight:B,volDImprintHighlight:U,aprImprintHighlight:E,tokensPriceImprintHighlight:W,tokensPriceHImprintHighlight:q,tokensVolHImprintHighlight:z,tokensTvlImprintHighlight:R,getLabel:s=>{const l=s.swap_account;return u.value.addressLpTokens&&u.value.addressLpTokens[l]&&u.value.addressLpTokens[l].labels},rewardApr:s=>{if(!Y(s)&&!Y(u.value.addressLpTokens)&&!Y(u.value.newTokenObj)){const l=s.swap_account,d=u.value.addressLpTokens[l];let _=d.rewarder_infos||[];const t=[];_.forEach((F,S)=>{t.push({...F,symbol:u.value.newTokenObj[F.coinAddress].symbol,rewarderApr:s.rewarder_apr[S],logoUrl:u.value.newTokenObj[F.coinAddress].logoURI,rewarder_display:d[`rewarder_display${S+1}`]})});let M=[];return M=t.filter(F=>F.rewarder_display),M}},getsad:e,rewardDisplay:s=>{if(!Y(s)&&!Y(u.value.addressLpTokens)&&!Y(u.value.newTokenObj)){const l=u.value.addressLpTokens[s.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1}}}});const L=o=>(Js("data-v-3ec91b8f"),o=o(),Ks(),o),ms={class:"stats-container"},xs={class:"title"},se={class:"top-pools-new"},ee={class:"sort-by"},oe=L(()=>a("img",{src:_s,alt:""},null,-1)),le=L(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),ae=[le],ne={key:0,class:"select-item"},re=["onClick"],te=L(()=>a("img",{src:_s,alt:""},null,-1)),ue={class:"content"},de={class:"item"},ve=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ie=[ve],ce=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),_e=[ce],pe=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),he=[pe],fe=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ke=[fe],ge={class:"apr-hover-content"},Te=L(()=>a("span",null,"\xA0",-1)),be={class:"token"},we=["src"],Le=["src"],ye={class:"name"},He={class:"token-name"},Pe={class:"fee-tier-top"},Ie={class:"label-all"},$e={key:0},Ae={class:"tvl"},Ce={class:"volume-hour"},Ve={class:"volume-day"},De=L(()=>a("img",{src:ps,alt:""},null,-1)),Re={key:0,class:"apr-hover-content"},Ne={class:"btn-box"},Se={class:"top"},Oe={class:"token"},je=["src"],Be=["src"],Ue={class:"name"},Ee={class:"token-name"},We={class:"label-all"},qe={key:0},ze={class:"fee-tier-hint"},Fe={class:"middle"},Ge={class:"item-pools"},Me={class:"item-pools"},Ye={class:"item-pools"},Je=L(()=>a("img",{src:ps,alt:""},null,-1)),Ke={class:"bottom"},Qe={class:"panation"};function Xe(o,u,vs,os,K,j){const ls=js,T=Bs,b=Qs,w=Ys;return i(),c("div",ms,[a("div",xs,[J(ls),g(" "+r(o.$t("menu.pools")),1)]),a("div",se,[a("div",ee,[a("div",null,r(o.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:u[0]||(u[0]=e=>o.reviseValue("select"))},[a("div",null,[g(r(o.selectValue)+" ",1),oe]),(i(),c("svg",{"aria-hidden":"true",class:H(o.select?"show-icon icon":"icon")},ae,2)),o.select?(i(),c("div",ne,[(i(!0),c(ss,null,es(o.selectList,(e,h)=>(i(),c("div",{key:h,class:"select-menu-item",onClick:f=>o.changeSort(e)},[g(r(e)+" ",1),te],8,re))),128))])):O("",!0)])]),a("div",ue,[a("div",de,[a("span",null,r(o.$t("newAdd.pool")),1),a("span",{onClick:u[1]||(u[1]=e=>o.changePoolsList("tvl_in_usd"))},[g(r(o.$t("common.tvl"))+" ",1),(i(),c("svg",{"aria-hidden":"true",class:H(["pools-icon",o.tvlImprint?o.tvlImprintHighlight?"selected highlight":"selected":o.tvlImprintHighlight?"highlight":""])},ie,2))]),a("span",{onClick:u[2]||(u[2]=e=>o.changePoolsList("vol_in_usd_24h"))},[g(r(o.$t("common.volume24H"))+" ",1),(i(),c("svg",{"aria-hidden":"true",class:H(["pools-icon",o.volHImprint?o.volHImprintHighlight?"selected highlight":"selected":o.volHImprintHighlight?"highlight":""])},_e,2))]),a("span",{onClick:u[3]||(u[3]=e=>o.changePoolsList("vol_in_usd_7_day"))},[g(r(o.$t("newAdd.volume7D"))+" ",1),(i(),c("svg",{"aria-hidden":"true",class:H(["pools-icon",o.volDImprint?o.volDImprintHighlight?"selected highlight":"selected":o.volDImprintHighlight?"highlight":""])},he,2))]),a("span",{onClick:u[4]||(u[4]=e=>o.changePoolsList("aprNum"))},[g(" APR "),(i(),c("svg",{"aria-hidden":"true",class:H(["pools-icon",o.aprImprint?o.aprImprintHighlight?"selected highlight":"selected":o.aprImprintHighlight?"highlight":""])},ke,2)),a("div",ge,[J(T,{class:"noHover apr-hover-con"})])]),Te]),(i(!0),c(ss,null,es(o.currentTopPoolsList,(e,h)=>{var f,p;return i(),c("div",{key:h,class:"item pc-item"},[a("div",be,[e!=null&&e.token_a_address?(i(),c("img",{key:0,src:o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol.toLowerCase()}.png`)},null,8,we)):O("",!0),e!=null&&e.token_b_address?(i(),c("img",{key:1,src:o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol.toLowerCase()}.png`)},null,8,Le)):O("",!0),a("div",ye,[a("p",He,r(o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol)+" - "+r(o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol),1),a("div",Pe,r((e==null?void 0:e.fee)*100)+"%",1),a("div",Ie,[(i(!0),c(ss,null,es(o.getLabel(e),(n,k)=>(i(),c("div",{key:k,class:H(["label",n])},[n!=="Native"?(i(),c("span",$e,r(n),1)):O("",!0)],2))),128))])])]),a("div",Ae," $"+r(e.tvl_in_usd?o.addCommom(e.tvl_in_usd,2):"--"),1),a("div",Ce," $"+r(e!=null&&e.vol_in_usd_24h?o.addCommom(e==null?void 0:e.vol_in_usd_24h,2):"--"),1),a("div",Ve," $"+r(e!=null&&e.vol_in_usd_7_day?o.addCommom(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1),a("div",{class:H(["apr",((f=o.rewardApr(e))==null?void 0:f.length)>0?"apr-mark":""])},[De,g(" "+r(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)))+" ",1),((p=o.rewardApr(e))==null?void 0:p.length)!=0?(i(),c("div",Re,[J(T,{class:"noHover apr-hover-con","l-item":{apr:e.apr_7day,aprTotal:o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr)),is_display_rewarder:o.rewardDisplay(e),rewarder_apr:o.getRewarderApr(e.rewarder_apr)},"rewarder-info":o.rewardApr(e)},null,8,["l-item","rewarder-info"])])):O("",!0)],2),a("div",Ne,[J(b,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:cs(()=>[g(r(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(i(!0),c(ss,null,es(o.currentTopPoolsList,(e,h)=>{var f;return i(),c("div",{key:h,class:"item h5-item"},[a("div",Se,[a("div",Oe,[e!=null&&e.token_a_address?(i(),c("img",{key:0,src:o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol.toLowerCase()}.png`)},null,8,je)):O("",!0),e!=null&&e.token_b_address?(i(),c("img",{key:1,src:o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].logoURI||o.importIcon(`/image/coins/${o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol.toLowerCase()}.png`)},null,8,Be)):O("",!0),a("div",Ue,[a("p",Ee,r(o.addressTokens&&o.addressTokens[e.token_a_address]&&o.addressTokens[e.token_a_address].symbol)+" - "+r(o.addressTokens&&o.addressTokens[e.token_b_address]&&o.addressTokens[e.token_b_address].symbol),1),a("div",We,[(i(!0),c(ss,null,es(o.getLabel(e),(p,n)=>(i(),c("div",{key:n,class:H(["label",p])},[p!=="Native"?(i(),c("span",qe,r(p),1)):O("",!0)],2))),128))])])]),a("div",ze,r((e==null?void 0:e.fee)*100)+"%",1)]),a("div",Fe,[a("div",Ge,[a("span",null,r(o.$t("common.tvl")),1),a("p",null," $"+r(e.tvl_in_usd?o.addCommom(e.tvl_in_usd,2):"--"),1)]),a("div",Me,[a("span",null,r(o.$t("common.volume24H")),1),a("p",null," $"+r(e!=null&&e.vol_in_usd_24h?o.addCommom(e==null?void 0:e.vol_in_usd_24h,2):"--"),1)]),a("div",Ye,[a("span",null,r(o.$t("common.volume7D")),1),a("p",null," $"+r(e!=null&&e.vol_in_usd_7_day?o.addCommom(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1)]),a("div",{class:H(["item-pools",((f=o.rewardApr(e))==null?void 0:f.length)>0?"":"apr-mark-h5"])},[a("span",null,r(o.$t("common.apr")),1),a("p",null,[Je,g(" "+r(o.getAprTotal(e.apr_7day,o.getRewarderApr(e.rewarder_apr))),1)])],2)]),a("div",Ke,[J(b,{class:"cancel-btn",onClick:()=>o.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:cs(()=>[g(r(o.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),a("div",Qe,[J(w,{current:o.currentPools,"onUpdate:current":u[5]||(u[5]=e=>o.currentPools=e),"page-size":(o.isPc,10),simple:"",total:o.topPoolsList.length,onChange:o.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const co=Ms(Zs,[["render",Xe],["__scopeId","data-v-3ec91b8f"]]);export{co as default};
