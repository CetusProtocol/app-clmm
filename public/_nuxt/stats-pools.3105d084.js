import{_ as Bs}from"./back.6dd0d309.js";import{_ as Es}from"./apr-tips.20d65ef4.js";import{u as Fs,a as Ws,h as q,i as A,c as X,f as ps,t as vs}from"./import-icon.9d757206.js";import{a as Gs,f as os,r as i,b as Ms,w as _s,G as Ys,h as qs,o as v,i as c,j as a,v as Y,s as T,t,l as H,F as ls,D as as,k as P,Y as zs,u as f,x as hs,p as Js,m as Ks,B as Qs}from"./entry.94f2f2cc.js";import{_ as fs}from"./icon_on_stats.9457802a.js";import{p as Xs}from"./precision.9d58cda5.js";import{_ as gs}from"./icon-Rewards.2aa5cdcd.js";const Zs=Gs({setup(){const s=Fs(),d=os(()=>s),cs=os(()=>d.value.newTokenObj||{}),ns=Ws(),z=os(()=>ns),J=Ys();let rs=i("big");const w=i(1),I=i(1);let y=i(!1);const o=()=>{ns.getStatsData(z.value.chainName)};Ms(()=>{ns.getStatsData(z.value.chainName);const e=document.body.clientWidth;e<750?y.value=!1:y.value=!0,window.onresize=()=>{e<750?y.value=!1:y.value=!0},y.value,ss(w.value,10),es(I.value,10)});let _=i([]);const g=os(()=>z.value.topPoolsList),h=e=>(l,r)=>{let p=l[e],u=r[e];return p-u},n=e=>(l,r)=>{let p=l[e];return r[e]-p},k=i(!1),C=i(!1),$=i(!1),D=i(!1),V=i(!0),j=i(!1),B=i(!1),E=i(!1),R=i(!1),N=i(!1),m=i(!1),b=i(!1),F=i(!1),W=i(!1),G=i(!1),S=i(!0),Z=i(!1),ts=i("TVL"),us=i(["Volume (24H)","Volume (7D)","APR"]),x=i(!1),ds=i("TVL"),is=i(["Price","Volume (24H)","Price Change"]),ks=e=>{const l=g;if(e=="tvl_in_usd"?(V.value?(k.value=!k.value,l.value.sort(k.value?h(e):n(e))):l.value.sort(n(e)),C.value=!1,$.value=!1,D.value=!1,V.value=!0,j.value=!1,B.value=!1,E.value=!1):e=="vol_in_usd_24h"?(j.value?(C.value=!C.value,l.value.sort(C.value?h(e):n(e))):l.value.sort(n(e)),k.value=!1,$.value=!1,D.value=!1,V.value=!1,j.value=!0,B.value=!1,E.value=!1):e=="vol_in_usd_7_day"?(B.value?($.value=!$.value,l.value.sort($.value?h(e):n(e))):l.value.sort(n(e)),k.value=!1,C.value=!1,D.value=!1,V.value=!1,j.value=!1,B.value=!0,E.value=!1):e=="aprNum"&&(E.value?(D.value=!D.value,l.value.sort(D.value?h(e):n(e))):l.value.sort(n(e)),k.value=!1,C.value=!1,$.value=!1,V.value=!1,j.value=!1,B.value=!1,E.value=!0),l.value.length<10)_.value=l.value.slice(0,10);else{const r=w.value*10;_.value=l.value.slice(r-10,r)}},ws=e=>{const l=K;if(e=="price"?(F.value?(R.value=!R.value,l.value.sort(R.value?h(e):n(e))):l.value.sort(n(e)),N.value=!1,m.value=!1,b.value=!1,F.value=!0,W.value=!1,G.value=!1,S.value=!1):e=="vol_in_usd_24h"?(G.value?(m.value=!m.value,l.value.sort(m.value?h(e):n(e))):l.value.sort(n(e)),R.value=!1,N.value=!1,b.value=!1,F.value=!1,W.value=!1,G.value=!0,S.value=!1):e=="tvl_in_usd"?(S.value?(b.value=!b.value,l.value.sort(b.value?h(e):n(e))):l.value.sort(n(e)),R.value=!1,N.value=!1,m.value=!1,F.value=!1,W.value=!1,G.value=!1,S.value=!0):e=="priceHour"&&(W.value?(N.value=!N.value,l.value.sort(N.value?h(e):n(e))):l.value.sort(n(e)),R.value=!1,m.value=!1,b.value=!1,F.value=!1,W.value=!0,G.value=!1,S.value=!1),l.value.length<10)U.value=l.value.slice(0,10);else{const r=I.value*10;U.value=l.value.slice(r-10,r)}},Ts=e=>{e=="label"?(x.value=!x.value,Z.value=!1):e=="select"?(Z.value=!Z.value,x.value=!1):(Z.value=!1,x.value=!1)},Is=e=>{const l=[];l.push(ts.value),us.value.forEach((r,p)=>{r!=e&&l.push(r)}),us.value=l,ts.value=e,e=="TVL"?_.value.sort(n("tvl_in_usd")):e=="Volume (24H)"?_.value.sort(n("vol_in_usd_24h")):e=="Volume (7D)"?_.value.sort(n("vol_in_usd_7_day")):e=="APR"&&_.value.sort(n("aprNum"))},ys=e=>{const l=[];l.push(ds.value),is.value.forEach((r,p)=>{r!=e&&l.push(r)}),is.value=l,ds.value=e,e=="TVL"?U.value.sort(n("tvl_in_usd")):e=="Volume (24H)"?U.value.sort(n("vol_in_usd_24h")):e=="Price"?U.value.sort(n("price")):e=="Price Change"&&U.value.sort(n("priceHour"))};_s(g,()=>{y.value,ss(w.value,10)});const ss=(e,l)=>{w.value=e;const r=l*e-l;let p=l*e;p=p>g.value.length?g.value.length:p;const u=g.value;if(u.length>0){V.value&&!k.value?u.sort(Ls):V.value&&k.value?u.sort(As):j.value?C.value?u.sort(Cs):u.sort(bs):B.value?$.value?u.sort($s):u.sort(Hs):E.value&&(D.value?u.sort(Ds):u.sort(Ps));const Q=u.filter((M,O)=>O>=r&&O<p);_.value=Q}return u},Ls=(e,l)=>l.tvl_in_usd-e.tvl_in_usd,bs=(e,l)=>l.vol_in_usd_24h-e.vol_in_usd_24h,Hs=(e,l)=>l.vol_in_usd_7_day-e.vol_in_usd_7_day,Ps=(e,l)=>l.aprNum-e.aprNum,As=(e,l)=>e.tvl_in_usd-l.tvl_in_usd,Cs=(e,l)=>e.vol_in_usd_24h-l.vol_in_usd_24h,$s=(e,l)=>e.vol_in_usd_7_day-l.vol_in_usd_7_day,Ds=(e,l)=>e.aprNum-l.aprNum;let U=i([]);const K=os(()=>{const e=z.value.topTokensList,l=[];for(let r=0;r<e.length;r++){const p=e[r];l.push({...p,priceHour:p?Number(p.price_rate_24h.substring(0,p.price_rate_24h.length-1)):"0"})}return l});_s(K,()=>{y.value,es(I.value,10)});const es=(e,l)=>{I.value=e;const r=l*e-l;let p=l*e;p=p>K.value.length?K.value.length:p;const u=K.value;if(u.length>0){S.value&&!b.value?u.sort(Vs):S.value&&b.value?u.sort(Ss):F.value?R.value?u.sort(Us):u.sort(Rs):W.value?N.value?u.sort(Os):u.sort(Ns):G.value&&(m.value?u.sort(js):u.sort(ms));const Q=u.filter((M,O)=>O>=r&&O<p);U.value=Q}return u},Vs=(e,l)=>l.tvl_in_usd-e.tvl_in_usd,Rs=(e,l)=>l.price-e.price,Ns=(e,l)=>l.priceHour-e.priceHour,ms=(e,l)=>l.vol_in_usd_24h-e.vol_in_usd_24h,Ss=(e,l)=>e.tvl_in_usd-l.tvl_in_usd,Us=(e,l)=>e.price-l.price,Os=(e,l)=>e.priceHour-l.priceHour,js=(e,l)=>e.vol_in_usd_24h-l.vol_in_usd_24h;return{getRewarderInfo:e=>{const l=e.swap_account;return d.value.addressLpTokens&&d.value.addressLpTokens[l]&&d.value.addressLpTokens[l].rewarder_infos},addCommom:q,store:z,importIcon:A,topPoolsList:g,addressTokens:cs,showEcharts:rs,currentPools:w,onChangePools:ss,currentTopPoolsList:_,onChangeTokens:es,currentTokens:I,currentTopTokensList:U,topTokensList:K,router:J,isPc:y,getAprTotal:(e,l)=>e&&l?ps(Xs.plus(vs(e),vs(l)),2)+"%":e,getRewarderApr:e=>{let l=0;return e&&e.forEach(r=>{l+=vs(String(r))}),String(ps(String(l),2))},toPoolsList:()=>{J&&J.push("/stats-pools")},toTokensList:()=>{J&&J.push("/stats-tokens")},changePoolsList:ks,changeTokensList:ws,tvlImprint:k,volHImprint:C,volDImprint:$,aprImprint:D,tokensPriceImprint:R,tokensPriceHImprint:N,tokensVolHImprint:m,tokensTvlImprint:b,labelToken:x,select:Z,selectValue:ts,selectList:us,reviseValue:Ts,changeSort:Is,tokenValue:ds,tokensList:is,changeSortLabel:ys,tvlImprintHighlight:V,volHImprintHighlight:j,volDImprintHighlight:B,aprImprintHighlight:E,tokensPriceImprintHighlight:F,tokensPriceHImprintHighlight:W,tokensVolHImprintHighlight:G,tokensTvlImprintHighlight:S,getLabel:e=>{const l=e.swap_account;return d.value.addressLpTokens&&d.value.addressLpTokens[l]&&d.value.addressLpTokens[l].labels},rewardApr:e=>{if(!X(e)&&!X(d.value.addressLpTokens)&&!X(d.value.newTokenObj)){const l=e.swap_account,r=d.value.addressLpTokens[l];let p=(r==null?void 0:r.rewarder_infos)||[];const u=[];p.forEach((M,O)=>{u.push({...M,symbol:d.value.newTokenObj[M.coinAddress].symbol,rewarderApr:e.rewarder_apr[O],logoUrl:d.value.newTokenObj[M.coinAddress].logoURI,rewarder_display:r[`rewarder_display${O+1}`]})});let Q=[];return Q=u.filter(M=>M.rewarder_display),Q}},getsad:o,rewardDisplay:e=>{if(!X(e)&&!X(d.value.addressLpTokens)&&!X(d.value.newTokenObj)){const l=d.value.addressLpTokens[e.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1}}}});const L=s=>(Js("data-v-b9a9c1b5"),s=s(),Ks(),s),xs={class:"stats-container"},se={class:"title"},ee={class:"top-pools-new"},oe={class:"sort-by"},le=L(()=>a("img",{src:fs,alt:""},null,-1)),ae=L(()=>a("use",{"xlink:href":"#icon-icon_on"},null,-1)),ne=[ae],re={key:0,class:"select-item"},te=["onClick"],ue=L(()=>a("img",{src:fs,alt:""},null,-1)),de={class:"content"},ie={class:"item"},ve=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ce=[ve],pe=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),_e=[pe],he=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),fe=[he],ge=L(()=>a("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),ke=[ge],we={class:"apr-hover-content"},Te=L(()=>a("span",null,"Â ",-1)),Ie={class:"token"},ye=["src"],Le=["src"],be={class:"name"},He={class:"token-name"},Pe={class:"fee-tier-top"},Ae={class:"label-all"},Ce={key:0},$e={class:"tvl"},De={class:"volume-hour"},Ve={class:"volume-day"},Re=L(()=>a("img",{src:gs,alt:""},null,-1)),Ne={key:0,class:"apr-hover-content"},me={class:"btn-box"},Se={class:"top"},Ue={class:"token"},Oe=["src"],je=["src"],Be={class:"name"},Ee={class:"token-name"},Fe={class:"label-all"},We={key:0},Ge={class:"fee-tier-hint"},Me={class:"middle"},Ye={class:"item-pools"},qe={class:"item-pools"},ze={class:"item-pools"},Je=L(()=>a("img",{src:gs,alt:""},null,-1)),Ke={key:0,class:"apr-hover-content"},Qe={class:"bottom"},Xe={class:"panation"};function Ze(s,d,cs,ns,z,J){const rs=Bs,w=Es,I=Qs,y=zs;return v(),c("div",xs,[a("div",se,[Y(rs),T(" "+t(s.$t("menu.pools")),1)]),a("div",ee,[a("div",oe,[a("div",null,t(s.$t("newAdd.sortBy")),1),a("div",{class:"search-select",onClick:d[0]||(d[0]=o=>s.reviseValue("select"))},[a("div",null,[T(t(s.selectValue)+" ",1),le]),(v(),c("svg",{"aria-hidden":"true",class:H(s.select?"show-icon icon":"icon")},ne,2)),s.select?(v(),c("div",re,[(v(!0),c(ls,null,as(s.selectList,(o,_)=>(v(),c("div",{key:_,class:"select-menu-item",onClick:g=>s.changeSort(o)},[T(t(o)+" ",1),ue],8,te))),128))])):P("",!0)])]),a("div",de,[a("div",ie,[a("span",null,t(s.$t("newAdd.pool")),1),a("span",{onClick:d[1]||(d[1]=o=>s.changePoolsList("tvl_in_usd"))},[T(t(s.$t("common.tvl"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:H(["pools-icon",s.tvlImprint?s.tvlImprintHighlight?"selected highlight":"selected":s.tvlImprintHighlight?"highlight":""])},ce,2))]),a("span",{onClick:d[2]||(d[2]=o=>s.changePoolsList("vol_in_usd_24h"))},[T(t(s.$t("common.volume24H"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:H(["pools-icon",s.volHImprint?s.volHImprintHighlight?"selected highlight":"selected":s.volHImprintHighlight?"highlight":""])},_e,2))]),a("span",{onClick:d[3]||(d[3]=o=>s.changePoolsList("vol_in_usd_7_day"))},[T(t(s.$t("newAdd.volume7D"))+" ",1),(v(),c("svg",{"aria-hidden":"true",class:H(["pools-icon",s.volDImprint?s.volDImprintHighlight?"selected highlight":"selected":s.volDImprintHighlight?"highlight":""])},fe,2))]),a("span",{onClick:d[4]||(d[4]=o=>s.changePoolsList("aprNum"))},[T(" APR "),(v(),c("svg",{"aria-hidden":"true",class:H(["pools-icon",s.aprImprint?s.aprImprintHighlight?"selected highlight":"selected":s.aprImprintHighlight?"highlight":""])},ke,2)),a("div",we,[Y(w,{class:"noHover apr-hover-con"})])]),Te]),(v(!0),c(ls,null,as(s.currentTopPoolsList,(o,_)=>{var g,h;return v(),c("div",{key:_,class:"item pc-item"},[a("div",Ie,[o!=null&&o.token_a_address?(v(),c("img",{key:0,src:s.addressTokens&&s.addressTokens[o.token_a_address]&&s.addressTokens[o.token_a_address].logoURI?s.addressTokens[o.token_a_address].logoURI:s.store.theme=="default"?("importIcon"in s?s.importIcon:f(A))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(A))("/image/coins/sui-unknown.png")},null,8,ye)):P("",!0),o!=null&&o.token_b_address?(v(),c("img",{key:1,src:s.addressTokens&&s.addressTokens[o.token_b_address]&&s.addressTokens[o.token_b_address].logoURI?s.addressTokens[o.token_b_address].logoURI:s.store.theme=="default"?("importIcon"in s?s.importIcon:f(A))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(A))("/image/coins/sui-unknown.png")},null,8,Le)):P("",!0),a("div",be,[a("p",He,t(o.token_a_reserves)+" - "+t(o.token_b_reserves),1),a("div",Pe,t((o==null?void 0:o.fee)*100)+"%",1),a("div",Ae,[(v(!0),c(ls,null,as(s.getLabel(o),(n,k)=>(v(),c("div",{key:k,class:H(["label",n])},[n!=="Native"?(v(),c("span",Ce,t(n),1)):P("",!0)],2))),128))])])]),a("div",$e," $"+t(o.tvl_in_usd?("addCommom"in s?s.addCommom:f(q))(o.tvl_in_usd,2):"--"),1),a("div",De," $"+t(o!=null&&o.vol_in_usd_24h?("addCommom"in s?s.addCommom:f(q))(o==null?void 0:o.vol_in_usd_24h,2):"--"),1),a("div",Ve," $"+t(o!=null&&o.vol_in_usd_7_day?("addCommom"in s?s.addCommom:f(q))(o==null?void 0:o.vol_in_usd_7_day,2):"--"),1),a("div",{class:H(["apr",((g=s.rewardApr(o))==null?void 0:g.length)>0&&s.rewardDisplay(o)?"apr-mark":""])},[Re,T(" "+t(s.getAprTotal(o.apr_7day,s.getRewarderApr(o.rewarder_apr)))+" ",1),((h=s.rewardApr(o))==null?void 0:h.length)!=0&&s.rewardDisplay(o)?(v(),c("div",Ne,[Y(w,{class:"noHover apr-hover-con","l-item":{apr:o.apr_7day,aprTotal:s.getAprTotal(o.apr_7day,s.getRewarderApr(o.rewarder_apr)),is_display_rewarder:s.rewardDisplay(o),rewarder_apr:s.getRewarderApr(o.rewarder_apr)},"rewarder-info":s.rewardApr(o)},null,8,["l-item","rewarder-info"])])):P("",!0)],2),a("div",me,[Y(I,{class:"cancel-btn",onClick:()=>s.router.push(`/deposit?tokena=${o==null?void 0:o.token_a_address}&tokenb=${o==null?void 0:o.token_b_address}&fee=${o==null?void 0:o.fee}`)},{default:hs(()=>[T(t(s.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(v(!0),c(ls,null,as(s.currentTopPoolsList,(o,_)=>{var g,h;return v(),c("div",{key:_,class:"item h5-item"},[a("div",Se,[a("div",Ue,[o!=null&&o.token_a_address?(v(),c("img",{key:0,src:s.addressTokens&&s.addressTokens[o.token_a_address]&&s.addressTokens[o.token_a_address].logoURI?s.addressTokens[o.token_a_address].logoURI:s.store.theme=="default"?("importIcon"in s?s.importIcon:f(A))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(A))("/image/coins/sui-unknown.png")},null,8,Oe)):P("",!0),o!=null&&o.token_b_address?(v(),c("img",{key:1,src:s.addressTokens&&s.addressTokens[o.token_b_address]&&s.addressTokens[o.token_b_address].logoURI?s.addressTokens[o.token_b_address].logoURI:s.store.theme=="default"?("importIcon"in s?s.importIcon:f(A))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(A))("/image/coins/sui-unknown.png")},null,8,je)):P("",!0),a("div",Be,[a("p",Ee,t(o.token_a_reserves)+" - "+t(o.token_b_reserves),1),a("div",Fe,[(v(!0),c(ls,null,as(s.getLabel(o),(n,k)=>(v(),c("div",{key:k,class:H(["label",n])},[n!=="Native"?(v(),c("span",We,t(n),1)):P("",!0)],2))),128))])])]),a("div",Ge,t((o==null?void 0:o.fee)*100)+"%",1)]),a("div",Me,[a("div",Ye,[a("span",null,t(s.$t("common.tvl")),1),a("p",null," $"+t(o.tvl_in_usd?("addCommom"in s?s.addCommom:f(q))(o.tvl_in_usd,2):"--"),1)]),a("div",qe,[a("span",null,t(s.$t("common.volume24H")),1),a("p",null," $"+t(o!=null&&o.vol_in_usd_24h?("addCommom"in s?s.addCommom:f(q))(o==null?void 0:o.vol_in_usd_24h,2):"--"),1)]),a("div",ze,[a("span",null,t(s.$t("common.volume7D")),1),a("p",null," $"+t(o!=null&&o.vol_in_usd_7_day?("addCommom"in s?s.addCommom:f(q))(o==null?void 0:o.vol_in_usd_7_day,2):"--"),1)]),a("div",{class:H(["item-pools",((g=s.rewardApr(o))==null?void 0:g.length)>0&&s.rewardDisplay(o)?"":"apr-mark-h5"])},[a("span",null,t(s.$t("common.apr")),1),a("p",null,[Je,T(" "+t(s.getAprTotal(o.apr_7day,s.getRewarderApr(o.rewarder_apr))),1)]),((h=s.rewardApr(o))==null?void 0:h.length)!=0&&s.rewardDisplay(o)?(v(),c("div",Ke,[Y(w,{class:"noHover apr-hover-con","l-item":{apr:o.apr_7day,aprTotal:s.getAprTotal(o.apr_7day,s.getRewarderApr(o.rewarder_apr)),is_display_rewarder:s.rewardDisplay(o),rewarder_apr:s.getRewarderApr(o.rewarder_apr)},"rewarder-info":s.rewardApr(o)},null,8,["l-item","rewarder-info"])])):P("",!0)],2)]),a("div",Qe,[Y(I,{class:"cancel-btn",onClick:()=>s.router.push(`/deposit?tokena=${o==null?void 0:o.token_a_address}&tokenb=${o==null?void 0:o.token_b_address}&fee=${o==null?void 0:o.fee}`)},{default:hs(()=>[T(t(s.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),a("div",Xe,[Y(y,{current:s.currentPools,"onUpdate:current":d[5]||(d[5]=o=>s.currentPools=o),"page-size":(s.isPc,10),simple:"",total:s.topPoolsList.length,onChange:s.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const ho=qs(Zs,[["render",Ze],["__scopeId","data-v-b9a9c1b5"]]);export{ho as default};
