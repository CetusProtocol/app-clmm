import{_ as ao}from"./status-block.8488720d.js";import{a as q,u as Z,l as P,i as b,g as j,h,c as x}from"./import-icon.12294234.js";import{a as M,J as oo,r as L,f as c,i as V,o as a,j as u,k as n,x as $,y as w,u as s,t as i,m as F,l as O,S as lo,p as H,q as J,w as E,h as ro,c as no,v as D,O as mo,B as eo,M as uo,H as po}from"./entry.cac0b361.js";/* empty css              */import{_ as io,a as so}from"./icon-arrow_2x.45808d19.js";import{_ as to}from"./c-switch.1283a997.js";import{u as fo}from"./notifi.1c91a434.js";const co=M({props:{positionInfo:{type:Object,required:!0,default:()=>({})}},setup(o){const{t:p}=oo();let v=L(!1),y=L(!0);const S=q(),g=Z(),e=c(()=>g),r=c(()=>{var l,d,I,k,U,R,N,A;if(x(o.positionInfo))return" --";{const B=o.positionInfo.amountA*((d=e.value.RATES[(l=o.positionInfo)==null?void 0:l.token_a.address])==null?void 0:d.price),T=o.positionInfo.amountB*((k=e.value.RATES[(I=o.positionInfo)==null?void 0:I.token_b.address])==null?void 0:k.price);return(R=e.value.RATES[(U=o.positionInfo)==null?void 0:U.token_a.address])!=null&&R.price&&((A=e.value.RATES[(N=o.positionInfo)==null?void 0:N.token_b.address])!=null&&A.price)?B+T:" --"}}),m=c(()=>{var l,d,I,k;return(d=e.value.RATES[(l=o.positionInfo)==null?void 0:l.token_a.name.toUpperCase()])!=null&&d.price&&r.value!=="--"?(o.positionInfo.amountA*((k=e.value.RATES[(I=o.positionInfo)==null?void 0:I.token_a.name.toUpperCase()])==null?void 0:k.price)/r.value*100).toFixed(0):" --"}),_=c(()=>{var l,d,I,k;return(d=e.value.RATES[(l=o.positionInfo)==null?void 0:l.token_b.name.toUpperCase()])!=null&&d.price&&r.value!=="--"?(o.positionInfo.amountB*((k=e.value.RATES[(I=o.positionInfo)==null?void 0:I.token_b.name.toUpperCase()])==null?void 0:k.price)/r.value*100).toFixed(0):" --"}),t=c(()=>e.value.allTokenObj&&o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.address&&e.value.allTokenObj[o.positionInfo.token_a.address]&&e.value.allTokenObj[o.positionInfo.token_a.address].logoURI),f=c(()=>e.value.allTokenObj&&o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.address&&e.value.allTokenObj[o.positionInfo.token_b.address]&&e.value.allTokenObj[o.positionInfo.token_b.address].logoURI),C=c(()=>{var l,d;return(d=(l=o.positionInfo)==null?void 0:l.poolInfo)==null?void 0:d.needReverse});return{fromPercent:_,toPercent:m,amountUSD:r,showNum:P,t:p,importIcon:b,indexStore:S,rateChange:y,decimalFormat:j,fromCoinUrl:t,toCoinUrl:f,pools:e,addCommom:h,isPc:v,needReverse:C}}});const Io=o=>(H("data-v-4d3d4b7e"),o=o(),J(),o),ko={key:0,class:"position-card"},ho={key:0,class:"coin-pair"},bo=["src"],vo=["src"],go={key:1,class:"coin-pair"},_o=["src"],Co=["src"],So={class:"fee"},yo={class:"right"},$o={key:0,class:"status"},wo={class:"min-and-max"},Uo={key:0},Oo={class:"text"},Po={key:0,src:io,alt:""},Ro={key:1,src:so,alt:""},No={class:"text"},Ao={key:1},jo={class:"text"},Bo={key:0,src:io,alt:""},To={key:1,src:so,alt:""},Lo={class:"text"},Eo=Io(()=>n("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Fo=[Eo],Do={class:"liquidity"},qo={class:"label"},Mo={class:"value"},Vo={class:"item"},Ho=["src"],Jo={class:"rate"},zo={class:"item"},Go=["src"],Ko={class:"rate"};function Qo(o,p,v,y,S,g){const e=lo,r=ao;return o.positionInfo?(a(),u("div",ko,[n("div",{class:F(["left",`position-status-${o.positionInfo&&o.positionInfo.currentStatus&&o.positionInfo.currentStatus.toLowerCase()}`])},[$(e,{class:"left-skeleton",loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[o.needReverse?(a(),u("div",go,[n("div",null,[n("img",{src:o.toCoinUrl||("importIcon"in o?o.importIcon:s(b))(`/image/coins/${o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,_o),n("img",{src:o.fromCoinUrl||("importIcon"in o?o.importIcon:s(b))(`/image/coins/${o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,Co)]),n("span",null,i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol)+" - "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)])):(a(),u("div",ho,[n("div",null,[n("img",{src:o.fromCoinUrl||("importIcon"in o?o.importIcon:s(b))(`/image/coins/${o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,bo),n("img",{src:o.toCoinUrl||("importIcon"in o?o.importIcon:s(b))(`/image/coins/${o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,vo)]),n("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" - "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])),n("div",So,i(o.$t("common.fee"))+" "+i(o.positionInfo.fee*100)+"%",1)]),_:1},8,["loading"])],2),n("div",yo,[o.pools.currentPositionLoading?O("",!0):(a(),u("div",$o,[$(r,{"current-status":o.positionInfo.currentStatus||"","block-name":"detail"},null,8,["current-status"])])),$(e,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[n("div",wo,[(o.needReverse?!o.rateChange:o.rateChange)?(a(),u("div",Uo,[n("div",Oo,i(("addCommom"in o?o.addCommom:s(h))(("decimalFormat"in o?o.decimalFormat:s(j))(String(o.positionInfo.minPrice),6),6)),1),o.indexStore.theme=="default"?(a(),u("img",Po)):(a(),u("img",Ro)),n("div",No,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("∞")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in o?o.addCommom:s(h))(("decimalFormat"in o?o.decimalFormat:s(j))(String(o.positionInfo.maxPrice),6),6))+" "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)])):(a(),u("div",Ao,[n("div",jo,i(("addCommom"in o?o.addCommom:s(h))(("decimalFormat"in o?o.decimalFormat:s(j))(String(1/Number(o.positionInfo.maxPrice)),6),6)),1),o.indexStore.theme=="default"?(a(),u("img",Bo)):(a(),u("img",To)),n("div",Lo,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("∞")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in o?o.addCommom:s(h))(("decimalFormat"in o?o.decimalFormat:s(j))(String(1/Number(o.positionInfo.minPrice)),6),6))+" "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])),(a(),u("svg",{class:"icon-change","aria-hidden":"true",onClick:p[0]||(p[0]=m=>o.rateChange=!o.rateChange)},Fo))])]),_:1},8,["loading"]),n("div",Do,[$(e,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[n("div",qo,i(o.$t("common.liquidity")),1),n("div",Mo," $"+i(o.amountUSD=="--"?"--":Number(o.amountUSD)==0?0:Number(o.amountUSD)<.01?"<0.01":("addCommom"in o?o.addCommom:s(h))(o.amountUSD,2)),1)]),_:1},8,["loading"])]),n("div",{class:F(o.needReverse?"token-num reverse":"token-num")},[$(e,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>{var m,_,t,f,C,l,d,I,k,U,R,N,A,B,T,z,G,K,Q,W,X,Y;return[n("div",Vo,[n("div",null,[n("img",{src:o.fromCoinUrl||("importIcon"in o?o.importIcon:s(b))(`/image/coins/${(_=(m=o.positionInfo)==null?void 0:m.token_a)==null?void 0:_.symbol.toLowerCase()}.png`)},null,8,Ho),n("p",null,i(("showNum"in o?o.showNum:s(P))((t=o.positionInfo)==null?void 0:t.amountA,(C=(f=o.positionInfo)==null?void 0:f.token_a)==null?void 0:C.decimals)),1),n("span",null,i((d=(l=o.positionInfo)==null?void 0:l.token_a)==null?void 0:d.symbol)+" "+i((k=(I=o.positionInfo)==null?void 0:I.token_a)!=null&&k.labels&&((R=(U=o.positionInfo)==null?void 0:U.token_a)!=null&&R.labels[0])?`(${o.positionInfo.token_a.labels[0]})`:""),1)]),n("div",Jo,i(("addCommom"in o?o.addCommom:s(h))(o.positionInfo.fromPercent,0))+"% ",1)]),n("div",zo,[n("div",null,[n("img",{src:o.toCoinUrl||("importIcon"in o?o.importIcon:s(b))(`/image/coins/${(A=(N=o.positionInfo)==null?void 0:N.token_b)==null?void 0:A.symbol.toLowerCase()}.png`)},null,8,Go),n("p",null,i(("showNum"in o?o.showNum:s(P))((B=o.positionInfo)==null?void 0:B.amountB,(z=(T=o.positionInfo)==null?void 0:T.token_b)==null?void 0:z.decimals)),1),n("span",null,i((K=(G=o.positionInfo)==null?void 0:G.token_b)==null?void 0:K.symbol)+" "+i((W=(Q=o.positionInfo)==null?void 0:Q.token_b)!=null&&W.labels&&((Y=(X=o.positionInfo)==null?void 0:X.token_b)!=null&&Y.labels[0])?`(${o.positionInfo.token_b.labels[0]})`:""),1)]),n("div",Ko,i(("addCommom"in o?o.addCommom:s(h))(o.positionInfo.toPercent,0))+"%",1)])]}),_:1},8,["loading"])],2)])])):O("",!0)}const _n=V(co,[["render",Qo],["__scopeId","data-v-4d3d4b7e"]]),Wo=M({components:{CSwitch:to},props:{positionInfo:{type:Object,default:()=>({})}},setup(o){const p=fo(),v=c(()=>p),y=c(()=>v.value.status),S=q();E(()=>[v.value.targetGroups],t=>{},{immediate:!0});const g=L(!1);E(()=>y.value,t=>{t=="authenticated",g.value=!1},{immediate:!0});const e=L(!1),r=async()=>{e.value=!e.value;const t={pool_address:o.positionInfo.poolAddress,position_index:o.positionInfo.index},f=o.positionInfo.nftHash;await p.subscribePosition(t,f,e.value)},m=t=>{const f=t.sources;e.value=f.some(C=>JSON.parse(C.blockchainAddress).pool_address==o.positionInfo.poolAddress&&Number(JSON.parse(C.blockchainAddress).position_index)==Number(o.positionInfo.index))},_=ro();return E(()=>[v.value.sourceGroups,o.positionInfo],([t,f])=>{var C,l,d;e.value=!1,t&&t.length>0&&t[0]&&f&&!x(f)&&((d=(l=(C=_==null?void 0:_.currentRoute)==null?void 0:C.value)==null?void 0:l.query)==null?void 0:d.token)==(f==null?void 0:f.name)&&m(t[0])},{immediate:!0,deep:!0}),{importIcon:b,isShowSetUp:g,changeSwitch:r,checked:e,notifiStatus:y,store:S}}});const Xo=o=>(H("data-v-7a8bd083"),o=o(),J(),o),Yo={class:"range-alerts"},Zo={class:"range-alerts-top"},xo={class:"title"},on=Xo(()=>n("div",{class:"title-all"},[n("span",{class:"Range"},"Range Alerts")],-1)),nn={key:1,class:"h5-switch-box"},en={class:"range-alerts-bottom"},sn={key:0,class:"pc-switch-box"};function tn(o,p,v,y,S,g){const e=eo,r=to;return a(),u("div",Yo,[n("div",Zo,[n("div",xo,[on,o.isShowSetUp||o.notifiStatus!=="authenticated"?(a(),no(e,{key:0,class:"range-alerts-button",onClick:p[0]||(p[0]=mo(m=>o.store.setIsShowNotifi(!0),["stop"]))},{default:w(()=>[D(" Set up ")]),_:1})):O("",!0),!o.isShowSetUp&&o.notifiStatus=="authenticated"?(a(),u("div",nn,[$(r,{checked:o.checked,disabled:o.notifiStatus!=="authenticated",onChange:o.changeSwitch},null,8,["checked","disabled","onChange"])])):O("",!0)])]),n("div",en,[D(" Receive alerts via Telegram, SMS, or email when this position goes out of range. "),!o.isShowSetUp&&o.notifiStatus=="authenticated"?(a(),u("div",sn,[$(r,{checked:o.checked,disabled:o.notifiStatus!=="authenticated",onChange:o.changeSwitch},null,8,["checked","disabled","onChange"])])):O("",!0)])])}const Cn=V(Wo,[["render",tn],["__scopeId","data-v-7a8bd083"]]),an=M({components:{Modal:uo},props:{positionInfo:{type:Object,required:!0},isLoading:{type:Boolean,required:!0},needReverse:{type:Boolean,required:!1}},setup(o,p){const{t:v,locale:y}=oo(),S=q(),{copy:g}=S,e=()=>{p.emit("toClaim")},r=Z(),m=c(()=>r),_=c(()=>m.value.tokensObj&&o.positionInfo.token_a.address&&m.value.tokensObj[o.positionInfo.token_a.address]&&m.value.tokensObj[o.positionInfo.token_a.address].logoURI),t=c(()=>m.value.tokensObj&&o.positionInfo.token_b.address&&m.value.tokensObj[o.positionInfo.token_b.address]&&m.value.tokensObj[o.positionInfo.token_b.address].logoURI);return{showNum:P,fromCoinUrl:_,toCoinUrl:t,toClaim:e,t:v,addCommom:h,importIcon:b,store:S,copy:g}}});const ln=o=>(H("data-v-0d5910fb"),o=o(),J(),o),dn=ln(()=>n("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[n("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),rn={key:0,class:"pc-claim"},mn=["src"],un={key:1,class:"pc-claim"},pn=["src"];function fn(o,p,v,y,S,g){const e=eo,r=po("Modal");return a(),no(r,{visible:!0,class:"claim-fees",centered:"",closable:!0,title:o.$t("modal.claimFees"),width:"400px",footer:null,onCancel:p[0]||(p[0]=m=>o.$emit("onClose"))},{closeIcon:w(()=>[dn]),default:w(()=>[n("div",{class:F(o.needReverse?"claim-container reverse":"claim-container")},[o.positionInfo&&o.positionInfo.token_a.symbol?(a(),u("div",rn,[n("img",{src:o.fromCoinUrl||("importIcon"in o?o.importIcon:s(b))(`/image/coins/${o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,mn),n("span",null,i(("showNum"in o?o.showNum:s(P))(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals))+" "+i(o.positionInfo.token_a.symbol),1)])):O("",!0),o.positionInfo&&o.positionInfo.token_b.symbol?(a(),u("div",un,[n("img",{src:o.toCoinUrl||("importIcon"in o?o.importIcon:s(b))(`/image/coins/${o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,pn),n("span",null,i(("showNum"in o?o.showNum:s(P))(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals))+" "+i(o.positionInfo.token_b.symbol),1)])):O("",!0)],2),$(e,{class:"big-btn claim-btn",disabled:o.isLoading||("addCommom"in o?o.addCommom:s(h))(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals)==0&&("addCommom"in o?o.addCommom:s(h))(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals)==0||o.positionInfo.poolInfo.is_pause,onClick:o.toClaim},{default:w(()=>[D(i(o.$t("common.claim")),1)]),_:1},8,["disabled","onClick"])]),_:1},8,["title"])}const Sn=V(an,[["render",fn],["__scopeId","data-v-0d5910fb"]]);export{_n as _,Cn as a,Sn as b};
