import{a as ne,r as h,ao as $e,ap as ke,L as ae,G as ie,N as ye,v as L,F as re,s as de,w as q,aq as be,i as Ce,H as Q,ar as we,Y as F,k as X,b as ue,o as a,e as r,f as s,h as K,t as i,a0 as D,a1 as N,q as P,l as B,m as R,y as U,B as Ie,p as ce,j as ve,x as Le,J as Se,as as Y,K as oe,C as te,a8 as le,at as Ae,S as Ve,c as Be,au as Te,a3 as Re}from"./entry.35669d63.js";/* empty css              */import{_ as J}from"./icon_on_2x.92294e56.js";import{p as Ke}from"./precision.1cd464a0.js";import{_ as Pe,a as Ee}from"./img-no-Positions_2x.3a4bda32.js";import"./index.4a81bace.js";const Oe=ne({props:{lItem:{type:Object,required:!0}},setup(e){const o=h(!1),w=$e(ke,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:E}=ae(),T=ie(),A=ye(),_=L(()=>A),f=h(!1);function $(p){const C=p.balance,j=we(C).div(Math.pow(10,p.decimals)).toString();return Q(j,p.decimals)}const g=p=>{f.value=!0,setTimeout(()=>{f.value=!1},2e3),T.push(`/deposit?tokena=${p.coinA.address}&tokenb=${p.coinB.address}&fee=${p.fee}`)},b=re(),d=L(()=>b),k=L(()=>d.value.newTokenObj&&e.lItem.coinA.address&&d.value.newTokenObj[e.lItem.coinA.address]&&d.value.newTokenObj[e.lItem.coinA.address].logoURI),l=L(()=>d.value.newTokenObj&&e.lItem.coinB.address&&d.value.newTokenObj[e.lItem.coinB.address]&&d.value.newTokenObj[e.lItem.coinB.address].logoURI),v=h([]),m=de(),I=L(()=>m);return q(()=>[d.value.addressLpTokens,d.value.newTokenObj,I.value.newTopPoolsObj],([p,C,j])=>{if(!F(p)&&!F(C)&&!F(d.value.RATES)&&!F(j)){const O=e.lItem.address&&p[e.lItem.address]&&p[e.lItem.address].rewarder_infos||[],z=[];O.forEach((V,H)=>{const M=C[V.coinAddress].decimals,Z=X(V.emissionsEveryDay/Math.pow(10,M),2),W=X(Number(Z)*d.value.RATES[C[V.coinAddress].name.toUpperCase()].price,2);z.push({...V,logoUrl:C[V.coinAddress].logoURI,day:Z,dayUSD:W,symbol:C[V.coinAddress].symbol,rewarders:e.lItem[`rewarders${H}`]})}),v.value=z}},{immediate:!0}),{t:E,isShow:o,indicator:w,thousands:be,importIcon:Ce,router:T,wallet:_,addCommom:Q,getLpView:$,toAdd:g,fromCoinUrl:k,toCoinUrl:l,addLiquidity:f,rewarderInfo:v}}});const Ue=e=>(ce("data-v-3de57e48"),e=e(),ve(),e),qe={class:"pools-list-item"},De=Ue(()=>s("div",{class:"topBg"},null,-1)),Ne={class:"top"},je={class:"img-box"},Fe=["src"],ze=["src"],He={class:"coin-name"},Me={class:"symbol-label"},Ze={class:"apr"},Ge={class:"apr-hover"},Je={class:"apr-hover-top"},We={class:"bottom"},Ye={class:"induction"},Qe={class:"item"},Xe={class:"induction-text"},xe={class:"induction-value"},es={class:"item"},ss={class:"induction-text"},os={class:"induction-value"},ts={class:"item"},ls={class:"induction-text"},ns={class:"induction-value"};function as(e,o,w,E,T,A){var f,$,g,b,d,k,l,v,m;const _=Ie;return a(),r("div",qe,[De,s("div",Ne,[s("div",je,[(f=e.lItem)!=null&&f.coinA?(a(),r("img",{key:0,src:e.fromCoinUrl||e.importIcon(`/image/coins/${($=e.lItem)==null?void 0:$.coinA.symbol.toLowerCase()}.png`)},null,8,Fe)):K("",!0),(g=e.lItem)!=null&&g.coinB?(a(),r("img",{key:1,src:e.toCoinUrl||e.importIcon(`/image/coins/${(b=e.lItem)==null?void 0:b.coinB.symbol.toLowerCase()}.png`)},null,8,ze)):K("",!0)]),s("span",He,i((k=(d=e.lItem)==null?void 0:d.coinA)==null?void 0:k.symbol)+" - "+i((v=(l=e.lItem)==null?void 0:l.coinB)==null?void 0:v.symbol),1),s("div",Me,[(a(!0),r(D,null,N((m=e.lItem)==null?void 0:m.labels,(I,p)=>(a(),r("div",{key:p,class:P(["lable",I])},null,2))),128))]),s("div",Ze,[s("span",{onClick:o[0]||(o[0]=I=>e.isShow=!e.isShow)},i(e.addCommom(e.lItem.apr,2)),1),s("span",{onClick:o[1]||(o[1]=I=>e.isShow=!e.isShow)},i(e.$t("common.apr")),1),s("div",{class:P(["apr-hover-con",e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"])},[s("div",Ge,[s("div",Je,i(e.$t("tips.aprTipsTest")),1)])],2)])]),s("div",We,[s("div",Ye,[s("div",Qe,[s("div",Xe,i(e.$t("common.feeTier")),1),s("div",xe,i(e.lItem.fee*100)+"%",1)]),s("div",es,[s("div",ss,i(e.$t("common.liquidity")),1),s("div",os,"$"+i(e.addCommom(e.lItem.liqidity,2)),1)]),s("div",ts,[s("div",ls,i(e.$t("common.volume24H")),1),s("div",ns,"$"+i(e.addCommom(e.lItem.vol,2)),1)])]),B(_,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:o[2]||(o[2]=I=>e.toAdd(e.lItem))},{default:R(()=>[U(i(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const is=ue(Oe,[["render",as],["__scopeId","data-v-3de57e48"]]),rs=ne({setup(){const{t:e,locale:o}=ae(),w=ie(),E=h(!1),T=h(!1),A=h(!1),_=h("TVL"),f=h(["APR","VOL"]),$=h(!1),g=h(e("tab.all")),b=h([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),d=h([]),k=h(""),l=h(["pools"]),v=re(),m=de(),I=h(!0),p=h(""),C=L(()=>m),j=L(()=>m.theme),O=L(()=>v),z=L(()=>m.statsData),V=(t,n)=>n.liqidity-t.liqidity,H=(t,n)=>n.vol-t.vol,M=(t,n)=>n.aprNum-t.aprNum,Z=()=>{window.setInterval(()=>{m.getStatsData()},12e4)};Le(()=>{var n,c,y;const t=(y=(c=(n=w==null?void 0:w.currentRoute)==null?void 0:n.value)==null?void 0:c.query)==null?void 0:y.language;t&&me(t),Z(),m.getStatsData(),p.value=o.value});const{setLang:W}=m,me=t=>{W(t),o.value=t},pe=(t,n)=>t&&n?X(Ke.plus(Y(t),Y(n)),2)+"%":t,x=t=>{let n=0;return t&&t.forEach(c=>{n+=Y(String(c))}),String(n)},G=t=>{const n=[];t.forEach(y=>{const u=C.value.addressLpTokens[y.address];n.push({...y,liqidity:u?u.tvl_in_usd:"0.00000000001",vol:u?u.vol_in_usd_24h:"0",apr:u?u.apr_7day:"--",aprNum:u?u.apr_7day.substring(0,u.apr_7day.length-1):"0",rewarder_apr:x(u&&u.rewarder_apr)+"%",aprTotal:pe(u&&u.apr_7day,u&&x(u.rewarder_apr)),rewarders0:u&&u.rewarder_apr[0],rewarders1:u&&u.rewarder_apr[1],rewarders2:u&&u.rewarder_apr[2]})});let c=[];if(_.value=="APR"?c=n.sort(M):_.value=="VOL"?c=n.sort(H):c=n.sort(V),g.value!="All"){const y=[];c.forEach(u=>{u.labels.indexOf(g.value)!==-1&&y.push(u)}),d.value=y}else d.value=c;I.value=!1};q(k,t=>{var n=new RegExp("[\\u4E00-\\u9FFF]+","g");if(n.test(k.value)){k.value="";return}ee(k.value)}),q(()=>[O.value.poolConfigList,C.value.addressLpTokens],([t,n])=>{(t==null?void 0:t.length)>0&&!F(n)&&G(t)},{immediate:!0,deep:!0});const ee=t=>{if(E.value=!0,t){G(O.value.poolConfigList);const n=d.value.filter(c=>c.symbol.toLowerCase().includes(t.toLowerCase()));d.value=n,E.value=!1}else G(O.value.poolConfigList)},he=()=>{I.value=!0,T.value=!0,se(""),m.getStatsData(),v.setPoolConfigList(),setTimeout(()=>{T.value=!1},1e3)},fe=t=>{const n=[];n.push(_.value),f.value.forEach((c,y)=>{c!=t&&n.push(c)}),f.value=n,_.value=t},ge=t=>{const n=[];b.value.forEach((c,y)=>{c==t?n[y]=g.value:n[y]=c}),b.value=n,g.value=t};q(()=>_.value,t=>{t&&(t=="APR"?d.value.sort(M):t=="VOL"?d.value.sort(H):d.value.sort(V))}),q(()=>g.value,t=>{if(G(O.value.poolConfigList),t!="All"){const n=[];d.value.forEach(c=>{c.labels.indexOf(t)!==-1&&n.push(c)}),d.value=n}}),q(()=>m.lang,t=>{p.value=t});const se=t=>{t=="label"?($.value=!$.value,A.value=!1):t=="select"?(A.value=!A.value,$.value=!1):(A.value=!1,$.value=!1)},_e=()=>{w&&w.push("/position")};return{config:L(()=>Se[C.value.chainName]),toPositionList:_e,t:e,router:w,loading:E,clickRefresh:he,refresh:T,updateLpList:ee,searchKey:k,current:l,addCommom:Q,list:d,theme:j,statsData:z,pools:O,select:A,selectValue:_,selectList:f,label:$,labelValue:g,labelList:b,changeSort:fe,changeSortLabel:ge,reviseValue:se,listLoading:I,languageValue:p}}});const S=e=>(ce("data-v-b554bed1"),e=e(),ve(),e),ds={class:"pools-list-container"},us=["href"],cs={class:"search-refresh"},vs={class:"my-position position-h5"},ms=["placeholder"],ps=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),hs=[ps],fs={key:0,class:"select-item"},gs=["onClick"],_s=S(()=>s("img",{src:J,alt:""},null,-1)),$s=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),ks=[$s],ys={key:0,class:"select-item"},bs=["onClick"],Cs=S(()=>s("img",{src:J,alt:""},null,-1)),ws=S(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Is=[ws],Ls={class:"search-tab"},Ss={class:"my-position position-pc"},As=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Vs=[As],Bs={key:0,class:"select-item"},Ts=["onClick"],Rs=S(()=>s("img",{src:J,alt:""},null,-1)),Ks=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Ps=[Ks],Es={key:0,class:"select-item"},Os=["onClick"],Us=S(()=>s("img",{src:J,alt:""},null,-1)),qs=["placeholder"],Ds=S(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Ns=[Ds],js={class:"item item-left"},Fs={class:"value"},zs={class:"label"},Hs={class:"item item-right"},Ms={class:"value"},Zs={class:"label"},Gs={key:0,class:"loading-global"},Js={key:2,class:"no-data"},Ws={key:0,src:Pe},Ys={key:1,src:Ee};function Qs(e,o,w,E,T,A){const _=oe("mail-outlined"),f=Te,$=oe("appstore-outlined"),g=Ae,b=Ve,d=Re,k=is;return a(),r("div",ds,[s("div",{class:"pools-title",onClick:o[0]||(o[0]=l=>e.reviseValue(""))},[s("div",null,i(e.$t("common.concentratedPools")),1),s("a",{href:`${e.config.ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"position"},i(e.$t("common.ammPools")),9,us)]),s("div",cs,[s("div",vs,[s("div",{class:"search-input",onClick:o[4]||(o[4]=l=>e.reviseValue(""))},[te(s("input",{"onUpdate:modelValue":o[1]||(o[1]=l=>e.searchKey=l),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,ms),[[le,e.searchKey]]),e.searchKey?(a(),r("div",{key:0,class:"out-icon",onClick:o[2]||(o[2]=l=>e.searchKey="")})):K("",!0),s("div",{class:"search-icon",onClick:o[3]||(o[3]=l=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:o[5]||(o[5]=l=>e.reviseValue("label"))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(a(),r("svg",{"aria-hidden":"true",class:P(e.label?"show-icon icon":"icon")},hs,2)),e.label?(a(),r("div",fs,[(a(!0),r(D,null,N(e.labelList,(l,v)=>(a(),r("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSortLabel(l)},i(l),9,gs))),128))])):K("",!0)]),s("div",{class:"search-select",onClick:o[6]||(o[6]=l=>e.reviseValue("select"))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[U(i(e.selectValue)+" ",1),_s]),(a(),r("svg",{"aria-hidden":"true",class:P(e.select?"show-icon icon":"icon")},ks,2)),e.select?(a(),r("div",ys,[(a(!0),r(D,null,N(e.selectList,(l,v)=>(a(),r("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSort(l)},[U(i(l)+" ",1),Cs],8,bs))),128))])):K("",!0)]),(a(),r("svg",{"aria-hidden":"true",class:P(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[7]||(o[7]=(...l)=>e.clickRefresh&&e.clickRefresh(...l))},Is,2))]),s("div",Ls,[B(g,{selectedKeys:e.current,"onUpdate:selectedKeys":o[8]||(o[8]=l=>e.current=l),mode:"horizontal"},{default:R(()=>[B(f,{key:"pools"},{icon:R(()=>[B(_)]),default:R(()=>[U(" "+i(e.$t("menu.pools")),1)]),_:1}),B(f,{key:"position",onClick:e.toPositionList},{icon:R(()=>[B($)]),default:R(()=>[U(" "+i(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Ss,[s("div",{class:"search-select search-label",onClick:o[9]||(o[9]=l=>e.reviseValue("label"))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(a(),r("svg",{"aria-hidden":"true",class:P(e.label?"show-icon icon":"icon")},Vs,2)),e.label?(a(),r("div",Bs,[(a(!0),r(D,null,N(e.labelList,(l,v)=>(a(),r("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSortLabel(l)},i(l),9,Ts))),128))])):K("",!0)]),s("div",{class:"search-select",onClick:o[10]||(o[10]=l=>e.reviseValue("select"))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[U(i(e.selectValue)+" ",1),Rs]),(a(),r("svg",{"aria-hidden":"true",class:P(e.select?"show-icon icon":"icon")},Ps,2)),e.select?(a(),r("div",Es,[(a(!0),r(D,null,N(e.selectList,(l,v)=>(a(),r("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSort(l)},[U(i(l)+" ",1),Us],8,Os))),128))])):K("",!0)]),s("div",{class:"search-input",onClick:o[14]||(o[14]=l=>e.reviseValue(""))},[te(s("input",{"onUpdate:modelValue":o[11]||(o[11]=l=>e.searchKey=l),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,qs),[[le,e.searchKey]]),e.searchKey?(a(),r("div",{key:0,class:"out-icon",onClick:o[12]||(o[12]=l=>e.searchKey="")})):K("",!0),s("div",{class:"search-icon",onClick:o[13]||(o[13]=l=>e.updateLpList(e.searchKey))})]),(a(),r("svg",{"aria-hidden":"true",class:P(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[15]||(o[15]=(...l)=>e.clickRefresh&&e.clickRefresh(...l))},Ns,2))])]),s("div",{class:"tvl-vol",onClick:o[16]||(o[16]=l=>e.reviseValue(""))},[s("div",js,[B(b,{loading:e.listLoading,active:"",paragraph:!1},{default:R(()=>[s("div",Fs,"$ "+i(e.addCommom(e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",zs,i(e.$t("common.totalValueLocked")),1)]),s("div",Hs,[B(b,{loading:e.listLoading,active:"",paragraph:!1},{default:R(()=>[s("div",Ms,"$ "+i(e.addCommom(e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",Zs,i(e.$t("common.volume24H")),1)])]),e.listLoading?(a(),r("div",Gs,[B(d)])):e.list&&e.list.length>0?(a(),r("div",{key:1,class:"item-container",onClick:o[17]||(o[17]=l=>e.reviseValue(""))},[(a(!0),r(D,null,N(e.list,(l,v)=>(a(),Be(k,{key:v,"l-item":l},null,8,["l-item"]))),128))])):(a(),r("div",Js,[e.theme=="default"?(a(),r("img",Ws)):(a(),r("img",Ys)),s("span",null,i(e.$t("common.poolsNotFound")),1)]))])}const no=ue(rs,[["render",Qs],["__scopeId","data-v-b554bed1"]]);export{no as default};
