import{j as Qt,n as ft,d as fe,e as kt,u as qt,a as Ie,c as Te,s as pt,T as it,G as Yt,b as Ue,l as St,p as It}from"./pool.d6b5ef6c.js";import{a as Ve,r as A,l as q,H as Mt,q as _e,e as et,o as L,f as X,t as $t,N as Vt,h as r,O as gt,v as de,u as ve,x as K,c as De,p as yt,k as wt,S as Ft,y as Bt,m as _t,K as Ot,s as ei,F as bt,E as At,i as ze,A as dt,w as ot,j as Ct,P as Rt,a0 as ti,b as ii,B as ai}from"./entry.4b03dc9c.js";/* empty css              */import{s as lt,m as ni,l as oi,b as ri,a as si}from"./transform.c672907f.js";import{D as o}from"./decimal.0bdeb344.js";import{u as Pt,a as li}from"./sha256.033d7784.js";import{d as Ut,_ as zt,c as jt,a as Ht,b as ui}from"./new-liquidity-title.53fee047.js";import{i as ht}from"./import-icon.de3e6c66.js";/* empty css              */import{positionError as Ye,fromCoin as y,toCoin as p,tickList as at,currentPrice as nt,currentPriceReverse as ut,direction as je,currentPriceTab as j,defaultMinPrice as mt,defaultMaxPrice as vt,minPrice as z,maxPrice as N,toggle as Xt,isInputTotalAmount as We,priceConfigObj as Qe,fromCoinAmount as w,toCoinAmount as _,fixedFromCoin as we,resetTickList as Lt,resetData as ci}from"./data.665e9daa.js";import{_ as di}from"./coin-lock.9d5fc863.js";import{_ as mi}from"./coin-select.119315e3.js";import{_ as vi}from"./viewDetail.be7fe9ca.js";import{a as fi}from"./new-add-or-create.780c2541.js";import{u as pi}from"./farms.edd8456a.js";import{u as gi}from"./notifi.f303ae99.js";import{_ as bi,a as hi}from"./icon-Add-Liquidity_2x.0acb06cb.js";import"./img-lock_2x.a28135f4.js";import"./lock.78435986.js";/* empty css              *//* empty css              */import"./token-warning.e1cf9cc0.js";import"./swap-setting.6bb3f12a.js";/* empty css              */import"./icon-error_2x.10a637c0.js";import"./img-lock_2x.8e79e76d.js";import"./img-no-Positions_2x.97729749.js";import"./img-no-Positions_2x.aa614114.js";import"./status-block.6ef45a3a.js";import"./icon-arrow_2x.948aedb2.js";import"./icon-arrow_2x.4ffddb8e.js";import"./useWhale.48eef1de.js";function Nt(e,c,ne){const Q=new o(10).pow(c-ne);return new o(1.0001).pow(e).mul(Q)}const ki=Ve({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""},zoom:{type:Number,default:1}},setup(e,c){const ne=A(""),Q=A(""),S=q(()=>{var n,l,v,E,U,te;return(n=e.poolInfo)!=null&&n.current_sqrt_price&&((l=e.poolInfo)!=null&&l.coinA.decimals)&&((v=e.poolInfo)!=null&&v.coinB.decimals)?a.sqrtPriceX64ToPrice((E=e.poolInfo)==null?void 0:E.current_sqrt_price,(U=e.poolInfo)==null?void 0:U.coinA.decimals,(te=e.poolInfo)==null?void 0:te.coinB.decimals).toString():"0"}),Y=q(()=>{let n=0;return e.direction?n=(Number(e.minPrice)/Number(S.value)-1)*100:n=(Number(e.minPrice)/Number(1/Number(S.value))-1)*100,n=n>0&&n<.1?.1:n,n=n<0&&n>-.1?-.1:n,n}),F=q(()=>{let n=0;return e.direction?n=(Number(e.maxPrice)/Number(S.value)-1)*100:n=(Number(e.maxPrice)/Number(1/Number(S.value))-1)*100,n=n>0&&n<.1?.1:n,n=n<0&&n>-.1?-.1:n,n}),B=Pt(),T=q(()=>B),J=q(()=>T.value.chainName?kt(T.value.chainName):{}),{TickMath:a,getNearestTickByTick:C}=J.value,x=(n=[])=>{let l=6;const v=Math.abs(Number(n[0])-Number(n[n.length-1]));return v>=6?l=0:v>=1?l=1:v>=.1?l=2:v>=.01?l=3:v>=.001?l=4:v>=1e-4?l=5:v>=1e-5?l=6:v>=1e-6?l=7:v>=1e-7&&(l=8),l},ke=(n,l=1)=>{if(n&&n.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const v=Number(e.poolInfo.current_tick_index);let E=v+100*l,U=v-100*l,te,oe;if(e.maxPrice==="âˆž")oe=J.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?oe=a.priceToTickIndex(new o(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):oe=a.priceToTickIndex(new o(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{oe=443636}if(e.minPrice==="0")te=J.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?te=a.priceToTickIndex(new o(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):te=a.priceToTickIndex(new o(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{te=-443636}let ye=0;if(e.currentPriceTab!=="full range"){if(v>=te&&v<=oe){const P=v-te,ie=oe-v;ye=Math.max(Math.abs(P),Math.abs(ie))}else v<te?ye=Math.abs(oe-v):ye=Math.abs(v-te);E=v+ye+100*l,U=v-ye-100*l}else{const P=(Math.abs(v)>5e3,2e4);E=v+P*l,U=v-P*l}U<-443636&&(U=-443636),E>443636&&(E=443636);const b=new o(n.liquidity).div(Math.pow(10,8)).toString(),I=e.tickList,$=[],pe=[];let h={};for(let P=0;P<I.length;P++){if(h=I[P],h.index<=v&&h.index>=U){if($.length<1&&P!==0){const ie=I[P-1];$.unshift({...ie,index:U,source:"left"})}$.unshift(h)}else if(h.index>v&&h.index<=E&&(pe.push(h),$.length<1&&P!==0)){const ie=I[P-1];$.push({...ie,index:U,source:"left"})}if(h.index>E){const ie=I[P];if(pe.push({...ie,index:E,source:"right"}),$.length<1&&P!==0){const Ke=I[P-1];$.push({...Ke,index:U,source:"left"})}break}}let M="0";for(let P=$.length-1;P>=0;P--)M=new o(M).plus(new o($[P].liquidityNet.toString()).div(Math.pow(10,8))).toString(),$[P].liquityAmount=M;let D=b;for(let P=0;P<pe.length;P++)D=new o(D).plus(new o(pe[P].liquidityNet.toString()).div(Math.pow(10,8))).toString(),pe[P].liquityAmount=D;let ee=[];const O=I&&I.length>0?{index:v,liquityAmount:Number(b)}:{index:v,liquityAmount:0};($.length>0||pe.length>0)&&(ee=[...$.reverse(),O,...pe],e.direction||(ee=ee.reverse()));const He=[];I.forEach(P=>{He.push({...P,liquidityGross:P.liquidityGross.toString(),liquidityNet:P.liquidityNet.toString()})}),g(ee,U,E,te,oe,v)}};let Ce=A(!1);const V=A(!1);Mt(()=>{const n=document.body.clientWidth;V.value=!0,n<750?Ce.value=!1:Ce.value=!0,window.onresize=()=>{document.body.clientWidth<750?Ce.value=!1:Ce.value=!0,ke(e.poolInfo,e.zoom)}});const g=(n,l,v,E,U,te)=>{let oe,ye;e.direction?(oe=e.before7dContractPriceLowest?a.priceToTickIndex(new o(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",ye=e.before7dContractPriceHighest?a.priceToTickIndex(new o(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(oe=e.before7dContractPriceLowest?a.priceToTickIndex(new o(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",ye=e.before7dContractPriceHighest?a.priceToTickIndex(new o(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const b={top:30,right:35,bottom:20,left:80};let I,$;Ce.value?(I=460-b.left-b.right,$=205-b.top-b.bottom):(I=340-b.left-b.right,$=205-b.top-b.bottom);const pe=v-l,h=parseInt(String(pe/4));let M=[l+h/4,l+h,l+2*h,v-h,v-h/4];const D=l,ee=v,O=I/(ee-D);e.currentPriceTab==="full range"&&(M=[l,l+2*h,v]);const He=M.map(s=>e.direction?Nt(s,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new o(1).div(Nt(s,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString()),P=x(He);lt("#chart").selectAll("*").remove();const ie=lt("#chart").attr("width",I+b.left+b.right).attr("height",$+b.top+b.bottom).append("g").attr("transform",`translate(${b.left},${b.right})`),Ke=ni(n,function(s){return Number(Math.abs(s.liquityAmount))})||0,Ae=oi().range([0,$]).domain([Ke,0]);ri().rangeRound([0,I]).padding(.1);const tt=ie.append("g").attr("id","barsBox").selectAll("rect").data(n).enter().append("rect");T.value.theme=="default"?tt.attr("x",function(s,u){return u===0?0:e.direction?Math.abs(s.index-D)*O:Math.abs(ee-s.index)*O}).attr("y",function(s,u){return e.direction?u===n.length-1?0:Ae(s.liquityAmount):u===n.length-1?0:Ae(n[u+1].liquityAmount)}).attr("width",function(s,u){return u===0&&n.length===1&&s.liquityAmount>0?I:(e.direction,u!==n.length-1?Math.abs(n[u+1].index-s.index)*O:0)}).attr("height",function(s,u){return u===0&&n.length===1&&s.liquityAmount>0?$:e.direction?u===n.length-1?0:$-Ae(s.liquityAmount):u===n.length-1?0:$-Ae(n[u+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):tt.attr("x",function(s,u){return u===0?0:e.direction?Math.abs(s.index-D)*O:Math.abs(ee-s.index)*O}).attr("y",function(s,u){return e.direction?u===n.length-1?0:Ae(Math.abs(s.liquityAmount)):u===n.length-1?0:Ae(Math.abs(n[u+1].liquityAmount))}).attr("width",function(s,u){return u===0&&n.length===1&&s.liquityAmount>0?I:(e.direction,u!==n.length-1?Math.abs(n[u+1].index-s.index)*O:0)}).attr("height",function(s,u){if(u===0&&n.length===1&&s.liquityAmount>0)return $;if(e.direction)return u===n.length-1?0:Number(s.liquityAmount)?$-Ae(Math.abs(s.liquityAmount)):0;{if(u===n.length-1)return 0;const Fe=$-Ae(Math.abs(n[u+1].liquityAmount));return Number(n[u+1].liquityAmount)?Fe:0}}).attr("fill",function(s,u){return"#417494"}).attr("class","bars").attr("stroke-width",1).attr("stroke",function(s,u){return"#417494"});const t=ie.append("g");t.append("line").attr("x1",0).attr("y1",155).attr("x2",I).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const m=t.append("g");let f=0;if(e.direction){for(let s=0;s<M.length;s++){const u=fe(He[s],P)||"0";He.push(u);const Fe=Math.abs(M[s]-D)*O;let me=0;for(let ge=0;ge<u.length;ge++)u[ge]==="1"?me+=4.02:u[ge]==="."?me+=2.64:u[ge]==="7"?me+=5.48:me+=6;m.append("text").text(u).attr("x",Fe-me/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}f=Math.abs(te-D)*O}else{for(let s=M.length-1;s>=0;s--){const u=fe(He[s],P)||0;He.push(u);const Fe=Math.abs(M[s]-ee)*O;let me=0;for(let ge=0;ge<u.length;ge++)u[ge]==="1"?me+=4.02:u[ge]==="."?me+=2.64:u[ge]==="7"?me+=5.48:me+=6;m.append("text").text(u).attr("x",Fe-me/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}f=Math.abs(te-ee)*O}(T.value.theme=="default"?ie.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):ie.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+f+", 0)");let Z,W,Pe,Xe;e.direction?(Z=E<D?-100:parseInt(String(Math.abs(E-D)*O)),W=U<D?-100:parseInt(String(Math.abs(U-D)*O)),Pe=oe<D?-100:Math.abs(oe-D)*O,Xe=ye<D?-100:Math.abs(ye-D)*O):(W=E<D?-100:Math.abs(ee-E)*O,Z=U<D?-100:Math.abs(ee-U)*O,Xe=oe>ee?-100:Math.abs(ee-oe)*O,Pe=ye>ee?-100:Math.abs(ee-ye)*O),e.minPrice==="0"&&(Z=0),e.maxPrice==="âˆž"&&(W=I),Ce.value,ne.value=I-Z+87+"px",Q.value=W+98+"px",oe&&Pe<I&&ie.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Pe+", 0)"),ye&&Xe<I&&ie.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Xe+", 0)");const Le=ie.append("g").attr("id","left-handle"),Ne=ie.append("g").attr("id","right-handle");T.value.theme=="default"?(Le.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Le.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),Le.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),Le.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),Ne.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Ne.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),Ne.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),Ne.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(Le.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Le.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),Le.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),Le.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),Ne.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Ne.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),Ne.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),Ne.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),Le.attr("transform","translate("+Z+", 0)"),Ne.attr("transform","translate("+W+", 0)");const Ee=si().extent([[0,0],[I,$]]).handleSize(30).on("end",Ze);ie.append("g").attr("class","brush").call(Ee).call(Ee.move,[Z,W]);function Ze(s){if(!s.sourceEvent||!s.selection)return;Le.attr("transform","translate("+s.selection[0]+", 0)"),Ne.attr("transform","translate("+s.selection[1]+", 0)"),Ce.value,ne.value=I-s.selection[0]+87+"px",Q.value=s.selection[1]+74+"px";let u,Fe,me=0,ge=0;e.direction?(me=C(parseInt(String(s.selection[0]/O+D)),Number(e.poolInfo.tickSpacing)),u=a.tickIndexToPrice(me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),ge=C(parseInt(String(s.selection[1]/O+D)),Number(e.poolInfo.tickSpacing)),Fe=a.tickIndexToPrice(ge,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(ge=C(ee-s.selection[0]/O,Number(e.poolInfo.tickSpacing)),u=1/a.tickIndexToPrice(ge,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),me=C(ee-s.selection[1]/O,Number(e.poolInfo.tickSpacing)),Fe=1/a.tickIndexToPrice(me,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),c.emit("onChangeMinPrice",String(fe(String(u),6))),c.emit("onChangeMaxPrice",String(fe(String(Fe),6)))}T.value.theme=="default"?lt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):lt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};return A(""),_e(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab,e.zoom,e.tickList],([n,l,v,E,U,te])=>{n&&l&&v&&(n!=null&&n.liquidity)&&ke(n,U)},{immediate:!0}),{store:T,loading:V,rangeSizeLower:Y,rangeSizeUpper:F,rangeSizeLowerPosition:ne,rangeSizeUpperPosition:Q,decimalFormat:Qt,numberformat:ft}}});const yi=e=>(yt("data-v-60bd7ae2"),e=e(),wt(),e),wi={class:"chart-box"},_i={class:"chart"},Ci=yi(()=>r("svg",{id:"chart"},null,-1));function Pi(e,c,ne,Q,S,Y){const F=Ft;return L(),X("div",wi,[$t(r("div",_i,[e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(L(),X("div",{key:0,class:"range-size range-size-lower",style:gt({right:e.rangeSizeLowerPosition})},de(("numberformat"in e?e.numberformat:ve(ft))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):K("",!0),e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="âˆž"?(L(),X("div",{key:1,class:"range-size range-size-upper",style:gt({left:e.rangeSizeUpperPosition})},de(("numberformat"in e?e.numberformat:ve(ft))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):K("",!0),Ci],512),[[Vt,!e.chartLoading]]),e.chartLoading?(L(),De(F,{key:0})):K("",!0)])}const Et=et(ki,[["render",Pi],["__scopeId","data-v-60bd7ae2"]]),Ti=Ve({props:{lever:{type:String,default:""}},setup(){return{}}});const Si=e=>(yt("data-v-619778e2"),e=e(),wt(),e),Ii={class:"lever"},Ai=Si(()=>r("div",{class:"lever-title"},"Leverage",-1)),Li={class:"lever-text"};function Ni(e,c,ne,Q,S,Y){return L(),X("div",Ii,[Ai,r("div",Li,de(e.lever),1)])}const qi=et(Ti,[["render",Ni],["__scopeId","data-v-619778e2"]]),Mi=Ve({components:{NewLiquidityD3Chart:Et,NewLiquidityPrice:Ut},setup(){const{t:e,locale:c}=Bt(),ne=A("liquidity"),Q=Pt(),S=q(()=>Q),Y=q(()=>S.value.chainName),F=qt(),B=q(()=>F),T=q(()=>S.value.chainName?kt(S.value.chainName):{});Mt(()=>{Ye.value=!1});const J=_t(),a=q(()=>{let t=null;for(let m=0;m<B.value.poolConfigList.length;m++){const f=B.value.poolConfigList[m];f.address==J.query.poolAddress&&(t=f)}return t}),C=q(()=>{let t=null;for(const m in B.value.poolsObj){const f=B.value.poolsObj[m];f.address==J.query.poolAddress&&(t=f)}return t}),x=A(),ke=A(!0),Ce=async(t,m)=>{if(ke.value=!0,m){at.value=[],g.value=[];const f=t.token_a.decimals,R=t.token_b.decimals;it.tickIndexToPrice(t.current_tick_index,f,R),nt.value=it.sqrtPriceX64ToPrice(t==null?void 0:t.current_sqrt_price,f,R).toString(),ut.value=new o(1).div(it.sqrtPriceX64ToPrice(t==null?void 0:t.current_sqrt_price,f,R)).toString(),y.value=t.needReverse?t.token_b:t.token_a,p.value=t.needReverse?t.token_a:t.token_b,x.value=t.needReverse,t.token_a.address.toLowerCase()===y.value.address.toLowerCase()&&t.token_b.address.toLowerCase()===p.value.address.toLowerCase()?je.value=!0:je.value=!1;let Z={poolAddress:t.address,coinTypeA:t.coin_a_address,coinTypeB:t.coin_b_address};const W=await T.value.getTicks(Z);at.value=W?T.value.getTickDataFromUrlData(W):[],ke.value=!1,l(t)}},V=t=>{const m=t.token_a.decimals,f=t.token_b.decimals;nt.value=it.sqrtPriceX64ToPrice(t==null?void 0:t.current_sqrt_price,m,f).toString(),ut.value=new o(1).div(it.sqrtPriceX64ToPrice(t==null?void 0:t.current_sqrt_price,m,f)).toString()},g=A([]),n=A(),l=t=>{const m=t.token_a.decimals,f=t.token_b.decimals;let R=B.value.poolPriceConfigObj&&B.value.poolPriceConfigObj[t.address]&&B.value.poolPriceConfigObj[t.address].recommend_ranges||{};const Z=B.value.poolPriceConfigObj&&B.value.poolPriceConfigObj[t.address]&&B.value.poolPriceConfigObj[t.address].type||"";let W,Pe;const Xe=Yt(t.current_tick_index,t.tickSpacing);n.value=t.current_tick_index,W=Xe-Number(t.type=="unstable"?Number(t.tickSpacing)*2:Number(t.tickSpacing)*3),Pe=Xe+Number(t.type=="unstable"?Number(t.tickSpacing)*2:Number(t.tickSpacing)*3);const Le=T.value.TickMath.tickIndexToPrice(W,m,f).toString(),Ne=T.value.TickMath.tickIndexToPrice(Pe,m,f).toString();R["full range"]={lower:T.value.TickUtil.getMinIndex(Number(C.value.tickSpacing)),upper:T.value.TickUtil.getMaxIndex(Number(C.value.tickSpacing))},R.custom={lower:W,upper:Pe,minPrice:Le,maxPrice:Ne};const Ee=[];for(let Ze in R)R[Ze]&&Ee.push({...R[Ze],key:Ze});Z&&Ee&&Ee.length>2?t.isSelfBuilt?j.value="custom":Z=="stable"?j.value="suggested":j.value="passive":j.value="custom",g.value=Ee,Qe.value=R,U({key:j.value,...R[j.value]})},v=A(""),E=A(""),U=t=>{j.value=t.key.toLowerCase();const m=C.value.token_a.decimals,f=C.value.token_b.decimals,{lower:R,upper:Z}=t;We.value=!1;const W=T.value.TickMath.tickIndexToPrice(R,m,f).toString(),Pe=T.value.TickMath.tickIndexToPrice(Z,m,f).toString();if(t.key=="full range"){v.value=R,E.value=Z,te();return}je.value?(mt.value=String(W),z.value=String(W),vt.value=String(Pe),N.value=String(Pe),v.value=R,E.value=Z):(mt.value=String(1/Number(Pe)),z.value=String(1/Number(Pe)),vt.value=String(1/Number(W)),N.value=String(1/Number(W)),v.value=T.value.TickMath.priceToTickIndex(new o(1/Number(Pe)),m,f),E.value=T.value.TickMath.priceToTickIndex(new o(1/Number(W)),m,f))},te=t=>{z.value="0",N.value="âˆž"};_e(()=>C.value,(t,m)=>{(!m&&t&&!Te(t)||m&&t&&m.address!==t.address)&&Ce(t,!m||t.address!==m.address),t&&!Te(t)&&V(t)},{immediate:!0}),Ot(()=>{y.value=A(),p.value=A(),at.value=[]}),_e(()=>[a.value,C.value,B.value.recommendRangesObj],(t,m)=>{var f,R;(!m||t[0]&&t[1]&&t[2]&&!Te(t[0])&&!Te(t[1]&&!Te(t[2]))||((f=t[0])==null?void 0:f.address)!==((R=m[0])==null?void 0:R.address))&&t[0]&&t[2]&&!Te(t[0])&&!Te(t[2])&&F.setSinglePool(t[0],t[2],Y.value)},{immediate:!0,deep:!0});const oe=t=>{if(Y.value=="Sui")switch(t){case"passive":return"/sui-image/icon_ conservative@2x.png";case"active":return"/sui-image/icon_active@2x.png";case"full range":return"/sui-image/icon_fullrange@2x.png";case"custom":return"/sui-image/icon_costom@2x.png";case"suggested":return"/sui-image/icon_stabel@2x.png"}else switch(t){case"passive":return"/image/icon_ conservative@2x.png";case"active":return"/image/icon_active@2x.png";case"full range":return"/image/icon_fullrange@2x.png";case"custom":return"/image/icon_costom@2x.png";case"suggested":return"/image/icon_stabel@2x.png"}},ye=t=>{switch(t){case"suggested":return e("newAdd.suggested");case"active":return e("newAdd.active");case"passive":return e("newAdd.conservative");case"full range":return e("newAdd.fullRange");case"custom":return e("newAdd.custom")}},b=t=>{var f,R;const m=B.value.poolPriceConfigObj&&B.value.poolPriceConfigObj[(f=C.value)==null?void 0:f.address]&&B.value.poolPriceConfigObj[(R=C.value)==null?void 0:R.address].type||"";if(g.value.length>2)if(m=="unstable")switch(t){case"active":return{top:"35%"};case"passive":return{top:"10%"};case"full range":return{top:"60%"};case"custom":return{top:"85%"}}else switch(t){case"suggested":return{top:"23%"};case"full range":return{top:"48%"};case"custom":return{top:"73%"}}else if(m=="unstable")switch(t){case"active":return{top:"35%"};case"passive":return{top:"10%"};case"full range":return{top:"60%"};case"custom":return{top:"85%"}}else switch(t){case"full range":return{top:"35%"};case"custom":return{top:"60%"}}},I=A(1),$=()=>{const t=I.value/2;I.value=t},pe=()=>{const t=I.value*2;I.value=t},h=q(()=>{var t,m,f;return!C.value||Te(S.value.addressHistTokens)||!S.value.addressHistTokens[(t=C.value)==null?void 0:t.poolAddress]?null:Object.fromEntries((f=S.value.addressHistTokens[(m=C.value)==null?void 0:m.poolAddress])==null?void 0:f.data.map(R=>[R.key,R.value]))}),M=A(30),D=A("30D"),ee=q(()=>je.value?h.value&&fe(M.value==7?h.value.before_7_d_contract_price_lowest:M.value==24?h.value.before_24_h_contract_price_lowest:h.value.before_30_d_contract_price_lowest,6)||0:h.value&&fe(new o(1).div(M.value==7?h.value.before_7_d_contract_price_highest:M.value==24?h.value.before_24_h_contract_price_highest:h.value.before_30_d_contract_price_highest).toString(),6)||0),O=q(()=>je.value?h.value&&fe(M.value==7?h.value.before_7_d_contract_price_highest:M.value==24?h.value.before_24_h_contract_price_highest:h.value.before_30_d_contract_price_highest,6)||0:(h.value&&fe(1/Number(M.value==7?h.value.before_7_d_contract_price_lowest:M.value==24?h.value.before_24_h_contract_price_lowest:h.value.before_30_d_contract_price_lowest),6))==1/0?0:h.value&&fe(1/Number(M.value==7?h.value.before_7_d_contract_price_lowest:M.value==24?h.value.before_24_h_contract_price_lowest:h.value.before_30_d_contract_price_lowest),6)||0),He=q(()=>{const t=Number(z.value),m=Number(N.value);if(z.value=="0"&&N.value=="âˆž"||j.value=="full range")return"1x";if(z.value==N.value||j.value=="full range")return"--";if(z.value&&N.value&&z.value!=="0"&&N.value!=="âˆž"){const f=pt(1/(1-Number((t/m)**.25)),2);return Number(f)>0?f+"x":"--"}else return 1}),P=q(()=>{var t,m,f,R,Z,W;return((t=y.value)==null?void 0:t.isSelfBuilt)||((m=p.value)==null?void 0:m.isSelfBuilt)||((R=B.value.tokensObj[(f=y.value)==null?void 0:f.address])==null?void 0:R.isSelfBuilt)||((W=B.value.tokensObj[(Z=p.value)==null?void 0:Z.address])==null?void 0:W.isSelfBuilt)}),ie=(t,m)=>{t!==z.value&&j.value=="full range"?U({key:"custom",...g.value.custom}):j.value!=="full range"&&j.value!=="custom"?(j.value="custom",z.value=t):z.value=t},Ke=(t,m)=>{t!==N.value&&j.value=="full range"?U({key:"custom",...g.value.custom}):j.value!=="full range"&&j.value!=="custom"?(j.value="custom",t=="0"?N.value="âˆž":N.value=t):t=="0"?N.value="âˆž":N.value=t};return _e(()=>[z.value,N.value],([t,m])=>{},{deep:!0,immediate:!0}),{positionError:Ye,getCoinIcon:t=>{var m;return(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((m=B.value.tokensObj[t==null?void 0:t.address])==null?void 0:m.logo_url)||(S.value.theme==="default"?ht("/image/coins/unknown.png"):ht("/image/coins/sui-unknown.png"))},chainName:Y,store:S,currentTab:ne,currentPrice:nt,currentPriceReverse:ut,fromCoin:y,toCoin:p,direction:je,needReverse:x,addCommom:Ie,decimalUi:fe,priceTablList:g,currentPriceTab:j,sliderStyle:b,poolInfo:C,tickList:at,getPriceTabImage:oe,getPriceTabText:ye,defaultMinPrice:mt,defaultMaxPrice:vt,minPrice:z,maxPrice:N,currentTick:n,chartLoading:ke,zoomOut:$,zoomIn:pe,zoom:I,priceTab:U,before7dContractPriceLowest:ee,before7dContractPriceHighest:O,aprRewardsTime:D,lever:He,aprRewardsParameter:M,isSelfBuilt:P,priceRangeChangeMin:ie,priceRangeChangeMax:Ke,toggle:Xt,getPirceTabTips:t=>{switch(t){case"active":return e("newAdd.activeTips");case"passive":return e("newAdd.passiveTips");case"full range":return e("newAdd.fullRangTips");case"suggested":return e("newAdd.suggestedTips");case"custom":return e("newAdd.customTips")}},timeList:[{label:"24H",value:24},{label:"7D",value:7},{label:"30D",value:30}]}}});const $i={class:"new-liquidity-left"},Fi=r("span",{class:"selectRange"},"Select Range",-1),Bi={class:"price-info"},Oi={class:"left"},Ri={class:"base-coin"},Ui={class:"base-coin-title"},zi=r("span",null,"Base coin",-1),ji=r("svg",{class:"icon icon-up","aria-hidden":"true"},[r("use",{"xlink:href":"#icon-exchange_up1"})],-1),Hi=r("svg",{class:"icon icon-down","aria-hidden":"true"},[r("use",{"xlink:href":"#icon-exchange_down1"})],-1),Xi=[ji,Hi],Ei={class:"base-coin-bottom"},Wi={alt:""},xi={class:"current-price"},Di=r("div",{class:"current-price-title"},"Current Price",-1),Zi={key:0,class:"from-pre-to"},Gi={class:"right"},Ki={class:"price-range"},Ji={class:"left"},Qi={class:"price-slider"},Yi={class:"slider"},Vi=r("div",{class:"slider-ratio-content"},null,-1),ea=[Vi],ta={class:"price-tab-list"},ia=["onClick"],aa=["src"],na={class:"right"},oa={class:"price-zoom"},ra={class:"current-price"},sa=r("div",{class:"current-price-title"},"Current Price",-1),la={key:0,class:"from-pre-to"},ua={class:"price-zoom-right"},ca={class:"leverage"},da=r("div",{class:"left"},null,-1),ma={class:"right"},va={class:"right-time"},fa={key:0,class:"day-7-price-range"},pa=r("i",null,null,-1),ga={class:"gray"},ba={class:"time-list"},ha=["onClick"],ka={class:"right-price-h5"},ya={class:"apr-leverage"},wa={key:0,class:"position-tips"},_a=["src"],Ca={class:"error"};function Pa(e,c,ne,Q,S,Y){var C,x,ke,Ce,V,g,n;const F=Rt,B=Et,T=qi,J=Ut,a=ei("image");return L(),X("div",$i,[Fi,r("div",Bi,[r("div",Oi,[r("div",Ri,[r("div",Ui,[zi,r("div",{class:"change-price",onClick:c[0]||(c[0]=(...l)=>e.toggle&&e.toggle(...l))},Xi)]),r("div",Ei,[$t(r("img",Wi,null,512),[[a,e.getCoinIcon(e.fromCoin)]]),r("span",null,de((C=e.fromCoin)==null?void 0:C.symbol),1)])]),r("div",xi,[Di,r("div",null,[r("span",null,de(e.poolInfo?e.direction?("addCommom"in e?e.addCommom:ve(Ie))(("decimalUi"in e?e.decimalUi:ve(fe))(e.currentPrice,6)):("addCommom"in e?e.addCommom:ve(Ie))(("decimalUi"in e?e.decimalUi:ve(fe))(e.currentPriceReverse,6)):"--"),1),e.fromCoin&&e.toCoin?(L(),X("span",Zi,de((x=e.toCoin)==null?void 0:x.symbol)+" per "+de((ke=e.fromCoin)==null?void 0:ke.symbol),1)):K("",!0)])])]),r("div",Gi,[e.currentTab=="liquidity"?(L(),X("div",{key:0,class:"zoom-out",onClick:c[1]||(c[1]=(...l)=>e.zoomOut&&e.zoomOut(...l))}," + ")):K("",!0),e.currentTab=="liquidity"?(L(),X("div",{key:1,class:"zoom-in",onClick:c[2]||(c[2]=(...l)=>e.zoomIn&&e.zoomIn(...l))}," - ")):K("",!0)])]),r("div",Ki,[r("div",Ji,[r("div",Qi,[r("div",Yi,[r("div",{class:"slider-ratio",style:gt(e.sliderStyle(e.currentPriceTab))},ea,4)])]),r("div",ta,[(L(!0),X(bt,null,At(e.priceTablList,l=>(L(),X("div",{key:l.key,class:dt(["price-tab-item",e.currentPriceTab==l.key?"price-tab-item-active":""]),onClick:v=>e.priceTab(l)},[ze(F,{placement:"bottom","arrow-point-at-center":""},{title:ot(()=>[Ct(de(e.getPirceTabTips(l.key)),1)]),default:ot(()=>[r("img",{src:e.getPriceTabImage(l.key),alt:""},null,8,aa),r("span",null,de(e.getPriceTabText(l.key)),1)]),_:2},1024)],10,ia))),128))])]),r("div",na,[r("div",oa,[r("div",ra,[sa,r("div",null,[r("span",null,de(e.poolInfo?e.direction&&!e.needReverse?("addCommom"in e?e.addCommom:ve(Ie))(("decimalUi"in e?e.decimalUi:ve(fe))(e.currentPrice,6)):("addCommom"in e?e.addCommom:ve(Ie))(("decimalUi"in e?e.decimalUi:ve(fe))(e.currentPriceReverse,6)):"--"),1),e.fromCoin&&e.toCoin?(L(),X("span",la,de(e.direction&&!e.needReverse?`${(Ce=e.fromCoin)==null?void 0:Ce.symbol} per ${(V=e.toCoin)==null?void 0:V.symbol}`:`${(g=e.toCoin)==null?void 0:g.symbol} per ${(n=e.fromCoin)==null?void 0:n.symbol}`),1)):K("",!0)])]),r("div",ua,[e.currentTab=="liquidity"?(L(),X("div",{key:0,class:"zoom-out",onClick:c[3]||(c[3]=(...l)=>e.zoomOut&&e.zoomOut(...l))}," + ")):K("",!0),e.currentTab=="liquidity"?(L(),X("div",{key:1,class:"zoom-in",onClick:c[4]||(c[4]=(...l)=>e.zoomIn&&e.zoomIn(...l))}," - ")):K("",!0)])]),e.poolInfo?(L(),De(B,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direction,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,zoom:e.zoom,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","zoom","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):K("",!0)])]),r("div",ca,[da,r("div",ma,[r("div",va,[e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(L(),X("div",fa,[pa,r("span",ga,de(e.aprRewardsParameter==7?"7D":e.aprRewardsParameter==24?"24H":"30D")+" Price Range",1),r("span",null,de(("addCommom"in e?e.addCommom:ve(Ie))(("decimalUi"in e?e.decimalUi:ve(fe))(e.before7dContractPriceLowest,6)))+" - "+de(("addCommom"in e?e.addCommom:ve(Ie))(("decimalUi"in e?e.decimalUi:ve(fe))(e.before7dContractPriceHighest,6))),1)])):K("",!0),r("div",ba,[(L(!0),X(bt,null,At(e.timeList,l=>(L(),X("div",{key:l.value,class:dt(["time-item",l.value==e.aprRewardsParameter?"time-item-active":""]),onClick:v=>e.aprRewardsParameter=l.value},de(l.label),11,ha))),128))])]),r("div",ka,[r("span",null,de(("addCommom"in e?e.addCommom:ve(Ie))(("decimalUi"in e?e.decimalUi:ve(fe))(e.before7dContractPriceLowest,6)))+" - "+de(("addCommom"in e?e.addCommom:ve(Ie))(("decimalUi"in e?e.decimalUi:ve(fe))(e.before7dContractPriceHighest,6))),1)])])]),r("div",{class:dt(["apr-and-price",e.positionError&&e.poolInfo?"padding-apr-and-price":""])},[r("div",ya,[ze(T,{lever:e.lever},null,8,["lever"])]),ze(J,{min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direction,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["min","max","from-coin","to-coin","direct","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice"]),e.positionError&&e.poolInfo?(L(),X("div",wa,[r("img",{src:("importIcon"in e?e.importIcon:ve(ht))("/image/icon-tips-error@2x.png"),alt:""},null,8,_a),r("p",Ca,de(e.$t("tips.positionError")),1)])):K("",!0)],2)])}const Wt=et(Mi,[["render",Pa]]),Ta=Ve({props:{poolInfo:{type:Object,default:()=>({})},isActive:{type:Boolean,default:!0}},setup(e,c){const ne=pi(),Q=A(!1),S=A(),Y=A(!0),F=q(()=>ne),B=q(()=>F.value.farmsPoolList.filter(a=>a.status=="Live"));_e(()=>e.poolInfo,a=>{a&&!Te(a)&&ne.getFarmsPoolList()},{immediate:!0});const T=a=>{const C=a.filter(x=>{var ke;return x.status=="Live"&&x.clmm_pool_id==((ke=e.poolInfo)==null?void 0:ke.poolAddress)});C&&C.length>0&&(Q.value=!0,S.value=C[0],c.emit("sendFarmsPoolInfo",Y.value&&e.isActive?S.value:""))};return _e(()=>B.value,a=>{a&&a.length>0&&T(a)},{immediate:!0}),_e(()=>e.isActive,a=>{a||c.emit("sendFarmsPoolInfo",Y.value&&e.isActive?S.value:"")},{immediate:!0}),{isShowAutoStake:Q,changeIsOpen:()=>{Y.value=!Y.value,c.emit("sendFarmsPoolInfo",Y.value&&e.isActive?S.value:"")},isOpen:Y}}}),Sa=""+globalThis.__publicAssetsURL("sui-image/farming_huo.png"),Ia=""+globalThis.__publicAssetsURL("sui-image/icon_sel@2x.png");const Tt=e=>(yt("data-v-26841f53"),e=e(),wt(),e),Aa={key:0,class:"farms-auto-stake"},La=Tt(()=>r("img",{class:"farms-icon",src:Sa,alt:""},null,-1)),Na=Tt(()=>r("div",{class:"desc"},"Automatically stake your position into the farm to enjoy higher yield.",-1)),qa={key:0,src:Ia,alt:""},Ma=Tt(()=>r("div",{class:"check-box"},null,-1));function $a(e,c,ne,Q,S,Y){const F=Rt;return e.isShowAutoStake?(L(),X("div",Aa,[La,Na,e.isActive?(L(),X("div",{key:0,class:"check-box-active",onClick:c[0]||(c[0]=(...B)=>e.changeIsOpen&&e.changeIsOpen(...B))},[e.isOpen?(L(),X("img",qa)):K("",!0)])):(L(),De(F,{key:1,"overlay-style":{"min-width":"200px"}},ti({default:ot(()=>[Ma]),_:2},[e.isActive?void 0:{name:"title",fn:ot(()=>[Ct("Farming rewards only available for active positions.")]),key:"0"}]),1024))])):K("",!0)}const Fa=et(Ta,[["render",$a],["__scopeId","data-v-26841f53"]]),Ba=Ve({components:{NewLiquidityTitle:zt,NewLiquidityAssetsCard:jt,NewLiquidityDepositRatio:Ht},setup(){const{t:e,locale:c}=Bt(),ne=Pt(),Q=q(()=>ne),S=q(()=>Q.value.chainName),Y=qt(),F=q(()=>Y),B=li(),T=q(()=>B),J=_t(),a=q(()=>{let i=null;for(const d in F.value.poolsObj){const k=F.value.poolsObj[d];k.address==J.query.poolAddress&&(i=k)}return i}),C=A(!1),x=A(!1),ke=q(()=>Q.value.theme),Ce=async(i,d)=>{y.value=i.needReverse?i.token_b:i.token_a,p.value=i.needReverse?i.token_a:i.token_b,w.value="",_.value=""},V=q(()=>T.value.assets&&y.value&&T.value.assets[y.value.address]?It(T.value.assets[y.value.address].balance,y.value.decimals):"0"),g=q(()=>T.value.assets&&p.value&&T.value.assets[p.value.address]?It(T.value.assets[p.value.address].balance,p.value.decimals):"0"),n=i=>{i==="fromCoin"?(we.value=!0,S.value==="Aptos"?w.value=Number(V.value)>0?y.value.symbol=="APT"?new o(Number(V.value)).sub(new o(.1)).lt(new o(0))?"0":new o(Number(V.value)).sub(new o(.1)).toString():String(V.value):"":w.value=Number(V.value)>0?y.value.symbol=="SUI"?new o(Number(V.value)).sub(new o(.05)).lt(new o(0))?"0":new o(Number(V.value)).sub(new o(.05)).toString():String(V.value):""):(we.value=!1,S.value==="Aptos"?_.value=Number(g.value)>0?p.value.symbol=="APT"?new o(Number(g.value)).sub(new o(.1)).lt(new o(0))?"0":new o(Number(g.value)).sub(new o(.1)).toString():String(g.value):"":_.value=Number(g.value)>0?p.value.symbol=="SUI"?new o(Number(g.value)).sub(new o(.05)).lt(new o(0))?"0":new o(Number(g.value)).sub(new o(.05)).toString():String(g.value):"")},l=i=>{i==="fromCoin"?(we.value=!0,w.value=Number(V.value)>0?pt(new o(Number(V.value)).div(2).toString(),y.value.decimals).toString():""):(we.value=!1,_.value=Number(g.value)>0?pt(new o(Number(g.value)).div(2).toString(),p.value.decimals).toString():"")},v=A(),E=A(),U=A(),te=A(!1),oe=i=>{var d,k,re,H;v.value=i,i==="fromCoin"?(E.value=((d=p.value)==null?void 0:d.address)||"",U.value=J.query.actions=="new-position"?(k=y.value)==null?void 0:k.address:a.value.needReverse?a.value.token_b.address:a.value.token_a.address):(E.value=((re=y.value)==null?void 0:re.address)||"",U.value=J.query.actions=="new-position"?(H=p.value)==null?void 0:H.address:a.value.needReverse?a.value.token_a.address:a.value.token_b.address),te.value=!0},ye=i=>{var re,H,se,le,ae,ue,ce,be;const d=a.value.needReverse?a.value.token_b:a.value.token_a,k=a.value.needReverse?a.value.token_a:a.value.token_b;v.value==="fromCoin"?(((re=y.value)==null?void 0:re.address)===(d==null?void 0:d.address)||!((H=y.value)!=null&&H.address)?(p.value&&i.address.toLowerCase()===((se=p)==null?void 0:se.value.address.toLowerCase())&&(p.value=null),y.value=i):(y.value&&i.address.toLowerCase()===((le=y)==null?void 0:le.value.address.toLowerCase())&&(y.value=null),p.value=i),J.query.action||(J.query.fee="")):((ae=p.value)==null?void 0:ae.address)===(k==null?void 0:k.address)||!((ue=p.value)!=null&&ue.address)?(y.value&&i.address.toLowerCase()===((ce=y)==null?void 0:ce.value.address.toLowerCase())&&(y.value=null),p.value=i):(p.value&&i.address.toLowerCase()===((be=p)==null?void 0:be.value.address.toLowerCase())&&(p.value=null),y.value=i),te.value=!1},b=q(()=>Q.value.chainName?kt(Q.value.chainName):{}),I=q(()=>Q.value.slippage),$=A(),pe=async()=>{var Be,$e,Oe,Re;if(We.value||!z.value&&!N.value)return!1;if(!w.value&&!_.value&&!z.value&&!N.value)return;const i=a.value||{};if(Te(i))return;const{TickUtil:d,TickMath:k,getNearestTickByTick:re}=b.value,H=i==null?void 0:i.token_a.decimals,se=i==null?void 0:i.token_b.decimals;let le,ae,ue,ce,be,Se,xe,Ge,qe=i==null?void 0:i.current_tick_index,G;if(i.token_a.address.toLowerCase()===y.value.address.toLowerCase()&&i.token_b.address.toLowerCase()===p.value.address.toLowerCase()?G=!0:G=!1,z.value==="0"&&N.value==="âˆž")ue=d.getMinIndex(Number(i.tickSpacing)),ce=d.getMaxIndex(Number(i.tickSpacing)),be=k.tickIndexToSqrtPriceX64(ue),Se=k.tickIndexToSqrtPriceX64(ce);else if(j.value=="custom"){G?(le=z.value,ae=N.value):(le=N.value!=="âˆž"?new o(1).div(N.value).toString():1/0,ae=new o(1).div(z.value).toString());try{xe=new o(le).equals(new o(0))?-443636:k.priceToTickIndex(new o(le),H,se)}catch{xe=-443636}try{Ge=k.priceToTickIndex(new o(ae),H,se)}catch{Ge=443636}ue=re(xe,Number(i.tickSpacing),!0),ce=re(Ge,Number(i.tickSpacing),!0);try{be=k.priceToSqrtPriceX64(new o(le),H,se)}catch{(ae===1/0||ae==="âˆž")&&(be=k.tickIndexToSqrtPriceX64(d.getMinIndex(Number(i.tickSpacing))))}try{Se=k.priceToSqrtPriceX64(new o(ae),H,se)}catch{(ae===1/0||ae==="âˆž")&&(Se=k.tickIndexToSqrtPriceX64(d.getMaxIndex(Number(i.tickSpacing))))}}else ue=(Be=Qe.value[j.value])==null?void 0:Be.lower,ce=($e=Qe.value[j.value])==null?void 0:$e.upper,be=k.tickIndexToSqrtPriceX64(ue),Se=k.tickIndexToSqrtPriceX64(ce);if(N.value!=="âˆž"&&ue>=ce){C.value=!0,w.value="",x.value=!0,_.value="";return}if(N.value==="âˆž"||qe>=ue&&qe<ce){C.value=!1,x.value=!1;let he;if(w.value||_.value){if(we.value){const ct=new o(w.value).mul(Math.pow(10,y.value.decimals)).toString();he=new Ue(ct)}else{const ct=new o(_.value).mul(Math.pow(10,p.value.decimals)).toString();he=new Ue(ct)}k.tickIndexToSqrtPriceX64(a.value.current_tick_index);const{liquidityAmount:Me,tokenMaxA:Je,tokenMaxB:st,tokenMaxAOrigin:Kt,tokenMaxBOrigin:Jt}=b.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:i.token_a,tokenB:i.token_b,lowerTick:ue,upperTick:ce,coinAmount:he,iscoinA:G?we.value:!we.value,roundUp:!0,slippage:Number(I.value)/100,curSqrtPrice:new Ue(a.value.current_sqrt_price)});$.value={liquidityAmount:Me,tokenMaxA:Je,tokenMaxB:st,tokenMaxAOrigin:Kt,tokenMaxBOrigin:Jt},G?we.value?_.value=Number(st)>0?st:"":w.value=Number(Je)>0?Je:"":we.value?_.value=Je:w.value=st}}else if(qe>=ce){if(G?w.value="":_.value="",C.value=G,x.value=!G,w.value||_.value){let he;if(G){const Me=new o(_.value).mul(Math.pow(10,(Oe=p.value)==null?void 0:Oe.decimals)).toString();he=new Ue(Me),$.value={liquidityAmount:b.value.estimateLiquidityForCoinB(be,Se,he),tokenMaxA:0,tokenMaxB:_.value}}else{const Me=new o(w.value).mul(Math.pow(10,(Re=y.value)==null?void 0:Re.decimals)).toString();he=new Ue(Me),$.value={liquidityAmount:b.value.estimateLiquidityForCoinB(be,Se,he),tokenMaxA:0,tokenMaxB:w.value}}}}else if(qe<ue){if(C.value=!G,x.value=G,G?_.value="":w.value="",w.value||_.value){let he;if(G){const Me=new o(w.value).mul(Math.pow(10,y.value.decimals)).toString();he=new Ue(Me),$.value={liquidityAmount:b.value.estimateLiquidityForCoinA(be,Se,he),tokenMaxA:w.value,tokenMaxB:0}}else{const Me=new o(_.value).mul(Math.pow(10,p.value.decimals)).toString();he=new Ue(Me),$.value={liquidityAmount:b.value.estimateLiquidityForCoinA(be,Se,he),tokenMaxA:_.value,tokenMaxB:0}}}}else C.value=!0,w.value="",x.value=!0,_.value=""};_e(()=>a.value,(i,d)=>{(!d&&i&&!Te(i)||d&&i&&d.address!==i.address)&&Ce(i,!d||i.address!==d.address),i&&!Te(i)&&pe()},{immediate:!0}),_e(w,(i,d)=>{i==""&&we.value&&(_.value=""),i&&we.value&&!We.value&&pe()}),_e(_,(i,d)=>{i==""&&!we.value&&(w.value=""),i&&!we.value&&!We.value&&pe()}),_e(()=>je.value,(i,d)=>{pe()}),_e(()=>[y.value,p.value],([i,d])=>{i&&d&&(C.value=!1,x.value=!1)});const h=A("--"),M=q(()=>F.value.RATES),D=()=>{const i=M.value&&M.value[y.value.address]&&M.value[y.value.address].price,d=M.value&&M.value[p.value.address]&&M.value[p.value.address].price;if(i&&d){const k=new o(w.value>0?w.value:0).mul(i),re=new o(_.value>0?_.value:0).mul(d),H=k.add(re).toNumber();h.value=H>0&&H<.01?"<$0.01":"$"+Ie(H,2)}else h.value="--"};_e(()=>[w.value,_.value,We.value],([i,d,k])=>{(i||d)&&!k?D():(!i||!d)&&!k&&(h.value="--")},{immediate:!0}),_e(()=>h,i=>{},{immediate:!0});const ee=A(),O=async()=>{var G,Be;if(!z.value&&!N.value)return!1;if(!w.value&&!_.value&&!z.value&&!N.value)return;const i=a.value;if(Te(i))return;const{TickUtil:d,TickMath:k,getNearestTickByTick:re}=b.value,H=i==null?void 0:i.token_a.decimals,se=i==null?void 0:i.token_b.decimals;let le,ae,ue,ce,be,Se,xe;if(i.token_a.address.toLowerCase()===y.value.address.toLowerCase()&&i.token_b.address.toLowerCase()===p.value.address.toLowerCase()?xe=!0:xe=!1,z.value==="0"&&N.value==="âˆž")ue=d.getMinIndex(Number(i.tickSpacing)),ce=d.getMaxIndex(Number(i.tickSpacing));else if(j.value=="custom"){xe?(le=Number(z.value),ae=Number(N.value)):(le=new o(1).div(N.value).toString(),ae=new o(1).div(z.value).toString());try{be=le==0?-443636:k.priceToTickIndex(new o(le),H,se)}catch{be=-443636}try{Se=k.priceToTickIndex(new o(ae),H,se)}catch{Se=443636}ue=re(be,Number(i.tickSpacing),!0),ce=re(Se,Number(i.tickSpacing),!0)}else ue=(G=Qe.value[j.value])==null?void 0:G.lower,ce=(Be=Qe.value[j.value])==null?void 0:Be.upper;const Ge=M.value[i==null?void 0:i.token_a.address].price,qe=M.value[i==null?void 0:i.token_b.address].price;je.value?new Ue(i.current_sqrt_price):new Ue(1/i.current_sqrt_price);try{const{amountA:$e,amountB:Oe,tokenAmountsInfo:Re}=await b.value.estCoinAmountsFromTotalAmount({lowerTick:ue,upperTick:ce,decimalsA:H,decimalsB:se,curSqrtPrice:new Ue(i.current_sqrt_price),totalAmount:h.value.replace(/[^\d.]/g,""),tokenPriceA:Ge,tokenPriceB:qe});ee.value=Re,i.needReverse?je.value?(w.value=$e,_.value=Oe):(w.value=Oe,_.value=$e):(w.value=$e,_.value=Oe)}catch{}};_e([z,N],([i,d])=>{We.value?We.value&&O():pe(),d!=="âˆž"&&Number(i)!==0&&Number(d)!==0&&Number(i)>=Number(d)?Ye.value=!0:Ye.value=!1,Number(i)==0&&Number(d)==0&&nt.value&&(Ye.value=!0)},{deep:!0,immediate:!0});const He=i=>{const d=i.replace(/[^\d.]/g,""),k="$"+Ie(d);We.value=!0,h.value=k,d>0?O():(w.value="",_.value="")},P=A(!1),{setTransactionTxid:ie,setTransactionDesc:Ke,setIsShowWaiting:Ae,setIsShowSuccess:rt,setPositiomNum:tt,setIsShowRejected:t}=ne,m=gi(),f=q(()=>F.value.currentPositionInfo),R=A(!1),Z=A(!0),W=A(),Pe=i=>{W.value=i,i||(Z.value=!1)},Xe=async i=>{var be,Se,xe,Ge;P.value=!1,F.value.currentPositionInfo={},ie(""),Ke(e("tips.increaseLiquiditySuccess",{from:C.value?"":`${Ie(w.value)} ${(be=y.value)==null?void 0:be.symbol}`,and:!C.value&&!x.value?"and":"",to:x.value?"":`${Ie(_.value)} ${(Se=p.value)==null?void 0:Se.symbol}`})),Ae(!0);const d=je.value?we.value:!we.value;let k,re,H,se,le,ae;const ue=a.value.token_a.decimals,ce=a.value.token_b.decimals;if(z.value==="0"&&N.value==="âˆž")H=b.value.TickUtil.getMinIndex(Number(a.value.tickSpacing)),se=b.value.TickUtil.getMaxIndex(Number(a.value.tickSpacing));else if(j.value=="custom"){je.value?(k=z.value,re=N.value):(k=new o(1).div(N.value).toString(),re=new o(1).div(z.value).toString());try{le=k==0?b.value.TickUtil.getMinIndex(Number(a.value.tickSpacing)):b.value.TickMath.priceToTickIndex(new o(k),ue,ce)}catch{le=b.value.TickUtil.getMinIndex(Number(a.value.tickSpacing))}try{ae=b.value.TickMath.priceToTickIndex(new o(re),ue,ce)}catch{ae=b.value.TickUtil.getMaxIndex(Number(a.value.tickSpacing))}H=b.value.getNearestTickByTick(le,Number(a.value.tickSpacing),!0),se=b.value.getNearestTickByTick(ae,Number(a.value.tickSpacing),!0)}else H=Qe.value[j.value].lower,se=Qe.value[j.value].upper;try{let qe;We.value?qe=await b.value.getCreateAddLiquidityPayload({pool:a.value,curSqrtPrice:new Ue(a.value.current_sqrt_price),tickLower:H,tickUpper:se,slippage:Number(I.value)/100,tokenAmounts:ee.value}):qe=await b.value.getAddLiquidityTransactionPayload({pool:{poolAddress:a.value.poolAddress,token_a:a.value.token_a,token_b:a.value.token_b},amount:we.value?w.value:_.value,fix_amount_a:d,tick_lower:H,tick_upper:se,index:0,slippage:Number(I.value)/100,roundUp:!0,collect_fee:!1,curSqrtPrice:new Ue(a.value.current_sqrt_price),farmPoolInfo:W.value});let G;if(S.value==="Aptos")G=await T.value.currentWallet.signAndSubmitTransaction(qe);else{const Be=await T.value.currentWallet.signAndExecuteTransactionBlock(qe);G=b.value.handleTx(Be)}if(G&&G.hash){ie(G.hash),Ae(!1),rt(!0);let Be;a.value.needReverse?a.value.token_a.address.toLowerCase()===y.value.address.toLowerCase()&&a.value.token_b.address.toLowerCase()===p.value.address.toLowerCase()?Be=!1:Be=!0:a.value.token_a.address.toLowerCase()===y.value.address.toLowerCase()&&a.value.token_b.address.toLowerCase()===p.value.address.toLowerCase()?Be=!0:Be=!1;const $e={title:"Supplied",desc:e("tips.addLiquiditySuccessText",{from:C.value?"":`${Ie(w.value)} ${(xe=y.value)==null?void 0:xe.symbol}`,and:!C.value&&!x.value?"and":"",to:x.value?"":`${Ie(_.value)} ${(Ge=p.value)==null?void 0:Ge.symbol}`}),hash:G.hash,tit:"Position Created",icon:"icon-icon-Position-Created"};S.value!=="Aptos"&&($e.res=G.res),b.value.showTransitionPending($e);const Oe=await b.value.watchTransaction($e,!0);if(Oe.status){if(rt(!1),F.value.setCurrentPositionLoading(!0),R.value=!0,S.value==="Aptos"){if(await F.value.setCurrentPositionInfo(Oe.nftInfo[0].data.id.creator,Oe.nftInfo[0].data.id.collection,Oe.nftInfo[0].data.name,S.value),i)try{await m.subscribePosition({pool_address:f.value.poolAddress,position_index:f.value.index},f.value.nftHash)}catch{}}else{const Re=Oe.nftInfo,he=await St(2e3);if(Z.value){let Me;G.res.events.forEach(Je=>{Je.type.indexOf("::pool::DepositEvent")>-1&&(Me=Je.parsedJson.wrapped_position_id)}),await F.value.setCurrentPositionInfo("","","","Sui",Me,"farming")}else await F.value.setCurrentPositionInfo(Re==null?void 0:Re.pool,"","",S.value,Re==null?void 0:Re.position);if(await St(1e3),i&&!Z.value)try{await m.subscribePosition({pool_address:f.value.poolAddress,position_index:f.value.index},f.value.nftHash)}catch{}else if(i&&Z.value)try{await m.subscribePosition({pool_address:f.value.clmm_pool_id,position_index:f.value.name.split("-")[1]},f.value.clmm_position_id)}catch{}}setTimeout(()=>{Y.updateCurrentPools(a.value.poolAddress,S.value),b.value.getAccount(T.value.address)},3e3),setTimeout(async()=>{Lt(b,a)},3e3)}tt()}else Ae(!1),t(!0);w.value="",_.value=""}catch{w.value="",_.value="",Ae(!1),t(!0)}},Le=q(()=>!!(!w.value&&!_.value||Number(w.value)>Number(V.value)||Number(_.value)>Number(g.value)||Ee.value!==e("button.addLiquidity")&&Ee.value!==e("newAdd.preview")||a.value&&a.value&&a.value.is_pause||Number(w.value)<=0&&Number(_.value)<=0||!C.value&&Number(w.value)==0||!x.value&&Number(_.value)==0)),Ne=q(()=>!y.value||!p.value),Ee=q(()=>a.value&&a.value.is_pause?"Pool Closed":!y.value||!p.value||Ne.value?e("modal.selectTokenModalTitle"):Number(w.value)>Number(V.value)?e("button.insufficientBalance",{name:y.value.symbol}):Number(_.value)>Number(g.value)?e("button.insufficientBalance",{name:p.value.symbol}):!Number(w.value)&&!Number(_.value)?e("button.enterAmount"):N.value!=="âˆž"&&Number(z.value)>=Number(N.value)?e("newAdd.invalidRange"):e("button.addLiquidity")),Ze=A({}),s=A({}),u=A(!1),Fe=(i,d)=>{const k=localStorage.getItem(i.address);F.value.tokensObj&&F.value.tokensObj[i.address]&&F.value.tokensObj[i.address].isSelfBuilt&&!k&&(d=="fromCoin"&&(Ze.value=i),d=="toCoin"&&(s.value=i),u.value=!0)};_e(()=>[y.value,p.value],([i,d])=>{i&&!Te(i)&&Fe(i,"fromCoin"),d&&!Te(d)&&Fe(d,"toCoin")},{immediate:!0});const me=ii(),ge=()=>{S.value!=="Aptos"?me.push("/pool/list"):me.push("/pools")},Dt=i=>{We.value,Xe(i)},Zt=()=>{J.query.action!=="create-pool"&&J.query.actions!=="new-position"&&(Lt(b,a),pe(),Y.updateCurrentPools(a.value.poolAddress,S.value)),Y.setPoolConfigList(S.value,Q.value.filterCoinsObj)},Gt=q(()=>{var k,re,H,se,le,ae;const i=(H=M.value[(re=(k=y)==null?void 0:k.value)==null?void 0:re.address])==null?void 0:H.price,d=(ae=M.value[(le=(se=p)==null?void 0:se.value)==null?void 0:le.address])==null?void 0:ae.price;return!!(i&&d)});return _e(()=>[J,F.value.tokensObj],([i,d])=>{var k;d&&!Te(d)&&(p.value||(p.value=F.value.tokensObj[(k=i==null?void 0:i.query)==null?void 0:k.toCoin]))},{immediate:!0,deep:!0}),{positionError:Ye,decimalUi:fe,poolInfo:a,fromCoinAmount:w,toCoinAmount:_,fromCoin:y,toCoin:p,theme:ke,showFromCoinLock:C,showToCoinLock:x,fromCoinBlance:V,toCoinBlance:g,maxBtnSelect:n,halfBtnSelect:l,fixedFromCoin:we,openCoinSelect:oe,currentCoinKey:v,existingCoins:E,lastSelectCoin:U,showCoinSelect:te,onCoinSelect:ye,liquidityTotalAmount:h,toggle:Xt,onInput:He,isInputTotalAmount:We,isViewDetail:R,addLiquidityBtnDisabled:Le,addLiquidityBtnText:Ee,isShowTokenWarning:u,chainName:S,closeTokenWarning:ge,warningFromCoin:Ze,warningToCoin:s,isShowLiquidityModal:P,currentPrice:nt,currentPriceReverse:ut,currentPriceTab:j,minPrice:z,maxPrice:N,toAdd:Xe,direction:je,wallet:T,getAddLiquidityType:Dt,clickRefresh:Zt,isShowtotalAmount:Gt,isAutoStakeFarming:Z,farmPoolInfo:W,getFarmsPoolInfo:Pe}}});const Oa={class:"new-liquidity-right"},Ra={class:"deposit-title"},Ua={class:"card-container"},za={key:0,class:"lock"},ja={class:"card-item"},Ha={class:"card-item"},Xa={key:0,class:"total-amount"},Ea=r("span",null,"Total Amount",-1);function Wa(e,c,ne,Q,S,Y){const F=zt,B=ui,T=jt,J=di,a=Ht,C=ai,x=mi,ke=vi,Ce=fi,V=Fa;return L(),X("div",Oa,[r("div",Ra,[ze(F,{"pool-info":e.poolInfo,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClickRefresh"])]),r("div",Ua,[e.positionError?(L(),X("div",za,[ze(B)])):K("",!0),r("div",ja,[ze(T,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":c[0]||(c[0]=g=>e.fromCoinAmount=g),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:c[1]||(c[1]=g=>e.maxBtnSelect("fromCoin")),onOnHalf:c[2]||(c[2]=g=>e.halfBtnSelect("fromCoin")),onOnInput:c[3]||(c[3]=g=>{e.fromCoinAmount=g,e.fixedFromCoin=!0,e.isInputTotalAmount=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&!e.positionError?(L(),De(J,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])):K("",!0)]),r("div",Ha,[ze(T,{modelValue:e.toCoinAmount,"onUpdate:modelValue":c[4]||(c[4]=g=>e.toCoinAmount=g),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:c[5]||(c[5]=g=>e.maxBtnSelect("toCoin")),onOnHalf:c[6]||(c[6]=g=>e.halfBtnSelect("toCoin")),onOnInput:c[7]||(c[7]=g=>{e.toCoinAmount=g,e.fixedFromCoin=!1,e.isInputTotalAmount=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&!e.positionError?(L(),De(J,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])):K("",!0)]),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme=="default"?(L(),X("img",{key:1,class:"add",src:bi,alt:"",onClick:c[8]||(c[8]=(...g)=>e.toggle&&e.toggle(...g))})):K("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme!=="default"?(L(),X("img",{key:2,class:"add",src:hi,alt:"",onClick:c[9]||(c[9]=(...g)=>e.toggle&&e.toggle(...g))})):K("",!0)]),e.isShowtotalAmount?(L(),X("div",Xa,[Ea,r("span",null,de(e.liquidityTotalAmount)+" ",1)])):K("",!0),ze(a,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"fixed-from-coin":e.fixedFromCoin,"is-input-total-amount":e.isInputTotalAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price-tab":e.currentPriceTab,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","fixed-from-coin","is-input-total-amount","min-price","max-price","current-price-tab","current-price","current-price-reverse"]),ze(C,{class:"add-liquidity-btn",disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,onClick:c[10]||(c[10]=g=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:ot(()=>[Ct(de(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),e.showCoinSelect?(L(),De(x,{key:1,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:c[11]||(c[11]=g=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):K("",!0),e.isViewDetail?(L(),De(ke,{key:2,"pool-info":e.poolInfo,"farm-pool-info":e.farmPoolInfo,"is-auto-stake-farming":e.isAutoStakeFarming,onOnClose:c[12]||(c[12]=g=>e.isViewDetail=!1)},null,8,["pool-info","farm-pool-info","is-auto-stake-farming"])):K("",!0),e.isShowLiquidityModal?(L(),De(Ce,{key:3,"pool-info":e.poolInfo,title:e.$t("button.addLiquidity"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":e.currentPriceTab,"min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direction,"is-increase":!1,onToAdd:e.getAddLiquidityType,onOnClose:c[13]||(c[13]=g=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","current-price-tab","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onToAdd"])):K("",!0),e.chainName=="Sui"?(L(),De(V,{key:4,"pool-info":e.poolInfo,"is-active":!e.showFromCoinLock&&!e.showToCoinLock,"is-auto-stake-farming":e.isAutoStakeFarming,onSendFarmsPoolInfo:e.getFarmsPoolInfo},null,8,["pool-info","is-active","is-auto-stake-farming","onSendFarmsPoolInfo"])):K("",!0)])}const xt=et(Ba,[["render",Wa]]),xa=Ve({components:{NewLiquidityLeft:Wt,NewLiquidityRight:xt},setup(){Ot(()=>{ci()});const e=_t();return{tickList:at,route:e}}});const Da={key:0,class:"loading-spin-liquidity loading-global"},Za={class:"privide-liquidity"};function Ga(e,c,ne,Q,S,Y){var J,a;const F=Ft,B=Wt,T=xt;return L(),X(bt,null,[!e.tickList&&((a=(J=e.route)==null?void 0:J.query)!=null&&a.poolAddress)?(L(),X("div",Da,[ze(F)])):K("",!0),r("div",Za,[ze(B),ze(T)])],64)}const An=et(xa,[["render",Ga],["__scopeId","data-v-fc58011a"]]);export{An as default};
