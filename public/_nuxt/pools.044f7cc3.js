import{_ as ke}from"./apr-tips.461c7d31.js";import{a as le,r as f,ap as we,aq as Ie,L as ne,G as ae,N as be,v as L,F as ie,s as re,w as Q,ar as Ce,i as Le,H as X,as as Se,Y as F,A as ee,b as de,o as n,e as a,f as s,h as I,t as i,a1 as O,a2 as j,q as V,l as C,c as ue,m as K,y as D,a4 as ce,B as Ae,p as ve,j as me,x as Ve,J as Be,k as Te,a0 as Y,K as se,C as oe,a9 as te,at as Re,S as Ue,au as Ke}from"./entry.0790269b.js";/* empty css              */import{_ as M}from"./icon_on_2x.92294e56.js";import{p as Ne}from"./precision.1cd464a0.js";import{_ as Pe,a as qe}from"./img-no-Positions_2x.3a4bda32.js";import"./index.72452cf0.js";const Ee=le({props:{lItem:{type:Object,required:!0}},setup(e){const o=f(!1),b=we(Ie,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:N}=ne(),B=ae(),A=be(),$=L(()=>A),y=f(!1);function k(m){const c=m.balance,P=Se(c).div(Math.pow(10,m.decimals)).toString();return X(P,m.decimals)}const g=m=>{y.value=!0,setTimeout(()=>{y.value=!1},2e3),B.push(`/deposit?tokena=${m.coinA.address}&tokenb=${m.coinB.address}&fee=${m.fee}`)},w=ie(),u=L(()=>w),_=L(()=>u.value.newTokenObj&&e.lItem.coinA.address&&u.value.newTokenObj[e.lItem.coinA.address]&&u.value.newTokenObj[e.lItem.coinA.address].logoURI),t=L(()=>u.value.newTokenObj&&e.lItem.coinB.address&&u.value.newTokenObj[e.lItem.coinB.address]&&u.value.newTokenObj[e.lItem.coinB.address].logoURI),v=f([]),h=re(),T=L(()=>h);return Q(()=>[u.value.addressLpTokens,u.value.newTokenObj,T.value.newTopPoolsObj],([m,c,P])=>{if(!F(m)&&!F(c)&&!F(u.value.RATES)&&!F(P)){const q=e.lItem.address&&m[e.lItem.address]&&m[e.lItem.address].rewarder_infos||[],z=[];q.forEach((R,Z)=>{const G=c[R.coinAddress].decimals,H=ee(R.emissionsEveryDay/Math.pow(10,G),4),J=ee(Number(H)*u.value.RATES[c[R.coinAddress].name.toUpperCase()].price,4);z.push({...R,logoUrl:c[R.coinAddress].logoURI,day:H,dayUSD:J,symbol:c[R.coinAddress].symbol,rewarders:e.lItem[`rewarders${Z}`]})}),v.value=z}},{immediate:!0}),{t:N,isShow:o,indicator:b,thousands:Ce,importIcon:Le,router:B,wallet:$,addCommom:X,getLpView:k,toAdd:g,fromCoinUrl:_,toCoinUrl:t,addLiquidity:y,rewarderInfo:v}}});const De=e=>(ve("data-v-9021c616"),e=e(),me(),e),Oe={class:"pools-list-item"},je=De(()=>s("div",{class:"topBg"},null,-1)),Fe={class:"top"},ze={class:"img-box"},He=["src"],Me=["src"],Ze={class:"coin-name"},Ge={class:"symbol-label"},Je={class:"apr"},We={class:"bottom"},Ye={class:"induction"},Qe={class:"item"},Xe={class:"induction-text"},xe={class:"induction-value"},es={class:"item"},ss={class:"induction-text"},os={class:"induction-value"},ts={class:"item"},ls={class:"induction-text"},ns={class:"induction-value"},as={key:0,class:"item rewards-item"},is={class:"induction-text"},rs={class:"induction-value induction-value-rewards"},ds={class:"rewards-hover"},us=["src"],cs=["src"];function vs(e,o,b,N,B,A){var g,w,u,_,t,v,h,T,m;const $=ke,y=ce,k=Ae;return n(),a("div",Oe,[je,s("div",Fe,[s("div",ze,[(g=e.lItem)!=null&&g.coinA?(n(),a("img",{key:0,src:e.fromCoinUrl||e.importIcon(`/image/coins/${(w=e.lItem)==null?void 0:w.coinA.symbol.toLowerCase()}.png`)},null,8,He)):I("",!0),(u=e.lItem)!=null&&u.coinB?(n(),a("img",{key:1,src:e.toCoinUrl||e.importIcon(`/image/coins/${(_=e.lItem)==null?void 0:_.coinB.symbol.toLowerCase()}.png`)},null,8,Me)):I("",!0)]),s("span",Ze,i((v=(t=e.lItem)==null?void 0:t.coinA)==null?void 0:v.symbol)+" - "+i((T=(h=e.lItem)==null?void 0:h.coinB)==null?void 0:T.symbol),1),s("div",Ge,[(n(!0),a(O,null,j((m=e.lItem)==null?void 0:m.labels,(c,P)=>(n(),a("div",{key:P,class:V(["lable",c])},null,2))),128))]),s("div",Je,[s("span",{onClick:o[0]||(o[0]=c=>e.isShow=!e.isShow),class:"apr-text"},i(e.lItem.is_display_rewarder?e.addCommom(e.lItem.aprTotal,2):e.addCommom(e.lItem.apr,2)),1),s("span",{onClick:o[1]||(o[1]=c=>e.isShow=!e.isShow)},i(e.$t("common.apr")),1),C($,{class:V(e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),lItem:e.lItem,rewarderInfo:e.rewarderInfo},null,8,["class","lItem","rewarderInfo"])])]),s("div",We,[s("div",Ye,[s("div",Qe,[s("div",Xe,i(e.$t("common.feeTier")),1),s("div",xe,i(e.lItem.fee*100)+"%",1)]),s("div",es,[s("div",ss,i(e.$t("common.liquidity")),1),s("div",os,"$"+i(e.addCommom(e.lItem.liqidity,2)),1)]),s("div",ts,[s("div",ls,i(e.$t("common.volume24H")),1),s("div",ns,"$"+i(e.addCommom(e.lItem.vol,2)),1)]),e.lItem.is_display_rewarder&&e.rewarderInfo&&e.rewarderInfo.length>0?(n(),a("div",as,[s("div",is,i(e.$t("common.rewards")),1),s("div",rs,[e.rewarderInfo&&e.rewarderInfo.length>0?(n(!0),a(O,{key:0},j(e.rewarderInfo,c=>(n(),a("div",{key:c,class:"rewards"},[s("div",ds,[s("img",{src:c.logoUrl,alt:""},null,8,us),s("span",null,i(`${c.day} ${c.symbol} per day`),1)]),s("img",{src:c.logoUrl,alt:""},null,8,cs),s("span",null,i(c.symbol),1)]))),128)):e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr!=="0%"?(n(),ue(y,{key:1,size:"small"})):I("",!0)]),e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr=="0%"?(n(),a("div",{key:0,class:V(["induction-value",e.lItem.rewarder_apr=="0%"?"text-default":"induction-value-rewards"])}," No rewards ",2)):I("",!0)])):I("",!0)]),C(k,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:o[2]||(o[2]=c=>e.toAdd(e.lItem))},{default:K(()=>[D(i(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const ms=de(Ee,[["render",vs],["__scopeId","data-v-9021c616"]]),ps=le({setup(){const{t:e,locale:o}=ne(),b=ae(),N=f(!1),B=f(!1),A=f(!1),$=f("TVL"),y=f(["APR","VOL"]),k=f(!1),g=f(e("tab.all")),w=f([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),u=f([]),_=f(""),t=f(["pools"]),v=ie(),h=re(),T=f(!0),m=f(""),c=L(()=>h),P=L(()=>h.theme),q=L(()=>v),z=L(()=>h.statsData),R=(l,r)=>r.liqidity-l.liqidity,Z=(l,r)=>r.vol-l.vol,G=(l,r)=>r.aprNum-l.aprNum;Ve(()=>{var r,p,U;const l=(U=(p=(r=b==null?void 0:b.currentRoute)==null?void 0:r.value)==null?void 0:p.query)==null?void 0:U.language;l&&J(l),h.getStatsData(),m.value=o.value});const{setLang:H}=h,J=l=>{H(l),o.value=l},pe=(l,r)=>l&&r?Te(Ne.plus(Y(l),Y(r)),2)+"%":l,x=l=>{let r=0;return l&&l.forEach(p=>{r+=Y(String(p))}),String(r)},W=l=>{const r=[];l.forEach(E=>{const d=c.value.addressLpTokens[E.address];r.push({...E,liqidity:d?d.tvl_in_usd:"0.00000000001",vol:d?d.vol_in_usd_24h:"0",apr:d?d.apr_7day:"--",aprNum:d?d.apr_7day.substring(0,d.apr_7day.length-1):"0",rewarder_apr:x(d&&d.rewarder_apr)+"%",aprTotal:pe(d&&d.apr_7day,d&&x(d.rewarder_apr)),rewarders0:d&&d.rewarder_apr[0],rewarders1:d&&d.rewarder_apr[1],rewarders2:d&&d.rewarder_apr[2]})});let p=[];if($.value=="APR"?p=r.sort(G):$.value=="VOL"?p=r.sort(Z):p=r.sort(R),g.value!="All"){const E=[];p.forEach(d=>{d.labels.indexOf(g.value)!==-1&&E.push(d)}),u.value=E}else u.value=p;if(_.value){var U=new RegExp("[\\u4E00-\\u9FFF]+","g");if(U.test(_.value)){_.value="";return}const E=u.value.filter(d=>d.symbol.toLowerCase().includes(_.value.toLowerCase()));u.value=E}T.value=!1};Q(()=>[q.value.poolConfigList,q.value.addressLpTokens,_.value,$.value,g.value],([l,r])=>{(l==null?void 0:l.length)>0&&!F(r)&&W(l)},{immediate:!0,deep:!0});const he=l=>{if(N.value=!0,l){W(q.value.poolConfigList);const r=u.value.filter(p=>p.symbol.toLowerCase().includes(l.toLowerCase()));u.value=r,N.value=!1}else W(q.value.poolConfigList)},fe=()=>{T.value=!0,B.value=!0,h.getStatsData(),v.setPoolConfigList(),setTimeout(()=>{B.value=!1},1e3)},ge=l=>{const r=[];r.push($.value),y.value.forEach((p,U)=>{p!=l&&r.push(p)}),y.value=r,$.value=l},_e=l=>{const r=[];w.value.forEach((p,U)=>{p==l?r[U]=g.value:r[U]=p}),w.value=r,g.value=l};Q(()=>h.lang,l=>{m.value=l});const $e=l=>{l=="label"?(k.value=!k.value,A.value=!1):l=="select"?(A.value=!A.value,k.value=!1):(A.value=!1,k.value=!1)},ye=()=>{b&&b.push("/position")};return{config:L(()=>Be[c.value.chainName]),toPositionList:ye,t:e,router:b,loading:N,clickRefresh:fe,refresh:B,updateLpList:he,searchKey:_,current:t,addCommom:X,list:u,theme:P,statsData:z,pools:q,select:A,selectValue:$,selectList:y,label:k,labelValue:g,labelList:w,changeSort:ge,changeSortLabel:_e,reviseValue:$e,listLoading:T,languageValue:m}}});const S=e=>(ve("data-v-5e3aea76"),e=e(),me(),e),hs={class:"pools-list-container"},fs=["href"],gs={class:"search-refresh"},_s={class:"my-position position-h5"},$s=["placeholder"],ys=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),ks=[ys],ws={key:0,class:"select-item"},Is=["onClick"],bs=S(()=>s("img",{src:M,alt:""},null,-1)),Cs=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Ls=[Cs],Ss={key:0,class:"select-item"},As=["onClick"],Vs=S(()=>s("img",{src:M,alt:""},null,-1)),Bs=S(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Ts=[Bs],Rs={class:"search-tab"},Us={class:"my-position position-pc"},Ks=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Ns=[Ks],Ps={key:0,class:"select-item"},qs=["onClick"],Es=S(()=>s("img",{src:M,alt:""},null,-1)),Ds=S(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Os=[Ds],js={key:0,class:"select-item"},Fs=["onClick"],zs=S(()=>s("img",{src:M,alt:""},null,-1)),Hs=["placeholder"],Ms=S(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Zs=[Ms],Gs={class:"item item-left"},Js={class:"value"},Ws={class:"label"},Ys={class:"item item-right"},Qs={class:"value"},Xs={class:"label"},xs={key:0,class:"loading-global"},eo={key:2,class:"no-data"},so={key:0,src:Pe},oo={key:1,src:qe};function to(e,o,b,N,B,A){const $=se("mail-outlined"),y=Ke,k=se("appstore-outlined"),g=Re,w=Ue,u=ce,_=ms;return n(),a("div",hs,[s("div",{class:"pools-title",onClick:o[0]||(o[0]=t=>e.reviseValue(""))},[s("div",null,i(e.$t("common.concentratedPools")),1),s("a",{href:`${e.config.ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"position"},i(e.$t("common.ammPools")),9,fs)]),s("div",gs,[s("div",_s,[s("div",{class:"search-input",onClick:o[4]||(o[4]=t=>e.reviseValue(""))},[oe(s("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,$s),[[te,e.searchKey]]),e.searchKey?(n(),a("div",{key:0,class:"out-icon",onClick:o[2]||(o[2]=t=>e.searchKey="")})):I("",!0),s("div",{class:"search-icon",onClick:o[3]||(o[3]=t=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:o[5]||(o[5]=t=>e.reviseValue("label"))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(n(),a("svg",{"aria-hidden":"true",class:V(e.label?"show-icon icon":"icon")},ks,2)),e.label?(n(),a("div",ws,[(n(!0),a(O,null,j(e.labelList,(t,v)=>(n(),a("div",{key:v,class:"select-menu-item",onClick:h=>e.changeSortLabel(t)},i(t),9,Is))),128))])):I("",!0)]),s("div",{class:"search-select",onClick:o[6]||(o[6]=t=>e.reviseValue("select"))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[D(i(e.selectValue)+" ",1),bs]),(n(),a("svg",{"aria-hidden":"true",class:V(e.select?"show-icon icon":"icon")},Ls,2)),e.select?(n(),a("div",Ss,[(n(!0),a(O,null,j(e.selectList,(t,v)=>(n(),a("div",{key:v,class:"select-menu-item",onClick:h=>e.changeSort(t)},[D(i(t)+" ",1),Vs],8,As))),128))])):I("",!0)]),(n(),a("svg",{"aria-hidden":"true",class:V(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[7]||(o[7]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Ts,2))]),s("div",Rs,[C(g,{selectedKeys:e.current,"onUpdate:selectedKeys":o[8]||(o[8]=t=>e.current=t),mode:"horizontal"},{default:K(()=>[C(y,{key:"pools"},{icon:K(()=>[C($)]),default:K(()=>[D(" "+i(e.$t("menu.pools")),1)]),_:1}),C(y,{key:"position",onClick:e.toPositionList},{icon:K(()=>[C(k)]),default:K(()=>[D(" "+i(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Us,[s("div",{class:"search-select search-label",onClick:o[9]||(o[9]=t=>e.reviseValue("label"))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(n(),a("svg",{"aria-hidden":"true",class:V(e.label?"show-icon icon":"icon")},Ns,2)),e.label?(n(),a("div",Ps,[(n(!0),a(O,null,j(e.labelList,(t,v)=>(n(),a("div",{key:v,class:"select-menu-item",onClick:h=>e.changeSortLabel(t)},i(t),9,qs))),128))])):I("",!0)]),s("div",{class:"search-select",onClick:o[10]||(o[10]=t=>e.reviseValue("select"))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[D(i(e.selectValue)+" ",1),Es]),(n(),a("svg",{"aria-hidden":"true",class:V(e.select?"show-icon icon":"icon")},Os,2)),e.select?(n(),a("div",js,[(n(!0),a(O,null,j(e.selectList,(t,v)=>(n(),a("div",{key:v,class:"select-menu-item",onClick:h=>e.changeSort(t)},[D(i(t)+" ",1),zs],8,Fs))),128))])):I("",!0)]),s("div",{class:"search-input",onClick:o[14]||(o[14]=t=>e.reviseValue(""))},[oe(s("input",{"onUpdate:modelValue":o[11]||(o[11]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,Hs),[[te,e.searchKey]]),e.searchKey?(n(),a("div",{key:0,class:"out-icon",onClick:o[12]||(o[12]=t=>e.searchKey="")})):I("",!0),s("div",{class:"search-icon",onClick:o[13]||(o[13]=t=>e.updateLpList(e.searchKey))})]),(n(),a("svg",{"aria-hidden":"true",class:V(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[15]||(o[15]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Zs,2))])]),s("div",{class:"tvl-vol",onClick:o[16]||(o[16]=t=>e.reviseValue(""))},[s("div",Gs,[C(w,{loading:e.listLoading,active:"",paragraph:!1},{default:K(()=>[s("div",Js,"$ "+i(e.addCommom(e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",Ws,i(e.$t("common.totalValueLocked")),1)]),s("div",Ys,[C(w,{loading:e.listLoading,active:"",paragraph:!1},{default:K(()=>[s("div",Qs,"$ "+i(e.addCommom(e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",Xs,i(e.$t("common.volume24H")),1)])]),e.listLoading?(n(),a("div",xs,[C(u)])):e.list&&e.list.length>0?(n(),a("div",{key:1,class:"item-container",onClick:o[17]||(o[17]=t=>e.reviseValue(""))},[(n(!0),a(O,null,j(e.list,(t,v)=>(n(),ue(_,{key:v,"l-item":t},null,8,["l-item"]))),128))])):(n(),a("div",eo,[e.theme=="default"?(n(),a("img",so)):(n(),a("img",oo)),s("span",null,i(e.$t("common.poolsNotFound")),1)]))])}const mo=de(ps,[["render",to],["__scopeId","data-v-5e3aea76"]]);export{mo as default};
