import{_ as be}from"./apr-tips.9357cad6.js";import{a as re,r as f,ap as Ce,aq as Le,L as de,G as ue,N as Se,v as C,F as ce,s as ve,w as Z,ar as Ae,i as Ve,H as ee,as as Be,Y as M,A as te,b as me,o as l,e as i,f as s,h as L,t as a,a1 as O,a2 as j,q as B,l as V,c as se,m as U,y as D,a4 as pe,B as Te,p as he,j as fe,x as Re,J as ne,k as Ne,a0 as x,K as le,C as ae,a9 as ie,at as H,au as Ue,S as Ke,av as Pe}from"./entry.83f8d7df.js";/* empty css              */import{_ as G}from"./icon_on_2x.92294e56.js";import{p as Ee}from"./precision.1cd464a0.js";import{_ as qe,a as De}from"./img-no-Positions_2x.3a4bda32.js";import"./index.5009fcfa.js";const Oe=re({props:{lItem:{type:Object,required:!0}},setup(e){const o=f(!1),S=Ce(Le,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:K}=de(),T=ue(),A=Se(),k=C(()=>A),y=f(!1);function w(p){const d=p.balance,P=Be(d).div(Math.pow(10,p.decimals)).toString();return ee(P,p.decimals)}const $=p=>{y.value=!0,setTimeout(()=>{y.value=!1},2e3),T.push(`/deposit?tokena=${p.coinA.address}&tokenb=${p.coinB.address}&fee=${p.fee}`)},I=ce(),c=C(()=>I),g=C(()=>c.value.newTokenObj&&e.lItem.coinA.address&&c.value.newTokenObj[e.lItem.coinA.address]&&c.value.newTokenObj[e.lItem.coinA.address].logoURI),t=C(()=>c.value.newTokenObj&&e.lItem.coinB.address&&c.value.newTokenObj[e.lItem.coinB.address]&&c.value.newTokenObj[e.lItem.coinB.address].logoURI),v=f([]),m=ve(),b=C(()=>m);return Z(()=>[c.value.addressLpTokens,c.value.newTokenObj,b.value.newTopPoolsObj],([p,d,P])=>{if(!M(p)&&!M(d)&&!M(c.value.RATES)&&!M(P)){const E=e.lItem.address&&p[e.lItem.address]&&p[e.lItem.address].rewarder_infos||[],F=[];E.forEach((R,J)=>{const W=d[R.coinAddress].decimals,z=te(R.emissionsEveryDay/Math.pow(10,W),4),Y=te(Number(z)*c.value.RATES[d[R.coinAddress].name.toUpperCase()].price,4);F.push({...R,logoUrl:d[R.coinAddress].logoURI,day:z,dayUSD:Y,symbol:d[R.coinAddress].symbol,rewarders:e.lItem[`rewarders${J}`]})}),v.value=F}},{immediate:!0}),{t:K,isShow:o,indicator:S,thousands:Ae,importIcon:Ve,router:T,wallet:k,addCommom:ee,getLpView:w,toAdd:$,fromCoinUrl:g,toCoinUrl:t,addLiquidity:y,rewarderInfo:v}}});const je=e=>(he("data-v-9021c616"),e=e(),fe(),e),Fe={class:"pools-list-item"},ze=je(()=>s("div",{class:"topBg"},null,-1)),Me={class:"top"},He={class:"img-box"},Ze=["src"],Ge=["src"],Je={class:"coin-name"},We={class:"symbol-label"},Ye={class:"apr"},Qe={class:"bottom"},Xe={class:"induction"},xe={class:"item"},es={class:"induction-text"},ss={class:"induction-value"},os={class:"item"},ts={class:"induction-text"},ns={class:"induction-value"},ls={class:"item"},as={class:"induction-text"},is={class:"induction-value"},rs={key:0,class:"item rewards-item"},ds={class:"induction-text"},us={class:"induction-value induction-value-rewards"},cs={class:"rewards-hover"},vs=["src"],ms=["src"];function ps(e,o,S,K,T,A){var $,I,c,g,t,v,m,b,p;const k=be,y=pe,w=Te;return l(),i("div",Fe,[ze,s("div",Me,[s("div",He,[($=e.lItem)!=null&&$.coinA?(l(),i("img",{key:0,src:e.fromCoinUrl||e.importIcon(`/image/coins/${(I=e.lItem)==null?void 0:I.coinA.symbol.toLowerCase()}.png`)},null,8,Ze)):L("",!0),(c=e.lItem)!=null&&c.coinB?(l(),i("img",{key:1,src:e.toCoinUrl||e.importIcon(`/image/coins/${(g=e.lItem)==null?void 0:g.coinB.symbol.toLowerCase()}.png`)},null,8,Ge)):L("",!0)]),s("span",Je,a((v=(t=e.lItem)==null?void 0:t.coinA)==null?void 0:v.symbol)+" - "+a((b=(m=e.lItem)==null?void 0:m.coinB)==null?void 0:b.symbol),1),s("div",We,[(l(!0),i(O,null,j((p=e.lItem)==null?void 0:p.labels,(d,P)=>(l(),i("div",{key:P,class:B(["lable",d])},null,2))),128))]),s("div",Ye,[s("span",{onClick:o[0]||(o[0]=d=>e.isShow=!e.isShow),class:"apr-text"},a(e.lItem.is_display_rewarder?e.addCommom(e.lItem.aprTotal,2):e.addCommom(e.lItem.apr,2)),1),s("span",{onClick:o[1]||(o[1]=d=>e.isShow=!e.isShow)},a(e.$t("common.apr")),1),V(k,{class:B(e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),lItem:e.lItem,rewarderInfo:e.rewarderInfo},null,8,["class","lItem","rewarderInfo"])])]),s("div",Qe,[s("div",Xe,[s("div",xe,[s("div",es,a(e.$t("common.feeTier")),1),s("div",ss,a(e.lItem.fee*100)+"%",1)]),s("div",os,[s("div",ts,a(e.$t("common.liquidity")),1),s("div",ns,"$"+a(e.addCommom(e.lItem.liqidity,2)),1)]),s("div",ls,[s("div",as,a(e.$t("common.volume24H")),1),s("div",is,"$"+a(e.addCommom(e.lItem.vol,2)),1)]),e.lItem.is_display_rewarder&&e.rewarderInfo&&e.rewarderInfo.length>0?(l(),i("div",rs,[s("div",ds,a(e.$t("common.rewards")),1),s("div",us,[e.rewarderInfo&&e.rewarderInfo.length>0?(l(!0),i(O,{key:0},j(e.rewarderInfo,d=>(l(),i("div",{key:d,class:"rewards"},[s("div",cs,[s("img",{src:d.logoUrl,alt:""},null,8,vs),s("span",null,a(`${d.day} ${d.symbol} per day`),1)]),s("img",{src:d.logoUrl,alt:""},null,8,ms),s("span",null,a(d.symbol),1)]))),128)):e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr!=="0%"?(l(),se(y,{key:1,size:"small"})):L("",!0)]),e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr=="0%"?(l(),i("div",{key:0,class:B(["induction-value",e.lItem.rewarder_apr=="0%"?"text-default":"induction-value-rewards"])}," No rewards ",2)):L("",!0)])):L("",!0)]),V(w,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:o[2]||(o[2]=d=>e.toAdd(e.lItem))},{default:U(()=>[D(a(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const hs=me(Oe,[["render",ps],["__scopeId","data-v-9021c616"]]),fs=re({setup(){const{t:e,locale:o}=de(),S=ue(),K=f(!1),T=f(!1),A=f(!1),k=f("TVL"),y=f(["APR","VOL"]),w=f(!1),$=f(e("tab.all")),I=f([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),c=f([]),g=f(""),t=f(["pools"]),v=ce(),m=ve(),b=f(!0),p=f(""),d=C(()=>m),P=C(()=>m.theme),E=C(()=>v),F=C(()=>m.statsData),R=(n,r)=>r.liqidity-n.liqidity,J=(n,r)=>r.vol-n.vol,W=(n,r)=>r.aprNum-n.aprNum;Re(()=>{var r,h,N;const n=(N=(h=(r=S==null?void 0:S.currentRoute)==null?void 0:r.value)==null?void 0:h.query)==null?void 0:N.language;n&&Y(n),m.getStatsData(),p.value=o.value,document.addEventListener("click",()=>{X("")})});const{setLang:z}=m,Y=n=>{z(n),o.value=n},$e=(n,r)=>n&&r?Ne(Ee.plus(x(n),x(r)),2)+"%":n,oe=n=>{let r=0;return n&&n.forEach(h=>{r+=x(String(h))}),String(r)},Q=n=>{const r=[];n.forEach(q=>{const u=d.value.addressLpTokens[q.address];r.push({...q,liqidity:u?u.tvl_in_usd:"0.00000000001",vol:u?u.vol_in_usd_24h:"0",apr:u?u.apr_7day:"--",aprNum:u?u.apr_7day.substring(0,u.apr_7day.length-1):"0",rewarder_apr:oe(u&&u.rewarder_apr)+"%",aprTotal:$e(u&&u.apr_7day,u&&oe(u.rewarder_apr)),rewarders0:u&&u.rewarder_apr[0],rewarders1:u&&u.rewarder_apr[1],rewarders2:u&&u.rewarder_apr[2]})});let h=[];if(k.value=="APR"?h=r.sort(W):k.value=="VOL"?h=r.sort(J):h=r.sort(R),$.value!=e("tab.all")){const q=[];h.forEach(u=>{u.labels.indexOf($.value)!==-1&&q.push(u)}),c.value=q}else c.value=h;if(g.value){var N=new RegExp("[\\u4E00-\\u9FFF]+","g");if(N.test(g.value)){g.value="";return}const q=c.value.filter(u=>u.symbol.toLowerCase().includes(g.value.toLowerCase()));c.value=q}b.value=!1};Z(()=>[E.value.poolConfigList,g.value,k.value,$.value],([n,r])=>{(n==null?void 0:n.length)>0&&Q(n)},{immediate:!0,deep:!0});const ge=n=>{if(K.value=!0,n){Q(E.value.poolConfigList);const r=c.value.filter(h=>h.symbol.toLowerCase().includes(n.toLowerCase()));c.value=r,K.value=!1}else Q(E.value.poolConfigList)},_e=()=>{b.value=!0,T.value=!0,m.getStatsData(),v.setPoolConfigList(),setTimeout(()=>{T.value=!1},1e3)},ke=n=>{const r=[];r.push(k.value),y.value.forEach((h,N)=>{h!=n&&r.push(h)}),y.value=r,k.value=n},ye=n=>{const r=[];I.value.forEach((h,N)=>{h==n?r[N]=$.value:r[N]=h}),I.value=r,$.value=n};Z(()=>m.lang,n=>{p.value=n});const X=n=>{n=="label"?(m.setIsSelect("pools"),w.value=!w.value,A.value=!1):n=="select"?(m.setIsSelect("pools"),A.value=!A.value,w.value=!1):(A.value=!1,w.value=!1)},we=()=>{S&&S.push("/position")},Ie=C(()=>ne[d.value.chainName]);return Z(()=>d.value.isSelect,n=>{n!=="pools"&&X("")},{immediate:!0}),{lpInfo:C(()=>E.value.poolConfigList.filter(r=>r.address==ne[d.value.chainName].newPositionAddress)[0]),config:Ie,toPositionList:we,t:e,router:S,loading:K,clickRefresh:_e,refresh:T,updateLpList:ge,searchKey:g,current:t,addCommom:ee,list:c,theme:P,statsData:F,pools:E,select:A,selectValue:k,selectList:y,label:w,labelValue:$,labelList:I,changeSort:ke,changeSortLabel:ye,reviseValue:X,listLoading:b,languageValue:p}}});const _=e=>(he("data-v-1ec24b10"),e=e(),fe(),e),$s={class:"pools-list-container"},gs={class:"right-link"},_s=["href"],ks=_(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-jump"})],-1)),ys=_(()=>s("span",null," New position ",-1)),ws=_(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-add1"})],-1)),Is=[ys,ws],bs={class:"search-refresh"},Cs={class:"my-position position-h5"},Ls=["placeholder"],Ss=_(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),As=[Ss],Vs={key:0,class:"select-item"},Bs=["onClick"],Ts=_(()=>s("img",{src:G,alt:""},null,-1)),Rs=_(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Ns=[Rs],Us={key:0,class:"select-item"},Ks=["onClick"],Ps=_(()=>s("img",{src:G,alt:""},null,-1)),Es=_(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),qs=[Es],Ds={class:"search-tab"},Os={class:"my-position position-pc"},js=_(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Fs=[js],zs={key:0,class:"select-item"},Ms=["onClick"],Hs=_(()=>s("img",{src:G,alt:""},null,-1)),Zs=_(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Gs=[Zs],Js={key:0,class:"select-item"},Ws=["onClick"],Ys=_(()=>s("img",{src:G,alt:""},null,-1)),Qs=["placeholder"],Xs=_(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),xs=[Xs],eo={class:"item item-left"},so={class:"value"},oo={class:"label"},to={class:"item item-right"},no={class:"value"},lo={class:"label"},ao={key:2,class:"no-data"},io={key:0,src:qe},ro={key:1,src:De};function uo(e,o,S,K,T,A){const k=le("mail-outlined"),y=Pe,w=le("appstore-outlined"),$=Ue,I=Ke,c=pe,g=hs;return l(),i("div",$s,[s("div",{class:"pools-title",onClick:o[1]||(o[1]=t=>e.reviseValue(""))},[s("div",null,a(e.$t("common.concentratedPools")),1),s("div",gs,[s("a",{href:`${e.config.ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"ammSite"},[s("span",null,a(e.$t("common.ammPools")),1),ks],8,_s),s("div",{class:"position",onClick:o[0]||(o[0]=t=>{var v,m,b,p,d;return e.router.push(`/deposit?tokena=${((v=e.lpInfo)==null?void 0:v.coinA)&&((m=e.lpInfo)==null?void 0:m.coinA.address)}&tokenb=${((b=e.lpInfo)==null?void 0:b.coinB)&&((p=e.lpInfo)==null?void 0:p.coinB.address)}&fee=${(d=e.lpInfo)==null?void 0:d.fee}`)})},Is)])]),s("div",bs,[s("div",Cs,[s("div",{class:"search-input",onClick:o[5]||(o[5]=t=>e.reviseValue(""))},[ae(s("input",{"onUpdate:modelValue":o[2]||(o[2]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,Ls),[[ie,e.searchKey]]),e.searchKey?(l(),i("div",{key:0,class:"out-icon",onClick:o[3]||(o[3]=t=>e.searchKey="")})):L("",!0),s("div",{class:"search-icon",onClick:o[4]||(o[4]=t=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:o[6]||(o[6]=H(t=>e.reviseValue("label"),["stop"]))},[s("span",null,a(e.$t("newAdd.label")),1),s("div",null,a(e.labelValue),1),(l(),i("svg",{"aria-hidden":"true",class:B(e.label?"show-icon icon":"icon")},As,2)),e.label?(l(),i("div",Vs,[(l(!0),i(O,null,j(e.labelList,(t,v)=>(l(),i("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSortLabel(t)},a(t),9,Bs))),128))])):L("",!0)]),s("div",{class:"search-select",onClick:o[7]||(o[7]=H(t=>e.reviseValue("select"),["stop"]))},[s("span",null,a(e.$t("newAdd.sortBy")),1),s("div",null,[D(a(e.selectValue)+" ",1),Ts]),(l(),i("svg",{"aria-hidden":"true",class:B(e.select?"show-icon icon":"icon")},Ns,2)),e.select?(l(),i("div",Us,[(l(!0),i(O,null,j(e.selectList,(t,v)=>(l(),i("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSort(t)},[D(a(t)+" ",1),Ps],8,Ks))),128))])):L("",!0)]),(l(),i("svg",{"aria-hidden":"true",class:B(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[8]||(o[8]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},qs,2))]),s("div",Ds,[V($,{selectedKeys:e.current,"onUpdate:selectedKeys":o[9]||(o[9]=t=>e.current=t),mode:"horizontal"},{default:U(()=>[V(y,{key:"pools"},{icon:U(()=>[V(k)]),default:U(()=>[D(" "+a(e.$t("menu.pools")),1)]),_:1}),V(y,{key:"position",onClick:e.toPositionList},{icon:U(()=>[V(w)]),default:U(()=>[D(" "+a(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Os,[s("div",{class:"search-select search-label",onClick:o[10]||(o[10]=H(t=>e.reviseValue("label"),["stop"]))},[s("span",null,a(e.$t("newAdd.label")),1),s("div",null,a(e.labelValue),1),(l(),i("svg",{"aria-hidden":"true",class:B(e.label?"show-icon icon":"icon")},Fs,2)),e.label?(l(),i("div",zs,[(l(!0),i(O,null,j(e.labelList,(t,v)=>(l(),i("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSortLabel(t)},a(t),9,Ms))),128))])):L("",!0)]),s("div",{class:"search-select",onClick:o[11]||(o[11]=H(t=>e.reviseValue("select"),["stop"]))},[s("span",null,a(e.$t("newAdd.sortBy")),1),s("div",null,[D(a(e.selectValue)+" ",1),Hs]),(l(),i("svg",{"aria-hidden":"true",class:B(e.select?"show-icon icon":"icon")},Gs,2)),e.select?(l(),i("div",Js,[(l(!0),i(O,null,j(e.selectList,(t,v)=>(l(),i("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSort(t)},[D(a(t)+" ",1),Ys],8,Ws))),128))])):L("",!0)]),s("div",{class:"search-input",onClick:o[15]||(o[15]=t=>e.reviseValue(""))},[ae(s("input",{"onUpdate:modelValue":o[12]||(o[12]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,Qs),[[ie,e.searchKey]]),e.searchKey?(l(),i("div",{key:0,class:"out-icon",onClick:o[13]||(o[13]=t=>e.searchKey="")})):L("",!0),s("div",{class:"search-icon",onClick:o[14]||(o[14]=t=>e.updateLpList(e.searchKey))})]),(l(),i("svg",{"aria-hidden":"true",class:B(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[16]||(o[16]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},xs,2))])]),s("div",{class:"tvl-vol",onClick:o[17]||(o[17]=t=>e.reviseValue(""))},[s("div",eo,[V(I,{loading:e.listLoading,active:"",paragraph:!1},{default:U(()=>[s("div",so," $ "+a(e.addCommom(e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",oo,a(e.$t("common.totalValueLocked")),1)]),s("div",to,[V(I,{loading:e.listLoading,active:"",paragraph:!1},{default:U(()=>[s("div",no," $ "+a(e.addCommom(e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",lo,a(e.$t("common.volume24H")),1)])]),s("div",{class:"item-container",onClick:o[18]||(o[18]=t=>e.reviseValue(""))},[e.listLoading?(l(),se(c,{key:0})):e.list&&e.list.length>0?(l(!0),i(O,{key:1},j(e.list,(t,v)=>(l(),se(g,{key:v,"l-item":t},null,8,["l-item"]))),128)):(l(),i("div",ao,[e.theme=="default"?(l(),i("img",io)):(l(),i("img",ro)),s("span",null,a(e.$t("common.poolsNotFound")),1)]))])])}const _o=me(fs,[["render",uo],["__scopeId","data-v-1ec24b10"]]);export{_o as default};
