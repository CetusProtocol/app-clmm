import{_ as Qs}from"./back.b92306ad.js";import{_ as Xs}from"./apr-tips.e103f380.js";import{i as y}from"./import-icon.de3e6c66.js";import{u as Ys,b as J,c as Z,s as Zs,t as cs,f as xs}from"./pool.0ee2ab8c.js";import{a as se,m as M,b as ee,r as c,y as oe,D as _s,e as le,q as ne,o as i,f as v,h as n,i as G,j as b,v as u,z as A,F as ls,s as ns,x as k,$ as ae,t as rs,u as f,w as hs,p as re,k as te,B as ue}from"./entry.97513d1f.js";/* empty css              */import{u as de}from"./index.f0ad319f.js";import{p as ie}from"./precision.9d58cda5.js";import{_ as fs}from"./icon_on_stats.cdf13a69.js";import{_ as ks}from"./icon-Rewards.fc6a4a87.js";const ve=se({setup(){const s=Ys(),a=M(()=>s),ps=M(()=>a.value.tokensObj||{}),as=de(),I=M(()=>as),K=ee();let ts=c("big");const T=c(1),L=c(1);let H=c(!1);const Q=()=>{as.getStatsData(I.value.chainName,I.value.filterCoinsObj)};oe(()=>{as.getStatsData(I.value.chainName,I.value.filterCoinsObj);const o=document.body.clientWidth;o<750?H.value=!1:H.value=!0,window.onresize=()=>{o<750?H.value=!1:H.value=!0},H.value,es(T.value,10),os(L.value,10)});let e=c([]);const g=M(()=>I.value.topPoolsList),h=o=>(l,t)=>{let p=l[o],d=t[o];return p-d},r=o=>(l,t)=>{let p=l[o];return t[o]-p},_=c(!1),w=c(!1),$=c(!1),D=c(!1),V=c(!0),B=c(!1),E=c(!1),U=c(!1),O=c(!1),j=c(!1),m=c(!1),C=c(!1),F=c(!1),W=c(!1),q=c(!1),N=c(!0),x=c(!1),us=c("TVL"),ds=c(["Volume (24H)","Volume (7D)","APR"]),ss=c(!1),is=c("TVL"),vs=c(["Price","Volume (24H)","Price Change"]),gs=o=>{const l=g;if(o=="tvl_in_usd"?(V.value?(_.value=!_.value,l.value.sort(_.value?h(o):r(o))):l.value.sort(r(o)),w.value=!1,$.value=!1,D.value=!1,V.value=!0,B.value=!1,E.value=!1,U.value=!1):o=="vol_in_usd_24h"?(B.value?(w.value=!w.value,l.value.sort(w.value?h(o):r(o))):l.value.sort(r(o)),_.value=!1,$.value=!1,D.value=!1,V.value=!1,B.value=!0,E.value=!1,U.value=!1):o=="vol_in_usd_7_day"?(E.value?($.value=!$.value,l.value.sort($.value?h(o):r(o))):l.value.sort(r(o)),_.value=!1,w.value=!1,D.value=!1,V.value=!1,B.value=!1,E.value=!0,U.value=!1):o=="aprNum"&&(U.value?(D.value=!D.value,l.value.sort(D.value?h(o):r(o))):l.value.sort(r(o)),_.value=!1,w.value=!1,$.value=!1,V.value=!1,B.value=!1,E.value=!1,U.value=!0),l.value.length<10)e.value=l.value.slice(0,10);else{const t=T.value*10;e.value=l.value.slice(t-10,t)}},ws=o=>{const l=X;if(o=="price"?(F.value?(O.value=!O.value,l.value.sort(O.value?h(o):r(o))):l.value.sort(r(o)),j.value=!1,m.value=!1,C.value=!1,F.value=!0,W.value=!1,q.value=!1,N.value=!1):o=="vol_in_usd_24h"?(q.value?(m.value=!m.value,l.value.sort(m.value?h(o):r(o))):l.value.sort(r(o)),O.value=!1,j.value=!1,C.value=!1,F.value=!1,W.value=!1,q.value=!0,N.value=!1):o=="tvl_in_usd"?(N.value?(C.value=!C.value,l.value.sort(C.value?h(o):r(o))):l.value.sort(r(o)),O.value=!1,j.value=!1,m.value=!1,F.value=!1,W.value=!1,q.value=!1,N.value=!0):o=="priceHour"&&(W.value?(j.value=!j.value,l.value.sort(j.value?h(o):r(o))):l.value.sort(r(o)),O.value=!1,m.value=!1,C.value=!1,F.value=!1,W.value=!0,q.value=!1,N.value=!1),l.value.length<10)S.value=l.value.slice(0,10);else{const t=L.value*10;S.value=l.value.slice(t-10,t)}},Ts=o=>{o=="label"?(ss.value=!ss.value,x.value=!1):o=="select"?(x.value=!x.value,ss.value=!1):(x.value=!1,ss.value=!1)},bs=o=>{const l=[];l.push(us.value),ds.value.forEach((t,p)=>{t!=o&&l.push(t)}),ds.value=l,us.value=o,o=="TVL"?e.value.sort(r("tvl_in_usd")):o=="Volume (24H)"?e.value.sort(r("vol_in_usd_24h")):o=="Volume (7D)"?e.value.sort(r("vol_in_usd_7_day")):o=="APR"&&e.value.sort(r("aprNum"))},ys=o=>{const l=[];l.push(is.value),vs.value.forEach((t,p)=>{t!=o&&l.push(t)}),vs.value=l,is.value=o,o=="TVL"?S.value.sort(r("tvl_in_usd")):o=="Volume (24H)"?S.value.sort(r("vol_in_usd_24h")):o=="Price"?S.value.sort(r("price")):o=="Price Change"&&S.value.sort(r("priceHour"))};_s(g,()=>{H.value,es(T.value,10)});const es=(o,l)=>{T.value=o;const t=l*o-l;let p=l*o;p=p>g.value.length?g.value.length:p;const d=g.value;if(d.length>0){V.value&&!_.value?d.sort(Is):V.value&&_.value?d.sort(Cs):B.value?w.value?d.sort(As):d.sort(Ls):E.value?$.value?d.sort($s):d.sort(Hs):U.value&&(D.value?d.sort(Ds):d.sort(Ps));const Y=d.filter((z,R)=>R>=t&&R<p);e.value=Y}return d},Is=(o,l)=>l.tvl_in_usd-o.tvl_in_usd,Ls=(o,l)=>l.vol_in_usd_24h-o.vol_in_usd_24h,Hs=(o,l)=>l.vol_in_usd_7_day-o.vol_in_usd_7_day,Ps=(o,l)=>l.aprNum-o.aprNum,Cs=(o,l)=>o.tvl_in_usd-l.tvl_in_usd,As=(o,l)=>o.vol_in_usd_24h-l.vol_in_usd_24h,$s=(o,l)=>o.vol_in_usd_7_day-l.vol_in_usd_7_day,Ds=(o,l)=>o.aprNum-l.aprNum;let S=c([]);const X=M(()=>{const o=I.value.topTokensList,l=[];for(let t=0;t<o.length;t++){const p=o[t];l.push({...p,priceHour:p?Number(p.price_rate_24h.substring(0,p.price_rate_24h.length-1)):"0"})}return l});_s(X,()=>{H.value,os(L.value,10)});const os=(o,l)=>{L.value=o;const t=l*o-l;let p=l*o;p=p>X.value.length?X.value.length:p;const d=X.value;if(d.length>0){N.value&&!C.value?d.sort(Vs):N.value&&C.value?d.sort(Ns):F.value?O.value?d.sort(Ss):d.sort(Os):W.value?j.value?d.sort(Rs):d.sort(js):q.value&&(m.value?d.sort(Bs):d.sort(ms));const Y=d.filter((z,R)=>R>=t&&R<p);S.value=Y}return d},Vs=(o,l)=>l.tvl_in_usd-o.tvl_in_usd,Os=(o,l)=>l.price-o.price,js=(o,l)=>l.priceHour-o.priceHour,ms=(o,l)=>l.vol_in_usd_24h-o.vol_in_usd_24h,Ns=(o,l)=>o.tvl_in_usd-l.tvl_in_usd,Ss=(o,l)=>o.price-l.price,Rs=(o,l)=>o.priceHour-l.priceHour,Bs=(o,l)=>o.vol_in_usd_24h-l.vol_in_usd_24h,Es=o=>{const l=o.swap_account;return a.value.addressLpTokens&&a.value.addressLpTokens[l]&&a.value.addressLpTokens[l].rewarder_infos},Us=o=>{const l=o.swap_account;return a.value.addressLpTokens&&a.value.addressLpTokens[l]&&a.value.addressLpTokens[l].labels},Fs=o=>{if(!Z(o)&&!Z(a.value.addressLpTokens)&&!Z(a.value.tokensObj)){const l=a.value.addressLpTokens[o.swap_account];return l==null?void 0:l.is_display_rewarder}else return!1},Ws=o=>{if(!Z(o)&&!Z(a.value.addressLpTokens)&&!Z(a.value.tokensObj)){const l=o.swap_account,t=a.value.addressLpTokens[l];let p=(t==null?void 0:t.rewarder_infos)||[];const d=[];p.forEach((z,R)=>{d.push({...z,symbol:a.value.tokensObj[z.coinAddress].symbol,rewarderApr:o.rewarder_apr[R],logoUrl:a.value.tokensObj[z.coinAddress].logoURI,rewarder_display:t[`rewarder_display${R+1}`]})});let Y=[];return Y=d.filter(z=>z.rewarder_display),Y}},qs=(o,l)=>o&&l?Zs(ie.plus(cs(o),cs(l)),2)+"%":o,zs=o=>{let l=0;return o&&o.forEach(t=>{l+=cs(String(t))}),String(xs(String(l),2))},Ms=()=>{K&&K.push("/stats-pools")},Gs=()=>{K&&K.push("/stats-tokens")},Js=o=>{var l;return(o==null?void 0:o.logoURI)||(o==null?void 0:o.logo_url)||((l=a.value.tokensObj[o==null?void 0:o.address])==null?void 0:l.logo_url)||(I.value.theme==="default"?y("/image/coins/unknown.png"):y("/image/coins/sui-unknown.png"))},Ks=M(()=>a.value.tokensObj);return{theme:M(()=>I.value.theme),tokensObj:Ks,getCoinIcon:Js,getRewarderInfo:Es,addCommom:J,store:I,importIcon:y,topPoolsList:g,addressTokens:ps,showEcharts:ts,currentPools:T,onChangePools:es,currentTopPoolsList:e,onChangeTokens:os,currentTokens:L,currentTopTokensList:S,topTokensList:X,router:K,isPc:H,getAprTotal:qs,getRewarderApr:zs,toPoolsList:Ms,toTokensList:Gs,changePoolsList:gs,changeTokensList:ws,tvlImprint:_,volHImprint:w,volDImprint:$,aprImprint:D,tokensPriceImprint:O,tokensPriceHImprint:j,tokensVolHImprint:m,tokensTvlImprint:C,labelToken:ss,select:x,selectValue:us,selectList:ds,reviseValue:Ts,changeSort:bs,tokenValue:is,tokensList:vs,changeSortLabel:ys,tvlImprintHighlight:V,volHImprintHighlight:B,volDImprintHighlight:E,aprImprintHighlight:U,tokensPriceImprintHighlight:F,tokensPriceHImprintHighlight:W,tokensVolHImprintHighlight:q,tokensTvlImprintHighlight:N,getLabel:Us,rewardApr:Ws,getsad:Q,rewardDisplay:Fs}}});const P=s=>(re("data-v-9b20d4cc"),s=s(),te(),s),ce={class:"stats-container"},pe={class:"title"},_e={class:"top-pools-new"},he={class:"sort-by"},fe=P(()=>n("img",{src:fs,alt:""},null,-1)),ke=P(()=>n("use",{"xlink:href":"#icon-icon_on"},null,-1)),ge=[ke],we={key:0,class:"select-item"},Te=["onClick"],be=P(()=>n("img",{src:fs,alt:""},null,-1)),ye={class:"content"},Ie={class:"item"},Le=P(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),He=[Le],Pe=P(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ce=[Pe],Ae=P(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),$e=[Ae],De=P(()=>n("use",{"xlink:href":"#icon-icon_on-pool"},null,-1)),Ve=[De],Oe={class:"apr-hover-content"},je=P(()=>n("span",null,"Â ",-1)),me={class:"token"},Ne=["onerror"],Se={key:1,class:"pool-warning"},Re=["onerror"],Be={key:1,class:"pool-warning"},Ee={class:"name"},Ue={class:"token-name"},Fe={class:"fee-tier-top"},We={class:"label-all"},qe={key:0},ze={class:"tvl"},Me={class:"volume-hour"},Ge={class:"volume-day"},Je=P(()=>n("img",{src:ks,alt:""},null,-1)),Ke={key:0,class:"apr-hover-content"},Qe={class:"btn-box"},Xe={class:"top"},Ye={class:"token"},Ze=["onerror"],xe={key:1,class:"pool-warning"},so=["onerror"],eo={key:1,class:"pool-warning"},oo={class:"name"},lo={class:"token-name"},no={class:"label-all"},ao={key:0},ro={class:"fee-tier-hint"},to={class:"middle"},uo={class:"item-pools"},io={class:"item-pools"},vo={class:"item-pools"},co=P(()=>n("img",{src:ks,alt:""},null,-1)),po={key:0,class:"apr-hover-content"},_o={class:"bottom"},ho={class:"panation"};function fo(s,a,ps,as,I,K){const ts=Qs,T=Xs,L=ue,H=ae,Q=ne("image");return i(),v("div",ce,[n("div",pe,[G(ts),b(" "+u(s.$t("menu.pools")),1)]),n("div",_e,[n("div",he,[n("div",null,u(s.$t("newAdd.sortBy")),1),n("div",{class:"search-select",onClick:a[0]||(a[0]=e=>s.reviseValue("select"))},[n("div",null,[b(u(s.selectValue)+" ",1),fe]),(i(),v("svg",{"aria-hidden":"true",class:A(s.select?"show-icon icon":"icon")},ge,2)),s.select?(i(),v("div",we,[(i(!0),v(ls,null,ns(s.selectList,(e,g)=>(i(),v("div",{key:g,class:"select-menu-item",onClick:h=>s.changeSort(e)},[b(u(e)+" ",1),be],8,Te))),128))])):k("",!0)])]),n("div",ye,[n("div",Ie,[n("span",null,u(s.$t("newAdd.pool")),1),n("span",{onClick:a[1]||(a[1]=e=>s.changePoolsList("tvl_in_usd"))},[b(u(s.$t("common.tvl"))+" ",1),(i(),v("svg",{"aria-hidden":"true",class:A(["pools-icon",s.tvlImprint?s.tvlImprintHighlight?"selected highlight":"selected":s.tvlImprintHighlight?"highlight":""])},He,2))]),n("span",{onClick:a[2]||(a[2]=e=>s.changePoolsList("vol_in_usd_24h"))},[b(u(s.$t("common.volume24H"))+" ",1),(i(),v("svg",{"aria-hidden":"true",class:A(["pools-icon",s.volHImprint?s.volHImprintHighlight?"selected highlight":"selected":s.volHImprintHighlight?"highlight":""])},Ce,2))]),n("span",{onClick:a[3]||(a[3]=e=>s.changePoolsList("vol_in_usd_7_day"))},[b(u(s.$t("newAdd.volume7D"))+" ",1),(i(),v("svg",{"aria-hidden":"true",class:A(["pools-icon",s.volDImprint?s.volDImprintHighlight?"selected highlight":"selected":s.volDImprintHighlight?"highlight":""])},$e,2))]),n("span",{onClick:a[4]||(a[4]=e=>s.changePoolsList("aprNum"))},[b(" APR "),(i(),v("svg",{"aria-hidden":"true",class:A(["pools-icon",s.aprImprint?s.aprImprintHighlight?"selected highlight":"selected":s.aprImprintHighlight?"highlight":""])},Ve,2)),n("div",Oe,[G(T,{class:"noHover apr-hover-con"})])]),je]),(i(!0),v(ls,null,ns(s.currentTopPoolsList,(e,g)=>{var h,r;return i(),v("div",{key:g,class:"item pc-item"},[n("div",me,[n("div",null,[e!=null&&e.token_a_address?rs((i(),v("img",{key:0,onerror:s.theme=="default"?("importIcon"in s?s.importIcon:f(y))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(y))("/image/coins/sui-unknown.png")},null,8,Ne)),[[Q,s.getCoinIcon(e.is_forward!==!1?s.addressTokens&&s.addressTokens[e.token_a_address]:s.addressTokens&&s.addressTokens[e.token_b_address])]]):k("",!0),s.tokensObj&&s.tokensObj[e.token_a_address]&&s.tokensObj[e.token_a_address].isSelfBuilt?(i(),v("div",Se)):k("",!0)]),n("div",null,[e!=null&&e.token_b_address?rs((i(),v("img",{key:0,onerror:s.theme=="default"?("importIcon"in s?s.importIcon:f(y))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(y))("/image/coins/sui-unknown.png")},null,8,Re)),[[Q,s.getCoinIcon(e.is_forward!==!1?s.addressTokens&&s.addressTokens[e.token_b_address]:s.addressTokens&&s.addressTokens[e.token_a_address])]]):k("",!0),s.tokensObj&&s.tokensObj[e.token_b_address]&&s.tokensObj[e.token_b_address].isSelfBuilt?(i(),v("div",Be)):k("",!0)]),n("div",Ee,[n("p",Ue,u(e.token_a_reserves)+" - "+u(e.token_b_reserves),1),n("div",Fe,u((e==null?void 0:e.fee)*100)+"%",1),n("div",We,[(i(!0),v(ls,null,ns(s.getLabel(e),(_,w)=>(i(),v("div",{key:w,class:A(["label",_])},[_!=="Native"?(i(),v("span",qe,u(_),1)):k("",!0)],2))),128))])])]),n("div",ze," $"+u(e.tvl_in_usd?("addCommom"in s?s.addCommom:f(J))(e.tvl_in_usd,2):"--"),1),n("div",Me," $"+u(e!=null&&e.vol_in_usd_24h?("addCommom"in s?s.addCommom:f(J))(e==null?void 0:e.vol_in_usd_24h,2):"--"),1),n("div",Ge," $"+u(e!=null&&e.vol_in_usd_7_day?("addCommom"in s?s.addCommom:f(J))(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1),n("div",{class:A(["apr",((h=s.rewardApr(e))==null?void 0:h.length)>0&&s.rewardDisplay(e)?"apr-mark":""])},[Je,b(" "+u(s.getAprTotal(e.apr_7day,s.getRewarderApr(e.rewarder_apr)))+" ",1),((r=s.rewardApr(e))==null?void 0:r.length)!=0&&s.rewardDisplay(e)?(i(),v("div",Ke,[G(T,{class:"noHover apr-hover-con","l-item":{apr:e.apr_7day,aprTotal:s.getAprTotal(e.apr_7day,s.getRewarderApr(e.rewarder_apr)),is_display_rewarder:s.rewardDisplay(e),rewarder_apr:s.getRewarderApr(e.rewarder_apr)},"rewarder-info":s.rewardApr(e)},null,8,["l-item","rewarder-info"])])):k("",!0)],2),n("div",Qe,[G(L,{class:"cancel-btn",onClick:()=>s.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:hs(()=>[b(u(s.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128)),(i(!0),v(ls,null,ns(s.currentTopPoolsList,(e,g)=>{var h,r;return i(),v("div",{key:g,class:"item h5-item"},[n("div",Xe,[n("div",Ye,[n("div",null,[e!=null&&e.token_a_address?rs((i(),v("img",{key:0,onerror:s.theme=="default"?("importIcon"in s?s.importIcon:f(y))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(y))("/image/coins/sui-unknown.png")},null,8,Ze)),[[Q,s.getCoinIcon(e.is_forward!==!1?s.addressTokens&&s.addressTokens[e.token_a_address]:s.addressTokens&&s.addressTokens[e.token_b_address])]]):k("",!0),s.tokensObj&&s.tokensObj[e.token_a_address]&&s.tokensObj[e.token_a_address].isSelfBuilt?(i(),v("div",xe)):k("",!0)]),n("div",null,[e!=null&&e.token_b_address?rs((i(),v("img",{key:0,onerror:s.theme=="default"?("importIcon"in s?s.importIcon:f(y))("/image/coins/unknown.png"):("importIcon"in s?s.importIcon:f(y))("/image/coins/sui-unknown.png")},null,8,so)),[[Q,s.getCoinIcon(e.is_forward!==!1?s.addressTokens&&s.addressTokens[e.token_b_address]:s.addressTokens&&s.addressTokens[e.token_a_address])]]):k("",!0),s.tokensObj&&s.tokensObj[e.token_b_address]&&s.tokensObj[e.token_b_address].isSelfBuilt?(i(),v("div",eo)):k("",!0)]),n("div",oo,[n("p",lo,u(e.token_a_reserves)+" - "+u(e.token_b_reserves),1),n("div",no,[(i(!0),v(ls,null,ns(s.getLabel(e),(_,w)=>(i(),v("div",{key:w,class:A(["label",_])},[_!=="Native"?(i(),v("span",ao,u(_),1)):k("",!0)],2))),128))])])]),n("div",ro,u((e==null?void 0:e.fee)*100)+"%",1)]),n("div",to,[n("div",uo,[n("span",null,u(s.$t("common.tvl")),1),n("p",null," $"+u(e.tvl_in_usd?("addCommom"in s?s.addCommom:f(J))(e.tvl_in_usd,2):"--"),1)]),n("div",io,[n("span",null,u(s.$t("common.volume24H")),1),n("p",null," $"+u(e!=null&&e.vol_in_usd_24h?("addCommom"in s?s.addCommom:f(J))(e==null?void 0:e.vol_in_usd_24h,2):"--"),1)]),n("div",vo,[n("span",null,u(s.$t("newAdd.volume7D")),1),n("p",null," $"+u(e!=null&&e.vol_in_usd_7_day?("addCommom"in s?s.addCommom:f(J))(e==null?void 0:e.vol_in_usd_7_day,2):"--"),1)]),n("div",{class:A(["item-pools",((h=s.rewardApr(e))==null?void 0:h.length)>0&&s.rewardDisplay(e)?"":"apr-mark-h5"])},[n("span",null,u(s.$t("common.apr")),1),n("p",null,[co,b(" "+u(s.getAprTotal(e.apr_7day,s.getRewarderApr(e.rewarder_apr))),1)]),((r=s.rewardApr(e))==null?void 0:r.length)!=0&&s.rewardDisplay(e)?(i(),v("div",po,[G(T,{class:"noHover apr-hover-con","l-item":{apr:e.apr_7day,aprTotal:s.getAprTotal(e.apr_7day,s.getRewarderApr(e.rewarder_apr)),is_display_rewarder:s.rewardDisplay(e),rewarder_apr:s.getRewarderApr(e.rewarder_apr)},"rewarder-info":s.rewardApr(e)},null,8,["l-item","rewarder-info"])])):k("",!0)],2)]),n("div",_o,[G(L,{class:"cancel-btn",onClick:()=>s.router.push(`/deposit?tokena=${e==null?void 0:e.token_a_address}&tokenb=${e==null?void 0:e.token_b_address}&fee=${e==null?void 0:e.fee}`)},{default:hs(()=>[b(u(s.$t("common.deposit")),1)]),_:2},1032,["onClick"])])])}),128))]),n("div",ho,[G(H,{current:s.currentPools,"onUpdate:current":a[5]||(a[5]=e=>s.currentPools=e),"page-size":(s.isPc,10),simple:"",total:s.topPoolsList.length,onChange:s.onChangePools},null,8,["current","page-size","total","onChange"])])])])}const Ao=le(ve,[["render",fo],["__scopeId","data-v-9b20d4cc"]]);export{Ao as default};
