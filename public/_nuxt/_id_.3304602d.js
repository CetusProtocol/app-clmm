import{_ as he}from"./back.d0138d80.js";import{_ as Ie}from"./status-block.0c5f4586.js";import{a as wo,L as go,r as d,x as yo,b as $o,e as b,af as J,i as Co,C as Vo,H as R,f as So,o as p,h as m,j as e,q as k,s as I,t as i,v as G,k as K,S as zo,p as Ao,l as To,M as we,K as ge,c as Io,z as T,B as Go,G as ye,A as bo,w as X,N as $e,f4 as Ce,f6 as Se,y as Ae,f9 as D,fg as Ho,Y as Z,m as q,J as Te,W as Mo,a0 as ho,E as Re,F as Pe,a1 as Ne,a2 as Oe,a4 as Le}from"./entry.f414dbf5.js";/* empty css              */import{_ as Jo,a as Ko}from"./icon-arrow_2x.db44c7c5.js";import{_ as Ue}from"./apr-tab.9d5c56fa.js";import{_ as je}from"./apr-tips.147e00c7.js";import{p as Be}from"./precision.1cd464a0.js";import"./index.2793567e.js";const Ee=wo({props:{positionInfo:{type:Object,required:!0}},setup(o){const{t:c}=go();let P=d(!1),F=d(!0);const O=yo(),L=$o(),r=b(()=>L),f=b(()=>{var a,g,n,h,V,z,Y,U;const C=o.positionInfo.amountA*((g=r.value.RATES[(a=o.positionInfo)==null?void 0:a.token_a.address])==null?void 0:g.price),S=o.positionInfo.amountB*((h=r.value.RATES[(n=o.positionInfo)==null?void 0:n.token_b.address])==null?void 0:h.price);return((z=r.value.RATES[(V=o.positionInfo)==null?void 0:V.token_a.address])==null?void 0:z.price)&&((U=r.value.RATES[(Y=o.positionInfo)==null?void 0:Y.token_b.address])==null?void 0:U.price)?C+S:" --"}),v=b(()=>{var C,S,a,g;return((S=r.value.RATES[(C=o.positionInfo)==null?void 0:C.token_a.name.toUpperCase()])==null?void 0:S.price)&&f.value!=="--"?(o.positionInfo.amountA*((g=r.value.RATES[(a=o.positionInfo)==null?void 0:a.token_a.name.toUpperCase()])==null?void 0:g.price)/f.value*100).toFixed(0):" --"}),W=b(()=>{var C,S,a,g;return((S=r.value.RATES[(C=o.positionInfo)==null?void 0:C.token_b.name.toUpperCase()])==null?void 0:S.price)&&f.value!=="--"?(o.positionInfo.amountB*((g=r.value.RATES[(a=o.positionInfo)==null?void 0:a.token_b.name.toUpperCase()])==null?void 0:g.price)/f.value*100).toFixed(0):" --"}),H=b(()=>r.value.tokensObj&&o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.address&&r.value.tokensObj[o.positionInfo.token_a.address]&&r.value.tokensObj[o.positionInfo.token_a.address].logoURI),M=b(()=>r.value.tokensObj&&o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.address&&r.value.tokensObj[o.positionInfo.token_b.address]&&r.value.tokensObj[o.positionInfo.token_b.address].logoURI);return{fromPercent:W,toPercent:v,amountUSD:f,showNum:J,t:c,importIcon:Co,indexStore:O,rateChange:F,decimalFormat:Vo,fromCoinUrl:H,toCoinUrl:M,pools:r,addCommom:R,isPc:P}}});const De=o=>(Ao("data-v-88cde4ea"),o=o(),To(),o),qe={class:"position-card"},Fe={class:"coin-pair"},We=["src"],He=["src"],Me={class:"fee"},Ve={class:"right"},ze={key:0,class:"status"},Ge={class:"min-and-max"},Je={key:0},Ke={class:"text"},Ye={key:0,src:Jo,alt:""},Qe={key:1,src:Ko,alt:""},Xe={class:"text"},Ze={key:1},xe={class:"text"},on={key:0,src:Jo,alt:""},en={key:1,src:Ko,alt:""},nn={class:"text"},sn=De(()=>e("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),an=[sn],tn={class:"liquidity"},rn={class:"label"},ln={class:"value"},dn={class:"token-num"},un={class:"item"},cn=["src"],pn={class:"rate"},mn={class:"item"},fn=["src"],vn={class:"rate"};function _n(o,c,P,F,O,L){const r=zo,f=Ie;return p(),m("div",qe,[e("div",{class:G(["left",`position-status-${o.positionInfo&&o.positionInfo.currentStatus&&o.positionInfo.currentStatus.toLowerCase()}`])},[k(r,{class:"left-skeleton",loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:I(()=>[e("div",Fe,[e("div",null,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,We),e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,He)]),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" - "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)]),e("div",Me,i(o.$t("common.fee"))+" "+i(o.positionInfo.fee)+"%",1)]),_:1},8,["loading"])],2),e("div",Ve,[o.pools.currentPositionLoading?K("",!0):(p(),m("div",ze,[k(f,{"current-status":o.positionInfo.currentStatus||"","block-name":"detail"},null,8,["current-status"])])),k(r,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:I(()=>[e("div",Ge,[o.rateChange?(p(),m("div",Je,[e("div",Ke,i(o.addCommom(o.decimalFormat(String(o.positionInfo.minPrice),6))),1),o.indexStore.theme=="default"?(p(),m("img",Ye)):(p(),m("img",Qe)),e("div",Xe,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("\u221E")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":o.addCommom(o.decimalFormat(String(o.positionInfo.maxPrice),6)))+" "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)])):(p(),m("div",Ze,[e("div",xe,i(o.addCommom(o.decimalFormat(String(1/Number(o.positionInfo.maxPrice)),6))),1),o.indexStore.theme=="default"?(p(),m("img",on)):(p(),m("img",en)),e("div",nn,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("\u221E")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":o.addCommom(o.decimalFormat(String(1/Number(o.positionInfo.minPrice)),6),6))+" "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])),(p(),m("svg",{class:"icon-change","aria-hidden":"true",onClick:c[0]||(c[0]=v=>o.rateChange=!o.rateChange)},an))])]),_:1},8,["loading"]),e("div",tn,[k(r,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:I(()=>[e("div",rn,i(o.$t("common.liquidity")),1),e("div",ln," $"+i(o.amountUSD=="--"?"--":Number(o.amountUSD)==0?0:Number(o.amountUSD)<.01?"<0.01":o.addCommom(o.amountUSD,2)),1)]),_:1},8,["loading"])]),e("div",dn,[k(r,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:I(()=>[e("div",un,[e("div",null,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,cn),e("p",null,i(o.showNum(o.positionInfo.amountA,o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" "+i(o.positionInfo.token_a.labels&&o.positionInfo.token_a.labels[0]?`(${o.positionInfo.token_a.labels[0]})`:""),1)]),e("div",pn,i(o.addCommom(o.positionInfo.fromPercent,0))+"% ",1)]),e("div",mn,[e("div",null,[e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,fn),e("p",null,i(o.showNum(o.positionInfo.amountB,o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_b.symbol)+" "+i(o.positionInfo.token_b.labels&&o.positionInfo.token_b.labels[0]?`(${o.positionInfo.token_b.labels[0]})`:""),1)]),e("div",vn,i(o.addCommom(o.positionInfo.toPercent,0))+"%",1)])]),_:1},8,["loading"])])])])}const kn=So(Ee,[["render",_n],["__scopeId","data-v-88cde4ea"]]),bn=wo({components:{Modal:we},props:{positionInfo:{type:Object,required:!0},isLoading:{type:Boolean,required:!0}},setup(o,c){const{t:P,locale:F}=go(),O=yo(),{copy:L}=O,r=()=>{c.emit("toClaim")},f=$o(),v=b(()=>f),W=b(()=>v.value.tokensObj&&o.positionInfo.token_a.address&&v.value.tokensObj[o.positionInfo.token_a.address]&&v.value.tokensObj[o.positionInfo.token_a.address].logoURI),H=b(()=>v.value.tokensObj&&o.positionInfo.token_b.address&&v.value.tokensObj[o.positionInfo.token_b.address]&&v.value.tokensObj[o.positionInfo.token_b.address].logoURI);return{showNum:J,fromCoinUrl:W,toCoinUrl:H,toClaim:r,t:P,addCommom:R,importIcon:Co,store:O,copy:L}}});const hn=o=>(Ao("data-v-f6b71aa6"),o=o(),To(),o),In=hn(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),wn={class:"claim-container"},gn={key:0,class:"pc-claim"},yn=["src"],$n={key:1,class:"pc-claim"},Cn=["src"];function Sn(o,c,P,F,O,L){const r=Go,f=ge("Modal");return p(),Io(f,{visible:!0,class:"claim-fees",centered:"",closable:!0,title:o.$t("modal.claimFees"),width:"400px",footer:null,onCancel:c[0]||(c[0]=v=>o.$emit("onClose"))},{closeIcon:I(()=>[In]),default:I(()=>[e("div",wn,[o.positionInfo&&o.positionInfo.token_a.symbol?(p(),m("div",gn,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,yn),e("span",null,i(o.showNum(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals))+" "+i(o.positionInfo.token_a.symbol),1)])):K("",!0),o.positionInfo&&o.positionInfo.token_b.symbol?(p(),m("div",$n,[e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,Cn),e("span",null,i(o.showNum(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals))+" "+i(o.positionInfo.token_b.symbol),1)])):K("",!0)]),k(r,{class:"big-btn claim-btn",disabled:o.isLoading||o.addCommom(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals)==0&&o.addCommom(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals)==0||o.positionInfo.poolInfo.is_pause,onClick:o.toClaim},{default:I(()=>[T(i(o.$t("common.claim")),1)]),_:1},8,["disabled","onClick"])]),_:1},8,["title"])}const An=So(bn,[["render",Sn],["__scopeId","data-v-f6b71aa6"]]),Tn=wo({setup(){const o=d(!1),c=d(!1),P=d(!1),F=d(!0),O=$o(),L=d(""),r=d(""),f=d(""),v=d(7),W=d("Estimated APR"),H=d([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),M=d(!0),C=s=>{v.value=s.num},S=()=>{M.value=!M.value},a=b(()=>O),g=b(()=>{var u,l,_,w;const s=n.value.feeOwedA*((u=a.value.RATES[n.value&&n.value.token_a&&n.value.token_a.address])==null?void 0:u.price),t=n.value.feeOwedB*((l=a.value.RATES[n.value&&n.value.token_b&&n.value.token_b.address])==null?void 0:l.price);return((_=a.value.RATES[n.value&&n.value.token_a&&n.value.token_a.address])==null?void 0:_.price)&&((w=a.value.RATES[n.value&&n.value.token_b&&n.value.token_b.address])==null?void 0:w.price)?s+t:" --"}),n=d(a.value.currentPositionInfo||{}),h=ye();function V(){h.push(`/remove-liquidity?collect=${n.value.collectionName}&&token=${n.value.tokenName}&&address=${n.value.pool}`)}function z(){h.push(`/increase-liquidity?collect=${n.value.collectionName}&&token=${n.value.tokenName}&&address=${n.value.pool}`)}const Y=()=>{co(),P.value=!0,setTimeout(()=>{P.value=!1},1e3)},U=bo(),co=async()=>{a.value.setCurrentPositionLoading(!0);const s=h.currentRoute.value.query.token||"",t=h.currentRoute.value.query.collect||"";r.value=h.currentRoute.value.query.address||"",s&&t&&r.value&&(L.value=t,f.value=s,a.value.setCurrentPositionInfo(r.value,L.value,f.value))};X(()=>a.value.addressLpTokens,s=>{Z(s)||co()},{immediate:!0});const Ro=d(""),Po=d(""),No=d(""),A=yo(),Q=b(()=>A),Yo=(s,t)=>s&&t?q(Be.plus(ho(s),ho(t)),2)+"%":s,Oo=s=>{let t=0;return s&&s.forEach(u=>{t+=ho(String(u))}),String(q(String(t),2))},Lo=d(""),Uo=d("");X(()=>[Q.value.newTopPoolsObj,n.value],([s,t])=>{if(!Z(s)&&!Z(t)){const u=t.poolAddress,l=s[u];Ro.value=l&&l.apr_7day,Uo.value=Oo(l&&l.rewarder_apr),Lo.value=Yo(l&&l.apr_7day,l&&Oo(l.rewarder_apr)),Po.value=l&&q(l.tvl_in_usd,2),No.value=l&&q(l.vol_in_usd_24h,2)}},{immediate:!0,deep:!0});const Qo=$e(),x=b(()=>Qo);Ce(()=>{x.value.connected||h.push("/position")});const{t:po}=go(),{$notify:jo}=Se(),Xo=async()=>{o.value=!0,c.value=!1,A.setTransactionDesc(po("newAdd.claimWaitingText",{from:R(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${J(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`,and:R(n.value.feeOwedA,n.value.token_a.decimals)==0||R(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and",to:R(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${J(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`})),A.setIsShowWaiting(!0);let s;const t={pool:n.value.poolInfo,position:n.value},u=bo();try{const l=await u.getCollectFeeTransactionPayload(t);if(s=await x.value.currentWallet.signAndSubmitTransaction(l),s){A.setTransactionTxid(s.hash),A.setIsShowWaiting(!1),A.setIsShowSuccess(!0);const _={title:"Claim",desc:"",hash:s.hash,tit:`Claimed Fee: ${n.value.poolInfo.symbol}`,text:`Claim ${R(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${J(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`}  
              ${R(n.value.feeOwedA,n.value.token_a.decimals)==0||R(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and"} ${R(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${J(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`}
              
            `};u.showTransitionPending(_),await u.watchTransaction(_)&&setTimeout(()=>{co()},1e3)}else A.setIsShowWaiting(!1),A.setIsShowRejected(!0),jo.error({icon:D("svg",{class:{icon:!0},"aria-hidden":!0},[D("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:D("div",{class:"notification-title"},[D("span",{innerHTML:Ho.global.t("newAdd.claimFailed")},null)]),description:po("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});o.value=!1}catch{o.value=!1,A.setIsShowWaiting(!1),A.setIsShowRejected(!0),jo.error({icon:D("svg",{class:{icon:!0},"aria-hidden":!0},[D("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:D("div",{class:"notification-title"},[D("span",{innerHTML:Ho.global.t("newAdd.claimFailed")},null)]),duration:4.5,description:po("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}},mo=d(""),fo=d(""),Zo=()=>{mo.value=n.value.token_b,fo.value=n.value.token_a},Bo=async()=>{const s=a.value.addressLpTokens[h.currentRoute.value.query.address],t=await U.getTickDataByIndex(s.ticks_handle,Number(n.value.tick_lower_index)),u=await U.getTickDataByIndex(s.ticks_handle,Number(n.value.tick_upper_index)),l=await U.getPosRewardersAmount({poolAddress:h.currentRoute.value.query.address,positionName:h.currentRoute.value.query.token,tickLowerData:t,tickUpperData:u}),_=[];let w=0;l.forEach((y,j)=>{if(n.value.poolInfo[`rewarder_display${j+1}`]){const N=a.value.newTokenObj[y.coin_address].decimals,E=a.value.newTokenObj[y.coin_address],B=Number(y.amount_owed.toString())/Math.pow(10,N),ko=a.value.RATES[y.coin_address].price,ao=B*ko;w+=ao,_.push({...y,...E,amount:q(B,N),amountUSD:q(ao,2)})}}),so.value=_,vo.value=w,Eo.value=Number(q(w,2))};X(()=>a.value.currentPositionInfo,s=>{s&&(n.value=a.value.currentPositionInfo,Bo(),mo.value=a.value.currentPositionInfo.token_a,fo.value=a.value.currentPositionInfo.token_b)},{immediate:!0});const xo=b(()=>a.value.tokensObj&&n&&n.value.token_a&&n.value.token_a.address&&a.value.tokensObj[n.value.token_a.address]&&a.value.tokensObj[n.value.token_a.address].logoURI),oe=b(()=>a.value.tokensObj&&n&&n.value.token_b&&n.value.token_b.address&&a.value.tokensObj[n.value.token_b.address]&&a.value.tokensObj[n.value.token_b.address].logoURI),ee=b(()=>Q.value.chainName),ne=b(()=>Te[ee.value]),vo=d(0),so=d([]),Eo=d(0);Ae(()=>{vo.value=0,so.value=[],Eo.value=0});const{setIsShowSuccess:se,setIsShowRejected:Do,setIsShowWaiting:_o,setTransactionDesc:Ts,setTransactionTxid:ie}=A,io=d(!1),ae=async()=>{io.value=!0;const s=bo(),t=so.value;let u={coinTypeA:n.value.poolInfo.coinTypeA,coinTypeB:n.value.poolInfo.coinTypeB,coinTypeC:"",coinTypeD:"",coinTypeE:"",pool_address:n.value.poolAddress,pos_index:n.value.index,rewarder_nums:t.length};u.coinTypeC=t[0]?t[0].coin_address:"",u.coinTypeD=t[1]?t[1].coin_address:"",u.coinTypeE=t[2]?t[2].coin_address:"";try{const l=await s.getCollectRewarderTransactionPayload(u),_=await x.value.currentWallet.signAndSubmitTransaction(l);if(_&&_.hash){ie(_.hash),_o(!1),se(!0);const w=t[0].amount+t[0].symbol,y=u.coinTypeD?" and "+t[1].amount+t[1].symbol:"",j=u.coinTypeE?" and "+t[2].amount+t[2].symbol:"",N={title:"Claim",desc:"",hash:_.hash,tit:`Claimed Rewards: ${n.value.poolInfo.symbol}`,text:w+y+j};s.showTransitionPending(N),await s.watchTransaction(N)&&setTimeout(()=>{Bo(),s.getAccount(x.value.address)},1e3)}else _o(!1),Do(!0);io.value=!1}catch{io.value=!1,_o(!1),Do(!0)}},qo=d([]);X(()=>[n.value,a.value.addressLpTokens,a.value.newTokenObj,Q.value.newTopPoolsObj],([s,t,u,l])=>{if(!Z(s)&&!Z(t)&&!Z(u)){const _=s.address,w=t[_];let y=w.rewarder_infos||[];const j=l[_],N=[];y.forEach((E,B)=>{w[`rewarder_display${B+1}`]&&N.push({...E,symbol:u[E.coinAddress].symbol,rewarderApr:j.rewarder_apr[B],logoUrl:u[E.coinAddress].logoURI})}),qo.value=N}},{immediate:!0}),X(()=>[n.value,a.value.addressLpTokens],([s,t])=>{const u=s==null?void 0:s.address,l=t[u];re(l)});const te=d();X(()=>a.value.RATES,s=>{s&&(te.value=s)},{immediate:!0});const Fo=d({}),re=async s=>{const t=await U.getPool(s.address),u=n.value.tokenName,l=n.value.collectionName,_=await U.getPositionInfo(t,l,u),w=s.token_a.decimals,y=s.token_b.decimals,j=a.value.newTokenObj,N=Mo.tickIndexToPrice(_.tick_lower_index,w,y).toString(),E=Mo.tickIndexToPrice(_.tick_upper_index,w,y).toString();let B=[];B=Object.fromEntries(Q.value.addressHistTokens[s.poolAddress].data.map(Wo=>[Wo.key,Wo.value]));const ko=Number(N),ao=Number(E),le=Number(B.before_7_d_contract_price_lowest),de=Number(B.before_7_d_contract_price_highest),ue=await U.getEstPositionAPRWithMulti(ko,ao,le,de),to=Number(ue.toString()),$=Q.value.newTopPoolsObj[s.poolAddress],ce=$.apr_7day?Number($.apr_7day.substring(0,$.apr_7day.length-1)):0,pe=$.rewarder_apr[0]?Number($.rewarder_apr[0].substring(0,$.rewarder_apr[0].length-1)):0,me=$.rewarder_apr[1]?Number($.rewarder_apr[1].substring(0,$.rewarder_apr[1].length-1)):0,fe=$.rewarder_apr[2]?Number($.rewarder_apr[2].substring(0,$.rewarder_apr[2].length-1)):0,oo=Number(to*ce),ro=Number(to*pe),lo=Number(to*me),uo=Number(to*fe),eo=oo+(s.rewarder_display1?ro:0)+(s.rewarder_display2?lo:0)+(s.rewarder_display3?uo:0),ve=s.rewarder_infos[0]?j[s.rewarder_infos[0].coinAddress].symbol:"--",_e=s.rewarder_infos[1]?j[s.rewarder_infos[1].coinAddress].symbol:"--",ke=s.rewarder_infos[2]?j[s.rewarder_infos[2].coinAddress].symbol:"--",be={aprFee:oo==1/0||isNaN(oo)?0:oo,rewardAprList:[{rewarder_name:ve,rewarder_apr:ro==1/0||isNaN(ro)?0:ro,styleName:"one",rewarder_display:s.rewarder_display1},{rewarder_name:_e,rewarder_apr:lo==1/0||isNaN(lo)?0:lo,styleName:"two",rewarder_display:s.rewarder_display2},{rewarder_name:ke,rewarder_apr:uo==1/0||isNaN(uo)?0:uo,styleName:"three",rewarder_display:s.rewarder_display3}],aprPercentageTotal:eo==1/0||isNaN(eo)||eo===0?0:eo,aprPercentage:q(oo/eo,2),is_display_rewarder:s.is_display_rewarder};Fo.value=be};return{rewarderArr:qo,feeOwed:g,config:ne,showNum:J,index:Q,fromCoinUrl:xo,toCoinUrl:oe,toggle:Zo,fromCoin:mo,toCoin:fo,apr:Ro,liquidityTvl:Po,vol24:No,addCommom:R,decimalFormat:Vo,wallet:x,isLoading:o,toClaim:Xo,pools:a,positionInfo:n,importIcon:Co,router:h,toRemove:V,toIncrease:z,isShowClaim:c,direct:F,refresh:P,clickRefresh:Y,pendingRewarderArr:so,pendingRewarder:vo,toClaimRewards:ae,rewarderLoading:io,aprRewardsParameter:v,aprRewardsDateList:H,aprTab:C,reviseValue:S,label:M,aprTitle:W,aprTotal:Lo,aprPercentageObj:Fo,rewardAprList:Uo}}});const no=o=>(Ao("data-v-950a9f41"),o=o(),To(),o),Rn={key:0,class:"position-detail-container"},Pn={class:"position-detail-header"},Nn={class:"back-and-refresh"},On=no(()=>e("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Ln=[On],Un={class:"action-position"},jn={class:"coin-pair"},Bn=no(()=>e("use",{"xlink:href":"#icon-icon-copy"},null,-1)),En=[Bn],Dn=["href"],qn=no(()=>e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-icon-jump"})],-1)),Fn=[qn],Wn={class:"acton-btn-box"},Hn=no(()=>e("svg",{"aria-hidden":"true",class:"action-icon"},[e("use",{"xlink:href":"#icon-icon-Reduction"})],-1)),Mn=no(()=>e("svg",{"aria-hidden":"true",class:"action-icon"},[e("use",{"xlink:href":"#icon-icon-add"})],-1)),Vn={class:"position-content"},zn={class:"pedding-fee pedding-apr"},Gn={class:"pedding-fee"},Jn={class:"top"},Kn={class:"left"},Yn={class:"bottom"},Qn=["src"],Xn=["src"],Zn={key:0,class:"pedding-fee"},xn={class:"top"},os={class:"left"},es={class:"bottom"},ns=["src"],ss={class:"poolInfo"},is={class:"pool-info-title"},as={class:"currentPrice"},ts={key:0,class:"coin"},rs={key:1,class:"coin"},ls={class:"toggle"},ds=["src"],us=["src"],cs={key:0},ps={class:"info-block-container"},ms={class:"info-block"},fs={class:"leabl"},vs={class:"text"},_s={class:"apr-hover-content"},ks={class:"info-block"},bs={class:"leabl"},hs={class:"text"},Is={class:"info-block"},ws={class:"leabl"},gs={class:"text"},ys={class:"info-block"},$s={class:"leabl"},Cs={class:"text"},Ss={class:"loading-global"};function As(o,c,P,F,O,L){const r=he,f=Go,v=zo,W=kn,H=Ue,M=je,C=An,S=Le;return o.positionInfo?(p(),m("div",Rn,[e("div",Pn,[e("div",Nn,[k(r),(p(),m("svg",{"aria-hidden":"true",class:G(o.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:c[0]||(c[0]=(...a)=>o.clickRefresh&&o.clickRefresh(...a))},Ln,2))]),e("div",Un,[k(v,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:I(()=>[e("div",jn,[T(i(o.positionInfo.tokenName)+" ",1),(p(),m("svg",{class:"icon","aria-hidden":"true",onClick:c[1]||(c[1]=a=>o.index.copy(o.positionInfo.nftHash))},En)),e("a",{href:`https://explorer.aptoslabs.com/token/${o.positionInfo.nftHash}/0?network=${o.config.network}`,target:"_blank"},Fn,8,Dn)]),e("div",Wn,[k(f,{class:G(["remove-liquidity action-btn",o.positionInfo.poolInfo.is_pause?"text-default":""]),disabled:o.positionInfo.poolInfo.is_pause,onClick:o.toRemove},{default:I(()=>[Hn,T(" "+i(o.$t("button.remove")),1)]),_:1},8,["class","disabled","onClick"]),k(f,{class:"increase-liquidity action-btn",disabled:o.positionInfo.poolInfo.is_pause,onClick:o.toIncrease},{default:I(()=>[Mn,T(" "+i(o.$t("button.increase")),1)]),_:1},8,["disabled","onClick"])])]),_:1},8,["loading"])])]),e("div",Vn,[k(W,{"position-info":o.positionInfo},null,8,["position-info"])]),e("div",zn,[(p(),Io(H,{key:0,"apr-title":o.aprTitle,"apr-rewards-date-list":o.aprRewardsDateList,"apr-rewards-parameter":o.aprRewardsParameter,"apr-percentage-obj":o.aprPercentageObj,"name-tab":"position",onAprTab:o.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","apr-percentage-obj","onAprTab"]))]),e("div",Gn,[e("div",Jn,[e("div",Kn,[e("span",null,i(o.$t("newAdd.pendingFees")),1),e("p",null," $"+i(o.feeOwed=="--"?"--":Number(o.feeOwed)==0?0:Number(o.feeOwed)<.01?"<0.01":o.addCommom(o.feeOwed,2)),1)]),k(f,{class:"increase-liquidity action-btn",disabled:o.isLoading||!o.wallet.connected||!(Number(o.positionInfo&&o.positionInfo.feeOwedA)||Number(o.positionInfo&&o.positionInfo.feeOwedB))||o.positionInfo.poolInfo.is_pause,onClick:c[2]||(c[2]=a=>o.isShowClaim=!0)},{default:I(()=>[T(i(o.$t("common.claim")),1)]),_:1},8,["disabled"])]),k(v,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:I(()=>[e("div",Yn,[e("div",null,[e("img",{src:o.fromCoinUrl},null,8,Qn),e("p",null,i(o.showNum(o.positionInfo.feeOwedA,o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)]),e("div",null,[e("img",{src:o.toCoinUrl},null,8,Xn),e("p",null,i(o.showNum(o.positionInfo.feeOwedB,o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])])]),_:1},8,["loading"])]),o.positionInfo&&o.positionInfo.poolInfo&&o.positionInfo.poolInfo.rewarder_infos&&o.positionInfo.poolInfo.rewarder_infos.length>0&&o.positionInfo.poolInfo.is_display_rewarder&&o.pendingRewarderArr&&o.pendingRewarderArr.length>0?(p(),m("div",Zn,[e("div",xn,[e("div",os,[e("span",null,i(o.$t("newAdd.pendingRewards")),1),e("p",null," $"+i(o.pendingRewarder=="--"?"--":Number(o.pendingRewarder)==0?0:Number(o.pendingRewarder)<.01?"<0.01":o.addCommom(o.pendingRewarder,2)),1)]),k(f,{class:"increase-liquidity action-btn",disabled:o.rewarderLoading||!o.wallet.connected||o.pendingRewarder<=0||o.positionInfo.poolInfo.is_pause,loading:o.rewarderLoading,onClick:o.toClaimRewards},{default:I(()=>[T(i(o.$t("common.claim")),1)]),_:1},8,["disabled","loading","onClick"])]),k(v,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:I(()=>[e("div",es,[(p(!0),m(Ne,null,Oe(o.pendingRewarderArr,a=>(p(),m("div",{key:a,class:G(Number(a==null?void 0:a.amount)==0?"reward-none":"")},[e("img",{src:a.logoURI,alt:""},null,8,ns),e("p",null,i(Number(a.amount)),1),e("span",null,i(a.symbol),1)],2))),128))])]),_:1},8,["loading"])])):K("",!0),e("div",ss,[e("div",is,i(o.$t("newAdd.poolInfo")),1),e("div",as,[k(v,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:I(()=>{var a,g,n,h,V,z;return[o.direct?(p(),m("div",ts,[e("span",null,i(o.$t("common.currentPrice")),1),T(" "+i(o.addCommom(o.decimalFormat(o.positionInfo.currentPrice,6),6))+" "+i((a=o.toCoin)==null?void 0:a.symbol)+" per "+i((g=o.fromCoin)==null?void 0:g.symbol),1)])):(p(),m("div",rs,[e("span",null,i(o.$t("common.currentPrice")),1),T(" "+i(o.addCommom(o.decimalFormat(1/o.positionInfo.currentPrice,6),6))+" "+i((n=o.fromCoin)==null?void 0:n.symbol)+" per "+i((h=o.toCoin)==null?void 0:h.symbol),1)])),e("div",ls,[e("div",{class:G(o.direct?"item active-item":"item"),onClick:c[3]||(c[3]=Y=>o.direct=!0)},[e("img",{src:o.fromCoinUrl,alt:""},null,8,ds),T(" "+i(o.positionInfo&&o.positionInfo.token_a&&((V=o.positionInfo.token_a)==null?void 0:V.symbol)),1)],2),e("div",{class:G(o.direct?"item ":"item active-item"),onClick:c[4]||(c[4]=Y=>o.direct=!1)},[e("img",{src:o.toCoinUrl,alt:""},null,8,us),T(" "+i(o.positionInfo&&o.positionInfo.token_b&&((z=o.positionInfo.token_b)==null?void 0:z.symbol)),1)],2)])]}),_:1},8,["loading"])]),k(v,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:I(()=>[o.aprTotal&&o.liquidityTvl&&o.vol24?(p(),m("div",cs,[e("div",ps,[e("div",ms,[e("div",fs,i(o.$t("common.apr")),1),e("div",vs,[T(i(o.aprTotal?o.addCommom(o.aprTotal.substring(0,o.aprTotal.length-1),2):0)+"% ",1),e("div",_s,[k(M,{class:G(o.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),"l-item":{apr:o.apr,rewarder_apr:o.rewardAprList,aprTotal:o.aprTotal,is_display_rewarder:o.positionInfo.poolInfo.is_display_rewarder},"rewarder-info":o.rewarderArr},null,8,["class","l-item","rewarder-info"])])])]),e("div",ks,[e("div",bs,i(o.$t("common.liquidity")),1),e("div",hs,"$"+i(o.addCommom(o.liquidityTvl,2)),1)]),e("div",Is,[e("div",ws,i(o.$t("common.volume24h")),1),e("div",gs,"$"+i(o.addCommom(o.vol24,2)),1)]),e("div",ys,[e("div",$s,i(o.$t("newAdd.tickSpacing")),1),e("div",Cs,i(o.positionInfo.tickSpacing),1)])])])):K("",!0)]),_:1},8,["loading"])]),o.isShowClaim?(p(),Io(C,{key:1,"is-loading":o.isLoading,"position-info":o.positionInfo,onOnClose:c[5]||(c[5]=a=>o.isShowClaim=!1),onToClaim:o.toClaim},null,8,["is-loading","position-info","onToClaim"])):K("",!0),Re(e("div",Ss,[k(S)],512),[[Pe,o.pools.currentPositionLoading]])])):K("",!0)}const Ds=So(Tn,[["render",As],["__scopeId","data-v-950a9f41"]]);export{Ds as default};
