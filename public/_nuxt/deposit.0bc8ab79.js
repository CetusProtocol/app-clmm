import{_ as Rr}from"./back.6dd0d309.js";import{_ as Lr}from"./refresh-icon.6ac92035.js";import{_ as qr,a as Ur}from"./network-tips.3270dfe6.js";import{u as an,a as tt,c as Ot,i as Le,f as en,b as No,D as F,d as ht,e as Ve,g as et,n as go,h as Ye,t as ao,_ as dn,j as Fr,s as so,k as cn,p as Wo}from"./import-icon.9d757206.js";import{a as Qe,r as A,b as Qn,e as Or,f as x,h as Je,o as g,i as _,j as c,t as y,c as fe,k as M,l as we,p as Ut,m as Ft,w as be,u as ae,q as Jn,s as Ae,v as ue,x as pe,F as Lt,y as Mi,I as Ri,S as Li,B as Zn,z as Er,A as Br,C as Yo,D as mn,E as qi,M as Mo,G as Ui,H as Ro,J as Fi}from"./entry.94f2f2cc.js";import{_ as Dr,a as Hr}from"./coin-select.1e07434a.js";import{_ as Oi,a as Ei,b as zr}from"./add-liquidity.e748c385.js";/* empty css              */import"./decimal.c0617878.js";/* empty css              */import{_ as Vr}from"./apr-tab.bb99b060.js";import{_ as Xr}from"./apr-tips.20d65ef4.js";/* empty css              */import{p as jr}from"./precision.9d58cda5.js";import{_ as Kr}from"./status-block.014ec674.js";import{_ as Lo,a as qo}from"./icon-arrow_2x.45808d19.js";import{_ as Bi}from"./coin-pair-name.146798a1.js";import"./img-no-Positions_2x.599b642e.js";import"./index.d5c6ae26.js";const Wr=Qe({props:{poolInfo:{type:Object,default:()=>({})}},setup(e,t){const n=A(!1),o=A(null),i=A(0),r=A(20),a=an(),l=tt(),s=A(!1);Qn(()=>{e.poolInfo&&u()}),Or(()=>{clearInterval(o.value)});const u=()=>{o.value=setInterval(()=>{var k;s.value||i.value<r.value&&(i.value+=1,i.value===r.value&&((k=e==null?void 0:e.poolInfo)!=null&&k.poolAddress&&a.updateCurrentPools(e.poolInfo.poolAddress,l.chainName),i.value=0))},1e3)},f=x(()=>l.slippage);return{clickRefresh:()=>{i.value=0,t.emit("clickRefresh")},isShowSwapSetting:n,countdown:i,autoRefreshTime:r,slippage:f,clearAll:()=>{t.emit("clearAll")},checkNullObj:Ot}}});const Yr=e=>(Ut("data-v-dae358b4"),e=e(),Ft(),e),Gr={class:"title"},Qr={class:"left"},Jr=Yr(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Zr={class:"deposit-progress"};function xr(e,t,n,o,i,r){const a=Lr,l=qr;return g(),_("div",Gr,[c("div",Qr,[c("span",null,y(e.$t("common.concentratedLiquidity")),1)]),c("div",{class:we(["right title-right deposit-setting",e.poolInfo?"havePoolInfo":"noPoolInfo"])},[c("div",{class:"slippage-icon",onClick:t[0]||(t[0]=s=>e.isShowSwapSetting=!0)},[Jr,c("span",null,y(e.slippage)+"%",1)]),c("div",Zr,[e.poolInfo?(g(),fe(a,{key:0,loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])):M("",!0)])],2),e.isShowSwapSetting?(g(),fe(l,{key:0,onOnClose:t[1]||(t[1]=s=>e.isShowSwapSetting=!1)})):M("",!0)])}const ea=Je(Wr,[["render",xr],["__scopeId","data-v-dae358b4"]]);const ta=Qe({props:{coinIcon:{type:String,default:""},coin:{type:Object,default:()=>({})}},setup(e){const t=tt(),n=x(()=>t),o=A(""),i=A(""),r=A(""),a=an(),l=x(()=>a);return be(()=>[e.coin,l.value.tokensObj],([s,u])=>{var f;s?(i.value=u&&u[s.address]&&((f=u[s.address])==null?void 0:f.labels),o.value=s.name,r.value=s.symbol):(i.value="",o.value="",r.value="")},{immediate:!0,deep:!0}),{store:n,importIcon:Le,coinName:o,coinLabels:i,coinSymbol:r}}}),na=e=>(Ut("data-v-f60c233a"),e=e(),Ft(),e),oa={class:"coin-block"},ia=["src"],ra={class:"coin-info"},aa={class:"symbol"},sa={key:0,class:"name"},la=na(()=>c("div",null,[c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon_on"})])],-1));function ua(e,t,n,o,i,r){return g(),_("div",oa,[c("div",null,[c("img",{src:e.coinIcon?e.coinIcon:e.store.theme=="default"?("importIcon"in e?e.importIcon:ae(Le))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:ae(Le))("/image/coins/sui-unknown.png")},null,8,ia),c("div",ra,[c("div",aa,y(e.coinSymbol?e.coinSymbol:e.$t("modal.selectTokenModalTitle")),1),e.coinName?(g(),_("div",sa,y(e.coinName)+" "+y(e.coinLabels?`(${e.coinLabels})`:""),1)):M("",!0)])]),la])}const ca=Je(ta,[["render",ua],["__scopeId","data-v-f60c233a"]]),fa=Qe({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})}},setup(){const e=tt();return{storeIndex:x(()=>e)}}});const da={class:"unilateral"},ma={key:0,src:Oi,alt:""},pa={key:1,src:Ei,alt:""},ha={key:2};function va(e,t,n,o,i,r){return g(),_("div",da,[c("div",null,[e.storeIndex.theme=="default"?(g(),_("img",ma)):(g(),_("img",pa)),e.fromCoin&&e.toCoin&&e.poolInfo?(g(),_("p",ha,y(e.$t("tips.marketprice")),1)):M("",!0)])])}const ga=Je(fa,[["render",va],["__scopeId","data-v-d81a96c0"]]),ya=Qe({props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})},showfromCoinLock:{type:Boolean,default:!1},showtoCoinLock:{type:Boolean,default:!1}},setup(){const e=tt();return{storeIndex:x(()=>e)}}});const ba={class:"create-pool-lock"},wa={key:0,src:Oi,alt:""},ka={key:1,src:Ei,alt:""};function Ca(e,t,n,o,i,r){return g(),_("div",ba,[c("div",null,[e.storeIndex.theme=="default"?(g(),_("img",wa)):(g(),_("img",ka))])])}const _a=Je(ya,[["render",Ca],["__scopeId","data-v-5d070e17"]]),Ia=Qe({props:{minPrice:{type:String,default:""},maxPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},slippage:{type:Number,default:0},currentPrice:{type:Number,default:0},currentPriceReverse:{type:Number,default:0},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""}},setup(e){const t=A(""),n=A(""),o=tt(),i=x(()=>o),r=x(()=>i.value.chainName?No(i.value.chainName):{}),a=Jn(),l=async()=>{var H;if(!e.minPrice&&!e.maxPrice)return;const{TickUtil:d,TickMath:k,getNearestTickByTick:N}=r.value,ee=e.poolInfo.token_a.decimals,v=e.poolInfo.token_b.decimals;let I,C,b,m,w,R,J,O=1,te=1;const K=e.poolInfo.current_tick_index;let T=f.value.poolPriceConfigObj&&f.value.poolPriceConfigObj[e.poolInfo.address]&&f.value.poolPriceConfigObj[e.poolInfo.address].recommend_ranges||{};if(e.poolInfo.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&e.poolInfo.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?J=!0:J=!1,e.minPrice==="0"&&e.maxPrice==="∞"?(b=d.getMinIndex(e.poolInfo.tickSpacing),m=d.getMaxIndex(e.poolInfo.tickSpacing),k.tickIndexToSqrtPriceX64(b),k.tickIndexToSqrtPriceX64(m)):e.currentPriceTab=="custom"||(H=a==null?void 0:a.query)!=null&&H.action?(J?(I=Number(e.minPrice),C=Number(e.maxPrice)):(I=1/Number(e.maxPrice),C=1/Number(e.minPrice)),w=k.priceToTickIndex(new F(I),ee,v),R=k.priceToTickIndex(new F(C),ee,v),I==0&&(w=-443630),b=N(w,Number(e.poolInfo.tickSpacing)),m=N(R,Number(e.poolInfo.tickSpacing)),k.priceToSqrtPriceX64(new F(I),ee,v),k.priceToSqrtPriceX64(new F(C),ee,v)):(b=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].lower,m=T&&T[e.currentPriceTab]&&T[e.currentPriceTab].upper,k.tickIndexToSqrtPriceX64(b),k.tickIndexToSqrtPriceX64(m)),e.maxPrice==="∞"||K>b&&K<m){let Z;if(e.fixedFromCoin){const j=new F(1).mul(Math.pow(10,e.fromCoin.decimals)).toString();Z=new ht(j)}else{const j=new F(1).mul(Math.pow(10,e.toCoin.decimals)).toString();Z=new ht(j)}const{tokenMaxA:V,tokenMaxB:X}=await r.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:e.poolInfo.token_a,tokenB:e.poolInfo.token_b,lowerTick:b,upperTick:m,coinAmount:Z,iscoinA:J?e.fixedFromCoin:!e.fixedFromCoin,roundUp:!0,slippage:Number(e.slippage)/100,curSqrtPrice:new ht(e.poolInfo.current_sqrt_price)});J?e.fixedFromCoin?te=Number(X)>0?X:"":O=Number(V)>0?V:"":e.fixedFromCoin?te=V:O=X}else K>=m?J?(te=1,O=0):(O=1,te=0):K<=b&&(J?(te=0,O=1):(te=1,O=0));const G=O?Number(O):0,L=te?Number(te):0,W=L+Number(J?G*e.currentPrice:G*e.currentPriceReverse),ve=((J?e.currentPrice*G:e.currentPriceReverse*G)/W*100).toFixed(0),D=(L/W*100).toFixed(0);t.value=ve,n.value=D};be(()=>[e.poolInfo,e.minPrice,e.maxPrice],([d,k,N])=>{k&&N&&d&&!Ot(d)?l():(t.value="",n.value="")},{immediate:!0,deep:!0});let s={};const u=an(),f=x(()=>u);be(()=>f.value.RATES,d=>{d&&(s=d)},{immediate:!0});const h=x(()=>{const d=en(Number(e.fromCoinAmount)*Number(s&&s[e.fromCoin.address]&&s[e.fromCoin.address].price),2),k=en(Number(e.toCoinAmount)*Number(s&&s[e.toCoin.address]&&s[e.toCoin.address].price),2);return d!=="--"&&k!=="--"?Number(d)+Number(k):"--"});return{fromCoinRatio:t,toCoinRatio:n,totalAmount:h,fixD:en}}});const Pa=e=>(Ut("data-v-514d928a"),e=e(),Ft(),e),$a={class:"deposit-ratio"},Aa={class:"lebal"},Sa=Pa(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),Ta={class:"text"},Na={key:0,class:"deposit-ratio totalAmount"},Ma={class:"lebal"},Ra={class:"text"};function La(e,t,n,o,i,r){const a=Mi;return g(),_(Lt,null,[c("div",$a,[c("div",Aa,[Ae(y(e.$t("newAdd.depositRatio"))+" ",1),ue(a,{placement:"bottom","arrow-point-at-center":""},{title:pe(()=>[c("span",null,y(e.$t("newAdd.depositRatioTips")),1)]),default:pe(()=>[Sa]),_:1})]),c("div",Ta,y(e.fromCoinRatio!=="--"?e.fromCoinRatio+"%":"--")+" "+y(e.fromCoinRatio!=="--"?e.fromCoin&&e.fromCoin.symbol:"")+" / "+y(e.toCoinRatio!=="--"?e.toCoinRatio+"%":"--")+" "+y(e.toCoinRatio!=="--"?e.toCoin&&e.toCoin.symbol:""),1)]),e.fromCoinAmount&&e.toCoinAmount?(g(),_("div",Na,[c("div",Ma,y(e.$t("newAdd.totalAmount")),1),c("div",Ra,"$"+y(("fixD"in e?e.fixD:ae(en))(e.totalAmount,2)),1)])):M("",!0)],64)}const qa=Je(Ia,[["render",La],["__scopeId","data-v-514d928a"]]),Ua=Qe({props:{clickClear:{type:Boolean,default:!1},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},intPrice:{type:String,default:""}},setup(e,t){const n=A("");return{inpValue:n,changecurrentPrice:i=>{var a;const r=new RegExp(`[^\\d-]*(\\d*(?:\\.\\d{0,${(a=e.fromCoin)==null?void 0:a.decimals}})?).*$`);i.target.value=i.target.value.replace(r,"$1"),n.value=i.target.value,t.emit("changecurrentPrice",n.value)}}}});const Fa={class:"set-init-price"},Oa={class:"init-price-tips"};function Ea(e,t,n,o,i,r){var l,s,u,f;const a=Ri;return g(),_("div",Fa,[ue(a,{type:"text",placeholder:"0.0",value:e.intPrice,disabled:!((s=(l=e.$route)==null?void 0:l.query)!=null&&s.fee),onChange:e.changecurrentPrice},null,8,["value","disabled","onChange"]),c("div",Oa,y((u=e.toCoin)==null?void 0:u.symbol)+" per "+y((f=e.fromCoin)==null?void 0:f.symbol),1)])}const Ba=Je(Ua,[["render",Ea],["__scopeId","data-v-8d2ae1a1"]]),Da=-443630;function Go(e,t){const n=Ha(e),o=(n-Da)%t;return o>t/2?n-o+t:n-o}const Di=new F("1.0001");function Ha(e){return e.log(Di).toDP(0,F.ROUND_HALF_UP).toNumber()}function Qo(e){return Di.pow(e)}const za=Qe({props:{inputValue:{type:String,default:""},pType:{type:String,required:!0},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},defaultMaxPrice:{type:String,default:""},defaultMinPrice:{type:String,default:""},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},emits:["onInput"],setup(e,t){const n=A(""),o=A("");let i=A(""),r=A("");const a=Jn(),l=()=>{if(Number.isNaN(n.value)||Number(n.value)!==0&&!n.value||!e.poolInfo.tickSpacing)return;const d=Go(new F(n.value.toString()),Number(f.value.tickSpacing)),k=Qo(d+Number(f.value.tickSpacing));if(e.pType=="Min"&&Number(k.toString())>=Number(r.value.toString()))return;const N=k.toString();t.emit("onInput",N)},s=()=>{if(Number.isNaN(n.value)||!n.value||!e.poolInfo.tickSpacing)return;const d=Go(new F(n.value),Number(f.value.tickSpacing)),k=Qo(d-Number(f.value.tickSpacing)),N=k.toString();e.pType=="Max"&&Number(k)<=Number(i.value)||t.emit("onInput",N)},u=d=>{let k=d.toString().replace(/[^\d.]/g,"");const N=/^\d+(\.\d+)?$/;k.split(".").length>2&&!N.exec(k)&&(k=k.substr(0,k.length-1)),o.value=k,(Ve(k,6)>0||String(k)=="0")&&t.emit("onInput",k.toString())};be(()=>e.defaultMinPrice,(d,k)=>{d!==k&&(i.value=e.defaultMinPrice)},{immediate:!0}),be(()=>e.defaultMaxPrice,(d,k)=>{d!==k&&(r.value=e.defaultMaxPrice)},{immediate:!0}),be(()=>[e.inputValue,a.query.action],([d])=>{if(d&&d!=="0"&&d!=="∞"){n.value=d;const N=d.toString().split(".")[1];o.value=d!=="0"&&d!=="∞"&&N&&N.length>6?Ve(d.toString(),6):d.toString()}else(d=="0"||d=="∞"||a.query.action)&&(o.value=d)},{immediate:!0});const f=A({});be(()=>e.poolInfo,(d,k)=>{d&&(f.value=d)},{immediate:!0});const h=A("");return be(()=>e.currentPriceTab,d=>{h.value=d},{immediate:!0}),{addPrice:l,minusPrice:s,oValue:o,changeValue:u,isDisabled:h,route:a}}});const Va={class:"set-price-item"},Xa={class:"title"},ja={class:"input-box"},Ka={class:"minus-btn"},Wa=["disabled"],Ya={class:"plus-btn"};function Ga(e,t,n,o,i,r){const a=Ri,l=Li;return g(),_("div",Va,[c("div",Xa,y(e.pType=="Max"?e.$t("common.maxPrice"):e.pType=="Min"?e.$t("common.minPrice"):""),1),ue(l,{loading:e.loading,active:"",paragraph:!1},{default:pe(()=>[c("div",ja,[c("a",Ka,[c("div",{class:we(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"reductionDis":"reduction"),disabled:e.isDisabled!=="Custom",onClick:t[0]||(t[0]=(...s)=>e.minusPrice&&e.minusPrice(...s))},null,10,Wa)]),ue(a,{id:"pValu",value:e.oValue,"onUpdate:value":t[1]||(t[1]=s=>e.oValue=s),disabled:e.route.query.action&&!e.intPrice,autocomplete:"off",placeholder:"0",onChange:t[2]||(t[2]=s=>e.changeValue(s.target.value))},null,8,["value","disabled"]),c("a",Ya,[c("div",{class:we(!e.fromCoin&&!e.toCoin||e.poolInfo&&!e.poolInfo.tickSpacing&&!e.$route.query.action?"addDis":"add"),onClick:t[3]||(t[3]=(...s)=>e.addPrice&&e.addPrice(...s))},null,2)])])]),_:1},8,["loading"]),c("p",{class:we(["per-text",!e.toCoin&&!e.fromCoin?"per-text-disabled":""])},y(e.toCoin&&e.toCoin.symbol)+" per "+y(e.fromCoin&&e.fromCoin.symbol),3)])}const Jo=Je(za,[["render",Ga],["__scopeId","data-v-04671471"]]),Qa=Qe({props:{min:{type:String,default:""},max:{type:String,default:""},defaultMinPrice:{type:String,default:""},defaultMaxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},dirction:{type:Boolean,default:!0},invalidPriceRange:{type:Boolean,default:!1},poolInfo:{type:Object,default:()=>({})},currentPriceTab:{type:String,default:""},loading:{type:Boolean,default:!1},intPrice:{type:String,default:""}},setup(e,t){let n=A(""),o=A(""),i=A(),r=A(!1),a=A(!1);const l=A({}),s=tt(),u=x(()=>s);Qn(()=>{n.value=e.min,o.value=e.max}),be(()=>e.currentPriceTab,(v,I)=>{v!==I&&(i.value=e.currentPriceTab)},{immediate:!0}),be(()=>e.min,(v,I)=>{v!==I&&(n.value=v)}),be(()=>e.max,(v,I)=>{v!==I&&(o.value=v)}),be(()=>e.poolInfo,(v,I)=>{v&&(l.value=v)},{immediate:!0});const f=A("");be(()=>e.intPrice,v=>{f.value=v},{immediate:!0,deep:!0});const h=v=>{n.value=v,t.emit("onChangeMinPrice",v)},d=v=>{o.value=v,t.emit("onChangeMaxPrice",v)};be(r,(v,I)=>{v!==I&&t.emit("onChangeFullRange",v)});const k=()=>{n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice,a.value=!1,r.value=!1},N=()=>{a.value=!1,n.value="0",o.value="∞"};return be(r,(v,I)=>{v!==I&&t.emit("onChangeFullRange",v)}),{store:u,changeMinPrice:h,changeMaxPrice:d,importIcon:Le,resetPrice:k,changeShowUnderStand:()=>{r.value=!r.value,r.value?a.value=!0:k(),a.value||(n.value=e.defaultMinPrice,o.value=e.defaultMaxPrice)},showUnderStand:a,minPrice:n,maxPrice:o,understand:N,isRadio:r,initPirce:f}}});const Ja={class:"set-price"},Za={class:"card-container"},xa={key:0,class:"card"},es=["src"],ts={key:1,class:"understand"},ns={class:"left"},os={class:"right"};function is(e,t,n,o,i,r){const a=Jo,l=Jo,s=Zn;return g(),_("div",Ja,[c("div",Za,[e.showUnderStand?(g(),_("div",ts,[c("div",ns,[c("p",null,y(e.$t("common.lowerEfficiency")),1),c("p",null,y(e.$t("common.lowerEfficiencyTips")),1)]),c("div",os,[ue(s,{onClick:e.understand},{default:pe(()=>[Ae(y(e.$t("common.understand")),1)]),_:1},8,["onClick"])])])):(g(),_("div",xa,[ue(a,{value:e.minPrice,"onUpdate:value":t[0]||(t[0]=u=>e.minPrice=u),"input-value":e.minPrice,"p-type":"Min","default-max-price":e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"current-price-tab":e.currentPriceTab,"int-price":e.initPirce,onOnInput:e.changeMinPrice,onAddValue:e.changeMinPrice,onDelValue:e.changeMinPrice},null,8,["value","input-value","default-max-price","from-coin","to-coin","dirction","pool-info","loading","current-price-tab","int-price","onOnInput","onAddValue","onDelValue"]),ue(l,{value:e.maxPrice,"onUpdate:value":t[1]||(t[1]=u=>e.maxPrice=u),"input-value":e.maxPrice,"p-type":"Max","default-min-price":e.minPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,dirction:e.dirction,"pool-info":e.poolInfo,loading:e.loading,"int-price":e.initPirce,"current-price-tab":e.currentPriceTab,onOnInput:e.changeMaxPrice,onAddValue:e.changeMaxPrice,onDelValue:e.changeMaxPrice},null,8,["value","input-value","default-min-price","from-coin","to-coin","dirction","pool-info","loading","int-price","current-price-tab","onOnInput","onAddValue","onDelValue"]),c("img",{src:("importIcon"in e?e.importIcon:ae(Le))("/image/lmg-line@2x.png"),alt:""},null,8,es)]))])])}const rs=Je(Qa,[["render",is],["__scopeId","data-v-01a6f14e"]]);function qn(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function as(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Hi(e){let t,n,o;e.length!==2?(t=qn,n=(l,s)=>qn(e(l),s),o=(l,s)=>e(l)-s):(t=e===qn||e===as?e:ss,n=e,o=e);function i(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(l[h],s)<0?u=h+1:f=h}while(u<f)}return u}function r(l,s,u=0,f=l.length){if(u<f){if(t(s,s)!==0)return f;do{const h=u+f>>>1;n(l[h],s)<=0?u=h+1:f=h}while(u<f)}return u}function a(l,s,u=0,f=l.length){const h=i(l,s,u,f-1);return h>u&&o(l[h-1],s)>-o(l[h],s)?h-1:h}return{left:i,center:a,right:r}}function ss(){return 0}function ls(e){return e===null?NaN:+e}const us=Hi(qn),cs=us.right;Hi(ls).center;const fs=cs;class Zo extends Map{constructor(t,n=ps){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[o,i]of t)this.set(o,i)}get(t){return super.get(xo(this,t))}has(t){return super.has(xo(this,t))}set(t,n){return super.set(ds(this,t),n)}delete(t){return super.delete(ms(this,t))}}function xo({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):n}function ds({_intern:e,_key:t},n){const o=t(n);return e.has(o)?e.get(o):(e.set(o,n),n)}function ms({_intern:e,_key:t},n){const o=t(n);return e.has(o)&&(n=e.get(o),e.delete(o)),n}function ps(e){return e!==null&&typeof e=="object"?e.valueOf():e}const hs=Math.sqrt(50),vs=Math.sqrt(10),gs=Math.sqrt(2);function Bn(e,t,n){const o=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(o)),r=o/Math.pow(10,i),a=r>=hs?10:r>=vs?5:r>=gs?2:1;let l,s,u;return i<0?(u=Math.pow(10,-i)/a,l=Math.round(e*u),s=Math.round(t*u),l/u<e&&++l,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*a,l=Math.round(e/u),s=Math.round(t/u),l*u<e&&++l,s*u>t&&--s),s<l&&.5<=n&&n<2?Bn(e,t,n*2):[l,s,u]}function ys(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const o=t<e,[i,r,a]=o?Bn(t,e,n):Bn(e,t,n);if(!(r>=i))return[];const l=r-i+1,s=new Array(l);if(o)if(a<0)for(let u=0;u<l;++u)s[u]=(r-u)/-a;else for(let u=0;u<l;++u)s[u]=(r-u)*a;else if(a<0)for(let u=0;u<l;++u)s[u]=(i+u)/-a;else for(let u=0;u<l;++u)s[u]=(i+u)*a;return s}function yo(e,t,n){return t=+t,e=+e,n=+n,Bn(e,t,n)[2]}function bs(e,t,n){t=+t,e=+e,n=+n;const o=t<e,i=o?yo(t,e,n):yo(e,t,n);return(o?-1:1)*(i<0?1/-i:i)}function ws(e,t){let n;if(t===void 0)for(const o of e)o!=null&&(n<o||n===void 0&&o>=o)&&(n=o);else{let o=-1;for(let i of e)(i=t(i,++o,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ks(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var o=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,r=new Array(i);++o<i;)r[o]=e+o*n;return r}var Cs={value:()=>{}};function Uo(){for(var e=0,t=arguments.length,n={},o;e<t;++e){if(!(o=arguments[e]+"")||o in n||/[\s.]/.test(o))throw new Error("illegal type: "+o);n[o]=[]}return new Un(n)}function Un(e){this._=e}function _s(e,t){return e.trim().split(/^|\s+/).map(function(n){var o="",i=n.indexOf(".");if(i>=0&&(o=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:o}})}Un.prototype=Uo.prototype={constructor:Un,on:function(e,t){var n=this._,o=_s(e+"",n),i,r=-1,a=o.length;if(arguments.length<2){for(;++r<a;)if((i=(e=o[r]).type)&&(i=Is(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++r<a;)if(i=(e=o[r]).type)n[i]=ei(n[i],e.name,t);else if(t==null)for(i in n)n[i]=ei(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new Un(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),o=0,i,r;o<i;++o)n[o]=arguments[o+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(r=this._[e],o=0,i=r.length;o<i;++o)r[o].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var o=this._[e],i=0,r=o.length;i<r;++i)o[i].value.apply(t,n)}};function Is(e,t){for(var n=0,o=e.length,i;n<o;++n)if((i=e[n]).name===t)return i.value}function ei(e,t,n){for(var o=0,i=e.length;o<i;++o)if(e[o].name===t){e[o]=Cs,e=e.slice(0,o).concat(e.slice(o+1));break}return n!=null&&e.push({name:t,value:n}),e}var bo="http://www.w3.org/1999/xhtml";const ti={svg:"http://www.w3.org/2000/svg",xhtml:bo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function xn(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),ti.hasOwnProperty(t)?{space:ti[t],local:e}:e}function Ps(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===bo&&t.documentElement.namespaceURI===bo?t.createElement(e):t.createElementNS(n,e)}}function $s(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function zi(e){var t=xn(e);return(t.local?$s:Ps)(t)}function As(){}function Fo(e){return e==null?As:function(){return this.querySelector(e)}}function Ss(e){typeof e!="function"&&(e=Fo(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=new Array(a),s,u,f=0;f<a;++f)(s=r[f])&&(u=e.call(s,s.__data__,f,r))&&("__data__"in s&&(u.__data__=s.__data__),l[f]=u);return new nt(o,this._parents)}function Ts(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Ns(){return[]}function Vi(e){return e==null?Ns:function(){return this.querySelectorAll(e)}}function Ms(e){return function(){return Ts(e.apply(this,arguments))}}function Rs(e){typeof e=="function"?e=Ms(e):e=Vi(e);for(var t=this._groups,n=t.length,o=[],i=[],r=0;r<n;++r)for(var a=t[r],l=a.length,s,u=0;u<l;++u)(s=a[u])&&(o.push(e.call(s,s.__data__,u,a)),i.push(s));return new nt(o,i)}function Xi(e){return function(){return this.matches(e)}}function ji(e){return function(t){return t.matches(e)}}var Ls=Array.prototype.find;function qs(e){return function(){return Ls.call(this.children,e)}}function Us(){return this.firstElementChild}function Fs(e){return this.select(e==null?Us:qs(typeof e=="function"?e:ji(e)))}var Os=Array.prototype.filter;function Es(){return Array.from(this.children)}function Bs(e){return function(){return Os.call(this.children,e)}}function Ds(e){return this.selectAll(e==null?Es:Bs(typeof e=="function"?e:ji(e)))}function Hs(e){typeof e!="function"&&(e=Xi(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=[],s,u=0;u<a;++u)(s=r[u])&&e.call(s,s.__data__,u,r)&&l.push(s);return new nt(o,this._parents)}function Ki(e){return new Array(e.length)}function zs(){return new nt(this._enter||this._groups.map(Ki),this._parents)}function Dn(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Dn.prototype={constructor:Dn,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Vs(e){return function(){return e}}function Xs(e,t,n,o,i,r){for(var a=0,l,s=t.length,u=r.length;a<u;++a)(l=t[a])?(l.__data__=r[a],o[a]=l):n[a]=new Dn(e,r[a]);for(;a<s;++a)(l=t[a])&&(i[a]=l)}function js(e,t,n,o,i,r,a){var l,s,u=new Map,f=t.length,h=r.length,d=new Array(f),k;for(l=0;l<f;++l)(s=t[l])&&(d[l]=k=a.call(s,s.__data__,l,t)+"",u.has(k)?i[l]=s:u.set(k,s));for(l=0;l<h;++l)k=a.call(e,r[l],l,r)+"",(s=u.get(k))?(o[l]=s,s.__data__=r[l],u.delete(k)):n[l]=new Dn(e,r[l]);for(l=0;l<f;++l)(s=t[l])&&u.get(d[l])===s&&(i[l]=s)}function Ks(e){return e.__data__}function Ws(e,t){if(!arguments.length)return Array.from(this,Ks);var n=t?js:Xs,o=this._parents,i=this._groups;typeof e!="function"&&(e=Vs(e));for(var r=i.length,a=new Array(r),l=new Array(r),s=new Array(r),u=0;u<r;++u){var f=o[u],h=i[u],d=h.length,k=Ys(e.call(f,f&&f.__data__,u,o)),N=k.length,ee=l[u]=new Array(N),v=a[u]=new Array(N),I=s[u]=new Array(d);n(f,h,ee,v,I,k,t);for(var C=0,b=0,m,w;C<N;++C)if(m=ee[C]){for(C>=b&&(b=C+1);!(w=v[b])&&++b<N;);m._next=w||null}}return a=new nt(a,o),a._enter=l,a._exit=s,a}function Ys(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Gs(){return new nt(this._exit||this._groups.map(Ki),this._parents)}function Qs(e,t,n){var o=this.enter(),i=this,r=this.exit();return typeof e=="function"?(o=e(o),o&&(o=o.selection())):o=o.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?r.remove():n(r),o&&i?o.merge(i).order():i}function Js(e){for(var t=e.selection?e.selection():e,n=this._groups,o=t._groups,i=n.length,r=o.length,a=Math.min(i,r),l=new Array(i),s=0;s<a;++s)for(var u=n[s],f=o[s],h=u.length,d=l[s]=new Array(h),k,N=0;N<h;++N)(k=u[N]||f[N])&&(d[N]=k);for(;s<i;++s)l[s]=n[s];return new nt(l,this._parents)}function Zs(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var o=e[t],i=o.length-1,r=o[i],a;--i>=0;)(a=o[i])&&(r&&a.compareDocumentPosition(r)^4&&r.parentNode.insertBefore(a,r),r=a);return this}function xs(e){e||(e=el);function t(h,d){return h&&d?e(h.__data__,d.__data__):!h-!d}for(var n=this._groups,o=n.length,i=new Array(o),r=0;r<o;++r){for(var a=n[r],l=a.length,s=i[r]=new Array(l),u,f=0;f<l;++f)(u=a[f])&&(s[f]=u);s.sort(t)}return new nt(i,this._parents).order()}function el(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function tl(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function nl(){return Array.from(this)}function ol(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length;i<r;++i){var a=o[i];if(a)return a}return null}function il(){let e=0;for(const t of this)++e;return e}function rl(){return!this.node()}function al(e){for(var t=this._groups,n=0,o=t.length;n<o;++n)for(var i=t[n],r=0,a=i.length,l;r<a;++r)(l=i[r])&&e.call(l,l.__data__,r,i);return this}function sl(e){return function(){this.removeAttribute(e)}}function ll(e){return function(){this.removeAttributeNS(e.space,e.local)}}function ul(e,t){return function(){this.setAttribute(e,t)}}function cl(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function fl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function dl(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function ml(e,t){var n=xn(e);if(arguments.length<2){var o=this.node();return n.local?o.getAttributeNS(n.space,n.local):o.getAttribute(n)}return this.each((t==null?n.local?ll:sl:typeof t=="function"?n.local?dl:fl:n.local?cl:ul)(n,t))}function Wi(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function pl(e){return function(){this.style.removeProperty(e)}}function hl(e,t,n){return function(){this.style.setProperty(e,t,n)}}function vl(e,t,n){return function(){var o=t.apply(this,arguments);o==null?this.style.removeProperty(e):this.style.setProperty(e,o,n)}}function gl(e,t,n){return arguments.length>1?this.each((t==null?pl:typeof t=="function"?vl:hl)(e,t,n??"")):nn(this.node(),e)}function nn(e,t){return e.style.getPropertyValue(t)||Wi(e).getComputedStyle(e,null).getPropertyValue(t)}function yl(e){return function(){delete this[e]}}function bl(e,t){return function(){this[e]=t}}function wl(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function kl(e,t){return arguments.length>1?this.each((t==null?yl:typeof t=="function"?wl:bl)(e,t)):this.node()[e]}function Yi(e){return e.trim().split(/^|\s+/)}function Oo(e){return e.classList||new Gi(e)}function Gi(e){this._node=e,this._names=Yi(e.getAttribute("class")||"")}Gi.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Qi(e,t){for(var n=Oo(e),o=-1,i=t.length;++o<i;)n.add(t[o])}function Ji(e,t){for(var n=Oo(e),o=-1,i=t.length;++o<i;)n.remove(t[o])}function Cl(e){return function(){Qi(this,e)}}function _l(e){return function(){Ji(this,e)}}function Il(e,t){return function(){(t.apply(this,arguments)?Qi:Ji)(this,e)}}function Pl(e,t){var n=Yi(e+"");if(arguments.length<2){for(var o=Oo(this.node()),i=-1,r=n.length;++i<r;)if(!o.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Il:t?Cl:_l)(n,t))}function $l(){this.textContent=""}function Al(e){return function(){this.textContent=e}}function Sl(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Tl(e){return arguments.length?this.each(e==null?$l:(typeof e=="function"?Sl:Al)(e)):this.node().textContent}function Nl(){this.innerHTML=""}function Ml(e){return function(){this.innerHTML=e}}function Rl(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ll(e){return arguments.length?this.each(e==null?Nl:(typeof e=="function"?Rl:Ml)(e)):this.node().innerHTML}function ql(){this.nextSibling&&this.parentNode.appendChild(this)}function Ul(){return this.each(ql)}function Fl(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Ol(){return this.each(Fl)}function El(e){var t=typeof e=="function"?e:zi(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Bl(){return null}function Dl(e,t){var n=typeof e=="function"?e:zi(e),o=t==null?Bl:typeof t=="function"?t:Fo(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),o.apply(this,arguments)||null)})}function Hl(){var e=this.parentNode;e&&e.removeChild(this)}function zl(){return this.each(Hl)}function Vl(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Xl(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jl(e){return this.select(e?Xl:Vl)}function Kl(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Wl(e){return function(t){e.call(this,t,this.__data__)}}function Yl(e){return e.trim().split(/^|\s+/).map(function(t){var n="",o=t.indexOf(".");return o>=0&&(n=t.slice(o+1),t=t.slice(0,o)),{type:t,name:n}})}function Gl(e){return function(){var t=this.__on;if(t){for(var n=0,o=-1,i=t.length,r;n<i;++n)r=t[n],(!e.type||r.type===e.type)&&r.name===e.name?this.removeEventListener(r.type,r.listener,r.options):t[++o]=r;++o?t.length=o:delete this.__on}}}function Ql(e,t,n){return function(){var o=this.__on,i,r=Wl(t);if(o){for(var a=0,l=o.length;a<l;++a)if((i=o[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=r,i.options=n),i.value=t;return}}this.addEventListener(e.type,r,n),i={type:e.type,name:e.name,value:t,listener:r,options:n},o?o.push(i):this.__on=[i]}}function Jl(e,t,n){var o=Yl(e+""),i,r=o.length,a;if(arguments.length<2){var l=this.node().__on;if(l){for(var s=0,u=l.length,f;s<u;++s)for(i=0,f=l[s];i<r;++i)if((a=o[i]).type===f.type&&a.name===f.name)return f.value}return}for(l=t?Ql:Gl,i=0;i<r;++i)this.each(l(o[i],t,n));return this}function Zi(e,t,n){var o=Wi(e),i=o.CustomEvent;typeof i=="function"?i=new i(t,n):(i=o.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Zl(e,t){return function(){return Zi(this,e,t)}}function xl(e,t){return function(){return Zi(this,e,t.apply(this,arguments))}}function eu(e,t){return this.each((typeof t=="function"?xl:Zl)(e,t))}function*tu(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var o=e[t],i=0,r=o.length,a;i<r;++i)(a=o[i])&&(yield a)}var xi=[null];function nt(e,t){this._groups=e,this._parents=t}function wn(){return new nt([[document.documentElement]],xi)}function nu(){return this}nt.prototype=wn.prototype={constructor:nt,select:Ss,selectAll:Rs,selectChild:Fs,selectChildren:Ds,filter:Hs,data:Ws,enter:zs,exit:Gs,join:Qs,merge:Js,selection:nu,order:Zs,sort:xs,call:tl,nodes:nl,node:ol,size:il,empty:rl,each:al,attr:ml,style:gl,property:kl,classed:Pl,text:Tl,html:Ll,raise:Ul,lower:Ol,append:El,insert:Dl,remove:zl,clone:jl,datum:Kl,on:Jl,dispatch:eu,[Symbol.iterator]:tu};function gt(e){return typeof e=="string"?new nt([[document.querySelector(e)]],[document.documentElement]):new nt([[e]],xi)}function ou(e){let t;for(;t=e.sourceEvent;)e=t;return e}function ni(e,t){if(e=ou(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var o=n.createSVGPoint();return o.x=e.clientX,o.y=e.clientY,o=o.matrixTransform(t.getScreenCTM().inverse()),[o.x,o.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}const wo={capture:!0,passive:!1};function ko(e){e.preventDefault(),e.stopImmediatePropagation()}function iu(e){var t=e.document.documentElement,n=gt(e).on("dragstart.drag",ko,wo);"onselectstart"in t?n.on("selectstart.drag",ko,wo):(t.__noselect=t.style.MozUserSelect,t.style.MozUserSelect="none")}function ru(e,t){var n=e.document.documentElement,o=gt(e).on("dragstart.drag",null);t&&(o.on("click.drag",ko,wo),setTimeout(function(){o.on("click.drag",null)},0)),"onselectstart"in n?o.on("selectstart.drag",null):(n.style.MozUserSelect=n.__noselect,delete n.__noselect)}function Eo(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function er(e,t){var n=Object.create(e.prototype);for(var o in t)n[o]=t[o];return n}function kn(){}var gn=.7,Hn=1/gn,tn="\\s*([+-]?\\d+)\\s*",yn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",It="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",au=/^#([0-9a-f]{3,8})$/,su=new RegExp(`^rgb\\(${tn},${tn},${tn}\\)$`),lu=new RegExp(`^rgb\\(${It},${It},${It}\\)$`),uu=new RegExp(`^rgba\\(${tn},${tn},${tn},${yn}\\)$`),cu=new RegExp(`^rgba\\(${It},${It},${It},${yn}\\)$`),fu=new RegExp(`^hsl\\(${yn},${It},${It}\\)$`),du=new RegExp(`^hsla\\(${yn},${It},${It},${yn}\\)$`),oi={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Eo(kn,Xt,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ii,formatHex:ii,formatHex8:mu,formatHsl:pu,formatRgb:ri,toString:ri});function ii(){return this.rgb().formatHex()}function mu(){return this.rgb().formatHex8()}function pu(){return tr(this).formatHsl()}function ri(){return this.rgb().formatRgb()}function Xt(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=au.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?ai(t):n===3?new Ge(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Nn(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Nn(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=su.exec(e))?new Ge(t[1],t[2],t[3],1):(t=lu.exec(e))?new Ge(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=uu.exec(e))?Nn(t[1],t[2],t[3],t[4]):(t=cu.exec(e))?Nn(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=fu.exec(e))?ui(t[1],t[2]/100,t[3]/100,1):(t=du.exec(e))?ui(t[1],t[2]/100,t[3]/100,t[4]):oi.hasOwnProperty(e)?ai(oi[e]):e==="transparent"?new Ge(NaN,NaN,NaN,0):null}function ai(e){return new Ge(e>>16&255,e>>8&255,e&255,1)}function Nn(e,t,n,o){return o<=0&&(e=t=n=NaN),new Ge(e,t,n,o)}function hu(e){return e instanceof kn||(e=Xt(e)),e?(e=e.rgb(),new Ge(e.r,e.g,e.b,e.opacity)):new Ge}function Co(e,t,n,o){return arguments.length===1?hu(e):new Ge(e,t,n,o??1)}function Ge(e,t,n,o){this.r=+e,this.g=+t,this.b=+n,this.opacity=+o}Eo(Ge,Co,er(kn,{brighter(e){return e=e==null?Hn:Math.pow(Hn,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?gn:Math.pow(gn,e),new Ge(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ge(Vt(this.r),Vt(this.g),Vt(this.b),zn(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:si,formatHex:si,formatHex8:vu,formatRgb:li,toString:li}));function si(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}`}function vu(){return`#${zt(this.r)}${zt(this.g)}${zt(this.b)}${zt((isNaN(this.opacity)?1:this.opacity)*255)}`}function li(){const e=zn(this.opacity);return`${e===1?"rgb(":"rgba("}${Vt(this.r)}, ${Vt(this.g)}, ${Vt(this.b)}${e===1?")":`, ${e})`}`}function zn(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Vt(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function zt(e){return e=Vt(e),(e<16?"0":"")+e.toString(16)}function ui(e,t,n,o){return o<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new yt(e,t,n,o)}function tr(e){if(e instanceof yt)return new yt(e.h,e.s,e.l,e.opacity);if(e instanceof kn||(e=Xt(e)),!e)return new yt;if(e instanceof yt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,o=e.b/255,i=Math.min(t,n,o),r=Math.max(t,n,o),a=NaN,l=r-i,s=(r+i)/2;return l?(t===r?a=(n-o)/l+(n<o)*6:n===r?a=(o-t)/l+2:a=(t-n)/l+4,l/=s<.5?r+i:2-r-i,a*=60):l=s>0&&s<1?0:a,new yt(a,l,s,e.opacity)}function gu(e,t,n,o){return arguments.length===1?tr(e):new yt(e,t,n,o??1)}function yt(e,t,n,o){this.h=+e,this.s=+t,this.l=+n,this.opacity=+o}Eo(yt,gu,er(kn,{brighter(e){return e=e==null?Hn:Math.pow(Hn,e),new yt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?gn:Math.pow(gn,e),new yt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,o=n+(n<.5?n:1-n)*t,i=2*n-o;return new Ge(lo(e>=240?e-240:e+120,i,o),lo(e,i,o),lo(e<120?e+240:e-120,i,o),this.opacity)},clamp(){return new yt(ci(this.h),Mn(this.s),Mn(this.l),zn(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=zn(this.opacity);return`${e===1?"hsl(":"hsla("}${ci(this.h)}, ${Mn(this.s)*100}%, ${Mn(this.l)*100}%${e===1?")":`, ${e})`}`}}));function ci(e){return e=(e||0)%360,e<0?e+360:e}function Mn(e){return Math.max(0,Math.min(1,e||0))}function lo(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Bo=e=>()=>e;function yu(e,t){return function(n){return e+n*t}}function bu(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(o){return Math.pow(e+o*t,n)}}function wu(e){return(e=+e)==1?nr:function(t,n){return n-t?bu(t,n,e):Bo(isNaN(t)?n:t)}}function nr(e,t){var n=t-e;return n?yu(e,n):Bo(isNaN(e)?t:e)}const Vn=function e(t){var n=wu(t);function o(i,r){var a=n((i=Co(i)).r,(r=Co(r)).r),l=n(i.g,r.g),s=n(i.b,r.b),u=nr(i.opacity,r.opacity);return function(f){return i.r=a(f),i.g=l(f),i.b=s(f),i.opacity=u(f),i+""}}return o.gamma=e,o}(1);function ku(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,o=t.slice(),i;return function(r){for(i=0;i<n;++i)o[i]=e[i]*(1-r)+t[i]*r;return o}}function Cu(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function _u(e,t){var n=t?t.length:0,o=e?Math.min(n,e.length):0,i=new Array(o),r=new Array(n),a;for(a=0;a<o;++a)i[a]=eo(e[a],t[a]);for(;a<n;++a)r[a]=t[a];return function(l){for(a=0;a<o;++a)r[a]=i[a](l);return r}}function Iu(e,t){var n=new Date;return e=+e,t=+t,function(o){return n.setTime(e*(1-o)+t*o),n}}function vt(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function Pu(e,t){var n={},o={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=eo(e[i],t[i]):o[i]=t[i];return function(r){for(i in n)o[i]=n[i](r);return o}}var _o=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uo=new RegExp(_o.source,"g");function $u(e){return function(){return e}}function Au(e){return function(t){return e(t)+""}}function or(e,t){var n=_o.lastIndex=uo.lastIndex=0,o,i,r,a=-1,l=[],s=[];for(e=e+"",t=t+"";(o=_o.exec(e))&&(i=uo.exec(t));)(r=i.index)>n&&(r=t.slice(n,r),l[a]?l[a]+=r:l[++a]=r),(o=o[0])===(i=i[0])?l[a]?l[a]+=i:l[++a]=i:(l[++a]=null,s.push({i:a,x:vt(o,i)})),n=uo.lastIndex;return n<t.length&&(r=t.slice(n),l[a]?l[a]+=r:l[++a]=r),l.length<2?s[0]?Au(s[0].x):$u(t):(t=s.length,function(u){for(var f=0,h;f<t;++f)l[(h=s[f]).i]=h.x(u);return l.join("")})}function eo(e,t){var n=typeof t,o;return t==null||n==="boolean"?Bo(t):(n==="number"?vt:n==="string"?(o=Xt(t))?(t=o,Vn):or:t instanceof Xt?Vn:t instanceof Date?Iu:Cu(t)?ku:Array.isArray(t)?_u:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?Pu:vt)(e,t)}function Su(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var fi=180/Math.PI,Io={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function ir(e,t,n,o,i,r){var a,l,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*o)&&(n-=e*s,o-=t*s),(l=Math.sqrt(n*n+o*o))&&(n/=l,o/=l,s/=l),e*o<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:r,rotate:Math.atan2(t,e)*fi,skewX:Math.atan(s)*fi,scaleX:a,scaleY:l}}var Rn;function Tu(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Io:ir(t.a,t.b,t.c,t.d,t.e,t.f)}function Nu(e){return e==null||(Rn||(Rn=document.createElementNS("http://www.w3.org/2000/svg","g")),Rn.setAttribute("transform",e),!(e=Rn.transform.baseVal.consolidate()))?Io:(e=e.matrix,ir(e.a,e.b,e.c,e.d,e.e,e.f))}function rr(e,t,n,o){function i(u){return u.length?u.pop()+" ":""}function r(u,f,h,d,k,N){if(u!==h||f!==d){var ee=k.push("translate(",null,t,null,n);N.push({i:ee-4,x:vt(u,h)},{i:ee-2,x:vt(f,d)})}else(h||d)&&k.push("translate("+h+t+d+n)}function a(u,f,h,d){u!==f?(u-f>180?f+=360:f-u>180&&(u+=360),d.push({i:h.push(i(h)+"rotate(",null,o)-2,x:vt(u,f)})):f&&h.push(i(h)+"rotate("+f+o)}function l(u,f,h,d){u!==f?d.push({i:h.push(i(h)+"skewX(",null,o)-2,x:vt(u,f)}):f&&h.push(i(h)+"skewX("+f+o)}function s(u,f,h,d,k,N){if(u!==h||f!==d){var ee=k.push(i(k)+"scale(",null,",",null,")");N.push({i:ee-4,x:vt(u,h)},{i:ee-2,x:vt(f,d)})}else(h!==1||d!==1)&&k.push(i(k)+"scale("+h+","+d+")")}return function(u,f){var h=[],d=[];return u=e(u),f=e(f),r(u.translateX,u.translateY,f.translateX,f.translateY,h,d),a(u.rotate,f.rotate,h,d),l(u.skewX,f.skewX,h,d),s(u.scaleX,u.scaleY,f.scaleX,f.scaleY,h,d),u=f=null,function(k){for(var N=-1,ee=d.length,v;++N<ee;)h[(v=d[N]).i]=v.x(k);return h.join("")}}}var Mu=rr(Tu,"px, ","px)","deg)"),Ru=rr(Nu,", ",")",")"),on=0,pn=0,fn=0,ar=1e3,Xn,hn,jn=0,jt=0,to=0,bn=typeof performance=="object"&&performance.now?performance:Date,sr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Do(){return jt||(sr(Lu),jt=bn.now()+to)}function Lu(){jt=0}function Kn(){this._call=this._time=this._next=null}Kn.prototype=lr.prototype={constructor:Kn,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Do():+n)+(t==null?0:+t),!this._next&&hn!==this&&(hn?hn._next=this:Xn=this,hn=this),this._call=e,this._time=n,Po()},stop:function(){this._call&&(this._call=null,this._time=1/0,Po())}};function lr(e,t,n){var o=new Kn;return o.restart(e,t,n),o}function qu(){Do(),++on;for(var e=Xn,t;e;)(t=jt-e._time)>=0&&e._call.call(void 0,t),e=e._next;--on}function di(){jt=(jn=bn.now())+to,on=pn=0;try{qu()}finally{on=0,Fu(),jt=0}}function Uu(){var e=bn.now(),t=e-jn;t>ar&&(to-=t,jn=e)}function Fu(){for(var e,t=Xn,n,o=1/0;t;)t._call?(o>t._time&&(o=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Xn=n);hn=e,Po(o)}function Po(e){if(!on){pn&&(pn=clearTimeout(pn));var t=e-jt;t>24?(e<1/0&&(pn=setTimeout(di,e-bn.now()-to)),fn&&(fn=clearInterval(fn))):(fn||(jn=bn.now(),fn=setInterval(Uu,ar)),on=1,sr(di))}}function mi(e,t,n){var o=new Kn;return t=t==null?0:+t,o.restart(i=>{o.stop(),e(i+t)},t,n),o}var Ou=Uo("start","end","cancel","interrupt"),Eu=[],ur=0,pi=1,$o=2,Fn=3,hi=4,Ao=5,On=6;function no(e,t,n,o,i,r){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Bu(e,n,{name:t,index:o,group:i,on:Ou,tween:Eu,time:r.time,delay:r.delay,duration:r.duration,ease:r.ease,timer:null,state:ur})}function Ho(e,t){var n=bt(e,t);if(n.state>ur)throw new Error("too late; already scheduled");return n}function Pt(e,t){var n=bt(e,t);if(n.state>Fn)throw new Error("too late; already running");return n}function bt(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Bu(e,t,n){var o=e.__transition,i;o[t]=n,n.timer=lr(r,0,n.time);function r(u){n.state=pi,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var f,h,d,k;if(n.state!==pi)return s();for(f in o)if(k=o[f],k.name===n.name){if(k.state===Fn)return mi(a);k.state===hi?(k.state=On,k.timer.stop(),k.on.call("interrupt",e,e.__data__,k.index,k.group),delete o[f]):+f<t&&(k.state=On,k.timer.stop(),k.on.call("cancel",e,e.__data__,k.index,k.group),delete o[f])}if(mi(function(){n.state===Fn&&(n.state=hi,n.timer.restart(l,n.delay,n.time),l(u))}),n.state=$o,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$o){for(n.state=Fn,i=new Array(d=n.tween.length),f=0,h=-1;f<d;++f)(k=n.tween[f].value.call(e,e.__data__,n.index,n.group))&&(i[++h]=k);i.length=h+1}}function l(u){for(var f=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=Ao,1),h=-1,d=i.length;++h<d;)i[h].call(e,f);n.state===Ao&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=On,n.timer.stop(),delete o[t];for(var u in o)return;delete e.__transition}}function So(e,t){var n=e.__transition,o,i,r=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((o=n[a]).name!==t){r=!1;continue}i=o.state>$o&&o.state<Ao,o.state=On,o.timer.stop(),o.on.call(i?"interrupt":"cancel",e,e.__data__,o.index,o.group),delete n[a]}r&&delete e.__transition}}function Du(e){return this.each(function(){So(this,e)})}function Hu(e,t){var n,o;return function(){var i=Pt(this,e),r=i.tween;if(r!==n){o=n=r;for(var a=0,l=o.length;a<l;++a)if(o[a].name===t){o=o.slice(),o.splice(a,1);break}}i.tween=o}}function zu(e,t,n){var o,i;if(typeof n!="function")throw new Error;return function(){var r=Pt(this,e),a=r.tween;if(a!==o){i=(o=a).slice();for(var l={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=l;break}s===u&&i.push(l)}r.tween=i}}function Vu(e,t){var n=this._id;if(e+="",arguments.length<2){for(var o=bt(this.node(),n).tween,i=0,r=o.length,a;i<r;++i)if((a=o[i]).name===e)return a.value;return null}return this.each((t==null?Hu:zu)(n,e,t))}function zo(e,t,n){var o=e._id;return e.each(function(){var i=Pt(this,o);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return bt(i,o).value[t]}}function cr(e,t){var n;return(typeof t=="number"?vt:t instanceof Xt?Vn:(n=Xt(t))?(t=n,Vn):or)(e,t)}function Xu(e){return function(){this.removeAttribute(e)}}function ju(e){return function(){this.removeAttributeNS(e.space,e.local)}}function Ku(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttribute(e);return a===i?null:a===o?r:r=t(o=a,n)}}function Wu(e,t,n){var o,i=n+"",r;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===o?r:r=t(o=a,n)}}function Yu(e,t,n){var o,i,r;return function(){var a,l=n(this),s;return l==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l)))}}function Gu(e,t,n){var o,i,r;return function(){var a,l=n(this),s;return l==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=l+"",a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l)))}}function Qu(e,t){var n=xn(e),o=n==="transform"?Ru:cr;return this.attrTween(e,typeof t=="function"?(n.local?Gu:Yu)(n,o,zo(this,"attr."+e,t)):t==null?(n.local?ju:Xu)(n):(n.local?Wu:Ku)(n,o,t))}function Ju(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function Zu(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function xu(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Zu(e,r)),n}return i._value=t,i}function ec(e,t){var n,o;function i(){var r=t.apply(this,arguments);return r!==o&&(n=(o=r)&&Ju(e,r)),n}return i._value=t,i}function tc(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var o=xn(e);return this.tween(n,(o.local?xu:ec)(o,t))}function nc(e,t){return function(){Ho(this,e).delay=+t.apply(this,arguments)}}function oc(e,t){return t=+t,function(){Ho(this,e).delay=t}}function ic(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?nc:oc)(t,e)):bt(this.node(),t).delay}function rc(e,t){return function(){Pt(this,e).duration=+t.apply(this,arguments)}}function ac(e,t){return t=+t,function(){Pt(this,e).duration=t}}function sc(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?rc:ac)(t,e)):bt(this.node(),t).duration}function lc(e,t){if(typeof t!="function")throw new Error;return function(){Pt(this,e).ease=t}}function uc(e){var t=this._id;return arguments.length?this.each(lc(t,e)):bt(this.node(),t).ease}function cc(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Pt(this,e).ease=n}}function fc(e){if(typeof e!="function")throw new Error;return this.each(cc(this._id,e))}function dc(e){typeof e!="function"&&(e=Xi(e));for(var t=this._groups,n=t.length,o=new Array(n),i=0;i<n;++i)for(var r=t[i],a=r.length,l=o[i]=[],s,u=0;u<a;++u)(s=r[u])&&e.call(s,s.__data__,u,r)&&l.push(s);return new qt(o,this._parents,this._name,this._id)}function mc(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,o=t.length,i=n.length,r=Math.min(o,i),a=new Array(o),l=0;l<r;++l)for(var s=t[l],u=n[l],f=s.length,h=a[l]=new Array(f),d,k=0;k<f;++k)(d=s[k]||u[k])&&(h[k]=d);for(;l<o;++l)a[l]=t[l];return new qt(a,this._parents,this._name,this._id)}function pc(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function hc(e,t,n){var o,i,r=pc(t)?Ho:Pt;return function(){var a=r(this,e),l=a.on;l!==o&&(i=(o=l).copy()).on(t,n),a.on=i}}function vc(e,t){var n=this._id;return arguments.length<2?bt(this.node(),n).on.on(e):this.each(hc(n,e,t))}function gc(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function yc(){return this.on("end.remove",gc(this._id))}function bc(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Fo(e));for(var o=this._groups,i=o.length,r=new Array(i),a=0;a<i;++a)for(var l=o[a],s=l.length,u=r[a]=new Array(s),f,h,d=0;d<s;++d)(f=l[d])&&(h=e.call(f,f.__data__,d,l))&&("__data__"in f&&(h.__data__=f.__data__),u[d]=h,no(u[d],t,n,d,u,bt(f,n)));return new qt(r,this._parents,t,n)}function wc(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Vi(e));for(var o=this._groups,i=o.length,r=[],a=[],l=0;l<i;++l)for(var s=o[l],u=s.length,f,h=0;h<u;++h)if(f=s[h]){for(var d=e.call(f,f.__data__,h,s),k,N=bt(f,n),ee=0,v=d.length;ee<v;++ee)(k=d[ee])&&no(k,t,n,ee,d,N);r.push(d),a.push(f)}return new qt(r,a,t,n)}var kc=wn.prototype.constructor;function Cc(){return new kc(this._groups,this._parents)}function _c(e,t){var n,o,i;return function(){var r=nn(this,e),a=(this.style.removeProperty(e),nn(this,e));return r===a?null:r===n&&a===o?i:i=t(n=r,o=a)}}function fr(e){return function(){this.style.removeProperty(e)}}function Ic(e,t,n){var o,i=n+"",r;return function(){var a=nn(this,e);return a===i?null:a===o?r:r=t(o=a,n)}}function Pc(e,t,n){var o,i,r;return function(){var a=nn(this,e),l=n(this),s=l+"";return l==null&&(s=l=(this.style.removeProperty(e),nn(this,e))),a===s?null:a===o&&s===i?r:(i=s,r=t(o=a,l))}}function $c(e,t){var n,o,i,r="style."+t,a="end."+r,l;return function(){var s=Pt(this,e),u=s.on,f=s.value[r]==null?l||(l=fr(t)):void 0;(u!==n||i!==f)&&(o=(n=u).copy()).on(a,i=f),s.on=o}}function Ac(e,t,n){var o=(e+="")=="transform"?Mu:cr;return t==null?this.styleTween(e,_c(e,o)).on("end.style."+e,fr(e)):typeof t=="function"?this.styleTween(e,Pc(e,o,zo(this,"style."+e,t))).each($c(this._id,e)):this.styleTween(e,Ic(e,o,t),n).on("end.style."+e,null)}function Sc(e,t,n){return function(o){this.style.setProperty(e,t.call(this,o),n)}}function Tc(e,t,n){var o,i;function r(){var a=t.apply(this,arguments);return a!==i&&(o=(i=a)&&Sc(e,a,n)),o}return r._value=t,r}function Nc(e,t,n){var o="style."+(e+="");if(arguments.length<2)return(o=this.tween(o))&&o._value;if(t==null)return this.tween(o,null);if(typeof t!="function")throw new Error;return this.tween(o,Tc(e,t,n??""))}function Mc(e){return function(){this.textContent=e}}function Rc(e){return function(){var t=e(this);this.textContent=t??""}}function Lc(e){return this.tween("text",typeof e=="function"?Rc(zo(this,"text",e)):Mc(e==null?"":e+""))}function qc(e){return function(t){this.textContent=e.call(this,t)}}function Uc(e){var t,n;function o(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&qc(i)),t}return o._value=e,o}function Fc(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Uc(e))}function Oc(){for(var e=this._name,t=this._id,n=dr(),o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],l=a.length,s,u=0;u<l;++u)if(s=a[u]){var f=bt(s,t);no(s,e,n,u,a,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new qt(o,this._parents,e,n)}function Ec(){var e,t,n=this,o=n._id,i=n.size();return new Promise(function(r,a){var l={value:a},s={value:function(){--i===0&&r()}};n.each(function(){var u=Pt(this,o),f=u.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(l),t._.interrupt.push(l),t._.end.push(s)),u.on=t}),i===0&&r()})}var Bc=0;function qt(e,t,n,o){this._groups=e,this._parents=t,this._name=n,this._id=o}function dr(){return++Bc}var Mt=wn.prototype;qt.prototype={constructor:qt,select:bc,selectAll:wc,selectChild:Mt.selectChild,selectChildren:Mt.selectChildren,filter:dc,merge:mc,selection:Cc,transition:Oc,call:Mt.call,nodes:Mt.nodes,node:Mt.node,size:Mt.size,empty:Mt.empty,each:Mt.each,on:vc,attr:Qu,attrTween:tc,style:Ac,styleTween:Nc,text:Lc,textTween:Fc,remove:yc,tween:Vu,delay:ic,duration:sc,ease:uc,easeVarying:fc,end:Ec,[Symbol.iterator]:Mt[Symbol.iterator]};function Dc(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Hc={time:null,delay:0,duration:250,ease:Dc};function zc(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Vc(e){var t,n;e instanceof qt?(t=e._id,e=e._name):(t=dr(),(n=Hc).time=Do(),e=e==null?null:e+"");for(var o=this._groups,i=o.length,r=0;r<i;++r)for(var a=o[r],l=a.length,s,u=0;u<l;++u)(s=a[u])&&no(s,e,t,u,a,n||zc(s,t));return new qt(o,this._parents,e,t)}wn.prototype.interrupt=Du;wn.prototype.transition=Vc;const co=e=>()=>e;function Xc(e,{sourceEvent:t,target:n,selection:o,mode:i,dispatch:r}){Object.defineProperties(this,{type:{value:e,enumerable:!0,configurable:!0},sourceEvent:{value:t,enumerable:!0,configurable:!0},target:{value:n,enumerable:!0,configurable:!0},selection:{value:o,enumerable:!0,configurable:!0},mode:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function jc(e){e.stopImmediatePropagation()}function fo(e){e.preventDefault(),e.stopImmediatePropagation()}var vi={name:"drag"},mo={name:"space"},Jt={name:"handle"},Zt={name:"center"};const{abs:gi,max:Ee,min:Be}=Math;function yi(e){return[+e[0],+e[1]]}function bi(e){return[yi(e[0]),yi(e[1])]}var En={name:"x",handles:["w","e"].map(Wn),input:function(e,t){return e==null?null:[[+e[0],t[0][1]],[+e[1],t[1][1]]]},output:function(e){return e&&[e[0][0],e[1][0]]}},po={name:"y",handles:["n","s"].map(Wn),input:function(e,t){return e==null?null:[[t[0][0],+e[0]],[t[1][0],+e[1]]]},output:function(e){return e&&[e[0][1],e[1][1]]}},Rt={overlay:"crosshair",selection:"move",n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},wi={e:"w",w:"e",nw:"ne",ne:"nw",se:"sw",sw:"se"},ki={n:"s",s:"n",nw:"sw",ne:"se",se:"ne",sw:"nw"},Kc={overlay:1,selection:1,n:null,e:1,s:null,w:-1,nw:-1,ne:1,se:1,sw:-1},Wc={overlay:1,selection:1,n:-1,e:null,s:1,w:null,nw:-1,ne:-1,se:1,sw:1};function Wn(e){return{type:e}}function Yc(e){return!e.ctrlKey&&!e.button}function Gc(){var e=this.ownerSVGElement||this;return e.hasAttribute("viewBox")?(e=e.viewBox.baseVal,[[e.x,e.y],[e.x+e.width,e.y+e.height]]):[[0,0],[e.width.baseVal.value,e.height.baseVal.value]]}function Qc(){return navigator.maxTouchPoints||"ontouchstart"in this}function ho(e){for(;!e.__brush;)if(!(e=e.parentNode))return;return e.__brush}function Jc(e){return e[0][0]===e[1][0]||e[0][1]===e[1][1]}function Zc(){return xc(En)}function xc(e){var t=Gc,n=Yc,o=Qc,i=!0,r=Uo("start","brush","end"),a=6,l;function s(v){var I=v.property("__brush",ee).selectAll(".overlay").data([Wn("overlay")]);I.enter().append("rect").attr("class","overlay").attr("pointer-events","all").attr("cursor",Rt.overlay).merge(I).each(function(){var b=ho(this).extent;gt(this).attr("x",b[0][0]).attr("y",b[0][1]).attr("width",b[1][0]-b[0][0]).attr("height",b[1][1]-b[0][1])}),v.selectAll(".selection").data([Wn("selection")]).enter().append("rect").attr("class","selection").attr("cursor",Rt.selection).attr("fill","#777").attr("fill-opacity",.3).attr("stroke","#fff").attr("shape-rendering","crispEdges");var C=v.selectAll(".handle").data(e.handles,function(b){return b.type});C.exit().remove(),C.enter().append("rect").attr("class",function(b){return"handle handle--"+b.type}).attr("cursor",function(b){return Rt[b.type]}),v.each(u).attr("fill","none").attr("pointer-events","all").on("mousedown.brush",d).filter(o).on("touchstart.brush",d).on("touchmove.brush",k).on("touchend.brush touchcancel.brush",N).style("touch-action","none").style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}s.move=function(v,I,C){v.tween?v.on("start.brush",function(b){f(this,arguments).beforestart().start(b)}).on("interrupt.brush end.brush",function(b){f(this,arguments).end(b)}).tween("brush",function(){var b=this,m=b.__brush,w=f(b,arguments),R=m.selection,J=e.input(typeof I=="function"?I.apply(this,arguments):I,m.extent),O=eo(R,J);function te(K){m.selection=K===1&&J===null?null:O(K),u.call(b),w.brush()}return R!==null&&J!==null?te:te(1)}):v.each(function(){var b=this,m=arguments,w=b.__brush,R=e.input(typeof I=="function"?I.apply(b,m):I,w.extent),J=f(b,m).beforestart();So(b),w.selection=R===null?null:R,u.call(b),J.start(C).brush(C).end(C)})},s.clear=function(v,I){s.move(v,null,I)};function u(){var v=gt(this),I=ho(this).selection;I?(v.selectAll(".selection").style("display",null).attr("x",I[0][0]).attr("y",I[0][1]).attr("width",I[1][0]-I[0][0]).attr("height",I[1][1]-I[0][1]),v.selectAll(".handle").style("display",null).attr("x",function(C){return C.type[C.type.length-1]==="e"?I[1][0]-a/2:I[0][0]-a/2}).attr("y",function(C){return C.type[0]==="s"?I[1][1]-a/2:I[0][1]-a/2}).attr("width",function(C){return C.type==="n"||C.type==="s"?I[1][0]-I[0][0]+a:a}).attr("height",function(C){return C.type==="e"||C.type==="w"?I[1][1]-I[0][1]+a:a})):v.selectAll(".selection,.handle").style("display","none").attr("x",null).attr("y",null).attr("width",null).attr("height",null)}function f(v,I,C){var b=v.__brush.emitter;return b&&(!C||!b.clean)?b:new h(v,I,C)}function h(v,I,C){this.that=v,this.args=I,this.state=v.__brush,this.active=0,this.clean=C}h.prototype={beforestart:function(){return++this.active===1&&(this.state.emitter=this,this.starting=!0),this},start:function(v,I){return this.starting?(this.starting=!1,this.emit("start",v,I)):this.emit("brush",v),this},brush:function(v,I){return this.emit("brush",v,I),this},end:function(v,I){return--this.active===0&&(delete this.state.emitter,this.emit("end",v,I)),this},emit:function(v,I,C){var b=gt(this.that).datum();r.call(v,this.that,new Xc(v,{sourceEvent:I,target:s,selection:e.output(this.state.selection),mode:C,dispatch:r}),b)}};function d(v){if(l&&!v.touches||!n.apply(this,arguments))return;var I=this,C=v.target.__data__.type,b=(i&&v.metaKey?C="overlay":C)==="selection"?vi:i&&v.altKey?Zt:Jt,m=e===po?null:Kc[C],w=e===En?null:Wc[C],R=ho(I),J=R.extent,O=R.selection,te=J[0][0],K,T,G=J[0][1],L,W,ve=J[1][0],D,H,Z=J[1][1],V,X,j=0,ge=0,re,lt=m&&w&&i&&v.shiftKey,E,wt,Ie=Array.from(v.touches||[v],B=>{const Q=B.identifier;return B=ni(B,I),B.point0=B.slice(),B.identifier=Q,B});So(I);var Xe=f(I,arguments,!0).beforestart();if(C==="overlay"){O&&(re=!0);const B=[Ie[0],Ie[1]||Ie[0]];R.selection=O=[[K=e===po?te:Be(B[0][0],B[1][0]),L=e===En?G:Be(B[0][1],B[1][1])],[D=e===po?ve:Ee(B[0][0],B[1][0]),V=e===En?Z:Ee(B[0][1],B[1][1])]],Ie.length>1&&Me(v)}else K=O[0][0],L=O[0][1],D=O[1][0],V=O[1][1];T=K,W=L,H=D,X=V;var kt=gt(I).attr("pointer-events","none"),je=kt.selectAll(".overlay").attr("cursor",Rt[C]);if(v.touches)Xe.moved=Oe,Xe.ended=De;else{var $t=gt(v.view).on("mousemove.brush",Oe,!0).on("mouseup.brush",De,!0);i&&$t.on("keydown.brush",ut,!0).on("keyup.brush",Ue,!0),iu(v.view)}u.call(I),Xe.start(v,b.name);function Oe(B){for(const Q of B.changedTouches||[B])for(const ot of Ie)ot.identifier===Q.identifier&&(ot.cur=ni(Q,I));if(lt&&!E&&!wt&&Ie.length===1){const Q=Ie[0];gi(Q.cur[0]-Q[0])>gi(Q.cur[1]-Q[1])?wt=!0:E=!0}for(const Q of Ie)Q.cur&&(Q[0]=Q.cur[0],Q[1]=Q.cur[1]);re=!0,fo(B),Me(B)}function Me(B){const Q=Ie[0],ot=Q.point0;var U;switch(j=Q[0]-ot[0],ge=Q[1]-ot[1],b){case mo:case vi:{m&&(j=Ee(te-K,Be(ve-D,j)),T=K+j,H=D+j),w&&(ge=Ee(G-L,Be(Z-V,ge)),W=L+ge,X=V+ge);break}case Jt:{Ie[1]?(m&&(T=Ee(te,Be(ve,Ie[0][0])),H=Ee(te,Be(ve,Ie[1][0])),m=1),w&&(W=Ee(G,Be(Z,Ie[0][1])),X=Ee(G,Be(Z,Ie[1][1])),w=1)):(m<0?(j=Ee(te-K,Be(ve-K,j)),T=K+j,H=D):m>0&&(j=Ee(te-D,Be(ve-D,j)),T=K,H=D+j),w<0?(ge=Ee(G-L,Be(Z-L,ge)),W=L+ge,X=V):w>0&&(ge=Ee(G-V,Be(Z-V,ge)),W=L,X=V+ge));break}case Zt:{m&&(T=Ee(te,Be(ve,K-j*m)),H=Ee(te,Be(ve,D+j*m))),w&&(W=Ee(G,Be(Z,L-ge*w)),X=Ee(G,Be(Z,V+ge*w)));break}}H<T&&(m*=-1,U=K,K=D,D=U,U=T,T=H,H=U,C in wi&&je.attr("cursor",Rt[C=wi[C]])),X<W&&(w*=-1,U=L,L=V,V=U,U=W,W=X,X=U,C in ki&&je.attr("cursor",Rt[C=ki[C]])),R.selection&&(O=R.selection),E&&(T=O[0][0],H=O[1][0]),wt&&(W=O[0][1],X=O[1][1]),(O[0][0]!==T||O[0][1]!==W||O[1][0]!==H||O[1][1]!==X)&&(R.selection=[[T,W],[H,X]],u.call(I),Xe.brush(B,b.name))}function De(B){if(jc(B),B.touches){if(B.touches.length)return;l&&clearTimeout(l),l=setTimeout(function(){l=null},500)}else ru(B.view,re),$t.on("keydown.brush keyup.brush mousemove.brush mouseup.brush",null);kt.attr("pointer-events","all"),je.attr("cursor",Rt.overlay),R.selection&&(O=R.selection),Jc(O)&&(R.selection=null,u.call(I)),Xe.end(B,b.name)}function ut(B){switch(B.keyCode){case 16:{lt=m&&w;break}case 18:{b===Jt&&(m&&(D=H-j*m,K=T+j*m),w&&(V=X-ge*w,L=W+ge*w),b=Zt,Me(B));break}case 32:{(b===Jt||b===Zt)&&(m<0?D=H-j:m>0&&(K=T-j),w<0?V=X-ge:w>0&&(L=W-ge),b=mo,je.attr("cursor",Rt.selection),Me(B));break}default:return}fo(B)}function Ue(B){switch(B.keyCode){case 16:{lt&&(E=wt=lt=!1,Me(B));break}case 18:{b===Zt&&(m<0?D=H:m>0&&(K=T),w<0?V=X:w>0&&(L=W),b=Jt,Me(B));break}case 32:{b===mo&&(B.altKey?(m&&(D=H-j*m,K=T+j*m),w&&(V=X-ge*w,L=W+ge*w),b=Zt):(m<0?D=H:m>0&&(K=T),w<0?V=X:w>0&&(L=W),b=Jt),je.attr("cursor",Rt[C]),Me(B));break}default:return}fo(B)}}function k(v){f(this,arguments).moved(v)}function N(v){f(this,arguments).ended(v)}function ee(){var v=this.__brush||{selection:null};return v.extent=bi(t.apply(this,arguments)),v.dim=e,v}return s.extent=function(v){return arguments.length?(t=typeof v=="function"?v:co(bi(v)),s):t},s.filter=function(v){return arguments.length?(n=typeof v=="function"?v:co(!!v),s):n},s.touchable=function(v){return arguments.length?(o=typeof v=="function"?v:co(!!v),s):o},s.handleSize=function(v){return arguments.length?(a=+v,s):a},s.keyModifiers=function(v){return arguments.length?(i=!!v,s):i},s.on=function(){var v=r.on.apply(r,arguments);return v===r?s:v},s}function ef(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Yn(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,o=e.slice(0,n);return[o.length>1?o[0]+o.slice(2):o,+e.slice(n+1)]}function rn(e){return e=Yn(Math.abs(e)),e?e[1]:NaN}function tf(e,t){return function(n,o){for(var i=n.length,r=[],a=0,l=e[0],s=0;i>0&&l>0&&(s+l+1>o&&(l=Math.max(1,o-s)),r.push(n.substring(i-=l,i+l)),!((s+=l+1)>o));)l=e[a=(a+1)%e.length];return r.reverse().join(t)}}function nf(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var of=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Gn(e){if(!(t=of.exec(e)))throw new Error("invalid format: "+e);var t;return new Vo({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Gn.prototype=Vo.prototype;function Vo(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Vo.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function rf(e){e:for(var t=e.length,n=1,o=-1,i;n<t;++n)switch(e[n]){case".":o=i=n;break;case"0":o===0&&(o=n),i=n;break;default:if(!+e[n])break e;o>0&&(o=0);break}return o>0?e.slice(0,o)+e.slice(i+1):e}var mr;function af(e,t){var n=Yn(e,t);if(!n)return e+"";var o=n[0],i=n[1],r=i-(mr=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=o.length;return r===a?o:r>a?o+new Array(r-a+1).join("0"):r>0?o.slice(0,r)+"."+o.slice(r):"0."+new Array(1-r).join("0")+Yn(e,Math.max(0,t+r-1))[0]}function Ci(e,t){var n=Yn(e,t);if(!n)return e+"";var o=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+o:o.length>i+1?o.slice(0,i+1)+"."+o.slice(i+1):o+new Array(i-o.length+2).join("0")}const _i={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:ef,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ci(e*100,t),r:Ci,s:af,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Ii(e){return e}var Pi=Array.prototype.map,$i=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function sf(e){var t=e.grouping===void 0||e.thousands===void 0?Ii:tf(Pi.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",o=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",r=e.numerals===void 0?Ii:nf(Pi.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",l=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(h){h=Gn(h);var d=h.fill,k=h.align,N=h.sign,ee=h.symbol,v=h.zero,I=h.width,C=h.comma,b=h.precision,m=h.trim,w=h.type;w==="n"?(C=!0,w="g"):_i[w]||(b===void 0&&(b=12),m=!0,w="g"),(v||d==="0"&&k==="=")&&(v=!0,d="0",k="=");var R=ee==="$"?n:ee==="#"&&/[boxX]/.test(w)?"0"+w.toLowerCase():"",J=ee==="$"?o:/[%p]/.test(w)?a:"",O=_i[w],te=/[defgprs%]/.test(w);b=b===void 0?6:/[gprs]/.test(w)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function K(T){var G=R,L=J,W,ve,D;if(w==="c")L=O(T)+L,T="";else{T=+T;var H=T<0||1/T<0;if(T=isNaN(T)?s:O(Math.abs(T),b),m&&(T=rf(T)),H&&+T==0&&N!=="+"&&(H=!1),G=(H?N==="("?N:l:N==="-"||N==="("?"":N)+G,L=(w==="s"?$i[8+mr/3]:"")+L+(H&&N==="("?")":""),te){for(W=-1,ve=T.length;++W<ve;)if(D=T.charCodeAt(W),48>D||D>57){L=(D===46?i+T.slice(W+1):T.slice(W))+L,T=T.slice(0,W);break}}}C&&!v&&(T=t(T,1/0));var Z=G.length+T.length+L.length,V=Z<I?new Array(I-Z+1).join(d):"";switch(C&&v&&(T=t(V+T,V.length?I-L.length:1/0),V=""),k){case"<":T=G+T+L+V;break;case"=":T=G+V+T+L;break;case"^":T=V.slice(0,Z=V.length>>1)+G+T+L+V.slice(Z);break;default:T=V+G+T+L;break}return r(T)}return K.toString=function(){return h+""},K}function f(h,d){var k=u((h=Gn(h),h.type="f",h)),N=Math.max(-8,Math.min(8,Math.floor(rn(d)/3)))*3,ee=Math.pow(10,-N),v=$i[8+N/3];return function(I){return k(ee*I)+v}}return{format:u,formatPrefix:f}}var Ln,pr,hr;lf({thousands:",",grouping:[3],currency:["$",""]});function lf(e){return Ln=sf(e),pr=Ln.format,hr=Ln.formatPrefix,Ln}function uf(e){return Math.max(0,-rn(Math.abs(e)))}function cf(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(rn(t)/3)))*3-rn(Math.abs(e)))}function ff(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,rn(t)-rn(e))+1}function Xo(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}const Ai=Symbol("implicit");function vr(){var e=new Zo,t=[],n=[],o=Ai;function i(r){let a=e.get(r);if(a===void 0){if(o!==Ai)return o;e.set(r,a=t.push(r)-1)}return n[a%n.length]}return i.domain=function(r){if(!arguments.length)return t.slice();t=[],e=new Zo;for(const a of r)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(r){return arguments.length?(n=Array.from(r),i):n.slice()},i.unknown=function(r){return arguments.length?(o=r,i):o},i.copy=function(){return vr(t,n).unknown(o)},Xo.apply(i,arguments),i}function gr(){var e=vr().unknown(void 0),t=e.domain,n=e.range,o=0,i=1,r,a,l=!1,s=0,u=0,f=.5;delete e.unknown;function h(){var d=t().length,k=i<o,N=k?i:o,ee=k?o:i;r=(ee-N)/Math.max(1,d-s+u*2),l&&(r=Math.floor(r)),N+=(ee-N-r*(d-s))*f,a=r*(1-s),l&&(N=Math.round(N),a=Math.round(a));var v=ks(d).map(function(I){return N+r*I});return n(k?v.reverse():v)}return e.domain=function(d){return arguments.length?(t(d),h()):t()},e.range=function(d){return arguments.length?([o,i]=d,o=+o,i=+i,h()):[o,i]},e.rangeRound=function(d){return[o,i]=d,o=+o,i=+i,l=!0,h()},e.bandwidth=function(){return a},e.step=function(){return r},e.round=function(d){return arguments.length?(l=!!d,h()):l},e.padding=function(d){return arguments.length?(s=Math.min(1,u=+d),h()):s},e.paddingInner=function(d){return arguments.length?(s=Math.min(1,d),h()):s},e.paddingOuter=function(d){return arguments.length?(u=+d,h()):u},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),h()):f},e.copy=function(){return gr(t(),[o,i]).round(l).paddingInner(s).paddingOuter(u).align(f)},Xo.apply(h(),arguments)}function df(e){return function(){return e}}function mf(e){return+e}var Si=[0,1];function xt(e){return e}function To(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:df(isNaN(t)?NaN:.5)}function pf(e,t){var n;return e>t&&(n=e,e=t,t=n),function(o){return Math.max(e,Math.min(t,o))}}function hf(e,t,n){var o=e[0],i=e[1],r=t[0],a=t[1];return i<o?(o=To(i,o),r=n(a,r)):(o=To(o,i),r=n(r,a)),function(l){return r(o(l))}}function vf(e,t,n){var o=Math.min(e.length,t.length)-1,i=new Array(o),r=new Array(o),a=-1;for(e[o]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<o;)i[a]=To(e[a],e[a+1]),r[a]=n(t[a],t[a+1]);return function(l){var s=fs(e,l,1,o)-1;return r[s](i[s](l))}}function gf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function yf(){var e=Si,t=Si,n=eo,o,i,r,a=xt,l,s,u;function f(){var d=Math.min(e.length,t.length);return a!==xt&&(a=pf(e[0],e[d-1])),l=d>2?vf:hf,s=u=null,h}function h(d){return d==null||isNaN(d=+d)?r:(s||(s=l(e.map(o),t,n)))(o(a(d)))}return h.invert=function(d){return a(i((u||(u=l(t,e.map(o),vt)))(d)))},h.domain=function(d){return arguments.length?(e=Array.from(d,mf),f()):e.slice()},h.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},h.rangeRound=function(d){return t=Array.from(d),n=Su,f()},h.clamp=function(d){return arguments.length?(a=d?!0:xt,f()):a!==xt},h.interpolate=function(d){return arguments.length?(n=d,f()):n},h.unknown=function(d){return arguments.length?(r=d,h):r},function(d,k){return o=d,i=k,f()}}function bf(){return yf()(xt,xt)}function wf(e,t,n,o){var i=bs(e,t,n),r;switch(o=Gn(o??",f"),o.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return o.precision==null&&!isNaN(r=cf(i,a))&&(o.precision=r),hr(o,a)}case"":case"e":case"g":case"p":case"r":{o.precision==null&&!isNaN(r=ff(i,Math.max(Math.abs(e),Math.abs(t))))&&(o.precision=r-(o.type==="e"));break}case"f":case"%":{o.precision==null&&!isNaN(r=uf(i))&&(o.precision=r-(o.type==="%")*2);break}}return pr(o)}function kf(e){var t=e.domain;return e.ticks=function(n){var o=t();return ys(o[0],o[o.length-1],n??10)},e.tickFormat=function(n,o){var i=t();return wf(i[0],i[i.length-1],n??10,o)},e.nice=function(n){n==null&&(n=10);var o=t(),i=0,r=o.length-1,a=o[i],l=o[r],s,u,f=10;for(l<a&&(u=a,a=l,l=u,u=i,i=r,r=u);f-- >0;){if(u=yo(a,l,n),u===s)return o[i]=a,o[r]=l,t(o);if(u>0)a=Math.floor(a/u)*u,l=Math.ceil(l/u)*u;else if(u<0)a=Math.ceil(a*u)/u,l=Math.floor(l*u)/u;else break;s=u}return e},e}function yr(){var e=bf();return e.copy=function(){return gf(e,yr())},Xo.apply(e,arguments),kf(e)}function vn(e,t,n){this.k=e,this.x=t,this.y=n}vn.prototype={constructor:vn,scale:function(e){return e===1?this:new vn(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new vn(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};vn.prototype;function vo(e,t,n){const o=new F(10).pow(t-n);return new F(1.0001).pow(e).mul(o)}const Cf=Qe({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""}},setup(e,t){const n=A(1),o=A(""),i=A(""),r=x(()=>{var m,w,R;return h.sqrtPriceX64ToPrice((m=e.poolInfo)==null?void 0:m.current_sqrt_price,(w=e.poolInfo)==null?void 0:w.coinA.decimals,(R=e.poolInfo)==null?void 0:R.coinB.decimals).toString()}),a=x(()=>{let m=0;return e.direction?m=(Number(e.minPrice)/Number(r.value)-1)*100:m=(Number(e.minPrice)/Number(1/Number(r.value))-1)*100,m=m>0&&m<.1?.1:m,m=m<0&&m>-.1?-.1:m,m}),l=x(()=>{let m=0;return e.direction?m=(Number(e.maxPrice)/Number(r.value)-1)*100:m=(Number(e.maxPrice)/Number(1/Number(r.value))-1)*100,m=m>0&&m<.1?.1:m,m=m<0&&m>-.1?-.1:m,m}),s=tt(),u=x(()=>s),f=x(()=>u.value.chainName?No(u.value.chainName):{}),{TickMath:h,getNearestTickByTick:d}=f.value,k=()=>{const m=n.value/2;n.value=m,v(e.poolInfo,m)},N=()=>{const m=n.value*2;n.value=m,v(e.poolInfo,m)},ee=(m=[])=>{let w=6;const R=Math.abs(Number(m[0])-Number(m[m.length-1]));return R>=6?w=0:R>=1?w=1:R>=.1?w=2:R>=.01?w=3:R>=.001?w=4:R>=1e-4?w=5:R>=1e-5?w=6:R>=1e-6?w=7:R>=1e-7&&(w=8),w},v=(m,w=1)=>{if(m&&m.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const R=Number(e.poolInfo.current_tick_index);let J=R+100*w,O=R-100*w,te,K;e.maxPrice==="∞"?K=0:e.direction?K=h.priceToTickIndex(new F(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):K=h.priceToTickIndex(new F(1/Number(e.minPrice)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals),e.minPrice==="0"?te=0:e.direction?te=h.priceToTickIndex(new F(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):te=h.priceToTickIndex(new F(1/Number(e.maxPrice)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals);let T=0;if(R>=te&&R<=K){const j=R-te,ge=K-R;T=Math.max(Math.abs(j),Math.abs(ge))}else R<te?T=Math.abs(K-R):T=Math.abs(R-te);J=R+T+100*w,O=R-T-100*w;const G=Number(m.liquidity)/Math.pow(10,6),L=e.tickList,W=[],ve=[];let D={};for(let j=0;j<L.length;j++)D=L[j],D.index<=R&&D.index>=O?W.unshift(D):D.index>R&&D.index<=J&&ve.push(D);let H=Number(G);for(let j=0;j<W.length;j++)W[j].liquityAmount=H-Number(W[j].liquidityGross.toString()/Math.pow(10,6));let Z=Number(G);for(let j=0;j<ve.length;j++)ve[j].liquityAmount=Z-Number(ve[j].liquidityGross.toString()/Math.pow(10,6));let V=[];const X=L&&L.length>0?{index:R,liquityAmount:Number(G)}:{index:R,liquityAmount:Number(0)};V=[...W.reverse(),X,...ve],e.direction||(V=V.reverse()),C(V,O,J,te,K,R)}};let I=A(!1);Qn(()=>{document.body.clientWidth<750?I.value=!1:I.value=!0,window.onresize=()=>{document.body.clientWidth<750?I.value=!1:I.value=!0,v(e.poolInfo,n.value)}});const C=(m,w,R,J,O,te)=>{let K,T;e.direction?(K=e.before7dContractPriceLowest?h.priceToTickIndex(new F(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?h.priceToTickIndex(new F(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(K=e.before7dContractPriceLowest?h.priceToTickIndex(new F(1/Number(e.before7dContractPriceLowest)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",T=e.before7dContractPriceHighest?h.priceToTickIndex(new F(1/Number(e.before7dContractPriceHighest)),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const G={top:30,right:35,bottom:20,left:55};let L,W;I.value?(L=460-G.left-G.right,W=205-G.top-G.bottom):(L=340-G.left-G.right,W=205-G.top-G.bottom);const ve=R-w,D=parseInt(String(ve/4));let H=[w,w+D,w+2*D,R-D,R];const Z=H[0]-(H[1]-H[0])/3,V=H[4]+(H[4]-H[3])/3,X=L/(V-Z);e.currentPriceTab==="full range"&&(H=[w,w+2*D,R]);const j=H.map(U=>e.direction?vo(U,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():1/vo(U,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),ge=ee(j);gt("#chart").selectAll("*").remove();const re=gt("#chart").attr("width",L+G.left+G.right).attr("height",W+G.top+G.bottom).append("g").attr("transform",`translate(${G.left},${G.right})`),lt=ws(m,function(U){return Number(U.liquityAmount)})||0,E=yr().range([0,W]).domain([lt,0]);gr().rangeRound([0,L]).padding(.1);const Ie=re.append("g").attr("id","barsBox").selectAll("rect").data(m).enter().append("rect");u.value.theme=="default"?Ie.attr("x",function(U,z){return z===0?0:e.direction?Math.abs(m[z-1].index-Z)*X:Math.abs(V-m[z-1].index)*X}).attr("y",function(U,z){return z===0?0:e.direction?E(m[z-1].liquityAmount):E(U.liquityAmount)}).attr("width",function(U,z){return z===0&&m.length===1&&U.liquityAmount>0?L:z===0?0:e.direction?Math.abs(U.index-m[z-1].index)*X:Math.abs(m[z-1].index-U.index)*X}).attr("height",function(U,z){return z===0&&m.length===1&&U.liquityAmount>0?W:z===0?0:e.direction?W-E(m[z-1].liquityAmount):W-E(U.liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):Ie.attr("x",function(U,z){return z===0?0:e.direction?Math.abs(m[z-1].index-Z)*X:Math.abs(V-m[z-1].index)*X}).attr("y",function(U,z){return z===0?0:e.direction?E(m[z-1].liquityAmount):E(U.liquityAmount)}).attr("width",function(U,z){return z===0&&m.length===1&&U.liquityAmount>0?L:z===0?0:e.direction?Math.abs(U.index-m[z-1].index)*X:Math.abs(m[z-1].index-U.index)*X}).attr("height",function(U,z){return z===0&&m.length===1&&U.liquityAmount>0?W:z===0?0:e.direction?W-E(m[z-1].liquityAmount):W-E(U.liquityAmount)}).attr("fill","#407497").attr("class","bars");const Xe=re.append("g");Xe.append("line").attr("x1",0).attr("y1",155).attr("x2",L).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const kt=Xe.append("g");let je=0;if(e.direction){for(let U=0;U<H.length;U++){const z=Ve(j[U],ge)||"0";j.push(z);const $=Math.abs(H[U]-Z)*X;let P=0;for(let Se=0;Se<z.length;Se++)z[Se]==="1"?P+=4.02:z[Se]==="."?P+=2.64:z[Se]==="7"?P+=5.48:P+=6;kt.append("text").text(z).attr("x",$-P/2).attr("y",170).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}je=Math.abs(te-Z)*X}else{for(let U=H.length-1;U>=0;U--){const z=et(String(1/vo(H[U],e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),6)||"0";j.push(z);const $=Math.abs(H[U]-V)*X;let P=0;for(let Se=0;Se<z.length;Se++)z[Se]==="1"?P+=4.02:z[Se]==="."?P+=2.64:z[Se]==="7"?P+=5.48:P+=6;kt.append("text").text(z).attr("x",$-P/2).attr("y",170).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}je=Math.abs(te-V)*X}(u.value.theme=="default"?re.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):re.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+je+", 0)");let Oe,Me,De,ut;e.direction?(Oe=J<Z?-100:Math.abs(J-Z)*X,Me=O<Z?-100:Math.abs(O-Z)*X,De=K<Z?-100:Math.abs(K-Z)*X,ut=T<Z?-100:Math.abs(T-Z)*X):(Me=J<Z?-100:Math.abs(V-J)*X,Oe=O<Z?-100:Math.abs(V-O)*X,ut=K<Z?-100:Math.abs(V-K)*X,De=T<Z?-100:Math.abs(V-T)*X),e.minPrice==="0"&&(Oe=0),e.maxPrice==="∞"&&(Me=L),I.value?o.value=L-Oe+60+"px":o.value=L-Oe+52+"px",i.value=Me+74+"px",K&&De<L&&re.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+De+", 0)"),T&&ut<L&&re.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+ut+", 0)");const Ue=re.append("g").attr("id","left-handle"),B=re.append("g").attr("id","right-handle");u.value.theme=="default"?(Ue.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Ue.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),Ue.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),Ue.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),B.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),B.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),B.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),B.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(Ue.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Ue.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),Ue.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),Ue.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),B.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),B.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),B.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),B.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),Ue.attr("transform","translate("+Oe+", 0)"),B.attr("transform","translate("+Me+", 0)");const Q=Zc().extent([[0,0],[L,W]]).handleSize(30).on("end",ot);re.append("g").attr("class","brush").call(Q).call(Q.move,[Oe,Me]);function ot(U){if(!U.sourceEvent||!U.selection)return;Ue.attr("transform","translate("+U.selection[0]+", 0)"),B.attr("transform","translate("+U.selection[1]+", 0)"),I.value?o.value=L-U.selection[0]+60+"px":o.value=L-U.selection[0]+52+"px",i.value=U.selection[1]+74+"px";let z,$,P=0,Se=0;e.direction?(P=d(U.selection[0]/X+Z,Number(e.poolInfo.tickSpacing)),z=h.tickIndexToPrice(P,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber(),Se=d(U.selection[1]/X+Z,Number(e.poolInfo.tickSpacing)),$=h.tickIndexToPrice(Se,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()):(Se=d(V-U.selection[0]/X,Number(e.poolInfo.tickSpacing)),z=1/h.tickIndexToPrice(Se,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber(),P=d(V-U.selection[1]/X,Number(e.poolInfo.tickSpacing)),$=1/h.tickIndexToPrice(P,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toNumber()),t.emit("onChangeMinPrice",String(Ve(String(z),6))),t.emit("onChangeMaxPrice",String(Ve(String($),6)))}u.value.theme=="default"?gt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):gt(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};A(""),be(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab],([m,w,R,J])=>{m&&w&&R&&(R=="∞"||Number(R)>Number(w))&&v(m,n.value)},{immediate:!0});const b=A(!0);return be(()=>e.chartLoading,(m,w)=>{m!==w&&(b.value=m)},{immediate:!0,deep:!0}),{store:u,loading:b,zoomOut:k,zoomIn:N,rangeSizeLower:a,rangeSizeUpper:l,rangeSizeLowerPosition:o,rangeSizeUpperPosition:i,decimalFormat:et,numberformat:go}}});const _f=e=>(Ut("data-v-1eebee0e"),e=e(),Ft(),e),If={class:"chart-box"},Pf={class:"chart"},$f={class:"zoom"},Af=_f(()=>c("svg",{id:"chart"},null,-1));function Sf(e,t,n,o,i,r){return g(),_("div",If,[Er(c("div",Pf,[c("div",$f,[c("div",{class:"amplification",onClick:t[0]||(t[0]=(...a)=>e.zoomOut&&e.zoomOut(...a))}),c("div",{class:"narrow",onClick:t[1]||(t[1]=(...a)=>e.zoomIn&&e.zoomIn(...a))})]),e.currentPriceTab!=="full range"?(g(),_("div",{key:0,class:"range-size range-size-lower",style:Yo({right:e.rangeSizeLowerPosition})},y(("numberformat"in e?e.numberformat:ae(go))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):M("",!0),e.currentPriceTab!=="full range"?(g(),_("div",{key:1,class:"range-size range-size-upper",style:Yo({left:e.rangeSizeUpperPosition})},y(("numberformat"in e?e.numberformat:ae(go))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):M("",!0),Af],512),[[Br,!e.loading]])])}const Tf=Je(Cf,[["render",Sf],["__scopeId","data-v-1eebee0e"]]),Nf=Qe({props:{poolInfo:{type:Object,default:()=>({})},aprRewardsParameter:{type:Number,default:30},label:{type:Boolean,default:!0}},setup(e,t){const n=A(""),o=A(""),i=A(""),r=tt(),a=x(()=>r),l=an(),s=x(()=>l),u=(I,C)=>I&&C?en(jr.plus(ao(I),ao(C)),2)+"%":I,f=I=>{let C=0;return I&&I.forEach(b=>{C+=ao(String(b))}),String(en(String(C),2))},h=A([]),d=A([]),k=A(""),N=A(""),ee=A(!0);return be(()=>[a.value.newTopPoolsObj,e.poolInfo,s.value.newTokenObj,e.aprRewardsParameter],async([I,C,b])=>{if(I&&C&&b){const m=I[C.poolAddress];if(m){n.value=m&&m.apr_7day,N.value=f(m&&m.rewarder_apr),k.value=u(m&&m.apr_7day,m&&f(m.rewarder_apr)),o.value=Ye(m.tvl_in_usd,2),i.value=Ye(m.vol_in_usd_24h,2);const w=C&&e.poolInfo.rewarder_infos||[],R=[];w.forEach((O,te)=>{const K=b[O.coinAddress].decimals,T=et(O.emissionsEveryDay/Math.pow(10,K),4),G=et(Number(T)*s.value.RATES[O.coinAddress].price,4);R.push({...O,logoUrl:b[O.coinAddress].logoURI,day:T,dayUSD:G,symbol:b[O.coinAddress].symbol,rewarder_display:C&&C[`rewarder_display${te+1}`]?C[`rewarder_display${te+1}`]:!1})}),h.value=R.filter(O=>O.rewarder_display);const J=[];R.forEach((O,te)=>{J.push({...O,symbol:b[O.coinAddress].symbol,rewarderApr:m.rewarder_apr[te]})}),d.value=J.filter(O=>O.rewarder_display)}ee.value=!1}},{immediate:!0,deep:!0}),{rewarderInfo:h,rewarderArr:d,rewardApr:k,rewardAprList:N,apr:n,liquidityTvl:o,vol24:i,addCommom:Ye,reviseValue:()=>{t.emit("reviseValue")},loading:ee}}});const br=e=>(Ut("data-v-5608d466"),e=e(),Ft(),e),Mf={key:0,class:"pool-info"},Rf=br(()=>c("use",{"xlink:href":"#icon-icon_on"},null,-1)),Lf=[Rf],qf={key:0,class:"info-block-container"},Uf={class:"info-block"},Ff={class:"leabl"},Of={class:"text"},Ef={class:"apr-hover-content"},Bf={class:"info-block"},Df={class:"leabl"},Hf={class:"text"},zf={class:"info-block"},Vf={class:"leabl"},Xf={class:"text"},jf={class:"info-block"},Kf={class:"leabl"},Wf={class:"text"},Yf={key:1,class:"pool-rewards-info"},Gf={class:"rewards-list-all"},Qf=br(()=>c("div",{class:"icon-sign"},null,-1)),Jf=["src"],Zf={class:"rewards-value"};function xf(e,t,n,o,i,r){const a=Xr,l=qi;return e.poolInfo?(g(),_("div",Mf,[e.loading?(g(),fe(l,{key:1})):(g(),_(Lt,{key:0},[c("div",{class:we(e.label?"pool-info-border pool-info-title":"pool-info-title")},[Ae(y(e.$t("newAdd.poolInfo"))+" ",1),(g(),_("svg",{class:we(e.label?"show-icon icon":"icon"),"aria-hidden":"true",onClick:t[0]||(t[0]=s=>e.reviseValue())},Lf,2))],2),e.label?(g(),_("div",qf,[c("div",Uf,[c("div",Ff,y(e.$t("common.apr")),1),c("div",Of,[Ae(y(e.poolInfo.is_display_rewarder?("addCommom"in e?e.addCommom:ae(Ye))(e.rewardApr.substring(0,e.rewardApr.length-1),2):("addCommom"in e?e.addCommom:ae(Ye))(e.apr.substring(0,e.apr.length-1),2))+"% ",1),c("div",Ef,[ue(a,{"l-item":{apr:e.apr,aprTotal:e.rewardApr,rewarder_apr:e.rewardAprList,is_display_rewarder:e.poolInfo.is_display_rewarder},"rewarder-info":e.rewarderArr},null,8,["l-item","rewarder-info"])])])]),c("div",Bf,[c("div",Df,y(e.$t("common.liquidity")),1),c("div",Hf,"$"+y(e.liquidityTvl),1)]),c("div",zf,[c("div",Vf,y(e.$t("common.volume24h")),1),c("div",Xf,"$"+y(e.vol24),1)]),c("div",jf,[c("div",Kf,y(e.$t("newAdd.tickSpacing")),1),c("div",Wf,y(e.poolInfo&&e.poolInfo.tick_spacing),1)])])):M("",!0),e.poolInfo.is_display_rewarder&&e.label&&e.rewarderInfo&&e.rewarderInfo.length>0?(g(),_("div",Yf,[Ae(y("Farming Bonus")+" "),c("div",Gf,[(g(!0),_(Lt,null,mn(e.rewarderInfo,s=>(g(),_("div",{key:s,class:we(["rewards-list",s.day==0?"rewards-none":""])},[Qf,c("img",{src:s.logoUrl,alt:""},null,8,Jf),c("div",Zf,[c("p",null,y(s.day)+" "+y(s.symbol)+" / "+y(e.$t("newAdd.day"))+" ",1)])],2))),128))])])):M("",!0)],64))])):M("",!0)}const ed=Je(Nf,[["render",xf],["__scopeId","data-v-5608d466"]]),td=Qe({components:{Modal:Mo},props:{},setup(){const e=A({}),t=tt(),n=x(()=>t),o=x(()=>n.value.chainName),i=x(()=>dn[o.value]);let r=A(!0);const a=an(),l=x(()=>a),s=Ui();return be(()=>l.value.currentPositionInfo,u=>{u&&(e.value=u)},{immediate:!0}),{addCommom:Ye,router:s,pools:l,positionInfo:e,decimalFormat:et,rateChange:r,config:i,importIcon:Le,store:n,chainName:o,checkNullObj:Ot}}});const Cn=e=>(Ut("data-v-f356628e"),e=e(),Ft(),e),nd=Cn(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),od={class:"rejected-container"},id={class:"coin-pair"},rd=Cn(()=>c("use",{"xlink:href":"#icon-icon-copy"},null,-1)),ad=[rd],sd=["href"],ld=Cn(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-jump"})],-1)),ud=[ld],cd=["href"],fd=Cn(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-jump"})],-1)),dd=[fd],md={class:"coin-pair"},pd=["src"],hd=["src"],vd={class:"fee"},gd={class:"status"},yd={class:"min-and-max"},bd={key:0},wd={class:"text"},kd={key:0,src:Lo,alt:""},Cd={key:1,src:qo,alt:""},_d={class:"text"},Id={key:1},Pd={class:"text"},$d={key:0,src:Lo,alt:""},Ad={key:1,src:qo,alt:""},Sd={class:"text"},Td=Cn(()=>c("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Nd=[Td];function Md(e,t,n,o,i,r){const a=Li,l=Kr,s=Zn,u=Ro("Modal");return g(),fe(u,{visible:!0,class:"transiaction-rejected",centered:"",title:e.$t("newAdd.openPositionSuccessful"),width:"340px",footer:null,onCancel:t[3]||(t[3]=f=>e.$emit("onClose"))},{closeIcon:pe(()=>[nd]),default:pe(()=>[c("div",od,[ue(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:pe(()=>[c("div",id,[Ae(y(e.positionInfo.tokenName)+" ",1),(g(),_("svg",{class:"icon","aria-hidden":"true",onClick:t[0]||(t[0]=f=>e.store.copy(e.positionInfo.nftHash))},ad)),e.chainName==="Aptos"?(g(),_("a",{key:0,href:`${("config"in e?e.config:ae(dn)).explorerUrl}/token/${e.positionInfo.nftHash}/0?network=${("config"in e?e.config:ae(dn)).network}`,target:"_blank"},ud,8,sd)):(g(),_("a",{key:1,href:`${("config"in e?e.config:ae(dn)).explorerUrl}/object/${e.positionInfo.pos_object_id}?network=${("config"in e?e.config:ae(dn)).network}`,target:"_blank"},dd,8,cd))])]),_:1},8,["loading"]),c("div",{class:we(["left",`position-status-${e.positionInfo&&e.positionInfo.currentStatus&&e.positionInfo.currentStatus.toLowerCase()}`])},[ue(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:pe(()=>[c("div",md,[c("div",null,[c("img",{src:e.fromCoinUrl||e.positionInfo.token_a.logoURI||("importIcon"in e?e.importIcon:ae(Le))(`/image/coins/${e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,pd),c("img",{src:e.toCoinUrl||e.positionInfo.token_b.logoURI||("importIcon"in e?e.importIcon:ae(Le))(`/image/coins/${e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,hd)]),c("span",null,y(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" - "+y(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)]),c("div",vd,y(e.$t("common.fee"))+" "+y(e.positionInfo.fee*100)+"%",1)]),_:1},8,["loading"])],2),c("div",gd,[ue(l,{"current-status":e.positionInfo.currentStatus||""},null,8,["current-status"])]),ue(a,{loading:e.pools.currentPositionLoading,active:"",paragraph:!1},{default:pe(()=>[c("div",yd,[e.rateChange?(g(),_("div",bd,[c("div",wd,y(("addCommom"in e?e.addCommom:ae(Ye))(("decimalFormat"in e?e.decimalFormat:ae(et))(String(e.positionInfo&&e.positionInfo.minPrice),6),6)),1),e.store.theme=="default"?(g(),_("img",kd)):(g(),_("img",Cd)),c("div",_d,y(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:ae(Ye))(("decimalFormat"in e?e.decimalFormat:ae(et))(String(e.positionInfo&&e.positionInfo.maxPrice),6),6))+" "+y(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol)+" per "+y(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol),1)])):(g(),_("div",Id,[c("div",Pd,y(("addCommom"in e?e.addCommom:ae(Ye))(("decimalFormat"in e?e.decimalFormat:ae(et))(String(1/Number(e.positionInfo&&e.positionInfo.maxPrice)),6),6)),1),e.store.theme=="default"?(g(),_("img",$d)):(g(),_("img",Ad)),c("div",Sd,y(e.positionInfo&&e.positionInfo.maxPrice.indexOf("∞")>-1||e.positionInfo&&e.positionInfo.maxPrice.indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:ae(Ye))(("decimalFormat"in e?e.decimalFormat:ae(et))(String(1/Number(e.positionInfo&&e.positionInfo.minPrice)),6),6))+" "+y(e.positionInfo&&e.positionInfo.token_a&&e.positionInfo.token_a.symbol)+" per "+y(e.positionInfo&&e.positionInfo.token_b&&e.positionInfo.token_b.symbol),1)])),(g(),_("svg",{class:"icon-change","aria-hidden":"true",onClick:t[1]||(t[1]=f=>e.rateChange=!e.rateChange)},Nd))])]),_:1},8,["loading"])]),ue(s,{disabled:("checkNullObj"in e?e.checkNullObj:ae(Ot))(e.positionInfo),onClick:t[2]||(t[2]=f=>e.router.push(`/position-detail/1?collect=${e.positionInfo.collectionName}&&token=${e.positionInfo.tokenName}&&address=${e.positionInfo.pool}&pos=${e.positionInfo.pos_object_id}`))},{default:pe(()=>[Ae(y(e.$t("newAdd.viewDetail")),1)]),_:1},8,["disabled"])]),_:1},8,["title"])}const Rd=Je(td,[["render",Md],["__scopeId","data-v-f356628e"]]),Ld=Qe({components:{Modal:Mo},setup(){const e=tt(),t=x(()=>e);return{importIcon:Le,store:t}}}),qd=""+new URL("img-Creat-success_2x.b6f0a395.png",import.meta.url).href,Ud=""+new URL("img-Creat-success.9734ad6f.png",import.meta.url).href;const Fd=e=>(Ut("data-v-d7a9ceb3"),e=e(),Ft(),e),Od=Fd(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Ed={class:"create-success-container"},Bd={key:0,src:qd,alt:""},Dd={key:1,src:Ud,alt:""},Hd={class:"waiting-title"};function zd(e,t,n,o,i,r){const a=Ro("Modal");return g(),fe(a,{visible:!0,class:"",centered:"",title:"",width:"400px",footer:null,onCancel:t[0]||(t[0]=l=>e.$emit("onClose"))},{closeIcon:pe(()=>[Od]),default:pe(()=>[c("div",Ed,[e.store.theme=="default"?(g(),_("img",Bd)):(g(),_("img",Dd)),c("p",Hd,y(e.$t("newAdd.createPoolSuccessText")),1)])]),_:1})}const Vd=Je(Ld,[["render",zd],["__scopeId","data-v-d7a9ceb3"]]),Xd=Qe({components:{Modal:Mo,CoinPairName:Bi},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},currentPrice:{type:String,default:""}},setup(e,t){const{t:n}=Fi(),o=Jn(),i=tt(),r=x(()=>i);return{t:n,route:o,decimalFormat:et,addCommom:Ye,store:r,createPool:()=>{t.emit("createPool")},importIcon:Le}}});const jd=e=>(Ut("data-v-156c71d4"),e=e(),Ft(),e),Kd=jd(()=>c("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Wd={class:"create-pool-content"},Yd={class:"top"},Gd={class:"coin-pair-box"},Qd={class:"induction info"},Jd={class:"item"},Zd={class:"induction-text"},xd={class:"induction-value"},em={class:"item"},tm={class:"induction-text"},nm={class:"induction-value"},om={class:"item"},im={class:"induction-text"},rm={class:"induction-value"},am={class:"min-and-max"},sm={class:"text"},lm={key:0,src:Lo,alt:""},um={key:1,src:qo,alt:""},cm={class:"text"},fm={class:"deposit-amount"},dm={class:"deposit-amount-title"},mm={class:"bottom"},pm=["src"],hm=["src"];function vm(e,t,n,o,i,r){const a=Bi,l=Zn,s=Ro("Modal");return g(),fe(s,{width:"440px",visible:!0,footer:null,title:e.$t("newAdd.preview"),class:"add-liquidity-modal",onCancel:t[0]||(t[0]=u=>e.$emit("onClose"))},{closeIcon:pe(()=>[Kd]),default:pe(()=>{var u,f;return[c("div",Wd,[c("div",Yd,[c("div",Gd,[ue(a,{"from-coin":e.fromCoin,"to-coin":e.toCoin},null,8,["from-coin","to-coin"])]),c("div",Qd,[c("div",Jd,[c("span",Zd,y(e.$t("common.feeTier")),1),c("span",xd,y(((f=(u=e.route)==null?void 0:u.query)==null?void 0:f.fee)*100)+" %",1)]),c("div",em,[c("span",tm,y(e.$t("newAdd.initialPrice")),1),c("span",nm,y(e.currentPrice)+" "+y(e.fromCoin.symbol)+" per "+y(e.toCoin.symbol),1)]),c("div",om,[c("span",im,y(e.$t("newAdd.priceRange")),1),c("span",rm,[c("div",am,[c("div",sm,y(("addCommom"in e?e.addCommom:ae(Ye))(("decimalFormat"in e?e.decimalFormat:ae(et))(e.minPrice,6),6)),1),e.store.theme=="default"?(g(),_("img",lm)):(g(),_("img",um)),c("div",cm,y(e.maxPrice&&String(e.maxPrice).indexOf("+")>-1?"∞":("addCommom"in e?e.addCommom:ae(Ye))(("decimalFormat"in e?e.decimalFormat:ae(et))(e.maxPrice,6),6)),1)])])])])]),c("div",fm,[c("div",dm,y(e.$t("newAdd.depositAmount")),1),c("div",mm,[c("div",null,[c("img",{src:e.fromCoin.logo_url?e.fromCoin.logo_url:e.store.theme=="default"?("importIcon"in e?e.importIcon:ae(Le))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:ae(Le))("/image/coins/sui-unknown.png")},null,8,pm),c("p",null,y(e.fromCoinAmount?e.fromCoinAmount:0),1),c("span",null,y(e.fromCoin.symbol),1)]),c("div",null,[c("img",{src:e.toCoin.logo_url?e.toCoin.logo_url:e.store.theme=="default"?("importIcon"in e?e.importIcon:ae(Le))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:ae(Le))("/image/coins/sui-unknown.png")},null,8,hm),c("p",null,y(e.toCoinAmount?e.toCoinAmount:0),1),c("span",null,y(e.toCoin.symbol),1)])])])]),ue(l,{class:"big-btn liquidity-btn",onClick:e.createPool},{default:pe(()=>[Ae(y(e.$t("newAdd.createAndAddLiquidity")),1)]),_:1},8,["onClick"])]}),_:1},8,["title"])}const gm=Je(Xd,[["render",vm],["__scopeId","data-v-156c71d4"]]),ym={1e-4:2,5e-4:10,.002:60,.006:200},bm={1e-4:2,5e-4:10,.0025:60,.01:200},wm=Qe({setup(){let e=A(!1);const{t,locale:n}=Fi(),o=Fr(),i=x(()=>o),r=tt(),a=A(0),l=A(!1),s=A(!1),u=A(!1),f=A("fromCoin"),h=A(""),d=A(""),k=A(!1),N=A(!0),ee=A(!1),v=A(!0),I=A(!1),C=A(""),b=A(""),m=A(""),w=A(""),R=A(""),J=A(""),O=A(!1),te=A(!1),K=A(!1),T=A(""),G=A(0),L=A(!0),W=A(!1),ve=A([]),D=A(""),H=A(30),Z=A("30D"),V=A("Estimated APR"),X=A([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),j=A(!0),ge=tt(),re=x(()=>ge),lt=x(()=>{var p;return!!((p=ne==null?void 0:ne.query)!=null&&p.action&&(!$.value||!P.value||!T.value))}),E=x(()=>re.value.chainName?No(re.value.chainName):{}),wt=p=>{ft.updateCurrentPools(se.value.poolAddress,re.value.chainName),Z.value=p.time,H.value=p.num},Ie=()=>{j.value=!j.value},Xe=A([]),kt=()=>{a.value=0,ft.updateCurrentPools(se.value.poolAddress,re.value.chainName),dt()},je=x(()=>Number(m.value)>0&&Number(w.value)>0&&Number(m.value)>Number(w.value)),$t=p=>{ee.value=p,m.value="0",w.value="∞"},Oe=x(()=>{if(oe.value.poolConfigList&&$.value&&P.value){const p=oe.value.poolConfigList.filter(Y=>{var ie,le,de,ce;return Y.token_a.address.toUpperCase()===((ie=$.value.address)==null?void 0:ie.toUpperCase())&&Y.token_b.address.toUpperCase()===((le=P.value.address)==null?void 0:le.toUpperCase())||Y.token_b.address.toUpperCase()===((de=$.value.address)==null?void 0:de.toUpperCase())&&Y.token_a.address.toUpperCase()===((ce=P.value.address)==null?void 0:ce.toUpperCase())}),q=[];return p.forEach(Y=>{q.push(Number(Y.fee))}),q}}),Me=x(()=>[{label:.01+"% "+t("common.feeTier"),title:.01+"% ",fee:1e-4,text:t("newAdd.bestVeryStablePairs")},{label:.05+"% "+t("common.feeTier"),title:.05+"% ",fee:5e-4,text:t("newAdd.bestStablePairs")},re.value.chainName=="Aptos"?{label:.2+"% "+t("common.feeTier"),title:.2+"% ",fee:.002,text:t("newAdd.bestMostPairs")}:{label:.25+"% "+t("common.feeTier"),title:.25+"% ",fee:.0025,text:t("newAdd.bestMostPairs")},re.value.chainName=="Aptos"?{label:.6+"% "+t("common.feeTier"),title:.6+"% ",fee:.006,text:t("newAdd.besteExoticPairs")}:{label:1+"% "+t("common.feeTier"),title:1+"% ",fee:.01,text:t("newAdd.besteExoticPairs")}]),De=x(()=>r.slippage),ut=x(()=>!$.value||!P.value),Ue=x(()=>{var p,q;return!!(!C.value&&!b.value||Number(C.value)>Number(Ze.value)||Number(b.value)>Number(xe.value)||B.value!==t("button.addLiquidity")&&B.value!==t("newAdd.preview")||se.value&&se.value&&se.value.is_pause||(p=ne==null?void 0:ne.query)!=null&&p.action&&!Ke.value&&!((q=Ke.value)!=null&&q.currentPrice))}),B=x(()=>{var p;return se.value&&se.value.is_pause?"Pool Closed":ut.value?t("modal.selectTokenModalTitle"):se.value?Number(C.value)>Number(Ze.value)?t("button.insufficientBalance",{name:$.value.symbol}):Number(b.value)>Number(xe.value)?t("button.insufficientBalance",{name:P.value.symbol}):I.value?t("modal.selectTokenModalTitle"):!se.value&&$.value&&P.value&&((p=ne==null?void 0:ne.query)!=null&&p.action)?t("newAdd.preview"):w.value!=="∞"&&Number(m.value)>=Number(w.value)?t("newAdd.invalidRange"):!Number(C.value)&&!Number(b.value)?t("button.enterAmount"):t("button.addLiquidity"):t("button.poolNotFound")}),Q=x(()=>{var p,q,Y;return!se.value||Ot(re.value.addressHistTokens)||!re.value.addressHistTokens[(p=se.value)==null?void 0:p.poolAddress]?null:Object.fromEntries((Y=re.value.addressHistTokens[(q=se.value)==null?void 0:q.poolAddress])==null?void 0:Y.data.map(ie=>[ie.key,ie.value]))}),ot=x(()=>N.value?Q.value&&Ve(Number(H.value==7?Q.value.before_7_d_contract_price_lowest:H.value==24?Q.value.before_24_h_contract_price_lowest:Q.value.before_30_d_contract_price_lowest),6)||0:Q.value&&Ve(1/Number(H.value==7?Q.value.before_7_d_contract_price_highest:H.value==24?Q.value.before_24_h_contract_price_highest:Q.value.before_30_d_contract_price_highest),6)||0),U=x(()=>N.value?Q.value&&Ve(Number(H.value==7?Q.value.before_7_d_contract_price_highest:H.value==24?Q.value.before_24_h_contract_price_highest:Q.value.before_30_d_contract_price_highest),6)||0:(Q.value&&Ve(1/Number(H.value==7?Q.value.before_7_d_contract_price_lowest:H.value==24?Q.value.before_24_h_contract_price_lowest:Q.value.before_30_d_contract_price_lowest),6))==1/0?0:Q.value&&Ve(1/Number(H.value==7?Q.value.before_7_d_contract_price_lowest:H.value==24?Q.value.before_24_h_contract_price_lowest:Q.value.before_30_d_contract_price_lowest),6)||0),z=Ui(),$=A(),P=A();Qn(()=>{document.body.clientWidth<750?(j.value=!1,e.value=!1):(j.value=!0,e.value=!0)});const Se=p=>{p!==m.value&&(D.value="custom"),m.value=p},_n=p=>{p!==w.value&&(D.value="custom"),w.value=p},In=()=>{if(ne.query.action)Ko(1/Ke.value.currentPrice);else if(L.value=!0,L.value=!1,N.value=!N.value,m.value!==""&&w.value!==""&&m.value!=="0"&&w.value!=="∞"){const q=m.value,Y=w.value;m.value=String(1/Number(Y)),w.value=String(1/Number(q));const ie=R.value,le=J.value;R.value=String(1/Number(le)),J.value=String(1/Number(ie)),W.value=!1}const p=$.value;$.value=P.value,P.value=p,v.value?C.value=b.value:b.value=C.value};be([m,w],([p,q])=>{Number(p)!==0&&Number(q)!==0&&dt(),q!=="∞"&&Number(p)!==0&&Number(q)!==0&&Number(p)>=Number(q)?K.value=!0:K.value=!1});const Pn=p=>{var q,Y,ie,le;f.value=p,p==="fromCoin"?(h.value=((q=P.value)==null?void 0:q.address)||"",d.value=((Y=$.value)==null?void 0:Y.address)||""):(h.value=((ie=$.value)==null?void 0:ie.address)||"",d.value=((le=P.value)==null?void 0:le.address)||""),k.value=!0},it=A(),rt=A(),$n=p=>{I.value=!1,f.value==="fromCoin"?(P.value&&p.address.toLowerCase()===(P==null?void 0:P.value.address.toLowerCase())&&(P.value=null,rt.value=null,T.value=""),$.value=p,it.value=p):($.value&&p.address.toLowerCase()===($==null?void 0:$.value.address.toLowerCase())&&($.value=null,it.value=null,T.value=""),P.value=p,rt.value=p),k.value=!1},An=p=>{p==="fromCoin"?(v.value=!0,re.value.chainName==="Aptos"?C.value=Number(Ze.value)>0?$.value.symbol=="APT"?new F(Number(Ze.value)).sub(new F(.1)).lt(new F(0))?"0":new F(Number(Ze.value)).sub(new F(.1)).toString():String(Ze.value):"":C.value=Number(Ze.value)>0?$.value.symbol=="SUI"?new F(Number(Ze.value)).sub(new F(1e-4)).lt(new F(0))?"0":new F(Number(Ze.value)).sub(new F(1e-4)).toString():String(Ze.value):""):(v.value=!1,re.value.chainName==="Aptos"?b.value=Number(xe.value)>0?P.value.symbol=="APT"?new F(Number(xe.value)).sub(new F(.1)).lt(new F(0))?"0":new F(Number(xe.value)).sub(new F(.1)).toString():String(xe.value):"":b.value=Number(xe.value)>0?P.value.symbol=="SUI"?new F(Number(xe.value)).sub(new F(1e-4)).lt(new F(0))?"0":new F(Number(xe.value)).sub(new F(1e-4)).toString():String(xe.value):"")},Sn=p=>{p==="fromCoin"?(v.value=!0,C.value=Number(Ze.value)>0?so(new F(Number(Ze.value)).div(2).toString(),$.value.decimals).toString():""):(v.value=!1,b.value=Number(xe.value)>0?so(new F(Number(xe.value)).div(2).toString(),P.value.decimals).toString():"")};be(C,(p,q)=>{p==""&&v.value&&(b.value=""),p&&v.value&&dt()}),be(b,(p,q)=>{p==""&&!v.value&&(C.value=""),p&&!v.value&&dt()});const Tn=()=>{$.value=null,P.value=null,m.value="0",w.value="0",C.value="",b.value="",I.value=!0,T.value="",O.value=!1,Pe.value=!0,$e.value=!0,L.value=!1},Wt=A(!1),{setIsShowSuccess:Et,setIsShowRejected:Bt,setIsShowWaiting:ct,setTransactionDesc:sn,setTransactionTxid:Dt,setPositiomNum:ln}=r,ne=Jn(),ft=an(),oe=x(()=>ft);be(()=>[oe.value.tokens,oe.value.chinaTokens],([p,q])=>{if(p&&q){const Y=Object.fromEntries(p.concat(q).map(ie=>[ie.address,ie]));ne&&ne.query&&ne.query.tokena?($.value=cn(Y,ne.query.tokena),it.value=cn(Y,ne.query.tokena)):$.value=cn(Y,"0xf22bede237a07e121b56d91a491eb7bcdfd1f5907926a9e58338f964a01b17fa::asset::USDT"),ne&&ne.query&&ne.query.tokenb&&(P.value=cn(Y,ne.query.tokenb),rt.value=cn(Y,ne.query.tokenb))}},{immediate:!0});const At=A({}),Pe=A(!1),$e=A(!1),Yt=A(),Gt=A(),St=A(),Tt=A(),dt=async()=>{var at,We,Ct,Te;if(!m.value&&!w.value)return!1;if(!C.value&&!b.value&&!m.value&&!w.value)return;const p=se.value?se.value:Ke.value;if(Ot(p))return;const{TickUtil:q,TickMath:Y,getNearestTickByTick:ie}=E.value,le=p==null?void 0:p.token_a.decimals,de=p==null?void 0:p.token_b.decimals;let ce,Ce,me,he,ke,_e,Fe,qe,Ne=p.current_tick_index,ye;if(p.token_a.address.toLowerCase()===$.value.address.toLowerCase()&&p.token_b.address.toLowerCase()===P.value.address.toLowerCase()?ye=!0:ye=!1,m.value==="0"&&w.value==="∞"?(me=q.getMinIndex(Number(p.tickSpacing)),he=q.getMaxIndex(Number(p.tickSpacing)),ke=Y.tickIndexToSqrtPriceX64(me),_e=Y.tickIndexToSqrtPriceX64(he)):D.value=="custom"||ne.query.action?(ye?(ce=Number(m.value),Ce=Number(w.value)):(ce=1/Number(w.value),Ce=1/Number(m.value)),Fe=ce==0?-443630:Y.priceToTickIndex(new F(ce),le,de),qe=Y.priceToTickIndex(new F(Ce),le,de),me=ie(Fe,Number(p.tickSpacing)),he=ie(qe,Number(p.tickSpacing)),ke=Y.priceToSqrtPriceX64(new F(ce),le,de),_e=Y.priceToSqrtPriceX64(new F(Ce),le,de)):(me=(at=un.value[D.value])==null?void 0:at.lower,he=(We=un.value[D.value])==null?void 0:We.upper,ke=Y.tickIndexToSqrtPriceX64(me),_e=Y.tickIndexToSqrtPriceX64(he)),w.value!=="∞"&&me>=he){Pe.value=!0,C.value="",$e.value=!0,b.value="";return}if(w.value==="∞"||Ne>me&&Ne<he){Pe.value=!1,$e.value=!1;let Re;if(C.value||b.value){if(v.value){const st=new F(C.value).mul(Math.pow(10,$.value.decimals)).toString();Re=new ht(st)}else{const st=new F(b.value).mul(Math.pow(10,P.value.decimals)).toString();Re=new ht(st)}const{liquidityAmount:He,tokenMaxA:_t,tokenMaxB:mt,tokenMaxAOrigin:pt,tokenMaxBOrigin:Nt}=E.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:p.token_a,tokenB:p.token_b,lowerTick:me,upperTick:he,coinAmount:Re,iscoinA:ye?v.value:!v.value,roundUp:!0,slippage:Number(De.value)/100,curSqrtPrice:new ht(p.current_sqrt_price)});At.value={liquidityAmount:He,tokenMaxA:_t,tokenMaxB:mt,tokenMaxAOrigin:pt,tokenMaxBOrigin:Nt},ye?v.value?b.value=Number(mt)>0?mt:"":C.value=Number(_t)>0?_t:"":v.value?b.value=_t:C.value=mt}}else if(Ne>=he){if(ye?C.value="":b.value="",Pe.value=ye,$e.value=!ye,C.value||b.value){let Re;if(ye){const He=new F(b.value).mul(Math.pow(10,(Ct=P.value)==null?void 0:Ct.decimals)).toString();Re=new ht(He),At.value={liquidityAmount:E.value.estimateLiquidityForCoinB(ke,_e,Re),tokenMaxA:0,tokenMaxB:b.value}}else{const He=new F(C.value).mul(Math.pow(10,(Te=$.value)==null?void 0:Te.decimals)).toString();Re=new ht(He),At.value={liquidityAmount:E.value.estimateLiquidityForCoinB(ke,_e,Re),tokenMaxA:0,tokenMaxB:C.value}}}}else if(Ne<=me){if(Pe.value=!ye,$e.value=ye,ye?b.value="":C.value="",C.value||b.value){let Re;if(ye){const He=new F(C.value).mul(Math.pow(10,$.value.decimals)).toString();Re=new ht(He),At.value={liquidityAmount:E.value.estimateLiquidityForCoinA(ke,_e,Re),tokenMaxA:C.value,tokenMaxB:0}}else{const He=new F(b.value).mul(Math.pow(10,P.value.decimals)).toString();Re=new ht(He),At.value={liquidityAmount:E.value.estimateLiquidityForCoinA(ke,_e,Re),tokenMaxA:b.value,tokenMaxB:0}}}}else Pe.value=!0,C.value="",$e.value=!0,b.value=""},S=A(0);be(()=>ne.query,p=>{p&&p.fee&&(S.value=p.fee,T.value=Number(p.fee)*100+"% "+t("common.feeTier"))},{immediate:!0,deep:!0}),be(()=>[$.value,P.value],([p,q])=>{},{immediate:!0});const Ht=x(()=>{var le,de,ce,Ce,me,he,ke,_e,Fe,qe,Ne,ye,at,We,Ct,Te,Re,He,_t,mt,pt,Nt,st;const p=(le=ne==null?void 0:ne.query)==null?void 0:le.fee,q=(de=ne==null?void 0:ne.query)==null?void 0:de.tokena,Y=(ce=ne==null?void 0:ne.query)==null?void 0:ce.tokenb;let ie=null;for(let Qt=0;Qt<oe.value.poolConfigList.length;Qt++){const ze=oe.value.poolConfigList[Qt];!q||!Y?ie={}:p?(ze.token_a.address.toUpperCase()===((me=(Ce=$==null?void 0:$.value)==null?void 0:Ce.address)==null?void 0:me.toUpperCase())&&(ze.token_b.address.toUpperCase(),(ke=(he=P==null?void 0:P.value)==null?void 0:he.address)==null||ke.toUpperCase()),(ze.token_a.address.toUpperCase()===((Fe=(_e=$==null?void 0:$.value)==null?void 0:_e.address)==null?void 0:Fe.toUpperCase())&&ze.token_b.address.toUpperCase()===((Ne=(qe=P==null?void 0:P.value)==null?void 0:qe.address)==null?void 0:Ne.toUpperCase())||ze.token_b.address.toUpperCase()===((at=(ye=$==null?void 0:$.value)==null?void 0:ye.address)==null?void 0:at.toUpperCase())&&ze.token_a.address.toUpperCase()===((Ct=(We=P==null?void 0:P.value)==null?void 0:We.address)==null?void 0:Ct.toUpperCase()))&&(ie=ze)):(ze.token_a.address.toUpperCase()===((Re=(Te=$==null?void 0:$.value)==null?void 0:Te.address)==null?void 0:Re.toUpperCase())&&ze.token_b.address.toUpperCase()===((_t=(He=P==null?void 0:P.value)==null?void 0:He.address)==null?void 0:_t.toUpperCase())||ze.token_b.address.toUpperCase()===((pt=(mt=$==null?void 0:$.value)==null?void 0:mt.address)==null?void 0:pt.toUpperCase())&&ze.token_a.address.toUpperCase()===((st=(Nt=P==null?void 0:P.value)==null?void 0:Nt.address)==null?void 0:st.toUpperCase()))&&(ie=ze)}return ie}),se=x(()=>{var q,Y,ie,le,de,ce,Ce,me,he,ke,_e,Fe,qe,Ne,ye,at;const p=(q=ne==null?void 0:ne.query)==null?void 0:q.fee;if(oe.value.newTokenObj&&$.value&&P.value){let We=null;for(const Ct in oe.value.poolsObj){const Te=oe.value.poolsObj[Ct];p?(Te.token_a.address.toUpperCase()===((ie=(Y=$==null?void 0:$.value)==null?void 0:Y.address)==null?void 0:ie.toUpperCase())&&(Te.token_b.address.toUpperCase(),(de=(le=P==null?void 0:P.value)==null?void 0:le.address)==null||de.toUpperCase()),(Te.token_a.address.toUpperCase()===((Ce=(ce=$==null?void 0:$.value)==null?void 0:ce.address)==null?void 0:Ce.toUpperCase())&&Te.token_b.address.toUpperCase()===((he=(me=P==null?void 0:P.value)==null?void 0:me.address)==null?void 0:he.toUpperCase())||Te.token_b.address.toUpperCase()===((ke=$==null?void 0:$.value.address)==null?void 0:ke.toUpperCase())&&Te.token_a.address.toUpperCase()===((Fe=(_e=P==null?void 0:P.value)==null?void 0:_e.address)==null?void 0:Fe.toUpperCase()))&&(We=Te)):(Te.token_a.address.toUpperCase()===((qe=$==null?void 0:$.value.address)==null?void 0:qe.toUpperCase())&&Te.token_b.address.toUpperCase()===((Ne=P.value.address)==null?void 0:Ne.toUpperCase())||Te.token_b.address.toUpperCase()===((ye=$==null?void 0:$.value.address)==null?void 0:ye.toUpperCase())&&Te.token_a.address.toUpperCase()===((at=P.value.address)==null?void 0:at.toUpperCase()))&&(We=Te)}return We&&!Ot(We)?We:null}return null});be(()=>[Ht.value,se.value,oe.value.recommendRangesObj],(p,q)=>{p[0]&&!p[1]&&p[2]&&p[2][p[0].address]&&(!q||p[0]&&p[0].address!==q[0]&&q[0].address)&&ft.setSinglePool(p[0],p[2][p[0].address],re.value.chainName)},{immediate:!0});const un=A({}),Cr=async(p,q)=>{if(p){const{TickMath:Y,getNearestTickByTick:ie}=E.value;q&&(L.value=!0),p.token_a.address.toLowerCase()===$.value.address.toLowerCase()&&p.token_b.address.toLowerCase()===P.value.address.toLowerCase()?N.value=!0:N.value=!1,W.value=!0;const le=p.token_a.decimals,de=p.token_b.decimals;Pe.value=!1,$e.value=!1,T.value=p.fee*100+"% "+t("common.feeTier");const ce=p.current_tick_index;St.value=Y.sqrtPriceX64ToPrice(p.current_sqrt_price,le,de).toString(),Tt.value=String(1/St.value);const Ce=await E.value.getTicks(p);if(ve.value=Ce?E.value.getTickDataFromUrlData(Ce):[],q){let me=oe.value.poolPriceConfigObj&&oe.value.poolPriceConfigObj[p.address]&&oe.value.poolPriceConfigObj[p.address].recommend_ranges||{};const he=oe.value.poolPriceConfigObj&&oe.value.poolPriceConfigObj[p.address]&&oe.value.poolPriceConfigObj[p.address].type||"",ke=ce-Number(he=="unstable"?Number(se.value.tickSpacing)*2:Number(se.value.tickSpacing)*3),_e=ce+Number(he=="unstable"?Number(se.value.tickSpacing)*2:Number(se.value.tickSpacing)*3);me["full range"]={lower:-443630,upper:443630},me.custom={lower:ke,upper:_e};const Fe=[];for(let qe in me)Fe.push({...me[qe],key:qe});Xe.value=Fe,he?p.isSelfBuilt?D.value="custom":he=="stable"?D.value="suggested":D.value="passive":D.value="custom",un.value=me,jo({key:D.value,...me[D.value]})}L.value=!1}else L.value=!1},_r=x(()=>ft.getPoolInfoSuccess);be(()=>se.value,(p,q)=>{p?(!q||p.poolAddress!==q.poolAddress||p.current_sqrt_price!==q.current_sqrt_price)&&Cr(p,!q||p.poolAddress!==q.poolAddress):(Pe.value=!1,$e.value=!1,L.value=!1,St.value="",Tt.value="")},{immediate:!0});const Ze=x(()=>i.value.assets&&$.value&&i.value.assets[$.value.address]?Wo(i.value.assets[$.value.address].balance,$.value.decimals):"0"),xe=x(()=>i.value.assets&&P.value&&i.value.assets[P.value.address]?Wo(i.value.assets[P.value.address].balance,P.value.decimals):"0"),Ir=async()=>{const p=await E.value.getTicks(se.value);ve.value=p?E.value.getTickDataFromUrlData(p):[]},Pr=async()=>{var he,ke,_e,Fe,qe,Ne,ye,at,We,Ct,Te,Re,He,_t;Wt.value=!1,oe.value.currentPositionInfo={},Dt(""),sn(t("tips.increaseLiquiditySuccess",{from:Pe.value?"":`${C.value} ${(he=$.value)==null?void 0:he.symbol}`,and:!Pe.value&&!$e.value?"and":"",to:$e.value?"":`${b.value} ${(ke=P.value)==null?void 0:ke.symbol}`})),ct(!0);const p=N.value?v.value:!v.value;let q,Y,ie,le,de,ce;const Ce=se.value.token_a.decimals,me=se.value.token_b.decimals;m.value==="0"&&w.value==="∞"?(ie=E.value.TickUtil.getMinIndex(Number(se.value.tickSpacing)),le=E.value.TickUtil.getMaxIndex(Number(se.value.tickSpacing))):D.value=="custom"?(N.value?(q=Number(m.value),Y=Number(w.value)):(q=1/Number(w.value),Y=1/Number(m.value)),de=q==0?-443630:E.value.TickMath.priceToTickIndex(new F(q),Ce,me),ce=E.value.TickMath.priceToTickIndex(new F(Y),Ce,me),ie=E.value.getNearestTickByTick(de,Number(se.value.tickSpacing)),le=E.value.getNearestTickByTick(ce,Number(se.value.tickSpacing))):(ie=un.value[D.value].lower,le=un.value[D.value].upper);try{const mt=await E.value.getAddLiquidityTransactionPayload({pool:{poolAddress:se.value.poolAddress,token_a:se.value.token_a,token_b:se.value.token_b},amount:v.value?C.value:b.value,fix_amount_a:p,tick_lower:ie,tick_upper:le,index:0,slippage:Number(De.value)/100,roundUp:!0});let pt;if(re.value.chainName==="Aptos")pt=await i.value.currentWallet.signAndSubmitTransaction(mt);else{const Nt=await i.value.currentWallet.signAndExecuteTransaction(mt);pt=E.value.handleTx(Nt)}if(pt&&pt.hash){Dt(pt.hash),ct(!1),Et(!0);const Nt={title:t("button.addLiquidity"),desc:t("tips.addLiquiditySuccessText",{from:Pe.value?"":`${C.value} ${(_e=$.value)==null?void 0:_e.symbol}`,and:!Pe.value&&!$e.value?"and":"",to:$e.value?"":`${b.value} ${(Fe=P.value)==null?void 0:Fe.symbol}`}),hash:pt.hash,tit:"Position Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(qe=$.value)==null?void 0:qe.symbol}`,numa:Pe.value?"":`- ${C.value}`,logoa:oe.value.tokensObj&&$.value&&$.value.address&&oe.value.tokensObj[$.value.address]&&oe.value.tokensObj[$.value.address].logoURI,tokenb:`${(Ne=P.value)==null?void 0:Ne.symbol}`,numb:$e.value?"":`- ${b.value}`,logob:oe.value.tokensObj&&P.value&&P.value.address&&oe.value.tokensObj[P.value.address]&&oe.value.tokensObj[P.value.address].logoURI},text:`Deopsit ${Pe.value?"":`${C.value} ${(ye=$.value)==null?void 0:ye.symbol}`} ${!Pe.value&&!$e.value?"and":""} ${$e.value?"":`${b.value} ${(at=P.value)==null?void 0:at.symbol}`}`};E.value.showTransitionPending(Nt);const st=await E.value.watchTransaction(Nt,!0);if(st.status){if(Et(!1),oe.value.setCurrentPositionLoading(!0),re.value.chainName==="Aptos")oe.value.setCurrentPositionInfo(st.nftInfo[0].data.id.creator,st.nftInfo[0].data.id.collection,st.nftInfo[0].data.name,re.value.chainName);else{const Qt=st.nftInfo.filter(ze=>ze.moveEvent&&ze.moveEvent.type.includes("OpenPositionEvent"));oe.value.setCurrentPositionInfo((Te=(Ct=(We=Qt[0])==null?void 0:We.moveEvent)==null?void 0:Ct.fields)==null?void 0:Te.pool,"","",re.value.chainName,(_t=(He=(Re=Qt[0])==null?void 0:Re.moveEvent)==null?void 0:He.fields)==null?void 0:_t.position)}s.value=!0,setTimeout(()=>{ft.updateCurrentPools(se.value.poolAddress,re.value.chainName),E.value.getAccount(i.value.address)},1e3),setTimeout(async()=>{Ir()},3e3)}ln()}else ct(!1),Bt(!0);C.value="",b.value=""}catch{C.value="",b.value="",ct(!1),Bt(!0)}},$r=p=>{switch(p){case"active":return t("newAdd.activeTips");case"passive":return t("newAdd.passiveTips");case"full range":return t("newAdd.fullRangTips");case"suggested":return t("newAdd.suggestedTips");case"custom":return t("newAdd.customTips")}},Ar=p=>{switch(p){case"suggested":return t("newAdd.suggested");case"active":return t("newAdd.active");case"passive":return t("newAdd.conservative");case"full range":return t("newAdd.fullRange");case"custom":return t("newAdd.custom")}},jo=p=>{D.value=p.key.toLowerCase();const q=se.value.token_a.decimals,Y=se.value.token_b.decimals,{lower:ie,upper:le}=p,de=E.value.TickMath.tickIndexToPrice(ie,q,Y).toString(),ce=E.value.TickMath.tickIndexToPrice(le,q,Y).toString();if(p.key=="full range"){Yt.value=ie,Gt.value=le,$t(!0),dt();return}N.value?(R.value=String(de),m.value=String(de),J.value=String(ce),w.value=String(ce),Yt.value=ie,Gt.value=le,dt()):(R.value=String(1/Number(ce)),m.value=String(1/Number(ce)),J.value=String(1/Number(de)),w.value=String(1/Number(de)),Yt.value=E.value.TickMath.priceToTickIndex(new F(1/Number(ce)),q,Y),Gt.value=E.value.TickMath.priceToTickIndex(new F(1/Number(de)),q,Y),dt())},Sr=x(()=>oe.value.newTokenObj&&$.value.address&&oe.value.newTokenObj[$.value.address]&&oe.value.newTokenObj[$.value.address].logoURI),Tr=x(()=>oe.value.newTokenObj&&P.value.address&&oe.value.newTokenObj[P.value.address]&&oe.value.newTokenObj[P.value.address].logoURI),Nr=p=>{Oe.value.includes(p.fee)?(T.value=p.label,S.value=p.fee,z.push(`/deposit?tokena=${$.value.address}&tokenb=${P.value.address}&fee=${p.fee}`),m.value="0",w.value="0"):(z.push(`/deposit?action=create-pool&tokena=${$.value.address}&tokenb=${P.value.address}&fee=${p.fee}`),se.value&&(m.value="",w.value=""))},oo=A(!1),Mr=()=>{se.value?Wt.value=!0:oo.value=!0},Ke=A(null),io=A(""),ro=A(""),Ko=p=>{p?(io.value=p,St.value=p,Tt.value=p,ro.value=Tt.value):(io.value="",St.value="",Tt.value="",ro.value="");const q=re.value.chainName=="Aptos"?ym:bm;if($.value&&P.value&&p){const Y=p&&E.value.TickMath.priceToSqrtPriceX64(new F(p),it.value.decimals,rt.value.decimals),ie=p&&E.value.TickMath.priceToSqrtPriceX64(new F(1/p),$.value.decimals,P.value.decimals),le=it.value.decimals,de=rt.value.decimals,ce=E.value.TickMath.priceToTickIndex(new F(p),le,de,q[ne.query.fee]),Ce=ce-q[ne.query.fee]*5,me=ce+q[ne.query.fee]*5,he=E.value.TickMath.tickIndexToPrice(Ce,le,de).toString(),ke=E.value.TickMath.tickIndexToPrice(me,le,de).toString();m.value=he,w.value=ke,R.value=he,J.value=ke;const _e={token_a:it.value,token_b:rt.value,isCreate:!0,tickSpacing:q[ne.query.fee],currentPrice:p,current_sqrt_price:Y,tick_lower:Ce,tick_upper:me,current_tick_index:ce,currentPriceReverse:et(String(1/p),6),reverse_current_sqrt_price:ie};Ke.value=_e,dt()}else Ke.value=null,m.value="",w.value=""};return{isCreateSuccess:l,intPriceReverse:ro,isShowMask:lt,isPc:e,intPrice:io,createPoolToCoin:rt,createPoolFromCoin:it,getPoolInfoSuccess:_r,toCreatePool:async()=>{var he,ke,_e,Fe;oo.value=!1;let p,q,Y,ie,le,de;const ce=it.value.decimals,Ce=rt.value.decimals;Dt(""),sn(t("tips.increaseLiquiditySuccess",{from:Pe.value?"":`${C.value} ${(he=$.value)==null?void 0:he.symbol}`,and:!Pe.value&&!$e.value?"and":"",to:$e.value?"":`${b.value} ${(ke=P.value)==null?void 0:ke.symbol}`})),ct(!0),m.value==="0"&&w.value==="∞"?(Y=E.value.TickUtil.getMinIndex(Number(Ke.value.tickSpacing)),ie=E.value.TickUtil.getMaxIndex(Number(Ke.value.tickSpacing))):(N.value?(p=Number(m.value),q=Number(w.value)):(p=1/Number(w.value),q=1/Number(m.value)),le=p==0?-443630:E.value.TickMath.priceToTickIndex(new F(p),ce,Ce),de=E.value.TickMath.priceToTickIndex(new F(q),ce,Ce),Y=E.value.getNearestTickByTick(le,Number(Ke.value.tickSpacing)),ie=E.value.getNearestTickByTick(de,Number(Ke.value.tickSpacing)));const me=N.value?v.value:!v.value;try{const qe=await E.value.getCreatPoolTransactionPayload({coinTypeA:it.value.address,coinTypeB:rt.value.address,tick_spacing:Number(Ke.value.tickSpacing),initialize_sqrt_price:new ht(Ke.value.current_sqrt_price),uri:"",current_tick_index:Ke.value.current_tick_index,max_amount_a:N.value?C.value:b.value,max_amount_b:N.value?b.value:C.value,tick_lower:Y,tick_upper:ie,slippage:Number(De.value)/100,decimalsA:ce,decimalsB:Ce,fix_amount_a:me,liquidityInput:At.value});let Ne;if(re.value.chainName==="Aptos")Ne=await i.value.currentWallet.signAndSubmitTransaction(qe);else{const ye=await i.value.currentWallet.signAndExecuteTransaction(qe);Ne=E.value.handleTx(ye)}if(Ne&&Ne.hash){Dt(Ne.hash),ct(!1),Et(!0);const ye={title:"Created pool",desc:"Pool created successfully ",hash:Ne.hash,tit:"Pool Created",icon:"icon-icon-Position-Created",tokenInfo:{tokena:`${(_e=$.value)==null?void 0:_e.symbol}`,numa:Pe.value?"":`- ${C.value}`,logoa:oe.value.tokensObj&&$.value&&$.value.address&&oe.value.tokensObj[$.value.address]&&oe.value.tokensObj[$.value.address].logoURI,tokenb:`${(Fe=P.value)==null?void 0:Fe.symbol}`,numb:$e.value?"":`- ${b.value}`,logob:oe.value.tokensObj&&P.value&&P.value.address&&oe.value.tokensObj[P.value.address]&&oe.value.tokensObj[P.value.address].logoURI},text:"Pool created successfully"};E.value.showTransitionPending(ye),(await E.value.watchTransaction(ye,!0)).status&&(Et(!1),l.value=!0,setTimeout(()=>{ft.setPoolConfigList(re.value.chainName),E.value.getAccount(i.value.address)},1e3)),ln()}else ct(!1),Bt(!0);C.value="",b.value=""}catch{ft.setPoolConfigList(re.value.chainName),C.value="",b.value="",ct(!1),Bt(!0)}},createPoolInfo:Ke,changecurrentPrice:Ko,isShowCreatePoolModal:oo,addOrCreate:Mr,halfBtnSelect:Sn,selectFee:Nr,isViewDetail:s,addCommom:Ye,decimalUi:Ve,fromCoinUrl:Sr,toCoinUrl:Tr,t,wallet:i,toAdd:Pr,chartLoading:L,currentTick:G,tickList:ve,poolInfo:se,storeIndex:re,importIcon:Le,addLiquidityBtnText:B,slippage:De,countdown:a,loading:u,fromCoin:$,toCoin:P,openCoinSelect:Pn,onCoinSelect:$n,existingCoins:h,lastSelectCoin:d,currentCoinKey:f,showCoinSelect:k,fromCoinAmount:C,toCoinAmount:b,maxBtnSelect:An,fixedFromCoin:v,isShowLiquidityModal:Wt,direct:N,toggle:In,edit:O,inputValue:T,feeTierList:Me,minPrice:m,maxPrice:w,invalidPriceRange:je,defaultMinPrice:R,defaultMaxPrice:J,priceRangeChangeMin:Se,priceRangeChangeMax:_n,toFullRange:$t,clearAll:Tn,clickClear:I,positionError:K,positionTips:te,router:z,clickRefresh:kt,fromCoinBlance:Ze,toCoinBlance:xe,showToCoinLock:$e,showFromCoinLock:Pe,currentPriceReverse:Tt,currentPrice:St,getPirceText:$r,currentPriceTab:D,currentPriceTabList:Xe,getPirceKey:Ar,priceTab:jo,aprRewardsParameter:H,aprRewardsDateList:X,aprTab:wt,reviseValue:Ie,label:j,aprTitle:V,isCreatePool:Oe,before7dContractPriceLowest:ot,before7dContractPriceHighest:U,aprRewardsTime:Z,addLiquidityBtnDisabled:Ue,checkNullObj:Ot,sFixD:so}}}),Ti="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAAJFBMVEVHcEwlW04mW04oXlEmW04SHx4jR0B2/9wQFBMVJyVk17szaV2jJaSaAAAABHRSTlMA8K8m/cUwkQAAAL5JREFUSMdjYMAKmBWFDBgIAUMXF2GCilQy2pyQ+Swu2EBHhyNIkgnIdMCjyCUUCMJgilxDMUFKRpsblBmCU9EUFxdPgooiU9ymElSEBEYVDR1FkaumElYUVp46qmjAFTGruE0lqMgQkaGnpYFAdvk2MJ2JpEgFUTQsL0cGVUiKRKCFDLGKiLKOKIdTGASjSYWWiogqMEYL1lFFWJoRTgYEFU0Bt6QIKEoBt6SwN43QWlJEKSKx4UZ+ExDUmAQAo9rc9CAs4WAAAAAASUVORK5CYII=",Ni="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABIBAMAAACnw650AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAeUExURUdwTANNcARNcAdKcgEdMQRNcBM8V3bI/2Gq2ihWdudYHvAAAAAEdFJOUwDwryb9xTCRAAAAuklEQVRIx2NgwAqYFYUMGAgBw9BQYYKKVFPcgpD5rKHYgItLIEiSCcgMwKMIiFxcXGGKQlwwQWqKWxiU6YpTEdCEEIKKXFLDXAgrQjJ0VNHQUdRBhCK38pRRRQOuiFk1jLAiQ0SGdksDgczyaWA6BUmRKqJoaC9HBhVIikShhQyxioiyjiiHUxgEo0mFloqIKjBGC9ZRRViaEUEGBBW5gltSBBSFgltS2JtGaC0pohSR2HAjvwkIakwCANqYbmgtLE7YAAAAAElFTkSuQmCC",wr=""+new URL("img-no-data_2x.e925467a.png",import.meta.url).href,kr=""+new URL("img-no-data_2x.8bc9afa2.png",import.meta.url).href;const Kt=e=>(Ut("data-v-ff97a9a1"),e=e(),Ft(),e),km={class:"pools-container"},Cm={key:0,class:"content pc-content"},_m={class:"content-left"},Im={class:"content-left-bg"},Pm={class:"content-left-title"},$m={key:0,class:"pool-warning"},Am={class:"coin-select"},Sm={class:"pool-fee-header"},Tm={key:0,class:"fee-container"},Nm=["onClick"],Mm={key:0},Rm={key:1},Lm={class:"deposit-title"},qm={class:"card-container"},Um={class:"card-item"},Fm={class:"card-item"},Om={key:0,class:"icon","aria-hidden":"true"},Em=Kt(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),Bm=[Em],Dm={class:"pc-network"},Hm={class:"content-right"},zm={key:0,class:"initPrice-mask"},Vm={class:"content-right-title"},Xm=Kt(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),jm={class:"content-right-bg"},Km={key:1,class:"price-tab"},Wm=["onClick"],Ym={key:2,class:"create-pool-tips"},Gm={key:3,class:"set-price-range"},Qm={key:0},Jm={key:1,class:"coin"},Zm={key:2,class:"coin"},xm={key:3,class:"no-price"},ep={key:4,class:"toggle"},tp=["src"],np=["src"],op={key:6,class:"position-tips"},ip=["src"],rp={class:"tips"},ap={key:7,class:"position-tips"},sp=["src"],lp={class:"error"},up={key:8,class:"d3-chart-box"},cp={key:9,class:"day-7-price-range"},fp=Kt(()=>c("i",null,null,-1)),dp={class:"gray"},mp={key:11,class:"create-pool-tips"},pp={key:1,class:"no-data"},hp={key:0,src:wr,alt:""},vp={key:1,src:kr,alt:""},gp={key:1,class:"content h5-content"},yp={class:"content-left"},bp={class:"content-left-bg"},wp={class:"content-left-title"},kp={key:0,class:"pool-warning"},Cp={class:"coin-select"},_p={class:"pool-fee-header"},Ip={key:0,class:"fee-container"},Pp=["onClick"],$p={key:0},Ap={key:1},Sp={class:"content-right"},Tp={key:0,class:"initPrice-mask"},Np={class:"content-right-title"},Mp=Kt(()=>c("svg",{class:"icon","aria-hidden":"true"},[c("use",{"xlink:href":"#icon-icon-information"})],-1)),Rp={class:"content-right-bg"},Lp={key:1,class:"price-tab"},qp=["onClick"],Up={key:2,class:"create-pool-tips"},Fp={key:3,class:"set-price-range"},Op={key:0},Ep={key:1,class:"coin"},Bp={key:2,class:"coin"},Dp={key:3,class:"no-price"},Hp={key:4,class:"toggle"},zp=["src"],Vp=["src"],Xp={key:6,class:"position-tips"},jp=["src"],Kp={class:"tips"},Wp={key:7,class:"position-tips"},Yp=["src"],Gp={class:"error"},Qp={key:8,class:"d3-chart-box"},Jp={key:9,class:"day-7-price-range"},Zp=Kt(()=>c("i",null,null,-1)),xp={class:"gray"},eh={key:11,class:"create-pool-tips"},th={key:1,class:"no-data"},nh={key:0,src:wr,alt:""},oh={key:1,src:kr,alt:""},ih={key:0,class:"icon","aria-hidden":"true"},rh=Kt(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),ah=[rh],sh={class:"pc-network"},lh={class:"new-right"},uh={class:"deposit-title"},ch={class:"card-container"},fh={class:"card-item"},dh={class:"card-item"},mh={key:0,class:"icon","aria-hidden":"true"},ph=Kt(()=>c("use",{"xlink:href":"#icon-icon-add"},null,-1)),hh=[ph],vh={class:"h5-network"};function gh(e,t,n,o,i,r){var T,G,L,W,ve,D,H,Z,V,X,j,ge,re,lt,E,wt,Ie,Xe,kt,je,$t,Oe,Me,De,ut,Ue,B,Q,ot,U,z,$,P,Se,_n,In,Pn,it,rt,$n,An,Sn,Tn,Wt,Et,Bt,ct,sn,Dt,ln,ne,ft,oe,At,Pe,$e,Yt,Gt,St,Tt,dt;const a=Rr,l=ea,s=Mi,u=ca,f=Dr,h=ga,d=_a,k=qa,N=Zn,ee=Ur,v=Ba,I=rs,C=Tf,b=qi,m=Vr,w=ed,R=Hr,J=zr,O=Rd,te=Vd,K=gm;return g(),_("div",km,[ue(a),ue(l,{"pool-info":e.poolInfo,onClearAll:e.clearAll,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClearAll","onClickRefresh"]),e.isPc?(g(),_("div",Cm,[c("div",_m,[c("div",Im,[c("div",Pm,[Ae(y(e.$t("common.selectPool"))+" ",1),ue(s,{placement:"bottom","arrow-point-at-center":""},{title:pe(()=>[c("span",null,y(e.t("newAdd.poolWarning")),1)]),default:pe(()=>[e.poolInfo&&e.poolInfo.isSelfBuilt?(g(),_("div",$m)):M("",!0)]),_:1})]),c("div",Am,[ue(u,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[0]||(t[0]=S=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ue(u,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:t[1]||(t[1]=S=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),c("div",{class:we(["pool-fee",e.edit?"pool-fee-edit":""])},[c("div",Sm,[c("span",{class:we(e.inputValue?"":"fee-span")},y(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3)]),e.edit?(g(),_("div",Tm,[(g(!0),_(Lt,null,mn(e.feeTierList,(S,Ht)=>(g(),_("div",{key:Ht,class:we(["fee-item",[e.inputValue&&e.inputValue==S.label?"fee-item-active":"",e.isCreatePool&&e.isCreatePool.includes(S.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:se=>e.selectFee(S)},[e.$route.query.action?(g(),_("div",Mm,[c("p",null,y(S.title),1),c("p",{class:we(e.isCreatePool&&e.isCreatePool.includes(S.fee)?"text-default":"text-theme")},y(e.isCreatePool&&e.isCreatePool.includes(S.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(g(),_("div",Rm,[c("p",{class:we(e.isCreatePool&&e.isCreatePool.includes(S.fee)?"text-active":"text-default")},y(S.title),3),c("p",null,y(e.isCreatePool&&e.isCreatePool.includes(S.fee)?"":e.$t("newAdd.notCreated")),1)])),c("span",null,y(S.text),1)],10,Nm))),128))])):M("",!0)],2),c("div",Lm,y(e.$t("newAdd.depositAmounts")),1),c("div",qm,[c("div",Um,[ue(f,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[2]||(t[2]=S=>e.fromCoinAmount=S),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[3]||(t[3]=S=>e.maxBtnSelect("fromCoin")),onOnHalf:t[4]||(t[4]=S=>e.halfBtnSelect("fromCoin")),onOnInput:t[5]||(t[5]=S=>{e.fromCoinAmount=S,e.fixedFromCoin=!0}),onOnSelect:t[6]||(t[6]=S=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(g(),fe(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):M("",!0)]),c("div",Fm,[ue(f,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[7]||(t[7]=S=>e.toCoinAmount=S),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[8]||(t[8]=S=>e.maxBtnSelect("toCoin")),onOnHalf:t[9]||(t[9]=S=>e.halfBtnSelect("toCoin")),onOnInput:t[10]||(t[10]=S=>{e.toCoinAmount=S,e.fixedFromCoin=!1}),onOnSelect:t[11]||(t[11]=S=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(g(),fe(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):M("",!0)]),(G=(T=e.$route)==null?void 0:T.query)!=null&&G.action&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(g(),fe(d,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):M("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(g(),_("img",{key:1,class:"add",src:Ti,alt:"",onClick:t[12]||(t[12]=(...S)=>e.toggle&&e.toggle(...S))})):M("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(g(),_("img",{key:2,class:"add",src:Ni,alt:"",onClick:t[13]||(t[13]=(...S)=>e.toggle&&e.toggle(...S))})):M("",!0)]),e.poolInfo?(g(),fe(k,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):M("",!0)]),ue(N,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[14]||(t[14]=S=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:pe(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(g(),_("svg",Om,Bm)):M("",!0),c("span",null,y(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",Dm,[ue(ee)])]),c("div",Hm,[e.isShowMask?(g(),_("div",zm)):M("",!0),c("div",Vm,[Ae(y(e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(g(),fe(s,{key:0,placement:"bottom","arrow-point-at-center":""},{title:pe(()=>[c("span",null,y(e.$t("newAdd.selectRangeTips")),1)]),default:pe(()=>[Xm]),_:1})):M("",!0)]),c("div",jm,[!((W=(L=e.$route)==null?void 0:L.query)!=null&&W.action)&&e.poolInfo||(D=(ve=e.$route)==null?void 0:ve.query)!=null&&D.action?(g(),_(Lt,{key:0},[(Z=(H=e.$route)==null?void 0:H.query)!=null&&Z.action&&!e.poolInfo?(g(),fe(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):M("",!0),e.poolInfo?(g(),_("div",Km,[(g(!0),_(Lt,null,mn(e.currentPriceTabList,S=>(g(),_("div",{key:S,class:we(["price-item",{"price-item-active":S.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Ht=>e.priceTab(S)},[ue(s,{placement:"bottom","arrow-point-at-center":""},{title:pe(()=>[c("span",null,y(e.getPirceText(S.key)),1)]),default:pe(()=>[Ae(" "+y(e.getPirceKey(S.key)),1)]),_:2},1024)],10,Wm))),128))])):M("",!0),(X=(V=e.$route)==null?void 0:V.query)!=null&&X.action&&!e.poolInfo?(g(),_("div",Ym,y(e.$t("newAdd.createPoolInitialText")),1)):M("",!0),!e.poolInfo&&((ge=(j=e.$route)==null?void 0:j.query)!=null&&ge.action)?(g(),_("div",Gm,y(e.$t("common.setPriceRange")),1)):M("",!0),e.poolInfo||(lt=(re=e.$route)==null?void 0:re.query)!=null&&lt.action?(g(),_("div",{key:4,class:we(["current-price",(wt=(E=e.$route)==null?void 0:E.query)!=null&&wt.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(g(),_("span",Qm,y(e.$t("common.currentPrice")),1)):M("",!0),e.fromCoin&&e.toCoin&&e.direct?(g(),_("div",Jm,[c("span",null,y(e.$t("common.currentPrice")),1),Ae(" "+y(("decimalUi"in e?e.decimalUi:ae(Ve))(e.currentPrice,6))+" "+y((Ie=e.toCoin)==null?void 0:Ie.symbol)+" per "+y((Xe=e.fromCoin)==null?void 0:Xe.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(g(),_("div",Zm,[c("span",null,y(e.$t("common.currentPrice")),1),Ae(" "+y(("decimalUi"in e?e.decimalUi:ae(Ve))(e.currentPriceReverse,6))+" "+y((kt=e.toCoin)==null?void 0:kt.symbol)+" per "+y((je=e.fromCoin)==null?void 0:je.symbol),1)])):(g(),_("div",xm,"0.0")),e.fromCoin&&e.toCoin?(g(),_("div",ep,[c("div",{class:we(e.direct?"item active-item":"item"),onClick:t[15]||(t[15]=S=>e.direct?"":e.toggle())},[c("img",{src:e.direct?e.fromCoin.logoURI:e.toCoin.logoURI,alt:""},null,8,tp),Ae(" "+y(e.direct?($t=e.fromCoin)==null?void 0:$t.symbol:(Oe=e.toCoin)==null?void 0:Oe.symbol),1)],2),c("div",{class:we(e.direct?"item ":"item active-item"),onClick:t[16]||(t[16]=S=>e.direct?e.toggle():"")},[c("img",{src:e.direct?e.toCoin.logoURI:e.fromCoin.logoURI,alt:""},null,8,np),Ae(" "+y(e.direct?(Me=e.toCoin)==null?void 0:Me.symbol:(De=e.fromCoin)==null?void 0:De.symbol),1)],2)])):M("",!0)],2)):M("",!0),e.poolInfo||(Ue=(ut=e.$route)==null?void 0:ut.query)!=null&&Ue.action?(g(),fe(I,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,"int-price":e.intPrice,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","int-price","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):M("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(g(),_("div",op,[c("img",{src:("importIcon"in e?e.importIcon:ae(Le))("/image/icon-tips@2x.png"),alt:""},null,8,ip),c("p",rp,y(e.$t("tips.positionTips")),1)])):M("",!0),e.positionError&&(e.poolInfo||(Q=(B=e.$route)==null?void 0:B.query)!=null&&Q.action)?(g(),_("div",ap,[c("img",{src:("importIcon"in e?e.importIcon:ae(Le))("/image/icon-tips-error@2x.png"),alt:""},null,8,sp),c("p",lp,y(e.$t("tips.positionError")),1)])):M("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(g(),_("div",up,[e.fromCoin&&e.toCoin&&e.poolInfo?(g(),fe(C,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):M("",!0),e.chartLoading?(g(),fe(b,{key:1})):M("",!0)])):M("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(g(),_("div",cp,[fp,c("span",dp,y(e.aprRewardsTime)+" Price Range",1),c("span",null,y(e.before7dContractPriceLowest)+" - "+y(e.before7dContractPriceHighest),1)])):M("",!0),e.poolInfo&&!e.poolInfo.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.poolInfo.isSelfBuilt&&e.maxPrice=="∞"?(g(),fe(m,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):M("",!0),(U=(ot=e.$route)==null?void 0:ot.query)!=null&&U.action&&!e.poolInfo?(g(),_("div",mp,y(e.$t("newAdd.createPoolText")),1)):M("",!0)],64)):(g(),_("div",pp,[e.storeIndex.theme=="default"?(g(),_("img",hp)):(g(),_("img",vp)),c("p",null,y(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.poolInfo.isSelfBuilt?(g(),fe(w,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):M("",!0)])])):M("",!0),e.isPc?M("",!0):(g(),_("div",gp,[c("div",yp,[c("div",bp,[c("div",wp,[Ae(y(e.$t("common.selectPool"))+" ",1),ue(s,{placement:"bottom","arrow-point-at-center":""},{title:pe(()=>[c("span",null,y(e.t("newAdd.poolWarning")),1)]),default:pe(()=>[e.poolInfo&&e.poolInfo.isSelfBuilt?(g(),_("div",kp)):M("",!0)]),_:1})]),c("div",Cp,[ue(u,{"coin-icon":e.poolInfo?e.poolInfo.token_a.logoURI:e.createPoolFromCoin?e.createPoolFromCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_a.symbol:e.createPoolFromCoin&&e.createPoolFromCoin.symbol,coin:e.poolInfo?e.poolInfo.token_a:e.createPoolFromCoin,onClick:t[17]||(t[17]=S=>e.openCoinSelect("fromCoin"))},null,8,["coin-icon","coin-name","coin"]),ue(u,{"coin-icon":e.poolInfo?e.poolInfo.token_b.logoURI:e.createPoolToCoin?e.createPoolToCoin.logoURI:"","coin-name":e.poolInfo?e.poolInfo.token_b.symbol:e.createPoolToCoin&&e.createPoolToCoin.symbol,coin:e.poolInfo?e.poolInfo.token_b:e.createPoolToCoin,onClick:t[18]||(t[18]=S=>e.openCoinSelect("toCoin"))},null,8,["coin-icon","coin-name","coin"])]),c("div",{class:we(["pool-fee",e.edit?"pool-fee-edit":""])},[c("div",_p,[c("span",{class:we(e.inputValue?"":"fee-span")},y(e.inputValue?e.inputValue:e.$t("newAdd.selectFeeTier")),3),(g(),_("svg",{class:"icon","aria-hidden":"true",onClick:t[19]||(t[19]=S=>e.clickClear||!e.fromCoin||!e.toCoin?"":e.edit=!e.edit)}))]),e.edit?(g(),_("div",Ip,[e.getPoolInfoSuccess?(g(!0),_(Lt,{key:1},mn(e.feeTierList,(S,Ht)=>(g(),_("div",{key:Ht,class:we(["fee-item",[e.inputValue&&e.inputValue==S.label?"fee-item-active":"",e.isCreatePool.includes(S.fee)&&e.$route.query.action?" pool-created":" pool-not-created"]]),onClick:se=>e.selectFee(S)},[e.$route.query.action?(g(),_("div",$p,[c("p",null,y(S.title),1),c("p",{class:we(e.isCreatePool.includes(S.fee)?"text-default":"text-theme")},y(e.isCreatePool.includes(S.fee)?e.$t("newAdd.alreadyCreated"):e.$t("newAdd.notCreated")),3)])):(g(),_("div",Ap,[c("p",{class:we(e.isCreatePool.includes(S.fee)?"text-active":"text-default")},y(S.title),3),c("p",null,y(e.isCreatePool.includes(S.fee)?"":e.$t("newAdd.notCreated")),1)])),c("span",null,y(S.text),1)],10,Pp))),128)):(g(),fe(b,{key:0}))])):M("",!0)],2)]),c("div",Sp,[e.isShowMask?(g(),_("div",Tp)):M("",!0),c("div",Np,[Ae(y((z=e.$route)!=null&&z.query.action?e.$t("newAdd.setInitialPrice"):e.$t("newAdd.selectRange"))+" ",1),e.poolInfo?(g(),fe(s,{key:0,placement:"bottom","arrow-point-at-center":""},{title:pe(()=>[c("span",null,y(e.$t("newAdd.selectRangeTips")),1)]),default:pe(()=>[Mp]),_:1})):M("",!0)]),c("div",Rp,[!((P=($=e.$route)==null?void 0:$.query)!=null&&P.action)&&e.poolInfo||(_n=(Se=e.$route)==null?void 0:Se.query)!=null&&_n.action?(g(),_(Lt,{key:0},[(Pn=(In=e.$route)==null?void 0:In.query)!=null&&Pn.action&&!e.poolInfo?(g(),fe(v,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"click-clear":e.clickClear,"int-price":e.intPrice,onChangecurrentPrice:e.changecurrentPrice},null,8,["from-coin","to-coin","click-clear","int-price","onChangecurrentPrice"])):M("",!0),e.poolInfo?(g(),_("div",Lp,[(g(!0),_(Lt,null,mn(e.currentPriceTabList,S=>(g(),_("div",{key:S,class:we(["price-item",{"price-item-active":S.key==e.currentPriceTab,"price-stable":e.poolInfo.type=="stable"}]),onClick:Ht=>e.priceTab(S)},[ue(s,{placement:"bottom","arrow-point-at-center":""},{title:pe(()=>[c("span",null,y(e.getPirceText(S.key)),1)]),default:pe(()=>[Ae(" "+y(e.getPirceKey(S.key)),1)]),_:2},1024)],10,qp))),128))])):M("",!0),(rt=(it=e.$route)==null?void 0:it.query)!=null&&rt.action&&!e.poolInfo?(g(),_("div",Up,y(e.$t("newAdd.createPoolInitialText")),1)):M("",!0),!e.poolInfo&&((An=($n=e.$route)==null?void 0:$n.query)!=null&&An.action)?(g(),_("div",Fp,y(e.$t("common.setPriceRange")),1)):M("",!0),e.poolInfo||(Tn=(Sn=e.$route)==null?void 0:Sn.query)!=null&&Tn.action?(g(),_("div",{key:4,class:we(["current-price",(Et=(Wt=e.$route)==null?void 0:Wt.query)!=null&&Et.action&&!e.createPoolInfo&&!e.poolInfo&&!e.inputValue?"create-pool-price":""])},[!e.fromCoin||!e.toCoin?(g(),_("span",Op,y(e.$t("common.currentPrice")),1)):M("",!0),e.fromCoin&&e.toCoin&&e.direct?(g(),_("div",Ep,[c("span",null,y(e.$t("common.currentPrice")),1),Ae(" "+y(("decimalUi"in e?e.decimalUi:ae(Ve))(e.currentPrice,6))+" "+y((Bt=e.toCoin)==null?void 0:Bt.symbol)+" per "+y((ct=e.fromCoin)==null?void 0:ct.symbol),1)])):e.fromCoin&&e.toCoin&&!e.direct?(g(),_("div",Bp,[c("span",null,y(e.$t("common.currentPrice")),1),Ae(" "+y(("decimalUi"in e?e.decimalUi:ae(Ve))(e.currentPriceReverse,6))+" "+y((sn=e.toCoin)==null?void 0:sn.symbol)+" per "+y((Dt=e.fromCoin)==null?void 0:Dt.symbol),1)])):(g(),_("div",Dp,"0.0")),e.fromCoin&&e.toCoin?(g(),_("div",Hp,[c("div",{class:we(e.direct?"item active-item":"item"),onClick:t[20]||(t[20]=S=>e.direct?"":e.toggle())},[c("img",{src:e.direct?e.fromCoin.logoURI:e.toCoin.logoURI,alt:""},null,8,zp),Ae(" "+y(e.direct?(ln=e.fromCoin)==null?void 0:ln.symbol:(ne=e.toCoin)==null?void 0:ne.symbol),1)],2),c("div",{class:we(e.direct?"item ":"item active-item"),onClick:t[21]||(t[21]=S=>e.direct?e.toggle():"")},[c("img",{src:e.direct?e.toCoin.logoURI:e.fromCoin.logoURI,alt:""},null,8,Vp),Ae(" "+y(e.direct?(ft=e.toCoin)==null?void 0:ft.symbol:(oe=e.fromCoin)==null?void 0:oe.symbol),1)],2)])):M("",!0)],2)):M("",!0),e.poolInfo||(Pe=(At=e.$route)==null?void 0:At.query)!=null&&Pe.action?(g(),fe(I,{key:5,min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direct,"invalid-price-range":e.invalidPriceRange,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo?e.poolInfo:e.createPoolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax,onOnChangeFullRange:e.toFullRange},null,8,["min","max","from-coin","to-coin","direct","invalid-price-range","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice","onOnChangeFullRange"])):M("",!0),e.positionTips&&!e.clickClear&&e.poolInfo?(g(),_("div",Xp,[c("img",{src:("importIcon"in e?e.importIcon:ae(Le))("/image/icon-tips@2x.png"),alt:""},null,8,jp),c("p",Kp,y(e.$t("tips.positionTips")),1)])):M("",!0),e.positionError&&(e.poolInfo||(Yt=($e=e.$route)==null?void 0:$e.query)!=null&&Yt.action)?(g(),_("div",Wp,[c("img",{src:("importIcon"in e?e.importIcon:ae(Le))("/image/icon-tips-error@2x.png"),alt:""},null,8,Yp),c("p",Gp,y(e.$t("tips.positionError")),1)])):M("",!0),e.fromCoin&&e.toCoin&&e.poolInfo?(g(),_("div",Qp,[e.fromCoin&&e.toCoin&&e.poolInfo?(g(),fe(C,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direct,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):M("",!0),e.chartLoading?(g(),fe(b,{key:1})):M("",!0)])):M("",!0),e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(g(),_("div",Jp,[Zp,c("span",xp,y(e.aprRewardsTime)+" Price Range",1),c("span",null,y(e.before7dContractPriceLowest)+" - "+y(e.before7dContractPriceHighest),1)])):M("",!0),e.poolInfo&&!e.poolInfo.isSelfBuilt&&Number(e.minPrice)<Number(e.maxPrice)||e.poolInfo&&!e.poolInfo.isSelfBuilt&&e.maxPrice=="∞"?(g(),fe(m,{key:10,"apr-title":e.aprTitle,"apr-rewards-date-list":e.aprRewardsDateList,"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onAprTab:e.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"])):M("",!0),(St=(Gt=e.$route)==null?void 0:Gt.query)!=null&&St.action&&!e.poolInfo?(g(),_("div",eh,y(e.$t("newAdd.createPoolText")),1)):M("",!0)],64)):(g(),_("div",th,[e.storeIndex.theme=="default"?(g(),_("img",nh)):(g(),_("img",oh)),c("p",null,y(e.$t("newAdd.positionAppear")),1)]))]),e.poolInfo&&!e.poolInfo.isSelfBuilt?(g(),fe(w,{key:1,"apr-rewards-parameter":e.aprRewardsParameter,"pool-info":e.poolInfo,label:e.label,onReviseValue:e.reviseValue},null,8,["apr-rewards-parameter","pool-info","label","onReviseValue"])):M("",!0)]),ue(N,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn",onClick:t[22]||(t[22]=S=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:pe(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")&&e.addLiquidityBtnText!==e.$t("modal.selectTokenModalTitle")?(g(),_("svg",ih,ah)):M("",!0),c("span",null,y(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",sh,[ue(ee)])]),c("div",lh,[c("div",uh,y(e.$t("newAdd.depositAmounts")),1),c("div",ch,[c("div",fh,[ue(f,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[23]||(t[23]=S=>e.fromCoinAmount=S),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:t[24]||(t[24]=S=>e.maxBtnSelect("fromCoin")),onOnHalf:t[25]||(t[25]=S=>e.halfBtnSelect("fromCoin")),onOnInput:t[26]||(t[26]=S=>{e.fromCoinAmount=S,e.fixedFromCoin=!0}),onOnSelect:t[27]||(t[27]=S=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock?(g(),fe(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):M("",!0)]),c("div",dh,[ue(f,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[28]||(t[28]=S=>e.toCoinAmount=S),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:t[29]||(t[29]=S=>e.maxBtnSelect("toCoin")),onOnHalf:t[30]||(t[30]=S=>e.halfBtnSelect("toCoin")),onOnInput:t[31]||(t[31]=S=>{e.toCoinAmount=S,e.fixedFromCoin=!1}),onOnSelect:t[32]||(t[32]=S=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock?(g(),fe(h,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo||e.createPoolInfo},null,8,["from-coin","to-coin","pool-info"])):M("",!0)]),(dt=(Tt=e.$route)==null?void 0:Tt.query)!=null&&dt.action&&!e.poolInfo&&(!e.createPoolInfo||!e.createPoolInfo.currentPrice)?(g(),fe(d,{key:0,"show-to-coin-lock":e.showToCoinLock,"showfrom-coin-lock":e.showFromCoinLock},null,8,["show-to-coin-lock","showfrom-coin-lock"])):M("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme=="default"?(g(),_("img",{key:1,class:"add",src:Ti,alt:"",onClick:t[33]||(t[33]=(...S)=>e.toggle&&e.toggle(...S))})):M("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.storeIndex.theme!=="default"?(g(),_("img",{key:2,class:"add",src:Ni,alt:"",onClick:t[34]||(t[34]=(...S)=>e.toggle&&e.toggle(...S))})):M("",!0)]),e.poolInfo||e.createPoolInfo?(g(),fe(k,{key:0,"min-price":e.minPrice,"max-price":e.maxPrice,"pool-info":e.poolInfo||e.createPoolInfo,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"current-price-tab":e.currentPriceTab,slippage:e.slippage,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount},null,8,["min-price","max-price","pool-info","fixed-from-coin","from-coin","to-coin","current-price-tab","slippage","current-price","current-price-reverse","from-coin-amount","to-coin-amount"])):M("",!0)])])),ue(N,{disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,class:"big-btn h5-btn",onClick:t[35]||(t[35]=S=>e.wallet.connected?e.addOrCreate():e.wallet.setIsShowWalletModal(!0))},{default:pe(()=>[e.addLiquidityBtnText!==e.$t("newAdd.preview")?(g(),_("svg",mh,hh)):M("",!0),c("span",null,y(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),c("div",vh,[ue(ee)]),e.showCoinSelect?(g(),fe(R,{key:2,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:t[36]||(t[36]=S=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):M("",!0),e.isShowLiquidityModal?(g(),fe(J,{key:3,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"pool-info":e.poolInfo,"current-direct":e.direct,onToAdd:e.toAdd,onOnClose:t[37]||(t[37]=S=>e.isShowLiquidityModal=!1)},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","current-price-reverse","pool-info","current-direct","onToAdd"])):M("",!0),e.isViewDetail?(g(),fe(O,{key:4,onOnClose:t[38]||(t[38]=S=>e.isViewDetail=!1)})):M("",!0),e.isCreateSuccess?(g(),fe(te,{key:5,onOnClose:t[39]||(t[39]=S=>e.isCreateSuccess=!1)})):M("",!0),e.isShowCreatePoolModal&&e.fromCoin&&e.toCoin?(g(),fe(K,{key:6,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price":e.createPoolInfo.currentPrice,onOnClose:t[40]||(t[40]=S=>e.isShowCreatePoolModal=!1),onCreatePool:e.toCreatePool},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","min-price","max-price","current-price","onCreatePool"])):M("",!0)])}const Eh=Je(wm,[["render",gh],["__scopeId","data-v-ff97a9a1"]]);export{Eh as default};
