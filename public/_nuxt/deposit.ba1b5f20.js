import{j as ei,n as gt,d as de,e as yt,u as Mt,a as qe,c as ne,s as pt,T as nt,G as ti,b as je,l as It,p as Nt}from"./pool.daa43b66.js";import{a as et,r as F,l as q,H as $t,q as Ce,e as tt,o as A,f as W,t as Ft,N as ii,h as s,O as bt,v as Y,u as le,x as G,c as De,p as wt,k as _t,S as Bt,y as Rt,m as Ct,K as Ot,s as ai,F as ht,E as At,i as ze,A as mt,w as st,j as Pt,P as Ut,a0 as ni,b as ri,B as oi}from"./entry.8244466d.js";/* empty css              */import{s as ut,m as si,l as li,b as ui,a as ci}from"./transform.c672907f.js";import{D as r}from"./decimal.0bdeb344.js";import{u as St,a as di}from"./sha256.723c3cf0.js";import{d as jt,_ as zt,c as Ht,a as Xt,b as mi}from"./new-liquidity-title.0f54859f.js";import{i as kt}from"./import-icon.de3e6c66.js";/* empty css              */import{positionError as Ve,fromCoin as y,toCoin as p,tickList as rt,currentPrice as ot,currentPriceReverse as ct,direction as ce,currentPriceTab as E,defaultMinPrice as vt,defaultMaxPrice as ft,minPrice as $,maxPrice as C,toggle as Et,isStableFarmingRange as Be,isInputTotalAmount as Xe,priceConfigObj as Qe,fromCoinAmount as P,toCoinAmount as S,fixedFromCoin as Ie,resetTickList as Lt,resetData as vi}from"./data.4fb34e67.js";import{u as Wt}from"./farms.f3f146a4.js";import{_ as fi}from"./coin-lock.a2413240.js";import{_ as gi}from"./coin-select.491fe770.js";import{_ as pi}from"./viewDetail.6bdc43d5.js";import{a as bi}from"./new-add-or-create.5b9870f2.js";import{u as hi}from"./notifi.185f9ea9.js";import{_ as ki,a as yi}from"./icon-Add-Liquidity_2x.0acb06cb.js";import"./img-lock_2x.a28135f4.js";import"./lock.93930796.js";/* empty css              *//* empty css              */import"./token-warning.e1e3ff6d.js";import"./swap-setting.d811538b.js";/* empty css              */import"./icon-error_2x.ddb73826.js";import"./img-lock_2x.6d124cd7.js";import"./img-no-Positions_2x.56a001cd.js";import"./img-no-Positions_2x.c458fed1.js";import"./status-block.68c3d66b.js";import"./icon-arrow_2x.948aedb2.js";import"./icon-arrow_2x.4ffddb8e.js";import"./useWhale.24992a6a.js";function qt(e,c,ue){const V=new r(10).pow(c-ue);return new r(1.0001).pow(e).mul(V)}const wi=et({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""},zoom:{type:Number,default:1}},setup(e,c){const ue=F(""),V=F(""),L=q(()=>{var n,N,m,v,U,re;return(n=e.poolInfo)!=null&&n.current_sqrt_price&&((N=e.poolInfo)!=null&&N.coinA.decimals)&&((m=e.poolInfo)!=null&&m.coinB.decimals)?a.sqrtPriceX64ToPrice((v=e.poolInfo)==null?void 0:v.current_sqrt_price,(U=e.poolInfo)==null?void 0:U.coinA.decimals,(re=e.poolInfo)==null?void 0:re.coinB.decimals).toString():"0"}),ee=q(()=>{let n=0;return e.direction?n=(Number(e.minPrice)/Number(L.value)-1)*100:n=(Number(e.minPrice)/Number(1/Number(L.value))-1)*100,n=n>0&&n<.1?.1:n,n=n<0&&n>-.1?-.1:n,n}),z=q(()=>{let n=0;return e.direction?n=(Number(e.maxPrice)/Number(L.value)-1)*100:n=(Number(e.maxPrice)/Number(1/Number(L.value))-1)*100,n=n>0&&n<.1?.1:n,n=n<0&&n>-.1?-.1:n,n}),O=St(),I=q(()=>O),Q=q(()=>I.value.chainName?yt(I.value.chainName):{}),{TickMath:a,getNearestTickByTick:w}=Q.value,x=(n=[])=>{let N=6;const m=Math.abs(Number(n[0])-Number(n[n.length-1]));return m>=6?N=0:m>=1?N=1:m>=.1?N=2:m>=.01?N=3:m>=.001?N=4:m>=1e-4?N=5:m>=1e-5?N=6:m>=1e-6?N=7:m>=1e-7&&(N=8),N},Pe=(n,N=1)=>{if(n&&n.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const m=Number(e.poolInfo.current_tick_index);let v=m+100*N,U=m-100*N,re,me;if(e.maxPrice==="∞")me=Q.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?me=a.priceToTickIndex(new r(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):me=a.priceToTickIndex(new r(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{me=443636}if(e.minPrice==="0")re=Q.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?re=a.priceToTickIndex(new r(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):re=a.priceToTickIndex(new r(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{re=-443636}let Se=0;if(e.currentPriceTab!=="full range"){if(m>=re&&m<=me){const T=m-re,oe=me-m;Se=Math.max(Math.abs(T),Math.abs(oe))}else m<re?Se=Math.abs(me-m):Se=Math.abs(m-re);v=m+Se+100*N,U=m-Se-100*N}else{const T=(Math.abs(m)>5e3,2e4);v=m+T*N,U=m-T*N}U<-443636&&(U=-443636),v>443636&&(v=443636);const b=new r(n.liquidity).div(Math.pow(10,8)).toString(),M=e.tickList,j=[],ke=[];let h={};for(let T=0;T<M.length;T++){if(h=M[T],h.index<=m&&h.index>=U){if(j.length<1&&T!==0){const oe=M[T-1];j.unshift({...oe,index:U,source:"left"})}j.unshift(h)}else if(h.index>m&&h.index<=v&&(ke.push(h),j.length<1&&T!==0)){const oe=M[T-1];j.push({...oe,index:U,source:"left"})}if(h.index>v){const oe=M[T];if(ke.push({...oe,index:v,source:"right"}),j.length<1&&T!==0){const xe=M[T-1];j.push({...xe,index:U,source:"left"})}break}}let B="0";for(let T=j.length-1;T>=0;T--)B=new r(B).plus(new r(j[T].liquidityNet.toString()).div(Math.pow(10,8))).toString(),j[T].liquityAmount=B;let K=b;for(let T=0;T<ke.length;T++)K=new r(K).plus(new r(ke[T].liquidityNet.toString()).div(Math.pow(10,8))).toString(),ke[T].liquityAmount=K;let ie=[];const H=M&&M.length>0?{index:m,liquityAmount:Number(b)}:{index:m,liquityAmount:0};(j.length>0||ke.length>0)&&(ie=[...j.reverse(),H,...ke],e.direction||(ie=ie.reverse()));const He=[];M.forEach(T=>{He.push({...T,liquidityGross:T.liquidityGross.toString(),liquidityNet:T.liquidityNet.toString()})}),g(ie,U,v,re,me,m)}};let Ne=F(!1);const te=F(!1);$t(()=>{const n=document.body.clientWidth;te.value=!0,n<750?Ne.value=!1:Ne.value=!0,window.onresize=()=>{document.body.clientWidth<750?Ne.value=!1:Ne.value=!0,Pe(e.poolInfo,e.zoom)}});const g=(n,N,m,v,U,re)=>{let me,Se;e.direction?(me=e.before7dContractPriceLowest?a.priceToTickIndex(new r(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",Se=e.before7dContractPriceHighest?a.priceToTickIndex(new r(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(me=e.before7dContractPriceLowest?a.priceToTickIndex(new r(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",Se=e.before7dContractPriceHighest?a.priceToTickIndex(new r(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const b={top:30,right:35,bottom:20,left:80};let M,j;Ne.value?(M=460-b.left-b.right,j=205-b.top-b.bottom):(M=340-b.left-b.right,j=205-b.top-b.bottom);const ke=m-N,h=parseInt(String(ke/4));let B=[N+h/4,N+h,N+2*h,m-h,m-h/4];const K=N,ie=m,H=M/(ie-K);e.currentPriceTab==="full range"&&(B=[N,N+2*h,m]);const He=B.map(o=>e.direction?qt(o,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new r(1).div(qt(o,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString()),T=x(He);ut("#chart").selectAll("*").remove();const oe=ut("#chart").attr("width",M+b.left+b.right).attr("height",j+b.top+b.bottom).append("g").attr("transform",`translate(${b.left},${b.right})`),xe=si(n,function(o){return Number(Math.abs(o.liquityAmount))})||0,Ae=li().range([0,j]).domain([xe,0]);ui().rangeRound([0,M]).padding(.1);const Ye=oe.append("g").attr("id","barsBox").selectAll("rect").data(n).enter().append("rect");I.value.theme=="default"?Ye.attr("x",function(o,l){return l===0?0:e.direction?Math.abs(o.index-K)*H:Math.abs(ie-o.index)*H}).attr("y",function(o,l){return e.direction?l===n.length-1?0:Ae(o.liquityAmount):l===n.length-1?0:Ae(n[l+1].liquityAmount)}).attr("width",function(o,l){return l===0&&n.length===1&&o.liquityAmount>0?M:(e.direction,l!==n.length-1?Math.abs(n[l+1].index-o.index)*H:0)}).attr("height",function(o,l){return l===0&&n.length===1&&o.liquityAmount>0?j:e.direction?l===n.length-1?0:j-Ae(o.liquityAmount):l===n.length-1?0:j-Ae(n[l+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):Ye.attr("x",function(o,l){return l===0?0:e.direction?Math.abs(o.index-K)*H:Math.abs(ie-o.index)*H}).attr("y",function(o,l){return e.direction?l===n.length-1?0:Ae(Math.abs(o.liquityAmount)):l===n.length-1?0:Ae(Math.abs(n[l+1].liquityAmount))}).attr("width",function(o,l){return l===0&&n.length===1&&o.liquityAmount>0?M:(e.direction,l!==n.length-1?Math.abs(n[l+1].index-o.index)*H:0)}).attr("height",function(o,l){if(l===0&&n.length===1&&o.liquityAmount>0)return j;if(e.direction)return l===n.length-1?0:Number(o.liquityAmount)?j-Ae(Math.abs(o.liquityAmount)):0;{if(l===n.length-1)return 0;const Te=j-Ae(Math.abs(n[l+1].liquityAmount));return Number(n[l+1].liquityAmount)?Te:0}}).attr("fill",function(o,l){return"#417494"}).attr("class","bars").attr("stroke-width",1).attr("stroke",function(o,l){return"#417494"});const Ke=oe.append("g");Ke.append("line").attr("x1",0).attr("y1",155).attr("x2",M).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const Ze=Ke.append("g");let D=0;if(e.direction){for(let o=0;o<B.length;o++){const l=de(He[o],T)||"0";He.push(l);const Te=Math.abs(B[o]-K)*H;let ae=0;for(let ye=0;ye<l.length;ye++)l[ye]==="1"?ae+=4.02:l[ye]==="."?ae+=2.64:l[ye]==="7"?ae+=5.48:ae+=6;Ze.append("text").text(l).attr("x",Te-ae/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}D=Math.abs(re-K)*H}else{for(let o=B.length-1;o>=0;o--){const l=de(He[o],T)||0;He.push(l);const Te=Math.abs(B[o]-ie)*H;let ae=0;for(let ye=0;ye<l.length;ye++)l[ye]==="1"?ae+=4.02:l[ye]==="."?ae+=2.64:l[ye]==="7"?ae+=5.48:ae+=6;Ze.append("text").text(l).attr("x",Te-ae/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}D=Math.abs(re-ie)*H}(I.value.theme=="default"?oe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):oe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+D+", 0)");let t,u,f,_;e.direction?(t=v<K?-100:parseInt(String(Math.abs(v-K)*H)),u=U<K?-100:parseInt(String(Math.abs(U-K)*H)),f=me<K?-100:Math.abs(me-K)*H,_=Se<K?-100:Math.abs(Se-K)*H):(u=v<K?-100:Math.abs(ie-v)*H,t=U<K?-100:Math.abs(ie-U)*H,_=me>ie?-100:Math.abs(ie-me)*H,f=Se>ie?-100:Math.abs(ie-Se)*H),e.minPrice==="0"&&(t=0),e.maxPrice==="∞"&&(u=M),Ne.value,ue.value=M-t+87+"px",V.value=u+98+"px",me&&f<M&&oe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+f+", 0)"),Se&&_<M&&oe.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+_+", 0)");const R=oe.append("g").attr("id","left-handle"),X=oe.append("g").attr("id","right-handle");I.value.theme=="default"?(R.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),R.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),R.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),R.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),X.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),X.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),X.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),X.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(R.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),R.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),R.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),R.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),X.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),X.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),X.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),X.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),R.attr("transform","translate("+t+", 0)"),X.attr("transform","translate("+u+", 0)");const he=ci().extent([[0,0],[M,j]]).handleSize(30).on("end",Ee);oe.append("g").attr("class","brush").call(he).call(he.move,[t,u]);function Ee(o){if(!o.sourceEvent||!o.selection)return;R.attr("transform","translate("+o.selection[0]+", 0)"),X.attr("transform","translate("+o.selection[1]+", 0)"),Ne.value,ue.value=M-o.selection[0]+87+"px",V.value=o.selection[1]+74+"px";let l,Te,ae=0,ye=0;e.direction?(ae=w(parseInt(String(o.selection[0]/H+K)),Number(e.poolInfo.tickSpacing)),l=a.tickIndexToPrice(ae,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),ye=w(parseInt(String(o.selection[1]/H+K)),Number(e.poolInfo.tickSpacing)),Te=a.tickIndexToPrice(ye,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(ye=w(ie-o.selection[0]/H,Number(e.poolInfo.tickSpacing)),l=1/a.tickIndexToPrice(ye,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),ae=w(ie-o.selection[1]/H,Number(e.poolInfo.tickSpacing)),Te=1/a.tickIndexToPrice(ae,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),c.emit("onChangeMinPrice",String(de(String(l),6))),c.emit("onChangeMaxPrice",String(de(String(Te),6)))}I.value.theme=="default"?ut(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):ut(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};return F(""),Ce(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab,e.zoom,e.tickList],([n,N,m,v,U,re])=>{n&&N&&m&&(n!=null&&n.liquidity)&&Pe(n,U)},{immediate:!0}),{store:I,loading:te,rangeSizeLower:ee,rangeSizeUpper:z,rangeSizeLowerPosition:ue,rangeSizeUpperPosition:V,decimalFormat:ei,numberformat:gt}}});const _i=e=>(wt("data-v-60bd7ae2"),e=e(),_t(),e),Ci={class:"chart-box"},Pi={class:"chart"},Si=_i(()=>s("svg",{id:"chart"},null,-1));function Ti(e,c,ue,V,L,ee){const z=Bt;return A(),W("div",Ci,[Ft(s("div",Pi,[e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="∞"?(A(),W("div",{key:0,class:"range-size range-size-lower",style:bt({right:e.rangeSizeLowerPosition})},Y(("numberformat"in e?e.numberformat:le(gt))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):G("",!0),e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="∞"?(A(),W("div",{key:1,class:"range-size range-size-upper",style:bt({left:e.rangeSizeUpperPosition})},Y(("numberformat"in e?e.numberformat:le(gt))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):G("",!0),Si],512),[[ii,!e.chartLoading]]),e.chartLoading?(A(),De(z,{key:0})):G("",!0)])}const Dt=tt(wi,[["render",Ti],["__scopeId","data-v-60bd7ae2"]]),Ii=et({props:{lever:{type:String,default:""}},setup(){return{}}});const Ni=e=>(wt("data-v-619778e2"),e=e(),_t(),e),Ai={class:"lever"},Li=Ni(()=>s("div",{class:"lever-title"},"Leverage",-1)),qi={class:"lever-text"};function Mi(e,c,ue,V,L,ee){return A(),W("div",Ai,[Li,s("div",qi,Y(e.lever),1)])}const $i=tt(Ii,[["render",Mi],["__scopeId","data-v-619778e2"]]),Fi=et({components:{NewLiquidityD3Chart:Dt,NewLiquidityPrice:jt},setup(){const{t:e,locale:c}=Rt(),ue=F("liquidity"),V=St(),L=q(()=>V),ee=q(()=>L.value.chainName),z=Mt(),O=q(()=>z),I=q(()=>L.value.chainName?yt(L.value.chainName):{});$t(()=>{Ve.value=!1});const Q=Ct(),a=q(()=>{let t=null;for(let u=0;u<O.value.poolConfigList.length;u++){const f=O.value.poolConfigList[u];f.address==Q.query.poolAddress&&(t=f)}return t}),w=q(()=>{let t=null;for(const u in O.value.poolsObj){const f=O.value.poolsObj[u];f.address==Q.query.poolAddress&&(t=f)}return t}),x=F(),Pe=F(!0),Ne=async(t,u)=>{if(Pe.value=!0,u){rt.value=[],g.value=[],Be.value=!1;const f=t.token_a.decimals,_=t.token_b.decimals;nt.tickIndexToPrice(t.current_tick_index,f,_),ot.value=nt.sqrtPriceX64ToPrice(t==null?void 0:t.current_sqrt_price,f,_).toString(),ct.value=new r(1).div(nt.sqrtPriceX64ToPrice(t==null?void 0:t.current_sqrt_price,f,_)).toString(),y.value=t.needReverse?t.token_b:t.token_a,p.value=t.needReverse?t.token_a:t.token_b,x.value=t.needReverse,t.token_a.address.toLowerCase()===y.value.address.toLowerCase()&&t.token_b.address.toLowerCase()===p.value.address.toLowerCase()?ce.value=!0:ce.value=!1;let R={poolAddress:t.address,coinTypeA:t.coin_a_address,coinTypeB:t.coin_b_address};const X=await I.value.getTicks(R);rt.value=X?I.value.getTickDataFromUrlData(X):[],Pe.value=!1,N(t)}},te=t=>{const u=t.token_a.decimals,f=t.token_b.decimals;ot.value=nt.sqrtPriceX64ToPrice(t==null?void 0:t.current_sqrt_price,u,f).toString(),ct.value=new r(1).div(nt.sqrtPriceX64ToPrice(t==null?void 0:t.current_sqrt_price,u,f)).toString()},g=F([]),n=F(),N=t=>{const u=t.token_a.decimals,f=t.token_b.decimals;let _=O.value.poolPriceConfigObj&&O.value.poolPriceConfigObj[t.address]&&O.value.poolPriceConfigObj[t.address].recommend_ranges||{};const R=O.value.poolPriceConfigObj&&O.value.poolPriceConfigObj[t.address]&&O.value.poolPriceConfigObj[t.address].type||"";let X,he;const Ee=ti(t.current_tick_index,t.tickSpacing);n.value=t.current_tick_index,X=Ee-Number(t.type=="unstable"?Number(t.tickSpacing)*2:Number(t.tickSpacing)*3),he=Ee+Number(t.type=="unstable"?Number(t.tickSpacing)*2:Number(t.tickSpacing)*3);const o=I.value.TickMath.tickIndexToPrice(X,u,f).toString(),l=I.value.TickMath.tickIndexToPrice(he,u,f).toString();_["full range"]={lower:I.value.TickUtil.getMinIndex(Number(w.value.tickSpacing)),upper:I.value.TickUtil.getMaxIndex(Number(w.value.tickSpacing))},_.custom={lower:X,upper:he,minPrice:o,maxPrice:l};const Te=[];for(let ae in _)_[ae]&&Te.push({..._[ae],key:ae});R&&Te&&Te.length>2?t.isSelfBuilt?E.value="custom":R=="stable"?E.value="suggested":E.value="passive":E.value="custom",g.value=Te||{},Qe.value=_,U({key:E.value,..._[E.value]})},m=F(""),v=F(""),U=t=>{E.value=t.key.toLowerCase();const u=w.value.token_a.decimals,f=w.value.token_b.decimals,{lower:_,upper:R}=t;Xe.value=!1;const X=I.value.TickMath.tickIndexToPrice(_,u,f).toString(),he=I.value.TickMath.tickIndexToPrice(R,u,f).toString();if(t.key=="full range"){m.value=_,v.value=R,re();return}ce.value?(vt.value=String(X),$.value=String(X),ft.value=String(he),C.value=String(he),m.value=_,v.value=R):(vt.value=String(1/Number(he)),$.value=String(1/Number(he)),ft.value=String(1/Number(X)),C.value=String(1/Number(X)),m.value=I.value.TickMath.priceToTickIndex(new r(1/Number(he)),u,f),v.value=I.value.TickMath.priceToTickIndex(new r(1/Number(X)),u,f))},re=t=>{$.value="0",C.value="∞"};Ce(()=>w.value,(t,u)=>{(!u&&t&&!ne(t)||u&&t&&u.address!==t.address)&&Ne(t,!u||t.address!==u.address),t&&!ne(t)&&te(t)},{immediate:!0}),Ot(()=>{y.value=F(),p.value=F(),rt.value=[]}),Ce(()=>[a.value,w.value,O.value.recommendRangesObj],(t,u)=>{var f,_;(!u||t[0]&&t[1]&&t[2]&&!ne(t[0])&&!ne(t[1]&&!ne(t[2]))||((f=t[0])==null?void 0:f.address)!==((_=u[0])==null?void 0:_.address))&&t[0]&&t[2]&&!ne(t[0])&&!ne(t[2])&&z.setSinglePool(t[0],t[2],ee.value)},{immediate:!0,deep:!0});const me=t=>{if(ee.value=="Sui")switch(t){case"passive":return"/sui-image/icon_ conservative@2x.png";case"active":return"/sui-image/icon_active@2x.png";case"full range":return"/sui-image/icon_fullrange@2x.png";case"custom":return"/sui-image/icon_costom@2x.png";case"suggested":return"/sui-image/icon_stabel@2x.png"}else switch(t){case"passive":return"/image/icon_ conservative@2x.png";case"active":return"/image/icon_active@2x.png";case"full range":return"/image/icon_fullrange@2x.png";case"custom":return"/image/icon_costom@2x.png";case"suggested":return"/image/icon_stabel@2x.png"}},Se=t=>{switch(t){case"suggested":return e("newAdd.suggested");case"active":return e("newAdd.active");case"passive":return e("newAdd.conservative");case"full range":return e("newAdd.fullRange");case"custom":return e("newAdd.custom")}},b=t=>{var f,_;const u=O.value.poolPriceConfigObj&&O.value.poolPriceConfigObj[(f=w.value)==null?void 0:f.address]&&O.value.poolPriceConfigObj[(_=w.value)==null?void 0:_.address].type||"";if(g.value.length>2)if(u=="unstable")switch(t){case"active":return{top:"35%"};case"passive":return{top:"10%"};case"full range":return{top:"60%"};case"custom":return{top:"85%"}}else switch(t){case"suggested":return{top:"23%"};case"full range":return{top:"48%"};case"custom":return{top:"73%"}}else if(u=="unstable")switch(t){case"active":return{top:"35%"};case"passive":return{top:"10%"};case"full range":return{top:"60%"};case"custom":return{top:"85%"}}else switch(t){case"full range":return{top:"35%"};case"custom":return{top:"60%"}}},M=F(1),j=()=>{const t=M.value/2;M.value=t},ke=()=>{const t=M.value*2;M.value=t},h=q(()=>{var t,u,f;return!w.value||ne(L.value.addressHistTokens)||!L.value.addressHistTokens[(t=w.value)==null?void 0:t.poolAddress]?null:Object.fromEntries((f=L.value.addressHistTokens[(u=w.value)==null?void 0:u.poolAddress])==null?void 0:f.data.map(_=>[_.key,_.value]))}),B=F(30),K=F("30D"),ie=q(()=>ce.value?h.value&&de(B.value==7?h.value.before_7_d_contract_price_lowest:B.value==24?h.value.before_24_h_contract_price_lowest:h.value.before_30_d_contract_price_lowest,6)||0:h.value&&de(new r(1).div(B.value==7?h.value.before_7_d_contract_price_highest:B.value==24?h.value.before_24_h_contract_price_highest:h.value.before_30_d_contract_price_highest).toString(),6)||0),H=q(()=>ce.value?h.value&&de(B.value==7?h.value.before_7_d_contract_price_highest:B.value==24?h.value.before_24_h_contract_price_highest:h.value.before_30_d_contract_price_highest,6)||0:(h.value&&de(1/Number(B.value==7?h.value.before_7_d_contract_price_lowest:B.value==24?h.value.before_24_h_contract_price_lowest:h.value.before_30_d_contract_price_lowest),6))==1/0?0:h.value&&de(1/Number(B.value==7?h.value.before_7_d_contract_price_lowest:B.value==24?h.value.before_24_h_contract_price_lowest:h.value.before_30_d_contract_price_lowest),6)||0),He=q(()=>{const t=Number($.value),u=Number(C.value);if($.value=="0"&&C.value=="∞"||E.value=="full range")return"1x";if($.value==C.value||E.value=="full range")return"--";if($.value&&C.value&&$.value!=="0"&&C.value!=="∞"){const f=pt(1/(1-Number((t/u)**.25)),2);return Number(f)>0?f+"x":"--"}else return 1}),T=q(()=>{var t,u,f,_,R,X;return((t=y.value)==null?void 0:t.isSelfBuilt)||((u=p.value)==null?void 0:u.isSelfBuilt)||((_=O.value.tokensObj[(f=y.value)==null?void 0:f.address])==null?void 0:_.isSelfBuilt)||((X=O.value.tokensObj[(R=p.value)==null?void 0:R.address])==null?void 0:X.isSelfBuilt)}),oe=(t,u)=>{t!==$.value&&E.value=="full range"?U({key:"custom",...g.value.custom}):E.value!=="full range"&&E.value!=="custom"?(E.value="custom",$.value=t):$.value=t,Be.value?(ce.value&&$.value!==D.value.minPrice&&(Be.value=!1),!ce.value&&Number($.value)!==1/Number(D.value.maxPrice)&&(Be.value=!1)):(ce.value&&$.value==D.value.minPrice&&C.value==D.value.maxPrice&&(Be.value=!0),!ce.value&&Number($.value)==1/Number(D.value.maxPrice)&&Number(C.value)==1/Number(D.value.minPrice)&&(Be.value=!0))},xe=(t,u)=>{t!==C.value&&E.value=="full range"?U({key:"custom",...g.value.custom}):E.value!=="full range"&&E.value!=="custom"?(E.value="custom",t=="0"?C.value="∞":C.value=t):t=="0"?C.value="∞":C.value=t,Be.value?(ce.value&&C.value!==D.value.maxPrice&&(Be.value=!1),!ce.value&&Number(C.value)!==1/Number(D.value.minPrice)&&(Be.value=!1)):(ce.value&&$.value==D.value.minPrice&&C.value==D.value.maxPrice&&(Be.value=!0),!ce.value&&Number($.value)==1/Number(D.value.maxPrice)&&Number(C.value)==1/Number(D.value.minPrice)&&(Be.value=!0))};Ce(()=>[$.value,C.value],([t,u])=>{},{deep:!0,immediate:!0});const Ae=t=>{var u;return(t==null?void 0:t.logoURI)||(t==null?void 0:t.logo_url)||((u=O.value.tokensObj[t==null?void 0:t.address])==null?void 0:u.logo_url)||(L.value.theme==="default"?kt("/image/coins/unknown.png"):kt("/image/coins/sui-unknown.png"))},it=t=>{switch(t){case"active":return e("newAdd.activeTips");case"passive":return e("newAdd.passiveTips");case"full range":return e("newAdd.fullRangTips");case"suggested":return e("newAdd.suggestedTips");case"custom":return e("newAdd.customTips")}},Ye=[{label:"24H",value:24},{label:"7D",value:7},{label:"30D",value:30}],Ke=Wt(),Ze=q(()=>Ke),D=q(()=>{var t;return Ze.value.farmsPoolObj[(t=w==null?void 0:w.value)==null?void 0:t.address]}),at=q(()=>O.value.poolPriceConfigObj);return Ce(()=>[Be.value,w.value,g.value,at.value,D.value,ce.value],([t,u,f,_,R,X])=>{var he,Ee;if(t&&R&&!ne(R))E.value="custom",$.value=X?R.minPrice:String(1/R.maxPrice),C.value=X?R.maxPrice:String(1/R.minPrice);else if(u&&!ne(u)&&f&&!ne(f)&&_&&!ne(_)&&R&&!ne(R)){_&&_[(he=u.value)==null?void 0:he.address]&&_[(Ee=u.value)==null?void 0:Ee.address].type;const o=f.filter(l=>l.key===(f.length==4?"passive":"suggested"));o!=null&&o[0]&&U({...o[0]})}},{immediate:!0}),{positionError:Ve,getCoinIcon:Ae,chainName:ee,store:L,currentTab:ue,currentPrice:ot,currentPriceReverse:ct,fromCoin:y,toCoin:p,direction:ce,needReverse:x,addCommom:qe,decimalUi:de,priceTablList:g,currentPriceTab:E,sliderStyle:b,poolInfo:w,tickList:rt,getPriceTabImage:me,getPriceTabText:Se,defaultMinPrice:vt,defaultMaxPrice:ft,minPrice:$,maxPrice:C,currentTick:n,chartLoading:Pe,zoomOut:j,zoomIn:ke,zoom:M,priceTab:U,before7dContractPriceLowest:ie,before7dContractPriceHighest:H,aprRewardsTime:K,lever:He,aprRewardsParameter:B,isSelfBuilt:T,priceRangeChangeMin:oe,priceRangeChangeMax:xe,toggle:Et,getPirceTabTips:it,timeList:Ye,farmsPoolInfo:D,checkNullObj:ne,isStableFarmingRange:Be}}}),Zt=""+globalThis.__publicAssetsURL("sui-image/icon_sel@2x.png");const Bi={class:"new-liquidity-left"},Ri=s("span",{class:"selectRange"},"Select Range",-1),Oi={class:"price-info"},Ui={class:"left"},ji={class:"base-coin"},zi={class:"base-coin-title"},Hi=s("span",null,"Base coin",-1),Xi=s("svg",{class:"icon icon-up","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-exchange_up1"})],-1),Ei=s("svg",{class:"icon icon-down","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-exchange_down1"})],-1),Wi=[Xi,Ei],Di={class:"base-coin-bottom"},Zi={alt:""},Gi={class:"current-price"},xi=s("div",{class:"current-price-title"},"Current Price",-1),Ki={key:0,class:"from-pre-to"},Ji={class:"right"},Qi={class:"price-range"},Yi={class:"left"},Vi={class:"price-slider"},ea={class:"slider"},ta=s("div",{class:"slider-ratio-content"},null,-1),ia=[ta],aa={class:"price-tab-list"},na=["onClick"],ra=["src"],oa={class:"right"},sa={class:"price-zoom"},la={class:"current-price"},ua=s("div",{class:"current-price-title"},"Current Price",-1),ca={key:0,class:"from-pre-to"},da={class:"price-zoom-right"},ma={class:"leverage"},va=s("div",{class:"left"},null,-1),fa={class:"right"},ga={class:"right-time"},pa={key:0,class:"day-7-price-range"},ba=s("i",null,null,-1),ha={class:"gray"},ka={class:"time-list"},ya=["onClick"],wa={class:"right-price-h5"},_a={key:0,class:"stable-farming-range"},Ca={key:0,src:Zt,alt:""},Pa={class:"apr-leverage"},Sa={key:0,class:"position-tips"},Ta=["src"],Ia={class:"error"};function Na(e,c,ue,V,L,ee){var w,x,Pe,Ne,te,g,n,N,m;const z=Ut,O=Dt,I=$i,Q=jt,a=ai("image");return A(),W("div",Bi,[Ri,s("div",Oi,[s("div",Ui,[s("div",ji,[s("div",zi,[Hi,s("div",{class:"change-price",onClick:c[0]||(c[0]=(...v)=>e.toggle&&e.toggle(...v))},Wi)]),s("div",Di,[Ft(s("img",Zi,null,512),[[a,e.getCoinIcon(e.fromCoin)]]),s("span",null,Y((w=e.fromCoin)==null?void 0:w.symbol),1)])]),s("div",Gi,[xi,s("div",null,[s("span",null,Y(e.poolInfo?e.direction?("addCommom"in e?e.addCommom:le(qe))(("decimalUi"in e?e.decimalUi:le(de))(e.currentPrice,6)):("addCommom"in e?e.addCommom:le(qe))(("decimalUi"in e?e.decimalUi:le(de))(e.currentPriceReverse,6)):"--"),1),e.fromCoin&&e.toCoin?(A(),W("span",Ki,Y((x=e.toCoin)==null?void 0:x.symbol)+" per "+Y((Pe=e.fromCoin)==null?void 0:Pe.symbol),1)):G("",!0)])])]),s("div",Ji,[e.currentTab=="liquidity"?(A(),W("div",{key:0,class:"zoom-out",onClick:c[1]||(c[1]=(...v)=>e.zoomOut&&e.zoomOut(...v))}," + ")):G("",!0),e.currentTab=="liquidity"?(A(),W("div",{key:1,class:"zoom-in",onClick:c[2]||(c[2]=(...v)=>e.zoomIn&&e.zoomIn(...v))}," - ")):G("",!0)])]),s("div",Qi,[s("div",Yi,[s("div",Vi,[s("div",ea,[s("div",{class:"slider-ratio",style:bt(e.sliderStyle(e.currentPriceTab))},ia,4)])]),s("div",aa,[(A(!0),W(ht,null,At(e.priceTablList,v=>(A(),W("div",{key:v.key,class:mt(["price-tab-item",e.currentPriceTab==v.key?"price-tab-item-active":""]),onClick:U=>e.priceTab(v)},[ze(z,{placement:"bottom","arrow-point-at-center":""},{title:st(()=>[Pt(Y(e.getPirceTabTips(v.key)),1)]),default:st(()=>[s("img",{src:e.getPriceTabImage(v.key),alt:""},null,8,ra),s("span",null,Y(e.getPriceTabText(v.key)),1)]),_:2},1024)],10,na))),128))])]),s("div",oa,[s("div",sa,[s("div",la,[ua,s("div",null,[s("span",null,Y(e.poolInfo?e.direction&&!e.needReverse?("addCommom"in e?e.addCommom:le(qe))(("decimalUi"in e?e.decimalUi:le(de))(e.currentPrice,6)):("addCommom"in e?e.addCommom:le(qe))(("decimalUi"in e?e.decimalUi:le(de))(e.currentPriceReverse,6)):"--"),1),e.fromCoin&&e.toCoin?(A(),W("span",ca,Y(e.direction&&!e.needReverse?`${(Ne=e.fromCoin)==null?void 0:Ne.symbol} per ${(te=e.toCoin)==null?void 0:te.symbol}`:`${(g=e.toCoin)==null?void 0:g.symbol} per ${(n=e.fromCoin)==null?void 0:n.symbol}`),1)):G("",!0)])]),s("div",da,[e.currentTab=="liquidity"?(A(),W("div",{key:0,class:"zoom-out",onClick:c[3]||(c[3]=(...v)=>e.zoomOut&&e.zoomOut(...v))}," + ")):G("",!0),e.currentTab=="liquidity"?(A(),W("div",{key:1,class:"zoom-in",onClick:c[4]||(c[4]=(...v)=>e.zoomIn&&e.zoomIn(...v))}," - ")):G("",!0)])]),e.poolInfo?(A(),De(O,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direction,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,zoom:e.zoom,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","zoom","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):G("",!0)])]),s("div",ma,[va,s("div",fa,[s("div",ga,[e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(A(),W("div",pa,[ba,s("span",ha,Y(e.aprRewardsParameter==7?"7D":e.aprRewardsParameter==24?"24H":"30D")+" Price Range",1),s("span",null,Y(("addCommom"in e?e.addCommom:le(qe))(("decimalUi"in e?e.decimalUi:le(de))(e.before7dContractPriceLowest,6)))+" - "+Y(("addCommom"in e?e.addCommom:le(qe))(("decimalUi"in e?e.decimalUi:le(de))(e.before7dContractPriceHighest,6))),1)])):G("",!0),s("div",ka,[(A(!0),W(ht,null,At(e.timeList,v=>(A(),W("div",{key:v.value,class:mt(["time-item",v.value==e.aprRewardsParameter?"time-item-active":""]),onClick:U=>e.aprRewardsParameter=v.value},Y(v.label),11,ya))),128))])]),s("div",wa,[s("span",null,Y(("addCommom"in e?e.addCommom:le(qe))(("decimalUi"in e?e.decimalUi:le(de))(e.before7dContractPriceLowest,6)))+" - "+Y(("addCommom"in e?e.addCommom:le(qe))(("decimalUi"in e?e.decimalUi:le(de))(e.before7dContractPriceHighest,6))),1)])])]),e.farmsPoolInfo&&!("checkNullObj"in e?e.checkNullObj:le(ne))(e.farmsPoolInfo)&&e.fromCoin&&e.toCoin?(A(),W("div",_a,[s("span",null," Farm rewards range："+Y(("decimalUi"in e?e.decimalUi:le(de))(e.direction?e.farmsPoolInfo.minPrice:1/e.farmsPoolInfo.maxPrice,6))+" - "+Y(("decimalUi"in e?e.decimalUi:le(de))(e.direction?e.farmsPoolInfo.maxPrice:1/e.farmsPoolInfo.minPrice,6))+" "+Y((N=e.toCoin)==null?void 0:N.symbol)+" per "+Y((m=e.fromCoin)==null?void 0:m.symbol),1),s("div",{class:"check-box-active",onClick:c[5]||(c[5]=v=>e.isStableFarmingRange=!e.isStableFarmingRange)},[e.isStableFarmingRange?(A(),W("img",Ca)):G("",!0)])])):G("",!0),s("div",{class:mt(["apr-and-price",e.positionError&&e.poolInfo?"padding-apr-and-price":""])},[s("div",Pa,[ze(I,{lever:e.lever},null,8,["lever"])]),ze(Q,{min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direction,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["min","max","from-coin","to-coin","direct","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice"]),e.positionError&&e.poolInfo?(A(),W("div",Sa,[s("img",{src:("importIcon"in e?e.importIcon:le(kt))("/image/icon-tips-error@2x.png"),alt:""},null,8,Ta),s("p",Ia,Y(e.$t("tips.positionError")),1)])):G("",!0)],2)])}const Gt=tt(Fi,[["render",Na]]),Aa=et({props:{poolInfo:{type:Object,default:()=>({})},isActive:{type:Boolean,default:!0}},setup(e,c){const ue=Wt(),V=F(!1),L=F(),ee=F(!0),z=q(()=>ue),O=q(()=>z.value.farmsPoolList.filter(a=>a.status=="Live"));Ce(()=>e.poolInfo,a=>{a&&!ne(a)&&ue.getFarmsPoolList()},{immediate:!0});const I=a=>{const w=a.filter(x=>{var Pe;return x.status=="Live"&&x.clmm_pool_id==((Pe=e.poolInfo)==null?void 0:Pe.poolAddress)});w&&w.length>0&&(V.value=!0,L.value=w[0],c.emit("sendFarmsPoolInfo",ee.value&&e.isActive?L.value:""))};return Ce(()=>O.value,a=>{a&&a.length>0&&I(a)},{immediate:!0}),Ce(()=>e.isActive,a=>{a||c.emit("sendFarmsPoolInfo",ee.value&&e.isActive?L.value:"")},{immediate:!0}),{isShowAutoStake:V,changeIsOpen:()=>{ee.value=!ee.value,c.emit("sendFarmsPoolInfo",ee.value&&e.isActive?L.value:"")},isOpen:ee}}}),La=""+globalThis.__publicAssetsURL("sui-image/farming_huo.png");const Tt=e=>(wt("data-v-26841f53"),e=e(),_t(),e),qa={key:0,class:"farms-auto-stake"},Ma=Tt(()=>s("img",{class:"farms-icon",src:La,alt:""},null,-1)),$a=Tt(()=>s("div",{class:"desc"},"Automatically stake your position into the farm to enjoy higher yield.",-1)),Fa={key:0,src:Zt,alt:""},Ba=Tt(()=>s("div",{class:"check-box"},null,-1));function Ra(e,c,ue,V,L,ee){const z=Ut;return e.isShowAutoStake?(A(),W("div",qa,[Ma,$a,e.isActive?(A(),W("div",{key:0,class:"check-box-active",onClick:c[0]||(c[0]=(...O)=>e.changeIsOpen&&e.changeIsOpen(...O))},[e.isOpen?(A(),W("img",Fa)):G("",!0)])):(A(),De(z,{key:1,"overlay-style":{"min-width":"200px"}},ni({default:st(()=>[Ba]),_:2},[e.isActive?void 0:{name:"title",fn:st(()=>[Pt("Farming rewards only available for active positions.")]),key:"0"}]),1024))])):G("",!0)}const Oa=tt(Aa,[["render",Ra],["__scopeId","data-v-26841f53"]]),Ua=et({components:{NewLiquidityTitle:zt,NewLiquidityAssetsCard:Ht,NewLiquidityDepositRatio:Xt},setup(){const{t:e,locale:c}=Rt(),ue=St(),V=q(()=>ue),L=q(()=>V.value.chainName),ee=Mt(),z=q(()=>ee),O=di(),I=q(()=>O),Q=Ct(),a=q(()=>{let i=null;for(const d in z.value.poolsObj){const k=z.value.poolsObj[d];k.address==Q.query.poolAddress&&(i=k)}return i}),w=F(!1),x=F(!1),Pe=q(()=>V.value.theme),Ne=async(i,d)=>{y.value=i.needReverse?i.token_b:i.token_a,p.value=i.needReverse?i.token_a:i.token_b,P.value="",S.value=""},te=q(()=>I.value.assets&&y.value&&I.value.assets[y.value.address]?Nt(I.value.assets[y.value.address].balance,y.value.decimals):"0"),g=q(()=>I.value.assets&&p.value&&I.value.assets[p.value.address]?Nt(I.value.assets[p.value.address].balance,p.value.decimals):"0"),n=i=>{i==="fromCoin"?(Ie.value=!0,L.value==="Aptos"?P.value=Number(te.value)>0?y.value.symbol=="APT"?new r(Number(te.value)).sub(new r(.1)).lt(new r(0))?"0":new r(Number(te.value)).sub(new r(.1)).toString():String(te.value):"":P.value=Number(te.value)>0?y.value.symbol=="SUI"?new r(Number(te.value)).sub(new r(.05)).lt(new r(0))?"0":new r(Number(te.value)).sub(new r(.05)).toString():String(te.value):""):(Ie.value=!1,L.value==="Aptos"?S.value=Number(g.value)>0?p.value.symbol=="APT"?new r(Number(g.value)).sub(new r(.1)).lt(new r(0))?"0":new r(Number(g.value)).sub(new r(.1)).toString():String(g.value):"":S.value=Number(g.value)>0?p.value.symbol=="SUI"?new r(Number(g.value)).sub(new r(.05)).lt(new r(0))?"0":new r(Number(g.value)).sub(new r(.05)).toString():String(g.value):"")},N=i=>{i==="fromCoin"?(Ie.value=!0,P.value=Number(te.value)>0?pt(new r(Number(te.value)).div(2).toString(),y.value.decimals).toString():""):(Ie.value=!1,S.value=Number(g.value)>0?pt(new r(Number(g.value)).div(2).toString(),p.value.decimals).toString():"")},m=F(),v=F(),U=F(),re=F(!1),me=i=>{var d,k,ve,Z;m.value=i,i==="fromCoin"?(v.value=((d=p.value)==null?void 0:d.address)||"",U.value=Q.query.actions=="new-position"?(k=y.value)==null?void 0:k.address:a.value.needReverse?a.value.token_b.address:a.value.token_a.address):(v.value=((ve=y.value)==null?void 0:ve.address)||"",U.value=Q.query.actions=="new-position"?(Z=p.value)==null?void 0:Z.address:a.value.needReverse?a.value.token_a.address:a.value.token_b.address),re.value=!0},Se=i=>{var ve,Z,fe,ge,se,pe,be,we;const d=a.value.needReverse?a.value.token_b:a.value.token_a,k=a.value.needReverse?a.value.token_a:a.value.token_b;m.value==="fromCoin"?(((ve=y.value)==null?void 0:ve.address)===(d==null?void 0:d.address)||!((Z=y.value)!=null&&Z.address)?(p.value&&i.address.toLowerCase()===((fe=p)==null?void 0:fe.value.address.toLowerCase())&&(p.value=null),y.value=i):(y.value&&i.address.toLowerCase()===((ge=y)==null?void 0:ge.value.address.toLowerCase())&&(y.value=null),p.value=i),Q.query.action||(Q.query.fee="")):((se=p.value)==null?void 0:se.address)===(k==null?void 0:k.address)||!((pe=p.value)!=null&&pe.address)?(y.value&&i.address.toLowerCase()===((be=y)==null?void 0:be.value.address.toLowerCase())&&(y.value=null),p.value=i):(p.value&&i.address.toLowerCase()===((we=p)==null?void 0:we.value.address.toLowerCase())&&(p.value=null),y.value=i),re.value=!1},b=q(()=>V.value.chainName?yt(V.value.chainName):{}),M=q(()=>V.value.slippage),j=F(),ke=async()=>{var Re,Fe,Oe,Ue;if(Xe.value||!$.value&&!C.value)return!1;if(!P.value&&!S.value&&!$.value&&!C.value)return;const i=a.value||{};if(ne(i))return;const{TickUtil:d,TickMath:k,getNearestTickByTick:ve}=b.value,Z=i==null?void 0:i.token_a.decimals,fe=i==null?void 0:i.token_b.decimals;let ge,se,pe,be,we,Le,We,Ge,Me=i==null?void 0:i.current_tick_index,J;if(i.token_a.address.toLowerCase()===y.value.address.toLowerCase()&&i.token_b.address.toLowerCase()===p.value.address.toLowerCase()?J=!0:J=!1,$.value==="0"&&C.value==="∞")pe=d.getMinIndex(Number(i.tickSpacing)),be=d.getMaxIndex(Number(i.tickSpacing)),we=k.tickIndexToSqrtPriceX64(pe),Le=k.tickIndexToSqrtPriceX64(be);else if(E.value=="custom"){J?(ge=$.value,se=C.value):(ge=C.value!=="∞"?new r(1).div(C.value).toString():1/0,se=new r(1).div($.value).toString());try{We=new r(ge).equals(new r(0))?-443636:k.priceToTickIndex(new r(ge),Z,fe)}catch{We=-443636}try{Ge=k.priceToTickIndex(new r(se),Z,fe)}catch{Ge=443636}pe=ve(We,Number(i.tickSpacing),!0),be=ve(Ge,Number(i.tickSpacing),!0);try{we=k.priceToSqrtPriceX64(new r(ge),Z,fe)}catch{(se===1/0||se==="∞")&&(we=k.tickIndexToSqrtPriceX64(d.getMinIndex(Number(i.tickSpacing))))}try{Le=k.priceToSqrtPriceX64(new r(se),Z,fe)}catch{(se===1/0||se==="∞")&&(Le=k.tickIndexToSqrtPriceX64(d.getMaxIndex(Number(i.tickSpacing))))}}else pe=(Re=Qe.value[E.value])==null?void 0:Re.lower,be=(Fe=Qe.value[E.value])==null?void 0:Fe.upper,we=k.tickIndexToSqrtPriceX64(pe),Le=k.tickIndexToSqrtPriceX64(be);if(C.value!=="∞"&&pe>=be){w.value=!0,P.value="",x.value=!0,S.value="";return}if(C.value==="∞"||Me>=pe&&Me<be){w.value=!1,x.value=!1;let _e;if(P.value||S.value){if(Ie.value){const dt=new r(P.value).mul(Math.pow(10,y.value.decimals)).toString();_e=new je(dt)}else{const dt=new r(S.value).mul(Math.pow(10,p.value.decimals)).toString();_e=new je(dt)}k.tickIndexToSqrtPriceX64(a.value.current_tick_index);const{liquidityAmount:$e,tokenMaxA:Je,tokenMaxB:lt,tokenMaxAOrigin:Yt,tokenMaxBOrigin:Vt}=b.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:i.token_a,tokenB:i.token_b,lowerTick:pe,upperTick:be,coinAmount:_e,iscoinA:J?Ie.value:!Ie.value,roundUp:!0,slippage:Number(M.value)/100,curSqrtPrice:new je(a.value.current_sqrt_price)});j.value={liquidityAmount:$e,tokenMaxA:Je,tokenMaxB:lt,tokenMaxAOrigin:Yt,tokenMaxBOrigin:Vt},J?Ie.value?S.value=Number(lt)>0?lt:"":P.value=Number(Je)>0?Je:"":Ie.value?S.value=Je:P.value=lt}}else if(Me>=be){if(J?P.value="":S.value="",w.value=J,x.value=!J,P.value||S.value){let _e;if(J){const $e=new r(S.value).mul(Math.pow(10,(Oe=p.value)==null?void 0:Oe.decimals)).toString();_e=new je($e),j.value={liquidityAmount:b.value.estimateLiquidityForCoinB(we,Le,_e),tokenMaxA:0,tokenMaxB:S.value}}else{const $e=new r(P.value).mul(Math.pow(10,(Ue=y.value)==null?void 0:Ue.decimals)).toString();_e=new je($e),j.value={liquidityAmount:b.value.estimateLiquidityForCoinB(we,Le,_e),tokenMaxA:0,tokenMaxB:P.value}}}}else if(Me<pe){if(w.value=!J,x.value=J,J?S.value="":P.value="",P.value||S.value){let _e;if(J){const $e=new r(P.value).mul(Math.pow(10,y.value.decimals)).toString();_e=new je($e),j.value={liquidityAmount:b.value.estimateLiquidityForCoinA(we,Le,_e),tokenMaxA:P.value,tokenMaxB:0}}else{const $e=new r(S.value).mul(Math.pow(10,p.value.decimals)).toString();_e=new je($e),j.value={liquidityAmount:b.value.estimateLiquidityForCoinA(we,Le,_e),tokenMaxA:S.value,tokenMaxB:0}}}}else w.value=!0,P.value="",x.value=!0,S.value=""};Ce(()=>a.value,(i,d)=>{(!d&&i&&!ne(i)||d&&i&&d.address!==i.address)&&Ne(i,!d||i.address!==d.address),i&&!ne(i)&&ke()},{immediate:!0}),Ce(P,(i,d)=>{i==""&&Ie.value&&(S.value=""),i&&Ie.value&&!Xe.value&&ke()}),Ce(S,(i,d)=>{i==""&&!Ie.value&&(P.value=""),i&&!Ie.value&&!Xe.value&&ke()}),Ce(()=>ce.value,(i,d)=>{ke()}),Ce(()=>[y.value,p.value],([i,d])=>{i&&d&&(w.value=!1,x.value=!1)});const h=F("--"),B=q(()=>z.value.RATES),K=()=>{const i=B.value&&B.value[y.value.address]&&B.value[y.value.address].price,d=B.value&&B.value[p.value.address]&&B.value[p.value.address].price;if(i&&d){const k=new r(P.value>0?P.value:0).mul(i),ve=new r(S.value>0?S.value:0).mul(d),Z=k.add(ve).toNumber();h.value=Z>0&&Z<.01?"<$0.01":"$"+qe(Z,2)}else h.value="--"};Ce(()=>[P.value,S.value,Xe.value],([i,d,k])=>{(i||d)&&!k?K():(!i||!d)&&!k&&(h.value="--")},{immediate:!0}),Ce(()=>h,i=>{},{immediate:!0});const ie=F(),H=async()=>{var J,Re;if(!$.value&&!C.value)return!1;if(!P.value&&!S.value&&!$.value&&!C.value)return;const i=a.value;if(ne(i))return;const{TickUtil:d,TickMath:k,getNearestTickByTick:ve}=b.value,Z=i==null?void 0:i.token_a.decimals,fe=i==null?void 0:i.token_b.decimals;let ge,se,pe,be,we,Le,We;if(i.token_a.address.toLowerCase()===y.value.address.toLowerCase()&&i.token_b.address.toLowerCase()===p.value.address.toLowerCase()?We=!0:We=!1,$.value==="0"&&C.value==="∞")pe=d.getMinIndex(Number(i.tickSpacing)),be=d.getMaxIndex(Number(i.tickSpacing));else if(E.value=="custom"){We?(ge=Number($.value),se=Number(C.value)):(ge=new r(1).div(C.value).toString(),se=new r(1).div($.value).toString());try{we=ge==0?-443636:k.priceToTickIndex(new r(ge),Z,fe)}catch{we=-443636}try{Le=k.priceToTickIndex(new r(se),Z,fe)}catch{Le=443636}pe=ve(we,Number(i.tickSpacing),!0),be=ve(Le,Number(i.tickSpacing),!0)}else pe=(J=Qe.value[E.value])==null?void 0:J.lower,be=(Re=Qe.value[E.value])==null?void 0:Re.upper;const Ge=B.value[i==null?void 0:i.token_a.address].price,Me=B.value[i==null?void 0:i.token_b.address].price;ce.value?new je(i.current_sqrt_price):new je(1/i.current_sqrt_price);try{const{amountA:Fe,amountB:Oe,tokenAmountsInfo:Ue}=await b.value.estCoinAmountsFromTotalAmount({lowerTick:pe,upperTick:be,decimalsA:Z,decimalsB:fe,curSqrtPrice:new je(i.current_sqrt_price),totalAmount:h.value.replace(/[^\d.]/g,""),tokenPriceA:Ge,tokenPriceB:Me});ie.value=Ue,i.needReverse?ce.value?(P.value=Fe,S.value=Oe):(P.value=Oe,S.value=Fe):(P.value=Fe,S.value=Oe)}catch{}};Ce([$,C],([i,d])=>{Xe.value?Xe.value&&H():ke(),d!=="∞"&&Number(i)!==0&&Number(d)!==0&&Number(i)>=Number(d)?Ve.value=!0:Ve.value=!1,Number(i)==0&&Number(d)==0&&ot.value&&(Ve.value=!0)},{deep:!0,immediate:!0});const He=i=>{const d=i.replace(/[^\d.]/g,""),k="$"+qe(d);Xe.value=!0,h.value=k,d>0?H():(P.value="",S.value="")},T=F(!1),{setTransactionTxid:oe,setTransactionDesc:xe,setIsShowWaiting:Ae,setIsShowSuccess:it,setPositiomNum:Ye,setIsShowRejected:Ke}=ue,Ze=hi(),D=q(()=>z.value.currentPositionInfo),at=F(!1),t=F(!0),u=F(),f=i=>{u.value=i,i||(t.value=!1)},_=async i=>{var we,Le,We,Ge;T.value=!1,z.value.currentPositionInfo={},oe(""),xe(e("tips.increaseLiquiditySuccess",{from:w.value?"":`${qe(P.value)} ${(we=y.value)==null?void 0:we.symbol}`,and:!w.value&&!x.value?"and":"",to:x.value?"":`${qe(S.value)} ${(Le=p.value)==null?void 0:Le.symbol}`})),Ae(!0);const d=ce.value?Ie.value:!Ie.value;let k,ve,Z,fe,ge,se;const pe=a.value.token_a.decimals,be=a.value.token_b.decimals;if($.value==="0"&&C.value==="∞")Z=b.value.TickUtil.getMinIndex(Number(a.value.tickSpacing)),fe=b.value.TickUtil.getMaxIndex(Number(a.value.tickSpacing));else if(E.value=="custom"){ce.value?(k=$.value,ve=C.value):(k=new r(1).div(C.value).toString(),ve=new r(1).div($.value).toString());try{ge=k==0?b.value.TickUtil.getMinIndex(Number(a.value.tickSpacing)):b.value.TickMath.priceToTickIndex(new r(k),pe,be)}catch{ge=b.value.TickUtil.getMinIndex(Number(a.value.tickSpacing))}try{se=b.value.TickMath.priceToTickIndex(new r(ve),pe,be)}catch{se=b.value.TickUtil.getMaxIndex(Number(a.value.tickSpacing))}Z=b.value.getNearestTickByTick(ge,Number(a.value.tickSpacing),!0),fe=b.value.getNearestTickByTick(se,Number(a.value.tickSpacing),!0)}else Z=Qe.value[E.value].lower,fe=Qe.value[E.value].upper;try{let Me;Xe.value?Me=await b.value.getCreateAddLiquidityPayload({pool:a.value,curSqrtPrice:new je(a.value.current_sqrt_price),tickLower:Z,tickUpper:fe,slippage:Number(M.value)/100,tokenAmounts:ie.value}):Me=await b.value.getAddLiquidityTransactionPayload({pool:{poolAddress:a.value.poolAddress,token_a:a.value.token_a,token_b:a.value.token_b},amount:Ie.value?P.value:S.value,fix_amount_a:d,tick_lower:Z,tick_upper:fe,index:0,slippage:Number(M.value)/100,roundUp:!0,collect_fee:!1,curSqrtPrice:new je(a.value.current_sqrt_price),farmPoolInfo:u.value});let J;if(L.value==="Aptos")J=await I.value.currentWallet.signAndSubmitTransaction(Me);else{const Re=await I.value.currentWallet.signAndExecuteTransactionBlock(Me);J=b.value.handleTx(Re)}if(J&&J.hash){oe(J.hash),Ae(!1),it(!0);let Re;a.value.needReverse?a.value.token_a.address.toLowerCase()===y.value.address.toLowerCase()&&a.value.token_b.address.toLowerCase()===p.value.address.toLowerCase()?Re=!1:Re=!0:a.value.token_a.address.toLowerCase()===y.value.address.toLowerCase()&&a.value.token_b.address.toLowerCase()===p.value.address.toLowerCase()?Re=!0:Re=!1;const Fe={title:"Supplied",desc:e("tips.addLiquiditySuccessText",{from:w.value?"":`${qe(P.value)} ${(We=y.value)==null?void 0:We.symbol}`,and:!w.value&&!x.value?"and":"",to:x.value?"":`${qe(S.value)} ${(Ge=p.value)==null?void 0:Ge.symbol}`}),hash:J.hash,tit:"Position Created",icon:"icon-icon-Position-Created"};L.value!=="Aptos"&&(Fe.res=J.res),b.value.showTransitionPending(Fe);const Oe=await b.value.watchTransaction(Fe,!0);if(Oe.status){if(it(!1),z.value.setCurrentPositionLoading(!0),at.value=!0,L.value==="Aptos"){if(await z.value.setCurrentPositionInfo(Oe.nftInfo[0].data.id.creator,Oe.nftInfo[0].data.id.collection,Oe.nftInfo[0].data.name,L.value),i)try{await Ze.subscribePosition({pool_address:D.value.poolAddress,position_index:D.value.index},D.value.nftHash)}catch{}}else{const Ue=Oe.nftInfo,_e=await It(2e3);if(t.value){let $e;J.res.events.forEach(Je=>{Je.type.indexOf("::pool::DepositEvent")>-1&&($e=Je.parsedJson.wrapped_position_id)}),await z.value.setCurrentPositionInfo("","","","Sui",$e,"farming")}else await z.value.setCurrentPositionInfo(Ue==null?void 0:Ue.pool,"","",L.value,Ue==null?void 0:Ue.position);if(await It(1e3),i&&!t.value)try{await Ze.subscribePosition({pool_address:D.value.poolAddress,position_index:D.value.index},D.value.nftHash)}catch{}else if(i&&t.value)try{await Ze.subscribePosition({pool_address:D.value.clmm_pool_id,position_index:D.value.name.split("-")[1]},D.value.clmm_position_id)}catch{}}setTimeout(()=>{ee.updateCurrentPools(a.value.poolAddress,L.value),b.value.getAccount(I.value.address)},3e3),setTimeout(async()=>{Lt(b,a)},3e3)}Ye()}else Ae(!1),Ke(!0);P.value="",S.value=""}catch{P.value="",S.value="",Ae(!1),Ke(!0)}},R=q(()=>!!(!P.value&&!S.value||Number(P.value)>Number(te.value)||Number(S.value)>Number(g.value)||he.value!==e("button.addLiquidity")&&he.value!==e("newAdd.preview")||a.value&&a.value&&a.value.is_pause||Number(P.value)<=0&&Number(S.value)<=0||!w.value&&Number(P.value)==0||!x.value&&Number(S.value)==0)),X=q(()=>!y.value||!p.value),he=q(()=>a.value&&a.value.is_pause?"Pool Closed":!y.value||!p.value||X.value?e("modal.selectTokenModalTitle"):Number(P.value)>Number(te.value)?e("button.insufficientBalance",{name:y.value.symbol}):Number(S.value)>Number(g.value)?e("button.insufficientBalance",{name:p.value.symbol}):!Number(P.value)&&!Number(S.value)?e("button.enterAmount"):C.value!=="∞"&&Number($.value)>=Number(C.value)?e("newAdd.invalidRange"):e("button.addLiquidity")),Ee=F({}),o=F({}),l=F(!1),Te=(i,d)=>{const k=localStorage.getItem(i.address);z.value.tokensObj&&z.value.tokensObj[i.address]&&z.value.tokensObj[i.address].isSelfBuilt&&!k&&(d=="fromCoin"&&(Ee.value=i),d=="toCoin"&&(o.value=i),l.value=!0)};Ce(()=>[y.value,p.value],([i,d])=>{i&&!ne(i)&&Te(i,"fromCoin"),d&&!ne(d)&&Te(d,"toCoin")},{immediate:!0});const ae=ri(),ye=()=>{L.value!=="Aptos"?ae.push("/pool/list"):ae.push("/pools")},Kt=i=>{Xe.value,_(i)},Jt=()=>{Q.query.action!=="create-pool"&&Q.query.actions!=="new-position"&&(Lt(b,a),ke(),ee.updateCurrentPools(a.value.poolAddress,L.value)),ee.setPoolConfigList(L.value,V.value.filterCoinsObj)},Qt=q(()=>{var k,ve,Z,fe,ge,se;const i=(Z=B.value[(ve=(k=y)==null?void 0:k.value)==null?void 0:ve.address])==null?void 0:Z.price,d=(se=B.value[(ge=(fe=p)==null?void 0:fe.value)==null?void 0:ge.address])==null?void 0:se.price;return!!(i&&d)});return Ce(()=>[Q,z.value.tokensObj],([i,d])=>{var k;d&&!ne(d)&&(p.value||(p.value=z.value.tokensObj[(k=i==null?void 0:i.query)==null?void 0:k.toCoin]))},{immediate:!0,deep:!0}),{positionError:Ve,decimalUi:de,poolInfo:a,fromCoinAmount:P,toCoinAmount:S,fromCoin:y,toCoin:p,theme:Pe,showFromCoinLock:w,showToCoinLock:x,fromCoinBlance:te,toCoinBlance:g,maxBtnSelect:n,halfBtnSelect:N,fixedFromCoin:Ie,openCoinSelect:me,currentCoinKey:m,existingCoins:v,lastSelectCoin:U,showCoinSelect:re,onCoinSelect:Se,liquidityTotalAmount:h,toggle:Et,onInput:He,isInputTotalAmount:Xe,isViewDetail:at,addLiquidityBtnDisabled:R,addLiquidityBtnText:he,isShowTokenWarning:l,chainName:L,closeTokenWarning:ye,warningFromCoin:Ee,warningToCoin:o,isShowLiquidityModal:T,currentPrice:ot,currentPriceReverse:ct,currentPriceTab:E,minPrice:$,maxPrice:C,toAdd:_,direction:ce,wallet:I,getAddLiquidityType:Kt,clickRefresh:Jt,isShowtotalAmount:Qt,isAutoStakeFarming:t,farmPoolInfo:u,getFarmsPoolInfo:f}}});const ja={class:"new-liquidity-right"},za={class:"deposit-title"},Ha={class:"card-container"},Xa={key:0,class:"lock"},Ea={class:"card-item"},Wa={class:"card-item"},Da={key:0,class:"total-amount"},Za=s("span",null,"Total Amount",-1);function Ga(e,c,ue,V,L,ee){const z=zt,O=mi,I=Ht,Q=fi,a=Xt,w=oi,x=gi,Pe=pi,Ne=bi,te=Oa;return A(),W("div",ja,[s("div",za,[ze(z,{"pool-info":e.poolInfo,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClickRefresh"])]),s("div",Ha,[e.positionError?(A(),W("div",Xa,[ze(O)])):G("",!0),s("div",Ea,[ze(I,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":c[0]||(c[0]=g=>e.fromCoinAmount=g),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:c[1]||(c[1]=g=>e.maxBtnSelect("fromCoin")),onOnHalf:c[2]||(c[2]=g=>e.halfBtnSelect("fromCoin")),onOnInput:c[3]||(c[3]=g=>{e.fromCoinAmount=g,e.fixedFromCoin=!0,e.isInputTotalAmount=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&!e.positionError?(A(),De(Q,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])):G("",!0)]),s("div",Wa,[ze(I,{modelValue:e.toCoinAmount,"onUpdate:modelValue":c[4]||(c[4]=g=>e.toCoinAmount=g),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:c[5]||(c[5]=g=>e.maxBtnSelect("toCoin")),onOnHalf:c[6]||(c[6]=g=>e.halfBtnSelect("toCoin")),onOnInput:c[7]||(c[7]=g=>{e.toCoinAmount=g,e.fixedFromCoin=!1,e.isInputTotalAmount=!1})},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&!e.positionError?(A(),De(Q,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])):G("",!0)]),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme=="default"?(A(),W("img",{key:1,class:"add",src:ki,alt:"",onClick:c[8]||(c[8]=(...g)=>e.toggle&&e.toggle(...g))})):G("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme!=="default"?(A(),W("img",{key:2,class:"add",src:yi,alt:"",onClick:c[9]||(c[9]=(...g)=>e.toggle&&e.toggle(...g))})):G("",!0)]),e.isShowtotalAmount?(A(),W("div",Da,[Za,s("span",null,Y(e.liquidityTotalAmount)+" ",1)])):G("",!0),ze(a,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"fixed-from-coin":e.fixedFromCoin,"is-input-total-amount":e.isInputTotalAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price-tab":e.currentPriceTab,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","fixed-from-coin","is-input-total-amount","min-price","max-price","current-price-tab","current-price","current-price-reverse"]),ze(w,{class:"add-liquidity-btn",disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,onClick:c[10]||(c[10]=g=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:st(()=>[Pt(Y(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),e.showCoinSelect?(A(),De(x,{key:1,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:c[11]||(c[11]=g=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):G("",!0),e.isViewDetail?(A(),De(Pe,{key:2,"pool-info":e.poolInfo,"farm-pool-info":e.farmPoolInfo,"is-auto-stake-farming":e.isAutoStakeFarming,onOnClose:c[12]||(c[12]=g=>e.isViewDetail=!1)},null,8,["pool-info","farm-pool-info","is-auto-stake-farming"])):G("",!0),e.isShowLiquidityModal?(A(),De(Ne,{key:3,"pool-info":e.poolInfo,title:e.$t("button.addLiquidity"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":e.currentPriceTab,"min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direction,"is-increase":!1,onToAdd:e.getAddLiquidityType,onOnClose:c[13]||(c[13]=g=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","current-price-tab","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onToAdd"])):G("",!0),e.chainName=="Sui"?(A(),De(te,{key:4,"pool-info":e.poolInfo,"is-active":!e.showFromCoinLock&&!e.showToCoinLock,"is-auto-stake-farming":e.isAutoStakeFarming,onSendFarmsPoolInfo:e.getFarmsPoolInfo},null,8,["pool-info","is-active","is-auto-stake-farming","onSendFarmsPoolInfo"])):G("",!0)])}const xt=tt(Ua,[["render",Ga]]),xa=et({components:{NewLiquidityLeft:Gt,NewLiquidityRight:xt},setup(){Ot(()=>{vi()});const e=Ct();return{tickList:rt,route:e}}});const Ka={key:0,class:"loading-spin-liquidity loading-global"},Ja={class:"privide-liquidity"};function Qa(e,c,ue,V,L,ee){var Q,a;const z=Bt,O=Gt,I=xt;return A(),W(ht,null,[!e.tickList&&((a=(Q=e.route)==null?void 0:Q.query)!=null&&a.poolAddress)?(A(),W("div",Ka,[ze(z)])):G("",!0),s("div",Ja,[ze(O),ze(I)])],64)}const qn=tt(xa,[["render",Qa],["__scopeId","data-v-fc58011a"]]);export{qn as default};
