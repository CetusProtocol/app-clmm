import{_ as Ee}from"./apr-tips.20d65ef4.js";import{j as De,u as fe,a as ge,c as Y,g as ce,q as Pe,i as H,h as P,_ as ee,f as me,t as le}from"./import-icon.9d757206.js";import{a as $e,r as g,L as Ue,N as je,J as we,G as ke,f as C,w as Z,h as _e,o as l,i as a,k as $,j as s,u as S,s as K,t as i,F,D as q,l as O,v as D,c as ae,x as j,E as ye,B as Ke,p as be,m as Ie,b as Me,z as ve,O as pe,P as x,Q as Fe,S as qe,H as he,R as ze}from"./entry.94f2f2cc.js";/* empty css              */import{d as He}from"./numbers.a940f11f.js";/* empty css              */import{_ as se}from"./icon_on_2x.ae77fc4a.js";/* empty css              */import{p as Ze}from"./precision.9d58cda5.js";import{_ as We,a as Ge}from"./img-no-Positions_2x.599b642e.js";import"./decimal.c0617878.js";const Je=$e({props:{lItem:{type:Object,required:!0}},setup(e){const o=g(!1),B=Ue(je,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:M}=we(),U=ke(),N=De(),_=C(()=>N),y=g(!1);function A(u){const R=u.balance,E=He(R).div(Math.pow(10,u.decimals)).toString();return P(E,u.decimals)}const w=u=>{y.value=!0,setTimeout(()=>{y.value=!1},2e3),U.push(`/deposit?poolAddress=${u.address}&tokena=${u.coinA.address}&tokenb=${u.coinB.address}&fee=${u.fee}`)},V=fe(),c=C(()=>V),k=C(()=>c.value.newTokenObj&&e.lItem.coinA.address&&c.value.newTokenObj[e.lItem.coinA.address]&&c.value.newTokenObj[e.lItem.coinA.address].logo_url),n=C(()=>c.value.newTokenObj&&e.lItem.coinB.address&&c.value.newTokenObj[e.lItem.coinB.address]&&c.value.newTokenObj[e.lItem.coinB.address].logo_url),v=g([]),p=ge(),T=C(()=>p),h=C(()=>T.value.theme);return Z(()=>[c.value.addressLpTokens,c.value.newTokenObj,T.value.newTopPoolsObj,T.value.addressLpTokens,e.lItem],([u,R,E])=>{if(!Y(u)&&!Y(R)&&!Y(c.value.RATES)&&!Y(E)){const oe=e.lItem.address&&u[e.lItem.address]&&u[e.lItem.address].rewarder_infos||[],W=[];oe.forEach((b,G)=>{var z;const te=(z=R[b.coinAddress])==null?void 0:z.decimals,J=ce(b.emissionsEveryDay/Math.pow(10,te),4),ne=ce(Number(J)*c.value.RATES[b.coinAddress]&&c.value.RATES[b.coinAddress].price,4);W.push({...b,logoUrl:R[b.coinAddress]&&R[b.coinAddress].logoURI,day:J,dayUSD:ne,symbol:R[b.coinAddress].symbol,rewarders:e.lItem[`rewarders${G}`],rewarder_display:e.lItem[`rewarder_display${G+1}`]})}),v.value=W.filter(b=>b.rewarder_display)}},{immediate:!0}),{t:M,isShow:o,indicator:B,thousands:Pe,importIcon:H,router:U,wallet:_,addCommom:P,getLpView:A,toAdd:w,fromCoinUrl:k,toCoinUrl:n,addLiquidity:y,rewarderInfo:v,theme:h}}});const Se=e=>(be("data-v-946d86f7"),e=e(),Ie(),e),Qe={class:"pools-list-item"},Xe={key:0,class:"isFarming"},Ye=Se(()=>s("div",{class:"hover-text"},"Farming bonus available",-1)),xe=[Ye],es=Se(()=>s("div",{class:"topBg"},null,-1)),ss={class:"top"},os={class:"img-box"},ts=["src"],ns=["src"],ls={class:"coin-name"},as={key:0,class:"pool-warning"},is={class:"hover-text"},rs={class:"symbol-label"},ds={class:"apr"},us={class:"bottom"},cs={class:"induction"},ms={class:"item"},vs={class:"induction-text"},ps={class:"induction-value"},hs={class:"item"},fs={class:"induction-text"},gs={class:"induction-value"},$s={class:"item"},ws={class:"induction-text"},ks={class:"induction-value"},_s={key:0,class:"item rewards-item"},ys={class:"induction-text"},bs={class:"induction-value induction-value-rewards"},Is={class:"rewards-hover"},Ss=["src"],Cs=["src"];function Ls(e,o,B,M,U,N){var w,V,c,k,n,v,p,T;const _=Ee,y=ye,A=Ke;return l(),a("div",Qe,[(w=e.lItem)!=null&&w.isFarming?(l(),a("div",Xe,xe)):$("",!0),es,s("div",ss,[s("div",os,[(V=e.lItem)!=null&&V.coinA?(l(),a("img",{key:0,src:e.fromCoinUrl?e.fromCoinUrl:e.theme=="default"?("importIcon"in e?e.importIcon:S(H))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:S(H))("/image/coins/sui-unknown.png")},null,8,ts)):$("",!0),(c=e.lItem)!=null&&c.coinB?(l(),a("img",{key:1,src:e.toCoinUrl?e.toCoinUrl:e.theme=="default"?("importIcon"in e?e.importIcon:S(H))("/image/coins/unknown.png"):("importIcon"in e?e.importIcon:S(H))("/image/coins/sui-unknown.png")},null,8,ns)):$("",!0)]),s("span",ls,[K(i((n=(k=e.lItem)==null?void 0:k.coinA)==null?void 0:n.symbol)+" - "+i((p=(v=e.lItem)==null?void 0:v.coinB)==null?void 0:p.symbol)+" ",1),e.lItem.isSelfBuilt?(l(),a("div",as,[s("div",is,i(e.t("newAdd.poolWarning")),1)])):$("",!0)]),s("div",rs,[(l(!0),a(F,null,q((T=e.lItem)==null?void 0:T.labels,(h,u)=>(l(),a("div",{key:u,class:O(["lable",h])},null,2))),128))]),s("div",ds,[s("span",{class:"apr-text",onClick:o[0]||(o[0]=h=>e.isShow=!e.isShow)},i(e.lItem.is_display_rewarder?("addCommom"in e?e.addCommom:S(P))(e.lItem.aprTotal,2):("addCommom"in e?e.addCommom:S(P))(e.lItem.apr,2)),1),s("span",{onClick:o[1]||(o[1]=h=>e.isShow=!e.isShow)},i(e.$t("common.apr")),1),D(_,{class:O(e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),"l-item":e.lItem,"rewarder-info":e.rewarderInfo},null,8,["class","l-item","rewarder-info"])])]),s("div",us,[s("div",cs,[s("div",ms,[s("div",vs,i(e.$t("common.feeTier")),1),s("div",ps,i(e.lItem.fee!=="--"?e.lItem.fee*100:"--")+"%",1)]),s("div",hs,[s("div",fs,i(e.$t("common.liquidity")),1),s("div",gs,"$"+i(("addCommom"in e?e.addCommom:S(P))(e.lItem.liqidity,2)),1)]),s("div",$s,[s("div",ws,i(e.$t("common.volume24H")),1),s("div",ks,"$"+i(("addCommom"in e?e.addCommom:S(P))(e.lItem.vol,2)),1)]),e.lItem.is_display_rewarder&&e.rewarderInfo&&e.rewarderInfo.length>0?(l(),a("div",_s,[s("div",ys,i(e.$t("common.rewards")),1),s("div",bs,[e.rewarderInfo&&e.rewarderInfo.length>0?(l(!0),a(F,{key:0},q(e.rewarderInfo,h=>(l(),a("div",{key:h,class:O(["rewards",h.day===0?"reward-none":""])},[s("div",Is,[s("img",{src:h.logoUrl,alt:""},null,8,Ss),s("span",null,i(`${h.day} ${h.symbol} per day`),1)]),s("img",{src:h.logoUrl,alt:""},null,8,Cs),s("span",null,i(h.symbol),1)],2))),128)):e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr!=="0%"?(l(),ae(y,{key:1,size:"small"})):$("",!0)]),e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr=="0%"?(l(),a("div",{key:0,class:O(["induction-value",e.lItem.rewarder_apr=="0%"?"text-default":"induction-value-rewards"])},i(e.$t("newAdd.noRewards")),3)):$("",!0)])):$("",!0)]),D(A,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:o[2]||(o[2]=h=>e.toAdd(e.lItem))},{default:j(()=>[K(i(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const As=_e(Je,[["render",Ls],["__scopeId","data-v-946d86f7"]]),Vs=$e({setup(){const{t:e,locale:o}=we(),B=ke(),M=g(!1),U=g(!1),N=g(!1),_=g("TVL"),y=g(["APR","VOL"]),A=g(!1),w=g(e("tab.all")),V=g([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),c=g([]),k=g(""),n=g(["pools"]),v=fe(),p=ge(),T=g(!0),h=g(""),u=C(()=>p),R=C(()=>p.theme),E=C(()=>v),oe=C(()=>p.statsData),W=(t,d)=>d.liqidity-t.liqidity,b=(t,d)=>d.vol-t.vol,G=(t,d)=>d.aprNum-t.aprNum;Me(()=>{var d,f,I;const t=(I=(f=(d=B==null?void 0:B.currentRoute)==null?void 0:d.value)==null?void 0:f.query)==null?void 0:I.language;t&&J(t),h.value=o.value,document.addEventListener("click",()=>{Q("")})}),Z(()=>u.value.chainName,(t,d)=>{t&&p.getStatsData(t)},{immediate:!0});const{setLang:te}=p,J=t=>{te(t),o.value=t},ne=(t,d)=>t&&d?me(Ze.plus(le(t),le(d)),2)+"%":t,z=t=>{let d=0;return t&&t.forEach(f=>{d+=le(String(f))}),String(me(String(d),2))},Ce=(t=[])=>{const d=t&&t.length>0?t:Object.values(E.value.poolsObj),f=[];d.forEach(m=>{const r=u.value.addressLpTokens[m.address],X=E.value.poolsObj[m.address];let ie,re,de,ue;r&&(ie=r.rewarder_apr[0]?Number(r.rewarder_apr[0].substring(0,r.rewarder_apr[0].length-1)):0,re=r.rewarder_apr[1]?Number(r.rewarder_apr[1].substring(0,r.rewarder_apr[1].length-1)):0,de=r.rewarder_apr[2]?Number(r.rewarder_apr[2].substring(0,r.rewarder_apr[2].length-1)):0,ue=ie+re+de),f.push({...m,liqidity:r?r.tvl_in_usd:"0.00000000001",vol:r?r.vol_in_usd_24h:"0",apr:r?r.apr_7day:"--",fee:m.fee?m.fee:X!=null&&X.fee?X.fee:"--",aprNum:r?String(Number(r.apr_7day.substring(0,r.apr_7day.length-1))+ue):"0",rewarder_apr:z(r&&r.rewarder_apr),aprTotal:ne(r&&r.apr_7day,r&&z(r.rewarder_apr)),rewarders0:r&&r.rewarder_apr[0],rewarders1:r&&r.rewarder_apr[1],rewarders2:r&&r.rewarder_apr[2],labels:m!=null&&m.labels?m.labels:[],isFarming:m==null?void 0:m.isFarming,isSelfBuilt:m==null?void 0:m.isSelfBuilt})});let I=[];if(_.value=="APR"?I=f.sort(G):_.value=="VOL"?I=f.sort(b):I=f.sort(W),w.value!=e("tab.all")){const m=[];I.forEach(r=>{r.labels.indexOf(w.value)!==-1&&m.push(r)}),c.value=m}else c.value=I;if(k.value){var Re=new RegExp("[\\u4E00-\\u9FFF]+","g");if(Re.test(k.value)){k.value="";return}const m=c.value.filter(r=>r.symbol.toLowerCase().includes(k.value.toLowerCase()));c.value=m}T.value=!1};Z(()=>[E.value.poolConfigList,u.value.chainName,k.value,_.value,w.value,u.value.addressLpTokens],([t,d])=>{t&&(t==null?void 0:t.length)>0&&t[0]&&d&&(d!=null&&d.toLowerCase().includes(t[0].chain))&&Ce(t)},{immediate:!0,deep:!0});const Le=t=>{if(!T.value&&(M.value=!0,t)){const d=c.value.filter(f=>f.symbol.toLowerCase().includes(t.toLowerCase()));c.value=d,M.value=!1}},Ae=()=>{T.value=!0,U.value=!0,p.getStatsData(u.value.chainName),v.setPoolConfigList(u.value.chainName),setTimeout(()=>{U.value=!1},1e3)},Ve=t=>{const d=[];d.push(_.value),y.value.forEach((f,I)=>{f!=t&&d.push(f)}),y.value=d,_.value=t},Te=t=>{const d=[];V.value.forEach((f,I)=>{f==t?d[I]=w.value:d[I]=f}),V.value=d,w.value=t};Z(()=>p.lang,t=>{h.value=t});const Q=t=>{t=="label"?(p.setIsSelect("pools"),A.value=!A.value,N.value=!1,u.value.setIsShowMore(!1)):t=="select"?(p.setIsSelect("pools"),N.value=!N.value,A.value=!1,u.value.setIsShowMore(!1)):(N.value=!1,A.value=!1)},Be=()=>{B&&B.push("/position")},Oe=C(()=>ee[u.value.chainName]);Z(()=>u.value.isSelect,t=>{t!=="pools"&&Q("")},{immediate:!0});const Ne=C(()=>E.value.poolConfigList.filter(d=>d.address==ee[u.value.chainName].newPositionAddress)[0]);return{store:u,showMore:()=>{u.value.setIsShowMore(!u.value.isShowMore),u.value.setOpenMore(!1),u.value.setOpenSwitchLang(!1),u.value.setOpenH5Icon(!1),u.value.setOpenSwitchChain(!1),Q("")},lpInfo:Ne,config:Oe,toPositionList:Be,t:e,router:B,loading:M,clickRefresh:Ae,refresh:U,updateLpList:Le,searchKey:k,current:n,addCommom:P,list:c,theme:R,statsData:oe,pools:E,select:N,selectValue:_,selectList:y,label:A,labelValue:w,labelList:V,changeSort:Ve,changeSortLabel:Te,reviseValue:Q,listLoading:T,languageValue:h}}});const L=e=>(be("data-v-ef004f61"),e=e(),Ie(),e),Ts={class:"pools-list-container"},Bs={class:"right-link"},Os=["href"],Ns=L(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-jump"})],-1)),Rs=L(()=>s("svg",{class:"icon","aria-hidden":"true"},[s("use",{"xlink:href":"#icon-icon-add1"})],-1)),Es={class:"search-refresh"},Ds={class:"my-position position-h5"},Ps=["placeholder"],Us=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),js=[Us],Ks={key:0,class:"select-item"},Ms=["onClick"],Fs=L(()=>s("img",{src:se,alt:""},null,-1)),qs=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),zs=[qs],Hs={key:0,class:"select-item"},Zs=["onClick"],Ws=L(()=>s("img",{src:se,alt:""},null,-1)),Gs=L(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Js=[Gs],Qs={class:"search-tab"},Xs={class:"my-position position-pc"},Ys=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),xs=[Ys],eo={key:0,class:"select-item"},so=["onClick"],oo=L(()=>s("img",{src:se,alt:""},null,-1)),to=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),no=[to],lo={key:0,class:"select-item"},ao=["onClick"],io=L(()=>s("img",{src:se,alt:""},null,-1)),ro=["placeholder"],uo=L(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),co=[uo],mo={class:"item item-left"},vo={class:"value"},po={class:"label"},ho={class:"item item-right"},fo={class:"value"},go={class:"label"},$o={key:2,class:"no-data"},wo={key:0,src:We},ko={key:1,src:Ge};function _o(e,o,B,M,U,N){const _=he("mail-outlined"),y=ze,A=he("appstore-outlined"),w=Fe,V=qe,c=ye,k=As;return l(),a("div",Ts,[s("div",{class:"pools-title",onClick:o[1]||(o[1]=n=>e.reviseValue(""))},[s("div",null,i(e.$t("common.concentratedPools")),1),s("div",Bs,[e.store&&e.store.chainName==="Aptos"?(l(),a("a",{key:0,href:`${("config"in e?e.config:S(ee)).ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"ammSite"},[s("span",null,i(e.$t("common.ammPools")),1),Ns],8,Os)):$("",!0),s("div",{class:"position",onClick:o[0]||(o[0]=n=>e.router.push(`/deposit?tokena=${("config"in e?e.config:S(ee)).currentChainTokenAddress}`))},[s("span",null,i(e.$t("newAdd.newPosition")),1),Rs])])]),s("div",Es,[s("div",Ds,[s("div",{class:"search-input",onClick:o[5]||(o[5]=n=>e.reviseValue(""))},[ve(s("input",{"onUpdate:modelValue":o[2]||(o[2]=n=>e.searchKey=n),oninput:"value=value.match(/^[A-Za-z0-9-]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,Ps),[[pe,e.searchKey]]),e.searchKey?(l(),a("div",{key:0,class:"out-icon",onClick:o[3]||(o[3]=n=>e.searchKey="")})):$("",!0),s("div",{class:"search-icon",onClick:o[4]||(o[4]=n=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:o[6]||(o[6]=x(n=>e.reviseValue("label"),["stop"]))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(l(),a("svg",{"aria-hidden":"true",class:O(e.label?"show-icon icon":"icon")},js,2)),e.label?(l(),a("div",Ks,[(l(!0),a(F,null,q(e.labelList,(n,v)=>(l(),a("div",{key:v,class:"select-menu-item",onClick:p=>e.changeSortLabel(n)},i(n),9,Ms))),128))])):$("",!0)]),s("div",{class:"search-select",onClick:o[7]||(o[7]=x(n=>e.reviseValue("select"),["stop"]))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[K(i(e.selectValue)+" ",1),Fs]),(l(),a("svg",{"aria-hidden":"true",class:O(e.select?"show-icon icon":"icon")},zs,2)),e.select?(l(),a("div",Hs,[(l(!0),a(F,null,q(e.selectList,(n,v)=>(l(),a("div",{key:v,class:"select-menu-item",onClick:p=>e.changeSort(n)},[K(i(n)+" ",1),Ws],8,Zs))),128))])):$("",!0)]),(l(),a("svg",{"aria-hidden":"true",class:O(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[8]||(o[8]=(...n)=>e.clickRefresh&&e.clickRefresh(...n))},Js,2))]),s("div",Qs,[D(w,{selectedKeys:e.current,"onUpdate:selectedKeys":o[9]||(o[9]=n=>e.current=n),mode:"horizontal"},{default:j(()=>[D(y,{key:"pools"},{icon:j(()=>[D(_)]),default:j(()=>[K(" "+i(e.$t("menu.pools")),1)]),_:1}),D(y,{key:"position",onClick:e.toPositionList},{icon:j(()=>[D(A)]),default:j(()=>[K(" "+i(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Xs,[e.store.theme=="default"?(l(),a("div",{key:0,class:"search-select search-label",onClick:o[10]||(o[10]=x(n=>e.reviseValue("label"),["stop"]))},[s("span",null,i(e.$t("newAdd.label")),1),s("div",null,i(e.labelValue),1),(l(),a("svg",{"aria-hidden":"true",class:O(e.label?"show-icon icon":"icon")},xs,2)),e.label?(l(),a("div",eo,[(l(!0),a(F,null,q(e.labelList,(n,v)=>(l(),a("div",{key:v,class:"select-menu-item",onClick:p=>e.changeSortLabel(n)},i(n),9,so))),128))])):$("",!0)])):$("",!0),s("div",{class:"search-select",onClick:o[11]||(o[11]=x(n=>e.reviseValue("select"),["stop"]))},[s("span",null,i(e.$t("newAdd.sortBy")),1),s("div",null,[K(i(e.selectValue)+" ",1),oo]),(l(),a("svg",{"aria-hidden":"true",class:O(e.select?"show-icon icon":"icon")},no,2)),e.select?(l(),a("div",lo,[(l(!0),a(F,null,q(e.selectList,(n,v)=>(l(),a("div",{key:v,class:"select-menu-item",onClick:p=>e.changeSort(n)},[K(i(n)+" ",1),io],8,ao))),128))])):$("",!0)]),s("div",{class:"search-input",onClick:o[15]||(o[15]=n=>e.reviseValue(""))},[ve(s("input",{"onUpdate:modelValue":o[12]||(o[12]=n=>e.searchKey=n),oninput:"value=value.match(/^[A-Za-z0-9-]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,ro),[[pe,e.searchKey]]),e.searchKey?(l(),a("div",{key:0,class:"out-icon",onClick:o[13]||(o[13]=n=>e.searchKey="")})):$("",!0),s("div",{class:"search-icon",onClick:o[14]||(o[14]=n=>e.updateLpList(e.searchKey))})]),(l(),a("svg",{"aria-hidden":"true",class:O(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[16]||(o[16]=(...n)=>e.clickRefresh&&e.clickRefresh(...n))},co,2))])]),s("div",{class:"tvl-vol",onClick:o[17]||(o[17]=n=>e.reviseValue(""))},[s("div",mo,[D(V,{loading:e.listLoading,active:"",paragraph:!1},{default:j(()=>[s("div",vo," $ "+i(("addCommom"in e?e.addCommom:S(P))(e.statsData&&e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",po,i(e.$t("common.totalValueLocked")),1)]),s("div",ho,[D(V,{loading:e.listLoading,active:"",paragraph:!1},{default:j(()=>[s("div",fo," $ "+i(("addCommom"in e?e.addCommom:S(P))(e.statsData&&e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",go,i(e.$t("common.volume24H")),1)])]),s("div",{class:"item-container",onClick:o[18]||(o[18]=n=>e.reviseValue(""))},[e.listLoading?(l(),ae(c,{key:0})):e.list&&e.list.length>0?(l(!0),a(F,{key:1},q(e.list,(n,v)=>(l(),ae(k,{key:v,"l-item":n},null,8,["l-item"]))),128)):(l(),a("div",$o,[e.theme=="default"?(l(),a("img",wo)):(l(),a("img",ko)),s("span",null,i(e.$t("common.poolsNotFound")),1)]))])])}const Ro=_e(Vs,[["render",_o],["__scopeId","data-v-ef004f61"]]);export{Ro as default};
