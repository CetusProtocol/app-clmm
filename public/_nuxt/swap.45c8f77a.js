import{_ as tn,a as ln}from"./token-warning-modal.6505f15f.js";import{_ as un,a as rn}from"./coin-select.685f66ac.js";import{a as Se,u as Ae,b as To,c as he,D as c,s as Y,d as L,j as No,h as Ve,z as So,f as de,_ as Me,w as Ao,p as fe,g as Ce,e as Le}from"./pool.198d758c.js";import{e as ke,a as Pe,a1 as _o,a2 as Bo,r as m,m as y,A as K,o as a,f as C,h as o,c as E,s as T,j as J,t as s,x as ue,u as R,J as Fo,S as Oo,p as $e,k as Ie,M as eo,l as Po,K as oo,w as oe,i as re,B as no,a4 as dn,F as xe,q as ko,b as $o,v as cn,z as mn,a7 as je,D as vn}from"./entry.741d2d78.js";/* empty css              *//* empty css              */import"./decimal.7db0574a.js";import{i as ae}from"./import-icon.de3e6c66.js";import{a as pn,_ as fn}from"./network-tips.4babedc8.js";/* empty css              */import{u as Cn}from"./swapRouter.f3cf30f4.js";import{_ as hn}from"./img-leverage_2x.1c577303.js";/* empty css              */import"./icon-selected_3x.350736e2.js";import"./token-warning.6b415799.js";/* empty css              */import"./img-no-Positions_2x.c8b8085b.js";const gn=""+globalThis.__publicAssetsURL("sui-image/route-view.png");const bn=Pe({props:{swapLoading:{type:Boolean,default:!1},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fixedFromCoin:{type:Boolean,default:!0},routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},impact:{type:String,default:""},insufficientLiquidity:{type:Boolean,default:!1},oneToAmount:{type:String,default:""},oneFromAmount:{type:String,default:""},suiPreSwapdata:{type:Object,default:()=>({})},suiSwapFee:{type:String,default:""},swapRouterLoading:{type:Boolean,default:!1}},setup(e){const t=_o(Bo,{style:{fontSize:"20px",color:"#75C8FF"},spin:!0}),b=m(!1),h=Se(),A=y(()=>h),U=y(()=>A.value.slippage),v=y(()=>A.isShowRouterModal);K(()=>e,S=>{},{immediate:!0,deep:!0});const D=Ae(),F=y(()=>D),X=To("Sui"),O=m({}),W=m({}),H=m({});K(()=>[e.suiPreSwapdata,F.value.tokensObj],async([S,f])=>{S&&!he(S)&&f&&!he(f)&&(S.coinTypeA&&(O.value=f[S.coinTypeA]||(await X.getTokenListByCoinType([S.coinTypeA]))[0]),S.coinTypeB&&(W.value=f[S.coinTypeB]||(await X.getTokenListByCoinType([S.coinTypeB]))[0]),S.coinTypeC&&(H.value=f[S.coinTypeC]||(await X.getTokenListByCoinType([S.coinTypeC]))[0]))},{immediate:!0});const k=m(0),Z=m(0);return K(()=>[e.fromCoinAmount,e.toCoinAmount,e.fromCoin,e.toCoin,e.fixedFromCoin,U.value],([S,f,te,$,G,l])=>{if(S&&f&&te&&$&&l)if(G){const u=new c(f).mul(new c(l/100));Z.value=new c(f).sub(u).toString()}else{const u=new c(S).mul(new c(l/100));k.value=new c(S).sub(u).toString()}},{immediate:!0}),{sFixD:Y,getCoinIcon:S=>{var f;return(S==null?void 0:S.logoURI)||(S==null?void 0:S.logo_url)||((f=F.value.tokensObj[S==null?void 0:S.address])==null?void 0:f.logo_url)||(A.theme==="default"?ae("/image/coins/unknown.png"):ae("/image/coins/sui-unknown.png"))},indicator:t,rateChange:b,slippage:U,isShowRouterModal:v,indexStore:h,coinTypeA:O,coinTypeB:W,coinTypeC:H,maximumSold:k,minimumReceived:Z,addCommom:L}}}),ge=e=>($e("data-v-f2fc5683"),e=e(),Ie(),e),yn={key:0,class:"swap-info"},wn={class:"loading-swap"},Sn={key:1,class:"swap-rate"},An={key:0},kn=["src"],$n={key:0},In=["src"],Tn={key:1},Nn={key:0},_n=["src"],Bn=["src"],Fn=ge(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),On=ge(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),Pn=[Fn,On],Un={key:2},Rn={class:"trade-info"},Dn={class:"trade-block"},Ln=ge(()=>o("div",{class:"lebal"},"Price Impact",-1)),jn={key:0,class:"icon","aria-hidden":"true"},Mn=ge(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),En=[Mn],qn={class:"trade-block"},Wn={class:"lebal"},Xn={key:0,class:"text"},Qn={class:"trade-block"},Hn=ge(()=>o("div",{class:"lebal"},"Fee",-1)),zn={key:0,class:"text"},Jn={key:0,class:"trade-block"},Zn=ge(()=>o("div",{class:"lebal"},"Route",-1)),Kn={key:0,class:"text"},Yn={key:0},Gn={key:1},Vn={key:2},xn=ge(()=>o("img",{src:gn,alt:""},null,-1));function es(e,t,b,h,A,U){const v=Fo,D=Oo;return e.swapLoading||Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&!e.insufficientLiquidity?(a(),C("div",yn,[o("div",wn,[e.swapLoading||e.swapRouterLoading?(a(),E(v,{key:0,size:"small",indicator:e.indicator},null,8,["indicator"])):T("",!0),e.swapLoading?e.swapLoading?(a(),C("span",Un,"Best route and price")):T("",!0):(a(),C("div",Sn,[e.rateChange?(a(),C("span",Tn,[e.fromCoinAmount&&e.toCoinAmount?(a(),C("span",Nn,[o("img",{src:e.getCoinIcon(e.toCoin)},null,8,_n),J(" 1 "+s(e.toCoin.symbol)+" ≈ ",1),o("img",{src:e.getCoinIcon(e.fromCoin)},null,8,Bn),J(s(e.oneFromAmount==1/0?0:e.oneFromAmount)+" "+s(e.fromCoin.symbol),1)])):(a(),E(v,{key:1,indicator:e.indicator},null,8,["indicator"]))])):(a(),C("span",An,[o("img",{src:e.getCoinIcon(e.fromCoin)},null,8,kn),J(" 1 "+s(e.fromCoin.symbol)+" ≈ ",1),e.fromCoinAmount&&e.toCoinAmount?(a(),C("span",$n,[o("img",{src:e.getCoinIcon(e.toCoin)},null,8,In),J(s(e.oneToAmount==1/0?0:e.oneToAmount)+" "+s(e.toCoin.symbol),1)])):(a(),E(v,{key:1,indicator:e.indicator},null,8,["indicator"]))])),o("div",{class:"right",onClick:t[0]||(t[0]=F=>e.rateChange=!e.rateChange)},Pn)]))]),o("div",Rn,[o("div",Dn,[Ln,e.swapRouterLoading?(a(),E(D,{key:1,paragraph:!1,active:""})):(a(),C("div",{key:0,class:ue(["text",e.impact<1?"impact-s":e.impact<10&&e.impact>=1?"impact-w":"impact-e"])},[J(s(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(a(),C("svg",jn,En)):T("",!0)],2))]),o("div",qn,[o("div",Wn,s(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swapRouterLoading?(a(),E(D,{key:1,paragraph:!1,active:""})):(a(),C("div",Xn,s(e.fixedFromCoin?("addCommom"in e?e.addCommom:R(L))(("sFixD"in e?e.sFixD:R(Y))(e.minimumReceived,e.toCoin.decimals)):("addCommom"in e?e.addCommom:R(L))(("sFixD"in e?e.sFixD:R(Y))(e.maximumSold,e.fromCoin.decimals)))+" "+s(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",Qn,[Hn,e.swapRouterLoading?(a(),E(D,{key:1,paragraph:!1,active:""})):(a(),C("div",zn,s(e.suiSwapFee),1))]),e.insufficientLiquidity?T("",!0):(a(),C("div",Jn,[Zn,e.swapRouterLoading?(a(),E(D,{key:1,paragraph:!1,active:""})):(a(),C("div",{key:0,class:"text",onClick:t[1]||(t[1]=F=>e.indexStore.setIsShowRouterModal(!e.isShowRouterModal))},[e.swapRouterLoading?T("",!0):(a(),C("div",Kn,[e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeA?(a(),C("span",Yn,s(e.coinTypeA.symbol)+" "+s(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?"> ":""),1)):T("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeB?(a(),C("span",Gn,s(e.coinTypeB.symbol)+" "+s(e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?"> ":""),1)):T("",!0),e.suiPreSwapdata&&e.suiPreSwapdata.coinTypeC?(a(),C("span",Vn,s(e.coinTypeC.symbol),1)):T("",!0)])),xn]))]))])])):T("",!0)}const os=ke(bn,[["render",es],["__scopeId","data-v-f2fc5683"]]),Io={SUI:{symbol:"SUI",name:"Sui Coin",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sBTC:{symbol:"sBTC",name:"Wrapped BTC",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::BTC"},sETH:{symbol:"sETH",name:"Wrapped Ether",decimals:8,balance:0,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::ETH"},USDC:{symbol:"USDC",name:"USDC Coin",decimals:6,balance:12e3,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC"},USDT:{symbol:"USDT",name:"Tether USD",decimals:6,balance:1e4,address:"0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT"}},ns={"USDT-USDC":{symbol:"USDT-USDC",name:"USDT-USDC",decimals:6,coinA:Io.USDT,coinB:Io.USDC,feeDenominator:"10000",feeNumerator:"1",fee:"0.01",address:"0x1ce98d89494e9d3d7935bc3bd5fc714fc2abb99db3f024162552c4ba172f4d28::amm_swap::PoolLiquidityCoin<0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDT,0x84dc9d921d277db5047dcb17addc2ecfbddfad087dd4ea825b2d17785755cb29::cetus_faucet::USDC>"}};function ss(e,t){const b=Object.values(ns).filter(h=>e===h.coinA.symbol&&t===h.coinB.symbol||e===h.coinB.symbol&&t===h.coinA.symbol);return b&&b[0]||null}const as=Pe({components:{Modal:eo},props:{fromCoin:{type:Object,required:!0},toCoin:{type:Object,required:!0},fromCoinAmount:{type:String,required:!0},toCoinAmount:{type:String,required:!0},impact:{type:Number,required:!0},fee:{type:String,required:!0},fixedFromCoin:{type:Boolean,required:!0},formatFee:{type:String,default:""}},emits:["to-swap","on-close"],setup(e,t){const{t:b,locale:h}=Po(),A=Se(),U=No();y(()=>U);const v=y(()=>{const $=ss(e.fromCoin.symbol,e.toCoin.symbol);return Ve(So(e.fromCoinAmount).mul(So($.fee).div(100)).toString(),e.fromCoin.decimals)}),D=m(A.slippage||.5),F=m(!0),X=m(!1);function O($){F.value=$}const W=async()=>{t.emit("to-swap")},H=Ae(),k=y(()=>H),Z=y(()=>k.value.tokensObj&&e.fromCoin.address&&k.value.tokensObj[e.fromCoin.address]&&k.value.tokensObj[e.fromCoin.address].logoURI),x=y(()=>k.value.tokensObj&&e.toCoin.address&&k.value.tokensObj[e.toCoin.address]&&k.value.tokensObj[e.toCoin.address].logoURI),S=Se(),f=y(()=>S);return{fromCoinUrl:Z,toCoinUrl:x,t:b,importIcon:ae,fixD:de,decimalFormat:Ve,direct:F,changeDirect:O,rateChange:X,clickNextBtn:W,slippage:D,liquidityProviderFee:v,getCoinIcon:$=>{var G;return($==null?void 0:$.logoURI)||($==null?void 0:$.logo_url)||((G=k.value.tokensObj[$==null?void 0:$.address])==null?void 0:G.logo_url)||(f.value.theme==="default"?ae("/image/coins/unknown.png"):ae("/image/coins/sui-unknown.png"))},addCommom:L,sFixD:Y}}});const Ee=e=>($e("data-v-39c58222"),e=e(),Ie(),e),ts=Ee(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),is={class:"swap-confirm-container"},ls={class:"card-content"},us={class:"top"},rs={class:"coin"},ds=["src"],cs=Ee(()=>o("div",{class:"svg-box"},[o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-swap2"})])],-1)),ms={class:"coin"},vs=["src"],ps={class:"bottom"},fs={class:"induction"},Cs={class:"item"},hs={class:"induction-text"},gs={class:"induction-value induction-value-change"},bs={key:0},ys={key:1},ws=Ee(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Ss=[ws],As={class:"item"},ks={class:"induction-text"},$s={class:"induction-value"},Is={class:"item"},Ts={class:"induction-text"},Ns={class:"induction-value"},_s={key:0,class:"item"},Bs={class:"induction-text"},Fs={key:0,class:"icon","aria-hidden":"true"},Os=Ee(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),Ps=[Os],Us={key:1,class:"item"},Rs={class:"induction-text"},Ds={key:0,class:"induction-value"},Ls={key:1,class:"induction-value"};function js(e,t,b,h,A,U){const v=no,D=oo("Modal");return a(),E(D,{width:"440px",visible:!0,footer:null,title:e.$t("modal.swapConfirmTitle"),class:"swap-confirm-modal",onCancel:t[2]||(t[2]=F=>e.$emit("on-close"))},{closeIcon:oe(()=>[ts]),default:oe(()=>[o("div",is,[o("div",ls,[o("div",us,[o("div",rs,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,ds),o("p",null,s(e.fromCoinAmount),1),J("    "),o("p",null,s(e.fromCoin.symbol),1)]),cs,o("div",ms,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,vs),o("p",null,s(e.toCoinAmount),1),J("    "),o("p",null,s(e.toCoin.symbol),1)])]),o("div",ps,[o("div",fs,[o("div",Cs,[o("div",hs,s(e.$t("common.rate")),1),o("div",gs,[e.rateChange?(a(),C("span",ys," 1 "+s(e.toCoin.symbol)+" ≈ "+s(("addCommom"in e?e.addCommom:R(L))(("sFixD"in e?e.sFixD:R(Y))(Number(e.fromCoinAmount)/Number(e.toCoinAmount),e.toCoin.decimals)))+" "+s(e.fromCoin.symbol),1)):(a(),C("span",bs," 1 "+s(e.fromCoin.symbol)+" ≈ "+s(("addCommom"in e?e.addCommom:R(L))(("sFixD"in e?e.sFixD:R(Y))(Number(e.toCoinAmount)/Number(e.fromCoinAmount),e.toCoin.decimals)))+" "+s(e.toCoin.symbol),1)),(a(),C("svg",{class:"icon-change","aria-hidden":"true",onClick:t[0]||(t[0]=F=>e.rateChange=!e.rateChange)},Ss))])]),o("div",As,[o("div",ks,s(e.$t("modal.slippageTolerance")),1),o("div",$s,s(e.slippage)+"%",1)]),o("div",Is,[o("div",Ts,s(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",Ns,s(e.fixedFromCoin?("addCommom"in e?e.addCommom:R(L))(("sFixD"in e?e.sFixD:R(Y))(e.toCoinAmount-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals)):("addCommom"in e?e.addCommom:R(L))(("sFixD"in e?e.sFixD:R(Y))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals)))+" "+s(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),e.chainName=="Sui"?(a(),C("div",_s,[o("div",Bs,s(e.$t("common.priceImpact")),1),o("div",{class:ue(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>1?"impact-w":"impact-e"])},[J(s(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(a(),C("svg",Fs,Ps)):T("",!0)],2)])):T("",!0),e.fee?(a(),C("div",Us,[o("div",Rs,s(e.$t("common.fee")),1),e.chainName=="Aptos"?(a(),C("div",Ds,s(e.formatFee)+" "+s(e.fromCoin.symbol)+" ("+s(e.fee*100)+"%) ",1)):(a(),C("div",Ls,s(e.fee),1))])):T("",!0)])])])]),re(v,{class:"big-btn swap-confirm-btn",onClick:t[1]||(t[1]=F=>e.clickNextBtn())},{default:oe(()=>[J(s(e.$t("button.confirmSwap")),1)]),_:1})]),_:1},8,["title"])}const Ms=ke(as,[["render",js],["__scopeId","data-v-39c58222"]]);async function Es(e){const{prices:t}=await $fetch(`https://api.coingecko.com/api/v3/coins/${e}/market_chart?vs_currency=usd&id=${e}&days=1&interval=hourly`,{headers:{Connection:"keep-alive",Accept:"*/*"}});return t}const qs={props:{coin:{type:Object,default:()=>({})},refresh:{type:Boolean,default:!1},id:{type:String,default:""}},setup(e,t){const{$echarts:b}=dn();let h=null,A;const U=m(!0),v=(l,u,P)=>{A={xAxis:{type:"category",boundaryGap:!1,show:!1,data:u},yAxis:{type:"value",show:!1,min:function(I){return I.min-I.min*.1},max:function(I){return I.max+I.max*.1}},grid:{top:1,right:1,bottom:1,left:1},tooltip:{trigger:"axis",borderWidth:0,padding:0,backgroundColor:"transparent",axisPointer:{lineStyle:{color:k.value.chainName=="Aptos"?"#68FFD8":"#76C8FF"}},formatter:function(I){return`<div class="chart-tip">
              <div>${I&&I[0]&&I[0].name}</div>
              <div>$${de(I&&I[0]&&I[0].value,4)}</div>
            </chart-tip>`}},color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:k.value.chainName=="Aptos"?"#0C4535":"#2E546D"},{offset:1,color:k.value.chainName=="Aptos"?"#151817":"#1B1B1B"}]},series:[{data:l,type:"line",showSymbol:!1,areaStyle:{},lineStyle:{color:k.value.chainName=="Aptos"?"#68FFD8":"#76C8FF",width:2,type:"solid"}}]},A&&h.clear(),A&&h.setOption(A,!0),h.resize(),U.value=!1},D=Ae(),F=y(()=>D),X=m(""),O=m(""),W=async l=>{var ie,ve;const u=[],P=[],I=await Es(l);X.value=I&&I.length>1&&(I[I.length-1][1]-I[0][1])/I[0][1]*100,O.value=I&&I.length>1&&I[I.length-1][1],I.forEach(j=>{u.push(j[1]);const z=Ao(j[0],"MD"),i=Ao(j[0],"HM");P.push(z+" "+i)});let be=document.getElementById(`main${(ie=e.coin)==null?void 0:ie.name}`);h=b.init(be),v(u,P,(ve=e.coin)==null?void 0:ve.name)},H=Se(),k=y(()=>H),Z=y(()=>k.value.chainName),x=y(()=>Me[Z.value]);K(()=>e.id,(l,u)=>{l&&(X.value="",O.value="",setTimeout(()=>{W(l)},1e3))},{immediate:!0});const S=m(""),f=m(""),te=m(""),$=m("");return K(()=>[F.value.tokensObj,e.coin],([l,u])=>{var P,I;l&&u&&l[u.address]&&(f.value=((P=l[u.address])==null?void 0:P.labels)&&((I=l[u.address])==null?void 0:I.labels[0]),S.value=l[u.address].name,te.value=l[u.address].symbol,$.value=l[u.address].address)},{immediate:!0,deep:!0}),K(()=>e.refresh,l=>{l&&W(e.id)}),{theme:y(()=>k.value.theme),store:H,importIcon:ae,fixD:de,config:x,price_rate_24h:X,nowPrice:O,coinName:S,coinLabels:f,coinSymbol:te,address:$}}};const Ws=e=>($e("data-v-079780ad"),e=e(),Ie(),e),Xs={class:"token-info"},Qs={class:"token-info-padding"},Hs={class:"token-info-header"},zs={class:"left"},Js=["src","onerror"],Zs={class:"name"},Ks={class:"desc"},Ys={class:"right"},Gs={class:"price"},Vs={class:"token-info-footer"},xs={class:"left"},ea={class:"address"},oa={key:0,class:"pc-address"},na={key:1,class:"pc-address"},sa={class:"h5-address"},aa=Ws(()=>o("use",{"xlink:href":"#icon-icon-copy"},null,-1)),ta=[aa],ia={class:"right"},la=["id"];function ua(e,t,b,h,A,U){var v;return a(),C("div",Xs,[o("div",Qs,[o("div",Hs,[o("div",zs,[o("img",{src:b.coin.logoURI||h.importIcon(`/image/coins/${b.coin.symbol.toLowerCase()}.png`),onerror:h.theme=="default"?h.importIcon("/image/coins/unknown.png"):h.importIcon("/image/coins/sui-unknown.png")},null,8,Js),o("div",null,[o("div",Zs,s(h.coinSymbol),1),o("div",Ks,[o("span",null,s(h.coinName)+" "+s(h.coinLabels?`(${h.coinLabels})`:""),1)])])]),o("div",Ys,[o("div",Gs,"$"+s(h.fixD(h.nowPrice,2)),1),h.price_rate_24h?(a(),C("div",{key:0,class:ue(h.price_rate_24h>0?"increase up":h.price_rate_24h<0?"increase down":"increase up")},s(h.price_rate_24h>0?`+ ${h.fixD(h.price_rate_24h,2)}`:h.price_rate_24h<0?+`${h.fixD(h.price_rate_24h,2)}`:`+${h.fixD(h.price_rate_24h,2)}`)+"% ",3)):T("",!0)])]),o("div",Vs,[o("div",xs,[o("div",ea,[b.coin&&h.address!=="0x2::sui::SUI"?(a(),C("span",oa,s(b.coin&&b.coin.address.substr(0,13))+" ... "+s(b.coin&&b.coin.address.substr(b.coin.address.length-13,13)),1)):(a(),C("span",na,s(b.coin&&b.coin.address),1)),o("span",sa,s(b.coin&&b.coin.address.substr(0,4))+" ... "+s(b.coin&&b.coin.address.substr(b.coin.address.length-4,4)),1),(a(),C("svg",{class:"icon","aria-hidden":"true",onClick:t[0]||(t[0]=D=>h.store.copy(b.coin&&b.coin.address))},ta))])]),o("div",ia,[o("div",{id:`main${(v=b.coin)==null?void 0:v.name}`,class:"main"},null,8,la)])])])])}const ra=ke(qs,[["render",ua],["__scopeId","data-v-079780ad"]]);const da=Pe({components:{Modal:eo},props:{routertotalPercents:{type:Array,default:()=>[]},routerPool:{type:Array,default:()=>[]},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:""},toCoinAmount:{type:String,default:""},routerTotalAmounts:{type:String,default:""}},setup(e){const t=Ae(),b=y(()=>t),h=m([]);return K(()=>[e.routerPool,b.value.poolConfigObj,e.routerTotalAmounts,e.fromCoin,e.toCoin],([A,U,v,D,F])=>{if(A&&A.length>0&&U&&!he(U)&&v){const X=[];A.forEach(O=>{const W="100",H=O.amountIn.toString(),k=fe(O.amountOut.toString(),F.decimals),Z=O.poolAddress.map((x,S)=>({...U&&U[x]}));X.push({percent:W,...O,amountIn:H,amountOut:k,poolAddress:Z})}),h.value=X}},{immediate:!0}),y(()=>{var A,U;return(U=(A=b.value)==null?void 0:A.poolInfo)==null?void 0:U.needReverse}),{addCommom:L,routerStep:h}}}),qe=e=>($e("data-v-a3281978"),e=e(),Ie(),e),ca=qe(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),ma={class:"route-top"},va={class:"token-a"},pa=["src"],fa={class:"token-num"},Ca={class:"token-symbol"},ha={class:"token-b"},ga={class:"token-num"},ba={class:"token-symbol"},ya=["src"],wa={class:"route-bottom"},Sa=qe(()=>o("div",{class:"left-round"},null,-1)),Aa=qe(()=>o("div",{class:"right-round"},null,-1)),ka={class:"percent"},$a={class:"pool-info"},Ia=["src"],Ta=["src"],Na={key:0,class:"icon","aria-hidden":"true"},_a=qe(()=>o("use",{"xlink:href":"#icon-icon_on1"},null,-1)),Ba=[_a];function Fa(e,t,b,h,A,U){const v=oo("Modal");return a(),E(v,{title:"Route",width:"600px",visible:!0,footer:null,onCancel:t[0]||(t[0]=D=>e.$emit("onClose"))},{closeIcon:oe(()=>[ca]),default:oe(()=>{var D,F,X,O;return[o("div",ma,[o("div",va,[o("img",{src:(D=e.fromCoin)==null?void 0:D.logo_url,alt:""},null,8,pa),o("span",fa,s(("addCommom"in e?e.addCommom:R(L))(e.fromCoinAmount)),1),o("span",Ca,s((F=e.fromCoin)==null?void 0:F.symbol),1)]),o("div",ha,[o("span",ga,s(("addCommom"in e?e.addCommom:R(L))(e.toCoinAmount)),1),o("span",ba,s((X=e.toCoin)==null?void 0:X.symbol),1),o("img",{src:(O=e.toCoin)==null?void 0:O.logo_url,alt:""},null,8,ya)])]),o("div",wa,[Sa,Aa,(a(!0),C(xe,null,ko(e.routerStep,(W,H)=>(a(),C("div",{key:W,class:ue(["route-path",H!==0?"route-path-active":""])},[o("div",ka,[o("span",null,s(W.percent)+"%",1),o("span",null,s(("addCommom"in e?e.addCommom:R(L))(W.amountOut))+" "+s(e.toCoin.symbol),1)]),(a(!0),C(xe,null,ko(W.poolAddress,(k,Z)=>(a(),C("div",{key:Z,class:"pool-info-box"},[o("div",$a,[o("img",{class:"token-a-img",src:k.needReverse?k.coinB.logo_url:k.coinA.logo_url,alt:""},null,8,Ia),o("img",{class:"token-b-img",src:k.needReverse?k.coinA.logo_url:k.coinB.logo_url,alt:""},null,8,Ta),o("span",null,s(k.fee*100)+"%",1)]),Z!==W.poolAddress.length-1?(a(),C("svg",Na,Ba)):T("",!0)]))),128))],2))),128))])]}),_:1})}const Oa=ke(da,[["render",Fa],["__scopeId","data-v-a3281978"]]),Pa=Pe({components:{Modal:eo},props:{fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},fromCoinAmount:{type:String,default:"1245566.008946"},toCoinAmount:{type:String,default:"998041.711793"},slippage:{type:String,default:""},impact:{type:Number,required:!0},fixedFromCoin:{type:Boolean,default:!1},fee:{type:String,required:!0},formatFee:{type:String,default:""},isShowAccept:{type:Boolean,default:!1},swapLoading:{type:Boolean,required:!0},oneFromAmount:{type:String,default:""},oneToAmount:{type:String,default:""}},setup(e,t){const b=Ae(),h=y(()=>b),A=Se(),U=y(()=>A),v=O=>{var W;return(O==null?void 0:O.logoURI)||(O==null?void 0:O.logo_url)||((W=h.value.tokensObj[O==null?void 0:O.address])==null?void 0:W.logo_url)||(U.value.theme==="default"?ae("/image/coins/unknown.png"):ae("/image/coins/sui-unknown.png"))},D=m(!1),F=y(()=>U.value.chainName);return{getCoinIcon:v,addCommom:L,sFixD:Y,rateChange:D,chainName:F,clickNextBtn:async()=>{t.emit("to-swap")}}}});const ce=e=>($e("data-v-9f8cc837"),e=e(),Ie(),e),Ua=ce(()=>o("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),Ra={class:"new-swap-contnet"},Da={class:"coin-info"},La={class:"from-coin-info"},ja={class:"left"},Ma={class:"coin-amount"},Ea={class:"coin-symbol"},qa={class:"right"},Wa=["src"],Xa={class:"to-coin-info"},Qa={class:"left"},Ha={class:"coin-amount"},za={class:"coin-symbol"},Ja={class:"right"},Za=["src"],Ka=ce(()=>o("div",{class:"to-swap-logo"},null,-1)),Ya={class:"coin-rate"},Ga={key:0},Va={class:"left"},xa=["src"],et=["src"],ot=ce(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),nt=ce(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),st=[ot,nt],at={key:1},tt={class:"left"},it=["src"],lt=["src"],ut=ce(()=>o("div",null,[o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})])],-1)),rt=ce(()=>o("div",null,[o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})])],-1)),dt=[ut,rt],ct={class:"bottom"},mt={class:"induction"},vt={class:"item"},pt={class:"induction-text"},ft={class:"induction-value"},Ct={class:"item"},ht={class:"induction-text"},gt={class:"induction-value"},bt={key:0,class:"item"},yt={class:"induction-text"},wt={key:0,class:"icon","aria-hidden":"true"},St=ce(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),At=[St],kt={key:1,class:"item"},$t={class:"induction-text"},It={key:0,class:"induction-value"},Tt={key:1,class:"induction-value"},Nt={key:0,class:"price-updated"},_t=ce(()=>o("span",null,"Price updated",-1));function Bt(e,t,b,h,A,U){const v=no,D=oo("Modal");return a(),E(D,{width:"440px",visible:!0,footer:null,title:e.$t("button.swap"),class:"add-liquidity-modal",onCancel:t[4]||(t[4]=F=>e.$emit("on-close"))},{closeIcon:oe(()=>[Ua]),default:oe(()=>[o("div",Ra,[o("div",Da,[o("div",La,[o("div",ja,[o("div",Ma,s(e.fromCoinAmount&&("addCommom"in e?e.addCommom:R(L))(e.fromCoinAmount)),1),o("div",Ea,s(e.fromCoin&&e.fromCoin.symbol),1)]),o("div",qa,[o("img",{src:e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)},null,8,Wa)])]),o("div",Xa,[o("div",Qa,[o("div",Ha,s(e.toCoinAmount&&("addCommom"in e?e.addCommom:R(L))(e.toCoinAmount)),1),o("div",za,s(e.toCoin&&e.toCoin.symbol),1)]),o("div",Ja,[o("img",{src:e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)},null,8,Za)]),Ka]),o("div",Ya,[e.rateChange?(a(),C("div",at,[o("div",tt,[o("img",{src:e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)},null,8,it),o("span",null,"1 "+s(e.toCoin&&e.toCoin.symbol)+" ≈",1),o("img",{src:e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)},null,8,lt),o("span",null,s(e.oneFromAmount)+" "+s(e.fromCoin.symbol),1)]),o("div",{class:"right",onClick:t[1]||(t[1]=F=>e.rateChange=!e.rateChange)},dt)])):(a(),C("div",Ga,[o("div",Va,[o("img",{src:e.fromCoin&&e.fromCoin.logoURI||e.getCoinIcon(e.fromCoin)},null,8,xa),o("span",null,"1 "+s(e.fromCoin&&e.fromCoin.symbol)+" ≈",1),o("img",{src:e.toCoin&&e.toCoin.logoURI||e.getCoinIcon(e.toCoin)},null,8,et),o("span",null,s(e.oneToAmount)+" "+s(e.toCoin.symbol),1)]),o("div",{class:"right",onClick:t[0]||(t[0]=F=>e.rateChange=!e.rateChange)},st)]))])]),o("div",ct,[o("div",mt,[o("div",vt,[o("div",pt,s(e.$t("modal.slippageTolerance")),1),o("div",ft,s(e.slippage)+"%",1)]),o("div",Ct,[o("div",ht,s(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),o("div",gt,s(e.fixedFromCoin?("addCommom"in e?e.addCommom:R(L))(("sFixD"in e?e.sFixD:R(Y))(e.toCoinAmount-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals)):("addCommom"in e?e.addCommom:R(L))(("sFixD"in e?e.sFixD:R(Y))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals)))+" "+s(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1)]),e.chainName=="Sui"?(a(),C("div",bt,[o("div",yt,s(e.$t("common.priceImpact")),1),o("div",{class:ue(["induction-value",e.impact<1?"impact-s":e.impact<10&&e.impact>=1?"impact-w":"impact-e"])},[J(s(e.impact<.01?"<0.01":e.impact>100?"100":e.impact)+"% ",1),e.impact>=10?(a(),C("svg",wt,At)):T("",!0)],2)])):T("",!0),e.fee?(a(),C("div",kt,[o("div",$t,s(e.$t("common.fee")),1),e.chainName=="Aptos"?(a(),C("div",It,s(e.formatFee)+" "+s(e.fromCoin.symbol)+" ("+s(e.fee*100)+"%) ",1)):(a(),C("div",Tt,s(e.fee),1))])):T("",!0)])])]),e.isShowAccept?(a(),C("div",Nt,[_t,re(v,{class:"accept-btn",loading:e.swapLoading,onClick:t[2]||(t[2]=F=>e.$emit("accept"))},{default:oe(()=>[J("Accept")]),_:1},8,["loading"])])):(a(),E(v,{key:1,class:"big-btn swap-confirm-btn",onClick:t[3]||(t[3]=F=>e.clickNextBtn())},{default:oe(()=>[J(s(e.$t("button.confirmSwap")),1)]),_:1}))]),_:1},8,["title"])}const Ft=ke(Pa,[["render",Bt],["__scopeId","data-v-9f8cc837"]]),Ot=Pe({setup(){const e=$o(),t=_o(Bo,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:b,locale:h}=Po(),A=Se(),U=Ae(),v=y(()=>U);let D=m(!1),F=m(!1),X=m(!1),O=m(!1),W=m(!1),H=m(!1);const k=m("fromCoin"),Z=m(""),x=m(""),S=m(!1),f=m(!0),te=m(!1),$=m(!1),G=m(!1),l=m(""),u=m(""),P=m(20),I=m(0),be=m(null),ie=m(!1),ve=y(()=>A.slippage),j=y(()=>A.chainName),z=y(()=>j.value?To(j.value):{}),i=m(),p=m(),We=y(()=>Me&&Me[j.value]&&Me[j.value].hasRouter),so=y(()=>U.getPoolInfoSuccess),Uo=y(()=>{var n;return N.value&&((n=N.value)!=null&&n.is_pause)?"Pool Closed":!i.value||!p.value?b("modal.selectTokenModalTitle"):!Number(l.value)&&!Number(u.value)?b("button.enterAmount"):!We.value&&!N.value&&so.value?"Pool Not Found":We.value&&Be.value?"No Available Route":ie.value?b("button.insufficientLiquidity"):Number(l.value)>Number(ee.value)?b("button.insufficientBalance",{name:i.value.symbol}):b("button.swap")}),Ro=n=>{var d,r,g,w;k.value=n,n==="fromCoin"?(Z.value=((d=p.value)==null?void 0:d.address)||"",x.value=((r=i.value)==null?void 0:r.address)||""):(Z.value=((g=i.value)==null?void 0:g.address)||"",x.value=((w=p.value)==null?void 0:w.address)||""),S.value=!0},Xe=m({}),Qe=m({}),Do=n=>{k.value==="fromCoin"?(Xe.value=n,ze(n)):(Qe.value=n,ze(n))},Lo=n=>{n==="fromCoin"?(f.value=!0,j.value==="Aptos"?l.value=ee.value>0?i.value.symbol=="APT"?new c(Number(ee.value)).sub(new c(.1)).lt(new c(0))?"0":new c(Number(ee.value)).sub(new c(.1)).toString():String(ee.value):"":l.value=ee.value>0?i.value.symbol=="SUI"?new c(Number(ee.value)).sub(new c(.05)).lt(new c(0))?"0":new c(Number(ee.value)).sub(new c(.05)).toString():String(ee.value):""):(f.value=!1,j.value==="Aptos"?u.value=ne.value>0?p.value.symbol=="APT"?new c(Number(ne.value)).sub(new c(.1)).lt(new c(0))?"0":new c(Number(ne.value)).sub(new c(.1)).toString():String(ne.value):"":u.value=ne.value>0?p.value.symbol=="SUI"?new c(Number(ne.value)).sub(new c(.05)).lt(new c(0))?"0":new c(Number(ne.value)).sub(new c(.05)).toString():String(ne.value):"")},jo=n=>{n==="fromCoin"?(f.value=!0,l.value=ee.value>0?Y(new c(Number(ee.value)).div(2).toString(),i.value.decimals).toString():""):(f.value=!1,u.value=ne.value>0?Y(new c(Number(ne.value)).div(2).toString(),p.value.decimals).toString():"")};cn(()=>{to()}),mn(()=>{clearInterval(be.value)});const He=y(()=>A),ao=()=>{!N.value&&!We.value||(clearInterval(be.value),U.setPoolConfigList(He.value.chainName,He.value.filterCoinsObj),I.value=0,F.value=!0,N.value&&U.updateCurrentPools(N.value.poolAddress,j.value),we(f.value?l.value:u.value),A.getStatsData(j.value,He.value.filterCoinsObj),setTimeout(()=>{F.value=!1,to()},1e3))},to=()=>{be.value=setInterval(()=>{F.value=!1,te.value||I.value<P.value&&(I.value+=1,I.value===P.value&&(j.value=="Aptos"?N.value&&N.value.poolAddress&&U.updateCurrentPools(N.value.poolAddress,j.value):H.value||ao(),I.value=0,F.value=!0))},1e3)};K(f,je((n,d)=>{f.value=n},500));const ye=m(!1);K(l,je((n,d)=>{n&&n!==0&&f.value&&we(n),n==""&&f.value&&(u.value="")},500)),K(u,je((n,d)=>{n&&n!==0&&!f.value&&we(n),n==""&&!f.value&&(l.value="")},500));const pe=m(1e-4),io=async n=>{let d=n;if(j.value==="Aptos"&&!d.current_sqrt_price&&l.value&&u.value){const r=await z.value.getPools([d.address]);r&&r[0]&&(d={...n,...r[0],fee:Number(r[0].fee_rate)/1e6})}if(d.current_sqrt_price&&l.value&&u.value){const g=(i.value.address===d.coinA.address&&p.value.address===d.coinB.address?0:1)==0,w=new c(l.value),_=new c(u.value),q=w.sub(w.mul(new c(d.fee))),Q=_.div(q);return z.value.getPriceImpactPct(d,Q.toString(),g)}return"--"},lo=m(0),uo=m(0),Mo=m(),Te=m({}),Eo=async n=>{if(N.value&&!(f.value&&Number(l.value)==0)&&!(!f.value&&Number(u.value)==0))if(i.value&&p.value&&(l.value||u.value)){$.value=!0,G.value=!0,ie.value=!1;const d=i.value.address===N.value.coinA.address&&p.value.address===N.value.coinB.address?0:1;try{let r=await z.value.preSwap({pool:N.value,a2b:d==0,byAmountIn:f.value,amount:f.value?l.value:u.value});ie.value=r==null?void 0:r.isExceed,Mo.value=r==null?void 0:r.estimatedFeeAmount,f.value?(u.value=r.estimatedAmountOut,W.value?Ne.value=(n/Number(r.estimatedAmountOut)).toString():_e.value=(Number(r.estimatedAmountOut)/n).toString()):(l.value=r.estimatedAmountIn,W.value?Ne.value=(Number(r.estimatedAmountIn)/n).toString():_e.value=(n/Number(r.estimatedAmountIn)).toString()),lo.value=new c(u.value).div(l.value).toString(),uo.value=new c(l.value).div(u.value).toString(),pe.value=j.value=="Aptos"?await io(N.value):await io(Te.value||N.value),$.value=!1,G.value=!1}catch{$.value=!1,G.value=!1}}else f.value?u.value="":l.value="",$.value=!1,G.value=!1},qo=No(),le=y(()=>qo),Wo=m({}),Ne=m(""),_e=m(""),ee=y(()=>le.value.assets&&i.value&&le.value.assets[i.value.address]?fe(le.value.assets[i.value.address].balance,i.value.decimals):0),ne=y(()=>le.value.assets&&p.value&&le.value.assets[p.value.address]?fe(le.value.assets[p.value.address].balance,p.value.decimals):0);$o(),K(()=>v.value.tokensObj,async n=>{if(!he(n)){const d=e?e.currentRoute.value.query.to:"",r=e?e.currentRoute.value.query.from:"";r?i.value=await z.value.getTokenBySymbol(n,r):!r&&!i.value&&(i.value=await z.value.getTokenBySymbol(n,A.chainName==="Aptos"?"0x5e156f1207d0ebfa19a9eeff00d62a282278fb8719f4fab3a586a0a2c0fffbea::coin::T":"0x5d4b302506645c37ff133b98c4b50a5ae14841659738d6d733d59d0d217a93bf::coin::COIN")),d?p.value=await z.value.getTokenBySymbol(n,d):!d&&!p.value&&(p.value=await z.value.getTokenBySymbol(n,A.chainName==="Aptos"?"0x1::aptos_coin::AptosCoin":"0x2::sui::SUI")),!r&&d&&(i.value="")}},{immediate:!0});const N=y(()=>{var n,d,r,g,w;if(i.value&&p.value){let _=null,q={};if(Object.values(v.value.poolConfigList).forEach(B=>{var M,V,se,De;(B.coinA.address.toUpperCase()===((M=i.value.address)==null?void 0:M.toUpperCase())&&B.coinB.address.toUpperCase()===((V=p.value.address)==null?void 0:V.toUpperCase())||B.coinB.address.toUpperCase()===((se=i.value.address)==null?void 0:se.toUpperCase())&&B.coinA.address.toUpperCase()===((De=p.value.address)==null?void 0:De.toUpperCase()))&&(q[B.address]={...B})}),j.value=="Aptos"&&v.value.poolsObj&&!he(v.value.poolsObj))for(const B in v.value.poolsObj){const M=v.value.poolsObj[B];(M.token_a.address.toUpperCase()===((n=i.value.address)==null?void 0:n.toUpperCase())&&M.token_b.address.toUpperCase()===((d=p.value.address)==null?void 0:d.toUpperCase())||M.token_b.address.toUpperCase()===((r=i.value.address)==null?void 0:r.toUpperCase())&&M.token_a.address.toUpperCase()===((g=p.value.address)==null?void 0:g.toUpperCase()))&&(q[M.address]={...M})}const Q=Object.values(q).sort((B,M)=>B.fee-M.fee);for(let B=0;B<Q.length;B++)if(!((w=Q[B])!=null&&w.is_pause)){_=Q[B];break}return _=Object.values(q).sort((B,M)=>B.fee-M.fee)[0],_&&!he(_)?_:null}return null}),ro=m(!0),co=m(!1),Xo=async n=>{n&&j.value=="Aptos"&&(we(f.value?l.value:u.value),co.value=!0,n.coinA.symbol.toLowerCase()===i.value.symbol.toLowerCase()&&n.coinB.symbol.toLowerCase()===p.value.symbol.toLowerCase()?ro.value=!0:ro.value=!1,ie.value=!1)};K(()=>N.value,(n,d)=>{n&&(!d||n.address!==d.address||n.current_sqrt_price!==d.current_sqrt_price)&&Xo(n)},{immediate:!0,deep:!0});const Qo=y(()=>v.value.tokensObj&&i.value&&i.value.address&&v.value.tokensObj[i.value.address]&&v.value.tokensObj[i.value.address].logoURI),Ho=y(()=>v.value.tokensObj&&p.value&&p.value.address&&v.value.tokensObj[p.value.address]&&v.value.tokensObj[p.value.address].logoURI),zo=y(()=>v.value.tokensObj&&i.value&&i.value.address&&v.value.tokensObj[i.value.address]&&v.value.tokensObj[i.value.address].coingecko_id||null),Jo=y(()=>v.value.tokensObj&&p.value&&p.value.address&&v.value.tokensObj[p.value.address]&&v.value.tokensObj[p.value.address].coingecko_id||null),Zo=y(()=>{var g,w;const n=new c(l.value),d=new c(j.value=="Aptos"?(g=N==null?void 0:N.value)==null?void 0:g.fee:(w=Te==null?void 0:Te.value)==null?void 0:w.fee),r=n.mul(d).toString();return Number(r)<1/Math.pow(10,i.value.decimals)?`<${new c(1).div(new c(Math.pow(10,i.value.decimals))).toString()}`:Y(r,i.value.decimals)}),{setIsShowSuccess:Ko,setIsShowRejected:mo,setIsShowWaiting:Ue,setTransactionDesc:Yo,setTransactionTxid:vo}=A,Go=async()=>{var d,r,g,w,_,q,Q,B;H.value=!1,$.value=!0,clearInterval(Oe),window.clearInterval(Oe),vo(""),Yo(b("tips.swapping",{from:`${l.value} ${(d=i.value)==null?void 0:d.symbol}`,to:`${u.value} ${(r=p.value)==null?void 0:r.symbol}`})),Ue(!0);let n;j.value=="Aptos"&&(n=i.value.address===N.value.token_a.address&&p.value.address===N.value.token_b.address?0:1);try{let M;j.value=="Aptos"?M=await z.value.getSwapTransactionPayload({pool:N.value,a2b:n==0,byAmountIn:f.value,amount:f.value?l.value:u.value,slippage:Number(ve.value)/100}):M=await Ye.value.swapRouterContract.getSwapRouterPayload(f.value,Re.value.createTxParams);let V;if(j.value==="Aptos")V=await le.value.currentWallet.signAndSubmitTransaction(M);else{const se=await le.value.currentWallet.signAndExecuteTransactionBlock(M);V=z.value.handleTx(se)}if(V&&V.hash){vo(V.hash),Ue(!1),Ko(!0);const se={title:b("tips.swap"),desc:b("tips.swapSuccessText",{from:`${l.value} ${(g=i.value)==null?void 0:g.symbol}`,to:`${u.value} ${(w=p.value)==null?void 0:w.symbol}`}),hash:V.hash,tit:"Swap",icon:"icon-icon-swap1",tokenInfo:{tokena:`${(_=i.value)==null?void 0:_.address}`,numa:`- ${l.value}`,logoa:v.value.tokensObj&&i.value&&i.value.address&&v.value.tokensObj[i.value.address]&&v.value.tokensObj[i.value.address].logoURI,tokenb:`${(q=p.value)==null?void 0:q.address}`,numb:`+ ${u.value}`,logob:v.value.tokensObj&&p.value&&p.value.address&&v.value.tokensObj[p.value.address]&&v.value.tokensObj[p.value.address].logoURI},text:`Pay ${l.value} ${(Q=i.value)==null?void 0:Q.symbol} to receive ${u.value} ${(B=p.value)==null?void 0:B.symbol}`};j.value!=="Aptos"&&(se.res=V.res),z.value.showTransitionPending(se),await z.value.watchTransaction(se)&&setTimeout(()=>{j.value=="Aptos"&&U.updateCurrentPools(N.value.poolAddress,j.value),z.value.getAccount(le.value.address)},1e3)}else Ue(!1),mo(!0);l.value="",u.value="",$.value=!1}catch{l.value="",u.value="",$.value=!1,Ue(!1),mo(!0)}},Vo=n=>{var d;return(n==null?void 0:n.logoURI)||(n==null?void 0:n.logo_url)||((d=v.value.tokensObj[n==null?void 0:n.address])==null?void 0:d.logo_url)||(A.theme==="default"?ae("/image/coins/unknown.png"):ae("/image/coins/sui-unknown.png"))},po=m([]);K(()=>[i.value,p.value,v.value.poolConfigList],([n,d,r])=>{if(r&&r.length>0&&n&&d){const g=[];r.forEach(w=>{var _,q,Q,B;(w.coinA.address.toUpperCase()===((_=n.address)==null?void 0:_.toUpperCase())&&w.coinB.address.toUpperCase()===((q=d.address)==null?void 0:q.toUpperCase())||w.coinB.address.toUpperCase()===((Q=n.address)==null?void 0:Q.toUpperCase())&&w.coinA.address.toUpperCase()===((B=d.address)==null?void 0:B.toUpperCase()))&&(w!=null&&w.is_pause||g.push(w.address))}),po.value=g}},{immediate:!0});const ze=n=>{const d=localStorage.getItem(n.address);v.value.tokensObj&&v.value.tokensObj[n.address]&&v.value.tokensObj[n.address].isSelfBuilt&&!d?Je.value=!0:(k.value==="fromCoin"?(l.value="",p.value&&n.address.toLowerCase()===(p==null?void 0:p.value.address.toLowerCase())&&(p.value=null),i.value=n):(i.value&&(u.value="",n.address.toLowerCase()===(i==null?void 0:i.value.address.toLowerCase())&&(i.value=null)),p.value=n),fo())},Je=m(!1),fo=()=>{Qe.value={},Xe.value={},Je.value=!1},xo=y(()=>A.isShowRouterModal),Ze=m([]),Ke=m(""),en=m(!1),Co=Cn(),Ye=y(()=>Co),Be=m(!1),Re=m({}),Ge=m(""),ho=n=>{if(n&&n.paths&&n.paths.length>0){const d=n.paths[0];if(n.coinTypeA&&n.coinTypeB&&n.coinTypeC){const r=v.value.poolConfigObj[d.poolAddress[0]],g=v.value.poolConfigObj[d.poolAddress[1]],w=fe(n.paths[0].amountIn.toString(),i.value.decimals)*r.fee;let _,q=g.token_a.address==p.value.address?g.token_b.decimals:g.token_a.decimals;f.value?_=fe(d.rawAmountLimit[0].toString(),q)*g.fee:_=fe(d.rawAmountLimit[1].toString(),q)*g.fee;let Q;r.token_a.address==i.value.address?Q=!1:Q=!0;let B;Q?B=z.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],r.token_a.decimals,r.token_b.decimals).toString():B=1/z.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],r.token_a.decimals,r.token_b.decimals).toString();const M=w+_*B;r.fee*100+"",Ge.value=M>0&&M<1e-6?`<0.000001 ${i.value.symbol}`:L(Y(M,i.value.decimals))+` ${i.value.symbol}`}else{const r=v.value.poolConfigObj[d.poolAddress[0]],g=fe(n.paths[0].amountIn.toString(),i.value.decimals)*r.fee;Ge.value=g>0&&g<1e-6?`<0.000001 ${i.value.symbol} (${r.fee*100}%)`:L(Y(g,i.value.decimals))+` ${i.value.symbol} (${r.fee*100}%)`}}},go=async n=>{if(pe.value=1e-5,n&&n.paths&&n.paths.length>0){const d=n.paths[0];if(n.coinTypeA&&n.coinTypeB&&n.coinTypeC&&n.coinTypeA==i.value.address&&n.coinTypeC==p.value.address){const r=v.value.poolConfigObj[d.poolAddress[0]],g=z.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],r.coinA.decimals,r.coinB.decimals).toNumber(),w=v.value.poolConfigObj[d.poolAddress[1]],_=z.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[1],w.coinA.decimals,w.coinB.decimals).toNumber();let q,Q;r.token_a.address==i.value.address?q=!0:q=!1,w.token_b.address==p.value.address?Q=!0:Q=!1,new c(l.value).div(u.value).toNumber();const B=new c(u.value).div(l.value).toNumber();let M;const V=q?new c(g):new c(1).div(new c(g)),se=Q?new c(_):new c(1).div(new c(_));M=new c(V.mul(se)).sub(B).div(new c(V.mul(se))).mul(new c(100)).toNumber(),M>100&&(pe.value=100),pe.value=Number(de(Math.abs(M),2))}else if(n&&n.currentSqrtPrice&&n.currentSqrtPrice.length==1&&d&&!he(d)){const r=v.value.poolConfigObj[d.poolAddress[0]],g=z.value.TickMath.sqrtPriceX64ToPrice(n.currentSqrtPrice[0],r.coinA.decimals,r.coinB.decimals).toNumber();let w;r.token_a.address==i.value.address?w=!0:w=!1;const _=w?new c(g):new c(1).div(new c(g)),q=new c(u.value).div(l.value).toNumber(),B=new c(_).sub(q).div(new c(_)).mul(new c(100)).toNumber();B>100&&(pe.value=100),pe.value=Number(de(Math.abs(B),2))}}},bo=async n=>{if(i.value&&p.value&&(Number(l.value)>0||Number(u.value)>0)){(!l.value&&u.value||l.value&&!u.value)&&($.value=!0),ye.value=!0,Be.value=!1;let d;N.value&&(d=i.value.address===N.value.coinA.address&&p.value.address===N.value.coinB.address?0:1);try{let r;if(f.value){const q=new c(l.value).mul(Math.pow(10,i.value.decimals)).toString();r=new Le(q)}else{const q=new c(u.value).mul(Math.pow(10,p.value.decimals)).toString();r=new Le(q)}const g=Number(ve.value)/100,w=N.value?{poolAddresses:po.value,coinTypeA:N.value.coin_a_address,coinTypeB:N.value.coin_b_address,decimalsA:N.value.coinA.decimals,decimalsB:N.value.coinB.decimals,a2b:d==0,byAmountIn:f.value,amount:f.value?l.value:u.value}:"",_=await Ye.value.swapRouterContract.getSwapRouter(i,p,r,f.value,g,"",N.value?w:"");_?(Re.value=_,Ze.value=_.paths,ie.value=_.isExceed,Ke.value=_.amountIn,ho(_),f.value?l.value&&(u.value=_.amountOut):u.value&&(l.value=_.amountIn),Ne.value=L(Ce(new c(l.value).div(new c(u.value).toString()),i.value.decimals)),_e.value=L(Ce(new c(u.value).div(l.value).toString(),p.value.decimals)),go(_),$.value=!1,Be.value=!1,ye.value=!1):($.value=!1,Be.value=!0,ye.value=!1)}catch{$.value=!1,ye.value=!1}}else f.value?u.value="":l.value="",$.value=!1,ye.value=!1},Fe=m(!1),yo=async n=>{try{let d;if(f.value){const w=new c(l.value).mul(Math.pow(10,i.value.decimals)).toString();d=new Le(w)}else{const w=new c(u.value).mul(Math.pow(10,p.value.decimals)).toString();d=new Le(w)}const r=Number(ve.value)/100,g=await Ye.value.swapRouterContract.getSwapRouter(i,p,d,f.value,r,"");g&&(Re.value=g,Ze.value=g.paths,ie.value=g.isExceed,Ke.value=g.amountIn,ho(g),Ne.value=L(Ce(new c(l.value).div(new c(u.value).toString()),i.value.decimals)),_e.value=L(Ce(new c(u.value).div(l.value).toString(),p.value.decimals)),go(g),f.value?u.value!==g.amountOut&&(Fe.value=!0,u.value=g.amountOut):l.value!==g.amountIn&&(Fe.value=!0,l.value=g.amountIn))}catch{}};let Oe=m(null);K(()=>H.value,n=>{n?Oe.value=setInterval(()=>{yo(f.value)},3e3):(clearInterval(Oe.value),window.clearInterval(Oe.value))},{immediate:!0});const we=async n=>{j.value=="Aptos"?Eo(n):bo()},on=y(()=>Co),nn=y(()=>on.value.isInitRouter);K(()=>nn.value,n=>{n||we(f.value?l.value:u.value)},{immediate:!0}),K(()=>[i.value,p.value],([n,d])=>{n&&d&&we(f.value?l.value:u.value)},{immediate:!0});function sn(n,d=500){let r=null;return function(...g){clearTimeout(r),r=setTimeout(()=>{n.call(this,...g)},d)}}const an=sn(wo);function wo(){const n=i.value;i.value=p.value,p.value=n,D.value=!0,f.value=!f.value,f.value?(l.value=u.value,u.value=""):(u.value=l.value,l.value=""),setTimeout(()=>{D.value=!1},300)}return{closeSwapConfirmModal:()=>{H.value=!1,Fe.value=!1},updateAccept:()=>{Fe.value=!1},clickExchange:wo,debounceClickExchange:an,closeTokenWarning:fo,isShowTokenWarning:Je,getTokenSource:ze,hasPool:co,getPoolInfoSuccess:so,halfBtnSelect:jo,formCoinId:zo,toCoinId:Jo,fromCoinUrl:Qo,toCoinUrl:Ho,t:b,indicator:t,wallet:le,currentLpInfo:Wo,fixD:de,decimalFormat:Ve,impact:pe,oneFromAmount:Ne,oneToAmount:_e,importIcon:ae,clickRefresh:ao,refresh:F,change:D,isShowAddress:X,isShowSwapSetting:O,fromCoin:i,toCoin:p,slippage:ve,openCoinSelect:Ro,onCoinSelect:Do,existingCoins:Z,lastSelectCoin:x,currentCoinKey:k,showCoinSelect:S,fromCoinAmount:l,toCoinAmount:u,maxBtnSelect:Lo,fixedFromCoin:f,swapBtnText:Uo,toSwap:Go,loading:te,swaping:$,autoRefreshTime:P,countdown:I,marketTimer:be,rateChange:W,isSwapConfirmMpdal:H,fromCoinBlance:ee,toCoinBlance:ne,poolInfo:N,chainName:j,swapRouterLoading:ye,formatFee:Zo,calculating:G,currentRate:lo,currentRateReverse:uo,getCoinIcon:Vo,toAddLiquidiPoolInfo:Te,decimalUi:Ce,warningToCoin:Qe,warningFromCoin:Xe,isShowRouterModal:xo,toSwapLoading:en,insufficientLiquidity:ie,routerPool:Ze,routerTotalAmounts:Ke,store:A,suiPreSwapdata:Re,suiSwapFee:Ge,addCommom:L,debounce:je,notFoundRouter:Be,getSuiAmountAccept:yo,isShowAccept:Fe,getSuiAmount:bo}}}),Pt="data:image/png;base64,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";const me=e=>($e("data-v-f6fa8c42"),e=e(),Ie(),e),Ut={class:"swap-container"},Rt={class:"title"},Dt={class:"left"},Lt={class:"right title-right"},jt=me(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-a-icon-setslippage"})],-1)),Mt={class:"swap-card"},Et={class:"card-container"},qt={class:"card-item"},Wt={class:"card-item"},Xt=me(()=>o("use",{"xlink:href":"#icon-icon-swap1"},null,-1)),Qt=[Xt],Ht={key:1,class:"induction"},zt={key:0,class:"exchange-rate-btn"},Jt={key:0},Zt=["src"],Kt={key:0},Yt=["src"],Gt={key:0},Vt={key:1},xt={key:0},ei=["src"],oi=["src"],ni=me(()=>o("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),si=[ni],ai={class:"item"},ti={class:"induction-text"},ii={key:0,class:"icon","aria-hidden":"true"},li=me(()=>o("use",{"xlink:href":"#icon-icon-warning1"},null,-1)),ui=[li],ri={class:"item"},di={class:"induction-text"},ci={key:0,class:"induction-value"},mi={class:"item"},vi={class:"induction-text"},pi={key:0,class:"induction-value"},fi={key:0,class:"icon","aria-hidden":"true"},Ci=me(()=>o("use",{"xlink:href":"#icon-icon-swap"},null,-1)),hi=[Ci],gi={key:3,class:"token-info-container"},bi={class:"token-info-title"},yi=me(()=>o("span",{class:"coingecko"},"Ref. CoinGecko",-1)),wi=me(()=>o("img",{src:Pt,alt:""},null,-1)),Si=me(()=>o("svg",{class:"icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon-information"})],-1));function Ai(e,t,b,h,A,U){var l,u;const v=tn,D=un,F=os,X=Fo,O=Oo,W=no,H=pn,k=rn,Z=fn,x=Ms,S=vn,f=ra,te=ln,$=Oa,G=Ft;return a(),C("div",Ut,[o("div",Rt,[o("div",Dt,s(e.$t("menu.swap")),1),o("div",Lt,[o("div",{class:"slippage-icon",onClick:t[0]||(t[0]=P=>e.isShowSwapSetting=!0)},[jt,o("span",null,s(e.slippage)+"%",1)]),re(v,{loading:e.refresh,"auto-refresh-time":e.autoRefreshTime,countdown:e.countdown,onClickRefresh:e.clickRefresh},null,8,["loading","auto-refresh-time","countdown","onClickRefresh"])])]),o("div",Mt,[o("div",Et,[o("div",qt,[re(D,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":t[1]||(t[1]=P=>e.fromCoinAmount=P),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logo_url:"",address:e.fromCoin?e.fromCoin.address:"","swap-direction":"From",onOnMax:t[2]||(t[2]=P=>e.maxBtnSelect("fromCoin")),onOnHalf:t[3]||(t[3]=P=>e.halfBtnSelect("fromCoin")),onOnInput:t[4]||(t[4]=P=>{e.fromCoinAmount=P,e.fixedFromCoin=!0}),onOnSelect:t[5]||(t[5]=P=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("div",Wt,[re(D,{modelValue:e.toCoinAmount,"onUpdate:modelValue":t[6]||(t[6]=P=>e.toCoinAmount=P),"input-value":e.toCoinAmount,havemax:!1,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direction":"To","coin-icon":e.toCoin?e.toCoin.logo_url:"",address:e.toCoin?e.toCoin.address:"",onOnInput:t[7]||(t[7]=P=>{e.toCoinAmount=P,e.fixedFromCoin=!1}),onOnSelect:t[8]||(t[8]=P=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"])]),o("img",{class:ue(e.change?"gang animationex":"gang"),src:hn,alt:""},null,2),o("div",{class:ue(["exchange",e.chainName=="Sui"?"sui-exchange":""]),onClick:t[9]||(t[9]=(...P)=>e.debounceClickExchange&&e.debounceClickExchange(...P))},[(a(),C("svg",{class:ue(e.change?"icon animationex":"icon"),"aria-hidden":"true"},Qt,2))],2)]),e.chainName=="Sui"&&!e.notFoundRouter?(a(),E(F,{key:0,"swap-loading":e.swaping,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"router-pool":e.routerPool,impact:e.impact,"insufficient-liquidity":e.insufficientLiquidity,"one-to-amount":e.oneToAmount,"one-from-amount":e.oneFromAmount,"sui-pre-swapdata":e.suiPreSwapdata,"sui-swap-fee":e.suiSwapFee,"swap-router-loading":e.swapRouterLoading},null,8,["swap-loading","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","router-pool","impact","insufficient-liquidity","one-to-amount","one-from-amount","sui-pre-swapdata","sui-swap-fee","swap-router-loading"])):e.poolInfo&&e.fromCoinAmount&&e.toCoinAmount&&e.fromCoinAmount!=="0"&&e.toCoinAmount!=="0"&&e.swapBtnText!==e.$t("button.poolNotFound")?(a(),C("div",Ht,[Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(a(),C("div",zt,[e.rateChange?Number(e.fromCoinAmount)&&Number(e.toCoinAmount)&&e.rateChange?(a(),C("span",Vt,[Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(a(),C("span",xt,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,ei),J(" 1 "+s(e.toCoin.symbol)+" ≈ ",1),o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,oi),o("span",null,s(("addCommom"in e?e.addCommom:R(L))(("decimalUi"in e?e.decimalUi:R(Ce))(e.currentRateReverse,e.fromCoin.decimals),e.fromCoin.decimals)),1),J("  "+s(e.fromCoin.symbol),1)])):(a(),E(X,{key:1,indicator:e.indicator},null,8,["indicator"]))])):T("",!0):(a(),C("span",Jt,[o("img",{src:e.fromCoinUrl||e.getCoinIcon(e.fromCoin)},null,8,Zt),J(" 1 "+s(e.fromCoin.symbol)+" ≈ ",1),Number(e.fromCoinAmount)&&Number(e.toCoinAmount)?(a(),C("span",Kt,[o("img",{src:e.toCoinUrl||e.getCoinIcon(e.toCoin)},null,8,Yt),e.calculating?T("",!0):(a(),C("span",Gt,s(("addCommom"in e?e.addCommom:R(L))(("decimalUi"in e?e.decimalUi:R(Ce))(e.currentRate,e.toCoin.decimals))),1)),e.calculating?(a(),E(X,{key:1,indicator:e.indicator},null,8,["indicator"])):T("",!0),J("  "+s(e.toCoin.symbol),1)])):(a(),E(X,{key:1,indicator:e.indicator},null,8,["indicator"]))])),(a(),C("svg",{class:"icon-change","aria-hidden":"true",onClick:t[10]||(t[10]=P=>e.rateChange=!e.rateChange)},si))])):T("",!0),Number(e.fromCoinAmount)>0&&Number(e.toCoinAmount)>0?(a(),C(xe,{key:1},[o("div",ai,[o("div",ti,s(e.$t("common.priceImpact")),1),e.swaping?(a(),E(O,{key:1,paragraph:!1,active:""})):(a(),C("div",{key:0,class:ue(["induction-value",Number(e.impact)<1?"impact-s":Number(e.impact)<10&&Number(e.impact)>1?"impact-w":"impact-e"])},[J(s(Number(e.impact)<.01?"<0.01":Number(e.impact)>100?"100":e.impact)+"% ",1),e.impact>=10?(a(),C("svg",ii,ui)):T("",!0)],2))]),o("div",ri,[o("div",di,s(e.fixedFromCoin?e.$t("common.minimumReceived"):e.$t("common.maximumSold")),1),e.swaping?(a(),E(O,{key:1,paragraph:!1,active:""})):(a(),C("div",ci,s(e.fixedFromCoin?("addCommom"in e?e.addCommom:R(L))(("fixD"in e?e.fixD:R(de))(Number(e.toCoinAmount)-Number(e.toCoinAmount)*Number(e.slippage)/100,e.toCoin.decimals),e.toCoin.decimals):("addCommom"in e?e.addCommom:R(L))(("fixD"in e?e.fixD:R(de))(Number(e.fromCoinAmount)*Number(e.slippage)/100+Number(e.fromCoinAmount),e.fromCoin.decimals),e.fromCoin.decimals))+" "+s(e.fixedFromCoin?e.toCoin.symbol:e.fromCoin.symbol),1))]),o("div",mi,[o("div",vi,s(e.$t("common.fee")),1),e.swaping?(a(),E(O,{key:1,paragraph:!1,active:""})):(a(),C("div",pi,s(("addCommom"in e?e.addCommom:R(L))(e.formatFee,e.fromCoin.decimals))+" "+s(e.fromCoin.symbol)+" ("+s(e.chainName=="Aptos"?e.poolInfo.fee*100:((l=e.toAddLiquidiPoolInfo)==null?void 0:l.fee)*100)+"%) ",1))])],64)):T("",!0)])):T("",!0)]),re(W,{disabled:e.wallet.connected?e.swaping||!e.fromCoin||!e.toCoin||!Number(e.fromCoinAmount)||!Number(e.toCoinAmount)||Number(e.fromCoinAmount)>Number(e.fromCoinBlance)||e.swapBtnText==e.$t("button.poolNotFound")||e.swapBtnText!==e.$t("button.swap")||((u=e.poolInfo)==null?void 0:u.is_pause)||e.swapRouterLoading:!1,class:"big-btn",loading:e.chainName=="Aptos"?e.swaping:!1,onClick:t[11]||(t[11]=P=>e.wallet.connected?e.isSwapConfirmMpdal=!0:e.wallet.setIsShowWalletModal(!0))},{default:oe(()=>[e.wallet.connected?(a(),C("svg",fi,hi)):T("",!0),o("span",null,s(e.wallet.connected?e.swapBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled","loading"]),re(H),e.showCoinSelect?(a(),E(k,{key:0,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:t[12]||(t[12]=P=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):T("",!0),e.isShowSwapSetting?(a(),E(Z,{key:1,onOnClose:t[13]||(t[13]=P=>e.isShowSwapSetting=!1)})):T("",!0),e.isSwapConfirmMpdal&&e.chainName=="Aptos"?(a(),E(x,{key:2,"fixed-from-coin":e.fixedFromCoin,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,impact:e.impact,fee:e.chainName=="Aptos"?e.poolInfo.fee:e.suiSwapFee,"format-fee":e.chainName=="Aptos"?e.formatFee:e.suiSwapFee,onOnClose:t[14]||(t[14]=P=>e.isSwapConfirmMpdal=!1),onToSwap:e.toSwap},null,8,["fixed-from-coin","from-coin","to-coin","from-coin-amount","to-coin-amount","impact","fee","format-fee","onToSwap"])):T("",!0),e.chainName&&(e.formCoinId||e.toCoinId)?(a(),C("div",gi,[o("div",bi,[yi,wi,re(S,{placement:"top","arrow-point-at-center":""},{title:oe(()=>[J(" The following price is only an external reference from CoinGecko, which may not reflect actual data on Cetus. ")]),default:oe(()=>[Si]),_:1})]),e.fromCoin&&e.formCoinId?(a(),E(f,{key:0,id:e.formCoinId,coin:e.fromCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):T("",!0),e.toCoin&&e.toCoinId?(a(),E(f,{key:1,id:e.toCoinId,coin:e.toCoin,refresh:e.refresh},null,8,["id","coin","refresh"])):T("",!0)])):T("",!0),e.chainName=="Sui"&&e.isShowTokenWarning?(a(),E(te,{key:4,"from-coin":e.warningFromCoin,"to-coin":e.warningToCoin,onClose:e.closeTokenWarning,onClickContinue:e.getTokenSource},null,8,["from-coin","to-coin","onClose","onClickContinue"])):T("",!0),e.isShowRouterModal?(a(),E($,{key:5,"router-pool":e.routerPool,"routertotal-percents":e.routertotalPercents,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"router-total-amounts":e.routerTotalAmounts,onOnClose:t[15]||(t[15]=P=>e.store.setIsShowRouterModal(!1))},null,8,["router-pool","routertotal-percents","from-coin","to-coin","from-coin-amount","to-coin-amount","router-total-amounts"])):T("",!0),e.isSwapConfirmMpdal&&e.chainName=="Sui"?(a(),E(G,{key:6,"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,slippage:e.slippage,impact:e.impact,"fixed-from-coin":e.fixedFromCoin,fee:e.suiSwapFee,"format-fee":e.suiSwapFee,"is-show-accept":e.isShowAccept,"swap-loading":e.swapRouterLoading,"one-from-amount":e.oneFromAmount,"one-to-amount":e.oneToAmount,onOnClose:e.closeSwapConfirmModal,onToSwap:e.toSwap,onAccept:e.updateAccept},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","slippage","impact","fixed-from-coin","fee","format-fee","is-show-accept","swap-loading","one-from-amount","one-to-amount","onOnClose","onToSwap","onAccept"])):T("",!0)])}const Xi=ke(Ot,[["render",Ai],["__scopeId","data-v-f6fa8c42"]]);export{Xi as default};
