import{a as ut,b as Kt,n as gt,d as Pe,u as Ct,e as $e,c as Ae,i as xt,s as bt,T as Nt,p as At,f as Be,g as Lt}from"./pool.de302a62.js";import{a as tt,r as E,m as A,y as Mt,D as Ne,e as rt,o as L,f as X,c as Je,x as Q,h as o,t as Pt,G as $t,H as ht,v as ie,u as Ce,F as et,J as Tt,p as Rt,k as Ot,z as Ve,s as wt,j as ct,l as Ft,E as St,C as Bt,q as Qt,i as je,w as kt,L as Yt,b as Vt,B as er}from"./entry.3c4a9f9e.js";/* empty css              */import{s as ot,m as tr,l as rr,b as ar,a as ir,_ as nr}from"./transform.3086414b.js";import{D as s}from"./decimal.0e8aa3f1.js";import{u as dt,a as or}from"./sha256.2e39fdb5.js";import"./decimal.633e31ee.js";import{g as sr}from"./common-fun.8841f18e.js";import{d as jt,_ as Ut,c as zt,a as Ht,b as lr}from"./new-liquidity-title.255f5afe.js";import{i as yt}from"./import-icon.de3e6c66.js";/* empty css              */import{positionError as Qe,tickList as st,direction as Ee,minPrice as G,maxPrice as R,fromCoin as _,toCoin as h,currentPrice as lt,currentPriceReverse as _t,currentPriceTab as Y,defaultMinPrice as ft,defaultMaxPrice as pt,toggle as Et,isInputTotalAmount as He,priceConfigObj as Ke,fromCoinAmount as T,toCoinAmount as S,fixedFromCoin as _e,resetTickList as It,resetData as ur}from"./data.7c03a9d8.js";import{_ as cr}from"./coin-select.293ba623.js";import{_ as dr}from"./viewDetail.612931bd.js";import{b as mr}from"./new-add-or-create.0850666b.js";import{u as vr}from"./notifi.1332ee1a.js";import{_ as fr,a as pr}from"./icon-Add-Liquidity_2x.0acb06cb.js";import"./img-lock_2x.51ebc1ff.js";import"./precision.9d58cda5.js";import"./lock.aa50702c.js";/* empty css              *//* empty css              */import"./tick.505fdad3.js";import"./token-warning.953056d3.js";import"./refresh-icon.daca51e6.js";/* empty css              */import"./swap-setting.55d1a90f.js";/* empty css              */import"./img-no-Positions_2x.19f688ca.js";import"./status-block.04f5bbc1.js";import"./icon-arrow_2x.948aedb2.js";import"./icon-arrow_2x.4ffddb8e.js";import"./useWhale.b959e918.js";import"./index.b718e9ff.js";function qt(e,c,fe){const B=new s(10).pow(c-fe);return new s(1.0001).pow(e).mul(B)}const gr=tt({props:{poolInfo:{type:Object,default:()=>({chartLoading:!1,token_a:{decimal:6},token_b:{decimal:6},currentLiquity:"50000000"})},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},direction:{type:Boolean,default:!0},tickList:{type:Array,default:()=>[]},currentTick:{type:Number,default:0},chartLoading:{type:Boolean,default:!1},currentPriceTab:{type:String,default:""},before7dContractPriceLowest:{type:String,default:""},before7dContractPriceHighest:{type:String,default:""},zoom:{type:Number,default:1}},setup(e,c){const fe=E(""),B=E(""),O=A(()=>{var a,b,d,v,j,V;return(a=e.poolInfo)!=null&&a.current_sqrt_price&&((b=e.poolInfo)!=null&&b.coinA.decimals)&&((d=e.poolInfo)!=null&&d.coinB.decimals)?n.sqrtPriceX64ToPrice((v=e.poolInfo)==null?void 0:v.current_sqrt_price,(j=e.poolInfo)==null?void 0:j.coinA.decimals,(V=e.poolInfo)==null?void 0:V.coinB.decimals).toString():"0"}),ge=A(()=>{let a=0;return e.direction?a=(Number(e.minPrice)/Number(O.value)-1)*100:a=(Number(e.minPrice)/Number(1/Number(O.value))-1)*100,a=a>0&&a<.1?.1:a,a=a<0&&a>-.1?-.1:a,a}),H=A(()=>{let a=0;return e.direction?a=(Number(e.maxPrice)/Number(O.value)-1)*100:a=(Number(e.maxPrice)/Number(1/Number(O.value))-1)*100,a=a>0&&a<.1?.1:a,a=a<0&&a>-.1?-.1:a,a}),q=dt(),k=A(()=>q),D=A(()=>k.value.chainName?ut(k.value.chainName):{}),{TickMath:n,getNearestTickByTick:i}=D.value,W=(a=[])=>{let b=6;const d=Math.abs(Number(a[0])-Number(a[a.length-1]));return d>=6?b=0:d>=1?b=1:d>=.1?b=2:d>=.01?b=3:d>=.001?b=4:d>=1e-4?b=5:d>=1e-5?b=6:d>=1e-6?b=7:d>=1e-7&&(b=8),b},re=(a,b=1)=>{if(a&&a.token_a&&!e.chartLoading&&e.minPrice&&e.maxPrice){const d=Number(e.poolInfo.current_tick_index);let v=d+100*b,j=d-100*b,V,ae;if(e.maxPrice==="∞")ae=D.value.TickUtil.getMaxIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?ae=n.priceToTickIndex(new s(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):ae=n.priceToTickIndex(new s(1).div(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{ae=443636}if(e.minPrice==="0")V=D.value.TickUtil.getMinIndex(Number(e.poolInfo.tickSpacing));else try{e.direction?V=n.priceToTickIndex(new s(e.minPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):V=n.priceToTickIndex(new s(1).div(e.maxPrice),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)}catch{V=-443636}let le=0;if(e.currentPriceTab!=="full range"){if(d>=V&&d<=ae){const P=d-V,ee=ae-d;le=Math.max(Math.abs(P),Math.abs(ee))}else d<V?le=Math.abs(ae-d):le=Math.abs(d-V);v=d+le+100*b,j=d-le-100*b}else{const P=(Math.abs(d)>5e3,2e4);v=d+P*b,j=d-P*b}j<-443636&&(j=-443636),v>443636&&(v=443636);const f=new s(a.liquidity).div(Math.pow(10,8)).toString(),M=e.tickList,$=[],C=[];let N={};for(let P=0;P<M.length;P++){if(N=M[P],N.index<=d&&N.index>=j){if($.length<1&&P!==0){const ee=M[P-1];$.unshift({...ee,index:j,source:"left"})}$.unshift(N)}else if(N.index>d&&N.index<=v&&(C.push(N),$.length<1&&P!==0)){const ee=M[P-1];$.push({...ee,index:j,source:"left"})}if(N.index>v){const ee=M[P];if(C.push({...ee,index:v,source:"right"}),$.length<1&&P!==0){const xe=M[P-1];$.push({...xe,index:j,source:"left"})}break}}let Z="0";for(let P=$.length-1;P>=0;P--)Z=new s(Z).plus(new s($[P].liquidityNet.toString()).div(Math.pow(10,8))).toString(),$[P].liquityAmount=Z;let U=f;for(let P=0;P<C.length;P++)U=new s(U).plus(new s(C[P].liquidityNet.toString()).div(Math.pow(10,8))).toString(),C[P].liquityAmount=U;let K=[];const F=M&&M.length>0?{index:d,liquityAmount:Number(f)}:{index:d,liquityAmount:0};($.length>0||C.length>0)&&(K=[...$.reverse(),F,...C],e.direction||(K=K.reverse()));const qe=[];M.forEach(P=>{qe.push({...P,liquidityGross:P.liquidityGross.toString(),liquidityNet:P.liquidityNet.toString()})}),l(K,j,v,V,ae,d)}};let p=E(!1);Mt(()=>{document.body.clientWidth<750?p.value=!1:p.value=!0,window.onresize=()=>{document.body.clientWidth<750?p.value=!1:p.value=!0,re(e.poolInfo,e.zoom)}});const l=(a,b,d,v,j,V)=>{let ae,le;e.direction?(ae=e.before7dContractPriceLowest?n.priceToTickIndex(new s(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",le=e.before7dContractPriceHighest?n.priceToTickIndex(new s(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):""):(ae=e.before7dContractPriceLowest?n.priceToTickIndex(new s(1).div(e.before7dContractPriceLowest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"",le=e.before7dContractPriceHighest?n.priceToTickIndex(new s(1).div(e.before7dContractPriceHighest),e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals):"");const f={top:30,right:35,bottom:20,left:55};let M,$;p.value?(M=460-f.left-f.right,$=205-f.top-f.bottom):(M=340-f.left-f.right,$=205-f.top-f.bottom);const C=d-b,N=parseInt(String(C/4));let Z=[b+N/4,b+N,b+2*N,d-N,d-N/4];const U=b,K=d,F=M/(K-U);e.currentPriceTab==="full range"&&(Z=[b,b+2*N,d]);const qe=Z.map(u=>e.direction?qt(u,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString():new s(1).div(qt(u,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals)).toString()),P=W(qe);ot("#chart").selectAll("*").remove();const ee=ot("#chart").attr("width",M+f.left+f.right).attr("height",$+f.top+f.bottom).append("g").attr("transform",`translate(${f.left},${f.right})`),xe=tr(a,function(u){return Number(Math.abs(u.liquityAmount))})||0,Le=rr().range([0,$]).domain([xe,0]);ar().rangeRound([0,M]).padding(.1);const y=ee.append("g").attr("id","barsBox").selectAll("rect").data(a).enter().append("rect");k.value.theme=="default"?y.attr("x",function(u,m){return m===0?0:e.direction?Math.abs(u.index-U)*F:Math.abs(K-u.index)*F}).attr("y",function(u,m){return e.direction?m===a.length-1?0:Le(u.liquityAmount):m===a.length-1?0:Le(a[m+1].liquityAmount)}).attr("width",function(u,m){return m===0&&a.length===1&&u.liquityAmount>0?M:(e.direction,m!==a.length-1?Math.abs(a[m+1].index-u.index)*F:0)}).attr("height",function(u,m){return m===0&&a.length===1&&u.liquityAmount>0?$:e.direction?m===a.length-1?0:$-Le(u.liquityAmount):m===a.length-1?0:$-Le(a[m+1].liquityAmount)}).attr("fill","#279477").attr("class","bars").attr("stroke-width",1).attr("stroke","#279477"):y.attr("x",function(u,m){return m===0?0:e.direction?Math.abs(u.index-U)*F:Math.abs(K-u.index)*F}).attr("y",function(u,m){return e.direction?m===a.length-1?0:Le(Math.abs(u.liquityAmount)):m===a.length-1?0:Le(Math.abs(a[m+1].liquityAmount))}).attr("width",function(u,m){return m===0&&a.length===1&&u.liquityAmount>0?M:(e.direction,m!==a.length-1?Math.abs(a[m+1].index-u.index)*F:0)}).attr("height",function(u,m){if(m===0&&a.length===1&&u.liquityAmount>0)return $;if(e.direction)return m===a.length-1?0:Number(u.liquityAmount)?$-Le(Math.abs(u.liquityAmount)):0;{if(m===a.length-1)return 0;const ze=$-Le(Math.abs(a[m+1].liquityAmount));return Number(a[m+1].liquityAmount)?ze:0}}).attr("fill",function(u,m){return"#417494"}).attr("class","bars").attr("stroke-width",1).attr("stroke",function(u,m){return"#417494"});const I=ee.append("g");I.append("line").attr("x1",0).attr("y1",155).attr("x2",M).attr("y2",155).attr("stroke-width",1).attr("stroke","#50535D");const z=I.append("g");let ne=0;if(e.direction){for(let u=0;u<Z.length;u++){const m=Pe(qe[u],P)||"0";qe.push(m);const ze=Math.abs(Z[u]-U)*F;let be=0;for(let he=0;he<m.length;he++)m[he]==="1"?be+=4.02:m[he]==="."?be+=2.64:m[he]==="7"?be+=5.48:be+=6;z.append("text").text(m).attr("x",ze-be/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}ne=Math.abs(V-U)*F}else{for(let u=Z.length-1;u>=0;u--){const m=Pe(qe[u],P)||0;qe.push(m);const ze=Math.abs(Z[u]-K)*F;let be=0;for(let he=0;he<m.length;he++)m[he]==="1"?be+=4.02:m[he]==="."?be+=2.64:m[he]==="7"?be+=5.48:be+=6;z.append("text").text(m).attr("x",ze-be/2).attr("y",168).attr("fill","rgba(255, 255, 255, 0.5").style("font-size","10")}ne=Math.abs(V-K)*F}(k.value.theme=="default"?ee.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#68FFD8"):ee.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",2).attr("stroke","#76C8FF")).attr("transform","translate("+ne+", 0)");let se,Ue,Ze,Xe;e.direction?(se=v<U?-100:parseInt(String(Math.abs(v-U)*F)),Ue=j<U?-100:parseInt(String(Math.abs(j-U)*F)),Ze=ae<U?-100:Math.abs(ae-U)*F,Xe=le<U?-100:Math.abs(le-U)*F):(Ue=v<U?-100:Math.abs(K-v)*F,se=j<U?-100:Math.abs(K-j)*F,Xe=ae<U?-100:Math.abs(K-ae)*F,Ze=le<U?-100:Math.abs(K-le)*F),e.minPrice==="0"&&(se=0),e.maxPrice==="∞"&&(Ue=M),p.value,fe.value=M-se+87+"px",B.value=Ue+74+"px",ae&&Ze<M&&ee.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Ze+", 0)"),le&&Xe<M&&ee.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-width",1).attr("stroke-dasharray","5, 5").attr("stroke","rgba(255, 255, 255, 0.5)").attr("transform","translate("+Xe+", 0)");const Te=ee.append("g").attr("id","left-handle"),ye=ee.append("g").attr("id","right-handle");k.value.theme=="default"?(Te.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),Te.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 20) rotate(180)"),Te.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",6).attr("fill","#68FFD8"),Te.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",4.5).attr("fill","#68FFD8"),ye.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#68FFD8"),ye.append("path").attr("d","M0 0 L12 0 L12 20 L0 20 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),ye.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",6).attr("fill","#68FFD8"),ye.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",4.5).attr("fill","#68FFD8")):(Te.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),Te.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(-1, 24) rotate(180)"),Te.append("rect").attr("width",1).attr("height",7).attr("x",-9).attr("y",8).attr("fill","#76C8FF"),Te.append("rect").attr("width",1).attr("height",10).attr("x",-7).attr("y",6.5).attr("fill","#76C8FF"),ye.append("line").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",155).attr("stroke-dasharray","5, 5").attr("stroke-width",2).attr("stroke","#76C8FF"),ye.append("path").attr("d","M0 0 L12 0 L12 24 L0 24 Z").attr("fill","#333").attr("stroke","#333").attr("transform","translate(1, 0)"),ye.append("rect").attr("width",1).attr("height",7).attr("x",7).attr("y",8).attr("fill","#76C8FF"),ye.append("rect").attr("width",1).attr("height",10).attr("x",5).attr("y",6.5).attr("fill","#76C8FF")),Te.attr("transform","translate("+se+", 0)"),ye.attr("transform","translate("+Ue+", 0)");const Ye=ir().extent([[0,0],[M,$]]).handleSize(30).on("end",at);ee.append("g").attr("class","brush").call(Ye).call(Ye.move,[se,Ue]);function at(u){if(!u.sourceEvent||!u.selection)return;Te.attr("transform","translate("+u.selection[0]+", 0)"),ye.attr("transform","translate("+u.selection[1]+", 0)"),p.value?fe.value=M-u.selection[0]+60+"px":fe.value=M-u.selection[0]+52+"px",B.value=u.selection[1]+74+"px";let m,ze,be=0,he=0;e.direction?(be=i(parseInt(String(u.selection[0]/F+U)),Number(e.poolInfo.tickSpacing)),m=n.tickIndexToPrice(be,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),he=i(parseInt(String(u.selection[1]/F+U)),Number(e.poolInfo.tickSpacing)),ze=n.tickIndexToPrice(he,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()):(he=i(K-u.selection[0]/F,Number(e.poolInfo.tickSpacing)),m=1/n.tickIndexToPrice(he,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString(),be=i(K-u.selection[1]/F,Number(e.poolInfo.tickSpacing)),ze=1/n.tickIndexToPrice(be,e.poolInfo.token_a.decimals,e.poolInfo.token_b.decimals).toString()),c.emit("onChangeMinPrice",String(Pe(String(m),6))),c.emit("onChangeMaxPrice",String(Pe(String(ze),6)))}k.value.theme=="default"?ot(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#15322C"):ot(".selection").attr("stroke","rgba(255, 255, 255, 0)").attr("fill","#152632")};E(""),Ne(()=>[e.poolInfo,e.minPrice,e.maxPrice,e.currentPriceTab,e.zoom],([a,b,d,v,j])=>{a&&b&&d&&(a!=null&&a.liquidity)&&re(a,j)},{immediate:!0});const J=E(!1);return Ne(()=>e.chartLoading,(a,b)=>{a!==b&&(J.value=a)},{immediate:!0,deep:!0}),{store:k,loading:J,rangeSizeLower:ge,rangeSizeUpper:H,rangeSizeLowerPosition:fe,rangeSizeUpperPosition:B,decimalFormat:Kt,numberformat:gt}}});const br=e=>(Rt("data-v-ed5aa575"),e=e(),Ot(),e),hr={class:"chart-box"},wr={class:"chart"},kr=br(()=>o("svg",{id:"chart"},null,-1));function yr(e,c,fe,B,O,ge){const H=Tt;return L(),X(et,null,[e.tickList&&e.tickList.length>0&&e.loading?(L(),Je(H,{key:0})):Q("",!0),o("div",hr,[Pt(o("div",wr,[e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="∞"?(L(),X("div",{key:0,class:"range-size range-size-lower",style:ht({right:e.rangeSizeLowerPosition})},ie(("numberformat"in e?e.numberformat:Ce(gt))(e.rangeSizeLower.toFixed(1),1))+"% ",5)):Q("",!0),e.currentPriceTab!=="full range"&&e.minPrice!=="0"&&e.maxPrice!=="∞"?(L(),X("div",{key:1,class:"range-size range-size-upper",style:ht({left:e.rangeSizeUpperPosition})},ie(("numberformat"in e?e.numberformat:Ce(gt))(e.rangeSizeUpper.toFixed(1),1))+"% ",5)):Q("",!0),kr],512),[[$t,!e.loading]])])],64)}const Xt=rt(gr,[["render",yr],["__scopeId","data-v-ed5aa575"]]),_r=tt({props:{aprRewardsParameter:{type:Number,default:30},minPrice:{type:String,default:""},maxPrice:{type:String,default:""},fromCoin:{type:Object,default:()=>({})},toCoin:{type:Object,default:()=>({})},poolInfo:{type:Object,default:()=>({})},nameTab:{type:String,default:""}},setup(e){const c=[{label:"24H",value:24},{label:"7D",value:7},{label:"30D",value:30}],fe=dt(),B=A(()=>fe);A(()=>B.value.chainName);const O=Ct(),ge=A(()=>O),H=A(()=>B.value.chainName?ut(B.value.chainName):{}),q=E(),k=async i=>{var V,ae,le;let W;i.token_a.address.toLowerCase()===e.fromCoin.address.toLowerCase()&&i.token_b.address.toLowerCase()===e.toCoin.address.toLowerCase()?W=!0:W=!1;let re,p;W?(re=Number(e.minPrice),p=isNaN(Number(e.maxPrice))?2**50:Number(e.maxPrice)):e.maxPrice!=="∞"?(re=1/Number(e.maxPrice),p=1/Number(e.minPrice)):(re=1/2**50,p=2**50);let l=[];l=B.value&&B.value.addressHistTokens&&B.value.addressHistTokens[i.poolAddress]&&B.value.addressHistTokens[i.poolAddress].data&&B.value.addressHistTokens[i.poolAddress].data.length>0&&Object.fromEntries(B.value.addressHistTokens[i.poolAddress].data.map(f=>[f.key,f.value]));let J,a;e.aprRewardsParameter==7?(J=Number(l==null?void 0:l.before_7_d_contract_price_lowest),a=Number(l==null?void 0:l.before_7_d_contract_price_highest)):e.aprRewardsParameter==24?(J=Number(l==null?void 0:l.before_24_h_contract_price_lowest),a=Number(l==null?void 0:l.before_24_h_contract_price_highest)):(J=Number(l==null?void 0:l.before_30_d_contract_price_lowest),a=Number(l==null?void 0:l.before_30_d_contract_price_highest));const b=ge.value.tokensObj,d=await H.value.getEstPositionAPRWithMulti(re,p,J,a),v=B.value.newTopPoolsObj[i.poolAddress];let j;if(v){e.aprRewardsParameter==7?j=Number(v.apr_7day.replace("%","")):e.aprRewardsParameter==24?j=Number(v.apr_24h.replace("%","")):j=Number(v.apr_30day.replace("%",""));const f=Number(v.rewarder_apr[0].replace("%","")),M=Number(v.rewarder_apr[1].replace("%","")),$=Number(v.rewarder_apr[2].replace("%","")),C=new s(d.toString()).mul(j).toNumber(),N=new s(d.toString()).mul(f).toNumber(),Z=new s(d.toString()).mul(M).toNumber(),U=new s(d.toString()).mul($).toNumber(),K=C+(i.rewarder_display1?N:0)+(i.rewarder_display2?Z:0)+(i.rewarder_display3?U:0),F=i.rewarder_infos[0]?(V=b[i.rewarder_infos[0].coinAddress])==null?void 0:V.symbol:"--",qe=i.rewarder_infos[1]?(ae=b[i.rewarder_infos[1].coinAddress])==null?void 0:ae.symbol:"--",P=i.rewarder_infos[2]?(le=b[i.rewarder_infos[2].coinAddress])==null?void 0:le.symbol:"--",ee={aprFee:C==1/0||isNaN(C)?0:C,rewardAprList:[{rewarder_name:F,rewarder_apr:N==1/0||isNaN(N)?0:N,styleName:"one",rewarder_display:i.rewarder_display1},{rewarder_name:qe,rewarder_apr:Z==1/0||isNaN(Z)?0:Z,styleName:"two",rewarder_display:i.rewarder_display2},{rewarder_name:P,rewarder_apr:U==1/0||isNaN(U)?0:U,styleName:"three",rewarder_display:i.rewarder_display2}],aprPercentageTotal:K==1/0||isNaN(K)||K===0?0:K,aprPercentage:xt(C/K,2),is_display_rewarder:i.is_display_rewarder};q.value=ee}};Ne(()=>[e.poolInfo,e.minPrice,e.maxPrice,B.value.addressHistTokens],([i,W,re,p])=>{i&&!Ae(i)&&p&&!Ae(p)&&k(i)},{immediate:!0});const D=A(()=>sr(e.poolInfo,ge,B));Ne(()=>[e.aprRewardsParameter],()=>{k(e.poolInfo)});const n=A(()=>{const i=q.value;return i&&i.is_display_rewarder?(i==null?void 0:i.aprPercentageTotal)>1e4?">10000":i.aprPercentageTotal<.01&&i.aprPercentageTotal>0?"<0.01":$e(i.aprPercentageTotal,2):i&&!i.is_display_rewarder?(i==null?void 0:i.aprFee)>1e4?">10000":i.aprFee<.01&&i.aprFee>0?"<0.01":$e(i.aprFee,2):"--"});return{poolMoreInfo:D,timeList:c,aprPercentageObj:q,totalApr:n}}}),Cr=""+globalThis.__publicAssetsURL("sui-image/farming.png");const mt=e=>(Rt("data-v-82e7880c"),e=e(),Ot(),e),Pr={class:"est-apr"},Tr=mt(()=>o("div",{class:"title"},"Estimated APR",-1)),Sr={class:"apr-total"},Nr={class:"apr-box"},Ar={key:0,class:"apr-hover-content"},Lr={class:"progress-fees progress-all"},Ir=mt(()=>o("div",null,[o("div",{class:"light-hint"}),ct(" Fees ")],-1)),qr={key:0,class:"isFarming"},Mr=mt(()=>o("img",{src:Cr,alt:""},null,-1)),$r=mt(()=>o("div",{class:"hover-text"},"Farming rewards available",-1)),Rr=[Mr,$r],Or={class:"time-list"},Fr=["onClick"];function Br(e,c,fe,B,O,ge){var H,q,k,D,n,i,W,re;return L(),X("div",Pr,[Tr,o("div",Sr,[o("div",Nr,[o("span",{class:Ve(e.poolMoreInfo&&e.poolMoreInfo.rewardes&&e.poolMoreInfo.rewardes.length>0?"haveBorder":"")},ie(e.totalApr)+"%",3),e.poolMoreInfo&&e.poolMoreInfo.rewardes&&e.poolMoreInfo.rewardes.length>0?(L(),X("div",Ar,[o("div",Lr,[Ir,o("span",null,"  "+ie(Number((H=e.aprPercentageObj)==null?void 0:H.aprFee)==0?0:(q=e.aprPercentageObj)!=null&&q.aprFee?((k=e.aprPercentageObj)==null?void 0:k.aprFee)>1e4?">10,000":((D=e.aprPercentageObj)==null?void 0:D.aprFee)<.01?"<0.01":("addCommom"in e?e.addCommom:Ce($e))((n=e.aprPercentageObj)==null?void 0:n.aprFee,2):(i=e.aprPercentageObj)!=null&&i.rewardAprList?"<0.01":"--")+"%",1)]),(L(!0),X(et,null,wt((W=e.aprPercentageObj)==null?void 0:W.rewardAprList,p=>Pt((L(),X("div",{key:p,class:"progress-rewards progress-all"},[o("div",null,[o("div",{class:Ve(["light-hint",p==null?void 0:p.styleName])},null,2),ct(" "+ie(p==null?void 0:p.rewarder_name)+" Rewards ",1)]),o("span",null,"  "+ie(p!=null&&p.rewarder_apr?(p==null?void 0:p.rewarder_apr)>1e4?">10,000":(p==null?void 0:p.rewarder_apr)<.01?"<0.01":("addCommom"in e?e.addCommom:Ce($e))(p==null?void 0:p.rewarder_apr,2):"0")+"%",1)])),[[$t,(p==null?void 0:p.rewarder_name)!="--"&&p.rewarder_display&&e.aprPercentageObj.is_display_rewarder]])),128))])):Q("",!0)]),(re=e.poolInfo)!=null&&re.is_display_rewarder&&e.poolMoreInfo&&e.poolMoreInfo.rewardes&&e.poolMoreInfo.rewardes.length>0?(L(),X("div",qr,Rr)):Q("",!0)]),o("div",Or,[(L(!0),X(et,null,wt(e.timeList,p=>(L(),X("div",{key:p.value,class:Ve(["time-item",p.value==e.aprRewardsParameter?"time-item-active":""]),onClick:l=>e.$emit("changeAprRewardsParameter",p.value)},ie(p.label),11,Fr))),128))])])}const Wt=rt(_r,[["render",Br],["__scopeId","data-v-82e7880c"]]),jr=tt({components:{NewLiquidityD3Chart:Xt,NewLiquidityApr:Wt,NewLiquidityPrice:jt},setup(){const{t:e,locale:c}=Ft(),fe=E("liquidity"),B=dt(),O=A(()=>B),ge=A(()=>O.value.chainName),H=Ct(),q=A(()=>H),k=A(()=>O.value.chainName?ut(O.value.chainName):{});Mt(()=>{Qe.value=!1});const D=St(),n=A(()=>{let r=null;for(let y=0;y<q.value.poolConfigList.length;y++){const I=q.value.poolConfigList[y];I.address==D.query.poolAddress&&(r=I)}return r}),i=A(()=>{let r=null;for(const y in q.value.poolsObj){const I=q.value.poolsObj[y];I.address==D.query.poolAddress&&(r=I)}return r}),W=E(),re=E(!0),p=async(r,y)=>{if(y){l.value=[],re.value=!0;const I=r.token_a.decimals,z=r.token_b.decimals;lt.value=Nt.sqrtPriceX64ToPrice(r==null?void 0:r.current_sqrt_price,I,z).toString(),_t.value=new s(1).div(Nt.sqrtPriceX64ToPrice(r==null?void 0:r.current_sqrt_price,I,z)).toString(),_.value=r.needReverse?r.token_b:r.token_a,h.value=r.needReverse?r.token_a:r.token_b,W.value=r.needReverse,r.token_a.address.toLowerCase()===_.value.address.toLowerCase()&&r.token_b.address.toLowerCase()===h.value.address.toLowerCase()?Ee.value=!0:Ee.value=!1;let ne={poolAddress:r.address,coinTypeA:r.coin_a_address,coinTypeB:r.coin_b_address};const pe=await k.value.getTicks(ne);st.value=pe?k.value.getTickDataFromUrlData(pe):[],a(r)}re.value=!1},l=E([]),J=E(),a=r=>{const y=r.token_a.decimals,I=r.token_b.decimals;let z=q.value.poolPriceConfigObj&&q.value.poolPriceConfigObj[r.address]&&q.value.poolPriceConfigObj[r.address].recommend_ranges||{};const ne=q.value.poolPriceConfigObj&&q.value.poolPriceConfigObj[r.address]&&q.value.poolPriceConfigObj[r.address].type||"";let pe,se;const Ue=r.current_tick_index;J.value=r.current_tick_index,pe=Ue-Number(r.type=="unstable"?Number(r.tickSpacing)*2:Number(r.tickSpacing)*3),se=Ue+Number(r.type=="unstable"?Number(r.tickSpacing)*2:Number(r.tickSpacing)*3);const Ze=k.value.TickMath.tickIndexToPrice(pe,y,I).toString(),Xe=k.value.TickMath.tickIndexToPrice(se,y,I).toString();z["full range"]={lower:k.value.TickUtil.getMinIndex(Number(i.value.tickSpacing)),upper:k.value.TickUtil.getMaxIndex(Number(i.value.tickSpacing))},z.custom={lower:pe,upper:se,minPrice:Ze,maxPrice:Xe};const Te=[];for(let ye in z)z[ye]&&Te.push({...z[ye],key:ye});ne?r.isSelfBuilt?Y.value="custom":ne=="stable"?Y.value="suggested":Y.value="passive":Y.value="custom",l.value=Te,Ke.value=z,v({key:Y.value,...z[Y.value]})},b=E(""),d=E(""),v=r=>{Y.value=r.key.toLowerCase();const y=i.value.token_a.decimals,I=i.value.token_b.decimals,{lower:z,upper:ne}=r;He.value=!1;const pe=k.value.TickMath.tickIndexToPrice(z,y,I).toString(),se=k.value.TickMath.tickIndexToPrice(ne,y,I).toString();if(r.key=="full range"){b.value=z,d.value=ne,j();return}Ee.value?(ft.value=String(pe),G.value=String(pe),pt.value=String(se),R.value=String(se),b.value=z,d.value=ne):(ft.value=String(1/Number(se)),G.value=String(1/Number(se)),pt.value=String(1/Number(pe)),R.value=String(1/Number(pe)),b.value=k.value.TickMath.priceToTickIndex(new s(1/Number(se)),y,I),d.value=k.value.TickMath.priceToTickIndex(new s(1/Number(pe)),y,I))},j=r=>{G.value="0",R.value="∞"};Ne(()=>i.value,(r,y)=>{(!y&&r&&!Ae(r)||y&&r&&y.address!==r.address)&&p(r,!y||r.address!==y.address)},{immediate:!0}),Bt(()=>{st.value=[]}),Ne(()=>[n.value,i.value,q.value.recommendRangesObj],(r,y)=>{var I,z;(!y||r[0]&&r[1]&&r[2]&&!Ae(r[0])&&!Ae(r[1]&&!Ae(r[2]))||((I=r[0])==null?void 0:I.address)!==((z=y[0])==null?void 0:z.address))&&r[0]&&r[2]&&!Ae(r[0])&&!Ae(r[2])&&H.setSinglePool(r[0],r[2],ge.value)},{immediate:!0,deep:!0});const V=r=>{if(ge.value=="Sui")switch(r){case"passive":return"/sui-image/icon_ conservative@2x.png";case"active":return"/sui-image/icon_active@2x.png";case"full range":return"/sui-image/icon_fullrange@2x.png";case"custom":return"/sui-image/icon_costom@2x.png";case"suggested":return"/sui-image/icon_stabel@2x.png"}else switch(r){case"passive":return"/image/icon_ conservative@2x.png";case"active":return"/image/icon_active@2x.png";case"full range":return"/image/icon_fullrange@2x.png";case"custom":return"/image/icon_costom@2x.png";case"suggested":return"/image/icon_stabel@2x.png"}},ae=r=>{switch(r){case"suggested":return e("newAdd.suggested");case"active":return e("newAdd.active");case"passive":return e("newAdd.conservative");case"full range":return e("newAdd.fullRange");case"custom":return e("newAdd.custom")}},le=r=>{var I,z;if((q.value.poolPriceConfigObj&&q.value.poolPriceConfigObj[(I=i.value)==null?void 0:I.address]&&q.value.poolPriceConfigObj[(z=i.value)==null?void 0:z.address].type||"")=="unstable")switch(r){case"active":return{top:"35%"};case"passive":return{top:"10%"};case"full range":return{top:"60%"};case"custom":return{top:"85%"}}else switch(r){case"suggested":return{top:"23%"};case"full range":return{top:"48%"};case"custom":return{top:"73%"}}},f=E(1),M=()=>{const r=f.value/2;f.value=r},$=()=>{const r=f.value*2;f.value=r},C=A(()=>{var r,y,I;return!i.value||Ae(O.value.addressHistTokens)||!O.value.addressHistTokens[(r=i.value)==null?void 0:r.poolAddress]?null:Object.fromEntries((I=O.value.addressHistTokens[(y=i.value)==null?void 0:y.poolAddress])==null?void 0:I.data.map(z=>[z.key,z.value]))}),N=E(30),Z=E("30D"),U=A(()=>Ee.value?C.value&&Pe(N.value==7?C.value.before_7_d_contract_price_lowest:N.value==24?C.value.before_24_h_contract_price_lowest:C.value.before_30_d_contract_price_lowest,6)||0:C.value&&Pe(new s(1).div(N.value==7?C.value.before_7_d_contract_price_highest:N.value==24?C.value.before_24_h_contract_price_highest:C.value.before_30_d_contract_price_highest).toString(),6)||0),K=A(()=>Ee.value?C.value&&Pe(N.value==7?C.value.before_7_d_contract_price_highest:N.value==24?C.value.before_24_h_contract_price_highest:C.value.before_30_d_contract_price_highest,6)||0:(C.value&&Pe(1/Number(N.value==7?C.value.before_7_d_contract_price_lowest:N.value==24?C.value.before_24_h_contract_price_lowest:C.value.before_30_d_contract_price_lowest),6))==1/0?0:C.value&&Pe(1/Number(N.value==7?C.value.before_7_d_contract_price_lowest:N.value==24?C.value.before_24_h_contract_price_lowest:C.value.before_30_d_contract_price_lowest),6)||0),F=A(()=>{const r=Number(G.value),y=Number(R.value);if(G.value==R.value)return"--";if(G.value&&R.value&&G.value!=="0"&&R.value!=="∞"){const I=bt(1/(1-Number((r/y)**.25)),2);return Number(I)>0?I+"x":"--"}else return 1}),qe=A(()=>{var r,y,I,z,ne,pe;return((r=_.value)==null?void 0:r.isSelfBuilt)||((y=h.value)==null?void 0:y.isSelfBuilt)||((z=q.value.tokensObj[(I=_.value)==null?void 0:I.address])==null?void 0:z.isSelfBuilt)||((pe=q.value.tokensObj[(ne=h.value)==null?void 0:ne.address])==null?void 0:pe.isSelfBuilt)}),P=r=>{r!==G.value&&Y.value=="full range"?v({key:"custom",...l.value.custom}):Y.value!=="full range"&&Y.value!=="custom"?(Y.value="custom",G.value=r):G.value=r},ee=r=>{r!==R.value&&Y.value=="full range"?v({key:"custom",...l.value.custom}):Y.value!=="full range"&&Y.value!=="custom"?(Y.value="custom",r=="0"?R.value="∞":R.value=r):r=="0"?R.value="∞":R.value=r};return Ne(()=>[G.value,R.value],([r,y])=>{},{deep:!0,immediate:!0}),{positionError:Qe,getCoinIcon:r=>{var y;return(r==null?void 0:r.logoURI)||(r==null?void 0:r.logo_url)||((y=q.value.tokensObj[r==null?void 0:r.address])==null?void 0:y.logo_url)||(O.value.theme==="default"?yt("/image/coins/unknown.png"):yt("/image/coins/sui-unknown.png"))},chainName:ge,store:O,currentTab:fe,currentPrice:lt,currentPriceReverse:_t,fromCoin:_,toCoin:h,direction:Ee,needReverse:W,addCommom:$e,decimalUi:Pe,priceTablList:l,currentPriceTab:Y,sliderStyle:le,poolInfo:i,tickList:st,getPriceTabImage:V,getPriceTabText:ae,defaultMinPrice:ft,defaultMaxPrice:pt,minPrice:G,maxPrice:R,currentTick:J,chartLoading:re,zoomOut:M,zoomIn:$,zoom:f,priceTab:v,before7dContractPriceLowest:U,before7dContractPriceHighest:K,aprRewardsTime:Z,lever:F,aprRewardsParameter:N,isSelfBuilt:qe,priceRangeChangeMin:P,priceRangeChangeMax:ee,toggle:Et,getPirceTabTips:r=>{switch(r){case"active":return e("newAdd.activeTips");case"passive":return e("newAdd.passiveTips");case"full range":return e("newAdd.fullRangTips");case"suggested":return e("newAdd.suggestedTips");case"custom":return e("newAdd.customTips")}}}}});const Ur={class:"new-liquidity-left"},zr=o("span",{class:"selectRange"},"Select Range",-1),Hr={class:"price-info"},Er={class:"left"},Xr={class:"base-coin"},Wr={class:"base-coin-title"},Dr=o("span",null,"Base coin",-1),Zr=o("svg",{class:"icon icon-up","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_up1"})],-1),Gr=o("svg",{class:"icon icon-down","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-exchange_down1"})],-1),Jr=[Zr,Gr],Kr={class:"base-coin-bottom"},xr={alt:""},Qr={class:"current-price"},Yr=o("div",{class:"current-price-title"},"Current Price",-1),Vr={key:0,class:"from-pre-to"},ea={class:"right"},ta={class:"price-range"},ra={class:"left"},aa={class:"price-slider"},ia={class:"slider"},na=o("div",{class:"slider-ratio-content"},null,-1),oa=[na],sa={class:"price-tab-list"},la=["onClick"],ua=["src"],ca={class:"right"},da={class:"price-zoom"},ma={class:"current-price"},va=o("div",{class:"current-price-title"},"Current Price",-1),fa={key:0,class:"from-pre-to"},pa={class:"price-zoom-right"},ga={class:"leverage"},ba={class:"left"},ha={key:0,class:"leverage-title"},wa={key:1,class:"laverage-value"},ka={class:"right"},ya={key:0,class:"day-7-price-range"},_a=o("i",null,null,-1),Ca={class:"gray"},Pa={class:"apr-leverage"},Ta={class:"leverage"},Sa=o("div",{class:"leverage-title"},"Leverage",-1),Na={class:"laverage-value"},Aa={key:0,class:"position-tips"},La=["src"],Ia={class:"error"};function qa(e,c,fe,B,O,ge){var W,re,p,l,J,a,b,d;const H=Yt,q=Xt,k=Tt,D=Wt,n=jt,i=Qt("image");return L(),X("div",Ur,[zr,o("div",Hr,[o("div",Er,[o("div",Xr,[o("div",Wr,[Dr,o("div",{class:"change-price",onClick:c[0]||(c[0]=(...v)=>e.toggle&&e.toggle(...v))},Jr)]),o("div",Kr,[Pt(o("img",xr,null,512),[[i,e.getCoinIcon(e.fromCoin)]]),o("span",null,ie((W=e.fromCoin)==null?void 0:W.symbol),1)])]),o("div",Qr,[Yr,o("div",null,[o("span",null,ie(e.poolInfo?e.direction?("addCommom"in e?e.addCommom:Ce($e))(("decimalUi"in e?e.decimalUi:Ce(Pe))(e.currentPrice,6)):("addCommom"in e?e.addCommom:Ce($e))(("decimalUi"in e?e.decimalUi:Ce(Pe))(e.currentPriceReverse,6)):"--"),1),e.fromCoin&&e.toCoin?(L(),X("span",Vr,ie((re=e.toCoin)==null?void 0:re.symbol)+" per "+ie((p=e.fromCoin)==null?void 0:p.symbol),1)):Q("",!0)])])]),o("div",ea,[e.currentTab=="liquidity"?(L(),X("div",{key:0,class:"zoom-out",onClick:c[1]||(c[1]=(...v)=>e.zoomOut&&e.zoomOut(...v))}," + ")):Q("",!0),e.currentTab=="liquidity"?(L(),X("div",{key:1,class:"zoom-in",onClick:c[2]||(c[2]=(...v)=>e.zoomIn&&e.zoomIn(...v))}," - ")):Q("",!0)])]),o("div",ta,[o("div",ra,[o("div",aa,[o("div",ia,[o("div",{class:"slider-ratio",style:ht(e.sliderStyle(e.currentPriceTab))},oa,4)])]),o("div",sa,[(L(!0),X(et,null,wt(e.priceTablList,v=>(L(),X("div",{key:v.key,class:Ve(["price-tab-item",e.currentPriceTab==v.key?"price-tab-item-active":""]),onClick:j=>e.priceTab(v)},[je(H,{placement:"bottom","arrow-point-at-center":""},{title:kt(()=>[ct(ie(e.getPirceTabTips(v.key)),1)]),default:kt(()=>[o("img",{src:e.getPriceTabImage(v.key),alt:""},null,8,ua),o("span",null,ie(e.getPriceTabText(v.key)),1)]),_:2},1024)],10,la))),128))])]),o("div",ca,[o("div",da,[o("div",ma,[va,o("div",null,[o("span",null,ie(e.poolInfo?e.direction&&!e.needReverse?("addCommom"in e?e.addCommom:Ce($e))(("decimalUi"in e?e.decimalUi:Ce(Pe))(e.currentPrice,6)):("addCommom"in e?e.addCommom:Ce($e))(("decimalUi"in e?e.decimalUi:Ce(Pe))(e.currentPriceReverse,6)):"--"),1),e.fromCoin&&e.toCoin?(L(),X("span",fa,ie(e.direction&&!e.needReverse?`${(l=e.fromCoin)==null?void 0:l.symbol} per ${(J=e.toCoin)==null?void 0:J.symbol}`:`${(a=e.toCoin)==null?void 0:a.symbol} per ${(b=e.fromCoin)==null?void 0:b.symbol}`),1)):Q("",!0)])]),o("div",pa,[e.currentTab=="liquidity"?(L(),X("div",{key:0,class:"zoom-out",onClick:c[3]||(c[3]=(...v)=>e.zoomOut&&e.zoomOut(...v))}," + ")):Q("",!0),e.currentTab=="liquidity"?(L(),X("div",{key:1,class:"zoom-in",onClick:c[4]||(c[4]=(...v)=>e.zoomIn&&e.zoomIn(...v))}," - ")):Q("",!0)])]),e.fromCoin&&e.toCoin&&e.poolInfo&&e.currentTab=="liquidity"?(L(),Je(q,{key:0,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,direction:e.direction,"current-price-tab":e.currentPriceTab,"tick-list":e.tickList,"current-tick":e.currentTick,"chart-loading":e.chartLoading,zoom:e.zoom,"before7d-contract-price-lowest":e.before7dContractPriceLowest,"before7d-contract-price-highest":e.before7dContractPriceHighest,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["pool-info","min-price","max-price","direction","current-price-tab","tick-list","current-tick","chart-loading","zoom","before7d-contract-price-lowest","before7d-contract-price-highest","onOnChangeMinPrice","onOnChangeMaxPrice"])):Q("",!0),((d=e.tickList)==null?void 0:d.length)<=0&&e.chartLoading?(L(),Je(k,{key:1})):Q("",!0)])]),o("div",ga,[o("div",ba,[e.currentPriceTab!=="full range"?(L(),X("div",ha,"Leverage")):Q("",!0),e.currentPriceTab!=="full range"?(L(),X("div",wa,ie(e.lever),1)):Q("",!0)]),o("div",ka,[e.poolInfo&&(e.before7dContractPriceLowest||e.before7dContractPriceHighest)?(L(),X("div",ya,[_a,o("span",Ca,ie(e.aprRewardsParameter==7?"7D":e.aprRewardsParameter==24?"24H":"30D")+" Price Range",1),o("span",null,ie(("addCommom"in e?e.addCommom:Ce($e))(("decimalUi"in e?e.decimalUi:Ce(Pe))(e.before7dContractPriceLowest,6)))+" - "+ie(("addCommom"in e?e.addCommom:Ce($e))(("decimalUi"in e?e.decimalUi:Ce(Pe))(e.before7dContractPriceHighest,6))),1)])):Q("",!0)])]),o("div",{class:Ve(["apr-and-price",e.positionError&&e.poolInfo?"padding-apr-and-price":""])},[o("div",Pa,[o("div",Ta,[Sa,o("div",Na,ie(e.lever),1)]),je(D,{"apr-rewards-parameter":e.aprRewardsParameter,"name-tab":"deposit","from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo,"min-price":e.minPrice,"max-price":e.maxPrice,onChangeAprRewardsParameter:c[5]||(c[5]=v=>{e.aprRewardsParameter=v})},null,8,["apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price"])]),je(n,{min:e.minPrice,max:e.maxPrice,"from-coin":e.fromCoin,"to-coin":e.toCoin,direct:e.direction,"default-min-price":e.defaultMinPrice,"default-max-price":e.defaultMaxPrice,"pool-info":e.poolInfo,loading:e.chartLoading,"current-price-tab":e.currentPriceTab,onOnChangeMinPrice:e.priceRangeChangeMin,onOnChangeMaxPrice:e.priceRangeChangeMax},null,8,["min","max","from-coin","to-coin","direct","default-min-price","default-max-price","pool-info","loading","current-price-tab","onOnChangeMinPrice","onOnChangeMaxPrice"]),e.positionError&&e.poolInfo?(L(),X("div",Aa,[o("img",{src:("importIcon"in e?e.importIcon:Ce(yt))("/image/icon-tips-error@2x.png"),alt:""},null,8,La),o("p",Ia,ie(e.$t("tips.positionError")),1)])):Q("",!0)],2)])}const Dt=rt(jr,[["render",qa]]),Ma=tt({components:{NewLiquidityTitle:Ut,NewLiquidityAssetsCard:zt,NewLiquidityDepositRatio:Ht},setup(){const{t:e,locale:c}=Ft(),fe=dt(),B=A(()=>fe),O=A(()=>B.value.chainName),ge=Ct(),H=A(()=>ge),q=or(),k=A(()=>q),D=St(),n=A(()=>{let t=null;for(const g in H.value.poolsObj){const w=H.value.poolsObj[g];w.address==D.query.poolAddress&&(t=w)}return t}),i=E(!1),W=E(!1),re=A(()=>B.value.theme),p=async(t,g)=>{_.value=t.needReverse?t.token_b:t.token_a,h.value=t.needReverse?t.token_a:t.token_b,T.value="",S.value=""};Ne(()=>n.value,(t,g)=>{(!g&&t&&!Ae(t)||g&&t&&g.address!==t.address)&&p(t,!g||t.address!==g.address)},{immediate:!0});const l=A(()=>k.value.assets&&_.value&&k.value.assets[_.value.address]?At(k.value.assets[_.value.address].balance,_.value.decimals):"0"),J=A(()=>k.value.assets&&h.value&&k.value.assets[h.value.address]?At(k.value.assets[h.value.address].balance,h.value.decimals):"0"),a=t=>{t==="fromCoin"?(_e.value=!0,O.value==="Aptos"?T.value=Number(l.value)>0?_.value.symbol=="APT"?new s(Number(l.value)).sub(new s(.1)).lt(new s(0))?"0":new s(Number(l.value)).sub(new s(.1)).toString():String(l.value):"":T.value=Number(l.value)>0?_.value.symbol=="SUI"?new s(Number(l.value)).sub(new s(.05)).lt(new s(0))?"0":new s(Number(l.value)).sub(new s(.05)).toString():String(l.value):""):(_e.value=!1,O.value==="Aptos"?S.value=Number(J.value)>0?h.value.symbol=="APT"?new s(Number(J.value)).sub(new s(.1)).lt(new s(0))?"0":new s(Number(J.value)).sub(new s(.1)).toString():String(J.value):"":S.value=Number(J.value)>0?h.value.symbol=="SUI"?new s(Number(J.value)).sub(new s(.05)).lt(new s(0))?"0":new s(Number(J.value)).sub(new s(.05)).toString():String(J.value):"")},b=t=>{t==="fromCoin"?(_e.value=!0,T.value=Number(l.value)>0?bt(new s(Number(l.value)).div(2).toString(),_.value.decimals).toString():""):(_e.value=!1,S.value=Number(J.value)>0?bt(new s(Number(J.value)).div(2).toString(),h.value.decimals).toString():"")},d=E(),v=E(),j=E(),V=E(!1),ae=t=>{var g,w,ue,x;d.value=t,t==="fromCoin"?(v.value=((g=h.value)==null?void 0:g.address)||"",j.value=D.query.actions=="new-position"?(w=_.value)==null?void 0:w.address:n.value.needReverse?n.value.token_b.address:n.value.token_a.address):(v.value=((ue=_.value)==null?void 0:ue.address)||"",j.value=D.query.actions=="new-position"?(x=h.value)==null?void 0:x.address:n.value.needReverse?n.value.token_a.address:n.value.token_b.address),V.value=!0},le=t=>{var ue,x,ce,de,oe,me,ve,we;const g=n.value.needReverse?n.value.token_b:n.value.token_a,w=n.value.needReverse?n.value.token_a:n.value.token_b;d.value==="fromCoin"?(((ue=_.value)==null?void 0:ue.address)===(g==null?void 0:g.address)||!((x=_.value)!=null&&x.address)?(h.value&&t.address.toLowerCase()===((ce=h)==null?void 0:ce.value.address.toLowerCase())&&(h.value=null),_.value=t):(_.value&&t.address.toLowerCase()===((de=_)==null?void 0:de.value.address.toLowerCase())&&(_.value=null),h.value=t),D.query.action||(D.query.fee="")):((oe=h.value)==null?void 0:oe.address)===(w==null?void 0:w.address)||!((me=h.value)!=null&&me.address)?(_.value&&t.address.toLowerCase()===((ve=_)==null?void 0:ve.value.address.toLowerCase())&&(_.value=null),h.value=t):(h.value&&t.address.toLowerCase()===((we=h)==null?void 0:we.value.address.toLowerCase())&&(h.value=null),_.value=t),V.value=!1},f=A(()=>B.value.chainName?ut(B.value.chainName):{}),M=A(()=>B.value.slippage),$=E(),C=async()=>{var Re,Me,Oe,Fe;if(He.value||!G.value&&!R.value)return!1;if(!T.value&&!S.value&&!G.value&&!R.value)return;const t=n.value||{};if(Ae(t))return;const{TickUtil:g,TickMath:w,getNearestTickByTick:ue}=f.value,x=t==null?void 0:t.token_a.decimals,ce=t==null?void 0:t.token_b.decimals;let de,oe,me,ve,we,Se,We,Ge,Ie=t==null?void 0:t.current_tick_index,te;if(t.token_a.address.toLowerCase()===_.value.address.toLowerCase()&&t.token_b.address.toLowerCase()===h.value.address.toLowerCase()?te=!0:te=!1,G.value==="0"&&R.value==="∞")me=g.getMinIndex(Number(t.tickSpacing)),ve=g.getMaxIndex(Number(t.tickSpacing)),we=w.tickIndexToSqrtPriceX64(me),Se=w.tickIndexToSqrtPriceX64(ve);else if(Y.value=="custom"){te?(de=Number(G.value),oe=Number(R.value)):(de=R.value!=="∞"?new s(1).div(R.value).toString():1/0,oe=new s(1).div(G.value).toString());try{We=de==0?-443636:w.priceToTickIndex(new s(de),x,ce)}catch{We=-443636}try{Ge=w.priceToTickIndex(new s(oe),x,ce)}catch{Ge=443636}me=ue(We,Number(t.tickSpacing)),ve=ue(Ge,Number(t.tickSpacing));try{we=w.priceToSqrtPriceX64(new s(de),x,ce)}catch{(oe===1/0||oe==="∞")&&(we=w.tickIndexToSqrtPriceX64(g.getMinIndex(Number(t.tickSpacing))))}try{Se=w.priceToSqrtPriceX64(new s(oe),x,ce)}catch{(oe===1/0||oe==="∞")&&(Se=w.tickIndexToSqrtPriceX64(g.getMaxIndex(Number(t.tickSpacing))))}}else me=(Re=Ke.value[Y.value])==null?void 0:Re.lower,ve=(Me=Ke.value[Y.value])==null?void 0:Me.upper,we=w.tickIndexToSqrtPriceX64(me),Se=w.tickIndexToSqrtPriceX64(ve);if(R.value!=="∞"&&me>=ve){i.value=!0,T.value="",W.value=!0,S.value="";return}if(R.value==="∞"||Ie>=me&&Ie<=ve){i.value=!1,W.value=!1;let ke;if(T.value||S.value){if(_e.value){const vt=new s(T.value).mul(Math.pow(10,_.value.decimals)).toString();ke=new Be(vt)}else{const vt=new s(S.value).mul(Math.pow(10,h.value.decimals)).toString();ke=new Be(vt)}const{liquidityAmount:De,tokenMaxA:it,tokenMaxB:nt,tokenMaxAOrigin:Gt,tokenMaxBOrigin:Jt}=f.value.estLiquidityAndcoinAmountFromOneAmounts({tokenA:t.token_a,tokenB:t.token_b,lowerTick:me,upperTick:ve,coinAmount:ke,iscoinA:te?_e.value:!_e.value,roundUp:!0,slippage:Number(M.value)/100,curSqrtPrice:new Be(t.current_sqrt_price)});$.value={liquidityAmount:De,tokenMaxA:it,tokenMaxB:nt,tokenMaxAOrigin:Gt,tokenMaxBOrigin:Jt},te?_e.value?S.value=Number(nt)>0?nt:"":T.value=Number(it)>0?it:"":_e.value?S.value=it:T.value=nt}}else if(Ie>ve){if(te?T.value="":S.value="",i.value=te,W.value=!te,T.value||S.value){let ke;if(te){const De=new s(S.value).mul(Math.pow(10,(Oe=h.value)==null?void 0:Oe.decimals)).toString();ke=new Be(De),$.value={liquidityAmount:f.value.estimateLiquidityForCoinB(we,Se,ke),tokenMaxA:0,tokenMaxB:S.value}}else{const De=new s(T.value).mul(Math.pow(10,(Fe=_.value)==null?void 0:Fe.decimals)).toString();ke=new Be(De),$.value={liquidityAmount:f.value.estimateLiquidityForCoinB(we,Se,ke),tokenMaxA:0,tokenMaxB:T.value}}}}else if(Ie<me){if(i.value=!te,W.value=te,te?S.value="":T.value="",T.value||S.value){let ke;if(te){const De=new s(T.value).mul(Math.pow(10,_.value.decimals)).toString();ke=new Be(De),$.value={liquidityAmount:f.value.estimateLiquidityForCoinA(we,Se,ke),tokenMaxA:T.value,tokenMaxB:0}}else{const De=new s(S.value).mul(Math.pow(10,h.value.decimals)).toString();ke=new Be(De),$.value={liquidityAmount:f.value.estimateLiquidityForCoinA(we,Se,ke),tokenMaxA:S.value,tokenMaxB:0}}}}else i.value=!0,T.value="",W.value=!0,S.value=""};Ne(T,(t,g)=>{t==""&&_e.value&&(S.value=""),t&&_e.value&&!He.value&&C()}),Ne(S,(t,g)=>{t==""&&!_e.value&&(T.value=""),t&&!_e.value&&!He.value&&C()});const N=E("--"),Z=A(()=>H.value.RATES),U=()=>{const t=Z.value&&Z.value[_.value.address]&&Z.value[_.value.address].price,g=Z.value&&Z.value[h.value.address]&&Z.value[h.value.address].price;if(t&&g){const w=new s(T.value>0?T.value:0).mul(t),ue=new s(S.value>0?S.value:0).mul(g),x=w.add(ue).toNumber();N.value=x>0&&x<.01?"$<0.01":"$"+$e(x,2)}else N.value="--"};Ne(()=>[T.value,S.value,He.value],([t,g,w])=>{(t||g)&&!w?U():(!t||!g)&&!w&&(N.value="--")},{immediate:!0}),Ne(()=>N,t=>{},{immediate:!0});const K=E(),F=async()=>{var te,Re;if(!G.value&&!R.value)return!1;if(!T.value&&!S.value&&!G.value&&!R.value)return;const t=n.value;if(Ae(t))return;const{TickUtil:g,TickMath:w,getNearestTickByTick:ue}=f.value,x=t==null?void 0:t.token_a.decimals,ce=t==null?void 0:t.token_b.decimals;let de,oe,me,ve,we,Se,We;if(t.token_a.address.toLowerCase()===_.value.address.toLowerCase()&&t.token_b.address.toLowerCase()===h.value.address.toLowerCase()?We=!0:We=!1,G.value==="0"&&R.value==="∞")me=g.getMinIndex(Number(t.tickSpacing)),ve=g.getMaxIndex(Number(t.tickSpacing));else if(Y.value=="custom"){We?(de=Number(G.value),oe=Number(R.value)):(de=new s(1).div(R.value).toString(),oe=new s(1).div(G.value).toString());try{we=de==0?-443636:w.priceToTickIndex(new s(de),x,ce)}catch{we=-443636}try{Se=w.priceToTickIndex(new s(oe),x,ce)}catch{Se=443636}me=ue(we,Number(t.tickSpacing)),ve=ue(Se,Number(t.tickSpacing))}else me=(te=Ke.value[Y.value])==null?void 0:te.lower,ve=(Re=Ke.value[Y.value])==null?void 0:Re.upper;const Ge=Z.value[t==null?void 0:t.token_a.address].price,Ie=Z.value[t==null?void 0:t.token_b.address].price;Ee.value?new Be(t.current_sqrt_price):new Be(1/t.current_sqrt_price);try{const{amountA:Me,amountB:Oe,tokenAmountsInfo:Fe}=await f.value.estCoinAmountsFromTotalAmount({lowerTick:me,upperTick:ve,decimalsA:x,decimalsB:ce,curSqrtPrice:new Be(t.current_sqrt_price),totalAmount:N.value.replace(/[^\d.]/g,""),tokenPriceA:Ge,tokenPriceB:Ie});K.value=Fe,t.needReverse?Ee.value?(T.value=Me,S.value=Oe):(T.value=Oe,S.value=Me):(T.value=Me,S.value=Oe)}catch{}};Ne([G,R],([t,g])=>{He.value?He.value&&F():C(),g!=="∞"&&Number(t)!==0&&Number(g)!==0&&Number(t)>=Number(g)?Qe.value=!0:Qe.value=!1,Number(t)==0&&Number(g)==0&&lt.value&&(Qe.value=!0)},{deep:!0,immediate:!0});const qe=t=>{const g=t.replace(/[^\d.]/g,""),w="$"+$e(g);He.value=!0,N.value=w,g>0?F():(T.value="",S.value="")},P=E(!1),{setTransactionTxid:ee,setTransactionDesc:xe,setIsShowWaiting:Le,setIsShowSuccess:r,setPositiomNum:y,setIsShowRejected:I}=fe,z=vr(),ne=A(()=>H.value.currentPositionInfo),pe=E(!1),se=async t=>{var we,Se,We,Ge;P.value=!1,H.value.currentPositionInfo={},ee(""),xe(e("tips.increaseLiquiditySuccess",{from:i.value?"":`${T.value} ${(we=_.value)==null?void 0:we.symbol}`,and:!i.value&&!W.value?"and":"",to:W.value?"":`${S.value} ${(Se=h.value)==null?void 0:Se.symbol}`})),Le(!0);const g=Ee.value?_e.value:!_e.value;let w,ue,x,ce,de,oe;const me=n.value.token_a.decimals,ve=n.value.token_b.decimals;if(G.value==="0"&&R.value==="∞")x=f.value.TickUtil.getMinIndex(Number(n.value.tickSpacing)),ce=f.value.TickUtil.getMaxIndex(Number(n.value.tickSpacing));else if(Y.value=="custom"){Ee.value?(w=Number(G.value),ue=Number(R.value)):(w=new s(1).div(R.value).toString(),ue=new s(1).div(G.value).toString());try{de=w==0?f.value.TickUtil.getMinIndex(Number(n.value.tickSpacing)):f.value.TickMath.priceToTickIndex(new s(w),me,ve)}catch{de=f.value.TickUtil.getMinIndex(Number(n.value.tickSpacing))}try{oe=f.value.TickMath.priceToTickIndex(new s(ue),me,ve)}catch{oe=f.value.TickUtil.getMaxIndex(Number(n.value.tickSpacing))}x=f.value.getNearestTickByTick(de,Number(n.value.tickSpacing)),ce=f.value.getNearestTickByTick(oe,Number(n.value.tickSpacing))}else x=Ke.value[Y.value].lower,ce=Ke.value[Y.value].upper;try{let Ie;He.value?Ie=await f.value.getCreateAddLiquidityPayload({pool:n.value,curSqrtPrice:new Be(n.value.current_sqrt_price),tickLower:x,tickUpper:ce,slippage:Number(M.value)/100,tokenAmounts:K.value}):Ie=await f.value.getAddLiquidityTransactionPayload({pool:{poolAddress:n.value.poolAddress,token_a:n.value.token_a,token_b:n.value.token_b},amount:_e.value?T.value:S.value,fix_amount_a:g,tick_lower:x,tick_upper:ce,index:0,slippage:Number(M.value)/100,roundUp:!0,collect_fee:!1,curSqrtPrice:new Be(n.value.current_sqrt_price)});let te;if(O.value==="Aptos")te=await k.value.currentWallet.signAndSubmitTransaction(Ie);else{const Re=await k.value.currentWallet.signAndExecuteTransactionBlock(Ie);te=f.value.handleTx(Re)}if(te&&te.hash){ee(te.hash),Le(!1),r(!0);let Re;n.value.needReverse?n.value.token_a.address.toLowerCase()===_.value.address.toLowerCase()&&n.value.token_b.address.toLowerCase()===h.value.address.toLowerCase()?Re=!1:Re=!0:n.value.token_a.address.toLowerCase()===_.value.address.toLowerCase()&&n.value.token_b.address.toLowerCase()===h.value.address.toLowerCase()?Re=!0:Re=!1;const Me={title:"Supplied",desc:e("tips.addLiquiditySuccessText",{from:i.value?"":`${T.value} ${(We=_.value)==null?void 0:We.symbol}`,and:!i.value&&!W.value?"and":"",to:W.value?"":`${S.value} ${(Ge=h.value)==null?void 0:Ge.symbol}`}),hash:te.hash,tit:"Position Created",icon:"icon-icon-Position-Created"};O.value!=="Aptos"&&(Me.res=te.res),f.value.showTransitionPending(Me);const Oe=await f.value.watchTransaction(Me,!0);if(Oe.status){if(r(!1),H.value.setCurrentPositionLoading(!0),pe.value=!0,O.value==="Aptos"){if(await H.value.setCurrentPositionInfo(Oe.nftInfo[0].data.id.creator,Oe.nftInfo[0].data.id.collection,Oe.nftInfo[0].data.name,O.value),t)try{await z.subscribePosition({pool_address:ne.value.poolAddress,position_index:ne.value.index},ne.value.nftHash)}catch{}}else{const Fe=Oe.nftInfo,ke=await Lt(2e3);if(await H.value.setCurrentPositionInfo(Fe==null?void 0:Fe.pool,"","",O.value,Fe==null?void 0:Fe.position),await Lt(1e3),t)try{await z.subscribePosition({pool_address:ne.value.poolAddress,position_index:ne.value.index},ne.value.nftHash)}catch{}}setTimeout(()=>{ge.updateCurrentPools(n.value.poolAddress,O.value),f.value.getAccount(k.value.address)},3e3),setTimeout(async()=>{It(f,n)},3e3)}y()}else Le(!1),I(!0);T.value="",S.value=""}catch{T.value="",S.value="",Le(!1),I(!0)}},Ue=A(()=>!!(!T.value&&!S.value||Number(T.value)>Number(l.value)||Number(S.value)>Number(J.value)||Xe.value!==e("button.addLiquidity")&&Xe.value!==e("newAdd.preview")||n.value&&n.value&&n.value.is_pause||Number(T.value)<=0&&Number(S.value)<=0||!i.value&&Number(T.value)==0||!W.value&&Number(S.value)==0)),Ze=A(()=>!_.value||!h.value),Xe=A(()=>n.value&&n.value.is_pause?"Pool Closed":!_.value||!h.value||Ze.value?e("modal.selectTokenModalTitle"):Number(T.value)>Number(l.value)?e("button.insufficientBalance",{name:_.value.symbol}):Number(S.value)>Number(J.value)?e("button.insufficientBalance",{name:h.value.symbol}):!Number(T.value)&&!Number(S.value)?e("button.enterAmount"):R.value!=="∞"&&Number(G.value)>=Number(R.value)?e("newAdd.invalidRange"):e("button.addLiquidity")),Te=E({}),ye=E({}),Ye=E(!1),at=(t,g)=>{const w=localStorage.getItem(t.address);H.value.tokensObj&&H.value.tokensObj[t.address]&&H.value.tokensObj[t.address].isSelfBuilt&&!w&&(g=="fromCoin"&&(Te.value=t),g=="toCoin"&&(ye.value=t),Ye.value=!0)};Ne(()=>[_.value,h.value],([t,g])=>{t&&!Ae(t)&&at(t,"fromCoin"),g&&!Ae(g)&&at(g,"toCoin")},{immediate:!0});const u=Vt(),m=()=>{O.value!=="Aptos"?u.push("/pool/list"):u.push("/pools")},ze=t=>{He.value,se(t)},be=()=>{D.query.action!=="create-pool"&&D.query.actions!=="new-position"&&(It(f,n),C(),ge.updateCurrentPools(n.value.poolAddress,O.value)),ge.setPoolConfigList(O.value,B.value.filterCoinsObj)},he=A(()=>{var w,ue,x,ce,de,oe;const t=(x=Z.value[(ue=(w=_)==null?void 0:w.value)==null?void 0:ue.address])==null?void 0:x.price,g=(oe=Z.value[(de=(ce=h)==null?void 0:ce.value)==null?void 0:de.address])==null?void 0:oe.price;return!!(t&&g)});return Ne(()=>[D,H.value.tokensObj],([t,g])=>{var w;g&&!Ae(g)&&(h.value||(h.value=H.value.tokensObj[(w=t==null?void 0:t.query)==null?void 0:w.toCoin]))},{immediate:!0,deep:!0}),{positionError:Qe,decimalUi:Pe,poolInfo:n,fromCoinAmount:T,toCoinAmount:S,fromCoin:_,toCoin:h,theme:re,showFromCoinLock:i,showToCoinLock:W,fromCoinBlance:l,toCoinBlance:J,maxBtnSelect:a,halfBtnSelect:b,fixedFromCoin:_e,openCoinSelect:ae,currentCoinKey:d,existingCoins:v,lastSelectCoin:j,showCoinSelect:V,onCoinSelect:le,liquidityTotalAmount:N,toggle:Et,onInput:qe,isInputTotalAmount:He,isViewDetail:pe,addLiquidityBtnDisabled:Ue,addLiquidityBtnText:Xe,isShowTokenWarning:Ye,chainName:O,closeTokenWarning:m,warningFromCoin:Te,warningToCoin:ye,isShowLiquidityModal:P,currentPrice:lt,currentPriceReverse:_t,currentPriceTab:Y,minPrice:G,maxPrice:R,toAdd:se,direction:Ee,wallet:k,getAddLiquidityType:ze,clickRefresh:be,isShowtotalAmount:he}}});const $a={class:"new-liquidity-right"},Ra={class:"deposit-title"},Oa={class:"card-container"},Fa={key:0,class:"lock"},Ba={class:"card-item"},ja={class:"card-item"},Ua={key:0,class:"total-amount"},za=o("span",null,"Total Amount",-1);function Ha(e,c,fe,B,O,ge){const H=Ut,q=lr,k=zt,D=nr,n=Ht,i=er,W=cr,re=dr,p=mr;return L(),X("div",$a,[o("div",Ra,[je(H,{"pool-info":e.poolInfo,onClickRefresh:e.clickRefresh},null,8,["pool-info","onClickRefresh"])]),o("div",Oa,[e.positionError?(L(),X("div",Fa,[je(q)])):Q("",!0),o("div",Ba,[je(k,{modelValue:e.fromCoinAmount,"onUpdate:modelValue":c[0]||(c[0]=l=>e.fromCoinAmount=l),"input-value":e.fromCoinAmount,"coin-symbol":e.fromCoin?e.fromCoin.symbol:null,"coin-name":e.fromCoin?e.fromCoin.name:null,balance:e.fromCoinBlance,"coin-icon":e.fromCoin?e.fromCoin.logoURI:"",address:e.fromCoin?e.fromCoin.address:"","swap-direct":"From","import-page":"deposit","has-arrow":!1,onOnMax:c[1]||(c[1]=l=>e.maxBtnSelect("fromCoin")),onOnHalf:c[2]||(c[2]=l=>e.halfBtnSelect("fromCoin")),onOnInput:c[3]||(c[3]=l=>{e.fromCoinAmount=l,e.fixedFromCoin=!0,e.isInputTotalAmount=!1}),onOnSelect:c[4]||(c[4]=l=>e.openCoinSelect("fromCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showFromCoinLock&&!e.positionError?(L(),Je(D,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])):Q("",!0)]),o("div",ja,[je(k,{modelValue:e.toCoinAmount,"onUpdate:modelValue":c[5]||(c[5]=l=>e.toCoinAmount=l),"input-value":e.toCoinAmount,"coin-symbol":e.toCoin?e.toCoin.symbol:null,"coin-name":e.toCoin?e.toCoin.name:null,balance:e.toCoinBlance,"swap-direct":"To","coin-icon":e.toCoin?e.toCoin.logoURI:"",address:e.toCoin?e.toCoin.address:"","import-page":"deposit","has-arrow":!1,onOnMax:c[6]||(c[6]=l=>e.maxBtnSelect("toCoin")),onOnHalf:c[7]||(c[7]=l=>e.halfBtnSelect("toCoin")),onOnInput:c[8]||(c[8]=l=>{e.toCoinAmount=l,e.fixedFromCoin=!1,e.isInputTotalAmount=!1}),onOnSelect:c[9]||(c[9]=l=>e.openCoinSelect("toCoin"))},null,8,["modelValue","input-value","coin-symbol","coin-name","balance","coin-icon","address"]),e.showToCoinLock&&!e.positionError?(L(),Je(D,{key:0,"from-coin":e.fromCoin,"to-coin":e.toCoin,"pool-info":e.poolInfo},null,8,["from-coin","to-coin","pool-info"])):Q("",!0)]),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme=="default"?(L(),X("img",{key:1,class:"add",src:fr,alt:"",onClick:c[10]||(c[10]=(...l)=>e.toggle&&e.toggle(...l))})):Q("",!0),e.fromCoin&&e.toCoin&&!e.showToCoinLock&&!e.showFromCoinLock&&e.theme!=="default"?(L(),X("img",{key:2,class:"add",src:pr,alt:"",onClick:c[11]||(c[11]=(...l)=>e.toggle&&e.toggle(...l))})):Q("",!0)]),e.isShowtotalAmount?(L(),X("div",Ua,[za,o("span",null,ie(e.liquidityTotalAmount)+" ",1)])):Q("",!0),je(n,{"from-coin":e.fromCoin,"to-coin":e.toCoin,"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"fixed-from-coin":e.fixedFromCoin,"is-input-total-amount":e.isInputTotalAmount,"min-price":e.minPrice,"max-price":e.maxPrice,"current-price-tab":e.currentPriceTab,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse},null,8,["from-coin","to-coin","from-coin-amount","to-coin-amount","fixed-from-coin","is-input-total-amount","min-price","max-price","current-price-tab","current-price","current-price-reverse"]),je(i,{class:"add-liquidity-btn",disabled:e.wallet.connected?e.addLiquidityBtnDisabled:!1,onClick:c[12]||(c[12]=l=>e.wallet.connected?e.isShowLiquidityModal=!0:e.wallet.setIsShowWalletModal(!0))},{default:kt(()=>[ct(ie(e.wallet.connected?e.addLiquidityBtnText:e.$t("button.connectWallet")),1)]),_:1},8,["disabled"]),e.showCoinSelect?(L(),Je(W,{key:1,"existing-coins":e.existingCoins,"last-select-coin":e.lastSelectCoin,onOnSelect:e.onCoinSelect,onOnClose:c[13]||(c[13]=l=>e.showCoinSelect=!1)},null,8,["existing-coins","last-select-coin","onOnSelect"])):Q("",!0),e.isViewDetail?(L(),Je(re,{key:2,"pool-info":e.poolInfo,onOnClose:c[14]||(c[14]=l=>e.isViewDetail=!1)},null,8,["pool-info"])):Q("",!0),e.isShowLiquidityModal?(L(),Je(p,{key:3,"pool-info":e.poolInfo,title:e.$t("button.addLiquidity"),"from-coin-amount":e.fromCoinAmount,"to-coin-amount":e.toCoinAmount,"from-coin":e.fromCoin,"to-coin":e.toCoin,"fixed-from-coin":e.fixedFromCoin,"current-price":e.currentPrice,"current-price-reverse":e.currentPriceReverse,"current-price-tab":e.currentPriceTab,"min-price":e.minPrice,"max-price":e.maxPrice,"show-from-coin-lock":e.showFromCoinLock,"show-to-coin-lock":e.showToCoinLock,"current-direct":e.direction,"is-increase":!1,onToAdd:e.getAddLiquidityType,onOnClose:c[15]||(c[15]=l=>e.isShowLiquidityModal=!1)},null,8,["pool-info","title","from-coin-amount","to-coin-amount","from-coin","to-coin","fixed-from-coin","current-price","current-price-reverse","current-price-tab","min-price","max-price","show-from-coin-lock","show-to-coin-lock","current-direct","onToAdd"])):Q("",!0)])}const Zt=rt(Ma,[["render",Ha]]),Ea=tt({components:{NewLiquidityLeft:Dt,NewLiquidityRight:Zt},setup(){Bt(()=>{ur()});const e=St();return{tickList:st,route:e}}});const Xa={key:0,class:"loading-spin-liquidity loading-global"},Wa={class:"privide-liquidity"};function Da(e,c,fe,B,O,ge){var D,n;const H=Tt,q=Dt,k=Zt;return L(),X(et,null,[!e.tickList&&((n=(D=e.route)==null?void 0:D.query)!=null&&n.poolAddress)?(L(),X("div",Xa,[je(H)])):Q("",!0),o("div",Wa,[je(q),je(k)])],64)}const Si=rt(Ea,[["render",Da],["__scopeId","data-v-9c3e932a"]]);export{Si as default};
