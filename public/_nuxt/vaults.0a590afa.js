import{s as Is,a as q,u as us,d as _s,c as Q}from"./pool.7066e590.js";import{a as os,l as h,r as C,e as es,o as t,f as n,h as o,i as c,v as p,u as P,S as Fs,p as is,k as ds,j as N,F as U,E as x,M as Rs,b as hs,s as Bs,w as K,t as F,B as ps,y as Ns,z as rs,A as ss,x as M,P as Es,H as Os,q as Z,K as Ws,Q as Hs,c as zs}from"./entry.fb0d1e13.js";/* empty css              */import{a as ts,u as vs}from"./sha256.53cbc506.js";import{_ as Ts}from"./auto-pool-apy-tips.c4ccd1f3.js";/* empty css              */import{u as Ks}from"./farms.2e60326a.js";import{_ as Qs}from"./upgrade-loading.f917b2a8.js";import{_ as js}from"./token-warning.9251daab.js";import{i as as}from"./import-icon.de3e6c66.js";import{u as cs}from"./autoPool.9971602e.js";import{_ as Vs}from"./img-connect-wallet_2x.81de79cc.js";/* empty css              */import{_ as Gs}from"./img-no-Positions_2x.5b165b7a.js";import"./decimal.0bdeb344.js";/* empty css              */import"./icon-Amount-for-Sale_2x.b2e65df2.js";const Js=os({props:{list:{type:Array,default:()=>[]},listLoading:{type:Boolean,default:!1},totalTVL:{type:Number,default:0}},setup(s){const l=ts(),y=h(()=>l),g=C(!1);return{wallet:y,sFixD:Is,loading:g,addCommom:q}}});const gs=s=>(is("data-v-77985698"),s=s(),ds(),s),Xs={class:"farms-banner-bg"},Zs={class:"vaults-banner"},xs={class:"vaults-banner-center"},so=gs(()=>o("div",{class:"title"},"Vaults",-1)),oo=gs(()=>o("div",{class:"desc"},"Automate your liquidity to enjoy high yield with ease.",-1)),eo={class:"claim-rewards"},to={class:"claim-title"},no=gs(()=>o("span",null,"Total Value Locked",-1)),lo={key:0,class:"loading-spin"},ao={key:1};function io(s,l,y,g,S,$){const r=Fs;return t(),n("div",Xs,[o("div",Zs,[o("div",xs,[so,oo,o("div",eo,[o("div",to,[no,s.listLoading?(t(),n("span",lo,[c(r)])):(t(),n("span",ao,"$"+p(("addCommom"in s?s.addCommom:P(q))(("sFixD"in s?s.sFixD:P(Is))(s.totalTVL||0,2))),1))])])])])])}const co=es(Js,[["render",io],["__scopeId","data-v-77985698"]]),ro=os({setup(){const s=C(!1),l=ts(),y=h(()=>l),g=Ks(),S=h(()=>g),$=h(()=>S.value.farmsPoolList);return{isShowMore:s,wallet:y,walletStore:l,farmsPoolList:$}}});const J=s=>(is("data-v-6e4541ed"),s=s(),ds(),s),uo={class:"vaults-table"},_o=J(()=>o("th",null,"Vaults",-1)),ho=J(()=>o("th",null,"TVL",-1)),po=J(()=>o("th",null,"Rewards",-1)),vo=J(()=>o("th",null,"Your Holdings",-1)),go=J(()=>o("th",null,"Actions",-1)),mo=J(()=>o("tr",{style:{height:"4px",background:"unset"}},null,-1)),ko={class:"pool"},yo={class:"staked-tvl"},bo={class:"apr"},$o={class:"my-staked"},fo={class:"my-staked"},wo={class:"actions"},So=J(()=>o("tr",{style:{height:"8px",background:"unset !important"}},null,-1));function Lo(s,l,y,g,S,$){const r=Ts,i=Rs;return t(),n("div",uo,[o("table",null,[o("thead",null,[o("tr",null,[_o,ho,o("th",null,[o("span",null,[N("APY "),c(r)])]),po,vo,go]),mo]),o("tbody",null,[(t(),n(U,null,x(4,(f,R)=>(t(),n(U,{key:R},[o("tr",null,[o("td",null,[o("div",ko,[c(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1}),c(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",yo,[c(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",bo,[o("span",null,[c(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])])]),o("td",null,[o("div",$o,[c(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",fo,[c(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])]),o("td",null,[o("div",wo,[c(i,{class:"upgrade-title-skeleton",loading:!0,active:"",paragraph:!1})])])]),So],64))),64))])])])}const Co=es(ro,[["render",Lo],["__scopeId","data-v-6e4541ed"]]),Ao=os({props:{pItem:{type:Object,default:()=>({})}},setup(s){const l=vs(),y=h(()=>l),g=us(),S=h(()=>g),$=d=>{var u;return(d==null?void 0:d.logoURI)||(d==null?void 0:d.logo_url)||((u=S.value.tokensObj[d==null?void 0:d.address])==null?void 0:u.logo_url)||(y.value.theme==="default"?as("/image/coins/unknown.png"):as("/image/coins/sui-unknown.png"))},r=C(!0),i=cs(),f=h(()=>i),R=h(()=>f.value.positionInfoObj[s.pItem.id]),L=hs(),w=(d,u)=>{L.push(`/vaults-detail/${d.id}?action=${u}`)},v=d=>{const u=d.needReverse,A=u?d.token_b.address:d.token_a.address,D=u?d.token_a.address:d.token_b.address;L.push(`/swap?from=${A}&to=${D}`)},e=ts(),k=h(()=>e);return{getCoinIcon:$,direct:r,decimalUi:_s,addCommom:q,autoPool:f,positionInfo:R,toAutoPoolDetail:w,toSwap:v,wallet:k}}});const X=s=>(is("data-v-98d84d67"),s=s(),ds(),s),Po={class:"vaults-position-card"},Io={class:"auto-position-card-conetent"},Ro={key:0,class:"no-vaults-data no-data"},Bo=X(()=>o("img",{src:Vs},null,-1)),No={class:"item lp-tokens"},Oo={alt:""},To={class:"right"},jo=X(()=>o("div",{class:"top"},"Your LP tokens",-1)),Vo={class:"bottom"},Do={key:0,class:"lp-num"},qo={key:1,class:"lp-num"},Uo={class:"item yourBanlance"},Mo=X(()=>o("div",{class:"top"},"Pooled assets",-1)),Yo={class:"bottom"},Fo={class:"token-info"},Eo={class:"token-num"},Wo={alt:""},Ho={key:0},zo={key:1},Ko=X(()=>o("p",null,"--",-1)),Qo=[Ko],Go={class:"token-num"},Jo={alt:""},Xo={key:0},Zo={key:1},xo=X(()=>o("p",null,"--",-1)),se=[xo],oe={class:"item share"},ee=X(()=>o("div",{class:"top"},"Share of pool",-1)),te={class:"bottom"},ne={key:0},le={key:1},ae=X(()=>o("div",{class:"action"},[o("div",null,[o("div",{class:"remove-btn"}," Details> ")])],-1));function ie(s,l,y,g,S,$){var f,R,L,w,v,e,k,d,u,A;const r=ps,i=Bs("image");return t(),n("div",Po,[o("div",Io,[s.wallet.address?(t(),n("div",{key:1,class:"auto-position-card",onClick:l[1]||(l[1]=D=>s.toAutoPoolDetail(s.pItem,"deposit"))},[o("div",No,[F(o("img",Oo,null,512),[[i,(R=(f=s.positionInfo)==null?void 0:f.lpInfo)==null?void 0:R.logo_url]]),o("div",To,[jo,o("div",Vo,[(L=s.wallet)!=null&&L.connected?(t(),n("div",Do,p(("addCommom"in s?s.addCommom:P(q))(("decimalUi"in s?s.decimalUi:P(_s))((w=s.positionInfo)==null?void 0:w.myLiquidity),4))+" LP",1)):(t(),n("div",qo,"--"))])])]),o("div",Uo,[Mo,o("div",Yo,[o("div",Fo,[o("div",Eo,[F(o("img",Wo,null,512),[[i,s.pItem.needReverse?s.pItem.coinB.logo_url:s.pItem.coinA.logo_url]]),(v=s.wallet)!=null&&v.connected?(t(),n("div",Ho,[o("span",null,p(("addCommom"in s?s.addCommom:P(q))((e=s.positionInfo)==null?void 0:e.amountA)),1),N(" "+p(s.pItem.needReverse?s.pItem.coinB.symbol:s.pItem.coinA.symbol)+" ",1)])):(t(),n("div",zo,Qo))]),o("div",Go,[F(o("img",Jo,null,512),[[i,s.pItem.needReverse?s.pItem.coinA.logo_url:s.pItem.coinB.logo_url]]),(k=s.wallet)!=null&&k.connected?(t(),n("div",Xo,[o("span",null,p(("addCommom"in s?s.addCommom:P(q))((d=s.positionInfo)==null?void 0:d.amountB)),1),N(" "+p(s.pItem.needReverse?s.pItem.coinA.symbol:s.pItem.coinB.symbol)+" ",1)])):(t(),n("div",Zo,se))])])])]),o("div",oe,[ee,o("div",te,[(u=s.wallet)!=null&&u.connected?(t(),n("span",ne,p((A=s.positionInfo)==null?void 0:A.myShare)+"%",1)):(t(),n("span",le,"--%"))])]),ae])):(t(),n("div",Ro,[Bo,c(r,{class:"add-liquidity-btn",onClick:l[0]||(l[0]=D=>s.wallet.setIsShowWalletModal(!0))},{default:K(()=>[N("Connect Wallet")]),_:1})]))])])}const de=es(Ao,[["render",ie],["__scopeId","data-v-98d84d67"]]),ce=os({components:{TokenWarning:js},props:{list:{type:Array,default:()=>[]}},setup(){const{t:s}=Ns(),l=vs(),y=h(()=>l),g=us(),S=h(()=>g),$=a=>{var O;return(a==null?void 0:a.logoURI)||(a==null?void 0:a.logo_url)||((O=S.value.tokensObj[a==null?void 0:a.address])==null?void 0:O.logo_url)||(y.value.theme==="default"?as("/image/coins/unknown.png"):as("/image/coins/sui-unknown.png"))},r=h(()=>S.value.tokensObj),i=h(()=>y.value.statsData),f=h(()=>y.value.theme),R=cs(),L=h(()=>R),w=C({}),v=a=>{w.value[a]?w.value[a]=!1:w.value[a]=!0},e=h(()=>L.value.positionInfoObj),k=ts(),d=h(()=>k),u=C(!1),A=hs(),D=(a,O)=>{A.push(`/vaults-detail/${a.id}?action=${O}`)},T=a=>{const O=a.needReverse,E=O?a.token_b.address:a.token_a.address,W=O?a.token_a.address:a.token_b.address;A.push(`/swap?from=${E}&to=${W}`)},j=C(!0);return{router:A,getCoinIcon:$,tokensObj:r,t:s,statsData:i,checkNullObj:Q,addCommom:q,importIcon:as,theme:f,isShowPosition:w,togglePosition:v,positionInfo:e,wallet:d,isShowDetail:u,toAutoPoolDetail:D,toSwap:T,direct:j}}});const I=s=>(is("data-v-11d129e8"),s=s(),ds(),s),re={class:"vaults-table-contianer"},ue={class:"table pc-pool-item"},_e={class:"table-header"},he={class:"table-tr"},pe=I(()=>o("th",null,"Vaults",-1)),ve=I(()=>o("th",null,"TVL",-1)),ge=I(()=>o("th",null,"Rewards",-1)),me=I(()=>o("th",null,"Your Holdings",-1)),ke=I(()=>o("th",null,"Actions",-1)),ye=I(()=>o("tr",{style:{height:"4px",background:"unset"}},null,-1)),be={class:"table-body"},$e=["onClick"],fe={class:"token"},we={class:"img-box"},Se={class:"img-box img-last-box"},Le={class:"name"},Ce={class:"top"},Ae={class:"token-name"},Pe={class:"tokena"},Ie={class:"tokenb"},Re={class:"fee-warning"},Be={class:"fee-tier-top"},Ne={key:0},Oe={class:"skeleton-box"},Te={key:1},je={key:2},Ve={class:"skeleton-box"},De={key:3},qe={class:"rewards-coin"},Ue={key:4},Me={class:"skeleton-box"},Ye={key:5},Fe={class:"show-position"},Ee={class:"svg-icon"},We=I(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),He=[We],ze={key:0,class:"table-tr view-table-tr"},Ke={colspan:"6"},Qe=I(()=>o("td",null,null,-1)),Ge=I(()=>o("tr",{style:{height:"8px",background:"unset"}},null,-1)),Je={class:"h5-pool-item"},Xe={class:"token"},Ze={class:"img-box"},xe={key:0,class:"pool-warning"},st={class:"img-box img-last-box"},ot={key:0,class:"pool-warning"},et={class:"name"},tt={class:"top"},nt={class:"token-name"},lt={class:"tokena"},at={class:"tokenb"},it={class:"fee-warning"},dt={class:"fee-tier-top"},ct={class:"bottom"},rt={class:"row"},ut=I(()=>o("div",{class:"left"},"TVL",-1)),_t={key:0,class:"right"},ht={key:1,class:"right"},pt={class:"row"},vt=I(()=>o("div",{class:"left"},"APY",-1)),gt={key:0,class:"right"},mt={key:1,class:"right theme-right"},kt={class:"row"},yt=I(()=>o("div",{class:"left"},"Rewards",-1)),bt={class:"right"},$t={class:"rewards-coin"},ft={class:"row"},wt=I(()=>o("div",{class:"left"},"Your Holdings",-1)),St={key:0,class:"right"},Lt={key:1,class:"right"},Ct=["onClick"],At=I(()=>o("use",{"xlink:href":"#icon-icon_on"},null,-1)),Pt=[At],It={key:0,class:"h5-auto-pool-details"},Rt={class:"h5-item lp-tokens"},Bt=I(()=>o("div",{class:"top"},"Your LP tokens",-1)),Nt={class:"bottom"},Ot={key:0,class:"lp-num"},Tt={key:1,class:"lp-num"},jt={class:"h5-item share"},Vt=I(()=>o("div",{class:"top"},"Share",-1)),Dt={class:"bottom"},qt={key:0},Ut={key:1},Mt={class:"h5-item yourBanlance"},Yt=I(()=>o("div",{class:"top"},"Pooled assets",-1)),Ft={class:"bottom"},Et={class:"token-info"},Wt={class:"token-num"},Ht={alt:""},zt={key:0},Kt={key:1},Qt=I(()=>o("p",null,"--",-1)),Gt=[Qt],Jt={class:"token-num"},Xt={alt:""},Zt={key:0},xt={key:1},sn=I(()=>o("p",null,"--",-1)),on=[sn],en={class:"action"},tn=["onClick"];function nn(s,l,y,g,S,$){const r=Ts,i=js,f=Rs,R=Es,L=ps,w=de,v=Bs("image");return t(),n("div",re,[o("table",ue,[o("thead",_e,[o("tr",he,[pe,ve,o("th",null,[o("span",null,[N("APY "),c(r)])]),ge,me,ke]),ye]),o("tbody",be,[(t(!0),n(U,null,x(s.list,(e,k)=>{var d,u,A,D,T,j,a,O,E,W,G;return t(),n(U,{key:k},[o("tr",{class:"table-tr",onClick:Y=>s.togglePosition(k)},[o("td",null,[o("div",fe,[o("div",we,[F(o("img",null,null,512),[[v,s.getCoinIcon(e.needReverse?e.coinB:e.coinA)]]),c(i,{address:e.needReverse?(u=e==null?void 0:e.coinB)==null?void 0:u.address:(d=e==null?void 0:e.coinA)==null?void 0:d.address,"style-params":{right:0,bottom:0,width:"14px",height:"14px"}},null,8,["address"])]),o("div",Se,[F(o("img",null,null,512),[[v,s.getCoinIcon(e.needReverse?e.coinA:e.coinB)]]),c(i,{address:e.needReverse?(D=e.coinA)==null?void 0:D.address:(A=e==null?void 0:e.coinB)==null?void 0:A.address,"style-params":{right:0,bottom:0,width:"14px",height:"14px"}},null,8,["address"])]),o("div",Le,[o("div",Ce,[o("p",Ae,[o("span",Pe,p(e.needReverse?(j=e==null?void 0:e.coinB)==null?void 0:j.symbol:(T=e==null?void 0:e.coinA)==null?void 0:T.symbol),1),N(" - "),o("span",Ie,p(e.needReverse?(a=e==null?void 0:e.coinA)==null?void 0:a.symbol:(O=e==null?void 0:e.coinB)==null?void 0:O.symbol),1)]),o("div",Re,[o("div",Be,p((e==null?void 0:e.fee)*100)+"%",1)])])])])]),("checkNullObj"in s?s.checkNullObj:P(Q))(s.statsData)?(t(),n("td",Ne,[o("div",Oe,[c(f,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",Te," $"+p(Number(e.poolUSD)!==0&&Number(e.poolUSD)<.01?"<0.01":("addCommom"in s?s.addCommom:P(q))(e.poolUSD,2)),1)),("checkNullObj"in s?s.checkNullObj:P(Q))(s.statsData)?(t(),n("td",je,[o("div",Ve,[c(f,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",De,p(e.apy),1)),o("td",null,[c(R,{"overlay-class-name":"reward-coin-tips"},{title:K(()=>[N("Rewards will be auto harvested and compounded to your position.")]),default:K(()=>[o("div",qe,[(t(!0),n(U,null,x(e.rewardList,Y=>(t(),n("div",{key:Y,class:"img-box"},[F(o("img",null,null,512),[[v,s.getCoinIcon({address:Y})]]),c(i,{address:Y,"style-params":{right:0,bottom:0,width:"8px",height:"8px"}},null,8,["address"])]))),128))])]),_:2},1024)]),(E=s.wallet)!=null&&E.connected&&!s.positionInfo[e.id].myLiquidityUSD?(t(),n("td",Ue,[o("div",Me,[c(f,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])])):(t(),n("td",Ye,[s.wallet.connected?(t(),n(U,{key:0},[N(p(((W=s.positionInfo[e.id])==null?void 0:W.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in s?s.addCommom:P(q))((G=s.positionInfo[e.id])==null?void 0:G.myLiquidityUSD)}`:"<$0.01"),1)],64)):(t(),n(U,{key:1},[N("--")],64))])),o("td",null,[o("div",Fe,[c(L,{class:"add-liquidity-btn",onClick:rs(Y=>s.router.push(`/vaults-detail/${e.id}?action=deposit`),["stop"])},{default:K(()=>[N("Deposit")]),_:2},1032,["onClick"]),o("div",Ee,[(t(),n("svg",{"aria-hidden":"true",class:ss(["icon",s.isShowPosition&&s.isShowPosition[k]?"icon-open":""])},He,2))])])])],8,$e),s.isShowPosition&&s.isShowPosition[k]?(t(),n("tr",ze,[o("td",Ke,[c(w,{"p-item":e},null,8,["p-item"])]),Qe])):M("",!0),Ge],64)}),128))])]),o("div",Je,[(t(!0),n(U,null,x(s.list,(e,k)=>{var d,u,A,D,T,j,a,O,E,W,G,Y;return t(),n("div",{key:e.address,class:"item"},[o("div",Xe,[o("div",Ze,[F(o("img",null,null,512),[[v,s.getCoinIcon(e.needReverse?e.coinB:e.coinA)]]),(e.needReverse?(u=s.tokensObj[e.coinB.address])!=null&&u.isSelfBuilt:(d=s.tokensObj[e.coinA.address])!=null&&d.isSelfBuilt)?(t(),n("div",xe)):M("",!0)]),o("div",st,[F(o("img",null,null,512),[[v,s.getCoinIcon(e.needReverse?e.coinA:e.coinB)]]),(e.needReverse?(A=s.tokensObj[e.coinA.address])!=null&&A.isSelfBuilt:(D=s.tokensObj[e.coinB.address])!=null&&D.isSelfBuilt)?(t(),n("div",ot)):M("",!0)]),o("div",et,[o("div",tt,[o("p",nt,[o("span",lt,p(e.needReverse?e.coinB.symbol:e.coinA.symbol),1),N(" - "),o("span",at,p(e.needReverse?e.coinA.symbol:e.coinB.symbol),1)]),o("div",it,[o("div",dt,p((e==null?void 0:e.fee)*100)+"%",1)])])])]),o("div",ct,[o("div",rt,[ut,("checkNullObj"in s?s.checkNullObj:P(Q))(s.statsData)?(t(),n("div",_t,[c(f,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",ht," $"+p(Number(e.poolUSD)!==0&&Number(e.poolUSD)<.01?"<0.01":("addCommom"in s?s.addCommom:P(q))(e.poolUSD,2)),1))]),o("div",pt,[vt,("checkNullObj"in s?s.checkNullObj:P(Q))(s.statsData)?(t(),n("div",gt,[c(f,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",mt,[o("span",null,p(e.apy),1),c(r)]))]),o("div",kt,[yt,o("div",bt,[c(R,{"overlay-class-name":"reward-coin-tips"},{title:K(()=>[N("Rewards will be auto harvested and compounded to your position.")]),default:K(()=>[o("div",$t,[(t(!0),n(U,null,x(e.rewardList,H=>(t(),n("div",{key:H,class:"img-box"},[F(o("img",null,null,512),[[v,s.getCoinIcon({address:H})]]),c(i,{address:H,"style-params":{right:0,bottom:0,width:"8px",height:"8px"}},null,8,["address"])]))),128))])]),_:2},1024)])]),o("div",ft,[wt,("checkNullObj"in s?s.checkNullObj:P(Q))(s.positionInfo)&&((T=s.wallet)!=null&&T.connected)?(t(),n("div",St,[c(f,{class:"upgrade-text-skeleton",loading:!0,active:"",paragraph:!1})])):(t(),n("div",Lt,[(j=s.wallet)!=null&&j.connected?(t(),n(U,{key:0},[N(p(((a=s.positionInfo[e.id])==null?void 0:a.myLiquidityUSD)!=="<0.01"?`$${("addCommom"in s?s.addCommom:P(q))((O=s.positionInfo[e.id])==null?void 0:O.myLiquidityUSD)}`:"<$0.01"),1)],64)):(t(),n(U,{key:1},[N("--")],64))]))])]),c(L,{class:"h5-add-liquidity-btn",onClick:rs(H=>s.router.push(`/vaults-detail/${e.id}?action=deposit`),["stop"])},{default:K(()=>[N("Deposit")]),_:2},1032,["onClick"]),o("div",{class:ss(["details-btn",s.isShowPosition&&s.isShowPosition[k]?"details-btn-text-active":""]),onClick:H=>s.togglePosition(k)},[(t(),n("svg",{"aria-hidden":"true",class:ss(["icon",s.isShowPosition&&s.isShowPosition[k]?"icon-active":""])},Pt,2))],10,Ct),s.isShowPosition&&s.isShowPosition[k]?(t(),n("div",It,[o("div",Rt,[Bt,o("div",Nt,[(E=s.wallet)!=null&&E.connected?(t(),n("div",Ot,p(("addCommom"in s?s.addCommom:P(q))(("decimalUi"in s?s.decimalUi:P(_s))(e==null?void 0:e.myLiquidity,4)))+" LP",1)):(t(),n("div",Tt,"--"))])]),o("div",jt,[Vt,o("div",Dt,[(W=s.wallet)!=null&&W.connected?(t(),n("span",qt,p(e==null?void 0:e.myShare)+"%",1)):(t(),n("span",Ut,"--%"))])]),o("div",Mt,[Yt,o("div",Ft,[o("div",Et,[o("div",Wt,[F(o("img",Ht,null,512),[[v,e.needReverse?e.coinB.logo_url:e.coinA.logo_url]]),(G=s.wallet)!=null&&G.connected?(t(),n("div",zt,[o("span",null,p(("addCommom"in s?s.addCommom:P(q))(e==null?void 0:e.amountA))+" "+p(e.needReverse?e.coinB.symbol:e.coinA.symbol),1)])):(t(),n("div",Kt,Gt))]),o("div",Jt,[F(o("img",Xt,null,512),[[v,e.needReverse?e.coinA.logo_url:e.coinB.logo_url]]),(Y=s.wallet)!=null&&Y.connected?(t(),n("div",Zt,[o("span",null,p(("addCommom"in s?s.addCommom:P(q))(e==null?void 0:e.amountB))+" "+p(e.needReverse?e.coinA.symbol:e.coinB.symbol),1)])):(t(),n("div",xt,on))])])])]),o("div",en,[o("div",null,[o("div",{class:"remove-btn",onClick:H=>s.toAutoPoolDetail(e,"remove")},"Details",8,tn)])])])):M("",!0)])}),128))])])}const ln=es(ce,[["render",nn],["__scopeId","data-v-11d129e8"]]),an=os({props:{selectValue:{type:String,default:""},showList:{type:Object,default:()=>({})}},setup(s,l){const y=["All Vaults","My Vaults"],g=C("All Vaults"),S=C(s.selectValue),$=C(!1),r=C(!1),i=ts(),f=h(()=>i),R=cs(),L=h(()=>R),w=h(()=>L.value.autoPoolList),v=()=>s.showList.length,e=()=>{l.emit("clickRefresh")},k=u=>{S.value=u,l.emit("changeSort",u)},d=u=>{g.value=u,u=="My Vaults"?l.emit("changeTab",!0):l.emit("changeTab",!1)};return Os(()=>{document.addEventListener("click",()=>{r.value=!1})}),{isOpenList:r,wallet:f,changeSort:k,tabList:y,currentTab:g,sortValue:S,clickRefresh:e,isRefresh:$,vaultsPoolList:w,getListNum:v,changeTab:d}}});const ns=s=>(is("data-v-1d1eae2e"),s=s(),ds(),s),dn={class:"vaults-tab"},cn={class:"tab-left"},rn=["onClick"],un={key:0},_n={class:"tab-right"},hn={class:"sort-select"},pn=ns(()=>o("div",null,"Sort by",-1)),vn={class:"showSort"},gn=ns(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),mn=ns(()=>o("use",{"xlink:href":"#icon-icon_arrow"},null,-1)),kn=[mn],yn={key:0,class:"sort-list"},bn=ns(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),$n=ns(()=>o("svg",{class:"sort-icon","aria-hidden":"true"},[o("use",{"xlink:href":"#icon-icon_on-pool"})],-1)),fn={class:"refresh"},wn=ns(()=>o("use",{"xlink:href":"#icon-icon-refresh2"},null,-1)),Sn=[wn];function Ln(s,l,y,g,S,$){return t(),n("div",dn,[o("div",cn,[(t(!0),n(U,null,x(s.tabList,r=>(t(),n("div",{key:r,class:ss(["tab-item",s.currentTab==r?"tab-item-active":""]),onClick:i=>s.changeTab(r)},[o("span",null,p(r),1),s.currentTab==r&&s.getListNum()?(t(),n("p",un,p(s.currentTab=="My Vaults"&&!s.wallet.address?0:s.getListNum()),1)):M("",!0)],10,rn))),128))]),o("div",_n,[o("div",hn,[o("div",{class:"sort-select-box",onClick:l[0]||(l[0]=rs(r=>s.isOpenList=!s.isOpenList,["stop"]))},[pn,o("div",vn,[o("span",null,p(s.sortValue),1),gn,(t(),n("svg",{class:ss(["arrow-icon",s.isOpenList?"arrow-icon-active":""]),"aria-hidden":"true"},kn,2))])]),s.isOpenList?(t(),n("div",yn,[o("div",{class:"sort-item",onClick:l[1]||(l[1]=r=>s.changeSort("APY"))},[N(" APY "),bn]),o("div",{class:"sort-item",onClick:l[2]||(l[2]=r=>s.changeSort("TVL"))},[N(" TVL "),$n])])):M("",!0)]),o("div",fn,[(t(),n("svg",{"aria-hidden":"true",class:ss(["refresh-icon",s.isRefresh?"refreshing":""]),onClick:l[3]||(l[3]=(...r)=>s.clickRefresh&&s.clickRefresh(...r))},Sn,2))])])])}const Cn=es(an,[["render",Ln],["__scopeId","data-v-1d1eae2e"]]),An=os({components:{VaultsTabs:Cn},setup(){Ns();const s=vs(),l=h(()=>s),y=us(),g=h(()=>y),S=cs(),$=h(()=>S),r=ts(),i=h(()=>r),f=h(()=>$.value.positionInfoObj),R=h(()=>l.value.chainName),L=C(!1),w=C(!1),v=C("TVL"),e=C(["APY"]),k=C(!1),d=m=>{const V=[];V.push(v.value),e.value.forEach((B,_)=>{B!=m&&V.push(B)}),e.value=V,v.value=m,D($.value.positionInfoList)};Os(()=>{document.addEventListener("click",()=>{Y("")})});const u=C([]),A=C(!0),D=m=>{const V=[];m.filter(_=>!_.is_pause).forEach(_=>{var ks,ys,bs,$s,fs,ws,Ss,Ls,Cs,As,Ps;const b=l.value.addressLpTokens[_.address],z=g.value.poolsObj[_.address],ls=((ks=$.value.apyObj[_.id])==null?void 0:ks.apr)||"0%",Ds=((ys=$.value.apyObj[_.id])==null?void 0:ys.resultApr)||"0",qs=((bs=$.value.apyObj[_.id])==null?void 0:bs.tvl)||0,Us=_.needReverse?((Ss=g.value.tokensObj[(ws=_.coinB)==null?void 0:ws.address])==null?void 0:Ss.labels)||[]:((fs=g.value.tokensObj[($s=_.coinA)==null?void 0:$s.address])==null?void 0:fs.labels)||[],Ms=_.needReverse?((Cs=g.value.tokensObj[(Ls=_.coinA)==null?void 0:Ls.address])==null?void 0:Cs.labels)||[]:((Ps=g.value.tokensObj[(As=_.coinB)==null?void 0:As.address])==null?void 0:Ps.labels)||[],Ys=[...new Set(Us.concat(Ms))];V.push({..._,liqidity:qs,vol:b?b.vol_in_usd_24h:"0",fee:_.fee?_.fee:z!=null&&z.fee?z.fee:"--",labels:Ys,isFarming:_==null?void 0:_.isFarming,fee_24_h:b&&b.fee_24_h,apy:ls,resultApr:Ds})});let B=[];v.value=="APY"?B=V.sort((_,b)=>Number(b.resultApr)-Number(_.resultApr)):B=V.sort((_,b)=>Number(b.liqidity)-Number(_.liqidity)),u.value=B,y.setAutoPoolNum(u.value.length),A.value=!1};Z(()=>[$.value.positionInfoList,$.value.apyObj,g.value.poolConfigObj],([m,V,B])=>{m&&m.length>0&&B&&!Q(B)&&D(m)},{immediate:!0,deep:!0}),Z(()=>[i.value.address,$.value.autoPoolList,g.value.poolConfigObj],([m,V,B])=>{m&&V&&V.length>0&&B&&!Q(B)&&S.getMyAutoPoolPosition()},{immediate:!0});const T=C(null),j=h(()=>T.value&&T.value.firstToken?T.value.firstToken:null),a=h(()=>T.value&&T.value.lastToken?T.value.lastToken:null),O=C(),E=C(0),W=()=>{let m=[];m=u.value,E.value=m.reduce((b,z)=>Number(b)+Number(z.poolUSD),0);const V=m.filter((b,z)=>j.value&&a.value?b.coinA.address==j.value.address&&b.coinB.address==a.value.address||b.coinA.address==a.value.address&&b.coinB.address==j.value.address:j.value?b.coinA.address.toLowerCase().includes(j.value.address.toLowerCase())||b.coinB.address.toLowerCase().includes(j.value.address.toLowerCase()):a.value?b.coinA.address.toLowerCase().includes(a.value.address.toLowerCase())||b.coinB.address.toLowerCase().includes(a.value.address.toLowerCase()):m);let B=[],_=[];V.forEach((b,z)=>{const ls=f.value&&f.value[b.id];L.value&&Number(ls==null?void 0:ls.myLiquidity)>0&&i.value.connected?_.push(b):B.push({...b})}),O.value=L.value&&i.value.connected?_:B,A.value||(L.value&&i.value.connected?y.setAutoPoolNum(_.length):y.setAutoPoolNum(B.length))};Z(()=>[j.value,a.value,u.value,L.value,i.value.address],([m,V,B,_])=>{(m||V||B||_)&&W()},{immediate:!0}),Ws(()=>{y.setAutoPoolNum("--")});const G=h(()=>g.value.autoPoolNum),Y=m=>{m=="label"?(s.setIsSelect("pools"),k.value=!k.value,w.value=!1,l.value.setIsShowMore(!1)):m=="select"?(s.setIsSelect("pools"),w.value=!w.value,k.value=!1,l.value.setIsShowMore(!1)):(w.value=!1,k.value=!1)};Z(()=>l.value.isSelect,m=>{m!=="pools"&&Y("")},{immediate:!0});const H=hs(),ms=()=>{A.value=!0,S.getAutoPoolList(),S.getAutoPoolAPY()};return Z(()=>l.value.isRefresh,m=>{ms()},{immediate:!0}),Z(()=>R.value,m=>{m=="Aptos"&&H.push("/pools")},{immediate:!0}),{totalTVL:E,clickRefresh:ms,isMyLiquidity:L,chainName:R,store:l,select:w,selectValue:v,selectList:e,label:k,changeSort:d,list:u,listLoading:A,showList:O,childTokenSelectRef:T,wallet:i,autoPoolNum:G}}});const Pn={class:"vaults-container-new"},In={class:"vaults-container-center"},Rn={class:"auto-pool"},Bn={key:0,class:"no-vaults-data no-data"},Nn=o("img",{src:Vs},null,-1),On={key:0,class:"upgrade-loading pc-loading"},Tn={key:1,class:"upgrade-loading h5-loading"},jn={key:3,class:"no-vaults-data"},Vn=o("img",{src:Gs},null,-1),Dn=o("span",{class:"no-vaults"},"No vaults found",-1),qn=[Vn,Dn];function Un(s,l,y,g,S,$){const r=co,i=Hs("VaultsTabs"),f=ps,R=Co,L=Qs,w=ln;return t(),n("div",Pn,[c(r,{list:s.showList,"total-t-v-l":s.totalTVL,"list-loading":s.listLoading},null,8,["list","total-t-v-l","list-loading"]),o("div",In,[c(i,{"select-value":s.selectValue,"show-list":s.showList,onChangeSort:l[0]||(l[0]=v=>s.changeSort(v)),onChangeTab:l[1]||(l[1]=v=>{s.isMyLiquidity=v}),onClickRefresh:s.clickRefresh},null,8,["select-value","show-list","onClickRefresh"]),o("div",Rn,[s.isMyLiquidity&&!s.wallet.address?(t(),n("div",Bn,[Nn,c(f,{class:"add-liquidity-btn",onClick:l[2]||(l[2]=v=>s.wallet.setIsShowWalletModal(!0))},{default:K(()=>[N("Connect Wallet")]),_:1})])):M("",!0),s.isMyLiquidity&&s.wallet.address&&s.listLoading||!s.isMyLiquidity&&s.listLoading?(t(),n(U,{key:1},[s.listLoading?(t(),n("div",On,[c(R)])):M("",!0),s.listLoading?(t(),n("div",Tn,[c(L,{type:"poolsCard",loading:!0,source:"vaults"})])):M("",!0)],64)):M("",!0),s.isMyLiquidity&&s.wallet.address&&!s.listLoading||!s.isMyLiquidity&&!s.listLoading?(t(),zs(w,{key:2,list:s.showList},null,8,["list"])):M("",!0),s.autoPoolNum!=="--"&&Number(s.autoPoolNum)<=0&&!s.listLoading?(t(),n("div",jn,qn)):M("",!0)])])])}const tl=es(An,[["render",Un]]);export{tl as default};
