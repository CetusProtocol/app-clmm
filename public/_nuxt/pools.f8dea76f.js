import{_ as Ie}from"./apr-tips.0bc8a828.js";import{a as ie,r as f,ap as be,aq as Ce,L as re,G as de,N as Le,v as C,F as ue,s as ce,w as Z,ar as Se,i as Ve,H as ee,as as Ae,Y as F,A as te,b as ve,o as n,e as i,f as s,h as I,t as a,a1 as O,a2 as j,q as A,l as V,c as se,m as K,y as D,a4 as me,B as Be,p as pe,j as he,x as Te,J as Re,k as Ue,a0 as x,K as le,C as ne,a9 as ae,at as H,au as Ke,S as Ee,av as Ne}from"./entry.3da13ab8.js";/* empty css              */import{_ as G}from"./icon_on_2x.92294e56.js";import{p as Pe}from"./precision.1cd464a0.js";import{_ as qe,a as De}from"./img-no-Positions_2x.3a4bda32.js";import"./index.087c9054.js";const Oe=ie({props:{lItem:{type:Object,required:!0}},setup(e){const o=f(!1),b=be(Ce,{style:{fontSize:"12px",color:"#fff",paddingBottom:"3px"},spin:!0}),{t:E}=re(),B=de(),S=Le(),g=C(()=>S),y=f(!1);function k(p){const c=p.balance,N=Ae(c).div(Math.pow(10,p.decimals)).toString();return ee(N,p.decimals)}const $=p=>{y.value=!0,setTimeout(()=>{y.value=!1},2e3),B.push(`/deposit?tokena=${p.coinA.address}&tokenb=${p.coinB.address}&fee=${p.fee}`)},w=ue(),u=C(()=>w),_=C(()=>u.value.newTokenObj&&e.lItem.coinA.address&&u.value.newTokenObj[e.lItem.coinA.address]&&u.value.newTokenObj[e.lItem.coinA.address].logoURI),t=C(()=>u.value.newTokenObj&&e.lItem.coinB.address&&u.value.newTokenObj[e.lItem.coinB.address]&&u.value.newTokenObj[e.lItem.coinB.address].logoURI),v=f([]),m=ce(),T=C(()=>m);return Z(()=>[u.value.addressLpTokens,u.value.newTokenObj,T.value.newTopPoolsObj],([p,c,N])=>{if(!F(p)&&!F(c)&&!F(u.value.RATES)&&!F(N)){const P=e.lItem.address&&p[e.lItem.address]&&p[e.lItem.address].rewarder_infos||[],z=[];P.forEach((R,J)=>{const W=c[R.coinAddress].decimals,M=te(R.emissionsEveryDay/Math.pow(10,W),4),Y=te(Number(M)*u.value.RATES[c[R.coinAddress].name.toUpperCase()].price,4);z.push({...R,logoUrl:c[R.coinAddress].logoURI,day:M,dayUSD:Y,symbol:c[R.coinAddress].symbol,rewarders:e.lItem[`rewarders${J}`]})}),v.value=z}},{immediate:!0}),{t:E,isShow:o,indicator:b,thousands:Se,importIcon:Ve,router:B,wallet:g,addCommom:ee,getLpView:k,toAdd:$,fromCoinUrl:_,toCoinUrl:t,addLiquidity:y,rewarderInfo:v}}});const je=e=>(pe("data-v-9021c616"),e=e(),he(),e),Fe={class:"pools-list-item"},ze=je(()=>s("div",{class:"topBg"},null,-1)),Me={class:"top"},He={class:"img-box"},Ze=["src"],Ge=["src"],Je={class:"coin-name"},We={class:"symbol-label"},Ye={class:"apr"},Qe={class:"bottom"},Xe={class:"induction"},xe={class:"item"},es={class:"induction-text"},ss={class:"induction-value"},os={class:"item"},ts={class:"induction-text"},ls={class:"induction-value"},ns={class:"item"},as={class:"induction-text"},is={class:"induction-value"},rs={key:0,class:"item rewards-item"},ds={class:"induction-text"},us={class:"induction-value induction-value-rewards"},cs={class:"rewards-hover"},vs=["src"],ms=["src"];function ps(e,o,b,E,B,S){var $,w,u,_,t,v,m,T,p;const g=Ie,y=me,k=Be;return n(),i("div",Fe,[ze,s("div",Me,[s("div",He,[($=e.lItem)!=null&&$.coinA?(n(),i("img",{key:0,src:e.fromCoinUrl||e.importIcon(`/image/coins/${(w=e.lItem)==null?void 0:w.coinA.symbol.toLowerCase()}.png`)},null,8,Ze)):I("",!0),(u=e.lItem)!=null&&u.coinB?(n(),i("img",{key:1,src:e.toCoinUrl||e.importIcon(`/image/coins/${(_=e.lItem)==null?void 0:_.coinB.symbol.toLowerCase()}.png`)},null,8,Ge)):I("",!0)]),s("span",Je,a((v=(t=e.lItem)==null?void 0:t.coinA)==null?void 0:v.symbol)+" - "+a((T=(m=e.lItem)==null?void 0:m.coinB)==null?void 0:T.symbol),1),s("div",We,[(n(!0),i(O,null,j((p=e.lItem)==null?void 0:p.labels,(c,N)=>(n(),i("div",{key:N,class:A(["lable",c])},null,2))),128))]),s("div",Ye,[s("span",{onClick:o[0]||(o[0]=c=>e.isShow=!e.isShow),class:"apr-text"},a(e.lItem.is_display_rewarder?e.addCommom(e.lItem.aprTotal,2):e.addCommom(e.lItem.apr,2)),1),s("span",{onClick:o[1]||(o[1]=c=>e.isShow=!e.isShow)},a(e.$t("common.apr")),1),V(g,{class:A(e.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),lItem:e.lItem,rewarderInfo:e.rewarderInfo},null,8,["class","lItem","rewarderInfo"])])]),s("div",Qe,[s("div",Xe,[s("div",xe,[s("div",es,a(e.$t("common.feeTier")),1),s("div",ss,a(e.lItem.fee*100)+"%",1)]),s("div",os,[s("div",ts,a(e.$t("common.liquidity")),1),s("div",ls,"$"+a(e.addCommom(e.lItem.liqidity,2)),1)]),s("div",ns,[s("div",as,a(e.$t("common.volume24H")),1),s("div",is,"$"+a(e.addCommom(e.lItem.vol,2)),1)]),e.lItem.is_display_rewarder&&e.rewarderInfo&&e.rewarderInfo.length>0?(n(),i("div",rs,[s("div",ds,a(e.$t("common.rewards")),1),s("div",us,[e.rewarderInfo&&e.rewarderInfo.length>0?(n(!0),i(O,{key:0},j(e.rewarderInfo,c=>(n(),i("div",{key:c,class:"rewards"},[s("div",cs,[s("img",{src:c.logoUrl,alt:""},null,8,vs),s("span",null,a(`${c.day} ${c.symbol} per day`),1)]),s("img",{src:c.logoUrl,alt:""},null,8,ms),s("span",null,a(c.symbol),1)]))),128)):e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr!=="0%"?(n(),se(y,{key:1,size:"small"})):I("",!0)]),e.rewarderInfo&&e.rewarderInfo.length==0&&e.lItem.rewarder_apr=="0%"?(n(),i("div",{key:0,class:A(["induction-value",e.lItem.rewarder_apr=="0%"?"text-default":"induction-value-rewards"])}," No rewards ",2)):I("",!0)])):I("",!0)]),V(k,{class:"addBtn",disabled:e.lItem.is_pause,loading:e.addLiquidity,onClick:o[2]||(o[2]=c=>e.toAdd(e.lItem))},{default:K(()=>[D(a(e.lItem.is_pause?"Pool Closed":e.$t("button.addLiquidity")),1)]),_:1},8,["disabled","loading"])])])}const hs=ve(Oe,[["render",ps],["__scopeId","data-v-9021c616"]]),fs=ie({setup(){const{t:e,locale:o}=re(),b=de(),E=f(!1),B=f(!1),S=f(!1),g=f("TVL"),y=f(["APR","VOL"]),k=f(!1),$=f(e("tab.all")),w=f([e("tab.layerZero"),e("tab.wormhole"),e("tab.celer")]),u=f([]),_=f(""),t=f(["pools"]),v=ue(),m=ce(),T=f(!0),p=f(""),c=C(()=>m),N=C(()=>m.theme),P=C(()=>v),z=C(()=>m.statsData),R=(l,r)=>r.liqidity-l.liqidity,J=(l,r)=>r.vol-l.vol,W=(l,r)=>r.aprNum-l.aprNum;Te(()=>{var r,h,U;const l=(U=(h=(r=b==null?void 0:b.currentRoute)==null?void 0:r.value)==null?void 0:h.query)==null?void 0:U.language;l&&Y(l),m.getStatsData(),p.value=o.value,document.addEventListener("click",()=>{X("")})});const{setLang:M}=m,Y=l=>{M(l),o.value=l},fe=(l,r)=>l&&r?Ue(Pe.plus(x(l),x(r)),2)+"%":l,oe=l=>{let r=0;return l&&l.forEach(h=>{r+=x(String(h))}),String(r)},Q=l=>{const r=[];l.forEach(q=>{const d=c.value.addressLpTokens[q.address];r.push({...q,liqidity:d?d.tvl_in_usd:"0.00000000001",vol:d?d.vol_in_usd_24h:"0",apr:d?d.apr_7day:"--",aprNum:d?d.apr_7day.substring(0,d.apr_7day.length-1):"0",rewarder_apr:oe(d&&d.rewarder_apr)+"%",aprTotal:fe(d&&d.apr_7day,d&&oe(d.rewarder_apr)),rewarders0:d&&d.rewarder_apr[0],rewarders1:d&&d.rewarder_apr[1],rewarders2:d&&d.rewarder_apr[2]})});let h=[];if(g.value=="APR"?h=r.sort(W):g.value=="VOL"?h=r.sort(J):h=r.sort(R),$.value!=e("tab.all")){const q=[];h.forEach(d=>{d.labels.indexOf($.value)!==-1&&q.push(d)}),u.value=q}else u.value=h;if(_.value){var U=new RegExp("[\\u4E00-\\u9FFF]+","g");if(U.test(_.value)){_.value="";return}const q=u.value.filter(d=>d.symbol.toLowerCase().includes(_.value.toLowerCase()));u.value=q}T.value=!1};Z(()=>[P.value.poolConfigList,P.value.addressLpTokens,_.value,g.value,$.value],([l,r])=>{(l==null?void 0:l.length)>0&&!F(r)&&Q(l)},{immediate:!0,deep:!0});const $e=l=>{if(E.value=!0,l){Q(P.value.poolConfigList);const r=u.value.filter(h=>h.symbol.toLowerCase().includes(l.toLowerCase()));u.value=r,E.value=!1}else Q(P.value.poolConfigList)},_e=()=>{T.value=!0,B.value=!0,m.getStatsData(),v.setPoolConfigList(),setTimeout(()=>{B.value=!1},1e3)},ge=l=>{const r=[];r.push(g.value),y.value.forEach((h,U)=>{h!=l&&r.push(h)}),y.value=r,g.value=l},ye=l=>{const r=[];w.value.forEach((h,U)=>{h==l?r[U]=$.value:r[U]=h}),w.value=r,$.value=l};Z(()=>m.lang,l=>{p.value=l});const X=l=>{l=="label"?(m.setIsSelect("pools"),k.value=!k.value,S.value=!1):l=="select"?(m.setIsSelect("pools"),S.value=!S.value,k.value=!1):(S.value=!1,k.value=!1)},ke=()=>{b&&b.push("/position")},we=C(()=>Re[c.value.chainName]);return Z(()=>c.value.isSelect,l=>{l!=="pools"&&X("")},{immediate:!0}),{config:we,toPositionList:ke,t:e,router:b,loading:E,clickRefresh:_e,refresh:B,updateLpList:$e,searchKey:_,current:t,addCommom:ee,list:u,theme:N,statsData:z,pools:P,select:S,selectValue:g,selectList:y,label:k,labelValue:$,labelList:w,changeSort:ge,changeSortLabel:ye,reviseValue:X,listLoading:T,languageValue:p}}});const L=e=>(pe("data-v-893065aa"),e=e(),he(),e),$s={class:"pools-list-container"},_s=["href"],gs={class:"search-refresh"},ys={class:"my-position position-h5"},ks=["placeholder"],ws=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Is=[ws],bs={key:0,class:"select-item"},Cs=["onClick"],Ls=L(()=>s("img",{src:G,alt:""},null,-1)),Ss=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Vs=[Ss],As={key:0,class:"select-item"},Bs=["onClick"],Ts=L(()=>s("img",{src:G,alt:""},null,-1)),Rs=L(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Us=[Rs],Ks={class:"search-tab"},Es={class:"my-position position-pc"},Ns=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Ps=[Ns],qs={key:0,class:"select-item"},Ds=["onClick"],Os=L(()=>s("img",{src:G,alt:""},null,-1)),js=L(()=>s("use",{"xlink:href":"#icon-icon_on"},null,-1)),Fs=[js],zs={key:0,class:"select-item"},Ms=["onClick"],Hs=L(()=>s("img",{src:G,alt:""},null,-1)),Zs=["placeholder"],Gs=L(()=>s("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),Js=[Gs],Ws={class:"item item-left"},Ys={class:"value"},Qs={class:"label"},Xs={class:"item item-right"},xs={class:"value"},eo={class:"label"},so={key:2,class:"no-data"},oo={key:0,src:qe},to={key:1,src:De};function lo(e,o,b,E,B,S){const g=le("mail-outlined"),y=Ne,k=le("appstore-outlined"),$=Ke,w=Ee,u=me,_=hs;return n(),i("div",$s,[s("div",{class:"pools-title",onClick:o[0]||(o[0]=t=>e.reviseValue(""))},[s("div",null,a(e.$t("common.concentratedPools")),1),s("a",{href:`${e.config.ammSite}/pools?language=${e.languageValue}&chain=aptos`,class:"position"},a(e.$t("common.ammPools")),9,_s)]),s("div",gs,[s("div",ys,[s("div",{class:"search-input",onClick:o[4]||(o[4]=t=>e.reviseValue(""))},[ne(s("input",{"onUpdate:modelValue":o[1]||(o[1]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,ks),[[ae,e.searchKey]]),e.searchKey?(n(),i("div",{key:0,class:"out-icon",onClick:o[2]||(o[2]=t=>e.searchKey="")})):I("",!0),s("div",{class:"search-icon",onClick:o[3]||(o[3]=t=>e.updateLpList(e.searchKey))})]),s("div",{class:"search-select search-label",onClick:o[5]||(o[5]=H(t=>e.reviseValue("label"),["stop"]))},[s("span",null,a(e.$t("newAdd.label")),1),s("div",null,a(e.labelValue),1),(n(),i("svg",{"aria-hidden":"true",class:A(e.label?"show-icon icon":"icon")},Is,2)),e.label?(n(),i("div",bs,[(n(!0),i(O,null,j(e.labelList,(t,v)=>(n(),i("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSortLabel(t)},a(t),9,Cs))),128))])):I("",!0)]),s("div",{class:"search-select",onClick:o[6]||(o[6]=H(t=>e.reviseValue("select"),["stop"]))},[s("span",null,a(e.$t("newAdd.sortBy")),1),s("div",null,[D(a(e.selectValue)+" ",1),Ls]),(n(),i("svg",{"aria-hidden":"true",class:A(e.select?"show-icon icon":"icon")},Vs,2)),e.select?(n(),i("div",As,[(n(!0),i(O,null,j(e.selectList,(t,v)=>(n(),i("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSort(t)},[D(a(t)+" ",1),Ts],8,Bs))),128))])):I("",!0)]),(n(),i("svg",{"aria-hidden":"true",class:A(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[7]||(o[7]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Us,2))]),s("div",Ks,[V($,{selectedKeys:e.current,"onUpdate:selectedKeys":o[8]||(o[8]=t=>e.current=t),mode:"horizontal"},{default:K(()=>[V(y,{key:"pools"},{icon:K(()=>[V(g)]),default:K(()=>[D(" "+a(e.$t("menu.pools")),1)]),_:1}),V(y,{key:"position",onClick:e.toPositionList},{icon:K(()=>[V(k)]),default:K(()=>[D(" "+a(e.$t("common.myPosition")),1)]),_:1},8,["onClick"])]),_:1},8,["selectedKeys"])]),s("div",Es,[s("div",{class:"search-select search-label",onClick:o[9]||(o[9]=H(t=>e.reviseValue("label"),["stop"]))},[s("span",null,a(e.$t("newAdd.label")),1),s("div",null,a(e.labelValue),1),(n(),i("svg",{"aria-hidden":"true",class:A(e.label?"show-icon icon":"icon")},Ps,2)),e.label?(n(),i("div",qs,[(n(!0),i(O,null,j(e.labelList,(t,v)=>(n(),i("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSortLabel(t)},a(t),9,Ds))),128))])):I("",!0)]),s("div",{class:"search-select",onClick:o[10]||(o[10]=H(t=>e.reviseValue("select"),["stop"]))},[s("span",null,a(e.$t("newAdd.sortBy")),1),s("div",null,[D(a(e.selectValue)+" ",1),Os]),(n(),i("svg",{"aria-hidden":"true",class:A(e.select?"show-icon icon":"icon")},Fs,2)),e.select?(n(),i("div",zs,[(n(!0),i(O,null,j(e.selectList,(t,v)=>(n(),i("div",{key:v,class:"select-menu-item",onClick:m=>e.changeSort(t)},[D(a(t)+" ",1),Hs],8,Ms))),128))])):I("",!0)]),s("div",{class:"search-input",onClick:o[14]||(o[14]=t=>e.reviseValue(""))},[ne(s("input",{"onUpdate:modelValue":o[11]||(o[11]=t=>e.searchKey=t),onkeyup:"value=value.replace(/[^A-Za-z0-9]+$/g,'')",placeholder:e.$t("inputPlaceholder.myPositionInput")},null,8,Zs),[[ae,e.searchKey]]),e.searchKey?(n(),i("div",{key:0,class:"out-icon",onClick:o[12]||(o[12]=t=>e.searchKey="")})):I("",!0),s("div",{class:"search-icon",onClick:o[13]||(o[13]=t=>e.updateLpList(e.searchKey))})]),(n(),i("svg",{"aria-hidden":"true",class:A(e.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:o[15]||(o[15]=(...t)=>e.clickRefresh&&e.clickRefresh(...t))},Js,2))])]),s("div",{class:"tvl-vol",onClick:o[16]||(o[16]=t=>e.reviseValue(""))},[s("div",Ws,[V(w,{loading:e.listLoading,active:"",paragraph:!1},{default:K(()=>[s("div",Ys," $ "+a(e.addCommom(e.statsData.tvl_in_usd,2)),1)]),_:1},8,["loading"]),s("div",Qs,a(e.$t("common.totalValueLocked")),1)]),s("div",Xs,[V(w,{loading:e.listLoading,active:"",paragraph:!1},{default:K(()=>[s("div",xs," $ "+a(e.addCommom(e.statsData.vol_in_usd_24h,2)),1)]),_:1},8,["loading"]),s("div",eo,a(e.$t("common.volume24H")),1)])]),s("div",{class:"item-container",onClick:o[17]||(o[17]=t=>e.reviseValue(""))},[e.listLoading?(n(),se(u,{key:0})):e.list&&e.list.length>0?(n(!0),i(O,{key:1},j(e.list,(t,v)=>(n(),se(_,{key:v,"l-item":t},null,8,["l-item"]))),128)):(n(),i("div",so,[e.theme=="default"?(n(),i("img",oo)):(n(),i("img",to)),s("span",null,a(e.$t("common.poolsNotFound")),1)]))])])}const mo=ve(fs,[["render",lo],["__scopeId","data-v-893065aa"]]);export{mo as default};
