import{_ as xo}from"./back.f7a7b77b.js";import{_ as oe}from"./status-block.ecab1503.js";import{a as uo,Z as co,r as u,e as po,b as fo,i as g,ab as M,x as mo,L as Uo,Q as P,k as vo,o as p,l as m,m as e,E as b,F as w,t as i,q as H,p as q,S as Lo,s as Io,v as ko,V as ee,Y as ne,c as ro,C as R,K as jo,W as se,w as J,$ as ie,f6 as ae,f as te,f9 as B,fg as No,A as le,j as F,z as W,X as re,R as lo,N as de,O as ue,G as ce,T as pe,U as fe}from"./entry.dfbbf7bb.js";/* empty css              */import{_ as Bo,a as qo}from"./icon-arrow_2x.db44c7c5.js";import{_ as me}from"./apr-tab.6a037c85.js";import{_ as ve}from"./apr-tips.f3e5b5bf.js";import{p as Ie}from"./precision.1cd464a0.js";import"./index.0f1f8b87.js";const ke=uo({props:{positionInfo:{type:Object,required:!0}},setup(o){const{t:f}=co();let O=u(!1),E=u(!0);const k=po(),_=fo(),d=g(()=>_),I=g(()=>{var c,$,l,D,n,v,z,V;const S=o.positionInfo.amountA*(($=d.value.RATES[(c=o.positionInfo)==null?void 0:c.token_a.address])==null?void 0:$.price),y=o.positionInfo.amountB*((D=d.value.RATES[(l=o.positionInfo)==null?void 0:l.token_b.address])==null?void 0:D.price);return((v=d.value.RATES[(n=o.positionInfo)==null?void 0:n.token_a.address])==null?void 0:v.price)&&((V=d.value.RATES[(z=o.positionInfo)==null?void 0:z.token_b.address])==null?void 0:V.price)?S+y:" --"}),h=g(()=>{var S,y,c,$;return((y=d.value.RATES[(S=o.positionInfo)==null?void 0:S.token_a.name.toUpperCase()])==null?void 0:y.price)&&I.value!=="--"?(o.positionInfo.amountA*(($=d.value.RATES[(c=o.positionInfo)==null?void 0:c.token_a.name.toUpperCase()])==null?void 0:$.price)/I.value*100).toFixed(0):" --"}),N=g(()=>{var S,y,c,$;return((y=d.value.RATES[(S=o.positionInfo)==null?void 0:S.token_b.name.toUpperCase()])==null?void 0:y.price)&&I.value!=="--"?(o.positionInfo.amountB*(($=d.value.RATES[(c=o.positionInfo)==null?void 0:c.token_b.name.toUpperCase()])==null?void 0:$.price)/I.value*100).toFixed(0):" --"}),U=g(()=>d.value.tokensObj&&o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.address&&d.value.tokensObj[o.positionInfo.token_a.address]&&d.value.tokensObj[o.positionInfo.token_a.address].logoURI),X=g(()=>d.value.tokensObj&&o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.address&&d.value.tokensObj[o.positionInfo.token_b.address]&&d.value.tokensObj[o.positionInfo.token_b.address].logoURI);return{fromPercent:N,toPercent:h,amountUSD:I,showNum:M,t:f,importIcon:mo,indexStore:k,rateChange:E,decimalFormat:Uo,fromCoinUrl:U,toCoinUrl:X,pools:d,addCommom:P,isPc:O}}});const he=o=>(Io("data-v-c4a61f98"),o=o(),ko(),o),be={class:"position-card"},ge={class:"coin-pair"},_e=["src"],we=["src"],ye={class:"fee"},$e={class:"right"},Ce={key:0,class:"status"},Ae={class:"min-and-max"},Se={key:0},Te={class:"text"},Re={key:0,src:Bo,alt:""},Pe={key:1,src:qo,alt:""},Oe={class:"text"},Ne={key:1},Ue={class:"text"},Le={key:0,src:Bo,alt:""},je={key:1,src:qo,alt:""},Be={class:"text"},qe=he(()=>e("use",{"xlink:href":"#icon-a-icon-change2"},null,-1)),Ee=[qe],De={class:"liquidity"},Fe={class:"label"},We={class:"value"},He={class:"token-num"},Me={class:"item"},ze=["src"],Ge={class:"rate"},Ke={class:"item"},Qe=["src"],Xe={class:"rate"};function Ye(o,f,O,E,k,_){const d=Lo,I=oe;return p(),m("div",be,[e("div",{class:H(["left",`position-status-${o.positionInfo&&o.positionInfo.currentStatus&&o.positionInfo.currentStatus.toLowerCase()}`])},[b(d,{class:"left-skeleton",loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",ge,[e("div",null,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,_e),e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,we)]),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" - "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)]),e("div",ye,i(o.$t("common.fee"))+" "+i(o.positionInfo.fee*100)+"%",1)]),_:1},8,["loading"])],2),e("div",$e,[o.pools.currentPositionLoading?q("",!0):(p(),m("div",Ce,[b(I,{"current-status":o.positionInfo.currentStatus||"","block-name":"detail"},null,8,["current-status"])])),b(d,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",Ae,[o.rateChange?(p(),m("div",Se,[e("div",Te,i(o.addCommom(o.decimalFormat(String(o.positionInfo.minPrice),6))),1),o.indexStore.theme=="default"?(p(),m("img",Re)):(p(),m("img",Pe)),e("div",Oe,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("\u221E")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":o.addCommom(o.decimalFormat(String(o.positionInfo.maxPrice),6)))+" "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)])):(p(),m("div",Ne,[e("div",Ue,i(o.addCommom(o.decimalFormat(String(1/Number(o.positionInfo.maxPrice)),6))),1),o.indexStore.theme=="default"?(p(),m("img",Le)):(p(),m("img",je)),e("div",Be,i(o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("\u221E")>-1||o.positionInfo&&o.positionInfo.maxPrice&&o.positionInfo.maxPrice.indexOf("+")>-1?"\u221E":o.addCommom(o.decimalFormat(String(1/Number(o.positionInfo.minPrice)),6),6))+" "+i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" per "+i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])),(p(),m("svg",{class:"icon-change","aria-hidden":"true",onClick:f[0]||(f[0]=h=>o.rateChange=!o.rateChange)},Ee))])]),_:1},8,["loading"]),e("div",De,[b(d,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",Fe,i(o.$t("common.liquidity")),1),e("div",We," $"+i(o.amountUSD=="--"?"--":Number(o.amountUSD)==0?0:Number(o.amountUSD)<.01?"<0.01":o.addCommom(o.amountUSD,2)),1)]),_:1},8,["loading"])]),e("div",He,[b(d,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",Me,[e("div",null,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,ze),e("p",null,i(o.showNum(o.positionInfo.amountA,o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol)+" "+i(o.positionInfo.token_a.labels&&o.positionInfo.token_a.labels[0]?`(${o.positionInfo.token_a.labels[0]})`:""),1)]),e("div",Ge,i(o.addCommom(o.positionInfo.fromPercent,0))+"% ",1)]),e("div",Ke,[e("div",null,[e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,Qe),e("p",null,i(o.showNum(o.positionInfo.amountB,o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_b.symbol)+" "+i(o.positionInfo.token_b.labels&&o.positionInfo.token_b.labels[0]?`(${o.positionInfo.token_b.labels[0]})`:""),1)]),e("div",Xe,i(o.addCommom(o.positionInfo.toPercent,0))+"%",1)])]),_:1},8,["loading"])])])])}const Ze=vo(ke,[["render",Ye],["__scopeId","data-v-c4a61f98"]]),Je=uo({components:{Modal:ee},props:{positionInfo:{type:Object,required:!0},isLoading:{type:Boolean,required:!0}},setup(o,f){const{t:O,locale:E}=co(),k=po(),{copy:_}=k,d=()=>{f.emit("toClaim")},I=fo(),h=g(()=>I),N=g(()=>h.value.tokensObj&&o.positionInfo.token_a.address&&h.value.tokensObj[o.positionInfo.token_a.address]&&h.value.tokensObj[o.positionInfo.token_a.address].logoURI),U=g(()=>h.value.tokensObj&&o.positionInfo.token_b.address&&h.value.tokensObj[o.positionInfo.token_b.address]&&h.value.tokensObj[o.positionInfo.token_b.address].logoURI);return{showNum:M,fromCoinUrl:N,toCoinUrl:U,toClaim:d,t:O,addCommom:P,importIcon:mo,store:k,copy:_}}});const Ve=o=>(Io("data-v-39d55de9"),o=o(),ko(),o),xe=Ve(()=>e("svg",{class:"icon modal-icon-close","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-a-icon-Shutdown"})],-1)),on={class:"claim-container"},en={key:0,class:"pc-claim"},nn=["src"],sn={key:1,class:"pc-claim"},an=["src"];function tn(o,f,O,E,k,_){const d=jo,I=ne("Modal");return p(),ro(I,{visible:!0,class:"claim-fees",centered:"",closable:!0,title:o.$t("modal.claimFees"),width:"400px",footer:null,onCancel:f[0]||(f[0]=h=>o.$emit("onClose"))},{closeIcon:w(()=>[xe]),default:w(()=>[e("div",on,[o.positionInfo&&o.positionInfo.token_a.symbol?(p(),m("div",en,[e("img",{src:o.fromCoinUrl||o.importIcon(`/image/coins/${o.positionInfo.token_a.symbol.toLowerCase()}.png`)},null,8,nn),e("span",null,i(o.showNum(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals))+" "+i(o.positionInfo.token_a.symbol),1)])):q("",!0),o.positionInfo&&o.positionInfo.token_b.symbol?(p(),m("div",sn,[e("img",{src:o.toCoinUrl||o.importIcon(`/image/coins/${o.positionInfo.token_b.symbol.toLowerCase()}.png`)},null,8,an),e("span",null,i(o.showNum(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals))+" "+i(o.positionInfo.token_b.symbol),1)])):q("",!0)]),b(d,{class:"big-btn claim-btn",disabled:o.isLoading||o.addCommom(o.positionInfo.feeOwedA,o.positionInfo.token_a.decimals)==0&&o.addCommom(o.positionInfo.feeOwedB,o.positionInfo.token_b.decimals)==0||o.positionInfo.poolInfo.is_pause,onClick:o.toClaim},{default:w(()=>[R(i(o.$t("common.claim")),1)]),_:1},8,["disabled","onClick"])]),_:1},8,["title"])}const ln=vo(Je,[["render",tn],["__scopeId","data-v-39d55de9"]]),rn=uo({setup(){const o=u(!1),f=u(!1),O=u(!1),E=u(!0),k=po(),_=g(()=>k),d=fo(),I=u(""),h=u(""),N=u(""),U=u(30),X=u("Estimated APR"),S=u([{time:"24H",num:24},{time:"7D",num:7},{time:"30D",num:30}]),y=u(!0),c=s=>{U.value=s.num},$=()=>{y.value=!y.value},l=g(()=>d),D=g(()=>{var r,a,A,T;const s=n.value.feeOwedA*((r=l.value.RATES[n.value&&n.value.token_a&&n.value.token_a.address])==null?void 0:r.price),t=n.value.feeOwedB*((a=l.value.RATES[n.value&&n.value.token_b&&n.value.token_b.address])==null?void 0:a.price);return((A=l.value.RATES[n.value&&n.value.token_a&&n.value.token_a.address])==null?void 0:A.price)&&((T=l.value.RATES[n.value&&n.value.token_b&&n.value.token_b.address])==null?void 0:T.price)?s+t:" --"}),n=u(l.value.currentPositionInfo||{}),v=se();function z(){v.push(`/remove-liquidity?collect=${n.value.collectionName}&&token=${n.value.tokenName}&&address=${n.value.pool}&pos=${n.value.pos_object_id}`)}function V(){v.push(`/increase-liquidity?collect=${n.value.collectionName}&&token=${n.value.tokenName}&&address=${n.value.pool}&pos=${n.value.pos_object_id}`)}const Eo=()=>{eo(),O.value=!0,setTimeout(()=>{O.value=!1},1e3)},C=g(()=>_.value.chainName?le(_.value.chainName):{}),eo=async()=>{l.value.setCurrentPositionLoading(!0);const s=v.currentRoute.value.query.token||"",t=v.currentRoute.value.query.collect||"",r=v.currentRoute.value.query.address||"",a=v.currentRoute.value.query.pos||"";h.value=r,_.value.chainName==="Aptos"?s&&t&&r&&(I.value=t,N.value=s,l.value.setCurrentPositionInfo(h.value,I.value,N.value,_.value.chainName)):s&&r&&a&&(I.value=t,N.value=s,l.value.setCurrentPositionInfo(r,I.value,N.value,_.value.chainName,a))},Do=g(()=>{var t,r,a;const s=((a=(r=(t=v==null?void 0:v.currentRoute)==null?void 0:t.value)==null?void 0:r.query)==null?void 0:a.address)||"";return s&&l.value.addressLpTokens&&!F(l.value.addressLpTokens)&&l.value.addressLpTokens[s]?l.value.addressLpTokens[s]:null});J(()=>Do.value,(s,t)=>{s&&!F(s)&&s.current_sqrt_price!==(t==null?void 0:t.current_sqrt_price)&&eo()},{immediate:!0});const ho=u(""),bo=u(""),go=u(""),Fo=(s,t)=>s&&t?W(Ie.plus(lo(s),lo(t)),2)+"%":s,_o=s=>{let t=0;return s&&s.forEach(r=>{t+=lo(String(r))}),String(W(String(t),2))},wo=u(""),yo=u("");J(()=>[_.value.newTopPoolsObj,n.value,U],([s,t])=>{if(!F(s)&&!F(t)){const r=t.poolAddress,a=s[r];ho.value=a&&a.apr_7day,yo.value=_o(a&&a.rewarder_apr),wo.value=Fo(a&&a.apr_7day,a&&_o(a.rewarder_apr)),bo.value=a&&W(a.tvl_in_usd,2),go.value=a&&W(a.vol_in_usd_24h,2)}},{immediate:!0,deep:!0});const Wo=ie(),G=g(()=>Wo),{t:no}=co(),{$notify:$o}=ae(),Ho=async()=>{o.value=!0,f.value=!1,k.setTransactionDesc(no("newAdd.claimWaitingText",{from:P(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${M(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`,and:P(n.value.feeOwedA,n.value.token_a.decimals)==0||P(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and",to:P(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${M(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`})),k.setIsShowWaiting(!0);let s;const t={pool:n.value.poolInfo,position:n.value};try{const r=await C.value.getCollectFeeTransactionPayload(t);if(_.value.chainName==="Aptos")s=await G.value.currentWallet.signAndSubmitTransaction(r);else{const a=await G.value.currentWallet.signAndExecuteTransaction(r);s=C.value.handleTx(a)}if(s){k.setTransactionTxid(s.hash),k.setIsShowWaiting(!1),k.setIsShowSuccess(!0);const a={title:"Claim",desc:"",hash:s.hash,tit:`Claimed Fee: ${n.value.poolInfo.symbol}`,text:`Claim ${P(n.value.feeOwedA,n.value.token_a.decimals)==0?"":`${M(n.value.feeOwedA,n.value.token_a.decimals)} ${n.value.token_a.symbol}`}  
              ${P(n.value.feeOwedA,n.value.token_a.decimals)==0||P(n.value.feeOwedB,n.value.token_b.decimals)==0?"":"and"} ${P(n.value.feeOwedB,n.value.token_b.decimals)==0?"":`${M(n.value.feeOwedB,n.value.token_b.decimals)} ${n.value.token_b.symbol}`}
              
            `};C.value.showTransitionPending(a),await C.value.watchTransaction(a)&&setTimeout(()=>{eo()},1e3)}else k.setIsShowWaiting(!1),k.setIsShowRejected(!0),$o.error({icon:B("svg",{class:{icon:!0},"aria-hidden":!0},[B("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),duration:4.5,message:B("div",{class:"notification-title"},[B("span",{innerHTML:No.global.t("newAdd.claimFailed")},null)]),description:no("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"});o.value=!1}catch{o.value=!1,k.setIsShowWaiting(!1),k.setIsShowRejected(!0),$o.error({icon:B("svg",{class:{icon:!0},"aria-hidden":!0},[B("use",{"xlink:href":"#icon-a-icon-Shutdown"})]),message:B("div",{class:"notification-title"},[B("span",{innerHTML:No.global.t("newAdd.claimFailed")},null)]),duration:4.5,description:no("newAdd.somethingWrong"),class:"ant-notification-copy ant-notification-error"})}},so=u(""),io=u(""),Mo=()=>{so.value=n.value.token_b,io.value=n.value.token_a},Co=async(s=null)=>{const t=s||n.value,r=l.value.addressLpTokens[v.currentRoute.value.query.address],a=await C.value.getTickDataByIndex(r.ticks_handle,Number(t.tick_lower_index)),A=await C.value.getTickDataByIndex(r.ticks_handle,Number(t.tick_upper_index));let T={};Ao.value==="Aptos"?T=await C.value.getPosRewardersAmount({poolAddress:v.currentRoute.value.query.address,positionName:v.currentRoute.value.query.token,tickLowerData:a,tickUpperData:A}):T=await C.value.getPosRewardersAmount({poolAddress:v.currentRoute.value.query.address,positionName:v.currentRoute.value.query.token,tickLowerData:a,tickUpperData:A,pos:v.currentRoute.value.query.pos});const K=[];let j=0;T.forEach((L,Y)=>{if(t.poolInfo[`rewarder_display${Y+1}`]){const Z=l.value.newTokenObj[L.coin_address].decimals,Jo=l.value.newTokenObj[L.coin_address],Po=Number(L.amount_owed.toString())/Math.pow(10,Z),Vo=l.value.RATES[L.coin_address].price,Oo=Po*Vo;j+=Oo,K.push({...L,...Jo,amount:W(Po,Z),amountUSD:W(Oo,2)})}}),x.value=K,ao.value=j,So.value=Number(W(j,2))};J(()=>l.value.currentPositionInfo,s=>{s&&(n.value=s,so.value=s==null?void 0:s.token_a,io.value=s==null?void 0:s.token_b)},{immediate:!0});const zo=g(()=>l.value.tokensObj&&n&&n.value.token_a&&n.value.token_a.address&&l.value.tokensObj[n.value.token_a.address]&&l.value.tokensObj[n.value.token_a.address].logoURI),Go=g(()=>l.value.tokensObj&&n&&n.value.token_b&&n.value.token_b.address&&l.value.tokensObj[n.value.token_b.address]&&l.value.tokensObj[n.value.token_b.address].logoURI),Ao=g(()=>_.value.chainName),Ko=g(()=>re[Ao.value]),ao=u(0),x=u([]),So=u(0);te(()=>{ao.value=0,x.value=[],So.value=0});const{setIsShowSuccess:Qo,setIsShowRejected:To,setIsShowWaiting:to,setTransactionDesc:cs,setTransactionTxid:Xo}=k,oo=u(!1),Yo=async()=>{oo.value=!0;const s=x.value;let t={coinTypeA:n.value.poolInfo.coinTypeA,coinTypeB:n.value.poolInfo.coinTypeB,coinTypeC:"",coinTypeD:"",coinTypeE:"",pool_address:n.value.poolAddress,pos_index:n.value.index,rewarder_nums:s.length};t.coinTypeC=s[0]?s[0].coin_address:"",t.coinTypeD=s[1]?s[1].coin_address:"",t.coinTypeE=s[2]?s[2].coin_address:"";try{const r=await C.value.getCollectRewarderTransactionPayload(t);let a;if(_.value.chainName==="Aptos")a=await G.value.currentWallet.signAndSubmitTransaction(r);else{const A=await G.value.currentWallet.signAndExecuteTransaction(r);a=C.value.handleTx(A)}if(a&&a.hash){Xo(a.hash),to(!1),Qo(!0);const A=s[0].amount+s[0].symbol,T=t.coinTypeD?" and "+s[1].amount+s[1].symbol:"",K=t.coinTypeE?" and "+s[2].amount+s[2].symbol:"",j={title:"Claim",desc:"",hash:a.hash,tit:`Claimed Rewards: ${n.value.poolInfo.symbol}`,text:A+T+K};C.value.showTransitionPending(j),await C.value.watchTransaction(j)&&setTimeout(()=>{Co(),C.value.getAccount(G.value.address)},1e3)}else to(!1),To(!0);oo.value=!1}catch{oo.value=!1,to(!1),To(!0)}},Ro=u([]);J(()=>[n.value,l.value.addressLpTokens,l.value.newTokenObj,_.value.newTopPoolsObj],([s,t,r,a])=>{if(!F(s)&&!F(t)&&!F(r)){const A=s.address,T=t[A];let K=T.rewarder_infos||[];const j=a[A],L=[];K.forEach((Y,Z)=>{T[`rewarder_display${Z+1}`]&&L.push({...Y,symbol:r[Y.coinAddress].symbol,rewarderApr:j.rewarder_apr[Z],logoUrl:r[Y.coinAddress].logoURI})}),Ro.value=L,Co(s)}},{immediate:!0});const Zo=u();return J(()=>l.value.RATES,s=>{s&&(Zo.value=s)},{immediate:!0}),{rewarderArr:Ro,feeOwed:D,config:Ko,showNum:M,index:_,fromCoinUrl:zo,toCoinUrl:Go,toggle:Mo,fromCoin:so,toCoin:io,apr:ho,liquidityTvl:bo,vol24:go,addCommom:P,decimalFormat:Uo,wallet:G,isLoading:o,toClaim:Ho,pools:l,positionInfo:n,importIcon:mo,router:v,toRemove:z,toIncrease:V,isShowClaim:f,direct:E,refresh:O,clickRefresh:Eo,pendingRewarderArr:x,pendingRewarder:ao,toClaimRewards:Yo,rewarderLoading:oo,aprRewardsParameter:U,aprRewardsDateList:S,aprTab:c,reviseValue:$,label:y,aprTitle:X,aprTotal:wo,rewardAprList:yo}}});const Q=o=>(Io("data-v-b97ec9fb"),o=o(),ko(),o),dn={key:0,class:"position-detail-container"},un={class:"position-detail-header"},cn={class:"back-and-refresh"},pn=Q(()=>e("use",{"xlink:href":"#icon-icon-refresh"},null,-1)),fn=[pn],mn={class:"action-position"},vn={class:"coin-pair"},In=Q(()=>e("use",{"xlink:href":"#icon-icon-copy"},null,-1)),kn=[In],hn=["href"],bn=Q(()=>e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-icon-jump"})],-1)),gn=[bn],_n=["href"],wn=Q(()=>e("svg",{class:"icon","aria-hidden":"true"},[e("use",{"xlink:href":"#icon-icon-jump"})],-1)),yn=[wn],$n={class:"acton-btn-box"},Cn=Q(()=>e("svg",{"aria-hidden":"true",class:"action-icon"},[e("use",{"xlink:href":"#icon-icon-Reduction"})],-1)),An=Q(()=>e("svg",{"aria-hidden":"true",class:"action-icon"},[e("use",{"xlink:href":"#icon-icon-add"})],-1)),Sn={class:"position-content"},Tn={class:"pedding-fee pedding-apr"},Rn={class:"pedding-fee"},Pn={class:"top"},On={class:"left"},Nn={class:"bottom"},Un=["src"],Ln=["src"],jn={key:0,class:"pedding-fee"},Bn={class:"top"},qn={class:"left"},En={class:"bottom"},Dn=["src"],Fn={key:1,class:"poolInfo"},Wn={class:"pool-info-title"},Hn={class:"currentPrice"},Mn={key:0,class:"coin"},zn={key:1,class:"coin"},Gn={class:"toggle"},Kn=["src"],Qn=["src"],Xn={key:0},Yn={class:"info-block-container"},Zn={class:"info-block"},Jn={class:"leabl"},Vn={class:"text"},xn={class:"apr-hover-content"},os={class:"info-block"},es={class:"leabl"},ns={class:"text"},ss={class:"info-block"},is={class:"leabl"},as={class:"text"},ts={class:"info-block"},ls={class:"leabl"},rs={class:"text"},ds={class:"loading-global"};function us(o,f,O,E,k,_){const d=xo,I=jo,h=Lo,N=Ze,U=me,X=ve,S=ln,y=fe;return o.positionInfo?(p(),m("div",dn,[e("div",un,[e("div",cn,[b(d),(p(),m("svg",{"aria-hidden":"true",class:H(o.refresh?"refresh refresh-icon ":"refresh-icon"),onClick:f[0]||(f[0]=(...c)=>o.clickRefresh&&o.clickRefresh(...c))},fn,2))]),e("div",mn,[b(h,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",vn,[R(i(o.positionInfo.tokenName)+" ",1),(p(),m("svg",{class:"icon","aria-hidden":"true",onClick:f[1]||(f[1]=c=>o.index.copy(o.positionInfo.nftHash))},kn)),o.index&&o.index.chainName==="Aptos"?(p(),m("a",{key:0,href:`${o.config.explorerUrl}/token/${o.positionInfo.nftHash}/0?network=${o.config.network}`,target:"_blank"},gn,8,hn)):(p(),m("a",{key:1,href:`${o.config.explorerUrl}/object/${o.positionInfo.nftHash}?network=${o.config.network}`,target:"_blank"},yn,8,_n))]),e("div",$n,[b(I,{class:H(["remove-liquidity action-btn",o.positionInfo.poolInfo.is_pause?"text-default":""]),disabled:o.positionInfo.poolInfo.is_pause,onClick:o.toRemove},{default:w(()=>[Cn,R(" "+i(o.$t("button.remove")),1)]),_:1},8,["class","disabled","onClick"]),b(I,{class:"increase-liquidity action-btn",disabled:o.positionInfo.poolInfo.is_pause,onClick:o.toIncrease},{default:w(()=>[An,R(" "+i(o.$t("button.increase")),1)]),_:1},8,["disabled","onClick"])])]),_:1},8,["loading"])])]),e("div",Sn,[b(N,{"position-info":o.positionInfo},null,8,["position-info"])]),e("div",Tn,[(p(),ro(U,{key:0,"apr-title":o.aprTitle,"apr-rewards-date-list":o.aprRewardsDateList,"apr-rewards-parameter":o.aprRewardsParameter,"name-tab":"position","from-coin":o.fromCoin,"to-coin":o.toCoin,"pool-info":o.positionInfo.poolInfo,"min-price":o.positionInfo.minPrice,"max-price":o.positionInfo.maxPrice,onAprTab:o.aprTab},null,8,["apr-title","apr-rewards-date-list","apr-rewards-parameter","from-coin","to-coin","pool-info","min-price","max-price","onAprTab"]))]),e("div",Rn,[e("div",Pn,[e("div",On,[e("span",null,i(o.$t("newAdd.pendingFees")),1),e("p",null," $"+i(o.pools.currentPositionLoading||o.feeOwed=="--"?"--":Number(o.feeOwed)==0?0:Number(o.feeOwed)<.01?"<0.01":o.addCommom(o.feeOwed,2)),1)]),b(I,{class:"increase-liquidity action-btn",disabled:o.isLoading||!o.wallet.connected||!(Number(o.positionInfo&&o.positionInfo.feeOwedA)||Number(o.positionInfo&&o.positionInfo.feeOwedB))||o.positionInfo.poolInfo.is_pause,onClick:f[2]||(f[2]=c=>o.isShowClaim=!0)},{default:w(()=>[R(i(o.$t("common.claim")),1)]),_:1},8,["disabled"])]),b(h,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",Nn,[e("div",null,[e("img",{src:o.fromCoinUrl},null,8,Un),e("p",null,i(o.showNum(o.positionInfo.feeOwedA,o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_a&&o.positionInfo.token_a.symbol),1)]),e("div",null,[e("img",{src:o.toCoinUrl},null,8,Ln),e("p",null,i(o.showNum(o.positionInfo.feeOwedB,o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.decimals)),1),e("span",null,i(o.positionInfo&&o.positionInfo.token_b&&o.positionInfo.token_b.symbol),1)])])]),_:1},8,["loading"])]),o.positionInfo&&o.positionInfo.poolInfo&&o.positionInfo.poolInfo.rewarder_infos&&o.positionInfo.poolInfo.rewarder_infos.length>0&&o.positionInfo.poolInfo.is_display_rewarder&&o.pendingRewarderArr&&o.pendingRewarderArr.length>0?(p(),m("div",jn,[e("div",Bn,[e("div",qn,[e("span",null,i(o.$t("newAdd.pendingRewards")),1),e("p",null," $"+i(o.pendingRewarder=="--"?"--":Number(o.pendingRewarder)==0?0:Number(o.pendingRewarder)<.01?"<0.01":o.addCommom(o.pendingRewarder,2)),1)]),b(I,{class:"increase-liquidity action-btn",disabled:o.rewarderLoading||!o.wallet.connected||o.pendingRewarder<=0||o.positionInfo.poolInfo.is_pause,loading:o.rewarderLoading,onClick:o.toClaimRewards},{default:w(()=>[R(i(o.$t("common.claim")),1)]),_:1},8,["disabled","loading","onClick"])]),b(h,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[e("div",En,[(p(!0),m(ce,null,pe(o.pendingRewarderArr,c=>(p(),m("div",{key:c,class:H(Number(c==null?void 0:c.amount)==0?"reward-none":"")},[e("img",{src:c.logoURI,alt:""},null,8,Dn),e("p",null,i(Number(c.amount)),1),e("span",null,i(c.symbol),1)],2))),128))])]),_:1},8,["loading"])])):q("",!0),o.poolInfo?(p(),m("div",Fn,[e("div",Wn,i(o.$t("newAdd.poolInfo")),1),e("div",Hn,[b(h,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>{var c,$,l,D,n,v;return[o.direct?(p(),m("div",Mn,[e("span",null,i(o.$t("common.currentPrice")),1),R(" "+i(o.addCommom(o.decimalFormat(o.positionInfo.currentPrice,6),6))+" "+i((c=o.toCoin)==null?void 0:c.symbol)+" per "+i(($=o.fromCoin)==null?void 0:$.symbol),1)])):(p(),m("div",zn,[e("span",null,i(o.$t("common.currentPrice")),1),R(" "+i(o.addCommom(o.decimalFormat(1/o.positionInfo.currentPrice,6),6))+" "+i((l=o.fromCoin)==null?void 0:l.symbol)+" per "+i((D=o.toCoin)==null?void 0:D.symbol),1)])),e("div",Gn,[e("div",{class:H(o.direct?"item active-item":"item"),onClick:f[3]||(f[3]=z=>o.direct=!0)},[e("img",{src:o.fromCoinUrl,alt:""},null,8,Kn),R(" "+i(o.positionInfo&&o.positionInfo.token_a&&((n=o.positionInfo.token_a)==null?void 0:n.symbol)),1)],2),e("div",{class:H(o.direct?"item ":"item active-item"),onClick:f[4]||(f[4]=z=>o.direct=!1)},[e("img",{src:o.toCoinUrl,alt:""},null,8,Qn),R(" "+i(o.positionInfo&&o.positionInfo.token_b&&((v=o.positionInfo.token_b)==null?void 0:v.symbol)),1)],2)])]}),_:1},8,["loading"])]),b(h,{loading:o.pools.currentPositionLoading,active:"",paragraph:!1},{default:w(()=>[o.aprTotal&&o.liquidityTvl&&o.vol24?(p(),m("div",Xn,[e("div",Yn,[e("div",Zn,[e("div",Jn,i(o.$t("common.apr")),1),e("div",Vn,[R(i(o.aprTotal?o.addCommom(o.aprTotal.substring(0,o.aprTotal.length-1),2):0)+"% ",1),e("div",xn,[b(X,{class:H(o.isShow?"showHover apr-hover-con":"noHover apr-hover-con"),"l-item":{apr:o.apr,rewarder_apr:o.rewardAprList,aprTotal:o.aprTotal,is_display_rewarder:o.positionInfo.poolInfo.is_display_rewarder},"rewarder-info":o.rewarderArr},null,8,["class","l-item","rewarder-info"])])])]),e("div",os,[e("div",es,i(o.$t("common.liquidity")),1),e("div",ns,"$"+i(o.addCommom(o.liquidityTvl,2)),1)]),e("div",ss,[e("div",is,i(o.$t("common.volume24h")),1),e("div",as,"$"+i(o.addCommom(o.vol24,2)),1)]),e("div",ts,[e("div",ls,i(o.$t("newAdd.tickSpacing")),1),e("div",rs,i(o.positionInfo.tickSpacing),1)])])])):q("",!0)]),_:1},8,["loading"])])):q("",!0),o.isShowClaim?(p(),ro(S,{key:2,"is-loading":o.isLoading,"position-info":o.positionInfo,onOnClose:f[5]||(f[5]=c=>o.isShowClaim=!1),onToClaim:o.toClaim},null,8,["is-loading","position-info","onToClaim"])):q("",!0),de(e("div",ds,[b(y)],512),[[ue,o.pools.currentPositionLoading]])])):q("",!0)}const _s=vo(rn,[["render",us],["__scopeId","data-v-b97ec9fb"]]);export{_s as default};
